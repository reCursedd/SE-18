{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/328365657", "html_url": "https://github.com/tensorflow/tensorflow/issues/12911#issuecomment-328365657", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12911", "id": 328365657, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODM2NTY1Nw==", "user": {"login": "LukasDrude", "id": 1886882, "node_id": "MDQ6VXNlcjE4ODY4ODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1886882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasDrude", "html_url": "https://github.com/LukasDrude", "followers_url": "https://api.github.com/users/LukasDrude/followers", "following_url": "https://api.github.com/users/LukasDrude/following{/other_user}", "gists_url": "https://api.github.com/users/LukasDrude/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasDrude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasDrude/subscriptions", "organizations_url": "https://api.github.com/users/LukasDrude/orgs", "repos_url": "https://api.github.com/users/LukasDrude/repos", "events_url": "https://api.github.com/users/LukasDrude/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasDrude/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-10T19:27:12Z", "updated_at": "2017-09-10T19:27:12Z", "author_association": "NONE", "body_html": "<p>More details for reproduction:</p>\n<p>I run tensorflow <code>32ffc5a81eee8c39bbe71536212a773b1ffd4eb2</code>. But the related tensorflow code does not seem to have changed very recently.</p>\n<p>We only have access to cards with limited amount of memory (i.e. <code>totalMemory: 5.94GiB</code>). I have to consume a lot of memory in a different tensorflow session, to make this bug appear.</p>\n<p>To be more precise: It works, when there is not enough allocated, compare <code>freeMemory</code>:</p>\n<pre><code>name: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 226.75MiB\n...\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n</code></pre>\n<p>If I now allocate more (i.e. start yet another session):</p>\n<pre><code>name: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 149.75MiB\n...\ntest_op_32 [ -1.27668094e+38   2.91721193e-39   1.10202595e-38   3.42339542e+17] test_op_64 [ 2.  0.  2.  4.]\n</code></pre>", "body_text": "More details for reproduction:\nI run tensorflow 32ffc5a81eee8c39bbe71536212a773b1ffd4eb2. But the related tensorflow code does not seem to have changed very recently.\nWe only have access to cards with limited amount of memory (i.e. totalMemory: 5.94GiB). I have to consume a lot of memory in a different tensorflow session, to make this bug appear.\nTo be more precise: It works, when there is not enough allocated, compare freeMemory:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 226.75MiB\n...\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\n\nIf I now allocate more (i.e. start yet another session):\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\npciBusID: 0000:04:00.0\ntotalMemory: 3.94GiB freeMemory: 149.75MiB\n...\ntest_op_32 [ -1.27668094e+38   2.91721193e-39   1.10202595e-38   3.42339542e+17] test_op_64 [ 2.  0.  2.  4.]", "body": "More details for reproduction:\r\n\r\nI run tensorflow `32ffc5a81eee8c39bbe71536212a773b1ffd4eb2`. But the related tensorflow code does not seem to have changed very recently.\r\n\r\nWe only have access to cards with limited amount of memory (i.e. `totalMemory: 5.94GiB`). I have to consume a lot of memory in a different tensorflow session, to make this bug appear.\r\n\r\nTo be more precise: It works, when there is not enough allocated, compare `freeMemory`:\r\n```\r\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\r\npciBusID: 0000:04:00.0\r\ntotalMemory: 3.94GiB freeMemory: 226.75MiB\r\n...\r\ntest_op_32 [ 2.  0.  2.  4.] test_op_64 [ 2.  0.  2.  4.]\r\n```\r\n\r\nIf I now allocate more (i.e. start yet another session):\r\n```\r\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2785\r\npciBusID: 0000:04:00.0\r\ntotalMemory: 3.94GiB freeMemory: 149.75MiB\r\n...\r\ntest_op_32 [ -1.27668094e+38   2.91721193e-39   1.10202595e-38   3.42339542e+17] test_op_64 [ 2.  0.  2.  4.]\r\n```"}