{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/189788463", "html_url": "https://github.com/tensorflow/tensorflow/issues/808#issuecomment-189788463", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/808", "id": 189788463, "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTc4ODQ2Mw==", "user": {"login": "Mottotime", "id": 5654009, "node_id": "MDQ6VXNlcjU2NTQwMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5654009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mottotime", "html_url": "https://github.com/Mottotime", "followers_url": "https://api.github.com/users/Mottotime/followers", "following_url": "https://api.github.com/users/Mottotime/following{/other_user}", "gists_url": "https://api.github.com/users/Mottotime/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mottotime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mottotime/subscriptions", "organizations_url": "https://api.github.com/users/Mottotime/orgs", "repos_url": "https://api.github.com/users/Mottotime/repos", "events_url": "https://api.github.com/users/Mottotime/events{/privacy}", "received_events_url": "https://api.github.com/users/Mottotime/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-28T06:04:05Z", "updated_at": "2016-02-28T06:04:05Z", "author_association": "NONE", "body_html": "<p>I got a similar error with <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2293573\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ruffsl\">@ruffsl</a> on</p>\n<ul>\n<li>CentOS 7, Linux 3.10.0-327.10.1.el7.x86_64</li>\n<li>CUDA 7.5, GPU NVIDIA TESLA C2070, Driver Version: 352.79</li>\n<li>docker 1.10.2</li>\n<li>b.gcr.io/tensorflow/tensorflow   latest-devel-gpu or 0.7.1-devel-gpu</li>\n</ul>\n<pre><code>root@e09b51ed3473:~# python\nPython 2.7.6 (default, Jun 22 2015, 17:58:13)\n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: e09b51ed3473\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: Not found: was unable to find libcuda.so DSO loaded into this program\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.79  Wed Jan 13 16:17:53 PST 2016\nGCC version:  gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)\n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.79\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1051] LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1052] failed to find libcuda.so on this system: Failed precondition: could not dlopen DSO: libcuda.so.1; dlerror: libcuda.so.1: wrong ELF class: ELFCLASS32\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n</code></pre>\n<p>If I use nvidia-docker, the <code>import tensorflow as tf</code> can pass. But I got a segment-fault with tensorflow examples.</p>\n<pre><code>&gt;&gt; nvidia-docker run -ti b.gcr.io/tensorflow/tensorflow:0.7.1-devel-gpu sh -c \"python -m tensorflow.models.image.mnist.convolutional\"\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\nSegmentation fault (core dumped)\n</code></pre>\n<p>I am not sure whether this issue has been addressed.<br>\nWould anyone give me some advices?<br>\nThanks.</p>", "body_text": "I got a similar error with @ruffsl on\n\nCentOS 7, Linux 3.10.0-327.10.1.el7.x86_64\nCUDA 7.5, GPU NVIDIA TESLA C2070, Driver Version: 352.79\ndocker 1.10.2\nb.gcr.io/tensorflow/tensorflow   latest-devel-gpu or 0.7.1-devel-gpu\n\nroot@e09b51ed3473:~# python\nPython 2.7.6 (default, Jun 22 2015, 17:58:13)\n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: e09b51ed3473\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: Not found: was unable to find libcuda.so DSO loaded into this program\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.79  Wed Jan 13 16:17:53 PST 2016\nGCC version:  gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)\n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.79\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1051] LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1052] failed to find libcuda.so on this system: Failed precondition: could not dlopen DSO: libcuda.so.1; dlerror: libcuda.so.1: wrong ELF class: ELFCLASS32\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n\nIf I use nvidia-docker, the import tensorflow as tf can pass. But I got a segment-fault with tensorflow examples.\n>> nvidia-docker run -ti b.gcr.io/tensorflow/tensorflow:0.7.1-devel-gpu sh -c \"python -m tensorflow.models.image.mnist.convolutional\"\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\nSegmentation fault (core dumped)\n\nI am not sure whether this issue has been addressed.\nWould anyone give me some advices?\nThanks.", "body": "I got a similar error with @ruffsl on \n- CentOS 7, Linux 3.10.0-327.10.1.el7.x86_64\n- CUDA 7.5, GPU NVIDIA TESLA C2070, Driver Version: 352.79\n- docker 1.10.2\n- b.gcr.io/tensorflow/tensorflow   latest-devel-gpu or 0.7.1-devel-gpu\n\n```\nroot@e09b51ed3473:~# python\nPython 2.7.6 (default, Jun 22 2015, 17:58:13)\n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcuda.so.1. LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:121] hostname: e09b51ed3473\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:146] libcuda reported version is: Not found: was unable to find libcuda.so DSO loaded into this program\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:257] driver version file contents: \"\"\"NVRM version: NVIDIA UNIX x86_64 Kernel Module  352.79  Wed Jan 13 16:17:53 PST 2016\nGCC version:  gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC)\n\"\"\"\nI tensorflow/stream_executor/cuda/cuda_diagnostics.cc:150] kernel reported version is: 352.79\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1051] LD_LIBRARY_PATH: /usr/local/nvidia/lib:/usr/local/nvidia/lib64:\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1052] failed to find libcuda.so on this system: Failed precondition: could not dlopen DSO: libcuda.so.1; dlerror: libcuda.so.1: wrong ELF class: ELFCLASS32\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n```\n\nIf I use nvidia-docker, the `import tensorflow as tf` can pass. But I got a segment-fault with tensorflow examples.\n\n```\n>> nvidia-docker run -ti b.gcr.io/tensorflow/tensorflow:0.7.1-devel-gpu sh -c \"python -m tensorflow.models.image.mnist.convolutional\"\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\nExtracting data/train-images-idx3-ubyte.gz\nExtracting data/train-labels-idx1-ubyte.gz\nExtracting data/t10k-images-idx3-ubyte.gz\nExtracting data/t10k-labels-idx1-ubyte.gz\nSegmentation fault (core dumped)\n```\n\nI am not sure whether this issue has been addressed. \nWould anyone give me some advices?\nThanks.\n"}