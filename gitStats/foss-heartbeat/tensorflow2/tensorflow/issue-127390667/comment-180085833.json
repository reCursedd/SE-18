{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/180085833", "html_url": "https://github.com/tensorflow/tensorflow/issues/808#issuecomment-180085833", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/808", "id": 180085833, "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDA4NTgzMw==", "user": {"login": "3XX0", "id": 3028125, "node_id": "MDQ6VXNlcjMwMjgxMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3028125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3XX0", "html_url": "https://github.com/3XX0", "followers_url": "https://api.github.com/users/3XX0/followers", "following_url": "https://api.github.com/users/3XX0/following{/other_user}", "gists_url": "https://api.github.com/users/3XX0/gists{/gist_id}", "starred_url": "https://api.github.com/users/3XX0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3XX0/subscriptions", "organizations_url": "https://api.github.com/users/3XX0/orgs", "repos_url": "https://api.github.com/users/3XX0/repos", "events_url": "https://api.github.com/users/3XX0/events{/privacy}", "received_events_url": "https://api.github.com/users/3XX0/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-04T22:41:20Z", "updated_at": "2016-02-04T22:41:20Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2293573\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ruffsl\">@ruffsl</a> I suppose you used <code>nvidia-docker</code> given your paths.</p>\n<p>I quickly looked at the Tensorflow code, the <a href=\"https://github.com/tensorflow/tensorflow/blob/97f585d506cccc57dc98f234f4d5fcd824dd3c03/tensorflow/stream_executor/dso_loader.cc#L71-L75\">DsoLoader</a> tries to find <code>libcuda</code> in <code>third_party/gpus/cuda/driver/lib64</code>. Not sure how it is supposed to end up there, but <code>libcuda</code> is not part of the CUDA toolkit so you can't rely on the standard CUDA path to find it.<br>\nIn the case of <code>nvidia-docker</code> it is mounted at runtime in <code>/usr/local/nvidia/</code>, you will need to add this location into the third_party search script.</p>", "body_text": "@ruffsl I suppose you used nvidia-docker given your paths.\nI quickly looked at the Tensorflow code, the DsoLoader tries to find libcuda in third_party/gpus/cuda/driver/lib64. Not sure how it is supposed to end up there, but libcuda is not part of the CUDA toolkit so you can't rely on the standard CUDA path to find it.\nIn the case of nvidia-docker it is mounted at runtime in /usr/local/nvidia/, you will need to add this location into the third_party search script.", "body": "@ruffsl I suppose you used `nvidia-docker` given your paths.\n\nI quickly looked at the Tensorflow code, the [DsoLoader](https://github.com/tensorflow/tensorflow/blob/97f585d506cccc57dc98f234f4d5fcd824dd3c03/tensorflow/stream_executor/dso_loader.cc#L71-L75) tries to find `libcuda` in `third_party/gpus/cuda/driver/lib64`. Not sure how it is supposed to end up there, but `libcuda` is not part of the CUDA toolkit so you can't rely on the standard CUDA path to find it.\nIn the case of `nvidia-docker` it is mounted at runtime in `/usr/local/nvidia/`, you will need to add this location into the third_party search script.\n"}