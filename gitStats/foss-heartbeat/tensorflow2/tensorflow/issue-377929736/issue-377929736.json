{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23559", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23559/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23559/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23559/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23559", "id": 377929736, "node_id": "MDU6SXNzdWUzNzc5Mjk3MzY=", "number": 23559, "title": "Unenforce StreamHandler in tf_logging", "user": {"login": "harahu", "id": 6145801, "node_id": "MDQ6VXNlcjYxNDU4MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6145801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harahu", "html_url": "https://github.com/harahu", "followers_url": "https://api.github.com/users/harahu/followers", "following_url": "https://api.github.com/users/harahu/following{/other_user}", "gists_url": "https://api.github.com/users/harahu/gists{/gist_id}", "starred_url": "https://api.github.com/users/harahu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harahu/subscriptions", "organizations_url": "https://api.github.com/users/harahu/orgs", "repos_url": "https://api.github.com/users/harahu/repos", "events_url": "https://api.github.com/users/harahu/events{/privacy}", "received_events_url": "https://api.github.com/users/harahu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-11-06T16:32:11Z", "updated_at": "2018-11-22T19:36:37Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>TensorFlow version (you are using): 1.12</li>\n<li>Are you willing to contribute it (Yes/No): Yes</li>\n</ul>\n<p><strong>Describe the feature and the current behavior/state.</strong><br>\nCurrently the tf_logging API will always add its own StreamHandler to the tensorflow logger (see: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/tf_logging.py#L121-L124\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/tf_logging.py#L121-L124</a>). According to the <a href=\"https://docs.python.org/3/howto/logging.html#configuring-logging-for-a-library\" rel=\"nofollow\">Python logging documentation</a> this is discouraged:</p>\n<blockquote>\n<p><strong>Note:</strong> It is strongly advised that you do not add any handlers other than NullHandler to your library\u2019s loggers. This is because the configuration of handlers is the prerogative of the application developer who uses your library. The application developer knows their target audience and what handlers are most appropriate for their application: if you add handlers \u2018under the hood\u2019, you might well interfere with their ability to carry out unit tests and deliver logs which suit their requirements.</p>\n</blockquote>\n<p><strong>Will this change the current api? How?</strong><br>\nIf some optional configuration parameter is added to not use the StreamHandler, this does not need to affect how the tf_logging API is used today.</p>\n<p><strong>Who will benefit with this feature?</strong><br>\nAny developer (like myself) that work on complex projects where tensorflow is not the only component that performs logging. I want to propagate tensorflow LogRecords to a handler at the root logger object, so that I might decide myself how best to print them or save them.</p>", "body_text": "System information\n\nTensorFlow version (you are using): 1.12\nAre you willing to contribute it (Yes/No): Yes\n\nDescribe the feature and the current behavior/state.\nCurrently the tf_logging API will always add its own StreamHandler to the tensorflow logger (see: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/tf_logging.py#L121-L124). According to the Python logging documentation this is discouraged:\n\nNote: It is strongly advised that you do not add any handlers other than NullHandler to your library\u2019s loggers. This is because the configuration of handlers is the prerogative of the application developer who uses your library. The application developer knows their target audience and what handlers are most appropriate for their application: if you add handlers \u2018under the hood\u2019, you might well interfere with their ability to carry out unit tests and deliver logs which suit their requirements.\n\nWill this change the current api? How?\nIf some optional configuration parameter is added to not use the StreamHandler, this does not need to affect how the tf_logging API is used today.\nWho will benefit with this feature?\nAny developer (like myself) that work on complex projects where tensorflow is not the only component that performs logging. I want to propagate tensorflow LogRecords to a handler at the root logger object, so that I might decide myself how best to print them or save them.", "body": "**System information**\r\n- TensorFlow version (you are using): 1.12\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently the tf_logging API will always add its own StreamHandler to the tensorflow logger (see: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/tf_logging.py#L121-L124). According to the [Python logging documentation](https://docs.python.org/3/howto/logging.html#configuring-logging-for-a-library) this is discouraged:\r\n\r\n> **Note:** It is strongly advised that you do not add any handlers other than NullHandler to your library\u2019s loggers. This is because the configuration of handlers is the prerogative of the application developer who uses your library. The application developer knows their target audience and what handlers are most appropriate for their application: if you add handlers \u2018under the hood\u2019, you might well interfere with their ability to carry out unit tests and deliver logs which suit their requirements. \r\n\r\n**Will this change the current api? How?**\r\nIf some optional configuration parameter is added to not use the StreamHandler, this does not need to affect how the tf_logging API is used today.\r\n\r\n**Who will benefit with this feature?**\r\nAny developer (like myself) that work on complex projects where tensorflow is not the only component that performs logging. I want to propagate tensorflow LogRecords to a handler at the root logger object, so that I might decide myself how best to print them or save them."}