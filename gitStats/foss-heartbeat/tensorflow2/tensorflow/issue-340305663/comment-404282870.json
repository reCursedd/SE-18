{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/404282870", "html_url": "https://github.com/tensorflow/tensorflow/issues/20701#issuecomment-404282870", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20701", "id": 404282870, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDI4Mjg3MA==", "user": {"login": "jjallaire", "id": 104391, "node_id": "MDQ6VXNlcjEwNDM5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/104391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjallaire", "html_url": "https://github.com/jjallaire", "followers_url": "https://api.github.com/users/jjallaire/followers", "following_url": "https://api.github.com/users/jjallaire/following{/other_user}", "gists_url": "https://api.github.com/users/jjallaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjallaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjallaire/subscriptions", "organizations_url": "https://api.github.com/users/jjallaire/orgs", "repos_url": "https://api.github.com/users/jjallaire/repos", "events_url": "https://api.github.com/users/jjallaire/events{/privacy}", "received_events_url": "https://api.github.com/users/jjallaire/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-11T19:25:05Z", "updated_at": "2018-07-11T19:25:05Z", "author_association": "NONE", "body_html": "<p>Interesting. To test whether the R interface might be leaving an error set before calling I added a pre-emptive call to <code>PyErr_Clear()</code> right before we call <code>PyObject_CallFunctionObjArgs()</code>. Unfortunately the error is still occurring so it may be that there is a Python error occurring somewhere within the call to <code>TFE_Py_FastPathExecute</code>.</p>\n<p>So this particular error condition could be somewhat of a red herring: i.e. there is an error occurring during execution b/c some precondition is not met when calling via the C API but we don't see it.</p>\n<p>Looking at the code for <code>TFE_Py_FastPathExecute()</code> (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/eager/pywrap_tfe_src.cc#L2232\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/eager/pywrap_tfe_src.cc#L2232</a>) there are lots of reasons an error might occur but I don't have any intuition about which of these might only be tickled when calling a Python op via the C API as opposed to the Python interpreter.</p>", "body_text": "Interesting. To test whether the R interface might be leaving an error set before calling I added a pre-emptive call to PyErr_Clear() right before we call PyObject_CallFunctionObjArgs(). Unfortunately the error is still occurring so it may be that there is a Python error occurring somewhere within the call to TFE_Py_FastPathExecute.\nSo this particular error condition could be somewhat of a red herring: i.e. there is an error occurring during execution b/c some precondition is not met when calling via the C API but we don't see it.\nLooking at the code for TFE_Py_FastPathExecute() (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/eager/pywrap_tfe_src.cc#L2232) there are lots of reasons an error might occur but I don't have any intuition about which of these might only be tickled when calling a Python op via the C API as opposed to the Python interpreter.", "body": "Interesting. To test whether the R interface might be leaving an error set before calling I added a pre-emptive call to `PyErr_Clear()` right before we call `PyObject_CallFunctionObjArgs()`. Unfortunately the error is still occurring so it may be that there is a Python error occurring somewhere within the call to `TFE_Py_FastPathExecute`.\r\n\r\nSo this particular error condition could be somewhat of a red herring: i.e. there is an error occurring during execution b/c some precondition is not met when calling via the C API but we don't see it. \r\n\r\nLooking at the code for `TFE_Py_FastPathExecute()` (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/eager/pywrap_tfe_src.cc#L2232) there are lots of reasons an error might occur but I don't have any intuition about which of these might only be tickled when calling a Python op via the C API as opposed to the Python interpreter.\r\n\r\n\r\n"}