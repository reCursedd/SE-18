{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/342379150", "html_url": "https://github.com/tensorflow/tensorflow/issues/14303#issuecomment-342379150", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14303", "id": 342379150, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjM3OTE1MA==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T05:24:37Z", "updated_at": "2017-11-07T05:33:08Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>This is unexpected because all other metrics simply need predictions and labels.</p>\n</blockquote>\n<p>It seems not true, see <code>tf.metrics.recall_at_k(labels, predictions, k)</code> and <code> tf.metrics.mean(values)</code></p>\n<p>Perhaps curried function is a better design for <code>tf.metrics</code>, for example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">xxx_metrics</span>(<span class=\"pl-smi\">a</span>, <span class=\"pl-smi\">b</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>):\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">fn</span>(<span class=\"pl-smi\">label</span>, <span class=\"pl-smi\">prediction</span>):\n        <span class=\"pl-c\"><span class=\"pl-c\">#</span> do something</span>\n<span class=\"pl-k\">return</span> fn</pre></div>", "body_text": "This is unexpected because all other metrics simply need predictions and labels.\n\nIt seems not true, see tf.metrics.recall_at_k(labels, predictions, k) and  tf.metrics.mean(values)\nPerhaps curried function is a better design for tf.metrics, for example:\ndef xxx_metrics(a, b=None):\n    def fn(label, prediction):\n        # do something\nreturn fn", "body": "> This is unexpected because all other metrics simply need predictions and labels. \r\n\r\nIt seems not true, see `tf.metrics.recall_at_k(labels, predictions, k)` and ` tf.metrics.mean(values)`\r\n\r\nPerhaps curried function is a better design for `tf.metrics`, for example:\r\n```python\r\ndef xxx_metrics(a, b=None):\r\n    def fn(label, prediction):\r\n        # do something\r\nreturn fn\r\n```"}