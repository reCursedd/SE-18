{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/232423120", "html_url": "https://github.com/tensorflow/tensorflow/issues/1300#issuecomment-232423120", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1300", "id": 232423120, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjQyMzEyMA==", "user": {"login": "sbrodehl", "id": 7113492, "node_id": "MDQ6VXNlcjcxMTM0OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7113492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbrodehl", "html_url": "https://github.com/sbrodehl", "followers_url": "https://api.github.com/users/sbrodehl/followers", "following_url": "https://api.github.com/users/sbrodehl/following{/other_user}", "gists_url": "https://api.github.com/users/sbrodehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbrodehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbrodehl/subscriptions", "organizations_url": "https://api.github.com/users/sbrodehl/orgs", "repos_url": "https://api.github.com/users/sbrodehl/repos", "events_url": "https://api.github.com/users/sbrodehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sbrodehl/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-13T17:13:46Z", "updated_at": "2016-07-13T17:13:46Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Thanks for work done here!</p>\n<p>I am not sure what hardware <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15474222\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alexatknit\">@alexatknit</a> uses, but I can confirm the slow speed on a 1080 using CUDA 8 and cuDNN 5.0:<br>\nfp16</p>\n<pre><code>cifar10_train.py --use_fp16\n2016-07-13 18:50:51.374002: step 0, loss = 4.66 (8.8 examples/sec; 14.572 sec/batch)\n2016-07-13 18:51:00.050748: step 10, loss = 4.62 (173.7 examples/sec; 0.737 sec/batch)\n2016-07-13 18:51:07.455344: step 20, loss = 4.47 (172.1 examples/sec; 0.744 sec/batch)\n2016-07-13 18:51:14.891447: step 30, loss = 4.52 (172.7 examples/sec; 0.741 sec/batch)\n</code></pre>\n<p>vs. fp32</p>\n<pre><code>cifar10_train.py\n2016-07-13 18:51:38.791134: step 0, loss = 4.67 (9.2 examples/sec; 13.928 sec/batch)\n2016-07-13 18:51:41.009791: step 10, loss = 4.62 (845.5 examples/sec; 0.151 sec/batch)\n2016-07-13 18:51:42.653312: step 20, loss = 4.52 (785.7 examples/sec; 0.163 sec/batch)\n2016-07-13 18:51:44.270884: step 30, loss = 4.42 (792.6 examples/sec; 0.161 sec/batch)\n</code></pre>\n<p>What need's to be done to make this fast?</p>", "body_text": "Thanks for work done here!\nI am not sure what hardware @alexatknit uses, but I can confirm the slow speed on a 1080 using CUDA 8 and cuDNN 5.0:\nfp16\ncifar10_train.py --use_fp16\n2016-07-13 18:50:51.374002: step 0, loss = 4.66 (8.8 examples/sec; 14.572 sec/batch)\n2016-07-13 18:51:00.050748: step 10, loss = 4.62 (173.7 examples/sec; 0.737 sec/batch)\n2016-07-13 18:51:07.455344: step 20, loss = 4.47 (172.1 examples/sec; 0.744 sec/batch)\n2016-07-13 18:51:14.891447: step 30, loss = 4.52 (172.7 examples/sec; 0.741 sec/batch)\n\nvs. fp32\ncifar10_train.py\n2016-07-13 18:51:38.791134: step 0, loss = 4.67 (9.2 examples/sec; 13.928 sec/batch)\n2016-07-13 18:51:41.009791: step 10, loss = 4.62 (845.5 examples/sec; 0.151 sec/batch)\n2016-07-13 18:51:42.653312: step 20, loss = 4.52 (785.7 examples/sec; 0.163 sec/batch)\n2016-07-13 18:51:44.270884: step 30, loss = 4.42 (792.6 examples/sec; 0.161 sec/batch)\n\nWhat need's to be done to make this fast?", "body": "Thanks for work done here!\n\nI am not sure what hardware @alexatknit uses, but I can confirm the slow speed on a 1080 using CUDA 8 and cuDNN 5.0:\nfp16\n\n```\ncifar10_train.py --use_fp16\n2016-07-13 18:50:51.374002: step 0, loss = 4.66 (8.8 examples/sec; 14.572 sec/batch)\n2016-07-13 18:51:00.050748: step 10, loss = 4.62 (173.7 examples/sec; 0.737 sec/batch)\n2016-07-13 18:51:07.455344: step 20, loss = 4.47 (172.1 examples/sec; 0.744 sec/batch)\n2016-07-13 18:51:14.891447: step 30, loss = 4.52 (172.7 examples/sec; 0.741 sec/batch)\n```\n\nvs. fp32\n\n```\ncifar10_train.py\n2016-07-13 18:51:38.791134: step 0, loss = 4.67 (9.2 examples/sec; 13.928 sec/batch)\n2016-07-13 18:51:41.009791: step 10, loss = 4.62 (845.5 examples/sec; 0.151 sec/batch)\n2016-07-13 18:51:42.653312: step 20, loss = 4.52 (785.7 examples/sec; 0.163 sec/batch)\n2016-07-13 18:51:44.270884: step 30, loss = 4.42 (792.6 examples/sec; 0.161 sec/batch)\n```\n\nWhat need's to be done to make this fast?\n"}