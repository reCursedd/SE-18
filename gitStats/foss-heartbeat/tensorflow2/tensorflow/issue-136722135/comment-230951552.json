{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/230951552", "html_url": "https://github.com/tensorflow/tensorflow/issues/1300#issuecomment-230951552", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1300", "id": 230951552, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDk1MTU1Mg==", "user": {"login": "alexatknit", "id": 15474222, "node_id": "MDQ6VXNlcjE1NDc0MjIy", "avatar_url": "https://avatars2.githubusercontent.com/u/15474222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexatknit", "html_url": "https://github.com/alexatknit", "followers_url": "https://api.github.com/users/alexatknit/followers", "following_url": "https://api.github.com/users/alexatknit/following{/other_user}", "gists_url": "https://api.github.com/users/alexatknit/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexatknit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexatknit/subscriptions", "organizations_url": "https://api.github.com/users/alexatknit/orgs", "repos_url": "https://api.github.com/users/alexatknit/repos", "events_url": "https://api.github.com/users/alexatknit/events{/privacy}", "received_events_url": "https://api.github.com/users/alexatknit/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-07T01:03:19Z", "updated_at": "2016-07-07T01:03:19Z", "author_association": "NONE", "body_html": "<p>It looks like fp16 is very slow:</p>\n<pre><code>Alexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py --use_fp16\n&gt;&gt; Downloading cifar-10-binary.tar.gz 100.0%\nSuccessfully downloaded cifar-10-binary.tar.gz 170052171 bytes.\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 17:54:28.997546: step 0, loss = 2.54 (2.5 examples/sec; 50.208 sec/batch)\n2016-07-06 18:01:15.998456: step 10, loss = 2.49 (3.7 examples/sec; 34.673 sec/batch)\n...\n</code></pre>\n<p>vs fp32:</p>\n<pre><code>Alexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 18:02:25.860620: step 0, loss = 4.67 (18.9 examples/sec; 6.789 sec/batch)\n2016-07-06 18:02:35.978002: step 10, loss = 4.63 (122.8 examples/sec; 1.042 sec/batch)\n2016-07-06 18:02:44.049841: step 20, loss = 4.48 (150.6 examples/sec; 0.850 sec/batch)\n...\n</code></pre>", "body_text": "It looks like fp16 is very slow:\nAlexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py --use_fp16\n>> Downloading cifar-10-binary.tar.gz 100.0%\nSuccessfully downloaded cifar-10-binary.tar.gz 170052171 bytes.\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 17:54:28.997546: step 0, loss = 2.54 (2.5 examples/sec; 50.208 sec/batch)\n2016-07-06 18:01:15.998456: step 10, loss = 2.49 (3.7 examples/sec; 34.673 sec/batch)\n...\n\nvs fp32:\nAlexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 18:02:25.860620: step 0, loss = 4.67 (18.9 examples/sec; 6.789 sec/batch)\n2016-07-06 18:02:35.978002: step 10, loss = 4.63 (122.8 examples/sec; 1.042 sec/batch)\n2016-07-06 18:02:44.049841: step 20, loss = 4.48 (150.6 examples/sec; 0.850 sec/batch)\n...", "body": "It looks like fp16 is very slow:\n\n```\nAlexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py --use_fp16\n>> Downloading cifar-10-binary.tar.gz 100.0%\nSuccessfully downloaded cifar-10-binary.tar.gz 170052171 bytes.\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 17:54:28.997546: step 0, loss = 2.54 (2.5 examples/sec; 50.208 sec/batch)\n2016-07-06 18:01:15.998456: step 10, loss = 2.49 (3.7 examples/sec; 34.673 sec/batch)\n...\n```\n\nvs fp32:\n\n```\nAlexs-MacBook-Pro:~ alexatknit$ python3 tensorflow/tensorflow/models/image/cifar10/cifar10_train.py\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n2016-07-06 18:02:25.860620: step 0, loss = 4.67 (18.9 examples/sec; 6.789 sec/batch)\n2016-07-06 18:02:35.978002: step 10, loss = 4.63 (122.8 examples/sec; 1.042 sec/batch)\n2016-07-06 18:02:44.049841: step 20, loss = 4.48 (150.6 examples/sec; 0.850 sec/batch)\n...\n```\n"}