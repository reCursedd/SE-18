{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8925", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8925/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8925/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8925/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8925", "id": 218954531, "node_id": "MDU6SXNzdWUyMTg5NTQ1MzE=", "number": 8925, "title": "RuntimeError when executing models/tutorials/image/cifar10/cifar10_train.py", "user": {"login": "Evan-Gao", "id": 23121591, "node_id": "MDQ6VXNlcjIzMTIxNTkx", "avatar_url": "https://avatars3.githubusercontent.com/u/23121591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Evan-Gao", "html_url": "https://github.com/Evan-Gao", "followers_url": "https://api.github.com/users/Evan-Gao/followers", "following_url": "https://api.github.com/users/Evan-Gao/following{/other_user}", "gists_url": "https://api.github.com/users/Evan-Gao/gists{/gist_id}", "starred_url": "https://api.github.com/users/Evan-Gao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Evan-Gao/subscriptions", "organizations_url": "https://api.github.com/users/Evan-Gao/orgs", "repos_url": "https://api.github.com/users/Evan-Gao/repos", "events_url": "https://api.github.com/users/Evan-Gao/events{/privacy}", "received_events_url": "https://api.github.com/users/Evan-Gao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-03T14:37:38Z", "updated_at": "2017-04-04T18:22:06Z", "closed_at": "2017-04-04T03:06:11Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu Server 16.04LTS</p>\n<p>Installed version of CUDA and cuDNN:<br>\nCUDA 8.0 cuDNN 5.1<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nls -l /usr/local/cuda/lib64/libcud*<br>\n-rw-r--r-- 1 root root   560184 Mar  7 09:54 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root       19 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.27<br>\n-rwxr-xr-x 1 root root   394472 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0.27<br>\n-rw-r--r-- 1 root root   737516 Mar  7 09:54 /usr/local/cuda/lib64/libcudart_static.a<br>\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so<br>\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5<br>\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5.1.10<br>\n-rw-r--r-- 1 root root 70364814 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn_static.a</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:<br>\n<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp27-none-linux_x86_64.whl</a></li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally<br>\n1.0.1</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>I followed this <a href=\"https://www.tensorflow.org/tutorials/deep_cnn#launching_and_training_the_model\" rel=\"nofollow\">tutorial</a> to launch the model:</p>\n<pre><code>python cifar10_train.py\n</code></pre>\n<h3>Logs or other output that would be helpful</h3>\n<pre><code>Traceback (most recent call last):\n  File \"cifar10_train.py\", line 124, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"cifar10_train.py\", line 120, in main\n    train()\n  File \"cifar10_train.py\", line 110, in train\n    log_device_placement=FLAGS.log_device_placement)) as mon_sess:\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 315, in MonitoredTrainingSession\n    return MonitoredSession(session_creator=session_creator, hooks=all_hooks)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 601, in __init__\n    session_creator, hooks, should_recover=True)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 434, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 767, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 772, in _create_session\n    return self._sess_creator.create_session()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 494, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 375, in create_session\n    init_fn=self._scaffold.init_fn)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 272, in prepare_session\n    msg))\nRuntimeError: Init operations did not make model ready for local_init.  Init op: group_deps, init fn: None, error: Variables not initialized: global_step, conv1/weights, conv1/biases, conv2/weights, conv2/biases, local3/weights, local3/biases, local4/weights, local4/biases, softmax_linear/weights, softmax_linear/biases, conv1/weight_loss/avg, conv2/weight_loss/avg, local3/weight_loss/avg, local4/weight_loss/avg, softmax_linear/weight_loss/avg, cross_entropy/avg, total_loss/avg, conv1/weights/ExponentialMovingAverage, conv1/biases/ExponentialMovingAverage, conv2/weights/ExponentialMovingAverage, conv2/biases/ExponentialMovingAverage, local3/weights/ExponentialMovingAverage, local3/biases/ExponentialMovingAverage, local4/weights/ExponentialMovingAverage, local4/biases/ExponentialMovingAverage, softmax_linear/weights/ExponentialMovingAverage, softmax_linear/biases/ExponentialMovingAverage\n</code></pre>", "body_text": "Environment info\nOperating System:\nUbuntu Server 16.04LTS\nInstalled version of CUDA and cuDNN:\nCUDA 8.0 cuDNN 5.1\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   560184 Mar  7 09:54 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\n-rwxr-xr-x 1 root root   394472 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0.27\n-rw-r--r-- 1 root root   737516 Mar  7 09:54 /usr/local/cuda/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5.1.10\n-rw-r--r-- 1 root root 70364814 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp27-none-linux_x86_64.whl\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\n1.0.1\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nI followed this tutorial to launch the model:\npython cifar10_train.py\n\nLogs or other output that would be helpful\nTraceback (most recent call last):\n  File \"cifar10_train.py\", line 124, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"cifar10_train.py\", line 120, in main\n    train()\n  File \"cifar10_train.py\", line 110, in train\n    log_device_placement=FLAGS.log_device_placement)) as mon_sess:\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 315, in MonitoredTrainingSession\n    return MonitoredSession(session_creator=session_creator, hooks=all_hooks)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 601, in __init__\n    session_creator, hooks, should_recover=True)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 434, in __init__\n    self._sess = _RecoverableSession(self._coordinated_creator)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 767, in __init__\n    _WrappedSession.__init__(self, self._create_session())\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 772, in _create_session\n    return self._sess_creator.create_session()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 494, in create_session\n    self.tf_sess = self._session_creator.create_session()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 375, in create_session\n    init_fn=self._scaffold.init_fn)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 272, in prepare_session\n    msg))\nRuntimeError: Init operations did not make model ready for local_init.  Init op: group_deps, init fn: None, error: Variables not initialized: global_step, conv1/weights, conv1/biases, conv2/weights, conv2/biases, local3/weights, local3/biases, local4/weights, local4/biases, softmax_linear/weights, softmax_linear/biases, conv1/weight_loss/avg, conv2/weight_loss/avg, local3/weight_loss/avg, local4/weight_loss/avg, softmax_linear/weight_loss/avg, cross_entropy/avg, total_loss/avg, conv1/weights/ExponentialMovingAverage, conv1/biases/ExponentialMovingAverage, conv2/weights/ExponentialMovingAverage, conv2/biases/ExponentialMovingAverage, local3/weights/ExponentialMovingAverage, local3/biases/ExponentialMovingAverage, local4/weights/ExponentialMovingAverage, local4/biases/ExponentialMovingAverage, softmax_linear/weights/ExponentialMovingAverage, softmax_linear/biases/ExponentialMovingAverage", "body": "### Environment info\r\nOperating System:\r\nUbuntu Server 16.04LTS\r\n\r\nInstalled version of CUDA and cuDNN: \r\nCUDA 8.0 cuDNN 5.1\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\nls -l /usr/local/cuda/lib64/libcud*\r\n-rw-r--r-- 1 root root   560184 Mar  7 09:54 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.27\r\n-rwxr-xr-x 1 root root   394472 Mar  7 09:54 /usr/local/cuda/lib64/libcudart.so.8.0.27\r\n-rw-r--r-- 1 root root   737516 Mar  7 09:54 /usr/local/cuda/lib64/libcudart_static.a\r\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so\r\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5\r\n-rwxr-xr-x 1 root root 84163560 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn.so.5.1.10\r\n-rw-r--r-- 1 root root 70364814 Mar  9 03:26 /usr/local/cuda/lib64/libcudnn_static.a\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp27-none-linux_x86_64.whl\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\n1.0.1\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nI followed this [tutorial](https://www.tensorflow.org/tutorials/deep_cnn#launching_and_training_the_model) to launch the model:\r\n```\r\npython cifar10_train.py\r\n```\r\n\r\n### Logs or other output that would be helpful\r\n```\r\nTraceback (most recent call last):\r\n  File \"cifar10_train.py\", line 124, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"cifar10_train.py\", line 120, in main\r\n    train()\r\n  File \"cifar10_train.py\", line 110, in train\r\n    log_device_placement=FLAGS.log_device_placement)) as mon_sess:\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 315, in MonitoredTrainingSession\r\n    return MonitoredSession(session_creator=session_creator, hooks=all_hooks)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 601, in __init__\r\n    session_creator, hooks, should_recover=True)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 434, in __init__\r\n    self._sess = _RecoverableSession(self._coordinated_creator)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 767, in __init__\r\n    _WrappedSession.__init__(self, self._create_session())\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 772, in _create_session\r\n    return self._sess_creator.create_session()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 494, in create_session\r\n    self.tf_sess = self._session_creator.create_session()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/monitored_session.py\", line 375, in create_session\r\n    init_fn=self._scaffold.init_fn)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/session_manager.py\", line 272, in prepare_session\r\n    msg))\r\nRuntimeError: Init operations did not make model ready for local_init.  Init op: group_deps, init fn: None, error: Variables not initialized: global_step, conv1/weights, conv1/biases, conv2/weights, conv2/biases, local3/weights, local3/biases, local4/weights, local4/biases, softmax_linear/weights, softmax_linear/biases, conv1/weight_loss/avg, conv2/weight_loss/avg, local3/weight_loss/avg, local4/weight_loss/avg, softmax_linear/weight_loss/avg, cross_entropy/avg, total_loss/avg, conv1/weights/ExponentialMovingAverage, conv1/biases/ExponentialMovingAverage, conv2/weights/ExponentialMovingAverage, conv2/biases/ExponentialMovingAverage, local3/weights/ExponentialMovingAverage, local3/biases/ExponentialMovingAverage, local4/weights/ExponentialMovingAverage, local4/biases/ExponentialMovingAverage, softmax_linear/weights/ExponentialMovingAverage, softmax_linear/biases/ExponentialMovingAverage\r\n```"}