{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/360", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/360/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/360/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/360", "id": 119009957, "node_id": "MDU6SXNzdWUxMTkwMDk5NTc=", "number": 360, "title": "Warn when calling session.run() on a very large scatter", "user": {"login": "bdaskalov", "id": 2833552, "node_id": "MDQ6VXNlcjI4MzM1NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2833552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdaskalov", "html_url": "https://github.com/bdaskalov", "followers_url": "https://api.github.com/users/bdaskalov/followers", "following_url": "https://api.github.com/users/bdaskalov/following{/other_user}", "gists_url": "https://api.github.com/users/bdaskalov/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdaskalov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdaskalov/subscriptions", "organizations_url": "https://api.github.com/users/bdaskalov/orgs", "repos_url": "https://api.github.com/users/bdaskalov/repos", "events_url": "https://api.github.com/users/bdaskalov/events{/privacy}", "received_events_url": "https://api.github.com/users/bdaskalov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-11-26T10:02:45Z", "updated_at": "2018-02-08T22:28:14Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Scatter ops output a ref to the whole tensor for easier chaining. The problem is if one executes the op directly in Session.run() the whole tensor is copied back as a numpy array. This can create very annoying and hard to find performance problems. I think you should consider adding a warning.</p>\n<p>For example:<br>\nlarge_table = tf.Variable(... [1000000, 3])<br>\nset3_op = tf.scatter_update(large_table, 3, [1,2,3])</p>\n<p>session.run([set3_op])</p>\n<p>Here run() modifies just 3 elements of the table but returns the whole table as a numpy array that is then<br>\nignored.</p>", "body_text": "Scatter ops output a ref to the whole tensor for easier chaining. The problem is if one executes the op directly in Session.run() the whole tensor is copied back as a numpy array. This can create very annoying and hard to find performance problems. I think you should consider adding a warning.\nFor example:\nlarge_table = tf.Variable(... [1000000, 3])\nset3_op = tf.scatter_update(large_table, 3, [1,2,3])\nsession.run([set3_op])\nHere run() modifies just 3 elements of the table but returns the whole table as a numpy array that is then\nignored.", "body": "Scatter ops output a ref to the whole tensor for easier chaining. The problem is if one executes the op directly in Session.run() the whole tensor is copied back as a numpy array. This can create very annoying and hard to find performance problems. I think you should consider adding a warning.\n\nFor example:\nlarge_table = tf.Variable(... [1000000, 3])\nset3_op = tf.scatter_update(large_table, 3, [1,2,3])\n\nsession.run([set3_op])\n\nHere run() modifies just 3 elements of the table but returns the whole table as a numpy array that is then \nignored.\n"}