{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23586", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23586/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23586/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23586/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23586", "id": 378296039, "node_id": "MDU6SXNzdWUzNzgyOTYwMzk=", "number": 23586, "title": "Allowing GPU memory growth command does not work ", "user": {"login": "Schiboni", "id": 33553091, "node_id": "MDQ6VXNlcjMzNTUzMDkx", "avatar_url": "https://avatars1.githubusercontent.com/u/33553091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Schiboni", "html_url": "https://github.com/Schiboni", "followers_url": "https://api.github.com/users/Schiboni/followers", "following_url": "https://api.github.com/users/Schiboni/following{/other_user}", "gists_url": "https://api.github.com/users/Schiboni/gists{/gist_id}", "starred_url": "https://api.github.com/users/Schiboni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Schiboni/subscriptions", "organizations_url": "https://api.github.com/users/Schiboni/orgs", "repos_url": "https://api.github.com/users/Schiboni/repos", "events_url": "https://api.github.com/users/Schiboni/events{/privacy}", "received_events_url": "https://api.github.com/users/Schiboni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "azaks2", "id": 40365382, "node_id": "MDQ6VXNlcjQwMzY1Mzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/40365382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azaks2", "html_url": "https://github.com/azaks2", "followers_url": "https://api.github.com/users/azaks2/followers", "following_url": "https://api.github.com/users/azaks2/following{/other_user}", "gists_url": "https://api.github.com/users/azaks2/gists{/gist_id}", "starred_url": "https://api.github.com/users/azaks2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azaks2/subscriptions", "organizations_url": "https://api.github.com/users/azaks2/orgs", "repos_url": "https://api.github.com/users/azaks2/repos", "events_url": "https://api.github.com/users/azaks2/events{/privacy}", "received_events_url": "https://api.github.com/users/azaks2/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "azaks2", "id": 40365382, "node_id": "MDQ6VXNlcjQwMzY1Mzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/40365382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azaks2", "html_url": "https://github.com/azaks2", "followers_url": "https://api.github.com/users/azaks2/followers", "following_url": "https://api.github.com/users/azaks2/following{/other_user}", "gists_url": "https://api.github.com/users/azaks2/gists{/gist_id}", "starred_url": "https://api.github.com/users/azaks2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azaks2/subscriptions", "organizations_url": "https://api.github.com/users/azaks2/orgs", "repos_url": "https://api.github.com/users/azaks2/repos", "events_url": "https://api.github.com/users/azaks2/events{/privacy}", "received_events_url": "https://api.github.com/users/azaks2/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-11-07T13:51:20Z", "updated_at": "2018-11-19T20:02:34Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hi, i have a memory problem.<br>\nI am running a training on a server. I have the following print out.</p>\n<p>2018-11-05 21:08:07.907464: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero<br>\n2018-11-05 21:08:07.908090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:<br>\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2405<br>\npciBusID: 0000:02:00.0<br>\ntotalMemory: 3.95GiB freeMemory: 3.87GiB<br>\n2018-11-05 21:08:07.908116: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0, compute capability: 5.2)</p>\n<p>As you can see the total memory is higher than the free memory. Actually, running the code i get an \"Out of memory\" message.<br>\nSo i applied the wrote code at the beginning of my script:<br>\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.3, allow_growth=True)<br>\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))</p>\n<p>Unfortunately the memory usage:<br>\ntotalMemory: 3.95GiB freeMemory: 3.87GiB</p>\n<p>does not change at all. What is the problem?</p>\n<p>Thanks and best regards,<br>\nGiovanni</p>", "body_text": "Hi, i have a memory problem.\nI am running a training on a server. I have the following print out.\n2018-11-05 21:08:07.907464: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-11-05 21:08:07.908090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2405\npciBusID: 0000:02:00.0\ntotalMemory: 3.95GiB freeMemory: 3.87GiB\n2018-11-05 21:08:07.908116: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0, compute capability: 5.2)\nAs you can see the total memory is higher than the free memory. Actually, running the code i get an \"Out of memory\" message.\nSo i applied the wrote code at the beginning of my script:\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.3, allow_growth=True)\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))\nUnfortunately the memory usage:\ntotalMemory: 3.95GiB freeMemory: 3.87GiB\ndoes not change at all. What is the problem?\nThanks and best regards,\nGiovanni", "body": "Hi, i have a memory problem.\r\nI am running a training on a server. I have the following print out.\r\n\r\n2018-11-05 21:08:07.907464: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-11-05 21:08:07.908090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties:\r\nname: GeForce GTX 980 major: 5 minor: 2 memoryClockRate(GHz): 1.2405\r\npciBusID: 0000:02:00.0\r\ntotalMemory: 3.95GiB freeMemory: 3.87GiB\r\n2018-11-05 21:08:07.908116: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 980, pci bus id: 0000:02:00.0, compute capability: 5.2)\r\n\r\nAs you can see the total memory is higher than the free memory. Actually, running the code i get an \"Out of memory\" message.\r\nSo i applied the wrote code at the beginning of my script:\r\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.3, allow_growth=True)\r\nsess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))\r\n\r\nUnfortunately the memory usage:\r\ntotalMemory: 3.95GiB freeMemory: 3.87GiB\r\n\r\ndoes not change at all. What is the problem?\r\n\r\nThanks and best regards,\r\nGiovanni"}