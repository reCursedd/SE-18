{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16946", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16946/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16946/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16946/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16946", "id": 296356642, "node_id": "MDU6SXNzdWUyOTYzNTY2NDI=", "number": 16946, "title": "tensorflow lite converter(toco) build error ", "user": {"login": "Mikun4619", "id": 36406499, "node_id": "MDQ6VXNlcjM2NDA2NDk5", "avatar_url": "https://avatars0.githubusercontent.com/u/36406499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mikun4619", "html_url": "https://github.com/Mikun4619", "followers_url": "https://api.github.com/users/Mikun4619/followers", "following_url": "https://api.github.com/users/Mikun4619/following{/other_user}", "gists_url": "https://api.github.com/users/Mikun4619/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mikun4619/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mikun4619/subscriptions", "organizations_url": "https://api.github.com/users/Mikun4619/orgs", "repos_url": "https://api.github.com/users/Mikun4619/repos", "events_url": "https://api.github.com/users/Mikun4619/events{/privacy}", "received_events_url": "https://api.github.com/users/Mikun4619/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-12T12:21:13Z", "updated_at": "2018-02-18T11:17:01Z", "closed_at": "2018-02-18T11:09:25Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:  Windows 10(64bit)</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: tensorflow 1.5.0</li>\n<li><strong>Python version</strong>: Python 2.7/3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>:  bazel 0.9.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: N/A</li>\n<li><strong>GPU model and memory</strong>: No GPU model</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I try to build the toco that is tensorflow lite converter.<br>\nBut I can not success to build. please see below for the details.</p>\n<h3>Source code / logs</h3>\n<p><code>C:\\tensorflow&gt;bazel build //tensorflow/contrib/lite/toco:toco</code><br>\nThe following error message appears.</p>\n<blockquote>\n<p>ERROR: Skipping '//tensorflow/contrib/lite/toco:toco': error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 88<br>\n_apply_patch(ctx, ctx.attr.patch_file)<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch<br>\n_execute_and_check_ret_code(ctx, cmd)<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code<br>\nfail(\"Non-zero return code({1}) when ...))<br>\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':<br>\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc<br>\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354<br>\nThis application has requested the Runtime to terminate it in an unusual way.<br>\nPlease contact the application's support team for more information.<br>\nWARNING: Target pattern parsing failed.<br>\nERROR: error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 88<br>\n_apply_patch(ctx, ctx.attr.patch_file)<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch<br>\n_execute_and_check_ret_code(ctx, cmd)<br>\nFile \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code<br>\nfail(\"Non-zero return code({1}) when ...))<br>\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':<br>\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc<br>\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354<br>\nThis application has requested the Runtime to terminate it in an unusual way.<br>\nPlease contact the application's support team for more information.<br>\nINFO: Elapsed time: 27.852s<br>\nFAILED: Build did NOT complete successfully (0 packages loaded)<br>\ncurrently loading: tensorflow/contrib/lite/toco</p>\n</blockquote>\n<ul>\n<li>plus info.<br>\nThe following message appears when I input like this in command line. (for test)<br>\n<code>patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch</code></li>\n</ul>\n<blockquote>\n<p>patching file src/google/protobuf/compiler/cpp/cpp_file.cc<br>\nAssertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354<br>\nThis application has requested the Runtime to terminate it in an unusual way.<br>\nPlease contact the application's support team for more information.</p>\n</blockquote>\n<p><code>patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch --binary</code></p>\n<blockquote>\n<p>patching file src/google/protobuf/compiler/cpp/cpp_file.cc<br>\nHunk <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> succeeded at 750 with fuzz 1 (offset 193 lines).<br>\nHunk <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a> succeeded at 825 (offset 169 lines).<br>\nHunk <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115896656\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3\">#3</a> succeeded at 906 with fuzz 2 (offset 169 lines).</p>\n</blockquote>\n<p>I don't know how to add --binary option to script...<br>\nref. <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"233524134\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/10435\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/10435/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/10435\">#10435</a></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Windows 10(64bit)\nTensorFlow installed from (source or binary):binary\nTensorFlow version (use command below): tensorflow 1.5.0\nPython version: Python 2.7/3.6\nBazel version (if compiling from source):  bazel 0.9.0\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: No GPU model\n\nDescribe the problem\nI try to build the toco that is tensorflow lite converter.\nBut I can not success to build. please see below for the details.\nSource code / logs\nC:\\tensorflow>bazel build //tensorflow/contrib/lite/toco:toco\nThe following error message appears.\n\nERROR: Skipping '//tensorflow/contrib/lite/toco:toco': error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):\nFile \"C:/tensorflow/third_party/repo.bzl\", line 88\n_apply_patch(ctx, ctx.attr.patch_file)\nFile \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch\n_execute_and_check_ret_code(ctx, cmd)\nFile \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code\nfail(\"Non-zero return code({1}) when ...))\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\nThis application has requested the Runtime to terminate it in an unusual way.\nPlease contact the application's support team for more information.\nWARNING: Target pattern parsing failed.\nERROR: error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):\nFile \"C:/tensorflow/third_party/repo.bzl\", line 88\n_apply_patch(ctx, ctx.attr.patch_file)\nFile \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch\n_execute_and_check_ret_code(ctx, cmd)\nFile \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code\nfail(\"Non-zero return code({1}) when ...))\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\nThis application has requested the Runtime to terminate it in an unusual way.\nPlease contact the application's support team for more information.\nINFO: Elapsed time: 27.852s\nFAILED: Build did NOT complete successfully (0 packages loaded)\ncurrently loading: tensorflow/contrib/lite/toco\n\n\nplus info.\nThe following message appears when I input like this in command line. (for test)\npatch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch\n\n\npatching file src/google/protobuf/compiler/cpp/cpp_file.cc\nAssertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\nThis application has requested the Runtime to terminate it in an unusual way.\nPlease contact the application's support team for more information.\n\npatch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch --binary\n\npatching file src/google/protobuf/compiler/cpp/cpp_file.cc\nHunk #1 succeeded at 750 with fuzz 1 (offset 193 lines).\nHunk #2 succeeded at 825 (offset 169 lines).\nHunk #3 succeeded at 906 with fuzz 2 (offset 169 lines).\n\nI don't know how to add --binary option to script...\nref. #10435", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:  Windows 10(64bit)\r\n- **TensorFlow installed from (source or binary)**:binary\r\n- **TensorFlow version (use command below)**: tensorflow 1.5.0\r\n- **Python version**: Python 2.7/3.6\r\n- **Bazel version (if compiling from source)**:  bazel 0.9.0\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: No GPU model\r\n\r\n### Describe the problem\r\nI try to build the toco that is tensorflow lite converter. \r\nBut I can not success to build. please see below for the details.\r\n\r\n### Source code / logs\r\n`C:\\tensorflow>bazel build //tensorflow/contrib/lite/toco:toco`\r\nThe following error message appears.\r\n> ERROR: Skipping '//tensorflow/contrib/lite/toco:toco': error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 88\r\n                _apply_patch(ctx, ctx.attr.patch_file)\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch\r\n                _execute_and_check_ret_code(ctx, cmd)\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code\r\n                fail(\"Non-zero return code({1}) when ...))\r\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':\r\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc\r\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\r\nThis application has requested the Runtime to terminate it in an unusual way.\r\nPlease contact the application's support team for more information.\r\nWARNING: Target pattern parsing failed.\r\nERROR: error loading package 'tensorflow/contrib/lite/toco': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf_archive//': Traceback (most recent call last):\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 88\r\n                _apply_patch(ctx, ctx.attr.patch_file)\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 59, in _apply_patch\r\n                _execute_and_check_ret_code(ctx, cmd)\r\n        File \"C:/tensorflow/third_party/repo.bzl\", line 44, in _execute_and_check_ret_code\r\n                fail(\"Non-zero return code({1}) when ...))\r\nNon-zero return code(3) when executing 'C:\\tools\\msys64\\usr\\bin\\bash.exe -c patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch':\r\nStdout: patching file src/google/protobuf/compiler/cpp/cpp_file.cc\r\nStderr: Assertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\r\nThis application has requested the Runtime to terminate it in an unusual way.\r\nPlease contact the application's support team for more information.\r\nINFO: Elapsed time: 27.852s\r\nFAILED: Build did NOT complete successfully (0 packages loaded)\r\n    currently loading: tensorflow/contrib/lite/toco\r\n\r\n- plus info.\r\nThe following message appears when I input like this in command line. (for test)\r\n`patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch`\r\n> patching file src/google/protobuf/compiler/cpp/cpp_file.cc\r\nAssertion failed: hunk, file ../patch-2.5.9-src/patch.c, line 354\r\nThis application has requested the Runtime to terminate it in an unusual way.\r\nPlease contact the application's support team for more information.\r\n\r\n`patch -p1 -d C:/users/r3pc/appdata/local/temp/_bazel_r3pc/x1e5egqw/external/protobuf_archive -i C:/tensorflow/third_party/protobuf/add_noinlines.patch --binary`\r\n> patching file src/google/protobuf/compiler/cpp/cpp_file.cc\r\nHunk #1 succeeded at 750 with fuzz 1 (offset 193 lines).\r\nHunk #2 succeeded at 825 (offset 169 lines).\r\nHunk #3 succeeded at 906 with fuzz 2 (offset 169 lines).\r\n\r\nI don't know how to add --binary option to script...\r\nref. https://github.com/tensorflow/tensorflow/issues/10435\r\n"}