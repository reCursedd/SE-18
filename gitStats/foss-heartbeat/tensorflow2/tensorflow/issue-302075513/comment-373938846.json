{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373938846", "html_url": "https://github.com/tensorflow/tensorflow/issues/17411#issuecomment-373938846", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17411", "id": 373938846, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzkzODg0Ng==", "user": {"login": "nacl", "id": 70147, "node_id": "MDQ6VXNlcjcwMTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/70147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nacl", "html_url": "https://github.com/nacl", "followers_url": "https://api.github.com/users/nacl/followers", "following_url": "https://api.github.com/users/nacl/following{/other_user}", "gists_url": "https://api.github.com/users/nacl/gists{/gist_id}", "starred_url": "https://api.github.com/users/nacl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nacl/subscriptions", "organizations_url": "https://api.github.com/users/nacl/orgs", "repos_url": "https://api.github.com/users/nacl/repos", "events_url": "https://api.github.com/users/nacl/events{/privacy}", "received_events_url": "https://api.github.com/users/nacl/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-17T17:42:18Z", "updated_at": "2018-03-17T17:42:18Z", "author_association": "NONE", "body_html": "<p>I am encountering this issue as well with tensorflow-gpu 1.6.0, on linux, using python 3.6.4.  I have installed tensorflow using pip itself.  Simply running this produces a SIGILL:</p>\n<pre><code>$ python3 -m tensorflow\nzsh: illegal hardware instruction  python3 -m tensorflow\n</code></pre>\n<p>I get stack traces similar to what is mentioned in this ticket's description.</p>\n<p>This seems to be occurring due to the use of AVX instructions in the latest Tensorflow packages uploaded to pip.  Running python3 through GDB and disassembling the crashing function points to this instruction:</p>\n<pre><code>=&gt; 0x00007fffb9689660 &lt;+80&gt;:    vmovdqu 0x10(%r13),%xmm1\n</code></pre>\n<p>Which is an AVX instruction not supported on older or less-featureful CPUs that do not have AVX support.  The tensorflow(-gpu) 1.5.0 pip packages do not use AVX instructions, and thus there are no problems using it with these CPUs.</p>\n<p>The solution would be for a build of tensorflow(-gpu) that is not compiled with AVX instructions to be published (or to build a copy locally).  The provided <a href=\"https://www.tensorflow.org/install/install_linux\" rel=\"nofollow\">installation instructions</a> do not mention any specific CPU requirements nor how to determine compatibility with the provided binaries.</p>\n<p>In the meantime, reverting to tensorflow(-gpu) 1.5.0 using something like what <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=29004110\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/NinemillaKA\">@NinemillaKA</a> mentioned above is an effective workaround.</p>", "body_text": "I am encountering this issue as well with tensorflow-gpu 1.6.0, on linux, using python 3.6.4.  I have installed tensorflow using pip itself.  Simply running this produces a SIGILL:\n$ python3 -m tensorflow\nzsh: illegal hardware instruction  python3 -m tensorflow\n\nI get stack traces similar to what is mentioned in this ticket's description.\nThis seems to be occurring due to the use of AVX instructions in the latest Tensorflow packages uploaded to pip.  Running python3 through GDB and disassembling the crashing function points to this instruction:\n=> 0x00007fffb9689660 <+80>:    vmovdqu 0x10(%r13),%xmm1\n\nWhich is an AVX instruction not supported on older or less-featureful CPUs that do not have AVX support.  The tensorflow(-gpu) 1.5.0 pip packages do not use AVX instructions, and thus there are no problems using it with these CPUs.\nThe solution would be for a build of tensorflow(-gpu) that is not compiled with AVX instructions to be published (or to build a copy locally).  The provided installation instructions do not mention any specific CPU requirements nor how to determine compatibility with the provided binaries.\nIn the meantime, reverting to tensorflow(-gpu) 1.5.0 using something like what @NinemillaKA mentioned above is an effective workaround.", "body": "I am encountering this issue as well with tensorflow-gpu 1.6.0, on linux, using python 3.6.4.  I have installed tensorflow using pip itself.  Simply running this produces a SIGILL:\r\n\r\n```\r\n$ python3 -m tensorflow\r\nzsh: illegal hardware instruction  python3 -m tensorflow\r\n```\r\nI get stack traces similar to what is mentioned in this ticket's description.\r\n\r\nThis seems to be occurring due to the use of AVX instructions in the latest Tensorflow packages uploaded to pip.  Running python3 through GDB and disassembling the crashing function points to this instruction:\r\n\r\n```\r\n=> 0x00007fffb9689660 <+80>:    vmovdqu 0x10(%r13),%xmm1\r\n```\r\n\r\nWhich is an AVX instruction not supported on older or less-featureful CPUs that do not have AVX support.  The tensorflow(-gpu) 1.5.0 pip packages do not use AVX instructions, and thus there are no problems using it with these CPUs.\r\n\r\nThe solution would be for a build of tensorflow(-gpu) that is not compiled with AVX instructions to be published (or to build a copy locally).  The provided [installation instructions](https://www.tensorflow.org/install/install_linux) do not mention any specific CPU requirements nor how to determine compatibility with the provided binaries.\r\n\r\nIn the meantime, reverting to tensorflow(-gpu) 1.5.0 using something like what @NinemillaKA mentioned above is an effective workaround."}