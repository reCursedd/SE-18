{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22757", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22757/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22757/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22757/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22757", "id": 367066341, "node_id": "MDU6SXNzdWUzNjcwNjYzNDE=", "number": 22757, "title": "keras.model.predict also needs two inputs (one for sample, and one for label) when used with tf.data together", "user": {"login": "monkeyCv", "id": 38521537, "node_id": "MDQ6VXNlcjM4NTIxNTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/38521537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monkeyCv", "html_url": "https://github.com/monkeyCv", "followers_url": "https://api.github.com/users/monkeyCv/followers", "following_url": "https://api.github.com/users/monkeyCv/following{/other_user}", "gists_url": "https://api.github.com/users/monkeyCv/gists{/gist_id}", "starred_url": "https://api.github.com/users/monkeyCv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monkeyCv/subscriptions", "organizations_url": "https://api.github.com/users/monkeyCv/orgs", "repos_url": "https://api.github.com/users/monkeyCv/repos", "events_url": "https://api.github.com/users/monkeyCv/events{/privacy}", "received_events_url": "https://api.github.com/users/monkeyCv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-10-05T05:35:50Z", "updated_at": "2018-11-18T01:04:34Z", "closed_at": "2018-11-18T01:04:34Z", "author_association": "NONE", "body_html": "<p>I use tf.data.TFRecordDataset as the input of the tf.keras.model. The training and evaluation are OK. When I used the model for inference, I call the function tf.keras.model.prediction. However, it shows me an error</p>\n<blockquote>\n<p>Please provide model inputs as a list or tuple of 2 elements: input and target pair.</p>\n</blockquote>\n<p>I check the source code, and found that the function \"_standardize_user_data\" (line 988) in \"./tensorflow/python/keras/engine/training.py\" check the input number as the training and evaluation. I think it may be a bug, because when I does prediction, I don't know the true label.</p>\n<p>tensorflow version: 1.11.0 gpu.</p>\n<p>Thanks for your notice. I am looking forward your reply.</p>", "body_text": "I use tf.data.TFRecordDataset as the input of the tf.keras.model. The training and evaluation are OK. When I used the model for inference, I call the function tf.keras.model.prediction. However, it shows me an error\n\nPlease provide model inputs as a list or tuple of 2 elements: input and target pair.\n\nI check the source code, and found that the function \"_standardize_user_data\" (line 988) in \"./tensorflow/python/keras/engine/training.py\" check the input number as the training and evaluation. I think it may be a bug, because when I does prediction, I don't know the true label.\ntensorflow version: 1.11.0 gpu.\nThanks for your notice. I am looking forward your reply.", "body": "I use tf.data.TFRecordDataset as the input of the tf.keras.model. The training and evaluation are OK. When I used the model for inference, I call the function tf.keras.model.prediction. However, it shows me an error \r\n\r\n> Please provide model inputs as a list or tuple of 2 elements: input and target pair.\r\n\r\nI check the source code, and found that the function \"_standardize_user_data\" (line 988) in \"./tensorflow/python/keras/engine/training.py\" check the input number as the training and evaluation. I think it may be a bug, because when I does prediction, I don't know the true label.\r\n\r\ntensorflow version: 1.11.0 gpu.\r\n\r\nThanks for your notice. I am looking forward your reply."}