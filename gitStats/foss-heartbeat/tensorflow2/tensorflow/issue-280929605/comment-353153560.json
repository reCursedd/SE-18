{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/353153560", "html_url": "https://github.com/tensorflow/tensorflow/pull/15264#issuecomment-353153560", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15264", "id": 353153560, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzE1MzU2MA==", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-20T19:04:55Z", "updated_at": "2017-12-20T19:05:18Z", "author_association": "CONTRIBUTOR", "body_html": "<p>In object detection we may run CNN on patches (object candidates) cropped from an image with predicted boxes. When the image has no candidates we'll get zero patches. In training we can filter out these data but still can't avoid it in testing. A workaround is to use <code>tf.cond</code> but I hope the op can support it by itself.</p>\n<p>In fact, I just found that the existing CPU (eigen) implementation of <code>fused_batch_norm</code> can work with empty input and returns NaNs for mean/variance.</p>", "body_text": "In object detection we may run CNN on patches (object candidates) cropped from an image with predicted boxes. When the image has no candidates we'll get zero patches. In training we can filter out these data but still can't avoid it in testing. A workaround is to use tf.cond but I hope the op can support it by itself.\nIn fact, I just found that the existing CPU (eigen) implementation of fused_batch_norm can work with empty input and returns NaNs for mean/variance.", "body": "In object detection we may run CNN on patches (object candidates) cropped from an image with predicted boxes. When the image has no candidates we'll get zero patches. In training we can filter out these data but still can't avoid it in testing. A workaround is to use `tf.cond` but I hope the op can support it by itself.\r\n\r\nIn fact, I just found that the existing CPU (eigen) implementation of `fused_batch_norm` can work with empty input and returns NaNs for mean/variance."}