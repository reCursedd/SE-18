{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5932", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5932/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5932/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5932/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5932", "id": 192253178, "node_id": "MDU6SXNzdWUxOTIyNTMxNzg=", "number": 5932, "title": "W tensorflow/core/framework/op_kernel.cc:975] Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10).", "user": {"login": "yangkun1993", "id": 18445547, "node_id": "MDQ6VXNlcjE4NDQ1NTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/18445547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangkun1993", "html_url": "https://github.com/yangkun1993", "followers_url": "https://api.github.com/users/yangkun1993/followers", "following_url": "https://api.github.com/users/yangkun1993/following{/other_user}", "gists_url": "https://api.github.com/users/yangkun1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangkun1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangkun1993/subscriptions", "organizations_url": "https://api.github.com/users/yangkun1993/orgs", "repos_url": "https://api.github.com/users/yangkun1993/repos", "events_url": "https://api.github.com/users/yangkun1993/events{/privacy}", "received_events_url": "https://api.github.com/users/yangkun1993/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-29T11:11:40Z", "updated_at": "2016-12-01T00:20:55Z", "closed_at": "2016-12-01T00:20:55Z", "author_association": "NONE", "body_html": "<p>I use cifar10 model training my dataset,which is made by tf.python_io.TFRecordWriter() .<br>\nI am sure labels in dataset are right,because it's running ok on Ubuntu PC but  get Error Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10)  on Mac and GPU Server.</p>\n<p>W tensorflow/core/framework/op_kernel.cc:975] Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196<br>\nTraceback (most recent call last):<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in <br>\ntf.app.run()<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main<br>\ntrain()<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 103, in train<br>\n_, loss_value = sess.run([train_op, loss])<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run<br>\nrun_metadata_ptr)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196<br>\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]</p>\n<p>Caused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in <br>\ntf.app.run()<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run<br>\nsys.exit(main(sys.argv[:1] + flags_passthrough))<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main<br>\ntrain()<br>\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 76, in train<br>\nloss = cifar10.loss(logits, labels)<br>\nFile \"/Users/yangk/cifar10/cifar10.py\", line 289, in loss<br>\nlogits, labels, name='cross_entropy_per_example')<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 1537, in sparse_softmax_cross_entropy_with_logits<br>\nprecise_logits, labels, name=name)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 2378, in _sparse_softmax_cross_entropy_with_logits<br>\nfeatures=features, labels=labels, name=name)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op<br>\nop_def=op_def)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2371, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1258, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>InvalidArgumentError (see above for traceback): Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196<br>\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]</p>", "body_text": "I use cifar10 model training my dataset,which is made by tf.python_io.TFRecordWriter() .\nI am sure labels in dataset are right,because it's running ok on Ubuntu PC but  get Error Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10)  on Mac and GPU Server.\nW tensorflow/core/framework/op_kernel.cc:975] Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\nTraceback (most recent call last):\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in \ntf.app.run()\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main\ntrain()\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 103, in train\n_, loss_value = sess.run([train_op, loss])\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run\nrun_metadata_ptr)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\ntarget_list, options, run_metadata)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]\nCaused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in \ntf.app.run()\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\nsys.exit(main(sys.argv[:1] + flags_passthrough))\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main\ntrain()\nFile \"/Users/yangk/cifar10/cifar10_train.py\", line 76, in train\nloss = cifar10.loss(logits, labels)\nFile \"/Users/yangk/cifar10/cifar10.py\", line 289, in loss\nlogits, labels, name='cross_entropy_per_example')\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 1537, in sparse_softmax_cross_entropy_with_logits\nprecise_logits, labels, name=name)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 2378, in _sparse_softmax_cross_entropy_with_logits\nfeatures=features, labels=labels, name=name)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op\nop_def=op_def)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2371, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1258, in init\nself._traceback = _extract_stack()\nInvalidArgumentError (see above for traceback): Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\n[[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]", "body": "I use cifar10 model training my dataset,which is made by tf.python_io.TFRecordWriter() .\r\nI am sure labels in dataset are right,because it's running ok on Ubuntu PC but  get Error Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10)  on Mac and GPU Server.\r\n\r\nW tensorflow/core/framework/op_kernel.cc:975] Invalid argument: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\r\nTraceback (most recent call last):\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in <module>\r\n    tf.app.run()\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main\r\n    train()\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 103, in train\r\n    _, loss_value = sess.run([train_op, loss])\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run\r\n    run_metadata_ptr)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\r\n\t [[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]\r\n\r\nCaused by op u'cross_entropy_per_example/cross_entropy_per_example', defined at:\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 137, in <module>\r\n    tf.app.run()\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 133, in main\r\n    train()\r\n  File \"/Users/yangk/cifar10/cifar10_train.py\", line 76, in train\r\n    loss = cifar10.loss(logits, labels)\r\n  File \"/Users/yangk/cifar10/cifar10.py\", line 289, in loss\r\n    logits, labels, name='cross_entropy_per_example')\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 1537, in sparse_softmax_cross_entropy_with_logits\r\n    precise_logits, labels, name=name)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 2378, in _sparse_softmax_cross_entropy_with_logits\r\n    features=features, labels=labels, name=name)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 763, in apply_op\r\n    op_def=op_def)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 2371, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/Library/Python/2.7/site-packages/tensorflow/python/framework/ops.py\", line 1258, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Received a label value of 255 which is outside the valid range of [0, 10).  Label values: 65 229 184 161 102 117 112 160 66 93 107 117 131 122 129 132 113 163 149 130 75 52 109 84 161 165 99 203 82 42 57 179 155 63 126 49 172 50 144 224 152 220 164 82 195 169 171 125 107 127 70 60 93 115 165 143 78 116 60 153 113 62 89 175 125 90 85 178 167 200 133 168 125 92 62 93 166 141 98 172 102 103 72 179 138 108 49 176 46 70 55 101 141 144 107 126 60 146 108 77 125 59 58 109 171 107 63 151 55 93 172 131 52 128 75 167 255 97 108 171 113 130 77 166 150 132 62 196\r\n\t [[Node: cross_entropy_per_example/cross_entropy_per_example = SparseSoftmaxCrossEntropyWithLogits[T=DT_FLOAT, Tlabels=DT_INT64, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](softmax_linear/softmax_linear, Cast_4)]]"}