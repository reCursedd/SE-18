{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/397825155", "html_url": "https://github.com/tensorflow/tensorflow/issues/19909#issuecomment-397825155", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19909", "id": 397825155, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgyNTE1NQ==", "user": {"login": "spivakoa", "id": 25300810, "node_id": "MDQ6VXNlcjI1MzAwODEw", "avatar_url": "https://avatars0.githubusercontent.com/u/25300810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spivakoa", "html_url": "https://github.com/spivakoa", "followers_url": "https://api.github.com/users/spivakoa/followers", "following_url": "https://api.github.com/users/spivakoa/following{/other_user}", "gists_url": "https://api.github.com/users/spivakoa/gists{/gist_id}", "starred_url": "https://api.github.com/users/spivakoa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spivakoa/subscriptions", "organizations_url": "https://api.github.com/users/spivakoa/orgs", "repos_url": "https://api.github.com/users/spivakoa/repos", "events_url": "https://api.github.com/users/spivakoa/events{/privacy}", "received_events_url": "https://api.github.com/users/spivakoa/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-16T16:53:09Z", "updated_at": "2018-06-25T14:50:52Z", "author_association": "NONE", "body_html": "<p>Hi Mark,<br>\nI wrote my code based on the following code:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"278749480\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/memo/ofxMSATensorFlow/issues/34\" data-hovercard-type=\"issue\" data-hovercard-url=\"/memo/ofxMSATensorFlow/issues/34/hovercard\" href=\"https://github.com/memo/ofxMSATensorFlow/issues/34\">memo/ofxMSATensorFlow#34</a></p>\n<p>My output Tensor is defined as follows:</p>\n<pre><code>output_layer = { \"detection_boxes:0\", \"detection_scores:0\", \"detection_classes:0\", \"num_detections:0\"};\n</code></pre>\n<p>Those variables are taken from the net output  layer:</p>\n<pre><code>vector&lt;string&gt; output_layer = { \"detection_boxes\", \"detection_scores\", \"detection_classes\", \"num_detections\"};\n</code></pre>\n<p>Thus the first dimension is the detection_boxes coordinates from the SSD.</p>\n<p>I thought that using batch inference should result in an additional dimension in output variable, maybe defining it as a vector of vector of Tensors, but this apparently doesn't work. The output dimension is dependent on a number of outputs in the outer net layer, 4 in my case.</p>\n<p>It seems like something \"good\" happens when increasing the batch size as the run time of the code also increases, I just can't figure out where to find the particular output for each batch image.</p>\n<p>Thank you,<br>\nAlex.</p>", "body_text": "Hi Mark,\nI wrote my code based on the following code:\nmemo/ofxMSATensorFlow#34\nMy output Tensor is defined as follows:\noutput_layer = { \"detection_boxes:0\", \"detection_scores:0\", \"detection_classes:0\", \"num_detections:0\"};\n\nThose variables are taken from the net output  layer:\nvector<string> output_layer = { \"detection_boxes\", \"detection_scores\", \"detection_classes\", \"num_detections\"};\n\nThus the first dimension is the detection_boxes coordinates from the SSD.\nI thought that using batch inference should result in an additional dimension in output variable, maybe defining it as a vector of vector of Tensors, but this apparently doesn't work. The output dimension is dependent on a number of outputs in the outer net layer, 4 in my case.\nIt seems like something \"good\" happens when increasing the batch size as the run time of the code also increases, I just can't figure out where to find the particular output for each batch image.\nThank you,\nAlex.", "body": "Hi Mark,\r\nI wrote my code based on the following code:\r\nhttps://github.com/memo/ofxMSATensorFlow/issues/34\r\n\r\n\r\nMy output Tensor is defined as follows:\r\n\r\n    output_layer = { \"detection_boxes:0\", \"detection_scores:0\", \"detection_classes:0\", \"num_detections:0\"};\r\n\r\nThose variables are taken from the net output  layer:\r\n\r\n    vector<string> output_layer = { \"detection_boxes\", \"detection_scores\", \"detection_classes\", \"num_detections\"};\r\n\r\nThus the first dimension is the detection_boxes coordinates from the SSD.\r\n\r\nI thought that using batch inference should result in an additional dimension in output variable, maybe defining it as a vector of vector of Tensors, but this apparently doesn't work. The output dimension is dependent on a number of outputs in the outer net layer, 4 in my case.\r\n\r\nIt seems like something \"good\" happens when increasing the batch size as the run time of the code also increases, I just can't figure out where to find the particular output for each batch image.\r\n\r\nThank you,\r\nAlex.  "}