{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/875", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/875/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/875/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/875/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/875", "id": 128476855, "node_id": "MDU6SXNzdWUxMjg0NzY4NTU=", "number": 875, "title": "GPU device not found on OSX", "user": {"login": "maxgillett", "id": 1622077, "node_id": "MDQ6VXNlcjE2MjIwNzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1622077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxgillett", "html_url": "https://github.com/maxgillett", "followers_url": "https://api.github.com/users/maxgillett/followers", "following_url": "https://api.github.com/users/maxgillett/following{/other_user}", "gists_url": "https://api.github.com/users/maxgillett/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxgillett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxgillett/subscriptions", "organizations_url": "https://api.github.com/users/maxgillett/orgs", "repos_url": "https://api.github.com/users/maxgillett/repos", "events_url": "https://api.github.com/users/maxgillett/events{/privacy}", "received_events_url": "https://api.github.com/users/maxgillett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-25T07:11:34Z", "updated_at": "2016-02-06T22:09:55Z", "closed_at": "2016-02-06T22:09:55Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>I'm trying to install TensorFlow with GPU support for a CUDA Capability 3.0 device. I have followed the instructions found here: <a href=\"https://gist.github.com/Mistobaan/dd32287eeb6859c6668d\">https://gist.github.com/Mistobaan/dd32287eeb6859c6668d</a>, and everything compiles without error, but TensorFlow doesn't recognize my GPU device. The steps that I'm taking are below, as is the error output.</p>\n<p>I've modified bazel to use gcc-4.8, so these are the commands I'm running:</p>\n<pre><code>bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer ---crosstool_top=//tools/cpp:toolchain\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --crosstool_top=//tools/cpp:toolchain\n</code></pre>\n<p>Running the example with:</p>\n<pre><code>bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu\n</code></pre>\n<p>produces the following output:</p>\n<pre><code>F tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session-&gt;Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &amp;outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor&lt;type: int32 shape: [] values: 0&gt;, _device=\"/gpu:0\"]()]])\nF tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session-&gt;Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &amp;outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor&lt;type: in\n</code></pre>\n<p>I can also confirm that after installing the pip package and running a test script, no devices are found.</p>\n<p>A few things to note:</p>\n<ul>\n<li>Running deviceQuery confirms that a CUDA device (Device 0: GeForce GT 650M) is found.</li>\n<li>I've made sure to run bazel clean before compiling, and have tried compiling using sudo just to see if this was a permissions issue.</li>\n</ul>\n<p>Thanks in advance for your help.</p>", "body_text": "Hello,\nI'm trying to install TensorFlow with GPU support for a CUDA Capability 3.0 device. I have followed the instructions found here: https://gist.github.com/Mistobaan/dd32287eeb6859c6668d, and everything compiles without error, but TensorFlow doesn't recognize my GPU device. The steps that I'm taking are below, as is the error output.\nI've modified bazel to use gcc-4.8, so these are the commands I'm running:\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer ---crosstool_top=//tools/cpp:toolchain\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --crosstool_top=//tools/cpp:toolchain\n\nRunning the example with:\nbazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu\n\nproduces the following output:\nF tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session->Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor<type: int32 shape: [] values: 0>, _device=\"/gpu:0\"]()]])\nF tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session->Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor<type: in\n\nI can also confirm that after installing the pip package and running a test script, no devices are found.\nA few things to note:\n\nRunning deviceQuery confirms that a CUDA device (Device 0: GeForce GT 650M) is found.\nI've made sure to run bazel clean before compiling, and have tried compiling using sudo just to see if this was a permissions issue.\n\nThanks in advance for your help.", "body": "Hello,\n\nI'm trying to install TensorFlow with GPU support for a CUDA Capability 3.0 device. I have followed the instructions found here: https://gist.github.com/Mistobaan/dd32287eeb6859c6668d, and everything compiles without error, but TensorFlow doesn't recognize my GPU device. The steps that I'm taking are below, as is the error output.\n\nI've modified bazel to use gcc-4.8, so these are the commands I'm running:\n\n```\nbazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer ---crosstool_top=//tools/cpp:toolchain\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --crosstool_top=//tools/cpp:toolchain\n```\n\nRunning the example with:\n\n```\nbazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu\n```\n\nproduces the following output:\n\n```\nF tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session->Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor<type: int32 shape: [] values: 0>, _device=\"/gpu:0\"]()]])\nF tensorflow/cc/tutorials/example_trainer.cc:118] Check failed: ::tensorflow::Status::OK() == (session->Run({{\"x\", x}}, {\"y:0\", \"y_normalized:0\"}, {}, &outputs)) (OK vs. Invalid argument: Cannot assign a device to node 'Const/_2': Could not satisfy explicit device specification '/gpu:0'\n     [[Node: Const/_2 = Const[dtype=DT_INT32, value=Tensor<type: in\n```\n\nI can also confirm that after installing the pip package and running a test script, no devices are found.\n\nA few things to note:\n- Running deviceQuery confirms that a CUDA device (Device 0: GeForce GT 650M) is found. \n- I've made sure to run bazel clean before compiling, and have tried compiling using sudo just to see if this was a permissions issue.\n\nThanks in advance for your help. \n"}