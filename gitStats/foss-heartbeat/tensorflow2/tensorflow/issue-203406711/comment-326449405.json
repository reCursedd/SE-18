{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/326449405", "html_url": "https://github.com/tensorflow/tensorflow/issues/7094#issuecomment-326449405", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7094", "id": 326449405, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjQ0OTQwNQ==", "user": {"login": "MtDersvan", "id": 7069222, "node_id": "MDQ6VXNlcjcwNjkyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MtDersvan", "html_url": "https://github.com/MtDersvan", "followers_url": "https://api.github.com/users/MtDersvan/followers", "following_url": "https://api.github.com/users/MtDersvan/following{/other_user}", "gists_url": "https://api.github.com/users/MtDersvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MtDersvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MtDersvan/subscriptions", "organizations_url": "https://api.github.com/users/MtDersvan/orgs", "repos_url": "https://api.github.com/users/MtDersvan/repos", "events_url": "https://api.github.com/users/MtDersvan/events{/privacy}", "received_events_url": "https://api.github.com/users/MtDersvan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-31T23:46:14Z", "updated_at": "2017-08-31T23:46:14Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> Almost, it must handle a tensor rank and shape properly, to work with multi-dimensional tensors as well as with one-dimensional, and not to mix up when its a multi-label vs single-label*batch_size.<br>\nE.g. <code>tf.reduce_max(tf.one_hot(labels, num_classes), proper_axis)</code> where <code>labels</code> can have different shapes and batch_sizes:</p>\n<pre><code># Example:\n# Single-label:\n#   b_s==1: [[l1]]\n#   b_s==4: [[l1],[l2],[l3],[l4]]\n#       axis=0\n# Multi-label:\n#   b_s==1: [[l1_1,l1_2]]\n#   b_s==4: [[l1_1,l1_2],[l2_1,l2_2,l2_3],[l3_1],[l4_1,l4_2]]\n</code></pre>", "body_text": "@drpngx Almost, it must handle a tensor rank and shape properly, to work with multi-dimensional tensors as well as with one-dimensional, and not to mix up when its a multi-label vs single-label*batch_size.\nE.g. tf.reduce_max(tf.one_hot(labels, num_classes), proper_axis) where labels can have different shapes and batch_sizes:\n# Example:\n# Single-label:\n#   b_s==1: [[l1]]\n#   b_s==4: [[l1],[l2],[l3],[l4]]\n#       axis=0\n# Multi-label:\n#   b_s==1: [[l1_1,l1_2]]\n#   b_s==4: [[l1_1,l1_2],[l2_1,l2_2,l2_3],[l3_1],[l4_1,l4_2]]", "body": "@drpngx Almost, it must handle a tensor rank and shape properly, to work with multi-dimensional tensors as well as with one-dimensional, and not to mix up when its a multi-label vs single-label*batch_size.\r\nE.g. `tf.reduce_max(tf.one_hot(labels, num_classes), proper_axis)` where `labels` can have different shapes and batch_sizes:\r\n```\r\n# Example:\r\n# Single-label:\r\n#   b_s==1: [[l1]]\r\n#   b_s==4: [[l1],[l2],[l3],[l4]]\r\n#       axis=0\r\n# Multi-label:\r\n#   b_s==1: [[l1_1,l1_2]]\r\n#   b_s==4: [[l1_1,l1_2],[l2_1,l2_2,l2_3],[l3_1],[l4_1,l4_2]]\r\n```"}