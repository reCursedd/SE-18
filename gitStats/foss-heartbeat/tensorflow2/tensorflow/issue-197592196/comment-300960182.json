{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300960182", "html_url": "https://github.com/tensorflow/tensorflow/issues/6504#issuecomment-300960182", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6504", "id": 300960182, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDk2MDE4Mg==", "user": {"login": "Queequeg92", "id": 8766653, "node_id": "MDQ6VXNlcjg3NjY2NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/8766653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Queequeg92", "html_url": "https://github.com/Queequeg92", "followers_url": "https://api.github.com/users/Queequeg92/followers", "following_url": "https://api.github.com/users/Queequeg92/following{/other_user}", "gists_url": "https://api.github.com/users/Queequeg92/gists{/gist_id}", "starred_url": "https://api.github.com/users/Queequeg92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Queequeg92/subscriptions", "organizations_url": "https://api.github.com/users/Queequeg92/orgs", "repos_url": "https://api.github.com/users/Queequeg92/repos", "events_url": "https://api.github.com/users/Queequeg92/events{/privacy}", "received_events_url": "https://api.github.com/users/Queequeg92/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-12T01:33:16Z", "updated_at": "2017-05-12T01:33:16Z", "author_association": "NONE", "body_html": "<p>I have checked the implement detail of QR decomposition in tensorflow. The QR decomposition in tensorflow simply calls the QR function in Eigen. But unfortunately there is no gradient implement for QR decomposition in Eigen, which indirectly results in the absence of gradient for QR decomposition in tensorflow. The QR decomposition is based on some basic matrix operations. Thus it's theoretically differentiable. The typical QR decomposition methods like Givens Rotations and Householder reflections include an iterative process, which makes the gradient very complex. There is no automatic gradient mechanism in Eigen. I think that's why there is no gradient implement for QR decomposition in Eigen. Based on the above observation, it's better to implement QR decomposition algorithm using available tensorflow operations and make use of the automatic gradient mechanism in tensorflow to obtain the gradient for QR decomposition. What do you think? <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9817643\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kstant0725\">@kstant0725</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16907534\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rmlarsen\">@rmlarsen</a></p>", "body_text": "I have checked the implement detail of QR decomposition in tensorflow. The QR decomposition in tensorflow simply calls the QR function in Eigen. But unfortunately there is no gradient implement for QR decomposition in Eigen, which indirectly results in the absence of gradient for QR decomposition in tensorflow. The QR decomposition is based on some basic matrix operations. Thus it's theoretically differentiable. The typical QR decomposition methods like Givens Rotations and Householder reflections include an iterative process, which makes the gradient very complex. There is no automatic gradient mechanism in Eigen. I think that's why there is no gradient implement for QR decomposition in Eigen. Based on the above observation, it's better to implement QR decomposition algorithm using available tensorflow operations and make use of the automatic gradient mechanism in tensorflow to obtain the gradient for QR decomposition. What do you think? @kstant0725 @rmlarsen", "body": "I have checked the implement detail of QR decomposition in tensorflow. The QR decomposition in tensorflow simply calls the QR function in Eigen. But unfortunately there is no gradient implement for QR decomposition in Eigen, which indirectly results in the absence of gradient for QR decomposition in tensorflow. The QR decomposition is based on some basic matrix operations. Thus it's theoretically differentiable. The typical QR decomposition methods like Givens Rotations and Householder reflections include an iterative process, which makes the gradient very complex. There is no automatic gradient mechanism in Eigen. I think that's why there is no gradient implement for QR decomposition in Eigen. Based on the above observation, it's better to implement QR decomposition algorithm using available tensorflow operations and make use of the automatic gradient mechanism in tensorflow to obtain the gradient for QR decomposition. What do you think? @kstant0725 @rmlarsen "}