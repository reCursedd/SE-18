{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13068", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13068/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13068/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13068/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13068", "id": 258125432, "node_id": "MDU6SXNzdWUyNTgxMjU0MzI=", "number": 13068, "title": "cuDNN 6 incompatible with Tensorflow 1.3 error", "user": {"login": "BogdanPugach", "id": 19812674, "node_id": "MDQ6VXNlcjE5ODEyNjc0", "avatar_url": "https://avatars2.githubusercontent.com/u/19812674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BogdanPugach", "html_url": "https://github.com/BogdanPugach", "followers_url": "https://api.github.com/users/BogdanPugach/followers", "following_url": "https://api.github.com/users/BogdanPugach/following{/other_user}", "gists_url": "https://api.github.com/users/BogdanPugach/gists{/gist_id}", "starred_url": "https://api.github.com/users/BogdanPugach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BogdanPugach/subscriptions", "organizations_url": "https://api.github.com/users/BogdanPugach/orgs", "repos_url": "https://api.github.com/users/BogdanPugach/repos", "events_url": "https://api.github.com/users/BogdanPugach/events{/privacy}", "received_events_url": "https://api.github.com/users/BogdanPugach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 21, "created_at": "2017-09-15T18:27:09Z", "updated_at": "2018-11-06T07:35:22Z", "closed_at": "2018-07-03T05:41:40Z", "author_association": "NONE", "body_html": "<p>Any help is greatly appreciated! I've spent way too much time on this.</p>\n<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nIn tensorflow/stream_executor/cuda/cuda_gpu_executor.cc in function \"static int TryToReadNumaNode(conststring &amp;pci_bus_id,intdevice_ordinal)\" added the following lines at the beginning of the function:<br>\nLOG(INFO) &lt;&lt; \"ARM has no NUMA node, hardcoding to return zero\";<br>\nreturn 0;<br>\nmodified workspace.bzl: set eigen_archive to use <a href=\"http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/d781c1de9834.tar.gz\" rel=\"nofollow\">http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/d781c1de9834.tar.gz</a> because of an error that kept coming up related to the current version of eigen.</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nLinux Ubuntu 16.04</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nsource</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\n1.3.0<br>\ncommand used: git checkout v1.3.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>:<br>\n2.7</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\n0.4.5</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:<br>\nCUDA version 8.0, CUDNN version 6.0.21<br>\ncudnn was downloaded from the NVIDIA website using the cuDNN v6.0 Library for Linux version</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:<br>\nNVIDIA Pascal GPU on the TX2</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:<br>\nsudo bazel build -c opt --local_resources 3072,4.0,1.0 --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package</p>\n</li>\n<li>\n<p><em><em>Other</em>:<br>\nUsing an 8GB swapfile<br>\nCUDA install path: usr/local/cuda/<br>\nCUDNN install paths:<br>\ninclude: /usr/include/<br>\nlibs: /usr/lib/aarch64-linux-gnu/<br>\nI used the following command on the libs: sudo chmod a+r /usr/lib/aarch64-linux-gnu/libcudnn</em></p>\n</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>When I try to install tensorflow 1.3.0 I get the error listed below. It goes through pretty much the entire build and fails at the very end. Tensorflow 1.0 installs just fine on the TX2 using cuda 8 and cudnn 5.1(these lib are no longer on my machine so its not an issue with having 5.1 installed). I would use Tensoflow 1.0, but the network I am working with has a reliance on 1.3.</p>\n<h3>Source code / logs</h3>\n<p>IERROR: /home/nvidia/tensorflow/tensorflow/python/BUILD:2762:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command<br>\n(cd /home/nvidia/.cache/bazel/_bazel_root/d2751a49dacf4cb14a513ec663770624/execroot/tensorflow &amp;&amp; <br>\nexec env - <br>\nCUDA_TOOLKIT_PATH=/usr/local/cuda <br>\nCUDNN_INSTALL_PATH=/usr/local/cuda-8.0 <br>\nGCC_HOST_COMPILER_PATH=/usr/bin/gcc <br>\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin <br>\nPYTHON_BIN_PATH=/usr/bin/python <br>\nPYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages <br>\nTF_CUDA_CLANG=0 <br>\nTF_CUDA_COMPUTE_CAPABILITIES=6.2 <br>\nTF_CUDA_VERSION=8.0 <br>\nTF_CUDNN_VERSION=6.0.21 <br>\nTF_NEED_CUDA=1 <br>\nTF_NEED_OPENCL=0 <br>\nexternal/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' -Wl,--version-script tensorflow/tf_version_script.lds -Wl,-z,muldefs -Wl,-rpath,../local_config_cuda/cuda/lib64 -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib64 -pthread -Wl,-no-as-needed -B/usr/bin/ -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,--gc-sections -Wl,@bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so-2.params): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6<br>\n/usr/bin/ld: cannot find -l:libcudnn.so.6<br>\ncollect2: error: ld returned 1 exit status<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nINFO: Elapsed time: 5.977s, Critical Path: 4.15s</p>", "body_text": "Any help is greatly appreciated! I've spent way too much time on this.\nSystem information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nIn tensorflow/stream_executor/cuda/cuda_gpu_executor.cc in function \"static int TryToReadNumaNode(conststring &pci_bus_id,intdevice_ordinal)\" added the following lines at the beginning of the function:\nLOG(INFO) << \"ARM has no NUMA node, hardcoding to return zero\";\nreturn 0;\nmodified workspace.bzl: set eigen_archive to use http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/d781c1de9834.tar.gz because of an error that kept coming up related to the current version of eigen.\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nLinux Ubuntu 16.04\n\n\nTensorFlow installed from (source or binary):\nsource\n\n\nTensorFlow version (use command below):\n1.3.0\ncommand used: git checkout v1.3.0\n\n\nPython version:\n2.7\n\n\nBazel version (if compiling from source):\n0.4.5\n\n\nCUDA/cuDNN version:\nCUDA version 8.0, CUDNN version 6.0.21\ncudnn was downloaded from the NVIDIA website using the cuDNN v6.0 Library for Linux version\n\n\nGPU model and memory:\nNVIDIA Pascal GPU on the TX2\n\n\nExact command to reproduce:\nsudo bazel build -c opt --local_resources 3072,4.0,1.0 --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\n\nOther:\nUsing an 8GB swapfile\nCUDA install path: usr/local/cuda/\nCUDNN install paths:\ninclude: /usr/include/\nlibs: /usr/lib/aarch64-linux-gnu/\nI used the following command on the libs: sudo chmod a+r /usr/lib/aarch64-linux-gnu/libcudnn\n\n\nDescribe the problem\nWhen I try to install tensorflow 1.3.0 I get the error listed below. It goes through pretty much the entire build and fails at the very end. Tensorflow 1.0 installs just fine on the TX2 using cuda 8 and cudnn 5.1(these lib are no longer on my machine so its not an issue with having 5.1 installed). I would use Tensoflow 1.0, but the network I am working with has a reliance on 1.3.\nSource code / logs\nIERROR: /home/nvidia/tensorflow/tensorflow/python/BUILD:2762:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command\n(cd /home/nvidia/.cache/bazel/_bazel_root/d2751a49dacf4cb14a513ec663770624/execroot/tensorflow && \nexec env - \nCUDA_TOOLKIT_PATH=/usr/local/cuda \nCUDNN_INSTALL_PATH=/usr/local/cuda-8.0 \nGCC_HOST_COMPILER_PATH=/usr/bin/gcc \nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin \nPYTHON_BIN_PATH=/usr/bin/python \nPYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \nTF_CUDA_CLANG=0 \nTF_CUDA_COMPUTE_CAPABILITIES=6.2 \nTF_CUDA_VERSION=8.0 \nTF_CUDNN_VERSION=6.0.21 \nTF_NEED_CUDA=1 \nTF_NEED_OPENCL=0 \nexternal/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' -Wl,--version-script tensorflow/tf_version_script.lds -Wl,-z,muldefs -Wl,-rpath,../local_config_cuda/cuda/lib64 -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib64 -pthread -Wl,-no-as-needed -B/usr/bin/ -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,--gc-sections -Wl,@bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so-2.params): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\n/usr/bin/ld: cannot find -l:libcudnn.so.6\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 5.977s, Critical Path: 4.15s", "body": "Any help is greatly appreciated! I've spent way too much time on this. \r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nIn tensorflow/stream_executor/cuda/cuda_gpu_executor.cc in function \"static int TryToReadNumaNode(conststring &pci_bus_id,intdevice_ordinal)\" added the following lines at the beginning of the function:\r\nLOG(INFO) << \"ARM has no NUMA node, hardcoding to return zero\";\r\nreturn 0;\r\nmodified workspace.bzl: set eigen_archive to use http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/d781c1de9834.tar.gz because of an error that kept coming up related to the current version of eigen.\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n Linux Ubuntu 16.04\r\n\r\n- **TensorFlow installed from (source or binary)**:\r\nsource\r\n\r\n- **TensorFlow version (use command below)**:\r\n1.3.0\r\ncommand used: git checkout v1.3.0\r\n\r\n- **Python version**: \r\n2.7\r\n\r\n- **Bazel version (if compiling from source)**:\r\n0.4.5\r\n\r\n- **CUDA/cuDNN version**:\r\nCUDA version 8.0, CUDNN version 6.0.21\r\ncudnn was downloaded from the NVIDIA website using the cuDNN v6.0 Library for Linux version\r\n\r\n- **GPU model and memory**:\r\nNVIDIA Pascal GPU on the TX2\r\n\r\n- **Exact command to reproduce**:\r\nsudo bazel build -c opt --local_resources 3072,4.0,1.0 --verbose_failures --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\n- **Other*:\r\nUsing an 8GB swapfile\r\nCUDA install path: usr/local/cuda/\r\nCUDNN install paths:\r\n     include: /usr/include/\r\n     libs: /usr/lib/aarch64-linux-gnu/\r\n     I used the following command on the libs: sudo chmod a+r /usr/lib/aarch64-linux-gnu/libcudnn*\r\n\r\n\r\n### Describe the problem\r\nWhen I try to install tensorflow 1.3.0 I get the error listed below. It goes through pretty much the entire build and fails at the very end. Tensorflow 1.0 installs just fine on the TX2 using cuda 8 and cudnn 5.1(these lib are no longer on my machine so its not an issue with having 5.1 installed). I would use Tensoflow 1.0, but the network I am working with has a reliance on 1.3. \r\n\r\n### Source code / logs\r\nIERROR: /home/nvidia/tensorflow/tensorflow/python/BUILD:2762:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command \r\n  (cd /home/nvidia/.cache/bazel/_bazel_root/d2751a49dacf4cb14a513ec663770624/execroot/tensorflow && \\\r\n  exec env - \\\r\n    CUDA_TOOLKIT_PATH=/usr/local/cuda \\\r\n    CUDNN_INSTALL_PATH=/usr/local/cuda-8.0 \\\r\n    GCC_HOST_COMPILER_PATH=/usr/bin/gcc \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin \\\r\n    PYTHON_BIN_PATH=/usr/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_CUDA_CLANG=0 \\\r\n    TF_CUDA_COMPUTE_CAPABILITIES=6.2 \\\r\n    TF_CUDA_VERSION=8.0 \\\r\n    TF_CUDNN_VERSION=6.0.21 \\\r\n    TF_NEED_CUDA=1 \\\r\n    TF_NEED_OPENCL=0 \\\r\n  external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib -Lbazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccusolver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccublas___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccuda_Udriver___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccufft___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccurand___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' '-Wl,-rpath,$ORIGIN/../../_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudart___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib' -Wl,--version-script tensorflow/tf_version_script.lds -Wl,-z,muldefs -Wl,-rpath,../local_config_cuda/cuda/lib64 -Wl,-rpath,../local_config_cuda/cuda/extras/CUPTI/lib64 -pthread -Wl,-no-as-needed -B/usr/bin/ -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,--gc-sections -Wl,@bazel-out/local_linux-opt/bin/tensorflow/python/_pywrap_tensorflow_internal.so-2.params): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible bazel-out/local_linux-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/aarch64-linux-gnu/5/../../../aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible /usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: skipping incompatible //usr/lib/aarch64-linux-gnu/libcudnn.so.6 when searching for -l:libcudnn.so.6\r\n/usr/bin/ld: cannot find -l:libcudnn.so.6\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 5.977s, Critical Path: 4.15s\r\n"}