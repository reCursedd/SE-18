{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/436153823", "html_url": "https://github.com/tensorflow/tensorflow/issues/13068#issuecomment-436153823", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13068", "id": 436153823, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjE1MzgyMw==", "user": {"login": "oscarriddle", "id": 13745902, "node_id": "MDQ6VXNlcjEzNzQ1OTAy", "avatar_url": "https://avatars0.githubusercontent.com/u/13745902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oscarriddle", "html_url": "https://github.com/oscarriddle", "followers_url": "https://api.github.com/users/oscarriddle/followers", "following_url": "https://api.github.com/users/oscarriddle/following{/other_user}", "gists_url": "https://api.github.com/users/oscarriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/oscarriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oscarriddle/subscriptions", "organizations_url": "https://api.github.com/users/oscarriddle/orgs", "repos_url": "https://api.github.com/users/oscarriddle/repos", "events_url": "https://api.github.com/users/oscarriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/oscarriddle/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-06T07:16:28Z", "updated_at": "2018-11-06T07:16:28Z", "author_association": "NONE", "body_html": "<p>I encountered a similar issue.<br>\nOS: CentOS<br>\nTF source: r1.7<br>\ngcc: 4.9.3<br>\nCUDA: 9.0<br>\ncudnn: 7.0.5</p>\n<pre><code>Error:\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (0 packages loaded).\nINFO: Found 1 target...\nERROR: /media/disk1/fordata/web_server/project/xiaolun/workshop/tensorflow.gpu.1.7/tensorflow/BUILD:744:1: Linking of rule '//tensorflow:libtensorflow_framework.so' failed (Exit 1)\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: cannot find -l:libcudnn.so.7\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.800s, Critical Path: 0.28s\nFAILED: Build did NOT complete successfully\n</code></pre>\n<p>Seems the bazel has found the libcudnn.so.7, but it thinks it's incompatible.</p>", "body_text": "I encountered a similar issue.\nOS: CentOS\nTF source: r1.7\ngcc: 4.9.3\nCUDA: 9.0\ncudnn: 7.0.5\nError:\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (0 packages loaded).\nINFO: Found 1 target...\nERROR: /media/disk1/fordata/web_server/project/xiaolun/workshop/tensorflow.gpu.1.7/tensorflow/BUILD:744:1: Linking of rule '//tensorflow:libtensorflow_framework.so' failed (Exit 1)\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\n/usr/bin/ld: cannot find -l:libcudnn.so.7\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 0.800s, Critical Path: 0.28s\nFAILED: Build did NOT complete successfully\n\nSeems the bazel has found the libcudnn.so.7, but it thinks it's incompatible.", "body": "I encountered a similar issue.\r\nOS: CentOS\r\nTF source: r1.7\r\ngcc: 4.9.3\r\nCUDA: 9.0\r\ncudnn: 7.0.5\r\n\r\n```\r\nError:\r\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (0 packages loaded).\r\nINFO: Found 1 target...\r\nERROR: /media/disk1/fordata/web_server/project/xiaolun/workshop/tensorflow.gpu.1.7/tensorflow/BUILD:744:1: Linking of rule '//tensorflow:libtensorflow_framework.so' failed (Exit 1)\r\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible bazel-out/host/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Scuda_Slib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /usr/local/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: skipping incompatible /usr/lib/libcudnn.so.7 when searching for -l:libcudnn.so.7\r\n/usr/bin/ld: cannot find -l:libcudnn.so.7\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 0.800s, Critical Path: 0.28s\r\nFAILED: Build did NOT complete successfully\r\n```\r\nSeems the bazel has found the libcudnn.so.7, but it thinks it's incompatible."}