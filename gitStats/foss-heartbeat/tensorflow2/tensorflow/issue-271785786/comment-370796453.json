{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/370796453", "html_url": "https://github.com/tensorflow/tensorflow/pull/14318#issuecomment-370796453", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14318", "id": 370796453, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDc5NjQ1Mw==", "user": {"login": "al3xsh", "id": 10220372, "node_id": "MDQ6VXNlcjEwMjIwMzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/10220372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/al3xsh", "html_url": "https://github.com/al3xsh", "followers_url": "https://api.github.com/users/al3xsh/followers", "following_url": "https://api.github.com/users/al3xsh/following{/other_user}", "gists_url": "https://api.github.com/users/al3xsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/al3xsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/al3xsh/subscriptions", "organizations_url": "https://api.github.com/users/al3xsh/orgs", "repos_url": "https://api.github.com/users/al3xsh/repos", "events_url": "https://api.github.com/users/al3xsh/events{/privacy}", "received_events_url": "https://api.github.com/users/al3xsh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-06T14:22:04Z", "updated_at": "2018-03-06T14:22:04Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a>,</p>\n<p>I have now managed to run the bazel build process as requested and have pushed the changes.  The results of the commands were:</p>\n<pre><code>(tf_dev) alex@ubuntu:~/tensorflow$ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test --update_goldens True\nWARNING:tensorflow:VARIABLES collection name is deprecated, please use GLOBAL_VARIABLES instead; VARIABLES will be removed after 2017-03-02.\nERROR:tensorflow:TensorFlow API backwards compatibility test\nThis test ensures all changes to the public API of TensorFlow are intended.\n\nIf this test fails, it means a change has been made to the public API. Backwards\nincompatible changes are not allowed. You can run the test as follows to update\ntest goldens and package them with your change.\n\n    $ bazel build tensorflow/tools/api/tests:api_compatibility_test\n    $ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test \\\n          --update_goldens True\n\nYou will need an API approval to make changes to the public TensorFlow API. This\nincludes additions to the API.\n\nERROR:tensorflow:1 differences found between API and golden.\nERROR:tensorflow:Issue 1\t: Change detected in python object: tensorflow.keras.backend.\nWARNING:tensorflow:Golden file update requested!\nAll test failures have been skipped, see the logs for detected diffs.\nThis test is now going to write new golden files.\nMake sure to package the updates together with your change.\n\nYou will need an explicit API approval. This may take longer than a normal\nreview.\n\n..WARNING:tensorflow:Unexpected hidden op name: ConjugateTranspose\nWARNING:tensorflow:Unexpected hidden op name: ScaleImageGrad\nWARNING:tensorflow:Unexpected hidden op name: MutexAcquire\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV2\nWARNING:tensorflow:Unexpected hidden op name: AccumulateNV2\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLengthV2\nWARNING:tensorflow:Unexpected hidden op name: SparseSelectLastK\nWARNING:tensorflow:Unexpected hidden op name: Mutex\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV3\nWARNING:tensorflow:Unexpected hidden op name: AddV2\nWARNING:tensorflow:Unexpected hidden op name: HistogramFixedWidth\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV3\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLength\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV2\nWARNING:tensorflow:Unexpected hidden op name: MutexRelease\n..\n----------------------------------------------------------------------\nRan 4 tests in 4.517s\n\nOK\n(tf_dev) alex@ubuntu:~/tensorflow$ git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n\tmodified:   tensorflow/tools/api/golden/tensorflow.keras.backend.pbtxt\n\tmodified:   tensorflow/workspace.bzl\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n(tf_dev) alex@ubuntu:~/tensorflow$ git add .\n(tf_dev) alex@ubuntu:~/tensorflow$ git commit -m \"updated goldens as per discussion\"\n</code></pre>\n<p>Does this look ok?</p>\n<p>Regards,</p>\n<p>Alex</p>", "body_text": "Hi @drpngx and @martinwicke,\nI have now managed to run the bazel build process as requested and have pushed the changes.  The results of the commands were:\n(tf_dev) alex@ubuntu:~/tensorflow$ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test --update_goldens True\nWARNING:tensorflow:VARIABLES collection name is deprecated, please use GLOBAL_VARIABLES instead; VARIABLES will be removed after 2017-03-02.\nERROR:tensorflow:TensorFlow API backwards compatibility test\nThis test ensures all changes to the public API of TensorFlow are intended.\n\nIf this test fails, it means a change has been made to the public API. Backwards\nincompatible changes are not allowed. You can run the test as follows to update\ntest goldens and package them with your change.\n\n    $ bazel build tensorflow/tools/api/tests:api_compatibility_test\n    $ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test \\\n          --update_goldens True\n\nYou will need an API approval to make changes to the public TensorFlow API. This\nincludes additions to the API.\n\nERROR:tensorflow:1 differences found between API and golden.\nERROR:tensorflow:Issue 1\t: Change detected in python object: tensorflow.keras.backend.\nWARNING:tensorflow:Golden file update requested!\nAll test failures have been skipped, see the logs for detected diffs.\nThis test is now going to write new golden files.\nMake sure to package the updates together with your change.\n\nYou will need an explicit API approval. This may take longer than a normal\nreview.\n\n..WARNING:tensorflow:Unexpected hidden op name: ConjugateTranspose\nWARNING:tensorflow:Unexpected hidden op name: ScaleImageGrad\nWARNING:tensorflow:Unexpected hidden op name: MutexAcquire\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV2\nWARNING:tensorflow:Unexpected hidden op name: AccumulateNV2\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLengthV2\nWARNING:tensorflow:Unexpected hidden op name: SparseSelectLastK\nWARNING:tensorflow:Unexpected hidden op name: Mutex\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV3\nWARNING:tensorflow:Unexpected hidden op name: AddV2\nWARNING:tensorflow:Unexpected hidden op name: HistogramFixedWidth\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV3\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLength\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV2\nWARNING:tensorflow:Unexpected hidden op name: MutexRelease\n..\n----------------------------------------------------------------------\nRan 4 tests in 4.517s\n\nOK\n(tf_dev) alex@ubuntu:~/tensorflow$ git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   tensorflow/tools/api/golden/tensorflow.keras.backend.pbtxt\n\tmodified:   tensorflow/workspace.bzl\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n(tf_dev) alex@ubuntu:~/tensorflow$ git add .\n(tf_dev) alex@ubuntu:~/tensorflow$ git commit -m \"updated goldens as per discussion\"\n\nDoes this look ok?\nRegards,\nAlex", "body": "Hi @drpngx and @martinwicke,\r\n\r\nI have now managed to run the bazel build process as requested and have pushed the changes.  The results of the commands were:\r\n\r\n```\r\n(tf_dev) alex@ubuntu:~/tensorflow$ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test --update_goldens True\r\nWARNING:tensorflow:VARIABLES collection name is deprecated, please use GLOBAL_VARIABLES instead; VARIABLES will be removed after 2017-03-02.\r\nERROR:tensorflow:TensorFlow API backwards compatibility test\r\nThis test ensures all changes to the public API of TensorFlow are intended.\r\n\r\nIf this test fails, it means a change has been made to the public API. Backwards\r\nincompatible changes are not allowed. You can run the test as follows to update\r\ntest goldens and package them with your change.\r\n\r\n    $ bazel build tensorflow/tools/api/tests:api_compatibility_test\r\n    $ bazel-bin/tensorflow/tools/api/tests/api_compatibility_test \\\r\n          --update_goldens True\r\n\r\nYou will need an API approval to make changes to the public TensorFlow API. This\r\nincludes additions to the API.\r\n\r\nERROR:tensorflow:1 differences found between API and golden.\r\nERROR:tensorflow:Issue 1\t: Change detected in python object: tensorflow.keras.backend.\r\nWARNING:tensorflow:Golden file update requested!\r\nAll test failures have been skipped, see the logs for detected diffs.\r\nThis test is now going to write new golden files.\r\nMake sure to package the updates together with your change.\r\n\r\nYou will need an explicit API approval. This may take longer than a normal\r\nreview.\r\n\r\n..WARNING:tensorflow:Unexpected hidden op name: ConjugateTranspose\r\nWARNING:tensorflow:Unexpected hidden op name: ScaleImageGrad\r\nWARNING:tensorflow:Unexpected hidden op name: MutexAcquire\r\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV2\r\nWARNING:tensorflow:Unexpected hidden op name: AccumulateNV2\r\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLengthV2\r\nWARNING:tensorflow:Unexpected hidden op name: SparseSelectLastK\r\nWARNING:tensorflow:Unexpected hidden op name: Mutex\r\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayPackV3\r\nWARNING:tensorflow:Unexpected hidden op name: AddV2\r\nWARNING:tensorflow:Unexpected hidden op name: HistogramFixedWidth\r\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV3\r\nWARNING:tensorflow:Unexpected hidden op name: ReaderWorkQueueLength\r\nWARNING:tensorflow:Unexpected hidden op name: TensorArrayUnpackV2\r\nWARNING:tensorflow:Unexpected hidden op name: MutexRelease\r\n..\r\n----------------------------------------------------------------------\r\nRan 4 tests in 4.517s\r\n\r\nOK\r\n(tf_dev) alex@ubuntu:~/tensorflow$ git status\r\nOn branch master\r\nYour branch is up-to-date with 'origin/master'.\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\r\n\r\n\tmodified:   tensorflow/tools/api/golden/tensorflow.keras.backend.pbtxt\r\n\tmodified:   tensorflow/workspace.bzl\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n(tf_dev) alex@ubuntu:~/tensorflow$ git add .\r\n(tf_dev) alex@ubuntu:~/tensorflow$ git commit -m \"updated goldens as per discussion\"\r\n```\r\n\r\nDoes this look ok?\r\n\r\nRegards,\r\n\r\nAlex"}