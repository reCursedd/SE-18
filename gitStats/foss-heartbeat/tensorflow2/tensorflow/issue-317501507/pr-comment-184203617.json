{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/184203617", "pull_request_review_id": 115352008, "id": 184203617, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NDIwMzYxNw==", "diff_hunk": "@@ -362,6 +362,70 @@ def testInvalidDataType(self):\n         dtype=dtypes.string)\n \n \n+class VarianceScalingInitializationTest(test.TestCase):\n+\n+  def testInitializerIdentical(self):\n+    for dtype in [dtypes.float32, dtypes.float64]:\n+      init1 = init_ops.variance_scaling_initializer(seed=1, dtype=dtype)\n+      init2 = init_ops.variance_scaling_initializer(seed=1, dtype=dtype)\n+      self.assertTrue(identicaltest(self, init1, init2))\n+      init3 = init_ops.variance_scaling_initializer(\n+          1.5, seed=1, dtype=dtype)\n+      init4 = init_ops.variance_scaling_initializer(\n+          1.5, seed=1, dtype=dtype)\n+      self.assertTrue(identicaltest(self, init3, init4))\n+\n+  def testInitializerDifferent(self):\n+    for dtype in [dtypes.float32, dtypes.float64]:\n+      init1 = init_ops.variance_scaling_initializer(seed=1, dtype=dtype)\n+      init2 = init_ops.variance_scaling_initializer(seed=2, dtype=dtype)\n+      init3 = init_ops.variance_scaling_initializer(\n+          1.5, seed=1, dtype=dtype)\n+      self.assertFalse(identicaltest(self, init1, init2))\n+      self.assertFalse(identicaltest(self, init1, init3))\n+      self.assertFalse(identicaltest(self, init2, init3))\n+\n+  def testZeroSize(self):\n+    shape = [0, 2]\n+    with self.test_session():\n+      x = variable_scope.get_variable(", "path": "tensorflow/python/kernel_tests/init_ops_test.py", "position": null, "original_position": 30, "commit_id": "e9215c02243fcfcaba046f32fd93e74f3548df9d", "original_commit_id": "883ce7ddc340463f6c5b5d2f6e18221c7bcd26de", "user": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "body": "No need. And don't feel obligated to include tests like `testZeroSize` since it has effectively no connection to your fix.", "created_at": "2018-04-25T20:58:20Z", "updated_at": "2018-06-02T05:35:32Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/18854#discussion_r184203617", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18854", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/184203617"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/18854#discussion_r184203617"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/18854"}}, "body_html": "<p>No need. And don't feel obligated to include tests like <code>testZeroSize</code> since it has effectively no connection to your fix.</p>", "body_text": "No need. And don't feel obligated to include tests like testZeroSize since it has effectively no connection to your fix.", "in_reply_to_id": 184192478}