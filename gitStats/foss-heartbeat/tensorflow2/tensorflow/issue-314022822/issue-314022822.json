{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18490", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18490/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18490/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18490/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18490", "id": 314022822, "node_id": "MDU6SXNzdWUzMTQwMjI4MjI=", "number": 18490, "title": "macOS: Debug fails when running though PyCharm", "user": {"login": "harahu", "id": 6145801, "node_id": "MDQ6VXNlcjYxNDU4MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6145801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harahu", "html_url": "https://github.com/harahu", "followers_url": "https://api.github.com/users/harahu/followers", "following_url": "https://api.github.com/users/harahu/following{/other_user}", "gists_url": "https://api.github.com/users/harahu/gists{/gist_id}", "starred_url": "https://api.github.com/users/harahu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harahu/subscriptions", "organizations_url": "https://api.github.com/users/harahu/orgs", "repos_url": "https://api.github.com/users/harahu/repos", "events_url": "https://api.github.com/users/harahu/events{/privacy}", "received_events_url": "https://api.github.com/users/harahu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-04-13T08:55:37Z", "updated_at": "2018-07-20T20:58:01Z", "closed_at": "2018-07-20T20:58:01Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: macOS High Sierra 10.13.4</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary, pip</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.7</li>\n<li><strong>Python version</strong>: 3.6.4 Anaconda, Inc.</li>\n<li><strong>Bazel version (if compiling from source)</strong>: n/a</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: n/a</li>\n<li><strong>CUDA/cuDNN version</strong>: n/a</li>\n<li><strong>GPU model and memory</strong>: Intel Iris Pro 1536 MB</li>\n<li><strong>Exact command to reproduce</strong>: n/a</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Trying to debug a tf.Estimator script, using PyCharm as IDE. For this I use the tfdbg.LocalCLIDebugHook. When running the script through terminal debugging works fine, but through PyCharm i get a curses error:</p>\n<p><code>_curses.error: setupterm: could not find terminal</code></p>\n<p>I know this is more a PyCharm issue than a tf issue, but if there is anything simple you could do to mitigate this, it would be nice.</p>\n<h3>Source code / logs</h3>\n<p>File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 355, in train<br>\nloss = self._train_model(input_fn, hooks, saving_listeners)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 903, in _train_model<br>\n_, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 546, in run<br>\nrun_metadata=run_metadata)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run<br>\nrun_metadata=run_metadata)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run<br>\nraise six.reraise(*original_exc_info)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/six.py\", line 693, in reraise<br>\nraise value<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run<br>\nreturn self._sess.run(*args, **kwargs)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1162, in run<br>\nfeed_dict, options)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1188, in _call_hook_before_run<br>\nrequest = hook.before_run(run_context)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/hooks.py\", line 106, in before_run<br>\non_run_start_request)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 255, in on_run_start<br>\nself._prep_cli_for_run_start()<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 277, in _prep_cli_for_run_start<br>\nself._run_cli = ui_factory.get_ui(self._ui_type)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 61, in get_ui<br>\nreturn curses_ui.CursesUI(on_ui_exit=on_ui_exit, config=config)<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 287, in <strong>init</strong><br>\nself._screen_init()<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init<br>\nself._stdscr = curses.initscr()<br>\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/curses/<strong>init</strong>.py\", line 30, in initscr<br>\nfd=_sys.<strong>stdout</strong>.fileno())<br>\n_curses.error: setupterm: could not find terminal</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS High Sierra 10.13.4\nTensorFlow installed from (source or binary): binary, pip\nTensorFlow version (use command below): 1.7\nPython version: 3.6.4 Anaconda, Inc.\nBazel version (if compiling from source): n/a\nGCC/Compiler version (if compiling from source): n/a\nCUDA/cuDNN version: n/a\nGPU model and memory: Intel Iris Pro 1536 MB\nExact command to reproduce: n/a\n\nDescribe the problem\nTrying to debug a tf.Estimator script, using PyCharm as IDE. For this I use the tfdbg.LocalCLIDebugHook. When running the script through terminal debugging works fine, but through PyCharm i get a curses error:\n_curses.error: setupterm: could not find terminal\nI know this is more a PyCharm issue than a tf issue, but if there is anything simple you could do to mitigate this, it would be nice.\nSource code / logs\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 355, in train\nloss = self._train_model(input_fn, hooks, saving_listeners)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 903, in _train_model\n_, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 546, in run\nrun_metadata=run_metadata)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run\nrun_metadata=run_metadata)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run\nraise six.reraise(*original_exc_info)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/six.py\", line 693, in reraise\nraise value\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run\nreturn self._sess.run(*args, **kwargs)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1162, in run\nfeed_dict, options)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1188, in _call_hook_before_run\nrequest = hook.before_run(run_context)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/hooks.py\", line 106, in before_run\non_run_start_request)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 255, in on_run_start\nself._prep_cli_for_run_start()\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 277, in _prep_cli_for_run_start\nself._run_cli = ui_factory.get_ui(self._ui_type)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 61, in get_ui\nreturn curses_ui.CursesUI(on_ui_exit=on_ui_exit, config=config)\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 287, in init\nself._screen_init()\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init\nself._stdscr = curses.initscr()\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/curses/init.py\", line 30, in initscr\nfd=_sys.stdout.fileno())\n_curses.error: setupterm: could not find terminal", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: macOS High Sierra 10.13.4\r\n- **TensorFlow installed from (source or binary)**: binary, pip\r\n- **TensorFlow version (use command below)**: 1.7\r\n- **Python version**: 3.6.4 Anaconda, Inc.\r\n- **Bazel version (if compiling from source)**: n/a\r\n- **GCC/Compiler version (if compiling from source)**: n/a\r\n- **CUDA/cuDNN version**: n/a\r\n- **GPU model and memory**: Intel Iris Pro 1536 MB\r\n- **Exact command to reproduce**: n/a\r\n\r\n### Describe the problem\r\nTrying to debug a tf.Estimator script, using PyCharm as IDE. For this I use the tfdbg.LocalCLIDebugHook. When running the script through terminal debugging works fine, but through PyCharm i get a curses error:\r\n\r\n`_curses.error: setupterm: could not find terminal`\r\n\r\nI know this is more a PyCharm issue than a tf issue, but if there is anything simple you could do to mitigate this, it would be nice.\r\n\r\n### Source code / logs\r\nFile \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 355, in train\r\n    loss = self._train_model(input_fn, hooks, saving_listeners)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/estimator/estimator.py\", line 903, in _train_model\r\n    _, loss = mon_sess.run([estimator_spec.train_op, estimator_spec.loss])\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 546, in run\r\n    run_metadata=run_metadata)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1022, in run\r\n    run_metadata=run_metadata)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1113, in run\r\n    raise six.reraise(*original_exc_info)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1098, in run\r\n    return self._sess.run(*args, **kwargs)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1162, in run\r\n    feed_dict, options)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1188, in _call_hook_before_run\r\n    request = hook.before_run(run_context)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/hooks.py\", line 106, in before_run\r\n    on_run_start_request)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 255, in on_run_start\r\n    self._prep_cli_for_run_start()\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/wrappers/local_cli_wrapper.py\", line 277, in _prep_cli_for_run_start\r\n    self._run_cli = ui_factory.get_ui(self._ui_type)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/ui_factory.py\", line 61, in get_ui\r\n    return curses_ui.CursesUI(on_ui_exit=on_ui_exit, config=config)\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 287, in __init__\r\n    self._screen_init()\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/site-packages/tensorflow/python/debug/cli/curses_ui.py\", line 400, in _screen_init\r\n    self._stdscr = curses.initscr()\r\n  File \"/Users/harald/anaconda3/envs/thesis/lib/python3.6/curses/__init__.py\", line 30, in initscr\r\n    fd=_sys.__stdout__.fileno())\r\n_curses.error: setupterm: could not find terminal\r\n"}