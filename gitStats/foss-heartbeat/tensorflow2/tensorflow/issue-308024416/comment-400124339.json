{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/400124339", "html_url": "https://github.com/tensorflow/tensorflow/issues/17950#issuecomment-400124339", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17950", "id": 400124339, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDEyNDMzOQ==", "user": {"login": "bhack", "id": 1710528, "node_id": "MDQ6VXNlcjE3MTA1Mjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1710528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bhack", "html_url": "https://github.com/bhack", "followers_url": "https://api.github.com/users/bhack/followers", "following_url": "https://api.github.com/users/bhack/following{/other_user}", "gists_url": "https://api.github.com/users/bhack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bhack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bhack/subscriptions", "organizations_url": "https://api.github.com/users/bhack/orgs", "repos_url": "https://api.github.com/users/bhack/repos", "events_url": "https://api.github.com/users/bhack/events{/privacy}", "received_events_url": "https://api.github.com/users/bhack/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-25T23:11:28Z", "updated_at": "2018-06-25T23:29:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> The example that you are pointing is not a model with BN.<br>\nIt is <code>model_to_estimator</code> that creates the implicit <code>model_fn</code> for the estimator. So is <code>model_to_estimator</code> not using <code>update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS)</code> or something similar when it is creating its automatic <code>model_fn</code>? Do we need to use this in our model_fn as a workaround untill it is fixed?</p>", "body_text": "@martinwicke The example that you are pointing is not a model with BN.\nIt is model_to_estimator that creates the implicit model_fn for the estimator. So is model_to_estimator not using update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS) or something similar when it is creating its automatic model_fn? Do we need to use this in our model_fn as a workaround untill it is fixed?", "body": "@martinwicke The example that you are pointing is not a model with BN. \r\nIt is `model_to_estimator` that creates the implicit `model_fn` for the estimator. So is `model_to_estimator` not using `update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS)` or something similar when it is creating its automatic `model_fn`? Do we need to use this in our model_fn as a workaround untill it is fixed?"}