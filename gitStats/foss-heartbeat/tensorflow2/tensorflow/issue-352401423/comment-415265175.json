{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/415265175", "html_url": "https://github.com/tensorflow/tensorflow/issues/21752#issuecomment-415265175", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21752", "id": 415265175, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTI2NTE3NQ==", "user": {"login": "jiarenyf", "id": 12405578, "node_id": "MDQ6VXNlcjEyNDA1NTc4", "avatar_url": "https://avatars2.githubusercontent.com/u/12405578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiarenyf", "html_url": "https://github.com/jiarenyf", "followers_url": "https://api.github.com/users/jiarenyf/followers", "following_url": "https://api.github.com/users/jiarenyf/following{/other_user}", "gists_url": "https://api.github.com/users/jiarenyf/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiarenyf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiarenyf/subscriptions", "organizations_url": "https://api.github.com/users/jiarenyf/orgs", "repos_url": "https://api.github.com/users/jiarenyf/repos", "events_url": "https://api.github.com/users/jiarenyf/events{/privacy}", "received_events_url": "https://api.github.com/users/jiarenyf/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-23T02:48:41Z", "updated_at": "2018-08-24T03:09:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=479117\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jdduke\">@jdduke</a></p>\n<p>I use XiaoMi 8, which is Android 8.1.</p>\n<p>In fact, the model I use is CNN+CTC on the OCR task. I run the CNN part on tflite, and write CTC decoder code in java.</p>\n<p>But we need the input images to have variable widths, so each time before feeding, I call <code>tflite.resize</code>.</p>\n<p>If setting <code>tflite.setUseNNAPI(false)</code>, the result is always right.</p>\n<p>However, <strong>when setting <code>tflite.setUseNNAPI(true)</code>, if the width of the first image is larger than the second image, then the result of the second image is always wrong</strong>. Then I set <code>tflite.setUseNNAPI(false)</code> and run the same (the second) image and set <code>tflite.setUseNNAPI(true)</code> and run again, the result is right.</p>", "body_text": "@jdduke\nI use XiaoMi 8, which is Android 8.1.\nIn fact, the model I use is CNN+CTC on the OCR task. I run the CNN part on tflite, and write CTC decoder code in java.\nBut we need the input images to have variable widths, so each time before feeding, I call tflite.resize.\nIf setting tflite.setUseNNAPI(false), the result is always right.\nHowever, when setting tflite.setUseNNAPI(true), if the width of the first image is larger than the second image, then the result of the second image is always wrong. Then I set tflite.setUseNNAPI(false) and run the same (the second) image and set tflite.setUseNNAPI(true) and run again, the result is right.", "body": "@jdduke \r\n\r\nI use XiaoMi 8, which is Android 8.1.\r\n\r\nIn fact, the model I use is CNN+CTC on the OCR task. I run the CNN part on tflite, and write CTC decoder code in java.\r\n\r\nBut we need the input images to have variable widths, so each time before feeding, I call `tflite.resize`.\r\n\r\nIf setting `tflite.setUseNNAPI(false)`, the result is always right.\r\n\r\nHowever, **when setting `tflite.setUseNNAPI(true)`, if the width of the first image is larger than the second image, then the result of the second image is always wrong**. Then I set `tflite.setUseNNAPI(false)` and run the same (the second) image and set `tflite.setUseNNAPI(true)` and run again, the result is right.\r\n\r\n\r\n"}