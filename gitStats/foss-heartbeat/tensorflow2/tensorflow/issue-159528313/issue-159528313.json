{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2769", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2769/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2769/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2769/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2769", "id": 159528313, "node_id": "MDU6SXNzdWUxNTk1MjgzMTM=", "number": 2769, "title": "Bad example in docs for tf.multinomial", "user": {"login": "nikitakit", "id": 252225, "node_id": "MDQ6VXNlcjI1MjIyNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/252225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikitakit", "html_url": "https://github.com/nikitakit", "followers_url": "https://api.github.com/users/nikitakit/followers", "following_url": "https://api.github.com/users/nikitakit/following{/other_user}", "gists_url": "https://api.github.com/users/nikitakit/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikitakit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikitakit/subscriptions", "organizations_url": "https://api.github.com/users/nikitakit/orgs", "repos_url": "https://api.github.com/users/nikitakit/repos", "events_url": "https://api.github.com/users/nikitakit/events{/privacy}", "received_events_url": "https://api.github.com/users/nikitakit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "concretevitamin", "id": 592670, "node_id": "MDQ6VXNlcjU5MjY3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/592670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/concretevitamin", "html_url": "https://github.com/concretevitamin", "followers_url": "https://api.github.com/users/concretevitamin/followers", "following_url": "https://api.github.com/users/concretevitamin/following{/other_user}", "gists_url": "https://api.github.com/users/concretevitamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/concretevitamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/concretevitamin/subscriptions", "organizations_url": "https://api.github.com/users/concretevitamin/orgs", "repos_url": "https://api.github.com/users/concretevitamin/repos", "events_url": "https://api.github.com/users/concretevitamin/events{/privacy}", "received_events_url": "https://api.github.com/users/concretevitamin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-06-09T23:07:04Z", "updated_at": "2016-06-16T01:38:15Z", "closed_at": "2016-06-16T01:38:15Z", "author_association": "NONE", "body_html": "<p>I think this comment in the docstring for tf.multinomial is wrong:</p>\n<pre><code>samples = tf.multinomial([[1, -1, -1]], 10) # samples is equivalent to tf.zeros([1, 10], dtype=tf.int64)\n</code></pre>\n<p>Logits of [1, -1, -1] do not assign zero probability to class 1 and 2.  Additionally, multinomial op has no kernel for <code>logits</code> of integer type, which is what's happening here. (Note usage of 1, not 1.0)</p>\n<p>Since I can't figure out what purpose this example serves, my suggestion would be to remove it entirely.</p>\n<p>I'm using tensorflow <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/845fb7ab77fae53b849894925c7d13c1b8918675/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/845fb7ab77fae53b849894925c7d13c1b8918675\"><tt>845fb7a</tt></a> with Python 3.</p>", "body_text": "I think this comment in the docstring for tf.multinomial is wrong:\nsamples = tf.multinomial([[1, -1, -1]], 10) # samples is equivalent to tf.zeros([1, 10], dtype=tf.int64)\n\nLogits of [1, -1, -1] do not assign zero probability to class 1 and 2.  Additionally, multinomial op has no kernel for logits of integer type, which is what's happening here. (Note usage of 1, not 1.0)\nSince I can't figure out what purpose this example serves, my suggestion would be to remove it entirely.\nI'm using tensorflow 845fb7a with Python 3.", "body": "I think this comment in the docstring for tf.multinomial is wrong:\n\n```\nsamples = tf.multinomial([[1, -1, -1]], 10) # samples is equivalent to tf.zeros([1, 10], dtype=tf.int64)\n```\n\nLogits of [1, -1, -1] do not assign zero probability to class 1 and 2.  Additionally, multinomial op has no kernel for `logits` of integer type, which is what's happening here. (Note usage of 1, not 1.0)\n\nSince I can't figure out what purpose this example serves, my suggestion would be to remove it entirely.\n\nI'm using tensorflow 845fb7ab77fae53b849894925c7d13c1b8918675 with Python 3.\n"}