{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/226053887", "html_url": "https://github.com/tensorflow/tensorflow/issues/2825#issuecomment-226053887", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2825", "id": 226053887, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjA1Mzg4Nw==", "user": {"login": "cssndrx", "id": 1688894, "node_id": "MDQ6VXNlcjE2ODg4OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1688894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cssndrx", "html_url": "https://github.com/cssndrx", "followers_url": "https://api.github.com/users/cssndrx/followers", "following_url": "https://api.github.com/users/cssndrx/following{/other_user}", "gists_url": "https://api.github.com/users/cssndrx/gists{/gist_id}", "starred_url": "https://api.github.com/users/cssndrx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cssndrx/subscriptions", "organizations_url": "https://api.github.com/users/cssndrx/orgs", "repos_url": "https://api.github.com/users/cssndrx/repos", "events_url": "https://api.github.com/users/cssndrx/events{/privacy}", "received_events_url": "https://api.github.com/users/cssndrx/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-15T00:13:17Z", "updated_at": "2016-06-15T00:13:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I can't reproduce what you're seeing. Could you add a small code snippet to repro?</p>\n<pre><code>tf.reset_default_graph()\nsess = tf.InteractiveSession()\n\nx = tf.Variable(3.0)\nema = tf.train.ExponentialMovingAverage(0.9)\nmaintain_averages_op = ema.apply([x])\n\nsess.run(tf.initialize_all_variables())\nsess.run(x.assign(x+1.0))\nsess.run(maintain_averages_op)\nprint 'x', sess.run(x)\nprint 'avg', sess.run(ema.average(x))\n\n</code></pre>\n<p>This returns:</p>\n<pre><code>x 4.0\navg 3.1\n</code></pre>", "body_text": "I can't reproduce what you're seeing. Could you add a small code snippet to repro?\ntf.reset_default_graph()\nsess = tf.InteractiveSession()\n\nx = tf.Variable(3.0)\nema = tf.train.ExponentialMovingAverage(0.9)\nmaintain_averages_op = ema.apply([x])\n\nsess.run(tf.initialize_all_variables())\nsess.run(x.assign(x+1.0))\nsess.run(maintain_averages_op)\nprint 'x', sess.run(x)\nprint 'avg', sess.run(ema.average(x))\n\n\nThis returns:\nx 4.0\navg 3.1", "body": "I can't reproduce what you're seeing. Could you add a small code snippet to repro? \n\n```\ntf.reset_default_graph()\nsess = tf.InteractiveSession()\n\nx = tf.Variable(3.0)\nema = tf.train.ExponentialMovingAverage(0.9)\nmaintain_averages_op = ema.apply([x])\n\nsess.run(tf.initialize_all_variables())\nsess.run(x.assign(x+1.0))\nsess.run(maintain_averages_op)\nprint 'x', sess.run(x)\nprint 'avg', sess.run(ema.average(x))\n\n```\n\nThis returns:\n\n```\nx 4.0\navg 3.1\n```\n"}