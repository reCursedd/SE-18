{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/286393409", "html_url": "https://github.com/tensorflow/tensorflow/issues/2825#issuecomment-286393409", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2825", "id": 286393409, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjM5MzQwOQ==", "user": {"login": "wielandbrendel", "id": 6177693, "node_id": "MDQ6VXNlcjYxNzc2OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6177693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wielandbrendel", "html_url": "https://github.com/wielandbrendel", "followers_url": "https://api.github.com/users/wielandbrendel/followers", "following_url": "https://api.github.com/users/wielandbrendel/following{/other_user}", "gists_url": "https://api.github.com/users/wielandbrendel/gists{/gist_id}", "starred_url": "https://api.github.com/users/wielandbrendel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wielandbrendel/subscriptions", "organizations_url": "https://api.github.com/users/wielandbrendel/orgs", "repos_url": "https://api.github.com/users/wielandbrendel/repos", "events_url": "https://api.github.com/users/wielandbrendel/events{/privacy}", "received_events_url": "https://api.github.com/users/wielandbrendel/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-14T11:25:22Z", "updated_at": "2017-03-14T11:25:22Z", "author_association": "NONE", "body_html": "<p>I am running into the same problem. Here is a minimum example:</p>\n<pre><code>tf.reset_default_graph()\nsess = tf.InteractiveSession()\n\nx = tf.identity(tf.Variable(3.0))\nema = tf.train.ExponentialMovingAverage(0.9)\nmaintain_averages_op = ema.apply([x])\n\nsess.run(tf.initialize_all_variables())\nsess.run(maintain_averages_op)\nprint('x', sess.run(x))\nprint('avg', sess.run(ema.average(x)))\n</code></pre>\n<p>This returns</p>\n<pre><code>x 3.0\navg 0.3\n</code></pre>", "body_text": "I am running into the same problem. Here is a minimum example:\ntf.reset_default_graph()\nsess = tf.InteractiveSession()\n\nx = tf.identity(tf.Variable(3.0))\nema = tf.train.ExponentialMovingAverage(0.9)\nmaintain_averages_op = ema.apply([x])\n\nsess.run(tf.initialize_all_variables())\nsess.run(maintain_averages_op)\nprint('x', sess.run(x))\nprint('avg', sess.run(ema.average(x)))\n\nThis returns\nx 3.0\navg 0.3", "body": "I am running into the same problem. Here is a minimum example:\r\n\r\n```\r\ntf.reset_default_graph()\r\nsess = tf.InteractiveSession()\r\n\r\nx = tf.identity(tf.Variable(3.0))\r\nema = tf.train.ExponentialMovingAverage(0.9)\r\nmaintain_averages_op = ema.apply([x])\r\n\r\nsess.run(tf.initialize_all_variables())\r\nsess.run(maintain_averages_op)\r\nprint('x', sess.run(x))\r\nprint('avg', sess.run(ema.average(x)))\r\n```\r\nThis returns\r\n```\r\nx 3.0\r\navg 0.3\r\n```"}