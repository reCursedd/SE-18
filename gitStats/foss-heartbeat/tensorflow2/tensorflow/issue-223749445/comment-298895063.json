{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/298895063", "html_url": "https://github.com/tensorflow/tensorflow/pull/9409#issuecomment-298895063", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9409", "id": 298895063, "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODg5NTA2Mw==", "user": {"login": "DavidNorman", "id": 606831, "node_id": "MDQ6VXNlcjYwNjgzMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/606831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidNorman", "html_url": "https://github.com/DavidNorman", "followers_url": "https://api.github.com/users/DavidNorman/followers", "following_url": "https://api.github.com/users/DavidNorman/following{/other_user}", "gists_url": "https://api.github.com/users/DavidNorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidNorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidNorman/subscriptions", "organizations_url": "https://api.github.com/users/DavidNorman/orgs", "repos_url": "https://api.github.com/users/DavidNorman/repos", "events_url": "https://api.github.com/users/DavidNorman/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidNorman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-03T12:21:22Z", "updated_at": "2017-05-03T12:21:22Z", "author_association": "CONTRIBUTOR", "body_html": "<p>no - the load statement isn't acceptable within a skylark function.  it is something that is processed during the loading of the files, before the building of the rules begins.</p>\n<p>there are no ways of loading configuration information before rule generation apart from through .bzl/BUILD files.  These can only be included unconditionally, and therefore have to be part of the repository, or generated by the ./configure command.  I don't think that either of those is nice.</p>\n<p>If the bazel could accept rule generation time config options which have value (instead of being on/off), then it could be done.</p>\n<p>I think it is simpler to inject the config file into the runtime environment of the test and let the python script load it.</p>", "body_text": "no - the load statement isn't acceptable within a skylark function.  it is something that is processed during the loading of the files, before the building of the rules begins.\nthere are no ways of loading configuration information before rule generation apart from through .bzl/BUILD files.  These can only be included unconditionally, and therefore have to be part of the repository, or generated by the ./configure command.  I don't think that either of those is nice.\nIf the bazel could accept rule generation time config options which have value (instead of being on/off), then it could be done.\nI think it is simpler to inject the config file into the runtime environment of the test and let the python script load it.", "body": "no - the load statement isn't acceptable within a skylark function.  it is something that is processed during the loading of the files, before the building of the rules begins.\r\n\r\nthere are no ways of loading configuration information before rule generation apart from through .bzl/BUILD files.  These can only be included unconditionally, and therefore have to be part of the repository, or generated by the ./configure command.  I don't think that either of those is nice.\r\n\r\nIf the bazel could accept rule generation time config options which have value (instead of being on/off), then it could be done.\r\n\r\nI think it is simpler to inject the config file into the runtime environment of the test and let the python script load it.\r\n"}