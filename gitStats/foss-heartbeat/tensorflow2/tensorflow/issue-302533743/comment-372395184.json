{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/372395184", "html_url": "https://github.com/tensorflow/tensorflow/pull/17459#issuecomment-372395184", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17459", "id": 372395184, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjM5NTE4NA==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-12T17:30:45Z", "updated_at": "2018-03-12T17:30:45Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1192265\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yifeif\">@yifeif</a> I agree we should keep raw checkpoints out of saved_model_cli. We are actively encouraging saving models as SavedModels.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=29591201\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zhangbo5891001\">@zhangbo5891001</a> users would have to write their own code to interpret a checkpoint + metagraph. There isn't enough information in the metagraph to simply run it. What is the threat model here? I can see a situation where someone writes a graph execution tool and then runs untrusted graphs which happen to conform to an interface that make them work with this custom tool.</p>\n<p>The way to formally specify the interface (and therefore make this something you can actually share) would be to produce a SavedModel. I would be in favor of adding functionality to saved_model_cli to allows converting a graph + (optionally) a checkpoint + (optionally) inputs and outputs to a SavedModel. Checking that for vulnerabilities (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"303317178\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/17529\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/17529/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/17529\">#17529</a>) makes a lot of sense.</p>", "body_text": "@yifeif I agree we should keep raw checkpoints out of saved_model_cli. We are actively encouraging saving models as SavedModels.\n@zhangbo5891001 users would have to write their own code to interpret a checkpoint + metagraph. There isn't enough information in the metagraph to simply run it. What is the threat model here? I can see a situation where someone writes a graph execution tool and then runs untrusted graphs which happen to conform to an interface that make them work with this custom tool.\nThe way to formally specify the interface (and therefore make this something you can actually share) would be to produce a SavedModel. I would be in favor of adding functionality to saved_model_cli to allows converting a graph + (optionally) a checkpoint + (optionally) inputs and outputs to a SavedModel. Checking that for vulnerabilities (see #17529) makes a lot of sense.", "body": "@yifeif I agree we should keep raw checkpoints out of saved_model_cli. We are actively encouraging saving models as SavedModels. \r\n\r\n@zhangbo5891001 users would have to write their own code to interpret a checkpoint + metagraph. There isn't enough information in the metagraph to simply run it. What is the threat model here? I can see a situation where someone writes a graph execution tool and then runs untrusted graphs which happen to conform to an interface that make them work with this custom tool. \r\n\r\nThe way to formally specify the interface (and therefore make this something you can actually share) would be to produce a SavedModel. I would be in favor of adding functionality to saved_model_cli to allows converting a graph + (optionally) a checkpoint + (optionally) inputs and outputs to a SavedModel. Checking that for vulnerabilities (see #17529) makes a lot of sense."}