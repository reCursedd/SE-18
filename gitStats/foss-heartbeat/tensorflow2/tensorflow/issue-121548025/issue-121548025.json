{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/469", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/469/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/469/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/469", "id": 121548025, "node_id": "MDU6SXNzdWUxMjE1NDgwMjU=", "number": 469, "title": "bazel 0.1.2  undeclared inclusions fixes needed in BUILD files", "user": {"login": "GregBowyer", "id": 125935, "node_id": "MDQ6VXNlcjEyNTkzNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/125935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GregBowyer", "html_url": "https://github.com/GregBowyer", "followers_url": "https://api.github.com/users/GregBowyer/followers", "following_url": "https://api.github.com/users/GregBowyer/following{/other_user}", "gists_url": "https://api.github.com/users/GregBowyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/GregBowyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GregBowyer/subscriptions", "organizations_url": "https://api.github.com/users/GregBowyer/orgs", "repos_url": "https://api.github.com/users/GregBowyer/repos", "events_url": "https://api.github.com/users/GregBowyer/events{/privacy}", "received_events_url": "https://api.github.com/users/GregBowyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 29, "created_at": "2015-12-10T18:24:34Z", "updated_at": "2016-06-17T06:27:49Z", "closed_at": "2016-01-16T02:12:22Z", "author_association": "NONE", "body_html": "<p>Started out with this error</p>\n<pre><code>(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\nINFO: Found 1 target...\nINFO: From Compiling external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/external/gemmlowp/BUILD:77:1: C++ compilation of rule '@gemmlowp//:eight_bit_int_gemm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o).\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 1.907s, Critical Path: 1.27s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\ngcc: fatal error: no input files\ncompilation terminated.\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Mon_Feb_16_22:59:02_CST_2015\nCuda compilation tools, release 7.0, V7.0.27\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n</code></pre>\n<hr>\n<p>Suggestion from Vijay Vasudevan is to use different bazel build params</p>\n<blockquote>\n<p>Can you try building with --spawn_strategy=standalone ?  After talking with the bazel folks it looks like the sandbox for some reason doesn't have the crosstool wrapper in the right location, so running in standalone mode might work better.</p>\n</blockquote>\n<hr>\n<p>That yields this error</p>\n<pre><code>(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/stream_executor/BUILD:5:1: undeclared inclusion(s) in rule '//tensorflow/stream_executor:stream_executor':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/stream_executor/cuda/cuda_platform_id.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/stream_executor/cuda/cuda_platform_id.h'.\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 2.893s, Critical Path: 2.64s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/core/BUILD:272:1: undeclared inclusion(s) in rule '//tensorflow/core:gpu_kernels':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/aggregate_ops_gpu.cu.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/core/framework/tensor_types.h'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 38.609s, Critical Path: 37.67s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n</code></pre>\n<hr>\n<p>Evgeny Shaliov notes that</p>\n<blockquote>\n<p>nvcc --version should return 6.5.* but CUDA toolkit should be installed 7.0.</p>\n<p>I posted <a href=\"https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/jRkkvsB1iWA\" rel=\"nofollow\">https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/jRkkvsB1iWA</a>.<br>\nAlso pay attention what gcc version you use.</p>\n<p>Best regards,<br>\nEvgeny.</p>\n</blockquote>\n<hr>\n<p>Vijay Vasudevan also remarks</p>\n<blockquote>\n<p>Yikes! :(</p>\n<p>What version of bazel do you happen to be using?</p>\n</blockquote>\n<p>And asks to move this to github issues, so here we are :P</p>", "body_text": "Started out with this error\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\nINFO: Found 1 target...\nINFO: From Compiling external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/external/gemmlowp/BUILD:77:1: C++ compilation of rule '@gemmlowp//:eight_bit_int_gemm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow && \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow && \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o).\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 1.907s, Critical Path: 1.27s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\ngcc: fatal error: no input files\ncompilation terminated.\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Mon_Feb_16_22:59:02_CST_2015\nCuda compilation tools, release 7.0, V7.0.27\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n\n\nSuggestion from Vijay Vasudevan is to use different bazel build params\n\nCan you try building with --spawn_strategy=standalone ?  After talking with the bazel folks it looks like the sandbox for some reason doesn't have the crosstool wrapper in the right location, so running in standalone mode might work better.\n\n\nThat yields this error\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/stream_executor/BUILD:5:1: undeclared inclusion(s) in rule '//tensorflow/stream_executor:stream_executor':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/stream_executor/cuda/cuda_platform_id.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/stream_executor/cuda/cuda_platform_id.h'.\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 2.893s, Critical Path: 2.64s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/core/BUILD:272:1: undeclared inclusion(s) in rule '//tensorflow/core:gpu_kernels':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/aggregate_ops_gpu.cu.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/core/framework/tensor_types.h'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 38.609s, Critical Path: 37.67s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n\n\nEvgeny Shaliov notes that\n\nnvcc --version should return 6.5.* but CUDA toolkit should be installed 7.0.\nI posted https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/jRkkvsB1iWA.\nAlso pay attention what gcc version you use.\nBest regards,\nEvgeny.\n\n\nVijay Vasudevan also remarks\n\nYikes! :(\nWhat version of bazel do you happen to be using?\n\nAnd asks to move this to github issues, so here we are :P", "body": "Started out with this error\n\n```\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer\nINFO: Found 1 target...\nINFO: From Compiling external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc:\nsrc/main/tools/namespace-sandbox.c:633: execvp(argv[0], argv): No such file or directory\nERROR: /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/external/gemmlowp/BUILD:77:1: C++ compilation of rule '@gemmlowp//:eight_bit_int_gemm' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow && \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o): crosstool_wrapper_driver_is_not_gcc failed: error executing command\n  (cd /tmp/gbowyer/.cache/bazel/_bazel_gbowyer/d132132edbbae685571ab9488dabc906/tensorflow && \\\n  exec env - \\\n    PATH=/opt/java/jdk1.8.0_31/bin:/tmp/gbowyer/dbpedia-thing/env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/cuda-7.0/bin:/usr/local/cuda-7.0/bin:/sbin:/usr/sbin:/tmp/gbowyer/.scripts:/sbin:/usr/sbin:/tmp/gbowyer/pkg/bin:/tmp/gbowyer/.scripts:/tmp/gbowyer/pkgs/bin \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -iquote external/gemmlowp -iquote bazel-out/local_linux-opt/genfiles/external/gemmlowp -iquote external/bazel_tools -iquote bazel-out/local_linux-opt/genfiles/external/bazel_tools -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' '-frandom-seed=bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o' -MD -MF bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.d -c external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.cc -o bazel-out/local_linux-opt/bin/external/gemmlowp/_objs/eight_bit_int_gemm/external/gemmlowp/eight_bit_int_gemm/eight_bit_int_gemm.o).\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 1.907s, Critical Path: 1.27s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\ngcc: fatal error: no input files\ncompilation terminated.\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Mon_Feb_16_22:59:02_CST_2015\nCuda compilation tools, release 7.0, V7.0.27\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n```\n\n---\n\nSuggestion from Vijay Vasudevan is to use different bazel build params\n\n> Can you try building with --spawn_strategy=standalone ?  After talking with the bazel folks it looks like the sandbox for some reason doesn't have the crosstool wrapper in the right location, so running in standalone mode might work better.\n\n---\n\nThat yields this error\n\n```\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/stream_executor/BUILD:5:1: undeclared inclusion(s) in rule '//tensorflow/stream_executor:stream_executor':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/stream_executor/cuda/cuda_platform_id.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/stream_executor/cuda/cuda_platform_id.h'.\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 2.893s, Critical Path: 2.64s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $ bazel build --verbose_failures -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --spawn_strategy=standalone\nINFO: Found 1 target...\nERROR: /tmp/gbowyer/tensorflow/tensorflow/core/BUILD:272:1: undeclared inclusion(s) in rule '//tensorflow/core:gpu_kernels':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/kernels/aggregate_ops_gpu.cu.cc':\n  '/tmp/gbowyer/tensorflow/tensorflow/core/framework/tensor_types.h'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 38.609s, Critical Path: 37.67s\n(env)gbowyer@compute-10-3-61-179 ~/tensorflow $\n```\n\n---\n\nEvgeny Shaliov notes that\n\n> nvcc --version should return 6.5.\\* but CUDA toolkit should be installed 7.0. \n> \n> I posted https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/jRkkvsB1iWA.\n> Also pay attention what gcc version you use.\n> \n> Best regards,\n> Evgeny.\n\n---\n\nVijay Vasudevan also remarks\n\n> Yikes! :(\n> \n> What version of bazel do you happen to be using? \n\nAnd asks to move this to github issues, so here we are :P\n"}