{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3092", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3092/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3092/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3092/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3092", "id": 162812158, "node_id": "MDU6SXNzdWUxNjI4MTIxNTg=", "number": 3092, "title": "Compile fails with 'DSO missing from command line'", "user": {"login": "delip", "id": 347398, "node_id": "MDQ6VXNlcjM0NzM5OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/347398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delip", "html_url": "https://github.com/delip", "followers_url": "https://api.github.com/users/delip/followers", "following_url": "https://api.github.com/users/delip/following{/other_user}", "gists_url": "https://api.github.com/users/delip/gists{/gist_id}", "starred_url": "https://api.github.com/users/delip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delip/subscriptions", "organizations_url": "https://api.github.com/users/delip/orgs", "repos_url": "https://api.github.com/users/delip/repos", "events_url": "https://api.github.com/users/delip/events{/privacy}", "received_events_url": "https://api.github.com/users/delip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-06-28T23:46:21Z", "updated_at": "2016-08-11T16:04:47Z", "closed_at": "2016-07-09T03:33:12Z", "author_association": "NONE", "body_html": "<pre><code>ERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions ... (remaining 26 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 123.174s, Critical Path: 86.34s\n\n</code></pre>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nLinux ghost 4.4.0-24-generic <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115973401\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/43\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/43/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/43\">#43</a>-Ubuntu SMP Wed Jun 8 19:27:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<p>Using 8.0<br>\n(output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n<a href=\"https://gist.github.com/delip/6a85c0750a216a8e5340dd29606860f2\">https://gist.github.com/delip/6a85c0750a216a8e5340dd29606860f2</a></p>\n<p>If installed from sources, provide the commit hash:<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/214ba59755791a4c4631e2bc0325d77451483740/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/214ba59755791a4c4631e2bc0325d77451483740\"><tt>214ba59</tt></a></p>\n<h3>Steps to reproduce</h3>\n<p>Follow usual compile steps</p>\n<ol>\n<li>./configure</li>\n<li>bazel build -c opt --verbose_failures --config=cuda //tensorflow/cc:tutorials_example_trainer</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>bazel clean, rebuild</li>\n<li>Fresh clone + build</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>logs with --verbose_failures</p>\n<pre><code>ERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/delip/.cache/bazel/_bazel_delip/197c8f9456af837dca196cbcaf2ed97a/tensorflow &amp;&amp; \\\n  exec env - \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions bazel-out/host/bin/tensorflow/tools/proto_text/_objs/gen_proto_text_functions/tensorflow/tools/proto_text/gen_proto_text_functions.o bazel-out/host/bin/tensorflow/tools/proto_text/libgen_proto_text_functions_lib.a bazel-out/host/bin/tensorflow/core/liblib_internal.a bazel-out/host/bin/external/farmhash_archive/libfarmhash.a bazel-out/host/bin/external/jpeg_archive/libjpeg.a bazel-out/host/bin/external/png_archive/libpng.a bazel-out/host/bin/external/highwayhash/libsip_hash.a bazel-out/host/bin/external/re2/libre2.a bazel-out/host/bin/tensorflow/core/libprotos_all_cc.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a bazel-out/host/bin/external/zlib_archive/libzlib.a -ldl -lz -pthread -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 0.856s, Critical Path: 0.13s\n\n</code></pre>", "body_text": "ERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions ... (remaining 26 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 123.174s, Critical Path: 86.34s\n\n\nEnvironment info\nOperating System:\nLinux ghost 4.4.0-24-generic #43-Ubuntu SMP Wed Jun 8 19:27:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\nInstalled version of CUDA and cuDNN:\nUsing 8.0\n(output of ls -l /path/to/cuda/lib/libcud*):\nhttps://gist.github.com/delip/6a85c0750a216a8e5340dd29606860f2\nIf installed from sources, provide the commit hash:\ncommit 214ba59\nSteps to reproduce\nFollow usual compile steps\n\n./configure\nbazel build -c opt --verbose_failures --config=cuda //tensorflow/cc:tutorials_example_trainer\n\nWhat have you tried?\n\nbazel clean, rebuild\nFresh clone + build\n\nLogs or other output that would be helpful\nlogs with --verbose_failures\nERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/delip/.cache/bazel/_bazel_delip/197c8f9456af837dca196cbcaf2ed97a/tensorflow && \\\n  exec env - \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions bazel-out/host/bin/tensorflow/tools/proto_text/_objs/gen_proto_text_functions/tensorflow/tools/proto_text/gen_proto_text_functions.o bazel-out/host/bin/tensorflow/tools/proto_text/libgen_proto_text_functions_lib.a bazel-out/host/bin/tensorflow/core/liblib_internal.a bazel-out/host/bin/external/farmhash_archive/libfarmhash.a bazel-out/host/bin/external/jpeg_archive/libjpeg.a bazel-out/host/bin/external/png_archive/libpng.a bazel-out/host/bin/external/highwayhash/libsip_hash.a bazel-out/host/bin/external/re2/libre2.a bazel-out/host/bin/tensorflow/core/libprotos_all_cc.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a bazel-out/host/bin/external/zlib_archive/libzlib.a -ldl -lz -pthread -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 0.856s, Critical Path: 0.13s", "body": "```\nERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions ... (remaining 26 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 123.174s, Critical Path: 86.34s\n\n```\n### Environment info\n\nOperating System:\nLinux ghost 4.4.0-24-generic #43-Ubuntu SMP Wed Jun 8 19:27:37 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\nInstalled version of CUDA and cuDNN: \n\nUsing 8.0\n(output of `ls -l /path/to/cuda/lib/libcud*`):\nhttps://gist.github.com/delip/6a85c0750a216a8e5340dd29606860f2\n\nIf installed from sources, provide the commit hash:\ncommit 214ba59755791a4c4631e2bc0325d77451483740\n### Steps to reproduce\n\nFollow usual compile steps\n1. ./configure\n2. bazel build -c opt --verbose_failures --config=cuda //tensorflow/cc:tutorials_example_trainer\n### What have you tried?\n1. bazel clean, rebuild\n2. Fresh clone + build\n### Logs or other output that would be helpful\n\nlogs with --verbose_failures\n\n```\nERROR: /sw/tensorflow/tensorflow/tools/proto_text/BUILD:31:1: Linking of rule '//tensorflow/tools/proto_text:gen_proto_text_functions' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/delip/.cache/bazel/_bazel_delip/197c8f9456af837dca196cbcaf2ed97a/tensorflow && \\\n  exec env - \\\n  third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/tools/proto_text/gen_proto_text_functions bazel-out/host/bin/tensorflow/tools/proto_text/_objs/gen_proto_text_functions/tensorflow/tools/proto_text/gen_proto_text_functions.o bazel-out/host/bin/tensorflow/tools/proto_text/libgen_proto_text_functions_lib.a bazel-out/host/bin/tensorflow/core/liblib_internal.a bazel-out/host/bin/external/farmhash_archive/libfarmhash.a bazel-out/host/bin/external/jpeg_archive/libjpeg.a bazel-out/host/bin/external/png_archive/libpng.a bazel-out/host/bin/external/highwayhash/libsip_hash.a bazel-out/host/bin/external/re2/libre2.a bazel-out/host/bin/tensorflow/core/libprotos_all_cc.a bazel-out/host/bin/external/protobuf/libprotobuf.a bazel-out/host/bin/external/protobuf/libprotobuf_lite.a bazel-out/host/bin/external/zlib_archive/libzlib.a -ldl -lz -pthread -lpthread -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/tensorflow/core/liblib_internal.a(numbers.o): undefined reference to symbol 'ceil@@GLIBC_2.2.5'\n//lib/x86_64-linux-gnu/libm.so.6: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nINFO: Elapsed time: 0.856s, Critical Path: 0.13s\n\n```\n"}