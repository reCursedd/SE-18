{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18238", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18238/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18238/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18238/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18238", "id": 311277447, "node_id": "MDU6SXNzdWUzMTEyNzc0NDc=", "number": 18238, "title": "Feature Request: keepdims option for tf.boolean_mask()", "user": {"login": "datwelk", "id": 1571141, "node_id": "MDQ6VXNlcjE1NzExNDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1571141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datwelk", "html_url": "https://github.com/datwelk", "followers_url": "https://api.github.com/users/datwelk/followers", "following_url": "https://api.github.com/users/datwelk/following{/other_user}", "gists_url": "https://api.github.com/users/datwelk/gists{/gist_id}", "starred_url": "https://api.github.com/users/datwelk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datwelk/subscriptions", "organizations_url": "https://api.github.com/users/datwelk/orgs", "repos_url": "https://api.github.com/users/datwelk/repos", "events_url": "https://api.github.com/users/datwelk/events{/privacy}", "received_events_url": "https://api.github.com/users/datwelk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-04-04T15:23:20Z", "updated_at": "2018-10-09T18:43:57Z", "closed_at": "2018-10-09T18:43:57Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: N/A</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: N/A</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: N/A</li>\n<li><strong>TensorFlow version (use command below)</strong>: ('v1.6.0-0-gd2e24b6039', '1.6.0')</li>\n<li><strong>Python version</strong>: Python 2.7.14</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/A</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/A</li>\n<li><strong>CUDA/cuDNN version</strong>: N/A</li>\n<li><strong>GPU model and memory</strong>: N/A</li>\n<li><strong>Exact command to reproduce</strong>: N/A</li>\n</ul>\n<h3>Describe the problem</h3>\n<p><code>tf.boolean_mask()</code> currently grabs individual elements from the input tensor according to the shape and content of the boolean mask argument (see <a href=\"https://www.tensorflow.org/api_docs/python/tf/boolean_mask\" rel=\"nofollow\">https://www.tensorflow.org/api_docs/python/tf/boolean_mask</a>). The returning tensor's dimensionality is always lower than or equal to the input tensor. It would be very useful if <code>tf.boolean_mask()</code> included an additional, optional boolean argument <code>keepdims</code>. If <code>keepdims=False</code>, the behavior of the method is unchanged. If <code>keepdims=True</code>, the output tensor would have the same dimensionality as the input tensor. This would allow 'filtering out' of certain values from the input, while keeping its overall shape as much as possible (see example below).</p>\n<h3>Source code / logs</h3>\n<pre><code>tensor = [[1, 2], [3, 4], [5, 6]]\nmask = np.array([[True, False],[False, True],[False, True]])\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4, 6]\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4],[6]]\n\nmask = np.array([[True, False],[False, True],[False, False]])\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4]\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4]]\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): N/A\nTensorFlow installed from (source or binary): N/A\nTensorFlow version (use command below): ('v1.6.0-0-gd2e24b6039', '1.6.0')\nPython version: Python 2.7.14\nBazel version (if compiling from source): N/A\nGCC/Compiler version (if compiling from source): N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nExact command to reproduce: N/A\n\nDescribe the problem\ntf.boolean_mask() currently grabs individual elements from the input tensor according to the shape and content of the boolean mask argument (see https://www.tensorflow.org/api_docs/python/tf/boolean_mask). The returning tensor's dimensionality is always lower than or equal to the input tensor. It would be very useful if tf.boolean_mask() included an additional, optional boolean argument keepdims. If keepdims=False, the behavior of the method is unchanged. If keepdims=True, the output tensor would have the same dimensionality as the input tensor. This would allow 'filtering out' of certain values from the input, while keeping its overall shape as much as possible (see example below).\nSource code / logs\ntensor = [[1, 2], [3, 4], [5, 6]]\nmask = np.array([[True, False],[False, True],[False, True]])\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4, 6]\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4],[6]]\n\nmask = np.array([[True, False],[False, True],[False, False]])\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4]\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4]]", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: N/A\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: N/A\r\n- **TensorFlow installed from (source or binary)**: N/A\r\n- **TensorFlow version (use command below)**: ('v1.6.0-0-gd2e24b6039', '1.6.0')\r\n- **Python version**: Python 2.7.14\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: N/A\r\n\r\n### Describe the problem\r\n`tf.boolean_mask()` currently grabs individual elements from the input tensor according to the shape and content of the boolean mask argument (see https://www.tensorflow.org/api_docs/python/tf/boolean_mask). The returning tensor's dimensionality is always lower than or equal to the input tensor. It would be very useful if `tf.boolean_mask()` included an additional, optional boolean argument `keepdims`. If `keepdims=False`, the behavior of the method is unchanged. If `keepdims=True`, the output tensor would have the same dimensionality as the input tensor. This would allow 'filtering out' of certain values from the input, while keeping its overall shape as much as possible (see example below).\r\n\r\n### Source code / logs\r\n```\r\ntensor = [[1, 2], [3, 4], [5, 6]]\r\nmask = np.array([[True, False],[False, True],[False, True]])\r\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4, 6]\r\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4],[6]]\r\n\r\nmask = np.array([[True, False],[False, True],[False, False]])\r\nboolean_mask(tensor, mask, keepdims=False)  # [1, 4]\r\nboolean_mask(tensor, mask, keepdims=True) # [[1],[4]]\r\n```\r\n"}