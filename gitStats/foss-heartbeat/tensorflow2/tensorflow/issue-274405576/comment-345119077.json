{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345119077", "html_url": "https://github.com/tensorflow/tensorflow/issues/14613#issuecomment-345119077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14613", "id": 345119077, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTExOTA3Nw==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-17T01:38:43Z", "updated_at": "2017-11-17T01:38:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I don't think there was any change that would cause this error. From the error message though it looks like the handle might have been captured (using <code>Iterator.to_string_handle()</code>) in a different session from which it is being used. Since you're using <code>tf.train.MonitoredTrainingSession</code>, is it possible that the session has been recreated? If that's the case, you'll need to make sure to recompute the handle\u2014and potentially reinitialize the iterator\u2014in the new session.</p>\n<p>A possible workaround, which might or might not work depending on the actual cause of the problem, would be to set a <code>shared_name</code> when you create the iterator. I believe that should make the handle string stable across restarts of the session (as long as it's not in a task that could have failed).</p>", "body_text": "I don't think there was any change that would cause this error. From the error message though it looks like the handle might have been captured (using Iterator.to_string_handle()) in a different session from which it is being used. Since you're using tf.train.MonitoredTrainingSession, is it possible that the session has been recreated? If that's the case, you'll need to make sure to recompute the handle\u2014and potentially reinitialize the iterator\u2014in the new session.\nA possible workaround, which might or might not work depending on the actual cause of the problem, would be to set a shared_name when you create the iterator. I believe that should make the handle string stable across restarts of the session (as long as it's not in a task that could have failed).", "body": "I don't think there was any change that would cause this error. From the error message though it looks like the handle might have been captured (using `Iterator.to_string_handle()`) in a different session from which it is being used. Since you're using `tf.train.MonitoredTrainingSession`, is it possible that the session has been recreated? If that's the case, you'll need to make sure to recompute the handle\u2014and potentially reinitialize the iterator\u2014in the new session.\r\n\r\nA possible workaround, which might or might not work depending on the actual cause of the problem, would be to set a `shared_name` when you create the iterator. I believe that should make the handle string stable across restarts of the session (as long as it's not in a task that could have failed)."}