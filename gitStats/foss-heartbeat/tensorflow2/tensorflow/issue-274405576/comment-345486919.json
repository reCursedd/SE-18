{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345486919", "html_url": "https://github.com/tensorflow/tensorflow/issues/14613#issuecomment-345486919", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14613", "id": 345486919, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ4NjkxOQ==", "user": {"login": "MtDersvan", "id": 7069222, "node_id": "MDQ6VXNlcjcwNjkyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MtDersvan", "html_url": "https://github.com/MtDersvan", "followers_url": "https://api.github.com/users/MtDersvan/followers", "following_url": "https://api.github.com/users/MtDersvan/following{/other_user}", "gists_url": "https://api.github.com/users/MtDersvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MtDersvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MtDersvan/subscriptions", "organizations_url": "https://api.github.com/users/MtDersvan/orgs", "repos_url": "https://api.github.com/users/MtDersvan/repos", "events_url": "https://api.github.com/users/MtDersvan/events{/privacy}", "received_events_url": "https://api.github.com/users/MtDersvan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-19T02:29:29Z", "updated_at": "2017-11-19T02:29:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Actually, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a>, as I've been training past few days with r1.4, I caught <code>tf.train.MonitoredTrainingSession</code> occasionally and silently restarting sessions without raising any errors!</p>\n<div class=\"highlight highlight-text-shell-session\"><pre># <span class=\"pl-s1\">Few hours of training</span>\n<span class=\"pl-c1\">...</span>\n<span class=\"pl-c1\">2017-11-19 02:01:35.079083: I tensorflow/core/distributed_runtime/master_session.cc:1004] </span>\n<span class=\"pl-c1\">Start master session fc7b867194458c34 with config: </span>\n<span class=\"pl-c1\">gpu_options { allow_growth: true } </span>\n<span class=\"pl-c1\">allow_soft_placement: true </span>\n<span class=\"pl-c1\">graph_options { optimizer_options { global_jit_level: ON_1 } }</span>\n<span class=\"pl-c1\"> 2017-11-19 02:06:11.963118: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 23453 of 125000</span>\n<span class=\"pl-c1\">2017-11-19 02:06:21.963333: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 47689 of 125000</span>\n<span class=\"pl-c1\">2017-11-19 02:06:31.963203: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 70957 of 125000</span>\n<span class=\"pl-c1\">2017-11-19 02:06:41.963338: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 95095 of 125000</span>\n<span class=\"pl-c1\">2017-11-19 02:06:51.963216: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 119359 of 125000</span>\n<span class=\"pl-c1\">2017-11-19 02:06:54.333142: I tensorflow/core/kernels/shuffle_dataset_op.cc:121] Shuffle buffer filled. </span>\n<span class=\"pl-c1\">...</span>\n# <span class=\"pl-s1\">Few hours of training</span></pre></div>\n<p>And this would happen on any worker without any traces at random moments during training.<br>\nSo I think the Error Handling might have changed since the latest release.<br>\nThis is not good, and makes my models sad(<br>\nCan I be of any help in determining the cause?</p>", "body_text": "Actually, @mrry, as I've been training past few days with r1.4, I caught tf.train.MonitoredTrainingSession occasionally and silently restarting sessions without raising any errors!\n# Few hours of training\n...\n2017-11-19 02:01:35.079083: I tensorflow/core/distributed_runtime/master_session.cc:1004] \nStart master session fc7b867194458c34 with config: \ngpu_options { allow_growth: true } \nallow_soft_placement: true \ngraph_options { optimizer_options { global_jit_level: ON_1 } }\n 2017-11-19 02:06:11.963118: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 23453 of 125000\n2017-11-19 02:06:21.963333: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 47689 of 125000\n2017-11-19 02:06:31.963203: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 70957 of 125000\n2017-11-19 02:06:41.963338: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 95095 of 125000\n2017-11-19 02:06:51.963216: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 119359 of 125000\n2017-11-19 02:06:54.333142: I tensorflow/core/kernels/shuffle_dataset_op.cc:121] Shuffle buffer filled. \n...\n# Few hours of training\nAnd this would happen on any worker without any traces at random moments during training.\nSo I think the Error Handling might have changed since the latest release.\nThis is not good, and makes my models sad(\nCan I be of any help in determining the cause?", "body": "Actually, @mrry, as I've been training past few days with r1.4, I caught `tf.train.MonitoredTrainingSession` occasionally and silently restarting sessions without raising any errors! \r\n~~~console\r\n# Few hours of training\r\n...\r\n2017-11-19 02:01:35.079083: I tensorflow/core/distributed_runtime/master_session.cc:1004] \r\nStart master session fc7b867194458c34 with config: \r\ngpu_options { allow_growth: true } \r\nallow_soft_placement: true \r\ngraph_options { optimizer_options { global_jit_level: ON_1 } }\r\n 2017-11-19 02:06:11.963118: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 23453 of 125000\r\n2017-11-19 02:06:21.963333: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 47689 of 125000\r\n2017-11-19 02:06:31.963203: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 70957 of 125000\r\n2017-11-19 02:06:41.963338: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 95095 of 125000\r\n2017-11-19 02:06:51.963216: I tensorflow/core/kernels/shuffle_dataset_op.cc:110] Filling up shuffle buffer (this may take a while): 119359 of 125000\r\n2017-11-19 02:06:54.333142: I tensorflow/core/kernels/shuffle_dataset_op.cc:121] Shuffle buffer filled. \r\n...\r\n# Few hours of training\r\n~~~\r\nAnd this would happen on any worker without any traces at random moments during training.\r\nSo I think the Error Handling might have changed since the latest release.\r\nThis is not good, and makes my models sad(\r\nCan I be of any help in determining the cause? \r\n"}