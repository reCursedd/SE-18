{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288669257", "html_url": "https://github.com/tensorflow/tensorflow/pull/8653#issuecomment-288669257", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8653", "id": 288669257, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODY2OTI1Nw==", "user": {"login": "qjivy", "id": 24410810, "node_id": "MDQ6VXNlcjI0NDEwODEw", "avatar_url": "https://avatars2.githubusercontent.com/u/24410810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qjivy", "html_url": "https://github.com/qjivy", "followers_url": "https://api.github.com/users/qjivy/followers", "following_url": "https://api.github.com/users/qjivy/following{/other_user}", "gists_url": "https://api.github.com/users/qjivy/gists{/gist_id}", "starred_url": "https://api.github.com/users/qjivy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qjivy/subscriptions", "organizations_url": "https://api.github.com/users/qjivy/orgs", "repos_url": "https://api.github.com/users/qjivy/repos", "events_url": "https://api.github.com/users/qjivy/events{/privacy}", "received_events_url": "https://api.github.com/users/qjivy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-23T09:55:20Z", "updated_at": "2017-03-23T09:55:20Z", "author_association": "CONTRIBUTOR", "body_html": "<ol>\n<li>\n<p>Information about the GNU toolchain's \"system-specific predefined macros\" can be get from:<br>\n<a href=\"url\">https://gcc.gnu.org/onlinedocs/cpp/System-specific-Predefined-Macros.html</a></p>\n</li>\n<li>\n<p>How can we infer that the <strong>linux</strong> is always set to 1 by the GNU cpp?</p>\n</li>\n</ol>\n<p>(1) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in c_cpp_builtins()<br>\n<code>1041   TARGET_OS_CPP_BUILTINS ();</code></p>\n<p>(2) gcc-4.9/gcc/config/aarch64/aarch64-linux-android.h:<br>\n<code>#undef TARGET_OS_CPP_BUILTINS #define TARGET_OS_CPP_BUILTINS()                \\ do                                            \\ {                                           \\ GNU_USER_TARGET_OS_CPP_BUILTINS();      \\ ANDROID_TARGET_OS_CPP_BUILTINS();       \\ }                                           \\ while (0) </code></p>\n<p>(3) gcc-4.9/gcc/config/linux.h:<br>\n<code>#define GNU_USER_TARGET_OS_CPP_BUILTINS()                       \\ do {                                                        \\ if (OPTION_GLIBC)                                       \\ builtin_define (\"__gnu_linux__\");                     \\ builtin_define_std (\"linux\");                           \\ builtin_define_std (\"unix\");                            \\ builtin_assert (\"system=linux\");                        \\ builtin_assert (\"system=unix\");                         \\ builtin_assert (\"system=posix\");                        \\ } while (0) </code></p>\n<p>(4) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in builtin_define_std() routine, the \"linux\" macro will be converted to \"<strong>linux</strong>\"</p>", "body_text": "Information about the GNU toolchain's \"system-specific predefined macros\" can be get from:\nhttps://gcc.gnu.org/onlinedocs/cpp/System-specific-Predefined-Macros.html\n\n\nHow can we infer that the linux is always set to 1 by the GNU cpp?\n\n\n(1) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in c_cpp_builtins()\n1041   TARGET_OS_CPP_BUILTINS ();\n(2) gcc-4.9/gcc/config/aarch64/aarch64-linux-android.h:\n#undef TARGET_OS_CPP_BUILTINS #define TARGET_OS_CPP_BUILTINS()                \\ do                                            \\ {                                           \\ GNU_USER_TARGET_OS_CPP_BUILTINS();      \\ ANDROID_TARGET_OS_CPP_BUILTINS();       \\ }                                           \\ while (0) \n(3) gcc-4.9/gcc/config/linux.h:\n#define GNU_USER_TARGET_OS_CPP_BUILTINS()                       \\ do {                                                        \\ if (OPTION_GLIBC)                                       \\ builtin_define (\"__gnu_linux__\");                     \\ builtin_define_std (\"linux\");                           \\ builtin_define_std (\"unix\");                            \\ builtin_assert (\"system=linux\");                        \\ builtin_assert (\"system=unix\");                         \\ builtin_assert (\"system=posix\");                        \\ } while (0) \n(4) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in builtin_define_std() routine, the \"linux\" macro will be converted to \"linux\"", "body": "1. Information about the GNU toolchain's \"system-specific predefined macros\" can be get from:\\\r\n[https://gcc.gnu.org/onlinedocs/cpp/System-specific-Predefined-Macros.html](url)\r\n\r\n2. How can we infer that the __linux__ is always set to 1 by the GNU cpp?\r\n\r\n(1) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in c_cpp_builtins()\r\n`1041   TARGET_OS_CPP_BUILTINS ();`\r\n\r\n(2) gcc-4.9/gcc/config/aarch64/aarch64-linux-android.h: \r\n`#undef TARGET_OS_CPP_BUILTINS\r\n#define TARGET_OS_CPP_BUILTINS()                \\\r\n  do                                            \\\r\n    {                                           \\\r\n        GNU_USER_TARGET_OS_CPP_BUILTINS();      \\\r\n        ANDROID_TARGET_OS_CPP_BUILTINS();       \\\r\n    }                                           \\\r\n  while (0)\r\n`\r\n\r\n(3) gcc-4.9/gcc/config/linux.h:\r\n`#define GNU_USER_TARGET_OS_CPP_BUILTINS()                       \\\r\n    do {                                                        \\\r\n        if (OPTION_GLIBC)                                       \\\r\n          builtin_define (\"__gnu_linux__\");                     \\\r\n        builtin_define_std (\"linux\");                           \\\r\n        builtin_define_std (\"unix\");                            \\\r\n        builtin_assert (\"system=linux\");                        \\\r\n        builtin_assert (\"system=unix\");                         \\\r\n        builtin_assert (\"system=posix\");                        \\\r\n    } while (0)\r\n`\r\n\r\n(4) gcc-4.9/gcc/c-family/c-cppbuiltin.c: in builtin_define_std() routine, the \"linux\" macro will be converted to \"__linux__\"\r\n"}