{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/291604596", "html_url": "https://github.com/tensorflow/tensorflow/issues/8921#issuecomment-291604596", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8921", "id": 291604596, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTYwNDU5Ng==", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-04T19:20:08Z", "updated_at": "2017-04-04T19:20:08Z", "author_association": "MEMBER", "body_html": "<p>Most of our tests are written to work with bazel.<br>\nI highly recommend against running them outside bazel, and we do not really guarantee tests passing when run outside bazel.<br>\nHere is why you are seeing issues:<br>\nSaved_model test has a data dependency as defined here:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/BUILD#L106\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/BUILD#L106</a></p>\n<p>What bazel does is it arranges all the data dependencies under TEST_SRCDIR.<br>\nThen when we run this line after building with bazel, the folder is accessible to us:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/saved_model_test.py#L113\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/saved_model_test.py#L113</a></p>\n<p>Because bazel arranges all the dependencies for us, and gives a way for us to access them.</p>\n<p>Therefore, It will be tricky to run this test without bazel. And once you get it running, it will be brittle, because it is written using the concepts used by bazel, like the data dependencies.</p>\n<p>I will close this issue, as it is not a TF bug.<br>\nI would recommend reaching out to stackoverflow if you still would like to run TF unit tests outside bazel.</p>", "body_text": "Most of our tests are written to work with bazel.\nI highly recommend against running them outside bazel, and we do not really guarantee tests passing when run outside bazel.\nHere is why you are seeing issues:\nSaved_model test has a data dependency as defined here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/BUILD#L106\nWhat bazel does is it arranges all the data dependencies under TEST_SRCDIR.\nThen when we run this line after building with bazel, the folder is accessible to us:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/saved_model_test.py#L113\nBecause bazel arranges all the dependencies for us, and gives a way for us to access them.\nTherefore, It will be tricky to run this test without bazel. And once you get it running, it will be brittle, because it is written using the concepts used by bazel, like the data dependencies.\nI will close this issue, as it is not a TF bug.\nI would recommend reaching out to stackoverflow if you still would like to run TF unit tests outside bazel.", "body": "Most of our tests are written to work with bazel.\r\nI highly recommend against running them outside bazel, and we do not really guarantee tests passing when run outside bazel.\r\nHere is why you are seeing issues:\r\nSaved_model test has a data dependency as defined here:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/BUILD#L106\r\n\r\nWhat bazel does is it arranges all the data dependencies under TEST_SRCDIR.\r\nThen when we run this line after building with bazel, the folder is accessible to us:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/saved_model_test.py#L113\r\n\r\nBecause bazel arranges all the dependencies for us, and gives a way for us to access them.\r\n\r\nTherefore, It will be tricky to run this test without bazel. And once you get it running, it will be brittle, because it is written using the concepts used by bazel, like the data dependencies.\r\n\r\nI will close this issue, as it is not a TF bug.\r\nI would recommend reaching out to stackoverflow if you still would like to run TF unit tests outside bazel."}