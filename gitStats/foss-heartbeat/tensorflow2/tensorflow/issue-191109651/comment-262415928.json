{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/262415928", "html_url": "https://github.com/tensorflow/tensorflow/issues/5789#issuecomment-262415928", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5789", "id": 262415928, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQxNTkyOA==", "user": {"login": "Mistobaan", "id": 112599, "node_id": "MDQ6VXNlcjExMjU5OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/112599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mistobaan", "html_url": "https://github.com/Mistobaan", "followers_url": "https://api.github.com/users/Mistobaan/followers", "following_url": "https://api.github.com/users/Mistobaan/following{/other_user}", "gists_url": "https://api.github.com/users/Mistobaan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mistobaan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mistobaan/subscriptions", "organizations_url": "https://api.github.com/users/Mistobaan/orgs", "repos_url": "https://api.github.com/users/Mistobaan/repos", "events_url": "https://api.github.com/users/Mistobaan/events{/privacy}", "received_events_url": "https://api.github.com/users/Mistobaan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T01:34:53Z", "updated_at": "2016-11-23T01:34:53Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15676913\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/poxvoculi\">@poxvoculi</a></p>\n<p>The error was discussed on the <a href=\"https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/Hua1KbqqLWU\" rel=\"nofollow\">mailing list</a><br>\nand it occurs on the new AWS p2.16xlarge\tinstances.</p>\n<p>Looking at the code then there is something strange because I suspect that in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/common_runtime/gpu/gpu_device.cc#L766\">gpu_device.cc</a></p>\n<p><code>if (from-&gt;CanEnablePeerAccessTo(to)) {</code> returns <code>true</code> and then<br>\n<code>auto status = from-&gt;EnablePeerAccessTo(to);</code> returns <code>false</code>.</p>\n<p>and that was throwing errors <a href=\"https://github.com/tensorflow/tensorflow/commit/cfccd7ce1b9092eec98bb0989eb55a11e9d2b894\">before this change</a></p>", "body_text": "@poxvoculi\nThe error was discussed on the mailing list\nand it occurs on the new AWS p2.16xlarge\tinstances.\nLooking at the code then there is something strange because I suspect that in gpu_device.cc\nif (from->CanEnablePeerAccessTo(to)) { returns true and then\nauto status = from->EnablePeerAccessTo(to); returns false.\nand that was throwing errors before this change", "body": "@poxvoculi \r\n\r\nThe error was discussed on the [mailing list](https://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/Hua1KbqqLWU)\r\n and it occurs on the new AWS p2.16xlarge\tinstances.\r\n\r\nLooking at the code then there is something strange because I suspect that in [gpu_device.cc](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/common_runtime/gpu/gpu_device.cc#L766)\r\n\r\n`if (from->CanEnablePeerAccessTo(to)) {` returns `true` and then \r\n`auto status = from->EnablePeerAccessTo(to);` returns `false`.\r\n\r\nand that was throwing errors [before this change](https://github.com/tensorflow/tensorflow/commit/cfccd7ce1b9092eec98bb0989eb55a11e9d2b894) \r\n"}