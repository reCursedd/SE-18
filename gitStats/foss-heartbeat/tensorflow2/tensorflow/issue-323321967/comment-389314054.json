{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/389314054", "html_url": "https://github.com/tensorflow/tensorflow/issues/19299#issuecomment-389314054", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19299", "id": 389314054, "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTMxNDA1NA==", "user": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-15T21:08:36Z", "updated_at": "2018-05-15T21:08:36Z", "author_association": "MEMBER", "body_html": "<div class=\"email-fragment\">It definitely violates that requirement, but so does a lot of other code\n(including the implementation of Variable and ResourceVariable). That\nrequirement is only meaningful for GPU tensors, though, and resource\ntensors are always on host so this does not matter.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Tue, May 15, 2018 at 1:37 PM Geoffrey Irving ***@***.***&gt; wrote:\n Also, does this use of allocate_temp violate the requirement to not use\n \"after kernel construction\" (not really sure what that means if used from a\n Compute call):\n\n\n <a href=\"https://github.com/tensorflow/tensorflow/blob/90fe7226a464983e72a0242d5a05e4acba309195/tensorflow/core/framework/op_kernel.h#L261\">https://github.com/tensorflow/tensorflow/blob/90fe7226a464983e72a0242d5a05e4acba309195/tensorflow/core/framework/op_kernel.h#L261</a>\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"323321967\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/19299\" href=\"https://github.com/tensorflow/tensorflow/issues/19299#issuecomment-389303784\">#19299 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAATxUFo4ivIzx47dO3PuSQkY1__monaks5tyzyOgaJpZM4UAAU2\">https://github.com/notifications/unsubscribe-auth/AAATxUFo4ivIzx47dO3PuSQkY1__monaks5tyzyOgaJpZM4UAAU2</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n<div class=\"email-signature-reply\">-- \n - Alex</div>\n</div>", "body_text": "It definitely violates that requirement, but so does a lot of other code\n(including the implementation of Variable and ResourceVariable). That\nrequirement is only meaningful for GPU tensors, though, and resource\ntensors are always on host so this does not matter.\n\u2026\nOn Tue, May 15, 2018 at 1:37 PM Geoffrey Irving ***@***.***> wrote:\n Also, does this use of allocate_temp violate the requirement to not use\n \"after kernel construction\" (not really sure what that means if used from a\n Compute call):\n\n\n https://github.com/tensorflow/tensorflow/blob/90fe7226a464983e72a0242d5a05e4acba309195/tensorflow/core/framework/op_kernel.h#L261\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#19299 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AAATxUFo4ivIzx47dO3PuSQkY1__monaks5tyzyOgaJpZM4UAAU2>\n .\n\n\n-- \n - Alex", "body": "It definitely violates that requirement, but so does a lot of other code\n(including the implementation of Variable and ResourceVariable). That\nrequirement is only meaningful for GPU tensors, though, and resource\ntensors are always on host so this does not matter.\n\nOn Tue, May 15, 2018 at 1:37 PM Geoffrey Irving <notifications@github.com>\nwrote:\n\n> Also, does this use of allocate_temp violate the requirement to not use\n> \"after kernel construction\" (not really sure what that means if used from a\n> Compute call):\n>\n>\n> https://github.com/tensorflow/tensorflow/blob/90fe7226a464983e72a0242d5a05e4acba309195/tensorflow/core/framework/op_kernel.h#L261\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/19299#issuecomment-389303784>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAATxUFo4ivIzx47dO3PuSQkY1__monaks5tyzyOgaJpZM4UAAU2>\n> .\n>\n\n\n-- \n - Alex\n"}