{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288117610", "html_url": "https://github.com/tensorflow/tensorflow/issues/8551#issuecomment-288117610", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8551", "id": 288117610, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODExNzYxMA==", "user": {"login": "MicaelCarvalho", "id": 17184992, "node_id": "MDQ6VXNlcjE3MTg0OTky", "avatar_url": "https://avatars3.githubusercontent.com/u/17184992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MicaelCarvalho", "html_url": "https://github.com/MicaelCarvalho", "followers_url": "https://api.github.com/users/MicaelCarvalho/followers", "following_url": "https://api.github.com/users/MicaelCarvalho/following{/other_user}", "gists_url": "https://api.github.com/users/MicaelCarvalho/gists{/gist_id}", "starred_url": "https://api.github.com/users/MicaelCarvalho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MicaelCarvalho/subscriptions", "organizations_url": "https://api.github.com/users/MicaelCarvalho/orgs", "repos_url": "https://api.github.com/users/MicaelCarvalho/repos", "events_url": "https://api.github.com/users/MicaelCarvalho/events{/privacy}", "received_events_url": "https://api.github.com/users/MicaelCarvalho/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-21T15:34:25Z", "updated_at": "2017-03-21T15:36:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Keep in mind everything you're doing is symbolic. Therefore, you cannot know the shape of your supposed image before actually loading it \u2014 and this is why the Tensor is \"shapeless\". Even the last dimension isn't inferrable, because it could be a grayscale image (then third dimension = 1), a colored image (third dimension = 3), a gif (third dimension = 4), or something else.</p>\n<p>As <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1381301\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ppwwyyxx\">@ppwwyyxx</a> said, you can (1) use set_shape if you know the shape of the tensor/image and want to simplify its usage, this can be used to force the third dimension, if you're sure your images will always be on the same format; (2) manipulate your images with operations that accept symbolic shapes throughout your pipeline, like <code>tf.reshape</code>; or (3) split your graph and load the images with a <code>sess.run</code> before actually sending them through the rest of the graph, this will allow you to know their exact shape \"beforehand\" (subject to interpretations).</p>\n<p>The symbolic operation to get a tensor's (possibly image) shape is <code>tf.shape(x)</code>.</p>", "body_text": "Keep in mind everything you're doing is symbolic. Therefore, you cannot know the shape of your supposed image before actually loading it \u2014 and this is why the Tensor is \"shapeless\". Even the last dimension isn't inferrable, because it could be a grayscale image (then third dimension = 1), a colored image (third dimension = 3), a gif (third dimension = 4), or something else.\nAs @ppwwyyxx said, you can (1) use set_shape if you know the shape of the tensor/image and want to simplify its usage, this can be used to force the third dimension, if you're sure your images will always be on the same format; (2) manipulate your images with operations that accept symbolic shapes throughout your pipeline, like tf.reshape; or (3) split your graph and load the images with a sess.run before actually sending them through the rest of the graph, this will allow you to know their exact shape \"beforehand\" (subject to interpretations).\nThe symbolic operation to get a tensor's (possibly image) shape is tf.shape(x).", "body": "Keep in mind everything you're doing is symbolic. Therefore, you cannot know the shape of your supposed image before actually loading it \u2014 and this is why the Tensor is \"shapeless\". Even the last dimension isn't inferrable, because it could be a grayscale image (then third dimension = 1), a colored image (third dimension = 3), a gif (third dimension = 4), or something else.\r\n\r\nAs @ppwwyyxx said, you can (1) use set_shape if you know the shape of the tensor/image and want to simplify its usage, this can be used to force the third dimension, if you're sure your images will always be on the same format; (2) manipulate your images with operations that accept symbolic shapes throughout your pipeline, like `tf.reshape`; or (3) split your graph and load the images with a `sess.run` before actually sending them through the rest of the graph, this will allow you to know their exact shape \"beforehand\" (subject to interpretations).\r\n\r\nThe symbolic operation to get a tensor's (possibly image) shape is `tf.shape(x)`."}