{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/374609802", "html_url": "https://github.com/tensorflow/tensorflow/issues/17783#issuecomment-374609802", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17783", "id": 374609802, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDYwOTgwMg==", "user": {"login": "qtdaniel", "id": 21170884, "node_id": "MDQ6VXNlcjIxMTcwODg0", "avatar_url": "https://avatars2.githubusercontent.com/u/21170884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qtdaniel", "html_url": "https://github.com/qtdaniel", "followers_url": "https://api.github.com/users/qtdaniel/followers", "following_url": "https://api.github.com/users/qtdaniel/following{/other_user}", "gists_url": "https://api.github.com/users/qtdaniel/gists{/gist_id}", "starred_url": "https://api.github.com/users/qtdaniel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qtdaniel/subscriptions", "organizations_url": "https://api.github.com/users/qtdaniel/orgs", "repos_url": "https://api.github.com/users/qtdaniel/repos", "events_url": "https://api.github.com/users/qtdaniel/events{/privacy}", "received_events_url": "https://api.github.com/users/qtdaniel/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-20T14:05:27Z", "updated_at": "2018-03-20T14:05:27Z", "author_association": "NONE", "body_html": "<p>While developing that alternative code I found I needed to cast the indexes to <code>int64</code> since the total number of elements exceeded <code>2**31</code> and this caused <code>gather_nd</code> problems. I wonder whether this is actually the cause of the problem in <code>tf.nn.sparse_softmax_cross_entropy_with_logits</code>; is it assuming the total number of elements is less than <code>2**31</code>?</p>", "body_text": "While developing that alternative code I found I needed to cast the indexes to int64 since the total number of elements exceeded 2**31 and this caused gather_nd problems. I wonder whether this is actually the cause of the problem in tf.nn.sparse_softmax_cross_entropy_with_logits; is it assuming the total number of elements is less than 2**31?", "body": "While developing that alternative code I found I needed to cast the indexes to `int64` since the total number of elements exceeded `2**31` and this caused `gather_nd` problems. I wonder whether this is actually the cause of the problem in `tf.nn.sparse_softmax_cross_entropy_with_logits`; is it assuming the total number of elements is less than `2**31`?"}