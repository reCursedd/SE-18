{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/437967828", "html_url": "https://github.com/tensorflow/tensorflow/issues/22023#issuecomment-437967828", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22023", "id": 437967828, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk2NzgyOA==", "user": {"login": "Nayana-ibm", "id": 20816038, "node_id": "MDQ6VXNlcjIwODE2MDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/20816038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nayana-ibm", "html_url": "https://github.com/Nayana-ibm", "followers_url": "https://api.github.com/users/Nayana-ibm/followers", "following_url": "https://api.github.com/users/Nayana-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/Nayana-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nayana-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nayana-ibm/subscriptions", "organizations_url": "https://api.github.com/users/Nayana-ibm/orgs", "repos_url": "https://api.github.com/users/Nayana-ibm/repos", "events_url": "https://api.github.com/users/Nayana-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/Nayana-ibm/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-12T17:38:50Z", "updated_at": "2018-11-12T17:39:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=479117\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jdduke\">@jdduke</a> I have tried building v1.12.0 with vectorization on Ubuntu 18.04 with gcc v7.3.0, Bazel v0.15.0 on s390x platform .</p>\n<p>command used:<br>\n<code>bazel --host_jvm_args=\"-Xms512m\" --host_jvm_args=\"-Xmx1024m\" build --config=opt --copt=\"-mzvector\" //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>However got an error:</p>\n<pre><code>ERROR: /root/tensorflow/tensorflow/contrib/lite/kernels/BUILD:158:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels:builtin_op_kernels' failed (Exit 1)^M\nIn file included from external/eigen_archive/Eigen/Core:431:0,\n                from ./third_party/eigen3/Eigen/Core:1,\n                from ./tensorflow/contrib/lite/kernels/internal/optimized/optimized_ops.h:28,\n                from tensorflow/contrib/lite/kernels/space_to_batch_nd.cc:19:\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h: In function 'Packet Eigen::internal::pmin(const Packet&amp;, const Packet&amp;) [with Packet = __vector(2) double]':\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h:454:115: *error: '__builtin_s390_vec_min' matching variant requires z14 or higher*\ntemplate&lt;&gt; EIGEN_STRONG_INLINE Packet2d pmin&lt;Packet2d&gt;(const Packet2d&amp; a, const Packet2d&amp; b) { return vec_min(a, b); }\n</code></pre>\n<p>Now, started build on z14 vm. will share the result.</p>", "body_text": "@jdduke I have tried building v1.12.0 with vectorization on Ubuntu 18.04 with gcc v7.3.0, Bazel v0.15.0 on s390x platform .\ncommand used:\nbazel --host_jvm_args=\"-Xms512m\" --host_jvm_args=\"-Xmx1024m\" build --config=opt --copt=\"-mzvector\" //tensorflow/tools/pip_package:build_pip_package\nHowever got an error:\nERROR: /root/tensorflow/tensorflow/contrib/lite/kernels/BUILD:158:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels:builtin_op_kernels' failed (Exit 1)^M\nIn file included from external/eigen_archive/Eigen/Core:431:0,\n                from ./third_party/eigen3/Eigen/Core:1,\n                from ./tensorflow/contrib/lite/kernels/internal/optimized/optimized_ops.h:28,\n                from tensorflow/contrib/lite/kernels/space_to_batch_nd.cc:19:\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h: In function 'Packet Eigen::internal::pmin(const Packet&, const Packet&) [with Packet = __vector(2) double]':\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h:454:115: *error: '__builtin_s390_vec_min' matching variant requires z14 or higher*\ntemplate<> EIGEN_STRONG_INLINE Packet2d pmin<Packet2d>(const Packet2d& a, const Packet2d& b) { return vec_min(a, b); }\n\nNow, started build on z14 vm. will share the result.", "body": "@jdduke I have tried building v1.12.0 with vectorization on Ubuntu 18.04 with gcc v7.3.0, Bazel v0.15.0 on s390x platform .\r\n\r\ncommand used:\r\n` bazel --host_jvm_args=\"-Xms512m\" --host_jvm_args=\"-Xmx1024m\" build --config=opt --copt=\"-mzvector\" //tensorflow/tools/pip_package:build_pip_package `\r\n\r\nHowever got an error: \r\n\r\n```\r\nERROR: /root/tensorflow/tensorflow/contrib/lite/kernels/BUILD:158:1: C++ compilation of rule '//tensorflow/contrib/lite/kernels:builtin_op_kernels' failed (Exit 1)^M\r\nIn file included from external/eigen_archive/Eigen/Core:431:0,\r\n                from ./third_party/eigen3/Eigen/Core:1,\r\n                from ./tensorflow/contrib/lite/kernels/internal/optimized/optimized_ops.h:28,\r\n                from tensorflow/contrib/lite/kernels/space_to_batch_nd.cc:19:\r\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h: In function 'Packet Eigen::internal::pmin(const Packet&, const Packet&) [with Packet = __vector(2) double]':\r\nexternal/eigen_archive/Eigen/src/Core/arch/ZVector/PacketMath.h:454:115: *error: '__builtin_s390_vec_min' matching variant requires z14 or higher*\r\ntemplate<> EIGEN_STRONG_INLINE Packet2d pmin<Packet2d>(const Packet2d& a, const Packet2d& b) { return vec_min(a, b); }\r\n```\r\n\r\nNow, started build on z14 vm. will share the result."}