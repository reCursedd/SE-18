{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313228815", "html_url": "https://github.com/tensorflow/tensorflow/issues/11256#issuecomment-313228815", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11256", "id": 313228815, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzIyODgxNQ==", "user": {"login": "amandajliu", "id": 8225615, "node_id": "MDQ6VXNlcjgyMjU2MTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/8225615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amandajliu", "html_url": "https://github.com/amandajliu", "followers_url": "https://api.github.com/users/amandajliu/followers", "following_url": "https://api.github.com/users/amandajliu/following{/other_user}", "gists_url": "https://api.github.com/users/amandajliu/gists{/gist_id}", "starred_url": "https://api.github.com/users/amandajliu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amandajliu/subscriptions", "organizations_url": "https://api.github.com/users/amandajliu/orgs", "repos_url": "https://api.github.com/users/amandajliu/repos", "events_url": "https://api.github.com/users/amandajliu/events{/privacy}", "received_events_url": "https://api.github.com/users/amandajliu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-05T21:14:10Z", "updated_at": "2017-07-05T21:14:10Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5319646\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ScorpioCPH\">@ScorpioCPH</a> when I run <code>wide_n_deep_tutorial.py</code> on r1.2, I get a ValueError:</p>\n<pre><code>Traceback (most recent call last):\n  File \"wide_n_deep_tutorial.py\", line 234, in &lt;module&gt;\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"wide_n_deep_tutorial.py\", line 197, in main\n    FLAGS.train_data, FLAGS.test_data)\n  File \"wide_n_deep_tutorial.py\", line 186, in train_and_eval\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py\", line 289, in new_func\n    return func(*args, **kwargs)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 455, in fit\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 953, in _train_model\n    features, labels = input_fn()\n  File \"wide_n_deep_tutorial.py\", line 186, in &lt;lambda&gt;\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\n  File \"wide_n_deep_tutorial.py\", line 148, in input_fn\n    for k in CATEGORICAL_COLUMNS}\n  File \"wide_n_deep_tutorial.py\", line 148, in &lt;dictcomp&gt;\n    for k in CATEGORICAL_COLUMNS}\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 132, in __init__\n    indices_shape = indices.get_shape().with_rank(2)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 632, in with_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (0,) must have rank 2\n</code></pre>\n<p>Any advice on this? Thanks.</p>", "body_text": "@ScorpioCPH when I run wide_n_deep_tutorial.py on r1.2, I get a ValueError:\nTraceback (most recent call last):\n  File \"wide_n_deep_tutorial.py\", line 234, in <module>\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"wide_n_deep_tutorial.py\", line 197, in main\n    FLAGS.train_data, FLAGS.test_data)\n  File \"wide_n_deep_tutorial.py\", line 186, in train_and_eval\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py\", line 289, in new_func\n    return func(*args, **kwargs)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 455, in fit\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 953, in _train_model\n    features, labels = input_fn()\n  File \"wide_n_deep_tutorial.py\", line 186, in <lambda>\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\n  File \"wide_n_deep_tutorial.py\", line 148, in input_fn\n    for k in CATEGORICAL_COLUMNS}\n  File \"wide_n_deep_tutorial.py\", line 148, in <dictcomp>\n    for k in CATEGORICAL_COLUMNS}\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 132, in __init__\n    indices_shape = indices.get_shape().with_rank(2)\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 632, in with_rank\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\nValueError: Shape (0,) must have rank 2\n\nAny advice on this? Thanks.", "body": "@ScorpioCPH when I run `wide_n_deep_tutorial.py` on r1.2, I get a ValueError:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"wide_n_deep_tutorial.py\", line 234, in <module>\r\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"wide_n_deep_tutorial.py\", line 197, in main\r\n    FLAGS.train_data, FLAGS.test_data)\r\n  File \"wide_n_deep_tutorial.py\", line 186, in train_and_eval\r\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py\", line 289, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 455, in fit\r\n    loss = self._train_model(input_fn=input_fn, hooks=hooks)\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 953, in _train_model\r\n    features, labels = input_fn()\r\n  File \"wide_n_deep_tutorial.py\", line 186, in <lambda>\r\n    m.fit(input_fn=lambda: input_fn(df_train), steps=train_steps)\r\n  File \"wide_n_deep_tutorial.py\", line 148, in input_fn\r\n    for k in CATEGORICAL_COLUMNS}\r\n  File \"wide_n_deep_tutorial.py\", line 148, in <dictcomp>\r\n    for k in CATEGORICAL_COLUMNS}\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 132, in __init__\r\n    indices_shape = indices.get_shape().with_rank(2)\r\n  File \"/home/usr/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 632, in with_rank\r\n    raise ValueError(\"Shape %s must have rank %d\" % (self, rank))\r\nValueError: Shape (0,) must have rank 2\r\n```\r\n\r\nAny advice on this? Thanks.\r\n"}