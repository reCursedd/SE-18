{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12955", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12955/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12955/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12955/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12955", "id": 256584806, "node_id": "MDU6SXNzdWUyNTY1ODQ4MDY=", "number": 12955, "title": "AttributeError: 'NoneType' object has no attribute 'get_tensor_by_name'**", "user": {"login": "monicakapadia", "id": 31838870, "node_id": "MDQ6VXNlcjMxODM4ODcw", "avatar_url": "https://avatars3.githubusercontent.com/u/31838870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monicakapadia", "html_url": "https://github.com/monicakapadia", "followers_url": "https://api.github.com/users/monicakapadia/followers", "following_url": "https://api.github.com/users/monicakapadia/following{/other_user}", "gists_url": "https://api.github.com/users/monicakapadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/monicakapadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monicakapadia/subscriptions", "organizations_url": "https://api.github.com/users/monicakapadia/orgs", "repos_url": "https://api.github.com/users/monicakapadia/repos", "events_url": "https://api.github.com/users/monicakapadia/events{/privacy}", "received_events_url": "https://api.github.com/users/monicakapadia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-11T05:24:06Z", "updated_at": "2017-09-11T14:52:38Z", "closed_at": "2017-09-11T14:52:37Z", "author_association": "NONE", "body_html": "<p>I trained mnist model and then create one .pb file by freeze that model. then i want  to load this freeze model  ... so my code is for load the freeze graph</p>\n<pre><code>import tensorflow as tf\nimport argparse \nfrom tensorflow.python.platform import gfile\n\ndef load_graph(model_filename):\nwith tf.Session() as sess:\n\tmodel_filename ='output_graph.pb'\n\twith gfile.FastGFile(model_filename, 'rb') as f:\n\t\tgraph_def = tf.GraphDef()\n\t\tgraph_def.ParseFromString(f.read())\n\t\tg_in = tf.import_graph_def(graph_def)\n\n if __name__ == '__main__':\n\n parser = argparse.ArgumentParser()\n parser.add_argument(\"--model_filename\", default=\"results/output_graph.pb\", type=str, \n                                                help=\"model_filename to import\")\n args = parser.parse_args()\n\nprint('Loading the model')\ngraph = load_graph(args.model_filename)\n\t\nx = graph.get_tensor_by_name(\"x:0\")\ny = graph.get_tensor_by_name(\"op1:0\")\nwith tf.Session(graph=graph) as sess:\n\t data = np.vectorize(lambda x: 255 - x)(np.ndarray.flatten(scipy.ndimage.imread\n                                                                                (\"C:/Users/HP/Desktop/digi.jpg\", flatten=True)))\n         result = sess.run(tf.argmax(y,1), feed_dict={x: [data]})\n             print (' '.join(map(str, result)))\n</code></pre>\n<p>Half of the code is run successfully but in last get the error of no attribute 'get_tensor_by_name''</p>\n<p><em><strong>Loading the model<br>\nTraceback (most recent call last):<br>\nFile \"C:\\Users\\HP\\Desktop\\programs\\TensorFlow\\save_export_fie.py\", line 29, in <br>\nx = graph.get_tensor_by_name(\"x:0\")<br>\nAttributeError: 'NoneType' object has no attribute 'get_tensor_by_name'</strong></em>*</p>\n<p>what is issue with my code..?????</p>", "body_text": "I trained mnist model and then create one .pb file by freeze that model. then i want  to load this freeze model  ... so my code is for load the freeze graph\nimport tensorflow as tf\nimport argparse \nfrom tensorflow.python.platform import gfile\n\ndef load_graph(model_filename):\nwith tf.Session() as sess:\n\tmodel_filename ='output_graph.pb'\n\twith gfile.FastGFile(model_filename, 'rb') as f:\n\t\tgraph_def = tf.GraphDef()\n\t\tgraph_def.ParseFromString(f.read())\n\t\tg_in = tf.import_graph_def(graph_def)\n\n if __name__ == '__main__':\n\n parser = argparse.ArgumentParser()\n parser.add_argument(\"--model_filename\", default=\"results/output_graph.pb\", type=str, \n                                                help=\"model_filename to import\")\n args = parser.parse_args()\n\nprint('Loading the model')\ngraph = load_graph(args.model_filename)\n\t\nx = graph.get_tensor_by_name(\"x:0\")\ny = graph.get_tensor_by_name(\"op1:0\")\nwith tf.Session(graph=graph) as sess:\n\t data = np.vectorize(lambda x: 255 - x)(np.ndarray.flatten(scipy.ndimage.imread\n                                                                                (\"C:/Users/HP/Desktop/digi.jpg\", flatten=True)))\n         result = sess.run(tf.argmax(y,1), feed_dict={x: [data]})\n             print (' '.join(map(str, result)))\n\nHalf of the code is run successfully but in last get the error of no attribute 'get_tensor_by_name''\nLoading the model\nTraceback (most recent call last):\nFile \"C:\\Users\\HP\\Desktop\\programs\\TensorFlow\\save_export_fie.py\", line 29, in \nx = graph.get_tensor_by_name(\"x:0\")\nAttributeError: 'NoneType' object has no attribute 'get_tensor_by_name'*\nwhat is issue with my code..?????", "body": "I trained mnist model and then create one .pb file by freeze that model. then i want  to load this freeze model  ... so my code is for load the freeze graph\r\n\r\n    import tensorflow as tf\r\n    import argparse \r\n    from tensorflow.python.platform import gfile\r\n\r\n    def load_graph(model_filename):\r\n\twith tf.Session() as sess:\r\n\t\tmodel_filename ='output_graph.pb'\r\n\t\twith gfile.FastGFile(model_filename, 'rb') as f:\r\n\t\t\tgraph_def = tf.GraphDef()\r\n\t\t\tgraph_def.ParseFromString(f.read())\r\n\t\t\tg_in = tf.import_graph_def(graph_def)\r\n\r\n     if __name__ == '__main__':\r\n    \r\n\t parser = argparse.ArgumentParser()\r\n\t parser.add_argument(\"--model_filename\", default=\"results/output_graph.pb\", type=str, \r\n                                                    help=\"model_filename to import\")\r\n\t args = parser.parse_args()\r\n\t\r\n\tprint('Loading the model')\r\n\tgraph = load_graph(args.model_filename)\r\n\t\t\r\n\tx = graph.get_tensor_by_name(\"x:0\")\r\n\ty = graph.get_tensor_by_name(\"op1:0\")\r\n\twith tf.Session(graph=graph) as sess:\r\n\t\t data = np.vectorize(lambda x: 255 - x)(np.ndarray.flatten(scipy.ndimage.imread\r\n                                                                                    (\"C:/Users/HP/Desktop/digi.jpg\", flatten=True)))\r\n\t         result = sess.run(tf.argmax(y,1), feed_dict={x: [data]})\r\n                 print (' '.join(map(str, result)))\r\n\r\n\r\nHalf of the code is run successfully but in last get the error of no attribute 'get_tensor_by_name''\r\n\r\n***Loading the model\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\HP\\Desktop\\programs\\TensorFlow\\save_export_fie.py\", line 29, in <module>\r\n    x = graph.get_tensor_by_name(\"x:0\")\r\nAttributeError: 'NoneType' object has no attribute 'get_tensor_by_name'****\r\n\r\nwhat is issue with my code..?????"}