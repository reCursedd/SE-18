{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153673830", "pull_request_review_id": 79714255, "id": 153673830, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MzY3MzgzMA==", "diff_hunk": "@@ -142,8 +144,9 @@ class GcsFileSystem : public FileSystem {\n   std::unique_ptr<AuthProvider> auth_provider_;\n   std::unique_ptr<HttpRequest::Factory> http_request_factory_;\n   std::unique_ptr<FileBlockCache> file_block_cache_;\n+#ifndef _WIN32", "path": "tensorflow/core/platform/cloud/gcs_file_system.h", "position": null, "original_position": 14, "commit_id": "26d005b6c1d2efa2781942a7dc54b6571823ea86", "original_commit_id": "ceba3aec991c54a307ac67869898abb9c507a295", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "body": "This cache was added to improve the robustness of accessing GCS when running in a container environment (@saeta might be able to say more about the circumstances in which it's useful). I'm inclined to keep the code paths as similar as possible for different platforms, to aid maintainability.\r\n\r\nAs far as I can tell, the only missing pieces for compiling `GcsDnsCache` on Windows are some changes to the `#include` and a shim to map `inet_ntop()` to the Winsock function `InetNtop()`. If that's the case, I'd ask you to bundle the changes together in the same PR.", "created_at": "2017-11-29T01:34:27Z", "updated_at": "2017-12-05T06:19:40Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/14856#discussion_r153673830", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14856", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/153673830"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/14856#discussion_r153673830"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/14856"}}, "body_html": "<p>This cache was added to improve the robustness of accessing GCS when running in a container environment (<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1284535\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/saeta\">@saeta</a> might be able to say more about the circumstances in which it's useful). I'm inclined to keep the code paths as similar as possible for different platforms, to aid maintainability.</p>\n<p>As far as I can tell, the only missing pieces for compiling <code>GcsDnsCache</code> on Windows are some changes to the <code>#include</code> and a shim to map <code>inet_ntop()</code> to the Winsock function <code>InetNtop()</code>. If that's the case, I'd ask you to bundle the changes together in the same PR.</p>", "body_text": "This cache was added to improve the robustness of accessing GCS when running in a container environment (@saeta might be able to say more about the circumstances in which it's useful). I'm inclined to keep the code paths as similar as possible for different platforms, to aid maintainability.\nAs far as I can tell, the only missing pieces for compiling GcsDnsCache on Windows are some changes to the #include and a shim to map inet_ntop() to the Winsock function InetNtop(). If that's the case, I'd ask you to bundle the changes together in the same PR.", "in_reply_to_id": 153543971}