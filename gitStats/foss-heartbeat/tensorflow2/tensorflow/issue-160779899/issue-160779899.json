{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2915", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2915/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2915/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2915/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2915", "id": 160779899, "node_id": "MDU6SXNzdWUxNjA3Nzk4OTk=", "number": 2915, "title": "Error when compiling TensorFlow from source for GPU", "user": {"login": "hsaputra", "id": 105434, "node_id": "MDQ6VXNlcjEwNTQzNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/105434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsaputra", "html_url": "https://github.com/hsaputra", "followers_url": "https://api.github.com/users/hsaputra/followers", "following_url": "https://api.github.com/users/hsaputra/following{/other_user}", "gists_url": "https://api.github.com/users/hsaputra/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsaputra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsaputra/subscriptions", "organizations_url": "https://api.github.com/users/hsaputra/orgs", "repos_url": "https://api.github.com/users/hsaputra/repos", "events_url": "https://api.github.com/users/hsaputra/events{/privacy}", "received_events_url": "https://api.github.com/users/hsaputra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-16T23:01:50Z", "updated_at": "2016-06-17T21:50:42Z", "closed_at": "2016-06-17T21:50:42Z", "author_association": "CONTRIBUTOR", "body_html": "<p>When trying to compile TF from source, I am seeing error</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 16.04</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n/usr/local/cuda/lib/libcudadevrt.a<br>\n/usr/local/cuda/lib/libcudart.so -&gt; libcudart.so.7.5<br>\n/usr/local/cuda/lib/libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n/usr/local/cuda/lib/libcudart.so.7.5.18<br>\n/usr/local/cuda/lib/libcudart_static.a</p>\n<p>If installed from sources, provide the commit hash:<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/679f95e9d8d538c3c02c0da45606bab22a71420e/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/679f95e9d8d538c3c02c0da45606bab22a71420e\"><tt>679f95e</tt></a></p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Git clone from TF source: `git clone <a href=\"https://github.com/tensorflow/tensorflow.git\">https://github.com/tensorflow/tensorflow.git</a> tf_source``</li>\n<li>Install Baze and reqs</li>\n<li>Run ./configure</li>\n<li>Run</li>\n</ol>\n<pre><code>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install `echo /tmp/tensorflow_pkg/tensorflow-*.whl`\n</code></pre>\n<h3>Logs or other output that would be helpful</h3>\n<pre><code>____Building...\n____[0 / 4] Symlinking //tensorflow/tools/pip_package:build_pip_package\n____[3 / 54] Creating source manifest for //tensorflow/tensorboard:tensorboard\n____[4 / 59] Creating runfiles tree bazel-out/local_linux-py3-opt/bin/tensorflow/tensorboard/tensorboard.runfiles\n____[13 / 288] Creating source manifest for //tensorflow/tools/proto_text:gen_proto_text_functions [for host]\n____[20 / 487] Executing genrule //third_party/gpus/cuda:cuda_config_check [for host]\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: declared output 'third_party/gpus/cuda/cuda.config' is a dangling symbolic link.\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: not all outputs were created.\n____Building complete.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n____Elapsed time: 243.360s, Critical Path: 0.42s\n</code></pre>", "body_text": "When trying to compile TF from source, I am seeing error\nEnvironment info\nOperating System:\nUbuntu 16.04\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n/usr/local/cuda/lib/libcudadevrt.a\n/usr/local/cuda/lib/libcudart.so -> libcudart.so.7.5\n/usr/local/cuda/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n/usr/local/cuda/lib/libcudart.so.7.5.18\n/usr/local/cuda/lib/libcudart_static.a\nIf installed from sources, provide the commit hash:\n679f95e\nSteps to reproduce\n\nGit clone from TF source: `git clone https://github.com/tensorflow/tensorflow.git tf_source``\nInstall Baze and reqs\nRun ./configure\nRun\n\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install `echo /tmp/tensorflow_pkg/tensorflow-*.whl`\n\nLogs or other output that would be helpful\n____Building...\n____[0 / 4] Symlinking //tensorflow/tools/pip_package:build_pip_package\n____[3 / 54] Creating source manifest for //tensorflow/tensorboard:tensorboard\n____[4 / 59] Creating runfiles tree bazel-out/local_linux-py3-opt/bin/tensorflow/tensorboard/tensorboard.runfiles\n____[13 / 288] Creating source manifest for //tensorflow/tools/proto_text:gen_proto_text_functions [for host]\n____[20 / 487] Executing genrule //third_party/gpus/cuda:cuda_config_check [for host]\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: declared output 'third_party/gpus/cuda/cuda.config' is a dangling symbolic link.\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: not all outputs were created.\n____Building complete.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n____Elapsed time: 243.360s, Critical Path: 0.42s", "body": "When trying to compile TF from source, I am seeing error\n### Environment info\n\nOperating System:\nUbuntu 16.04\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n /usr/local/cuda/lib/libcudadevrt.a\n/usr/local/cuda/lib/libcudart.so -> libcudart.so.7.5\n/usr/local/cuda/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n/usr/local/cuda/lib/libcudart.so.7.5.18\n/usr/local/cuda/lib/libcudart_static.a\n\nIf installed from sources, provide the commit hash:\n679f95e9d8d538c3c02c0da45606bab22a71420e\n### Steps to reproduce\n1. Git clone from TF source: `git clone https://github.com/tensorflow/tensorflow.git tf_source``\n2. Install Baze and reqs\n3. Run ./configure\n4. Run \n\n```\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install `echo /tmp/tensorflow_pkg/tensorflow-*.whl`\n```\n### Logs or other output that would be helpful\n\n```\n____Building...\n____[0 / 4] Symlinking //tensorflow/tools/pip_package:build_pip_package\n____[3 / 54] Creating source manifest for //tensorflow/tensorboard:tensorboard\n____[4 / 59] Creating runfiles tree bazel-out/local_linux-py3-opt/bin/tensorflow/tensorboard/tensorboard.runfiles\n____[13 / 288] Creating source manifest for //tensorflow/tools/proto_text:gen_proto_text_functions [for host]\n____[20 / 487] Executing genrule //third_party/gpus/cuda:cuda_config_check [for host]\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: declared output 'third_party/gpus/cuda/cuda.config' is a dangling symbolic link.\nERROR: /tf_source/third_party/gpus/cuda/BUILD:204:1: not all outputs were created.\n____Building complete.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n____Elapsed time: 243.360s, Critical Path: 0.42s\n```\n"}