{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9763", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9763/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9763/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9763/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9763", "id": 227107596, "node_id": "MDU6SXNzdWUyMjcxMDc1OTY=", "number": 9763, "title": "Android libandroid_tensorflow_inference - \"No OpKernel was registered to support Op 'FloorMod' with these attrs\" when using tf.nn.atrous_conv2d", "user": {"login": "telefire", "id": 3867213, "node_id": "MDQ6VXNlcjM4NjcyMTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3867213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/telefire", "html_url": "https://github.com/telefire", "followers_url": "https://api.github.com/users/telefire/followers", "following_url": "https://api.github.com/users/telefire/following{/other_user}", "gists_url": "https://api.github.com/users/telefire/gists{/gist_id}", "starred_url": "https://api.github.com/users/telefire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/telefire/subscriptions", "organizations_url": "https://api.github.com/users/telefire/orgs", "repos_url": "https://api.github.com/users/telefire/repos", "events_url": "https://api.github.com/users/telefire/events{/privacy}", "received_events_url": "https://api.github.com/users/telefire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-08T16:52:34Z", "updated_at": "2017-09-30T16:34:11Z", "closed_at": "2017-05-09T16:05:21Z", "author_association": "NONE", "body_html": "<p>hi, everyone,</p>\n<p>We are trying to load a pb file inside Android. The pb file is generated with python 2.7.0 and Tensorflow 1.0.1.   We have this following error:</p>\n<pre><code>exception triggered java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'FloorMod' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                    &lt;no registered kernels&gt;                                                                  \n                                                                  \t [[Node: WCon/atrous_conv2d/mod = FloorMod[T=DT_INT32, _device=\"/device:CPU:0\"](WCon/atrous_conv2d/add_1, WCon/atrous_conv2d/mod/y)]]\n</code></pre>\n<p>The network definition is using tf.nn.atrous_conv2d(i, k, dilation_rate, padding=padding)</p>\n<p>And our freezing graph code is also pretty standard.</p>\n<p>We have no problem running this pb files for inference with python under Tensorflow 1.0.1</p>\n<p>But when running on Android phone, we will see the above error, I tried several nightly build TF Android Inference library including the latest from <a href=\"https://ci.tensorflow.org/view/Nightly/job/nightly-android/\" rel=\"nofollow\">https://ci.tensorflow.org/view/Nightly/job/nightly-android/</a>    The result is the same</p>\n<p>My feeling is that the inference on Tensorflow python and Tensorflow Android has a huge gap?</p>\n<p>Thanks for any ideas!</p>", "body_text": "hi, everyone,\nWe are trying to load a pb file inside Android. The pb file is generated with python 2.7.0 and Tensorflow 1.0.1.   We have this following error:\nexception triggered java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'FloorMod' with these attrs.  Registered devices: [CPU], Registered kernels:\n                                                                    <no registered kernels>                                                                  \n                                                                  \t [[Node: WCon/atrous_conv2d/mod = FloorMod[T=DT_INT32, _device=\"/device:CPU:0\"](WCon/atrous_conv2d/add_1, WCon/atrous_conv2d/mod/y)]]\n\nThe network definition is using tf.nn.atrous_conv2d(i, k, dilation_rate, padding=padding)\nAnd our freezing graph code is also pretty standard.\nWe have no problem running this pb files for inference with python under Tensorflow 1.0.1\nBut when running on Android phone, we will see the above error, I tried several nightly build TF Android Inference library including the latest from https://ci.tensorflow.org/view/Nightly/job/nightly-android/    The result is the same\nMy feeling is that the inference on Tensorflow python and Tensorflow Android has a huge gap?\nThanks for any ideas!", "body": "hi, everyone,\r\n\r\nWe are trying to load a pb file inside Android. The pb file is generated with python 2.7.0 and Tensorflow 1.0.1.   We have this following error:\r\n\r\n```\r\nexception triggered java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'FloorMod' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n                                                                    <no registered kernels>                                                                  \r\n                                                                  \t [[Node: WCon/atrous_conv2d/mod = FloorMod[T=DT_INT32, _device=\"/device:CPU:0\"](WCon/atrous_conv2d/add_1, WCon/atrous_conv2d/mod/y)]]\r\n```\r\n\r\nThe network definition is using tf.nn.atrous_conv2d(i, k, dilation_rate, padding=padding)\r\n\r\nAnd our freezing graph code is also pretty standard.\r\n\r\nWe have no problem running this pb files for inference with python under Tensorflow 1.0.1\r\n\r\nBut when running on Android phone, we will see the above error, I tried several nightly build TF Android Inference library including the latest from https://ci.tensorflow.org/view/Nightly/job/nightly-android/    The result is the same\r\n\r\nMy feeling is that the inference on Tensorflow python and Tensorflow Android has a huge gap?\r\n\r\nThanks for any ideas!\r\n\r\n\r\n"}