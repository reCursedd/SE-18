{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6969", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6969/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6969/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6969/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6969", "id": 202031519, "node_id": "MDU6SXNzdWUyMDIwMzE1MTk=", "number": 6969, "title": "Go: Unable to import bool tensors in Go", "user": {"login": "sdeoras", "id": 16372009, "node_id": "MDQ6VXNlcjE2MzcyMDA5", "avatar_url": "https://avatars2.githubusercontent.com/u/16372009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdeoras", "html_url": "https://github.com/sdeoras", "followers_url": "https://api.github.com/users/sdeoras/followers", "following_url": "https://api.github.com/users/sdeoras/following{/other_user}", "gists_url": "https://api.github.com/users/sdeoras/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdeoras/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdeoras/subscriptions", "organizations_url": "https://api.github.com/users/sdeoras/orgs", "repos_url": "https://api.github.com/users/sdeoras/repos", "events_url": "https://api.github.com/users/sdeoras/events{/privacy}", "received_events_url": "https://api.github.com/users/sdeoras/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-01-20T02:22:27Z", "updated_at": "2017-01-24T22:13:58Z", "closed_at": "2017-01-24T20:56:34Z", "author_association": "NONE", "body_html": "<p>Hi Tensorflow/Go team,</p>\n<p>Following python code writes a graph with a bool tensor \"z\", which fails to import from a Go code.</p>\n<pre><code>\nimport tensorflow as tf\nz = tf.equal(0, 0, name=\"z\")\nsess = tf.Session()\nprint sess.run(z)\ntf.train.write_graph(sess.graph_def, \"/tmp/load\", \"boolTest.pb\", False)\n</code></pre>\n<p>And here is the Go code</p>\n<pre><code>\npackage bugs\n\nimport (\n\t\"fmt\"\n\ttf \"github.com/tensorflow/tensorflow/tensorflow/go\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestBoolTest(t *testing.T) {\n\tmodel, err := ioutil.ReadFile(\"/tmp/load/boolTest.pb\")\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\tgraph := tf.NewGraph()\n\tif err := graph.Import(model, \"\"); err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tz := graph.Operation(\"z\").Output(0)\n\tsess, err := tf.NewSession(graph, nil)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\tdefer sess.Close()\n\n\tzOut, err := sess.Run(nil, []tf.Output{z}, nil)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tfmt.Println(zOut[0].Value().(bool))\n}\n\n</code></pre>\n<p>Returns error:</p>\n<p>=== RUN   TestBoolTest<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.<br>\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.<br>\n--- FAIL: TestBoolTest (0.04s)<br>\npanic: BUG: Please report at <a href=\"https://github.com/tensorflow/tensorflow/issues\">https://github.com/tensorflow/tensorflow/issues</a> with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool [recovered]<br>\npanic: BUG: Please report at <a href=\"https://github.com/tensorflow/tensorflow/issues\">https://github.com/tensorflow/tensorflow/issues</a> with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool</p>\n<p>goroutine 5 [running]:<br>\npanic(0x5087c0, 0xc420012720)<br>\n/usr/lib/golang/src/runtime/panic.go:500 +0x1a1<br>\ntesting.tRunner.func1(0xc4200b8180)<br>\n/usr/lib/golang/src/testing/testing.go:579 +0x25d<br>\npanic(0x5087c0, 0xc420012720)<br>\n/usr/lib/golang/src/runtime/panic.go:458 +0x243<br>\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Tensor).Value(0xc420010300, 0x0, 0xc420065f38)<br>\n/home/sdeoras/go/src/github.com/tensorflow/tensorflow/tensorflow/go/tensor.go:176 +0x411<br>\nbitbucket.hgst.com/x/tensorflow.git/bugs.TestBoolTest(0xc4200b8180)<br>\n/home/sdeoras/go/src/bitbucket.hgst.com/x/tensorflow.git/bugs/boolTest_test.go:32 +0x25c<br>\ntesting.tRunner(0xc4200b8180, 0x53b728)<br>\n/usr/lib/golang/src/testing/testing.go:610 +0x81<br>\ncreated by testing.(*T).Run<br>\n/usr/lib/golang/src/testing/testing.go:646 +0x2ec<br>\nexit status 2<br>\nFAIL    bitbucket.hgst.com/x/tensorflow.git/bugs        0.143s</p>", "body_text": "Hi Tensorflow/Go team,\nFollowing python code writes a graph with a bool tensor \"z\", which fails to import from a Go code.\n\nimport tensorflow as tf\nz = tf.equal(0, 0, name=\"z\")\nsess = tf.Session()\nprint sess.run(z)\ntf.train.write_graph(sess.graph_def, \"/tmp/load\", \"boolTest.pb\", False)\n\nAnd here is the Go code\n\npackage bugs\n\nimport (\n\t\"fmt\"\n\ttf \"github.com/tensorflow/tensorflow/tensorflow/go\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestBoolTest(t *testing.T) {\n\tmodel, err := ioutil.ReadFile(\"/tmp/load/boolTest.pb\")\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\tgraph := tf.NewGraph()\n\tif err := graph.Import(model, \"\"); err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tz := graph.Operation(\"z\").Output(0)\n\tsess, err := tf.NewSession(graph, nil)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\tdefer sess.Close()\n\n\tzOut, err := sess.Run(nil, []tf.Output{z}, nil)\n\tif err != nil {\n\t\tt.Fatal(err)\n\t}\n\n\tfmt.Println(zOut[0].Value().(bool))\n}\n\n\nReturns error:\n=== RUN   TestBoolTest\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\n--- FAIL: TestBoolTest (0.04s)\npanic: BUG: Please report at https://github.com/tensorflow/tensorflow/issues with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool [recovered]\npanic: BUG: Please report at https://github.com/tensorflow/tensorflow/issues with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool\ngoroutine 5 [running]:\npanic(0x5087c0, 0xc420012720)\n/usr/lib/golang/src/runtime/panic.go:500 +0x1a1\ntesting.tRunner.func1(0xc4200b8180)\n/usr/lib/golang/src/testing/testing.go:579 +0x25d\npanic(0x5087c0, 0xc420012720)\n/usr/lib/golang/src/runtime/panic.go:458 +0x243\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Tensor).Value(0xc420010300, 0x0, 0xc420065f38)\n/home/sdeoras/go/src/github.com/tensorflow/tensorflow/tensorflow/go/tensor.go:176 +0x411\nbitbucket.hgst.com/x/tensorflow.git/bugs.TestBoolTest(0xc4200b8180)\n/home/sdeoras/go/src/bitbucket.hgst.com/x/tensorflow.git/bugs/boolTest_test.go:32 +0x25c\ntesting.tRunner(0xc4200b8180, 0x53b728)\n/usr/lib/golang/src/testing/testing.go:610 +0x81\ncreated by testing.(*T).Run\n/usr/lib/golang/src/testing/testing.go:646 +0x2ec\nexit status 2\nFAIL    bitbucket.hgst.com/x/tensorflow.git/bugs        0.143s", "body": "Hi Tensorflow/Go team,\r\n\r\nFollowing python code writes a graph with a bool tensor \"z\", which fails to import from a Go code.\r\n```\r\n\r\nimport tensorflow as tf\r\nz = tf.equal(0, 0, name=\"z\")\r\nsess = tf.Session()\r\nprint sess.run(z)\r\ntf.train.write_graph(sess.graph_def, \"/tmp/load\", \"boolTest.pb\", False)\r\n```\r\n\r\nAnd here is the Go code\r\n```\r\n\r\npackage bugs\r\n\r\nimport (\r\n\t\"fmt\"\r\n\ttf \"github.com/tensorflow/tensorflow/tensorflow/go\"\r\n\t\"io/ioutil\"\r\n\t\"testing\"\r\n)\r\n\r\nfunc TestBoolTest(t *testing.T) {\r\n\tmodel, err := ioutil.ReadFile(\"/tmp/load/boolTest.pb\")\r\n\tif err != nil {\r\n\t\tt.Fatal(err)\r\n\t}\r\n\tgraph := tf.NewGraph()\r\n\tif err := graph.Import(model, \"\"); err != nil {\r\n\t\tt.Fatal(err)\r\n\t}\r\n\r\n\tz := graph.Operation(\"z\").Output(0)\r\n\tsess, err := tf.NewSession(graph, nil)\r\n\tif err != nil {\r\n\t\tt.Fatal(err)\r\n\t}\r\n\tdefer sess.Close()\r\n\r\n\tzOut, err := sess.Run(nil, []tf.Output{z}, nil)\r\n\tif err != nil {\r\n\t\tt.Fatal(err)\r\n\t}\r\n\r\n\tfmt.Println(zOut[0].Value().(bool))\r\n}\r\n\r\n```\r\nReturns error:\r\n\r\n=== RUN   TestBoolTest\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n--- FAIL: TestBoolTest (0.04s)\r\npanic: BUG: Please report at https://github.com/tensorflow/tensorflow/issues with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool [recovered]\r\n        panic: BUG: Please report at https://github.com/tensorflow/tensorflow/issues with the note: Go TensorFlow 0.12.head: unable to decode Tensor of type 10 and shape [] - unsupported type bool\r\n\r\ngoroutine 5 [running]:\r\npanic(0x5087c0, 0xc420012720)\r\n        /usr/lib/golang/src/runtime/panic.go:500 +0x1a1\r\ntesting.tRunner.func1(0xc4200b8180)\r\n        /usr/lib/golang/src/testing/testing.go:579 +0x25d\r\npanic(0x5087c0, 0xc420012720)\r\n        /usr/lib/golang/src/runtime/panic.go:458 +0x243\r\ngithub.com/tensorflow/tensorflow/tensorflow/go.(*Tensor).Value(0xc420010300, 0x0, 0xc420065f38)\r\n        /home/sdeoras/go/src/github.com/tensorflow/tensorflow/tensorflow/go/tensor.go:176 +0x411\r\nbitbucket.hgst.com/x/tensorflow.git/bugs.TestBoolTest(0xc4200b8180)\r\n        /home/sdeoras/go/src/bitbucket.hgst.com/x/tensorflow.git/bugs/boolTest_test.go:32 +0x25c\r\ntesting.tRunner(0xc4200b8180, 0x53b728)\r\n        /usr/lib/golang/src/testing/testing.go:610 +0x81\r\ncreated by testing.(*T).Run\r\n        /usr/lib/golang/src/testing/testing.go:646 +0x2ec\r\nexit status 2\r\nFAIL    bitbucket.hgst.com/x/tensorflow.git/bugs        0.143s\r\n"}