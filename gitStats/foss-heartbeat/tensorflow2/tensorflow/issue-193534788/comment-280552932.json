{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/280552932", "html_url": "https://github.com/tensorflow/tensorflow/issues/6087#issuecomment-280552932", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6087", "id": 280552932, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDU1MjkzMg==", "user": {"login": "yuanbyu", "id": 2342391, "node_id": "MDQ6VXNlcjIzNDIzOTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2342391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuanbyu", "html_url": "https://github.com/yuanbyu", "followers_url": "https://api.github.com/users/yuanbyu/followers", "following_url": "https://api.github.com/users/yuanbyu/following{/other_user}", "gists_url": "https://api.github.com/users/yuanbyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuanbyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuanbyu/subscriptions", "organizations_url": "https://api.github.com/users/yuanbyu/orgs", "repos_url": "https://api.github.com/users/yuanbyu/repos", "events_url": "https://api.github.com/users/yuanbyu/events{/privacy}", "received_events_url": "https://api.github.com/users/yuanbyu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-17T04:59:44Z", "updated_at": "2017-02-17T04:59:44Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4504507\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ffmpbgrnn\">@ffmpbgrnn</a>, the problem with your program is that slim.batch_norm() is created in the loop body so the update_ops of batch_norm can't be used outside of the loop. (We don't allow a control edge from an op inside the loop body to an op outside the loop.)</p>\n<p>Those update ops are completed by the time that <code>result</code> is completed. So all the control dependency logic for them is probably not needed.</p>", "body_text": "@ffmpbgrnn, the problem with your program is that slim.batch_norm() is created in the loop body so the update_ops of batch_norm can't be used outside of the loop. (We don't allow a control edge from an op inside the loop body to an op outside the loop.)\nThose update ops are completed by the time that result is completed. So all the control dependency logic for them is probably not needed.", "body": "@ffmpbgrnn, the problem with your program is that slim.batch_norm() is created in the loop body so the update_ops of batch_norm can't be used outside of the loop. (We don't allow a control edge from an op inside the loop body to an op outside the loop.)\r\n\r\nThose update ops are completed by the time that `result` is completed. So all the control dependency logic for them is probably not needed."}