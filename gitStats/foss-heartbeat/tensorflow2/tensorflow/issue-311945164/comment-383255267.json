{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/383255267", "html_url": "https://github.com/tensorflow/tensorflow/pull/18293#issuecomment-383255267", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18293", "id": 383255267, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzI1NTI2Nw==", "user": {"login": "rongjiecomputer", "id": 13115060, "node_id": "MDQ6VXNlcjEzMTE1MDYw", "avatar_url": "https://avatars2.githubusercontent.com/u/13115060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rongjiecomputer", "html_url": "https://github.com/rongjiecomputer", "followers_url": "https://api.github.com/users/rongjiecomputer/followers", "following_url": "https://api.github.com/users/rongjiecomputer/following{/other_user}", "gists_url": "https://api.github.com/users/rongjiecomputer/gists{/gist_id}", "starred_url": "https://api.github.com/users/rongjiecomputer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rongjiecomputer/subscriptions", "organizations_url": "https://api.github.com/users/rongjiecomputer/orgs", "repos_url": "https://api.github.com/users/rongjiecomputer/repos", "events_url": "https://api.github.com/users/rongjiecomputer/events{/privacy}", "received_events_url": "https://api.github.com/users/rongjiecomputer/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-21T00:51:51Z", "updated_at": "2018-04-21T00:51:51Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>How about the suggestion <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7946809\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gunan\">@gunan</a> made in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"283089723\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/15466\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/15466/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/15466\">#15466</a> -- \"Writing the flag we need to pass in windows build in our bazelrc file during configure. We already write windows-specific things into our bazelrc anyway.\".</p>\n</blockquote>\n<p>That will work, but that will affect <em>all</em> packages that Tensorflow depends on. That is more powerful than actually needed. I consider this solution as a hack.</p>\n<p>I will open an issue in Bazel to see if they are willing to bring <code>package(default_copts=[])</code> to Bazel or not. In the meantime, I do hope that this PR get merged and I am fine to keep coming back to fix Windows build errors arise from Tensorflow team updating <code>llvm.BUILD</code> before Bazel can provide a better solution.</p>", "body_text": "How about the suggestion @gunan made in #15466 -- \"Writing the flag we need to pass in windows build in our bazelrc file during configure. We already write windows-specific things into our bazelrc anyway.\".\n\nThat will work, but that will affect all packages that Tensorflow depends on. That is more powerful than actually needed. I consider this solution as a hack.\nI will open an issue in Bazel to see if they are willing to bring package(default_copts=[]) to Bazel or not. In the meantime, I do hope that this PR get merged and I am fine to keep coming back to fix Windows build errors arise from Tensorflow team updating llvm.BUILD before Bazel can provide a better solution.", "body": "> How about the suggestion @gunan made in #15466 -- \"Writing the flag we need to pass in windows build in our bazelrc file during configure. We already write windows-specific things into our bazelrc anyway.\".\r\n\r\nThat will work, but that will affect *all* packages that Tensorflow depends on. That is more powerful than actually needed. I consider this solution as a hack.\r\n\r\nI will open an issue in Bazel to see if they are willing to bring `package(default_copts=[])` to Bazel or not. In the meantime, I do hope that this PR get merged and I am fine to keep coming back to fix Windows build errors arise from Tensorflow team updating `llvm.BUILD` before Bazel can provide a better solution."}