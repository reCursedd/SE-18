{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/396681521", "html_url": "https://github.com/tensorflow/tensorflow/issues/17246#issuecomment-396681521", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17246", "id": 396681521, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjY4MTUyMQ==", "user": {"login": "ezhulenev", "id": 1174378, "node_id": "MDQ6VXNlcjExNzQzNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1174378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezhulenev", "html_url": "https://github.com/ezhulenev", "followers_url": "https://api.github.com/users/ezhulenev/followers", "following_url": "https://api.github.com/users/ezhulenev/following{/other_user}", "gists_url": "https://api.github.com/users/ezhulenev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezhulenev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezhulenev/subscriptions", "organizations_url": "https://api.github.com/users/ezhulenev/orgs", "repos_url": "https://api.github.com/users/ezhulenev/repos", "events_url": "https://api.github.com/users/ezhulenev/events{/privacy}", "received_events_url": "https://api.github.com/users/ezhulenev/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-12T18:04:37Z", "updated_at": "2018-06-12T18:05:11Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Nope, they both are single threaded, but memmove is using sse3 instruction to copy memory, while memcpy is using sse2 (that's what I see in perf). This \"fix\" is more like an ugly workaround for the old glibc versions.</p>\n<p>There is a discussion in Eigen (<a href=\"https://bitbucket.org/eigen/eigen/pull-requests/292/adds-a-fast-memcpy-function-to-eigen/diff\" rel=\"nofollow\">https://bitbucket.org/eigen/eigen/pull-requests/292/adds-a-fast-memcpy-function-to-eigen/diff</a>), but that change was later rolled back because it's not <em>always</em> guaranteed to be faster.</p>", "body_text": "Nope, they both are single threaded, but memmove is using sse3 instruction to copy memory, while memcpy is using sse2 (that's what I see in perf). This \"fix\" is more like an ugly workaround for the old glibc versions.\nThere is a discussion in Eigen (https://bitbucket.org/eigen/eigen/pull-requests/292/adds-a-fast-memcpy-function-to-eigen/diff), but that change was later rolled back because it's not always guaranteed to be faster.", "body": "Nope, they both are single threaded, but memmove is using sse3 instruction to copy memory, while memcpy is using sse2 (that's what I see in perf). This \"fix\" is more like an ugly workaround for the old glibc versions.\r\n\r\nThere is a discussion in Eigen (https://bitbucket.org/eigen/eigen/pull-requests/292/adds-a-fast-memcpy-function-to-eigen/diff), but that change was later rolled back because it's not _always_ guaranteed to be faster."}