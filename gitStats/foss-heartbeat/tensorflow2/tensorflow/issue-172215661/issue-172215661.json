{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3933", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3933/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3933/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3933/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3933", "id": 172215661, "node_id": "MDU6SXNzdWUxNzIyMTU2NjE=", "number": 3933, "title": " configure script crashing in virtuealenv due to issues with site.getsitepackages()", "user": {"login": "mfernezir", "id": 7377259, "node_id": "MDQ6VXNlcjczNzcyNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7377259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfernezir", "html_url": "https://github.com/mfernezir", "followers_url": "https://api.github.com/users/mfernezir/followers", "following_url": "https://api.github.com/users/mfernezir/following{/other_user}", "gists_url": "https://api.github.com/users/mfernezir/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfernezir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfernezir/subscriptions", "organizations_url": "https://api.github.com/users/mfernezir/orgs", "repos_url": "https://api.github.com/users/mfernezir/repos", "events_url": "https://api.github.com/users/mfernezir/events{/privacy}", "received_events_url": "https://api.github.com/users/mfernezir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "itsmeolivia", "id": 2469592, "node_id": "MDQ6VXNlcjI0Njk1OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2469592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itsmeolivia", "html_url": "https://github.com/itsmeolivia", "followers_url": "https://api.github.com/users/itsmeolivia/followers", "following_url": "https://api.github.com/users/itsmeolivia/following{/other_user}", "gists_url": "https://api.github.com/users/itsmeolivia/gists{/gist_id}", "starred_url": "https://api.github.com/users/itsmeolivia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itsmeolivia/subscriptions", "organizations_url": "https://api.github.com/users/itsmeolivia/orgs", "repos_url": "https://api.github.com/users/itsmeolivia/repos", "events_url": "https://api.github.com/users/itsmeolivia/events{/privacy}", "received_events_url": "https://api.github.com/users/itsmeolivia/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "itsmeolivia", "id": 2469592, "node_id": "MDQ6VXNlcjI0Njk1OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2469592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itsmeolivia", "html_url": "https://github.com/itsmeolivia", "followers_url": "https://api.github.com/users/itsmeolivia/followers", "following_url": "https://api.github.com/users/itsmeolivia/following{/other_user}", "gists_url": "https://api.github.com/users/itsmeolivia/gists{/gist_id}", "starred_url": "https://api.github.com/users/itsmeolivia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itsmeolivia/subscriptions", "organizations_url": "https://api.github.com/users/itsmeolivia/orgs", "repos_url": "https://api.github.com/users/itsmeolivia/repos", "events_url": "https://api.github.com/users/itsmeolivia/events{/privacy}", "received_events_url": "https://api.github.com/users/itsmeolivia/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-08-19T20:38:11Z", "updated_at": "2018-07-19T02:15:06Z", "closed_at": "2016-08-24T19:02:11Z", "author_association": "NONE", "body_html": "<p>In the current master, the line <a href=\"https://github.com/tensorflow/tensorflow/blob/master/util/python/python_config.sh#L63\">https://github.com/tensorflow/tensorflow/blob/master/util/python/python_config.sh#L63</a></p>\n<p>causes a crash stating</p>\n<blockquote>\n<p>AttributeError: module 'site' has no attribute 'getsitepackages'</p>\n</blockquote>\n<p>if running confgure inside virtualenv Python environment.</p>\n<p>The underlying issue is that virtualenv uses an older site package that doesn't have getsitepackages. It is still an open bug in virtualenv after 4 years (!): <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"8228688\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pypa/virtualenv/issues/355\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pypa/virtualenv/issues/355/hovercard\" href=\"https://github.com/pypa/virtualenv/issues/355\">pypa/virtualenv#355</a>.</p>\n<p>For reference, I am using Python 3, virtualenv and virtualenvwrapper on Ubuntu 16.04 with CUDA 8.0. The v0.10.0rc0 release works for me, but this recent fix in python_config.sh breaks virtualenv usage.</p>", "body_text": "In the current master, the line https://github.com/tensorflow/tensorflow/blob/master/util/python/python_config.sh#L63\ncauses a crash stating\n\nAttributeError: module 'site' has no attribute 'getsitepackages'\n\nif running confgure inside virtualenv Python environment.\nThe underlying issue is that virtualenv uses an older site package that doesn't have getsitepackages. It is still an open bug in virtualenv after 4 years (!): pypa/virtualenv#355.\nFor reference, I am using Python 3, virtualenv and virtualenvwrapper on Ubuntu 16.04 with CUDA 8.0. The v0.10.0rc0 release works for me, but this recent fix in python_config.sh breaks virtualenv usage.", "body": "In the current master, the line https://github.com/tensorflow/tensorflow/blob/master/util/python/python_config.sh#L63\n\ncauses a crash stating \n\n> AttributeError: module 'site' has no attribute 'getsitepackages'\n\n if running confgure inside virtualenv Python environment.\n\nThe underlying issue is that virtualenv uses an older site package that doesn't have getsitepackages. It is still an open bug in virtualenv after 4 years (!): https://github.com/pypa/virtualenv/issues/355.\n\nFor reference, I am using Python 3, virtualenv and virtualenvwrapper on Ubuntu 16.04 with CUDA 8.0. The v0.10.0rc0 release works for me, but this recent fix in python_config.sh breaks virtualenv usage.\n"}