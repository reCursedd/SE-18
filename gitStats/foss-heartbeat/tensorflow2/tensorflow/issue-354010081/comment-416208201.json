{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/416208201", "html_url": "https://github.com/tensorflow/tensorflow/issues/21872#issuecomment-416208201", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21872", "id": 416208201, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjIwODIwMQ==", "user": {"login": "Q82822", "id": 36806042, "node_id": "MDQ6VXNlcjM2ODA2MDQy", "avatar_url": "https://avatars2.githubusercontent.com/u/36806042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Q82822", "html_url": "https://github.com/Q82822", "followers_url": "https://api.github.com/users/Q82822/followers", "following_url": "https://api.github.com/users/Q82822/following{/other_user}", "gists_url": "https://api.github.com/users/Q82822/gists{/gist_id}", "starred_url": "https://api.github.com/users/Q82822/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Q82822/subscriptions", "organizations_url": "https://api.github.com/users/Q82822/orgs", "repos_url": "https://api.github.com/users/Q82822/repos", "events_url": "https://api.github.com/users/Q82822/events{/privacy}", "received_events_url": "https://api.github.com/users/Q82822/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-27T12:19:53Z", "updated_at": "2018-08-27T14:59:04Z", "author_association": "NONE", "body_html": "<p>i change to use linux and python 2.7 but still have problem<br>\ncan you talk to me about what you CUDA/cuDNN version??</p>\n<pre><code>Python 2.7.14 |Intel Corporation| (default, May  4 2018, 04:27:35) \n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nIntel(R) Distribution for Python is brought to you by Intel Corporation.\nPlease check out: https://software.intel.com/en-us/python-distribution\n&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; tf.enable_eager_execution()\n&gt;&gt;&gt; image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')\n2018-08-27 20:16:09.499244: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-08-27 20:16:09.581371: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-08-27 20:16:09.581668: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: GeForce GTX 1070 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\npciBusID: 0000:01:00.0\ntotalMemory: 7.92GiB freeMemory: 248.25MiB\n2018-08-27 20:16:09.581682: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-08-27 20:16:09.758566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-08-27 20:16:09.758595: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-08-27 20:16:09.758615: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-08-27 20:16:09.758753: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 184 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1070 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-08-27 20:16:09.759830: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 184.25M (193200128 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 306, in InceptionResNetV2\n    x, scale=0.17, block_type='block35', block_idx=block_idx)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 189, in inception_resnet_block\n    name=block_name)([x, up])\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 747, in __call__\n    output_shapes = self.compute_output_shape(input_shapes)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/layers/core.py\", line 680, in compute_output_shape\n    input_shape = tuple(tensor_shape.TensorShape(input_shape).as_list())\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 541, in __init__\n    self._dims = [as_dimension(d) for d in dims_iter]\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 482, in as_dimension\n    return Dimension(value)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 37, in __init__\n    self._value = int(value)\nTypeError: int() argument must be a string or a number, not 'TensorShape'\n</code></pre>", "body_text": "i change to use linux and python 2.7 but still have problem\ncan you talk to me about what you CUDA/cuDNN version??\nPython 2.7.14 |Intel Corporation| (default, May  4 2018, 04:27:35) \n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nIntel(R) Distribution for Python is brought to you by Intel Corporation.\nPlease check out: https://software.intel.com/en-us/python-distribution\n>>> import tensorflow as tf\n>>> tf.enable_eager_execution()\n>>> image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')\n2018-08-27 20:16:09.499244: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-08-27 20:16:09.581371: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-08-27 20:16:09.581668: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \nname: GeForce GTX 1070 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\npciBusID: 0000:01:00.0\ntotalMemory: 7.92GiB freeMemory: 248.25MiB\n2018-08-27 20:16:09.581682: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\n2018-08-27 20:16:09.758566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-08-27 20:16:09.758595: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \n2018-08-27 20:16:09.758615: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \n2018-08-27 20:16:09.758753: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 184 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1070 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-08-27 20:16:09.759830: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 184.25M (193200128 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 306, in InceptionResNetV2\n    x, scale=0.17, block_type='block35', block_idx=block_idx)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 189, in inception_resnet_block\n    name=block_name)([x, up])\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 747, in __call__\n    output_shapes = self.compute_output_shape(input_shapes)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/layers/core.py\", line 680, in compute_output_shape\n    input_shape = tuple(tensor_shape.TensorShape(input_shape).as_list())\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 541, in __init__\n    self._dims = [as_dimension(d) for d in dims_iter]\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 482, in as_dimension\n    return Dimension(value)\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 37, in __init__\n    self._value = int(value)\nTypeError: int() argument must be a string or a number, not 'TensorShape'", "body": "i change to use linux and python 2.7 but still have problem\r\ncan you talk to me about what you CUDA/cuDNN version??\r\n```\r\nPython 2.7.14 |Intel Corporation| (default, May  4 2018, 04:27:35) \r\n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nIntel(R) Distribution for Python is brought to you by Intel Corporation.\r\nPlease check out: https://software.intel.com/en-us/python-distribution\r\n>>> import tensorflow as tf\r\n>>> tf.enable_eager_execution()\r\n>>> image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')\r\n2018-08-27 20:16:09.499244: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-08-27 20:16:09.581371: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-08-27 20:16:09.581668: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: \r\nname: GeForce GTX 1070 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 7.92GiB freeMemory: 248.25MiB\r\n2018-08-27 20:16:09.581682: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0\r\n2018-08-27 20:16:09.758566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-08-27 20:16:09.758595: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 \r\n2018-08-27 20:16:09.758615: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N \r\n2018-08-27 20:16:09.758753: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 184 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1070 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n2018-08-27 20:16:09.759830: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 184.25M (193200128 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 306, in InceptionResNetV2\r\n    x, scale=0.17, block_type='block35', block_idx=block_idx)\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/applications/inception_resnet_v2.py\", line 189, in inception_resnet_block\r\n    name=block_name)([x, up])\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 747, in __call__\r\n    output_shapes = self.compute_output_shape(input_shapes)\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/keras/layers/core.py\", line 680, in compute_output_shape\r\n    input_shape = tuple(tensor_shape.TensorShape(input_shape).as_list())\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 541, in __init__\r\n    self._dims = [as_dimension(d) for d in dims_iter]\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 482, in as_dimension\r\n    return Dimension(value)\r\n  File \"/home/user/anaconda3/envs/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_shape.py\", line 37, in __init__\r\n    self._value = int(value)\r\nTypeError: int() argument must be a string or a number, not 'TensorShape'\r\n```\r\n"}