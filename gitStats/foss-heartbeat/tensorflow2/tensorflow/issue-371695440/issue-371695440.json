{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23082", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23082/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23082/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23082/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23082", "id": 371695440, "node_id": "MDU6SXNzdWUzNzE2OTU0NDA=", "number": 23082, "title": "Error while calling TFLite interpreter (Similar to #21574)", "user": {"login": "saurabh-kachhia", "id": 39469626, "node_id": "MDQ6VXNlcjM5NDY5NjI2", "avatar_url": "https://avatars3.githubusercontent.com/u/39469626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saurabh-kachhia", "html_url": "https://github.com/saurabh-kachhia", "followers_url": "https://api.github.com/users/saurabh-kachhia/followers", "following_url": "https://api.github.com/users/saurabh-kachhia/following{/other_user}", "gists_url": "https://api.github.com/users/saurabh-kachhia/gists{/gist_id}", "starred_url": "https://api.github.com/users/saurabh-kachhia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saurabh-kachhia/subscriptions", "organizations_url": "https://api.github.com/users/saurabh-kachhia/orgs", "repos_url": "https://api.github.com/users/saurabh-kachhia/repos", "events_url": "https://api.github.com/users/saurabh-kachhia/events{/privacy}", "received_events_url": "https://api.github.com/users/saurabh-kachhia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-10-18T20:18:43Z", "updated_at": "2018-11-15T16:31:19Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>Tensorflow Version: 1.11.0<br>\nPython Version: 3.4 (Also tried with 2.7)</strong></p>\n<p>I tried to install Tensorflow <strong>using PIP install</strong> on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/python/label_image.py\">label_image.py </a>example with TFLite model file I am getting this error -</p>\n<pre><code>Traceback (most recent call last):\n  File \"label_image.py\", line 37, in &lt;module&gt;\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter.py\", line 52, in __init__\n    _interpreter_wrapper.InterpreterWrapper_CreateWrapperCPPFromFile(\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2254, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2237, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2226, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1200, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1129, in _exec\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1471, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 28, in &lt;module&gt;\n    _tensorflow_wrap_interpreter_wrapper = swig_import_helper()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_tensorflow_wrap_interpreter_wrapper', fp, pathname, description)\n  File \"/usr/lib/python3.4/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\nImportError: /usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils24NeonVectorScalarMultiplyEPKaifPf\n\n</code></pre>\n<p>I also tried another way and build the <strong>Cross Compile Package</strong> using latest Tensorflow code from master branch and install the package on pi. After running the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/python/label_image.py\">same example</a> I am facing this error -</p>\n<pre><code>Traceback (most recent call last):\n  File \"label_image.py\", line 37, in &lt;module&gt;\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2254, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2237, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2226, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1200, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1129, in _exec\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1471, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in &lt;module&gt;\n    from tensorflow.contrib import distribute\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in &lt;module&gt;\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in &lt;module&gt;\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in &lt;module&gt;\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in &lt;module&gt;\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\n\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \n\nAn op that loads optimization parameters into HBM for embedding. Must be\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\nembedding table configuration. For example, this op is used to install\nparameters that are loaded from a checkpoint before a training loop is\nexecuted.\n</code></pre>\n<p>So none of the provided methods are working for me.</p>", "body_text": "Tensorflow Version: 1.11.0\nPython Version: 3.4 (Also tried with 2.7)\nI tried to install Tensorflow using PIP install on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample label_image.py example with TFLite model file I am getting this error -\nTraceback (most recent call last):\n  File \"label_image.py\", line 37, in <module>\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter.py\", line 52, in __init__\n    _interpreter_wrapper.InterpreterWrapper_CreateWrapperCPPFromFile(\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 28, in <module>\n    _tensorflow_wrap_interpreter_wrapper = swig_import_helper()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_tensorflow_wrap_interpreter_wrapper', fp, pathname, description)\n  File \"/usr/lib/python3.4/imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\nImportError: /usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils24NeonVectorScalarMultiplyEPKaifPf\n\n\nI also tried another way and build the Cross Compile Package using latest Tensorflow code from master branch and install the package on pi. After running the same example I am facing this error -\nTraceback (most recent call last):\n  File \"label_image.py\", line 37, in <module>\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\n    module = self._load()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\n    module = importlib.import_module(self.__name__)\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in <module>\n    from tensorflow.contrib import distribute\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in <module>\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in <module>\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in <module>\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in <module>\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\n    ret = load_library.load_op_library(path)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\n\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \n\nAn op that loads optimization parameters into HBM for embedding. Must be\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\nembedding table configuration. For example, this op is used to install\nparameters that are loaded from a checkpoint before a training loop is\nexecuted.\n\nSo none of the provided methods are working for me.", "body": "**Tensorflow Version: 1.11.0\r\nPython Version: 3.4 (Also tried with 2.7)**\r\n\r\nI tried to install Tensorflow **using PIP install** on my Raspberry Pi3 B+ (Raspbian Stretch - June 2018 Version) and when I tried to run the sample [label_image.py ](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/python/label_image.py)example with TFLite model file I am getting this error -\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"label_image.py\", line 37, in <module>\r\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter.py\", line 52, in __init__\r\n    _interpreter_wrapper.InterpreterWrapper_CreateWrapperCPPFromFile(\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n    module = self._load()\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n    module = importlib.import_module(self.__name__)\r\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\r\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 28, in <module>\r\n    _tensorflow_wrap_interpreter_wrapper = swig_import_helper()\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_tensorflow_wrap_interpreter_wrapper', fp, pathname, description)\r\n  File \"/usr/lib/python3.4/imp.py\", line 243, in load_module\r\n    return load_dynamic(name, filename, file)\r\nImportError: /usr/local/lib/python3.4/dist-packages/tensorflow/contrib/lite/python/interpreter_wrapper/_tensorflow_wrap_interpreter_wrapper.so: undefined symbol: _ZN6tflite12tensor_utils24NeonVectorScalarMultiplyEPKaifPf\r\n\r\n```\r\n\r\nI also tried another way and build the **Cross Compile Package** using latest Tensorflow code from master branch and install the package on pi. After running the [same example](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/examples/python/label_image.py) I am facing this error -\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"label_image.py\", line 37, in <module>\r\n    interpreter = tf.contrib.lite.Interpreter(model_path=args.model_file)\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 53, in __getattr__\r\n    module = self._load()\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/util/lazy_loader.py\", line 42, in _load\r\n    module = importlib.import_module(self.__name__)\r\n  File \"/usr/lib/python3.4/importlib/__init__.py\", line 109, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\r\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/__init__.py\", line 48, in <module>\r\n    from tensorflow.contrib import distribute\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/__init__.py\", line 34, in <module>\r\n    from tensorflow.contrib.distribute.python.tpu_strategy import TPUStrategy\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/distribute/python/tpu_strategy.py\", line 27, in <module>\r\n    from tensorflow.contrib.tpu.python.ops import tpu_ops\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/__init__.py\", line 69, in <module>\r\n    from tensorflow.contrib.tpu.python.ops.tpu_ops import *\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/tpu/python/ops/tpu_ops.py\", line 39, in <module>\r\n    resource_loader.get_path_to_datafile(\"_tpu_ops.so\"))\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/contrib/util/loader.py\", line 56, in load_op_library\r\n    ret = load_library.load_op_library(path)\r\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/load_library.py\", line 60, in load_op_library\r\n    lib_handle = py_tf.TF_LoadLibrary(library_filename)\r\n\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Invalid name: \r\n\r\nAn op that loads optimization parameters into HBM for embedding. Must be\r\npreceded by a ConfigureTPUEmbeddingHost op that sets up the correct\r\nembedding table configuration. For example, this op is used to install\r\nparameters that are loaded from a checkpoint before a training loop is\r\nexecuted.\r\n```\r\nSo none of the provided methods are working for me."}