{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300897055", "html_url": "https://github.com/tensorflow/tensorflow/issues/9806#issuecomment-300897055", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9806", "id": 300897055, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDg5NzA1NQ==", "user": {"login": "TomAugspurger", "id": 1312546, "node_id": "MDQ6VXNlcjEzMTI1NDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1312546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomAugspurger", "html_url": "https://github.com/TomAugspurger", "followers_url": "https://api.github.com/users/TomAugspurger/followers", "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}", "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions", "organizations_url": "https://api.github.com/users/TomAugspurger/orgs", "repos_url": "https://api.github.com/users/TomAugspurger/repos", "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}", "received_events_url": "https://api.github.com/users/TomAugspurger/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-11T19:45:32Z", "updated_at": "2017-05-11T19:45:32Z", "author_association": "NONE", "body_html": "<p>With tensorflow 1.1.0, the exception is a bit different. Running</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> pandas <span class=\"pl-k\">as</span> pd\n<span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\ndf <span class=\"pl-k\">=</span> pd.DataFrame(np.random.randn(<span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">2</span>))\ndf.to_csv(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo.csv.gz<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">compression</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>gzip<span class=\"pl-pds\">\"</span></span>)\n\npd.read_csv(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo.csv.gz<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">compression</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>gzip<span class=\"pl-pds\">\"</span></span>)\n\n<span class=\"pl-k\">with</span> tf.gfile.GFile(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo.csv.gz<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">as</span> gf:\n    pd.read_csv(gf, <span class=\"pl-v\">compression</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>gzip<span class=\"pl-pds\">\"</span></span>)</pre></div>\n<p>gives,</p>\n<div class=\"highlight highlight-text-python-traceback\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\">\"bug.py\"</span>, line <span class=\"pl-c1\">11</span>, in <span class=\"pl-en\">&lt;module&gt;</span>\n    pd.read_csv(gf, <span class=\"pl-v\">compression</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>gzip<span class=\"pl-pds\">\"</span></span>)\n  File <span class=\"pl-s\">\"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\"</span>, line <span class=\"pl-c1\">655</span>, in <span class=\"pl-en\">parser_f</span>\n    <span class=\"pl-k\">return</span> _read(filepath_or_buffer, kwds)\n  File <span class=\"pl-s\">\"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\"</span>, line <span class=\"pl-c1\">405</span>, in <span class=\"pl-en\">_read</span>\n    parser <span class=\"pl-k\">=</span> TextFileReader(filepath_or_buffer, <span class=\"pl-k\">**</span>kwds)\n  File <span class=\"pl-s\">\"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\"</span>, line <span class=\"pl-c1\">762</span>, in <span class=\"pl-en\">__init__</span>\n    <span class=\"pl-c1\">self</span>._make_engine(<span class=\"pl-c1\">self</span>.engine)\n  File <span class=\"pl-s\">\"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\"</span>, line <span class=\"pl-c1\">966</span>, in <span class=\"pl-en\">_make_engine</span>\n    <span class=\"pl-c1\">self</span>._engine <span class=\"pl-k\">=</span> CParserWrapper(<span class=\"pl-c1\">self</span>.f, <span class=\"pl-k\">**</span><span class=\"pl-c1\">self</span>.options)\n  File <span class=\"pl-s\">\"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\"</span>, line <span class=\"pl-c1\">1582</span>, in <span class=\"pl-en\">__init__</span>\n    <span class=\"pl-c1\">self</span>._reader <span class=\"pl-k\">=</span> parsers.TextReader(src, <span class=\"pl-k\">**</span>kwds)\n  File <span class=\"pl-s\">\"pandas/_libs/parsers.pyx\"</span>, line <span class=\"pl-c1\">562</span>, in <span class=\"pl-en\">pandas._libs.parsers.TextReader.__cinit__ (pandas/_libs/parsers.c:6175)</span>\n  File <span class=\"pl-s\">\"pandas/_libs/parsers.pyx\"</span>, line <span class=\"pl-c1\">751</span>, in <span class=\"pl-en\">pandas._libs.parsers.TextReader._get_header (pandas/_libs/parsers.c:9268)</span>\n  File <span class=\"pl-s\">\"pandas/_libs/parsers.pyx\"</span>, line <span class=\"pl-c1\">953</span>, in <span class=\"pl-en\">pandas._libs.parsers.TextReader._tokenize_rows (pandas/_libs/parsers.c:11755)</span>\n  File <span class=\"pl-s\">\"pandas/_libs/parsers.pyx\"</span>, line <span class=\"pl-c1\">2173</span>, in <span class=\"pl-en\">pandas._libs.parsers.raise_parser_error (pandas/_libs/parsers.c:28589)</span>\n<span class=\"pl-en\">TypeError</span>: <span class=\"pl-s\">seek() takes exactly 2 arguments (3 given)</span></pre></div>\n<pre><code>In [15]: gf.seek?\nSignature: gf.seek(position)\n</code></pre>", "body_text": "With tensorflow 1.1.0, the exception is a bit different. Running\nimport pandas as pd\nimport numpy as np\nimport tensorflow as tf\n\ndf = pd.DataFrame(np.random.randn(10, 2))\ndf.to_csv(\"foo.csv.gz\", compression=\"gzip\")\n\npd.read_csv(\"foo.csv.gz\", compression=\"gzip\")\n\nwith tf.gfile.GFile(\"foo.csv.gz\") as gf:\n    pd.read_csv(gf, compression=\"gzip\")\ngives,\nTraceback (most recent call last):\n  File \"bug.py\", line 11, in <module>\n    pd.read_csv(gf, compression=\"gzip\")\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 655, in parser_f\n    return _read(filepath_or_buffer, kwds)\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 405, in _read\n    parser = TextFileReader(filepath_or_buffer, **kwds)\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 762, in __init__\n    self._make_engine(self.engine)\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 966, in _make_engine\n    self._engine = CParserWrapper(self.f, **self.options)\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 1582, in __init__\n    self._reader = parsers.TextReader(src, **kwds)\n  File \"pandas/_libs/parsers.pyx\", line 562, in pandas._libs.parsers.TextReader.__cinit__ (pandas/_libs/parsers.c:6175)\n  File \"pandas/_libs/parsers.pyx\", line 751, in pandas._libs.parsers.TextReader._get_header (pandas/_libs/parsers.c:9268)\n  File \"pandas/_libs/parsers.pyx\", line 953, in pandas._libs.parsers.TextReader._tokenize_rows (pandas/_libs/parsers.c:11755)\n  File \"pandas/_libs/parsers.pyx\", line 2173, in pandas._libs.parsers.raise_parser_error (pandas/_libs/parsers.c:28589)\nTypeError: seek() takes exactly 2 arguments (3 given)\nIn [15]: gf.seek?\nSignature: gf.seek(position)", "body": "With tensorflow 1.1.0, the exception is a bit different. Running\r\n\r\n```python\r\nimport pandas as pd\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\ndf = pd.DataFrame(np.random.randn(10, 2))\r\ndf.to_csv(\"foo.csv.gz\", compression=\"gzip\")\r\n\r\npd.read_csv(\"foo.csv.gz\", compression=\"gzip\")\r\n\r\nwith tf.gfile.GFile(\"foo.csv.gz\") as gf:\r\n    pd.read_csv(gf, compression=\"gzip\")\r\n```\r\n\r\ngives,\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"bug.py\", line 11, in <module>\r\n    pd.read_csv(gf, compression=\"gzip\")\r\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 655, in parser_f\r\n    return _read(filepath_or_buffer, kwds)\r\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 405, in _read\r\n    parser = TextFileReader(filepath_or_buffer, **kwds)\r\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 762, in __init__\r\n    self._make_engine(self.engine)\r\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 966, in _make_engine\r\n    self._engine = CParserWrapper(self.f, **self.options)\r\n  File \"/Users/taugspurger/Envs/py27/lib/python2.7/site-packages/pandas/pandas/io/parsers.py\", line 1582, in __init__\r\n    self._reader = parsers.TextReader(src, **kwds)\r\n  File \"pandas/_libs/parsers.pyx\", line 562, in pandas._libs.parsers.TextReader.__cinit__ (pandas/_libs/parsers.c:6175)\r\n  File \"pandas/_libs/parsers.pyx\", line 751, in pandas._libs.parsers.TextReader._get_header (pandas/_libs/parsers.c:9268)\r\n  File \"pandas/_libs/parsers.pyx\", line 953, in pandas._libs.parsers.TextReader._tokenize_rows (pandas/_libs/parsers.c:11755)\r\n  File \"pandas/_libs/parsers.pyx\", line 2173, in pandas._libs.parsers.raise_parser_error (pandas/_libs/parsers.c:28589)\r\nTypeError: seek() takes exactly 2 arguments (3 given)\r\n```\r\n\r\n```\r\nIn [15]: gf.seek?\r\nSignature: gf.seek(position)\r\n```"}