{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/260476104", "html_url": "https://github.com/tensorflow/tensorflow/issues/5516#issuecomment-260476104", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5516", "id": 260476104, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDQ3NjEwNA==", "user": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-14T21:57:27Z", "updated_at": "2016-11-14T21:57:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4952605\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wjaskowski\">@wjaskowski</a>, could you make sure you exclude the first few iterations from the benchmark? This is how convnet-benchmark does it.</p>\n<p><a href=\"https://github.com/soumith/convnet-benchmarks/blob/master/tensorflow/benchmark_alexnet.py#L139\">https://github.com/soumith/convnet-benchmarks/blob/master/tensorflow/benchmark_alexnet.py#L139</a></p>\n<p>In the first round, TensorFlow does autotuning to find out the best algorithm, so it might have more overhead. Following up rounds should not have them. For convnet benchmarks, important things are:</p>\n<ul>\n<li>NCHW format</li>\n<li>Excluding first few rounds, typically 10.</li>\n<li>Make sure your session run didn't fetch anything unnecessarily.</li>\n</ul>", "body_text": "@wjaskowski, could you make sure you exclude the first few iterations from the benchmark? This is how convnet-benchmark does it.\nhttps://github.com/soumith/convnet-benchmarks/blob/master/tensorflow/benchmark_alexnet.py#L139\nIn the first round, TensorFlow does autotuning to find out the best algorithm, so it might have more overhead. Following up rounds should not have them. For convnet benchmarks, important things are:\n\nNCHW format\nExcluding first few rounds, typically 10.\nMake sure your session run didn't fetch anything unnecessarily.", "body": "@wjaskowski, could you make sure you exclude the first few iterations from the benchmark? This is how convnet-benchmark does it. \n\nhttps://github.com/soumith/convnet-benchmarks/blob/master/tensorflow/benchmark_alexnet.py#L139\n\nIn the first round, TensorFlow does autotuning to find out the best algorithm, so it might have more overhead. Following up rounds should not have them. For convnet benchmarks, important things are: \n- NCHW format\n- Excluding first few rounds, typically 10. \n- Make sure your session run didn't fetch anything unnecessarily.\n"}