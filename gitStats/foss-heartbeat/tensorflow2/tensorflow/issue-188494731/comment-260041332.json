{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/260041332", "html_url": "https://github.com/tensorflow/tensorflow/issues/5516#issuecomment-260041332", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5516", "id": 260041332, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDA0MTMzMg==", "user": {"login": "zhangyaobit", "id": 1034716, "node_id": "MDQ6VXNlcjEwMzQ3MTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1034716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyaobit", "html_url": "https://github.com/zhangyaobit", "followers_url": "https://api.github.com/users/zhangyaobit/followers", "following_url": "https://api.github.com/users/zhangyaobit/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyaobit/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyaobit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyaobit/subscriptions", "organizations_url": "https://api.github.com/users/zhangyaobit/orgs", "repos_url": "https://api.github.com/users/zhangyaobit/repos", "events_url": "https://api.github.com/users/zhangyaobit/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyaobit/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-11T19:53:43Z", "updated_at": "2016-11-11T19:56:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>NHWC is not wrong. I'm just saying it might be a slower option than NCHW. You can try HCHW by adding data_format=\"NCHW\" to layers.conv2d, and change the shape accordingly, and also make sure other ops can accept this format.</p>\n<p>This kind of slow down (1.3-7x) is common when it comes to comparing NCHW and NHWC, and might be the reason why it is slower than Theano.</p>\n<p>While we are working on hiding this kind of manual tuning from users (e.g. selecting a better data_format for a op and a device), users are still expected to spend time to understand and tune the  performance, and the first basic step towards that is profiling.</p>", "body_text": "NHWC is not wrong. I'm just saying it might be a slower option than NCHW. You can try HCHW by adding data_format=\"NCHW\" to layers.conv2d, and change the shape accordingly, and also make sure other ops can accept this format.\nThis kind of slow down (1.3-7x) is common when it comes to comparing NCHW and NHWC, and might be the reason why it is slower than Theano.\nWhile we are working on hiding this kind of manual tuning from users (e.g. selecting a better data_format for a op and a device), users are still expected to spend time to understand and tune the  performance, and the first basic step towards that is profiling.", "body": "NHWC is not wrong. I'm just saying it might be a slower option than NCHW. You can try HCHW by adding data_format=\"NCHW\" to layers.conv2d, and change the shape accordingly, and also make sure other ops can accept this format.\n\nThis kind of slow down (1.3-7x) is common when it comes to comparing NCHW and NHWC, and might be the reason why it is slower than Theano.\n\nWhile we are working on hiding this kind of manual tuning from users (e.g. selecting a better data_format for a op and a device), users are still expected to spend time to understand and tune the  performance, and the first basic step towards that is profiling.\n"}