{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/224118050", "html_url": "https://github.com/tensorflow/tensorflow/pull/2691#issuecomment-224118050", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2691", "id": 224118050, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNDExODA1MA==", "user": {"login": "bogdanteleaga", "id": 6207800, "node_id": "MDQ6VXNlcjYyMDc4MDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6207800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bogdanteleaga", "html_url": "https://github.com/bogdanteleaga", "followers_url": "https://api.github.com/users/bogdanteleaga/followers", "following_url": "https://api.github.com/users/bogdanteleaga/following{/other_user}", "gists_url": "https://api.github.com/users/bogdanteleaga/gists{/gist_id}", "starred_url": "https://api.github.com/users/bogdanteleaga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bogdanteleaga/subscriptions", "organizations_url": "https://api.github.com/users/bogdanteleaga/orgs", "repos_url": "https://api.github.com/users/bogdanteleaga/repos", "events_url": "https://api.github.com/users/bogdanteleaga/events{/privacy}", "received_events_url": "https://api.github.com/users/bogdanteleaga/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-06T23:20:32Z", "updated_at": "2016-06-06T23:20:32Z", "author_association": "NONE", "body_html": "<p>So for the TODO bit: I'm using this piece of code to test whether the cell that's passed in is a GFLSTMCell <code>if not isinstance(cell, GFLSTMCell)</code>. However, that GFLSTMCell can be wrapper by a dropout wrapper for example and then I'd need to test <code>cell._cell</code> and so on. I was wondering if there's an easier way to do this. I don't know beforehand how many wrappers are around the cell. I guess I could just do <code>if cell._cell and isinstance(cell._cell)</code> and recurse on that but it feels yucky.</p>\n<p>I refactored the MultiCell a bit to allow it to potentially work with other GF cells. It now passes the whole previous state along with an index to identify the input previous state for the particular cell.</p>", "body_text": "So for the TODO bit: I'm using this piece of code to test whether the cell that's passed in is a GFLSTMCell if not isinstance(cell, GFLSTMCell). However, that GFLSTMCell can be wrapper by a dropout wrapper for example and then I'd need to test cell._cell and so on. I was wondering if there's an easier way to do this. I don't know beforehand how many wrappers are around the cell. I guess I could just do if cell._cell and isinstance(cell._cell) and recurse on that but it feels yucky.\nI refactored the MultiCell a bit to allow it to potentially work with other GF cells. It now passes the whole previous state along with an index to identify the input previous state for the particular cell.", "body": "So for the TODO bit: I'm using this piece of code to test whether the cell that's passed in is a GFLSTMCell `if not isinstance(cell, GFLSTMCell)`. However, that GFLSTMCell can be wrapper by a dropout wrapper for example and then I'd need to test `cell._cell` and so on. I was wondering if there's an easier way to do this. I don't know beforehand how many wrappers are around the cell. I guess I could just do `if cell._cell and isinstance(cell._cell)` and recurse on that but it feels yucky.\n\nI refactored the MultiCell a bit to allow it to potentially work with other GF cells. It now passes the whole previous state along with an index to identify the input previous state for the particular cell.\n"}