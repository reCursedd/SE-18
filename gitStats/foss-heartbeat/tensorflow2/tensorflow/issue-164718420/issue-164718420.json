{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3257", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3257/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3257/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3257/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/3257", "id": 164718420, "node_id": "MDExOlB1bGxSZXF1ZXN0NzY4NzQ5MDA=", "number": 3257, "title": "Fix word2vec excepction when words contain chinese.", "user": {"login": "raix852", "id": 5861573, "node_id": "MDQ6VXNlcjU4NjE1NzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5861573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raix852", "html_url": "https://github.com/raix852", "followers_url": "https://api.github.com/users/raix852/followers", "following_url": "https://api.github.com/users/raix852/following{/other_user}", "gists_url": "https://api.github.com/users/raix852/gists{/gist_id}", "starred_url": "https://api.github.com/users/raix852/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raix852/subscriptions", "organizations_url": "https://api.github.com/users/raix852/orgs", "repos_url": "https://api.github.com/users/raix852/repos", "events_url": "https://api.github.com/users/raix852/events{/privacy}", "received_events_url": "https://api.github.com/users/raix852/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-10T14:38:27Z", "updated_at": "2016-07-11T16:58:36Z", "closed_at": "2016-07-11T16:58:36Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/3257", "html_url": "https://github.com/tensorflow/tensorflow/pull/3257", "diff_url": "https://github.com/tensorflow/tensorflow/pull/3257.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/3257.patch"}, "body_html": "<p>When word2vec deal with Chinese language, it will break out below exception.</p>\n<pre><code>Traceback (most recent call last):\n  File \"word2vec_tf.py\", line 58, in &lt;module&gt;\n    main()\n  File \"word2vec_tf.py\", line 47, in main\n    model = Word2Vec(options, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 166, in __init__\n    self.save_vocab()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 382, in save_vocab\n    opts.vocab_counts[i]))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u90fd' in position 0: ordinal not in range(128)\n</code></pre>\n<p>I fix this exception by adding <code>encode('utf-8')</code> , and then it successful run word2vec model.</p>", "body_text": "When word2vec deal with Chinese language, it will break out below exception.\nTraceback (most recent call last):\n  File \"word2vec_tf.py\", line 58, in <module>\n    main()\n  File \"word2vec_tf.py\", line 47, in main\n    model = Word2Vec(options, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 166, in __init__\n    self.save_vocab()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 382, in save_vocab\n    opts.vocab_counts[i]))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u90fd' in position 0: ordinal not in range(128)\n\nI fix this exception by adding encode('utf-8') , and then it successful run word2vec model.", "body": "When word2vec deal with Chinese language, it will break out below exception.\n\n```\nTraceback (most recent call last):\n  File \"word2vec_tf.py\", line 58, in <module>\n    main()\n  File \"word2vec_tf.py\", line 47, in main\n    model = Word2Vec(options, session)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 166, in __init__\n    self.save_vocab()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/models/embedding/word2vec.py\", line 382, in save_vocab\n    opts.vocab_counts[i]))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u90fd' in position 0: ordinal not in range(128)\n```\n\nI fix this exception by adding `encode('utf-8')` , and then it successful run word2vec model.\n"}