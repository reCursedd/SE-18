{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11322", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11322/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11322/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11322/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/11322", "id": 240920336, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI5MTU4NTc1", "number": 11322, "title": "[OpenCL] Fixes SYCL registration for MapStageOp (#117)", "user": {"login": "lukeiwanski", "id": 8373795, "node_id": "MDQ6VXNlcjgzNzM3OTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8373795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukeiwanski", "html_url": "https://github.com/lukeiwanski", "followers_url": "https://api.github.com/users/lukeiwanski/followers", "following_url": "https://api.github.com/users/lukeiwanski/following{/other_user}", "gists_url": "https://api.github.com/users/lukeiwanski/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukeiwanski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukeiwanski/subscriptions", "organizations_url": "https://api.github.com/users/lukeiwanski/orgs", "repos_url": "https://api.github.com/users/lukeiwanski/repos", "events_url": "https://api.github.com/users/lukeiwanski/events{/privacy}", "received_events_url": "https://api.github.com/users/lukeiwanski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-07-06T11:01:50Z", "updated_at": "2017-07-06T19:10:36Z", "closed_at": "2017-07-06T17:10:42Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/11322", "html_url": "https://github.com/tensorflow/tensorflow/pull/11322", "diff_url": "https://github.com/tensorflow/tensorflow/pull/11322.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/11322.patch"}, "body_html": "<ul>\n<li>[OpenCL] Fixes SYCL registration for MapStageOp</li>\n</ul>\n<p>As the MapStageOp is actually run on the host, we need to ensure that<br>\nboth the 'key' and 'indices' tensors are in host memory. This now<br>\nmirrors what CUDA is doing.</p>\n<ul>\n<li>[OpenCL] Fixes device name comparison map_stage_op_test</li>\n</ul>\n<p>Changes the expected device name string, as the device name could be<br>\n'/device:SYCL:0' or '/device:GPU:0'.</p>\n<p>The CUDA device name reported by test_util is in the form '/gpu:0',<br>\nwhile the device name used in the nodes looks like '/device:GPU:0'. When<br>\nrunning on CUDA we need to change the expected device name accordingly,<br>\nhowever this isn't a problem on SYCL.</p>", "body_text": "[OpenCL] Fixes SYCL registration for MapStageOp\n\nAs the MapStageOp is actually run on the host, we need to ensure that\nboth the 'key' and 'indices' tensors are in host memory. This now\nmirrors what CUDA is doing.\n\n[OpenCL] Fixes device name comparison map_stage_op_test\n\nChanges the expected device name string, as the device name could be\n'/device:SYCL:0' or '/device:GPU:0'.\nThe CUDA device name reported by test_util is in the form '/gpu:0',\nwhile the device name used in the nodes looks like '/device:GPU:0'. When\nrunning on CUDA we need to change the expected device name accordingly,\nhowever this isn't a problem on SYCL.", "body": "* [OpenCL] Fixes SYCL registration for MapStageOp\r\n\r\nAs the MapStageOp is actually run on the host, we need to ensure that\r\nboth the 'key' and 'indices' tensors are in host memory. This now\r\nmirrors what CUDA is doing.\r\n\r\n* [OpenCL] Fixes device name comparison map_stage_op_test\r\n\r\nChanges the expected device name string, as the device name could be\r\n'/device:SYCL:0' or '/device:GPU:0'.\r\n\r\nThe CUDA device name reported by test_util is in the form '/gpu:0',\r\nwhile the device name used in the nodes looks like '/device:GPU:0'. When\r\nrunning on CUDA we need to change the expected device name accordingly,\r\nhowever this isn't a problem on SYCL."}