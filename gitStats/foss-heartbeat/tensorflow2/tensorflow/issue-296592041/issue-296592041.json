{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16964", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16964/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16964/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16964/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16964", "id": 296592041, "node_id": "MDU6SXNzdWUyOTY1OTIwNDE=", "number": 16964, "title": "[Build Failed] Convolutional pose machine converts tflite format", "user": {"login": "nanamare", "id": 17498974, "node_id": "MDQ6VXNlcjE3NDk4OTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/17498974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nanamare", "html_url": "https://github.com/nanamare", "followers_url": "https://api.github.com/users/nanamare/followers", "following_url": "https://api.github.com/users/nanamare/following{/other_user}", "gists_url": "https://api.github.com/users/nanamare/gists{/gist_id}", "starred_url": "https://api.github.com/users/nanamare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nanamare/subscriptions", "organizations_url": "https://api.github.com/users/nanamare/orgs", "repos_url": "https://api.github.com/users/nanamare/repos", "events_url": "https://api.github.com/users/nanamare/events{/privacy}", "received_events_url": "https://api.github.com/users/nanamare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-02-13T02:20:41Z", "updated_at": "2018-04-18T19:41:56Z", "closed_at": "2018-04-18T19:41:56Z", "author_association": "NONE", "body_html": "<p>Hello.</p>\n<p>I converting CPM(convolutional pose machine) PB file to TFLITE file, encounter error(s).</p>\n<p>I success, converting from MobileNet v1 224 PB file to uint8 TFLITE file format (17.2 MB -&gt; 4.3 MB)</p>\n<p><strong>Just only this log.</strong></p>\n<pre><code>\nWARNING: Config values are not defined in any .rc file: opt\nINFO: Analysed target //tensorflow/contrib/lite/toco:toco (0 packages loaded).\nINFO: Found 1 target...\nTarget //tensorflow/contrib/lite/toco:toco up-to-date:\n  bazel-bin/tensorflow/contrib/lite/toco/toco\nINFO: Elapsed time: 0.205s, Critical Path: 0.00s\nINFO: Build completed successfully, 1 total action\n\nINFO: Running command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb' '--output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--inference_type=QUANTIZED_UINT8' '--inference_input_type=QUANTIZED_UINT8' '--input_shape=1,368,368,3' '--input_array=images/Placeholder' '--output_array=stage6/confidence_maps/BiasAdd' '--default_ranges_min=0' '--default_ranges_max=6' '--mean_value=127.5' '--std_value=127.5' '--v=1'\n2018-02-13 11:07:56.107251: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 324 operators, 444 arrays (0 quantized)\n</code></pre>\n<p><strong>Command line</strong></p>\n<pre><code>\n- bazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt \\\n- //tensorflow/contrib/lite/toco:toco -- \\\n- --input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb \\\n- --output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite \\\n- --input_format=TENSORFLOW_GRAPHDEF \\\n- --output_format=TFLITE \\\n- --inference_type=QUANTIZED_UINT8 \\\n- --inference_input_type=QUANTIZED_UINT8 \\\n- --input_shape=1,368,368,3 \\\n- --input_array=images/Placeholder \\\n- --output_array=stage6/confidence_maps/BiasAdd \\\n- --default_ranges_min=0 \\\n- --default_ranges_max=6 \\\n- --mean_value=127.5 \\\n- --std_value=127.5 \\\n- --v=1\n</code></pre>\n<p><strong>Input node name description</strong><br>\nDim is -1, could this be a problem?</p>\n<pre><code>name: \"images/Placeholder\"\nop: \"Placeholder\"\nattr {\n  key: \"dtype\"\n  value {\n    type: DT_FLOAT\n  }\n}\nattr {\n  key: \"shape\"\n  value {\n    shape {\n      dim {\n        size: -1\n      }\n      dim {\n        size: 368\n      }\n      dim {\n        size: 368\n      }\n      dim {\n        size: 3\n      }\n    }\n  }\n}\n</code></pre>", "body_text": "Hello.\nI converting CPM(convolutional pose machine) PB file to TFLITE file, encounter error(s).\nI success, converting from MobileNet v1 224 PB file to uint8 TFLITE file format (17.2 MB -> 4.3 MB)\nJust only this log.\n\nWARNING: Config values are not defined in any .rc file: opt\nINFO: Analysed target //tensorflow/contrib/lite/toco:toco (0 packages loaded).\nINFO: Found 1 target...\nTarget //tensorflow/contrib/lite/toco:toco up-to-date:\n  bazel-bin/tensorflow/contrib/lite/toco/toco\nINFO: Elapsed time: 0.205s, Critical Path: 0.00s\nINFO: Build completed successfully, 1 total action\n\nINFO: Running command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb' '--output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--inference_type=QUANTIZED_UINT8' '--inference_input_type=QUANTIZED_UINT8' '--input_shape=1,368,368,3' '--input_array=images/Placeholder' '--output_array=stage6/confidence_maps/BiasAdd' '--default_ranges_min=0' '--default_ranges_max=6' '--mean_value=127.5' '--std_value=127.5' '--v=1'\n2018-02-13 11:07:56.107251: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 324 operators, 444 arrays (0 quantized)\n\nCommand line\n\n- bazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt \\\n- //tensorflow/contrib/lite/toco:toco -- \\\n- --input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb \\\n- --output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite \\\n- --input_format=TENSORFLOW_GRAPHDEF \\\n- --output_format=TFLITE \\\n- --inference_type=QUANTIZED_UINT8 \\\n- --inference_input_type=QUANTIZED_UINT8 \\\n- --input_shape=1,368,368,3 \\\n- --input_array=images/Placeholder \\\n- --output_array=stage6/confidence_maps/BiasAdd \\\n- --default_ranges_min=0 \\\n- --default_ranges_max=6 \\\n- --mean_value=127.5 \\\n- --std_value=127.5 \\\n- --v=1\n\nInput node name description\nDim is -1, could this be a problem?\nname: \"images/Placeholder\"\nop: \"Placeholder\"\nattr {\n  key: \"dtype\"\n  value {\n    type: DT_FLOAT\n  }\n}\nattr {\n  key: \"shape\"\n  value {\n    shape {\n      dim {\n        size: -1\n      }\n      dim {\n        size: 368\n      }\n      dim {\n        size: 368\n      }\n      dim {\n        size: 3\n      }\n    }\n  }\n}", "body": "Hello.\r\n\r\nI converting CPM(convolutional pose machine) PB file to TFLITE file, encounter error(s).\r\n\r\nI success, converting from MobileNet v1 224 PB file to uint8 TFLITE file format (17.2 MB -> 4.3 MB)\r\n\r\n**Just only this log.**\r\n<pre><code>\r\nWARNING: Config values are not defined in any .rc file: opt\r\nINFO: Analysed target //tensorflow/contrib/lite/toco:toco (0 packages loaded).\r\nINFO: Found 1 target...\r\nTarget //tensorflow/contrib/lite/toco:toco up-to-date:\r\n  bazel-bin/tensorflow/contrib/lite/toco/toco\r\nINFO: Elapsed time: 0.205s, Critical Path: 0.00s\r\nINFO: Build completed successfully, 1 total action\r\n\r\nINFO: Running command line: bazel-bin/tensorflow/contrib/lite/toco/toco '--input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb' '--output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite' '--input_format=TENSORFLOW_GRAPHDEF' '--output_format=TFLITE' '--inference_type=QUANTIZED_UINT8' '--inference_input_type=QUANTIZED_UINT8' '--input_shape=1,368,368,3' '--input_array=images/Placeholder' '--output_array=stage6/confidence_maps/BiasAdd' '--default_ranges_min=0' '--default_ranges_max=6' '--mean_value=127.5' '--std_value=127.5' '--v=1'\r\n2018-02-13 11:07:56.107251: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 324 operators, 444 arrays (0 quantized)\r\n</code></pre>\r\n\r\n**Command line**\r\n<pre><code>\r\n- bazel run -c opt --copt=-msse4.1 --copt=-msse4.2 --config=opt \\\r\n- //tensorflow/contrib/lite/toco:toco -- \\\r\n- --input_file=/home/danshin/tensorflow_lite/lite_model/frozen_cpm.pb \\\r\n- --output_file=/home/danshin/tensorflow_lite/lite_model/frozen_uint8_cpm.tflite \\\r\n- --input_format=TENSORFLOW_GRAPHDEF \\\r\n- --output_format=TFLITE \\\r\n- --inference_type=QUANTIZED_UINT8 \\\r\n- --inference_input_type=QUANTIZED_UINT8 \\\r\n- --input_shape=1,368,368,3 \\\r\n- --input_array=images/Placeholder \\\r\n- --output_array=stage6/confidence_maps/BiasAdd \\\r\n- --default_ranges_min=0 \\\r\n- --default_ranges_max=6 \\\r\n- --mean_value=127.5 \\\r\n- --std_value=127.5 \\\r\n- --v=1\r\n</code></pre>\r\n\r\n**Input node name description**\r\n Dim is -1, could this be a problem?\r\n```\r\nname: \"images/Placeholder\"\r\nop: \"Placeholder\"\r\nattr {\r\n  key: \"dtype\"\r\n  value {\r\n    type: DT_FLOAT\r\n  }\r\n}\r\nattr {\r\n  key: \"shape\"\r\n  value {\r\n    shape {\r\n      dim {\r\n        size: -1\r\n      }\r\n      dim {\r\n        size: 368\r\n      }\r\n      dim {\r\n        size: 368\r\n      }\r\n      dim {\r\n        size: 3\r\n      }\r\n    }\r\n  }\r\n}\r\n```"}