{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/81465140", "pull_request_review_id": 2445053, "id": 81465140, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgxNDY1MTQw", "diff_hunk": "@@ -128,7 +128,13 @@ def _testGradient(self, np_input, bias, dtype, data_format, use_gpu):\n           input_tensor, np_input.shape, output_tensor, np_input.shape)\n       bias_jacob_t, bias_jacob_n = tf.test.compute_gradient(\n           bias_tensor, bias.shape, output_tensor, np_input.shape)\n-\n+         \n+      # Test gradient of BiasAddGrad\n+      bias_add_grad = tf.gradients(tf.nn.l2_loss(output_tensor),\n+                                   bias_tensor)[0]\n+      grad_jacob_t, grad_jacob_n = tf.test.compute_gradient(\n+          output_tensor, np_input.shape, bias_add_grad, bias.shape)", "path": "tensorflow/python/kernel_tests/bias_op_test.py", "position": 10, "original_position": 10, "commit_id": "3f7374316e116450ad6c2ba76cb5c55f24c2297f", "original_commit_id": "3f7374316e116450ad6c2ba76cb5c55f24c2297f", "user": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "body": "I think we have a python3 issue here. Our nightlies are failing on this test:\nhttp://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=NO_PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-linux/247/consoleFull\n\nI was also able to reproduce the problem locally using the following command:\n$ bazel test tensorflow/python/kernel_tests:bias_op_test -c opt --config=cuda\n", "created_at": "2016-10-02T06:26:38Z", "updated_at": "2016-10-02T06:26:38Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/4411#discussion_r81465140", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4411", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/81465140"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/4411#discussion_r81465140"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/4411"}}, "body_html": "<p>I think we have a python3 issue here. Our nightlies are failing on this test:<br>\n<a href=\"http://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=NO_PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-linux/247/consoleFull\" rel=\"nofollow\">http://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=NO_PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-linux/247/consoleFull</a></p>\n<p>I was also able to reproduce the problem locally using the following command:<br>\n$ bazel test tensorflow/python/kernel_tests:bias_op_test -c opt --config=cuda</p>", "body_text": "I think we have a python3 issue here. Our nightlies are failing on this test:\nhttp://ci.tensorflow.org/view/Nightly/job/nightly-matrix-linux-gpu/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=NO_PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=gpu-linux/247/consoleFull\nI was also able to reproduce the problem locally using the following command:\n$ bazel test tensorflow/python/kernel_tests:bias_op_test -c opt --config=cuda"}