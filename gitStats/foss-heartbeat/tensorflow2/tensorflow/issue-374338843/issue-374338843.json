{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23296", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23296/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23296/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23296/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23296", "id": 374338843, "node_id": "MDU6SXNzdWUzNzQzMzg4NDM=", "number": 23296, "title": "Issue building C++ Tensorflow r1.6 and r1.7 on 64bit Windows 7 with CMake", "user": {"login": "Randryn0", "id": 42965043, "node_id": "MDQ6VXNlcjQyOTY1MDQz", "avatar_url": "https://avatars0.githubusercontent.com/u/42965043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Randryn0", "html_url": "https://github.com/Randryn0", "followers_url": "https://api.github.com/users/Randryn0/followers", "following_url": "https://api.github.com/users/Randryn0/following{/other_user}", "gists_url": "https://api.github.com/users/Randryn0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Randryn0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Randryn0/subscriptions", "organizations_url": "https://api.github.com/users/Randryn0/orgs", "repos_url": "https://api.github.com/users/Randryn0/repos", "events_url": "https://api.github.com/users/Randryn0/events{/privacy}", "received_events_url": "https://api.github.com/users/Randryn0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-26T11:17:16Z", "updated_at": "2018-11-19T23:24:23Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>OS: Windows 7 Enterprise</li>\n<li>TensorFlow installed from (source or binary): Source</li>\n<li>TensorFlow version: r1.6 and r1.7</li>\n<li>Python version: 3.5</li>\n<li>Installed using virtualenv? pip? conda?: Cmake</li>\n<li>Bazel version (if compiling from source): /</li>\n<li>GCC/Compiler version (if compiling from source): MSVC 19.14</li>\n<li>CUDA/cuDNN version: /</li>\n<li>GPU model and memory: /</li>\n</ul>\n<p>The compilation of TensorFlow fails.<br>\nThis issue occurs when I try to build Tensorflow with the C++ API on my machine running Windows 7 Enterprise (x64) using the provided CMake files since I need this for a standalone project.<br>\nI have tested this with the releases r1.6, r1.7, which I have pulled from the repository (for versions above r1.7 the compilation procedure fails due to other reasons; r1.12 cannot be compiled because it fails during CMake).<br>\nI have used the official documentation provided <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md\">here</a>, as well as other guides found on the internet (e.g. the two articles found <a href=\"https://joe-antognini.github.io/machine-learning/build-windows-tf\" rel=\"nofollow\">here</a> and <a href=\"https://joe-antognini.github.io/machine-learning/windows-tf-project\" rel=\"nofollow\">here</a> and another one <a href=\"https://medium.com/@shiweili/building-tensorflow-c-shared-library-on-windows-e79c90e23e6e\" rel=\"nofollow\">here</a>).</p>\n<p>First I initialise the shell by executing in a VS2017 developer command prompt:</p>\n<p>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build.</p>\n<p>Then I do</p>\n<p>cmake .. -A x64 -T host=x64 -DCMAKE_BUILD_TYPE=Release ^<br>\n-DSWIG_EXECUTABLE=\"C:\\swigwin-3.0.12\\swig.exe\" ^<br>\n-DPYTHON_EXECUTABLE=\"C:\\anaconda3\\envs\\tensorflow\\python.exe\" ^<br>\n-DPYTHON_LIBRARIES=\"C:\\anaconda3\\envs\\tensorflow\\libs\\python35.lib\" ^<br>\n-Dtensorflow_BUILD_PYTHON_BINDINGS=OFF ^<br>\n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF ^<br>\n-Dtensorflow_BUILD_SHARED_LIB=ON</p>\n<p>and start the build process with</p>\n<p>\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" ^<br>\n/m:1 ^<br>\n/p:CL_MPCount=1 ^<br>\n/p:Configuration=Release ^<br>\n/p:Platform=x64 ^<br>\n/p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj ^<br>\n/filelogger</p>\n<p>The build fails, the error messages are taken from msbuild.log:</p>\n<p>Creating directories for 'eigen'<br>\nPerforming download step (download, verify and extract) for 'eigen'<br>\n-- Downloading...<br>\ndst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'<br>\ntimeout='none'<br>\n-- Using src='<a href=\"https://bitbucket.org/eigen/eigen/get/14e1418fcf12.tar.gz\" rel=\"nofollow\">https://bitbucket.org/eigen/eigen/get/14e1418fcf12.tar.gz</a>'<br>\n-- [download 1% complete]<br>\n[...]<br>\n-- [download 100% complete]<br>\n-- Downloading... done<br>\n-- extracting...<br>\nsrc='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'<br>\ndst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen'<br>\n-- extracting... [tar xfz]<br>\n-- extracting... [analysis]<br>\n-- extracting... [rename]<br>\nCMake Error at eigen-stamp/extract-eigen.cmake:51 (file):<br>\nfile RENAME failed to rename</p>\n<p>C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/ex-eigen1234/eigen-eigen-14e1418fcf12<br>\nto</p>\n<p>C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen</p>\n<p>because: No such file or directory</p>\n<p>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj]<br>\nDone executing task \"CustomBuild\" -- FAILED.<br>\nDone building target \"CustomBuild\" in project \"eigen.vcxproj\" -- FAILED.<br>\nDone Building Project \"C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj\" (default targets) -- FAILED.</p>\n<p>Cheers.</p>", "body_text": "System information\n\nOS: Windows 7 Enterprise\nTensorFlow installed from (source or binary): Source\nTensorFlow version: r1.6 and r1.7\nPython version: 3.5\nInstalled using virtualenv? pip? conda?: Cmake\nBazel version (if compiling from source): /\nGCC/Compiler version (if compiling from source): MSVC 19.14\nCUDA/cuDNN version: /\nGPU model and memory: /\n\nThe compilation of TensorFlow fails.\nThis issue occurs when I try to build Tensorflow with the C++ API on my machine running Windows 7 Enterprise (x64) using the provided CMake files since I need this for a standalone project.\nI have tested this with the releases r1.6, r1.7, which I have pulled from the repository (for versions above r1.7 the compilation procedure fails due to other reasons; r1.12 cannot be compiled because it fails during CMake).\nI have used the official documentation provided here, as well as other guides found on the internet (e.g. the two articles found here and here and another one here).\nFirst I initialise the shell by executing in a VS2017 developer command prompt:\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build.\nThen I do\ncmake .. -A x64 -T host=x64 -DCMAKE_BUILD_TYPE=Release ^\n-DSWIG_EXECUTABLE=\"C:\\swigwin-3.0.12\\swig.exe\" ^\n-DPYTHON_EXECUTABLE=\"C:\\anaconda3\\envs\\tensorflow\\python.exe\" ^\n-DPYTHON_LIBRARIES=\"C:\\anaconda3\\envs\\tensorflow\\libs\\python35.lib\" ^\n-Dtensorflow_BUILD_PYTHON_BINDINGS=OFF ^\n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF ^\n-Dtensorflow_BUILD_SHARED_LIB=ON\nand start the build process with\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" ^\n/m:1 ^\n/p:CL_MPCount=1 ^\n/p:Configuration=Release ^\n/p:Platform=x64 ^\n/p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj ^\n/filelogger\nThe build fails, the error messages are taken from msbuild.log:\nCreating directories for 'eigen'\nPerforming download step (download, verify and extract) for 'eigen'\n-- Downloading...\ndst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'\ntimeout='none'\n-- Using src='https://bitbucket.org/eigen/eigen/get/14e1418fcf12.tar.gz'\n-- [download 1% complete]\n[...]\n-- [download 100% complete]\n-- Downloading... done\n-- extracting...\nsrc='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'\ndst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen'\n-- extracting... [tar xfz]\n-- extracting... [analysis]\n-- extracting... [rename]\nCMake Error at eigen-stamp/extract-eigen.cmake:51 (file):\nfile RENAME failed to rename\nC:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/ex-eigen1234/eigen-eigen-14e1418fcf12\nto\nC:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen\nbecause: No such file or directory\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj]\nDone executing task \"CustomBuild\" -- FAILED.\nDone building target \"CustomBuild\" in project \"eigen.vcxproj\" -- FAILED.\nDone Building Project \"C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj\" (default targets) -- FAILED.\nCheers.", "body": "**System information**\r\n- OS: Windows 7 Enterprise\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: r1.6 and r1.7\r\n- Python version: 3.5\r\n- Installed using virtualenv? pip? conda?: Cmake\r\n- Bazel version (if compiling from source): /\r\n- GCC/Compiler version (if compiling from source): MSVC 19.14\r\n- CUDA/cuDNN version: /\r\n- GPU model and memory: /\r\n\r\nThe compilation of TensorFlow fails.\r\nThis issue occurs when I try to build Tensorflow with the C++ API on my machine running Windows 7 Enterprise (x64) using the provided CMake files since I need this for a standalone project.\r\nI have tested this with the releases r1.6, r1.7, which I have pulled from the repository (for versions above r1.7 the compilation procedure fails due to other reasons; r1.12 cannot be compiled because it fails during CMake).\r\nI have used the official documentation provided [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md), as well as other guides found on the internet (e.g. the two articles found [here](https://joe-antognini.github.io/machine-learning/build-windows-tf) and [here](https://joe-antognini.github.io/machine-learning/windows-tf-project) and another one [here](https://medium.com/@shiweili/building-tensorflow-c-shared-library-on-windows-e79c90e23e6e)).\r\n\r\nFirst I initialise the shell by executing in a VS2017 developer command prompt:\r\n\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build.\r\n\r\nThen I do\r\n\r\ncmake .. -A x64 -T host=x64 -DCMAKE_BUILD_TYPE=Release ^\r\n-DSWIG_EXECUTABLE=\"C:\\swigwin-3.0.12\\swig.exe\" ^\r\n-DPYTHON_EXECUTABLE=\"C:\\anaconda3\\envs\\tensorflow\\python.exe\" ^\r\n-DPYTHON_LIBRARIES=\"C:\\anaconda3\\envs\\tensorflow\\libs\\python35.lib\" ^\r\n-Dtensorflow_BUILD_PYTHON_BINDINGS=OFF ^\r\n-Dtensorflow_ENABLE_GRPC_SUPPORT=OFF ^\r\n-Dtensorflow_BUILD_SHARED_LIB=ON \r\n\r\nand start the build process with\r\n\r\n\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin\\amd64\\MSBuild.exe\" ^\r\n/m:1 ^\r\n/p:CL_MPCount=1 ^\r\n/p:Configuration=Release ^\r\n/p:Platform=x64 ^\r\n/p:PreferredToolArchitecture=x64 ALL_BUILD.vcxproj ^\r\n/filelogger\r\n\r\n\r\nThe build fails, the error messages are taken from msbuild.log:\r\n\r\n  Creating directories for 'eigen'\r\n  Performing download step (download, verify and extract) for 'eigen'\r\n  -- Downloading...\r\n     dst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'\r\n     timeout='none'\r\n  -- Using src='https://bitbucket.org/eigen/eigen/get/14e1418fcf12.tar.gz'\r\n  -- [download 1% complete]\r\n  [...]\r\n  -- [download 100% complete]\r\n  -- Downloading... done\r\n  -- extracting...\r\n       src='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/downloads/14e1418fcf12.tar.gz'\r\n       dst='C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen'\r\n  -- extracting... [tar xfz]\r\n  -- extracting... [analysis]\r\n  -- extracting... [rename]\r\n  CMake Error at eigen-stamp/extract-eigen.cmake:51 (file):\r\n    file RENAME failed to rename\r\n  \r\n   C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/ex-eigen1234/eigen-eigen-14e1418fcf12\r\n    to\r\n  \r\n   C:/tensorflow_r1.6/tensorflow/contrib/cmake/build/eigen/src/eigen\r\n  \r\n because: No such file or directory\r\n  \r\n  \r\n  \r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1. [C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj]\r\nDone executing task \"CustomBuild\" -- FAILED.\r\nDone building target \"CustomBuild\" in project \"eigen.vcxproj\" -- FAILED.\r\nDone Building Project \"C:\\tensorflow_r1.6\\tensorflow\\contrib\\cmake\\build\\eigen.vcxproj\" (default targets) -- FAILED.\r\n\r\nCheers."}