{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8950", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8950/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8950/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8950/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8950", "id": 219199074, "node_id": "MDU6SXNzdWUyMTkxOTkwNzQ=", "number": 8950, "title": "Execution Stuck after few steps in sess.run()", "user": {"login": "ajeetksingh", "id": 1628210, "node_id": "MDQ6VXNlcjE2MjgyMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1628210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajeetksingh", "html_url": "https://github.com/ajeetksingh", "followers_url": "https://api.github.com/users/ajeetksingh/followers", "following_url": "https://api.github.com/users/ajeetksingh/following{/other_user}", "gists_url": "https://api.github.com/users/ajeetksingh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajeetksingh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajeetksingh/subscriptions", "organizations_url": "https://api.github.com/users/ajeetksingh/orgs", "repos_url": "https://api.github.com/users/ajeetksingh/repos", "events_url": "https://api.github.com/users/ajeetksingh/events{/privacy}", "received_events_url": "https://api.github.com/users/ajeetksingh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-04T10:00:47Z", "updated_at": "2017-06-16T20:44:41Z", "closed_at": "2017-06-16T20:44:41Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>Execution is stuck in between steps. For few steps, it seems to run fine but after that the execution just halts without throwing any exception or the error.</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04<br>\nGPU: NVIDIA TITAN X (Pascal)<br>\nGPU Memory: 12GB</p>\n<p>Installed version of CUDA and cuDNN:<br>\n-rw-r--r-- 1 root root   556000 Mar 29 05:10 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root       19 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.61<br>\n-rwxr-xr-x 1 root root   415432 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0.61<br>\n-rw-r--r-- 1 root root   775162 Mar 29 05:10 /usr/local/cuda/lib64/libcudart_static.a<br>\nlrwxrwxrwx 1 root root       13 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5<br>\nlrwxrwxrwx 1 root root       18 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.10<br>\n-rwxr-xr-x 1 root root 84163560 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5.1.10<br>\nlrwxrwxrwx 1 root root       18 Apr  4 12:55 /usr/local/cuda/lib64/libcudnn.so.6 -&gt; libcudnn.so.6.0.20<br>\n-rwxrwxrwx 1 root root 84163560 Apr  4 13:17 /usr/local/cuda/lib64/libcudnn.so.6.0.20<br>\n-rwxrwxrwx 1 root root 70364814 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn_static.a</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n</ol>\n<p><a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp34-cp34m-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp34-cp34m-linux_x86_64.whl</a></p>\n<ol start=\"2\">\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally<br>\n1.0.1</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>I ran the mnist_deep.py script provided in tutorials.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>Previously, the display used to get hang showing error CUDA_LAUNCH_ERROR_TIMEOUT. On nvidia forum, someone suggested to switch off the X-server. I switched it off, but the problem still persisted.<br>\nI noticed that the script was hogging full memory of GPU, I tried to limit the allocation by using \"allow_growth\" flag. But the problem still persists.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>step 47, training accuracy 0.64<br>\nstep 48, training accuracy 0.72<br>\nstep 49, training accuracy 0.7<br>\nstep 50, training accuracy 0.68<br>\nstep 51, training accuracy 0.76<br>\nstep 52, training accuracy 0.66<br>\nstep 53, training accuracy 0.82<br>\nstep 54, training accuracy 0.82<br>\nstep 55, training accuracy 0.64<br>\nstep 56, training accuracy 0.64<br>\nstep 57, training accuracy 0.74<br>\nstep 58, training accuracy 0.76<br>\nstep 59, training accuracy 0.8<br>\nstep 60, training accuracy 0.68<br>\nstep 61, training accuracy 0.88<br>\nstep 62, training accuracy 0.62<br>\nstep 63, training accuracy 0.84<br>\nstep 64, training accuracy 0.72<br>\nstep 65, training accuracy 0.76<br>\nstep 66, training accuracy 0.74<br>\nstep 67, training accuracy 0.86<br>\nstep 68, training accuracy 0.76<br>\nstep 69, training accuracy 0.9<br>\nstep 70, training accuracy 0.84<br>\nstep 71, training accuracy 0.82<br>\nstep 72, training accuracy 0.7</p>\n<p>Attached is the screenshot of \"nvidia-smi\"<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/1628210/24651492/a5b54ada-194b-11e7-8ba2-9c3ff6dc2901.PNG\"><img src=\"https://cloud.githubusercontent.com/assets/1628210/24651492/a5b54ada-194b-11e7-8ba2-9c3ff6dc2901.PNG\" alt=\"nvidia-smi\" style=\"max-width:100%;\"></a></p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nExecution is stuck in between steps. For few steps, it seems to run fine but after that the execution just halts without throwing any exception or the error.\nEnvironment info\nOperating System: Ubuntu 14.04\nGPU: NVIDIA TITAN X (Pascal)\nGPU Memory: 12GB\nInstalled version of CUDA and cuDNN:\n-rw-r--r-- 1 root root   556000 Mar 29 05:10 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\n-rwxr-xr-x 1 root root   415432 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root root   775162 Mar 29 05:10 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       18 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\n-rwxr-xr-x 1 root root 84163560 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5.1.10\nlrwxrwxrwx 1 root root       18 Apr  4 12:55 /usr/local/cuda/lib64/libcudnn.so.6 -> libcudnn.so.6.0.20\n-rwxrwxrwx 1 root root 84163560 Apr  4 13:17 /usr/local/cuda/lib64/libcudnn.so.6.0.20\n-rwxrwxrwx 1 root root 70364814 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\n\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp34-cp34m-linux_x86_64.whl\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\n1.0.1\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nI ran the mnist_deep.py script provided in tutorials.\nWhat other attempted solutions have you tried?\nPreviously, the display used to get hang showing error CUDA_LAUNCH_ERROR_TIMEOUT. On nvidia forum, someone suggested to switch off the X-server. I switched it off, but the problem still persisted.\nI noticed that the script was hogging full memory of GPU, I tried to limit the allocation by using \"allow_growth\" flag. But the problem still persists.\nLogs or other output that would be helpful\nstep 47, training accuracy 0.64\nstep 48, training accuracy 0.72\nstep 49, training accuracy 0.7\nstep 50, training accuracy 0.68\nstep 51, training accuracy 0.76\nstep 52, training accuracy 0.66\nstep 53, training accuracy 0.82\nstep 54, training accuracy 0.82\nstep 55, training accuracy 0.64\nstep 56, training accuracy 0.64\nstep 57, training accuracy 0.74\nstep 58, training accuracy 0.76\nstep 59, training accuracy 0.8\nstep 60, training accuracy 0.68\nstep 61, training accuracy 0.88\nstep 62, training accuracy 0.62\nstep 63, training accuracy 0.84\nstep 64, training accuracy 0.72\nstep 65, training accuracy 0.76\nstep 66, training accuracy 0.74\nstep 67, training accuracy 0.86\nstep 68, training accuracy 0.76\nstep 69, training accuracy 0.9\nstep 70, training accuracy 0.84\nstep 71, training accuracy 0.82\nstep 72, training accuracy 0.7\nAttached is the screenshot of \"nvidia-smi\"", "body": "\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\nExecution is stuck in between steps. For few steps, it seems to run fine but after that the execution just halts without throwing any exception or the error.\r\n\r\n### Environment info\r\nOperating System: Ubuntu 14.04\r\nGPU: NVIDIA TITAN X (Pascal)\r\nGPU Memory: 12GB\r\n\r\nInstalled version of CUDA and cuDNN: \r\n-rw-r--r-- 1 root root   556000 Mar 29 05:10 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\r\n-rwxr-xr-x 1 root root   415432 Mar 29 05:10 /usr/local/cuda/lib64/libcudart.so.8.0.61\r\n-rw-r--r-- 1 root root   775162 Mar 29 05:10 /usr/local/cuda/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 root root       13 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 root root       18 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\r\n-rwxr-xr-x 1 root root 84163560 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn.so.5.1.10\r\nlrwxrwxrwx 1 root root       18 Apr  4 12:55 /usr/local/cuda/lib64/libcudnn.so.6 -> libcudnn.so.6.0.20\r\n-rwxrwxrwx 1 root root 84163560 Apr  4 13:17 /usr/local/cuda/lib64/libcudnn.so.6.0.20\r\n-rwxrwxrwx 1 root root 70364814 Apr  4 13:18 /usr/local/cuda/lib64/libcudnn_static.a\r\n\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\n\r\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-1.0.1-cp34-cp34m-linux_x86_64.whl\r\n\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\n1.0.1\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nI ran the mnist_deep.py script provided in tutorials.\r\n\r\n### What other attempted solutions have you tried?\r\nPreviously, the display used to get hang showing error CUDA_LAUNCH_ERROR_TIMEOUT. On nvidia forum, someone suggested to switch off the X-server. I switched it off, but the problem still persisted.\r\nI noticed that the script was hogging full memory of GPU, I tried to limit the allocation by using \"allow_growth\" flag. But the problem still persists. \r\n\r\n### Logs or other output that would be helpful\r\nstep 47, training accuracy 0.64\r\nstep 48, training accuracy 0.72\r\nstep 49, training accuracy 0.7\r\nstep 50, training accuracy 0.68\r\nstep 51, training accuracy 0.76\r\nstep 52, training accuracy 0.66\r\nstep 53, training accuracy 0.82\r\nstep 54, training accuracy 0.82\r\nstep 55, training accuracy 0.64\r\nstep 56, training accuracy 0.64\r\nstep 57, training accuracy 0.74\r\nstep 58, training accuracy 0.76\r\nstep 59, training accuracy 0.8\r\nstep 60, training accuracy 0.68\r\nstep 61, training accuracy 0.88\r\nstep 62, training accuracy 0.62\r\nstep 63, training accuracy 0.84\r\nstep 64, training accuracy 0.72\r\nstep 65, training accuracy 0.76\r\nstep 66, training accuracy 0.74\r\nstep 67, training accuracy 0.86\r\nstep 68, training accuracy 0.76\r\nstep 69, training accuracy 0.9\r\nstep 70, training accuracy 0.84\r\nstep 71, training accuracy 0.82\r\nstep 72, training accuracy 0.7\r\n\r\nAttached is the screenshot of \"nvidia-smi\"\r\n![nvidia-smi](https://cloud.githubusercontent.com/assets/1628210/24651492/a5b54ada-194b-11e7-8ba2-9c3ff6dc2901.PNG)\r\n\r\n"}