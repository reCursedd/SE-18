{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15412", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15412/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15412/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15412/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15412", "id": 282594095, "node_id": "MDU6SXNzdWUyODI1OTQwOTU=", "number": 15412, "title": "tf.contrib.memory_stats.MaxBytesInUse() got `Op type not registered 'MaxBytesInUse' in binary running` error", "user": {"login": "germunwang", "id": 26490889, "node_id": "MDQ6VXNlcjI2NDkwODg5", "avatar_url": "https://avatars2.githubusercontent.com/u/26490889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/germunwang", "html_url": "https://github.com/germunwang", "followers_url": "https://api.github.com/users/germunwang/followers", "following_url": "https://api.github.com/users/germunwang/following{/other_user}", "gists_url": "https://api.github.com/users/germunwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/germunwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/germunwang/subscriptions", "organizations_url": "https://api.github.com/users/germunwang/orgs", "repos_url": "https://api.github.com/users/germunwang/repos", "events_url": "https://api.github.com/users/germunwang/events{/privacy}", "received_events_url": "https://api.github.com/users/germunwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "wujingyue", "id": 2772612, "node_id": "MDQ6VXNlcjI3NzI2MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2772612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wujingyue", "html_url": "https://github.com/wujingyue", "followers_url": "https://api.github.com/users/wujingyue/followers", "following_url": "https://api.github.com/users/wujingyue/following{/other_user}", "gists_url": "https://api.github.com/users/wujingyue/gists{/gist_id}", "starred_url": "https://api.github.com/users/wujingyue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wujingyue/subscriptions", "organizations_url": "https://api.github.com/users/wujingyue/orgs", "repos_url": "https://api.github.com/users/wujingyue/repos", "events_url": "https://api.github.com/users/wujingyue/events{/privacy}", "received_events_url": "https://api.github.com/users/wujingyue/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wujingyue", "id": 2772612, "node_id": "MDQ6VXNlcjI3NzI2MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2772612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wujingyue", "html_url": "https://github.com/wujingyue", "followers_url": "https://api.github.com/users/wujingyue/followers", "following_url": "https://api.github.com/users/wujingyue/following{/other_user}", "gists_url": "https://api.github.com/users/wujingyue/gists{/gist_id}", "starred_url": "https://api.github.com/users/wujingyue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wujingyue/subscriptions", "organizations_url": "https://api.github.com/users/wujingyue/orgs", "repos_url": "https://api.github.com/users/wujingyue/repos", "events_url": "https://api.github.com/users/wujingyue/events{/privacy}", "received_events_url": "https://api.github.com/users/wujingyue/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-12-16T02:42:40Z", "updated_at": "2018-11-22T18:53:12Z", "closed_at": null, "author_association": "NONE", "body_html": "<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:<br>\nShould be Yes, as subtitle Source code below.</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nWindows 7 x64</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\n<code>pip install tensorflow-gpu</code> with Anaconda on windows prompt following the tensorflow official tutorial</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\ntensorflow-gpu 1.4.0</li>\n<li><strong>Python version</strong>:<br>\n3.6, Anaconda</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\nN/A</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\n8.0/6.0</li>\n<li><strong>GPU model and memory</strong>:<br>\nGTX 1080TI</li>\n<li><strong>Exact command to reproduce</strong>:<br>\na simply <code>python code.py</code> or following source in python</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>The GPU training is all fine on my placement.<br>\nBut when I wanna track the memory usage I got the error using MaxBytesInUse(),<br>\nthe problem is not solved even I upgrade TF from 1.3 to 1.4.<br>\nAnd of course the same error using BytesInUse().</p>\n<p>Is any solution or is the possibility that the method not support for Win7? Thanks.</p>\n<h3>Source code / logs</h3>\n<p>The Op created failed even the simple code execute as follow, when I run MaxBytesInUse() to get a tensor to <code>a</code> then it failed.</p>\n<pre><code>import tensorflow as tf\na = tf.contrib.memory_stats.MaxBytesInUse()\n</code></pre>\n<p>And got the message</p>\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\python\\ops\\memory_stats_ops.py\", line 41, in MaxBytesInUse\n    return gen_memory_stats_ops.max_bytes_in_use()\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\ops\\gen_memory_stats_ops.py\", line 88, in max_bytes_in_use\n    \"MaxBytesInUse\", name=name)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2958, in create_op\n    set_shapes_for_outputs(ret)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2209, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2159, in call_with_requiring\n    return call_cpp_shape_fn(op, require_shape_fn=True)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 627, in call_cpp_shape_fn\n    require_shape_fn)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 686, in _call_cpp_shape_fn_impl\n    input_tensors_as_shapes, status)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'MaxBytesInUse' in binary running on MY-PC. Make sure the Op and Kernel are registered in the binary running in this process.\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nShould be Yes, as subtitle Source code below.\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows 7 x64\nTensorFlow installed from (source or binary):\npip install tensorflow-gpu with Anaconda on windows prompt following the tensorflow official tutorial\nTensorFlow version (use command below):\ntensorflow-gpu 1.4.0\nPython version:\n3.6, Anaconda\nBazel version (if compiling from source):\nN/A\nCUDA/cuDNN version:\n8.0/6.0\nGPU model and memory:\nGTX 1080TI\nExact command to reproduce:\na simply python code.py or following source in python\n\nDescribe the problem\nThe GPU training is all fine on my placement.\nBut when I wanna track the memory usage I got the error using MaxBytesInUse(),\nthe problem is not solved even I upgrade TF from 1.3 to 1.4.\nAnd of course the same error using BytesInUse().\nIs any solution or is the possibility that the method not support for Win7? Thanks.\nSource code / logs\nThe Op created failed even the simple code execute as follow, when I run MaxBytesInUse() to get a tensor to a then it failed.\nimport tensorflow as tf\na = tf.contrib.memory_stats.MaxBytesInUse()\n\nAnd got the message\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\python\\ops\\memory_stats_ops.py\", line 41, in MaxBytesInUse\n    return gen_memory_stats_ops.max_bytes_in_use()\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\ops\\gen_memory_stats_ops.py\", line 88, in max_bytes_in_use\n    \"MaxBytesInUse\", name=name)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2958, in create_op\n    set_shapes_for_outputs(ret)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2209, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2159, in call_with_requiring\n    return call_cpp_shape_fn(op, require_shape_fn=True)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 627, in call_cpp_shape_fn\n    require_shape_fn)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 686, in _call_cpp_shape_fn_impl\n    input_tensors_as_shapes, status)\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'MaxBytesInUse' in binary running on MY-PC. Make sure the Op and Kernel are registered in the binary running in this process.", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nShould be Yes, as subtitle Source code below.\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nWindows 7 x64\r\n- **TensorFlow installed from (source or binary)**:\r\n`pip install tensorflow-gpu` with Anaconda on windows prompt following the tensorflow official tutorial\r\n- **TensorFlow version (use command below)**:\r\ntensorflow-gpu 1.4.0\r\n- **Python version**: \r\n3.6, Anaconda\r\n- **Bazel version (if compiling from source)**:\r\nN/A\r\n- **CUDA/cuDNN version**:\r\n8.0/6.0\r\n- **GPU model and memory**:\r\nGTX 1080TI\r\n- **Exact command to reproduce**:\r\na simply `python code.py` or following source in python\r\n\r\n### Describe the problem\r\nThe GPU training is all fine on my placement. \r\nBut when I wanna track the memory usage I got the error using MaxBytesInUse(),\r\nthe problem is not solved even I upgrade TF from 1.3 to 1.4.\r\nAnd of course the same error using BytesInUse().\r\n\r\nIs any solution or is the possibility that the method not support for Win7? Thanks.\r\n\r\n### Source code / logs\r\nThe Op created failed even the simple code execute as follow, when I run MaxBytesInUse() to get a tensor to `a` then it failed.\r\n\r\n```\r\nimport tensorflow as tf\r\na = tf.contrib.memory_stats.MaxBytesInUse()\r\n```\r\nAnd got the message\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\python\\ops\\memory_stats_ops.py\", line 41, in MaxBytesInUse\r\n    return gen_memory_stats_ops.max_bytes_in_use()\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\memory_stats\\ops\\gen_memory_stats_ops.py\", line 88, in max_bytes_in_use\r\n    \"MaxBytesInUse\", name=name)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2958, in create_op\r\n    set_shapes_for_outputs(ret)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2209, in set_shapes_for_outputs\r\n    shapes = shape_func(op)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2159, in call_with_requiring\r\n    return call_cpp_shape_fn(op, require_shape_fn=True)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 627, in call_cpp_shape_fn\r\n    require_shape_fn)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\common_shapes.py\", line 686, in _call_cpp_shape_fn_impl\r\n    input_tensors_as_shapes, status)\r\n  File \"C:\\Users\\my\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py\", line 473, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'MaxBytesInUse' in binary running on MY-PC. Make sure the Op and Kernel are registered in the binary running in this process.\r\n```"}