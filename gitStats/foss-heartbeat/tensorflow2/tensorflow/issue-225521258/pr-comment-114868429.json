{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/114868429", "pull_request_review_id": 36365910, "id": 114868429, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2ODQyOQ==", "diff_hunk": "@@ -180,25 +180,35 @@ fi\n setup_python\n \n ## Set up MKL related environment settings\n-if false; then # Disable building with MKL for now\n-  while [ \"$TF_NEED_MKL\" == \"\" ]; do\n-    fromuser=\"\"\n-    read -p \"Do you wish to build TensorFlow with MKL support (experimental)? [y/N] \" INPUT\n-    fromuser=\"1\"\n-    case $INPUT in\n-      [Yy]* ) echo \"MKL support (experimental) (will be enabled for TensorFlow\"; TF_NEED_MKL=1;;\n-      [Nn]* ) echo \"No MKL support will be enabled for TensorFlow\"; TF_NEED_MKL=0;;\n-      \"\" ) echo \"No MKL support will be enabled for TensorFlow\"; TF_NEED_MKL=0;;\n-      * ) echo \"Invalid selection: \" $INPUT;;\n-    esac\n-  done\n+while [ \"$TF_NEED_MKL\" == \"\" ]; do\n+  fromuser=\"\"\n+  read -p \"Do you wish to build TensorFlow with MKL support? [y/N] \" INPUT\n+  fromuser=\"1\"\n+  case $INPUT in\n+    [Yy]* ) echo \"MKL support will be enabled for TensorFlow\"; TF_NEED_MKL=1;;\n+    [Nn]* ) echo \"No MKL support will be enabled for TensorFlow\"; TF_NEED_MKL=0;;\n+    \"\" ) echo \"No MKL support will be enabled for TensorFlow\"; TF_NEED_MKL=0;;\n+    * ) echo \"Invalid selection: \" $INPUT;;\n+  esac\n+done\n \n-  OSNAME=`uname -s`\n+OSNAME=`uname -s`\n \n-  if [ \"$TF_NEED_MKL\" == \"1\" ]; then # TF_NEED_MKL\n+if [ \"$TF_NEED_MKL\" == \"1\" ]; then # TF_NEED_MKL\n+  fromuser=\"\"\n+  read -p \"Do you wish to download MKL LIB from the web? [Y/n] \" INPUT\n+  fromuser=\"1\"\n+  case $INPUT in\n+    [Yy]* ) TF_DOWNLOAD_MKL=1;;\n+    [Nn]* ) TF_DOWNLOAD_MKL=0;;\n+    \"\" )    TF_DOWNLOAD_MKL=1;;\n+    * )     echo \"Invalid selection: \" $INPUT; exit 1;;\n+  esac\n+\n+  if [[ \"$TF_DOWNLOAD_MKL\" == \"1\" ]]; then\n     DST=`dirname $0`\n-    ARCHIVE_BASENAME=mklml_lnx_2017.0.2.20170209.tgz\n-    GITHUB_RELEASE_TAG=v0.5\n+    ARCHIVE_BASENAME=mklml_lnx_2018.0.20170425.tgz\n+    GITHUB_RELEASE_TAG=v0.7\n     MKLURL=\"https://github.com/01org/mkl-dnn/releases/download/$GITHUB_RELEASE_TAG/$ARCHIVE_BASENAME\"\n     if ! [ -e \"$DST/third_party/mkl/$ARCHIVE_BASENAME\" ]; then\n       wget --no-check-certificate -P $DST/third_party/mkl/ $MKLURL", "path": "configure", "position": 51, "original_position": 51, "commit_id": "1b94dfae351c295b3608434c728d50044fdce156", "original_commit_id": "f0ecb81ca670bf1c2578e0ee51e177df89db6dc0", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "body": "Please add a line in .gitignore to ignore third_party/mkl/*", "created_at": "2017-05-04T19:34:35Z", "updated_at": "2017-05-04T20:02:59Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/9580#discussion_r114868429", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9580", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/114868429"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/9580#discussion_r114868429"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9580"}}, "body_html": "<p>Please add a line in .gitignore to ignore third_party/mkl/*</p>", "body_text": "Please add a line in .gitignore to ignore third_party/mkl/*"}