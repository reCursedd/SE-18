{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253712043", "html_url": "https://github.com/tensorflow/tensorflow/issues/4935#issuecomment-253712043", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4935", "id": 253712043, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzcxMjA0Mw==", "user": {"login": "thinxer", "id": 66073, "node_id": "MDQ6VXNlcjY2MDcz", "avatar_url": "https://avatars3.githubusercontent.com/u/66073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thinxer", "html_url": "https://github.com/thinxer", "followers_url": "https://api.github.com/users/thinxer/followers", "following_url": "https://api.github.com/users/thinxer/following{/other_user}", "gists_url": "https://api.github.com/users/thinxer/gists{/gist_id}", "starred_url": "https://api.github.com/users/thinxer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thinxer/subscriptions", "organizations_url": "https://api.github.com/users/thinxer/orgs", "repos_url": "https://api.github.com/users/thinxer/repos", "events_url": "https://api.github.com/users/thinxer/events{/privacy}", "received_events_url": "https://api.github.com/users/thinxer/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-14T05:22:01Z", "updated_at": "2016-10-14T05:22:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49262\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jart\">@jart</a> Although TensorFlow uses gRPC for cross-node communication, there are flags that are intentionally reserved for out-of-band(OOB) transfers like RDMA.</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/worker.proto#L223\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/worker.proto#L223</a></p>\n<p>Even though gRPC could use a RDMA transport, it requires messages be serialized in protobuf, which requires memory copying from GPU to CPU. With OOB transfers like RDMA, it is possible to transfer tensors directly from one GPU to another.</p>\n<p>I believe the OP is asking for the OOB RDMA transport for tensors. Maybe some implementation around rdma_cm might be helpful.</p>", "body_text": "@jart Although TensorFlow uses gRPC for cross-node communication, there are flags that are intentionally reserved for out-of-band(OOB) transfers like RDMA.\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/worker.proto#L223\nEven though gRPC could use a RDMA transport, it requires messages be serialized in protobuf, which requires memory copying from GPU to CPU. With OOB transfers like RDMA, it is possible to transfer tensors directly from one GPU to another.\nI believe the OP is asking for the OOB RDMA transport for tensors. Maybe some implementation around rdma_cm might be helpful.", "body": "@jart Although TensorFlow uses gRPC for cross-node communication, there are flags that are intentionally reserved for out-of-band(OOB) transfers like RDMA. \n\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/worker.proto#L223\n\nEven though gRPC could use a RDMA transport, it requires messages be serialized in protobuf, which requires memory copying from GPU to CPU. With OOB transfers like RDMA, it is possible to transfer tensors directly from one GPU to another.\n\nI believe the OP is asking for the OOB RDMA transport for tensors. Maybe some implementation around rdma_cm might be helpful.\n"}