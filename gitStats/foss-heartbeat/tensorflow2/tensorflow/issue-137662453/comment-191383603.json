{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/191383603", "html_url": "https://github.com/tensorflow/tensorflow/issues/1346#issuecomment-191383603", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1346", "id": 191383603, "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTM4MzYwMw==", "user": {"login": "e14159", "id": 9612256, "node_id": "MDQ6VXNlcjk2MTIyNTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9612256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e14159", "html_url": "https://github.com/e14159", "followers_url": "https://api.github.com/users/e14159/followers", "following_url": "https://api.github.com/users/e14159/following{/other_user}", "gists_url": "https://api.github.com/users/e14159/gists{/gist_id}", "starred_url": "https://api.github.com/users/e14159/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e14159/subscriptions", "organizations_url": "https://api.github.com/users/e14159/orgs", "repos_url": "https://api.github.com/users/e14159/repos", "events_url": "https://api.github.com/users/e14159/events{/privacy}", "received_events_url": "https://api.github.com/users/e14159/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-02T19:23:19Z", "updated_at": "2016-03-02T19:23:19Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>I am not sure either. It looks like maybe the failure is during nvcc compiling aggregate_ops_gpu.cu.cc, but I don't understand why it works for us at CUDA 7.0 and not for you.</p>\n</blockquote>\n<p>For reference, I have also used CUDA 7.0 (and CuDNN 4). Same error.</p>\n<blockquote>\n<p>You can try disabling mwaitx when using nvcc (append this to your nvcc flags: -Xcompiler -mno-mwaitx).</p>\n</blockquote>\n<p>This was one of the other things I had experimented with before (following <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"133111577\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1066\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1066/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1066\">#1066</a>). I ran into the second error, too.</p>\n<blockquote>\n<p>As for your second issue, I had the same problem just a few days ago in my own code. In my case, CMake used /usr/lib/hardening-wrapper/bin/cc rather than gcc directly. That wrapper adds some extra compiler options (e.g. _FORTIFY_SOURCE) and can usually be used without even thinking about it, but apparently the source of the memcpy error was in one of these extra flags. I didn't try to pinpoint the exact source of the problem, but that's probably what you should be looking at.</p>\n</blockquote>\n<p>No <code>hardening-wrapper</code> installed, but looking at the flags might be a good start.</p>\n<p>For now, I am going to roll back to 0.6.0, reproduce the exact steps I needed to get it to run (since I know it once worked) and try to apply them to 0.7.1. I'll try to keep this issue updated.</p>\n<p>Thanks, both of you!</p>", "body_text": "I am not sure either. It looks like maybe the failure is during nvcc compiling aggregate_ops_gpu.cu.cc, but I don't understand why it works for us at CUDA 7.0 and not for you.\n\nFor reference, I have also used CUDA 7.0 (and CuDNN 4). Same error.\n\nYou can try disabling mwaitx when using nvcc (append this to your nvcc flags: -Xcompiler -mno-mwaitx).\n\nThis was one of the other things I had experimented with before (following #1066). I ran into the second error, too.\n\nAs for your second issue, I had the same problem just a few days ago in my own code. In my case, CMake used /usr/lib/hardening-wrapper/bin/cc rather than gcc directly. That wrapper adds some extra compiler options (e.g. _FORTIFY_SOURCE) and can usually be used without even thinking about it, but apparently the source of the memcpy error was in one of these extra flags. I didn't try to pinpoint the exact source of the problem, but that's probably what you should be looking at.\n\nNo hardening-wrapper installed, but looking at the flags might be a good start.\nFor now, I am going to roll back to 0.6.0, reproduce the exact steps I needed to get it to run (since I know it once worked) and try to apply them to 0.7.1. I'll try to keep this issue updated.\nThanks, both of you!", "body": "> I am not sure either. It looks like maybe the failure is during nvcc compiling aggregate_ops_gpu.cu.cc, but I don't understand why it works for us at CUDA 7.0 and not for you.\n\nFor reference, I have also used CUDA 7.0 (and CuDNN 4). Same error.\n\n> You can try disabling mwaitx when using nvcc (append this to your nvcc flags: -Xcompiler -mno-mwaitx). \n\nThis was one of the other things I had experimented with before (following #1066). I ran into the second error, too.\n\n> As for your second issue, I had the same problem just a few days ago in my own code. In my case, CMake used /usr/lib/hardening-wrapper/bin/cc rather than gcc directly. That wrapper adds some extra compiler options (e.g. _FORTIFY_SOURCE) and can usually be used without even thinking about it, but apparently the source of the memcpy error was in one of these extra flags. I didn't try to pinpoint the exact source of the problem, but that's probably what you should be looking at.\n\nNo `hardening-wrapper` installed, but looking at the flags might be a good start.\n\nFor now, I am going to roll back to 0.6.0, reproduce the exact steps I needed to get it to run (since I know it once worked) and try to apply them to 0.7.1. I'll try to keep this issue updated.\n\nThanks, both of you!\n"}