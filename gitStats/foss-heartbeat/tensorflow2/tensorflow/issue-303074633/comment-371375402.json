{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/371375402", "html_url": "https://github.com/tensorflow/tensorflow/issues/17507#issuecomment-371375402", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17507", "id": 371375402, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTM3NTQwMg==", "user": {"login": "botev", "id": 1889878, "node_id": "MDQ6VXNlcjE4ODk4Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1889878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/botev", "html_url": "https://github.com/botev", "followers_url": "https://api.github.com/users/botev/followers", "following_url": "https://api.github.com/users/botev/following{/other_user}", "gists_url": "https://api.github.com/users/botev/gists{/gist_id}", "starred_url": "https://api.github.com/users/botev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/botev/subscriptions", "organizations_url": "https://api.github.com/users/botev/orgs", "repos_url": "https://api.github.com/users/botev/repos", "events_url": "https://api.github.com/users/botev/events{/privacy}", "received_events_url": "https://api.github.com/users/botev/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-08T04:30:21Z", "updated_at": "2018-03-08T04:30:21Z", "author_association": "NONE", "body_html": "<p>Have I written custom code: No<br>\nOS Platform and distribution: Ubuntu 16.04 LTS<br>\nTensorflow installed from Anaconda<br>\nTensorflow version: 1.4<br>\nBazel version: Don't have bazel installed<br>\nCUDA/cuDNN version: On the cluster - CUDA 9.0/cudnnv8, the other machine is CPU only<br>\nGPU model and memory: V100 (P3 AWS instance)<br>\nExact command:</p>\n<pre><code>def load_parameters(saver, session, load_dir, force_delete=False):\n    if tf.gfile.Exists(load_dir):\n        ckpt = tf.train.get_checkpoint_state(load_dir)\n        if ckpt and ckpt.model_checkpoint_path:\n            saver.restore(session, ckpt.model_checkpoint_path)\n        elif force_delete:\n            shutil.rmtree(load_dir)\n            tf.gfile.MakeDirs(load_dir)\n    else:\n        tf.gfile.MakeDirs(load_dir)\n</code></pre>\n<p>This is called with absolute paths for <code>load_dir</code> on the cluster machine and on the desktop machine.</p>", "body_text": "Have I written custom code: No\nOS Platform and distribution: Ubuntu 16.04 LTS\nTensorflow installed from Anaconda\nTensorflow version: 1.4\nBazel version: Don't have bazel installed\nCUDA/cuDNN version: On the cluster - CUDA 9.0/cudnnv8, the other machine is CPU only\nGPU model and memory: V100 (P3 AWS instance)\nExact command:\ndef load_parameters(saver, session, load_dir, force_delete=False):\n    if tf.gfile.Exists(load_dir):\n        ckpt = tf.train.get_checkpoint_state(load_dir)\n        if ckpt and ckpt.model_checkpoint_path:\n            saver.restore(session, ckpt.model_checkpoint_path)\n        elif force_delete:\n            shutil.rmtree(load_dir)\n            tf.gfile.MakeDirs(load_dir)\n    else:\n        tf.gfile.MakeDirs(load_dir)\n\nThis is called with absolute paths for load_dir on the cluster machine and on the desktop machine.", "body": "Have I written custom code: No\r\nOS Platform and distribution: Ubuntu 16.04 LTS\r\nTensorflow installed from Anaconda \r\nTensorflow version: 1.4\r\nBazel version: Don't have bazel installed\r\nCUDA/cuDNN version: On the cluster - CUDA 9.0/cudnnv8, the other machine is CPU only\r\nGPU model and memory: V100 (P3 AWS instance)\r\nExact command:\r\n```\r\ndef load_parameters(saver, session, load_dir, force_delete=False):\r\n    if tf.gfile.Exists(load_dir):\r\n        ckpt = tf.train.get_checkpoint_state(load_dir)\r\n        if ckpt and ckpt.model_checkpoint_path:\r\n            saver.restore(session, ckpt.model_checkpoint_path)\r\n        elif force_delete:\r\n            shutil.rmtree(load_dir)\r\n            tf.gfile.MakeDirs(load_dir)\r\n    else:\r\n        tf.gfile.MakeDirs(load_dir)\r\n```\r\nThis is called with absolute paths for `load_dir` on the cluster machine and on the desktop machine. "}