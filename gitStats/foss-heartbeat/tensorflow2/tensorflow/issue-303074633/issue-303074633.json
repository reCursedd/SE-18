{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17507", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17507/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17507/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17507/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17507", "id": 303074633, "node_id": "MDU6SXNzdWUzMDMwNzQ2MzM=", "number": 17507, "title": "Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on", "user": {"login": "botev", "id": 1889878, "node_id": "MDQ6VXNlcjE4ODk4Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1889878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/botev", "html_url": "https://github.com/botev", "followers_url": "https://api.github.com/users/botev/followers", "following_url": "https://api.github.com/users/botev/following{/other_user}", "gists_url": "https://api.github.com/users/botev/gists{/gist_id}", "starred_url": "https://api.github.com/users/botev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/botev/subscriptions", "organizations_url": "https://api.github.com/users/botev/orgs", "repos_url": "https://api.github.com/users/botev/repos", "events_url": "https://api.github.com/users/botev/events{/privacy}", "received_events_url": "https://api.github.com/users/botev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-03-07T12:12:51Z", "updated_at": "2018-08-16T01:46:47Z", "closed_at": "2018-05-10T05:32:45Z", "author_association": "NONE", "body_html": "<p>The error occurs when I have trained on one system and used <code>tf.Saver</code> to save a model and then I copied the saved model on  a second system and used the same code to restore the model. However, the absolute paths of the directories in which the code is executed are different. Hence I got this error:</p>\n<pre><code>2018-03-07 12:08:17.897739: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2018-03-07 12:08:41.813649: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813663: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813680: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813700: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813724: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813769: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813784: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813802: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813819: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\nTraceback (most recent call last):\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1323, in _do_call\n    return fn(*args)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1302, in _run_fn\n    status, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in &lt;module&gt;\n    main()\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in &lt;module&gt;\n    main(**vars(parser.parse_args()))\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 97, in main\n    tu.load_parameters(saver, sess, data_folder)\n  File \"/home/alex/work/python/tensorflow_utils/tensorflow_utils/printing.py\", line 13, in load_parameters\n    saver.restore(session, ckpt.model_checkpoint_path)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1666, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 889, in run\n    run_metadata_ptr)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1120, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run\n    options, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\nCaused by op 'save/RestoreV2_1', defined at:\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in &lt;module&gt;\n    main()\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in &lt;module&gt;\n    main(**vars(parser.parse_args()))\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 87, in main\n    saver = tf.train.Saver(params)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1218, in __init__\n    self.build()\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1227, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1263, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 751, in _build_internal\n    restore_sequentially, reshape)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 427, in _AddRestoreOps\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 267, in restore_op\n    [spec.tensor.dtype])[0])\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1021, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op\n    op_def=op_def)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1470, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n</code></pre>\n<p>Isn't the saver suppose to save a somewhat system agnostic version of the tensors? The fact that there is hardcoded absolute paths make me very suspicous?</p>", "body_text": "The error occurs when I have trained on one system and used tf.Saver to save a model and then I copied the saved model on  a second system and used the same code to restore the model. However, the absolute paths of the directories in which the code is executed are different. Hence I got this error:\n2018-03-07 12:08:17.897739: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2018-03-07 12:08:41.813649: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813663: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813680: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813700: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813724: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813769: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813784: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813802: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n2018-03-07 12:08:41.813819: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\nTraceback (most recent call last):\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1323, in _do_call\n    return fn(*args)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1302, in _run_fn\n    status, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in <module>\n    main()\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in <module>\n    main(**vars(parser.parse_args()))\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 97, in main\n    tu.load_parameters(saver, sess, data_folder)\n  File \"/home/alex/work/python/tensorflow_utils/tensorflow_utils/printing.py\", line 13, in load_parameters\n    saver.restore(session, ckpt.model_checkpoint_path)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1666, in restore\n    {self.saver_def.filename_tensor_name: save_path})\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 889, in run\n    run_metadata_ptr)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1120, in _run\n    feed_dict_tensor, options, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run\n    options, run_metadata)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\nCaused by op 'save/RestoreV2_1', defined at:\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in <module>\n    main()\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in <module>\n    main(**vars(parser.parse_args()))\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 87, in main\n    saver = tf.train.Saver(params)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1218, in __init__\n    self.build()\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1227, in build\n    self._build(self._filename, build_save=True, build_restore=True)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1263, in _build\n    build_save=build_save, build_restore=build_restore)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 751, in _build_internal\n    restore_sequentially, reshape)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 427, in _AddRestoreOps\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 267, in restore_op\n    [spec.tensor.dtype])[0])\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1021, in restore_v2\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op\n    op_def=op_def)\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1470, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInvalidArgumentError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\n\nIsn't the saver suppose to save a somewhat system agnostic version of the tensors? The fact that there is hardcoded absolute paths make me very suspicous?", "body": "The error occurs when I have trained on one system and used `tf.Saver` to save a model and then I copied the saved model on  a second system and used the same code to restore the model. However, the absolute paths of the directories in which the code is executed are different. Hence I got this error:\r\n```\r\n2018-03-07 12:08:17.897739: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2018-03-07 12:08:41.813649: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813663: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813680: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813700: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813724: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813769: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813784: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813802: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n2018-03-07 12:08:41.813819: W tensorflow/core/framework/op_kernel.cc:1192] Invalid argument: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\nTraceback (most recent call last):\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1323, in _do_call\r\n    return fn(*args)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1302, in _run_fn\r\n    status, run_metadata)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 473, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in <module>\r\n    main()\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in <module>\r\n    main(**vars(parser.parse_args()))\r\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 97, in main\r\n    tu.load_parameters(saver, sess, data_folder)\r\n  File \"/home/alex/work/python/tensorflow_utils/tensorflow_utils/printing.py\", line 13, in load_parameters\r\n    saver.restore(session, ckpt.model_checkpoint_path)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1666, in restore\r\n    {self.saver_def.filename_tensor_name: save_path})\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 889, in run\r\n    run_metadata_ptr)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1120, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1317, in _do_run\r\n    options, run_metadata)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1336, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\r\n\r\nCaused by op 'save/RestoreV2_1', defined at:\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1668, in <module>\r\n    main()\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1662, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/pydevd.py\", line 1072, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/opt/pycharm-2017.3.3/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 165, in <module>\r\n    main(**vars(parser.parse_args()))\r\n  File \"/home/alex/work/python/bayes-test/bin/train.py\", line 87, in main\r\n    saver = tf.train.Saver(params)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1218, in __init__\r\n    self.build()\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1227, in build\r\n    self._build(self._filename, build_save=True, build_restore=True)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1263, in _build\r\n    build_save=build_save, build_restore=build_restore)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 751, in _build_internal\r\n    restore_sequentially, reshape)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 427, in _AddRestoreOps\r\n    tensors = self.restore_op(filename_tensor, saveable, preferred_shard)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 267, in restore_op\r\n    [spec.tensor.dtype])[0])\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/ops/gen_io_ops.py\", line 1021, in restore_v2\r\n    shape_and_slices=shape_and_slices, dtypes=dtypes, name=name)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 2956, in create_op\r\n    op_def=op_def)\r\n  File \"/opt/miniconda3/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1470, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInvalidArgumentError (see above for traceback): Unsuccessful TensorSliceReader constructor: Failed to get matching files on /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen/model.ckpt: Not found: /mnt/workspace/work/python/bayes-test/bin//results/not_centered/gen; No such file or directory\r\n\t [[Node: save/RestoreV2_1 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_save/Const_0_0, save/RestoreV2_1/tensor_names, save/RestoreV2_1/shape_and_slices)]]\r\n```\r\nIsn't the saver suppose to save a somewhat system agnostic version of the tensors? The fact that there is hardcoded absolute paths make me very suspicous?"}