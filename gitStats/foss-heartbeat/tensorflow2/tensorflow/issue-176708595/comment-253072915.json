{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/253072915", "html_url": "https://github.com/tensorflow/tensorflow/issues/4359#issuecomment-253072915", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4359", "id": 253072915, "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzA3MjkxNQ==", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-11T23:04:56Z", "updated_at": "2016-10-11T23:04:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think in this case, our optimizations for constant folding are foiling you :).   (Because c can be computed statically, we pre-compute it on the first run of the graph on CPU, and then there's nothing to run on your device).</p>\n<ol>\n<li>\n<p>You can disable this by disabling optimizations in ConfigProto.GraphOptions.</p>\n</li>\n<li>\n<p>You can redefine your graph to have the matmul take in two 'variables', in which case it's not constant foldable anymore.</p>\n</li>\n</ol>", "body_text": "I think in this case, our optimizations for constant folding are foiling you :).   (Because c can be computed statically, we pre-compute it on the first run of the graph on CPU, and then there's nothing to run on your device).\n\n\nYou can disable this by disabling optimizations in ConfigProto.GraphOptions.\n\n\nYou can redefine your graph to have the matmul take in two 'variables', in which case it's not constant foldable anymore.", "body": "I think in this case, our optimizations for constant folding are foiling you :).   (Because c can be computed statically, we pre-compute it on the first run of the graph on CPU, and then there's nothing to run on your device).\n\n1) You can disable this by disabling optimizations in ConfigProto.GraphOptions.\n\n2) You can redefine your graph to have the matmul take in two 'variables', in which case it's not constant foldable anymore.\n"}