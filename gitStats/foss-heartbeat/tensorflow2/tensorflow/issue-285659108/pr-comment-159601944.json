{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159601944", "pull_request_review_id": 86576816, "id": 159601944, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTYwMTk0NA==", "diff_hunk": "@@ -158,6 +158,8 @@ public TensorFlowInferenceInterface(InputStream is) {\n       }\n     } catch (IOException e) {\n       throw new RuntimeException(\"Failed to load model from the input stream\", e);\n+    } finally {\n+       is.close(); ", "path": "tensorflow/contrib/android/java/org/tensorflow/contrib/android/TensorFlowInferenceInterface.java", "position": 5, "original_position": 5, "commit_id": "dc2428e226ca770e8bc7266d93579b4f03089950", "original_commit_id": "dc2428e226ca770e8bc7266d93579b4f03089950", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "body": "Oh, wait, my apologies - I had misread this change.\r\nIt seems you're changing the contract of the public `TensorFlowInferenceInterface(InputStream)` constructor so that it \"takes ownership\" of the `InputStream`.\r\n\r\nCould you elaborate on why we'd want to change the contract? It seems more reasonable to me that the creator of the `InputStream` be responsible for closing it. Am I missing something?", "created_at": "2018-01-04T08:48:26Z", "updated_at": "2018-01-04T08:48:26Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15812#discussion_r159601944", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15812", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/159601944"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15812#discussion_r159601944"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15812"}}, "body_html": "<p>Oh, wait, my apologies - I had misread this change.<br>\nIt seems you're changing the contract of the public <code>TensorFlowInferenceInterface(InputStream)</code> constructor so that it \"takes ownership\" of the <code>InputStream</code>.</p>\n<p>Could you elaborate on why we'd want to change the contract? It seems more reasonable to me that the creator of the <code>InputStream</code> be responsible for closing it. Am I missing something?</p>", "body_text": "Oh, wait, my apologies - I had misread this change.\nIt seems you're changing the contract of the public TensorFlowInferenceInterface(InputStream) constructor so that it \"takes ownership\" of the InputStream.\nCould you elaborate on why we'd want to change the contract? It seems more reasonable to me that the creator of the InputStream be responsible for closing it. Am I missing something?"}