{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/403173737", "html_url": "https://github.com/tensorflow/tensorflow/issues/20511#issuecomment-403173737", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20511", "id": 403173737, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzE3MzczNw==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-07T00:05:38Z", "updated_at": "2018-07-07T00:05:38Z", "author_association": "MEMBER", "body_html": "<p>The general idea you have (of creating a <code>SavedModel</code> in Python and then using that in Go) seems right.</p>\n<p>The error message is trying to say that it expected a matrix (a 2D tensor) to be provided to the <code>MatMul</code> operation, but it received something else.</p>\n<p>From a cursory look at the provided code, the Python code is written so that <code>input</code> is a 2-D tensor (with shape <code>[None, input_nodes]</code>), but the Go code is feeding a 1D tensor (<code>[]float32</code>, which can be seen also by <code>fmt.Println(len(tensor.Shape())</code>).</p>\n<p>I suspect things will work out fine if <code>tensor</code> in Go is a 2D tensor (a <code>[][input_nodes]float32</code>)</p>\n<p>Let us know if that works. Thanks.</p>", "body_text": "The general idea you have (of creating a SavedModel in Python and then using that in Go) seems right.\nThe error message is trying to say that it expected a matrix (a 2D tensor) to be provided to the MatMul operation, but it received something else.\nFrom a cursory look at the provided code, the Python code is written so that input is a 2-D tensor (with shape [None, input_nodes]), but the Go code is feeding a 1D tensor ([]float32, which can be seen also by fmt.Println(len(tensor.Shape())).\nI suspect things will work out fine if tensor in Go is a 2D tensor (a [][input_nodes]float32)\nLet us know if that works. Thanks.", "body": "The general idea you have (of creating a `SavedModel` in Python and then using that in Go) seems right.\r\n\r\nThe error message is trying to say that it expected a matrix (a 2D tensor) to be provided to the `MatMul` operation, but it received something else.\r\n\r\nFrom a cursory look at the provided code, the Python code is written so that `input` is a 2-D tensor (with shape `[None, input_nodes]`), but the Go code is feeding a 1D tensor (`[]float32`, which can be seen also by `fmt.Println(len(tensor.Shape())`).\r\n\r\nI suspect things will work out fine if `tensor` in Go is a 2D tensor (a `[][input_nodes]float32`)\r\n\r\nLet us know if that works. Thanks.\r\n"}