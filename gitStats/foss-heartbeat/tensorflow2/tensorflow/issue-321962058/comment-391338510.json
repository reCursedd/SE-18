{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/391338510", "html_url": "https://github.com/tensorflow/tensorflow/issues/19200#issuecomment-391338510", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19200", "id": 391338510, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTMzODUxMA==", "user": {"login": "annemenini", "id": 13631130, "node_id": "MDQ6VXNlcjEzNjMxMTMw", "avatar_url": "https://avatars0.githubusercontent.com/u/13631130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annemenini", "html_url": "https://github.com/annemenini", "followers_url": "https://api.github.com/users/annemenini/followers", "following_url": "https://api.github.com/users/annemenini/following{/other_user}", "gists_url": "https://api.github.com/users/annemenini/gists{/gist_id}", "starred_url": "https://api.github.com/users/annemenini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annemenini/subscriptions", "organizations_url": "https://api.github.com/users/annemenini/orgs", "repos_url": "https://api.github.com/users/annemenini/repos", "events_url": "https://api.github.com/users/annemenini/events{/privacy}", "received_events_url": "https://api.github.com/users/annemenini/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-23T13:03:07Z", "updated_at": "2018-05-23T13:04:03Z", "author_association": "NONE", "body_html": "<p>I unfortunately cannot share the full code and do not manage to reproduce to problem in a simple unit test so far.</p>\n<p>To clarify, the difference I observe out of a single operation (tf.multiply) is significant: with the notation A .* B = C, here are the values I observe on one randomly picked element of the tensor:</p>\n<p>On CPU:<br>\nA = -0.2314 + 0.2525i<br>\nB = -0.0212 - 0.3013i<br>\n<strong>C = 0.0810 + 0.0644i</strong></p>\n<p>On GPU:<br>\nA = -0.2314 + 0.2525i<br>\nB = -0.0212 - 0.3013i<br>\n<strong>C = -0.0712 + 0.0751i</strong></p>\n<p>The mismatch disappears when the same operation is executed on its own in a simpler graph (hence why I don't manage to reproduce the problem in a unit test).</p>", "body_text": "I unfortunately cannot share the full code and do not manage to reproduce to problem in a simple unit test so far.\nTo clarify, the difference I observe out of a single operation (tf.multiply) is significant: with the notation A .* B = C, here are the values I observe on one randomly picked element of the tensor:\nOn CPU:\nA = -0.2314 + 0.2525i\nB = -0.0212 - 0.3013i\nC = 0.0810 + 0.0644i\nOn GPU:\nA = -0.2314 + 0.2525i\nB = -0.0212 - 0.3013i\nC = -0.0712 + 0.0751i\nThe mismatch disappears when the same operation is executed on its own in a simpler graph (hence why I don't manage to reproduce the problem in a unit test).", "body": "I unfortunately cannot share the full code and do not manage to reproduce to problem in a simple unit test so far.\r\n\r\nTo clarify, the difference I observe out of a single operation (tf.multiply) is significant: with the notation A .* B = C, here are the values I observe on one randomly picked element of the tensor:\r\n\r\nOn CPU:\r\nA = -0.2314 + 0.2525i\r\nB = -0.0212 - 0.3013i\r\n**C = 0.0810 + 0.0644i**\r\n\r\nOn GPU:\r\nA = -0.2314 + 0.2525i\r\nB = -0.0212 - 0.3013i\r\n**C = -0.0712 + 0.0751i**\r\n\r\nThe mismatch disappears when the same operation is executed on its own in a simpler graph (hence why I don't manage to reproduce the problem in a unit test)."}