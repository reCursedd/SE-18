{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/223427412", "html_url": "https://github.com/tensorflow/tensorflow/issues/2620#issuecomment-223427412", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2620", "id": 223427412, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzQyNzQxMg==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-02T21:25:27Z", "updated_at": "2016-06-02T21:27:00Z", "author_association": "MEMBER", "body_html": "<p>I am unable to reproduce this on my machine using the tensorflow master branch branch. I am using CUDA 7.0 with cuDNN 4.0 however. So perhaps try an older cudnn and let me know if that works for you.</p>\n<pre><code>$ python cifar10_train.py --data_dir=./cifar-data\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Graphics Device\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:02:00.0\nTotal memory: 12.00GiB\nFree memory: 11.87GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x28fc190\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Quadro K620\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.124\npciBusID 0000:03:00.0\nTotal memory: 2.00GiB\nFree memory: 1.04GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Graphics Device, pci bus id: 0000:02:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: Quadro K620, pci bus id: 0000:03:00.0)\n\n2016-06-02 14:22:38.249729: step 0, loss = 4.68 (6.7 examples/sec; 19.180 sec/batch)\n2016-06-02 14:22:39.837789: step 10, loss = 4.66 (1339.4 examples/sec; 0.096 sec/batch)\n2016-06-02 14:22:40.867866: step 20, loss = 4.64 (1101.5 examples/sec; 0.116 sec/batch)\n2016-06-02 14:22:41.923386: step 30, loss = 4.63 (1120.5 examples/sec; 0.114 sec/batch)\n2016-06-02 14:22:42.924298: step 40, loss = 4.60 (1186.7 examples/sec; 0.108 sec/batch)\n</code></pre>", "body_text": "I am unable to reproduce this on my machine using the tensorflow master branch branch. I am using CUDA 7.0 with cuDNN 4.0 however. So perhaps try an older cudnn and let me know if that works for you.\n$ python cifar10_train.py --data_dir=./cifar-data\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Graphics Device\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:02:00.0\nTotal memory: 12.00GiB\nFree memory: 11.87GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x28fc190\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Quadro K620\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.124\npciBusID 0000:03:00.0\nTotal memory: 2.00GiB\nFree memory: 1.04GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Graphics Device, pci bus id: 0000:02:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Quadro K620, pci bus id: 0000:03:00.0)\n\n2016-06-02 14:22:38.249729: step 0, loss = 4.68 (6.7 examples/sec; 19.180 sec/batch)\n2016-06-02 14:22:39.837789: step 10, loss = 4.66 (1339.4 examples/sec; 0.096 sec/batch)\n2016-06-02 14:22:40.867866: step 20, loss = 4.64 (1101.5 examples/sec; 0.116 sec/batch)\n2016-06-02 14:22:41.923386: step 30, loss = 4.63 (1120.5 examples/sec; 0.114 sec/batch)\n2016-06-02 14:22:42.924298: step 40, loss = 4.60 (1186.7 examples/sec; 0.108 sec/batch)", "body": "I am unable to reproduce this on my machine using the tensorflow master branch branch. I am using CUDA 7.0 with cuDNN 4.0 however. So perhaps try an older cudnn and let me know if that works for you.\n\n```\n$ python cifar10_train.py --data_dir=./cifar-data\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: Graphics Device\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2155\npciBusID 0000:02:00.0\nTotal memory: 12.00GiB\nFree memory: 11.87GiB\nW tensorflow/stream_executor/cuda/cuda_driver.cc:572] creating context when one is currently active; existing: 0x28fc190\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \nname: Quadro K620\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.124\npciBusID 0000:03:00.0\nTotal memory: 2.00GiB\nFree memory: 1.04GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 0 to device ordinal 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:59] cannot enable peer access from device ordinal 1 to device ordinal 0\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y N \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   N Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Graphics Device, pci bus id: 0000:02:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:782] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Quadro K620, pci bus id: 0000:03:00.0)\n\n2016-06-02 14:22:38.249729: step 0, loss = 4.68 (6.7 examples/sec; 19.180 sec/batch)\n2016-06-02 14:22:39.837789: step 10, loss = 4.66 (1339.4 examples/sec; 0.096 sec/batch)\n2016-06-02 14:22:40.867866: step 20, loss = 4.64 (1101.5 examples/sec; 0.116 sec/batch)\n2016-06-02 14:22:41.923386: step 30, loss = 4.63 (1120.5 examples/sec; 0.114 sec/batch)\n2016-06-02 14:22:42.924298: step 40, loss = 4.60 (1186.7 examples/sec; 0.108 sec/batch)\n```\n"}