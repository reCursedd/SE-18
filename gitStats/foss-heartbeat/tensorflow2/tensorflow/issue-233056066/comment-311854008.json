{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311854008", "html_url": "https://github.com/tensorflow/tensorflow/pull/10384#issuecomment-311854008", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10384", "id": 311854008, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTg1NDAwOA==", "user": {"login": "ctava", "id": 283711, "node_id": "MDQ6VXNlcjI4MzcxMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/283711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctava", "html_url": "https://github.com/ctava", "followers_url": "https://api.github.com/users/ctava/followers", "following_url": "https://api.github.com/users/ctava/following{/other_user}", "gists_url": "https://api.github.com/users/ctava/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctava/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctava/subscriptions", "organizations_url": "https://api.github.com/users/ctava/orgs", "repos_url": "https://api.github.com/users/ctava/repos", "events_url": "https://api.github.com/users/ctava/events{/privacy}", "received_events_url": "https://api.github.com/users/ctava/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-29T03:39:52Z", "updated_at": "2017-06-29T03:39:52Z", "author_association": "CONTRIBUTOR", "body_html": "<p>docker workaround:</p>\n<pre><code>#Begin: install protoc\nENV PROTOC_VERSION 3.3.0\nENV PROTOC_LIB_ZIP protoc-$PROTOC_VERSION-linux-x86_64.zip\nENV TARGET_DIRECTORY /usr/local\nRUN  curl -fsSL \"https://github.com/google/protobuf/releases/download/v$PROTOC_VERSION/$PROTOC_LIB_ZIP\" -o $PROTOC_LIB_ZIP &amp;&amp; \\\n     sudo unzip $PROTOC_LIB_ZIP -d $TARGET_DIRECTORY &amp;&amp; \\\n     rm -Rf $TPROTOC_LIB_ZIP\n#End: install protoc\n\n#Begin: generate go files from protobufs\nRUN go get github.com/golang/protobuf/proto\nRUN go get github.com/golang/protobuf/protoc-gen-go\nENV TF_DIR /go/src/github.com/tensorflow/tensorflow\nENV TF_PB_DIR /go/src/github.com/tensorflow/tensorflow/tensorflow/go/pb\nRUN mkdir -p $TF_PB_DIR\nRUN /usr/local/bin/protoc -I $TF_DIR \\\n  --go_out=$TF_PB_DIR \\\n  $TF_DIR/tensorflow/core/framework/*.proto\n#End: generate go files from protobufs\n</code></pre>", "body_text": "docker workaround:\n#Begin: install protoc\nENV PROTOC_VERSION 3.3.0\nENV PROTOC_LIB_ZIP protoc-$PROTOC_VERSION-linux-x86_64.zip\nENV TARGET_DIRECTORY /usr/local\nRUN  curl -fsSL \"https://github.com/google/protobuf/releases/download/v$PROTOC_VERSION/$PROTOC_LIB_ZIP\" -o $PROTOC_LIB_ZIP && \\\n     sudo unzip $PROTOC_LIB_ZIP -d $TARGET_DIRECTORY && \\\n     rm -Rf $TPROTOC_LIB_ZIP\n#End: install protoc\n\n#Begin: generate go files from protobufs\nRUN go get github.com/golang/protobuf/proto\nRUN go get github.com/golang/protobuf/protoc-gen-go\nENV TF_DIR /go/src/github.com/tensorflow/tensorflow\nENV TF_PB_DIR /go/src/github.com/tensorflow/tensorflow/tensorflow/go/pb\nRUN mkdir -p $TF_PB_DIR\nRUN /usr/local/bin/protoc -I $TF_DIR \\\n  --go_out=$TF_PB_DIR \\\n  $TF_DIR/tensorflow/core/framework/*.proto\n#End: generate go files from protobufs", "body": "docker workaround:\r\n\r\n```\r\n#Begin: install protoc\r\nENV PROTOC_VERSION 3.3.0\r\nENV PROTOC_LIB_ZIP protoc-$PROTOC_VERSION-linux-x86_64.zip\r\nENV TARGET_DIRECTORY /usr/local\r\nRUN  curl -fsSL \"https://github.com/google/protobuf/releases/download/v$PROTOC_VERSION/$PROTOC_LIB_ZIP\" -o $PROTOC_LIB_ZIP && \\\r\n     sudo unzip $PROTOC_LIB_ZIP -d $TARGET_DIRECTORY && \\\r\n     rm -Rf $TPROTOC_LIB_ZIP\r\n#End: install protoc\r\n\r\n#Begin: generate go files from protobufs\r\nRUN go get github.com/golang/protobuf/proto\r\nRUN go get github.com/golang/protobuf/protoc-gen-go\r\nENV TF_DIR /go/src/github.com/tensorflow/tensorflow\r\nENV TF_PB_DIR /go/src/github.com/tensorflow/tensorflow/tensorflow/go/pb\r\nRUN mkdir -p $TF_PB_DIR\r\nRUN /usr/local/bin/protoc -I $TF_DIR \\\r\n  --go_out=$TF_PB_DIR \\\r\n  $TF_DIR/tensorflow/core/framework/*.proto\r\n#End: generate go files from protobufs\r\n```"}