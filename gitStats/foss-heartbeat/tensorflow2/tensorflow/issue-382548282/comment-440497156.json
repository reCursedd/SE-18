{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/440497156", "html_url": "https://github.com/tensorflow/tensorflow/issues/23873#issuecomment-440497156", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23873", "id": 440497156, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDQ5NzE1Ng==", "user": {"login": "jchia", "id": 446676, "node_id": "MDQ6VXNlcjQ0NjY3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/446676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jchia", "html_url": "https://github.com/jchia", "followers_url": "https://api.github.com/users/jchia/followers", "following_url": "https://api.github.com/users/jchia/following{/other_user}", "gists_url": "https://api.github.com/users/jchia/gists{/gist_id}", "starred_url": "https://api.github.com/users/jchia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jchia/subscriptions", "organizations_url": "https://api.github.com/users/jchia/orgs", "repos_url": "https://api.github.com/users/jchia/repos", "events_url": "https://api.github.com/users/jchia/events{/privacy}", "received_events_url": "https://api.github.com/users/jchia/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-21T01:43:00Z", "updated_at": "2018-11-21T01:43:00Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8427788\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/galeone\">@galeone</a> Your code is very long so I only skimmed it, but I think the gist of what you're saying is that <code>keras.layers.BatchNormalization</code> update is not being done during training. If that's the case, does it work if you collect the update ops as described in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"327658707\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/19643\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/19643/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/19643\">#19643</a> and use them as <code>control_dependencies</code> for your training ops (<code>train_d</code>, <code>train_g</code>, <code>train_e</code>)?</p>", "body_text": "@galeone Your code is very long so I only skimmed it, but I think the gist of what you're saying is that keras.layers.BatchNormalization update is not being done during training. If that's the case, does it work if you collect the update ops as described in #19643 and use them as control_dependencies for your training ops (train_d, train_g, train_e)?", "body": "@galeone Your code is very long so I only skimmed it, but I think the gist of what you're saying is that `keras.layers.BatchNormalization` update is not being done during training. If that's the case, does it work if you collect the update ops as described in #19643 and use them as `control_dependencies` for your training ops (`train_d`, `train_g`, `train_e`)?"}