{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/435729041", "html_url": "https://github.com/tensorflow/tensorflow/issues/23246#issuecomment-435729041", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23246", "id": 435729041, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTcyOTA0MQ==", "user": {"login": "lianyunwen", "id": 11433174, "node_id": "MDQ6VXNlcjExNDMzMTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/11433174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lianyunwen", "html_url": "https://github.com/lianyunwen", "followers_url": "https://api.github.com/users/lianyunwen/followers", "following_url": "https://api.github.com/users/lianyunwen/following{/other_user}", "gists_url": "https://api.github.com/users/lianyunwen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lianyunwen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lianyunwen/subscriptions", "organizations_url": "https://api.github.com/users/lianyunwen/orgs", "repos_url": "https://api.github.com/users/lianyunwen/repos", "events_url": "https://api.github.com/users/lianyunwen/events{/privacy}", "received_events_url": "https://api.github.com/users/lianyunwen/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-05T01:26:59Z", "updated_at": "2018-11-05T01:26:59Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>There was an issue with 1.8 when a specific initialization order was required:</p>\n<p>Quoting <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=31654570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/boriskovalev\">@boriskovalev</a>:</p>\n<blockquote>\n<ol>\n<li>Need to run by strict sequence when worker/PS with higher index is started first.<br>\nExample: We run 2 PS + 2 Workers.  So, launch sequence must be PS1-&gt;PS0-&gt;W1-&gt;W0.</li>\n</ol>\n</blockquote>\n<p>Can you try it?</p>\n</blockquote>\n<p>Sorry, reply this too late.<br>\nIn my case, I can't ensure the start sequence.<br>\nAnd it alse get error with this sequence: PS1-&gt;PS0-&gt;W1-&gt;W0 when it's interval of more than 10 seconds between any two nodes.<br>\nBelow is the output:<br>\n2018-11-05 09:19:30.492683: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:332] Started server with target: grpc://localhost:20013<br>\n2018-11-05 09:19:30.499571: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (1/5)...<br>\n2018-11-05 09:19:32.501270: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (2/5)...<br>\n2018-11-05 09:19:34.502214: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (3/5)...<br>\n2018-11-05 09:19:36.503246: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (4/5)...<br>\n2018-11-05 09:19:38.504283: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (5/5)...<br>\n2018-11-05 09:19:38.504325: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:worker/replica:0/task:0<br>\n2018-11-05 09:19:38.506257: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:1<br>\n2018-11-05 09:19:38.509235: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:0<br>\n2018-11-05 09:19:38.509325: F tensorflow/contrib/verbs/rdma_mgr.cc:142] Check failed: rc-&gt;PingPostSend() == 0 Couldn't post send to /job:worker/replica:0/task:0 with error: Invalid argument<br>\nAborted (core dumped)</p>", "body_text": "There was an issue with 1.8 when a specific initialization order was required:\nQuoting @boriskovalev:\n\n\nNeed to run by strict sequence when worker/PS with higher index is started first.\nExample: We run 2 PS + 2 Workers.  So, launch sequence must be PS1->PS0->W1->W0.\n\n\nCan you try it?\n\nSorry, reply this too late.\nIn my case, I can't ensure the start sequence.\nAnd it alse get error with this sequence: PS1->PS0->W1->W0 when it's interval of more than 10 seconds between any two nodes.\nBelow is the output:\n2018-11-05 09:19:30.492683: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:332] Started server with target: grpc://localhost:20013\n2018-11-05 09:19:30.499571: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (1/5)...\n2018-11-05 09:19:32.501270: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (2/5)...\n2018-11-05 09:19:34.502214: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (3/5)...\n2018-11-05 09:19:36.503246: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (4/5)...\n2018-11-05 09:19:38.504283: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (5/5)...\n2018-11-05 09:19:38.504325: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:worker/replica:0/task:0\n2018-11-05 09:19:38.506257: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:1\n2018-11-05 09:19:38.509235: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:0\n2018-11-05 09:19:38.509325: F tensorflow/contrib/verbs/rdma_mgr.cc:142] Check failed: rc->PingPostSend() == 0 Couldn't post send to /job:worker/replica:0/task:0 with error: Invalid argument\nAborted (core dumped)", "body": "> There was an issue with 1.8 when a specific initialization order was required:\r\n> \r\n> Quoting @boriskovalev:\r\n> \r\n> > 1. Need to run by strict sequence when worker/PS with higher index is started first.\r\n> >    Example: We run 2 PS + 2 Workers.  So, launch sequence must be PS1->PS0->W1->W0.\r\n> \r\n> Can you try it?\r\n\r\nSorry, reply this too late.\r\nIn my case, I can't ensure the start sequence.\r\nAnd it alse get error with this sequence: PS1->PS0->W1->W0 when it's interval of more than 10 seconds between any two nodes.\r\nBelow is the output:\r\n2018-11-05 09:19:30.492683: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:332] Started server with target: grpc://localhost:20013\r\n2018-11-05 09:19:30.499571: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (1/5)...\r\n2018-11-05 09:19:32.501270: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (2/5)...\r\n2018-11-05 09:19:34.502214: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (3/5)...\r\n2018-11-05 09:19:36.503246: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (4/5)...\r\n2018-11-05 09:19:38.504283: E tensorflow/contrib/verbs/rdma_mgr.cc:119] Connecting to /job:worker/replica:0/task:0: Got OS Error. Retrying (5/5)...\r\n2018-11-05 09:19:38.504325: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:worker/replica:0/task:0\r\n2018-11-05 09:19:38.506257: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:1\r\n2018-11-05 09:19:38.509235: I tensorflow/contrib/verbs/rdma_mgr.cc:128] Connected to remote node /job:ps/replica:0/task:0\r\n2018-11-05 09:19:38.509325: F tensorflow/contrib/verbs/rdma_mgr.cc:142] Check failed: rc->PingPostSend() == 0 Couldn't post send to /job:worker/replica:0/task:0 with error: Invalid argument\r\nAborted (core dumped)"}