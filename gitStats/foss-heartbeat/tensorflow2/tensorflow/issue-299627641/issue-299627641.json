{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17212", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17212/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17212/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17212/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17212", "id": 299627641, "node_id": "MDU6SXNzdWUyOTk2Mjc2NDE=", "number": 17212, "title": "got error when run eval.py in object detection api", "user": {"login": "zeynali", "id": 18167711, "node_id": "MDQ6VXNlcjE4MTY3NzEx", "avatar_url": "https://avatars0.githubusercontent.com/u/18167711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zeynali", "html_url": "https://github.com/zeynali", "followers_url": "https://api.github.com/users/zeynali/followers", "following_url": "https://api.github.com/users/zeynali/following{/other_user}", "gists_url": "https://api.github.com/users/zeynali/gists{/gist_id}", "starred_url": "https://api.github.com/users/zeynali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zeynali/subscriptions", "organizations_url": "https://api.github.com/users/zeynali/orgs", "repos_url": "https://api.github.com/users/zeynali/repos", "events_url": "https://api.github.com/users/zeynali/events{/privacy}", "received_events_url": "https://api.github.com/users/zeynali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, {"login": "pkulzc", "id": 35853368, "node_id": "MDQ6VXNlcjM1ODUzMzY4", "avatar_url": "https://avatars3.githubusercontent.com/u/35853368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkulzc", "html_url": "https://github.com/pkulzc", "followers_url": "https://api.github.com/users/pkulzc/followers", "following_url": "https://api.github.com/users/pkulzc/following{/other_user}", "gists_url": "https://api.github.com/users/pkulzc/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkulzc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkulzc/subscriptions", "organizations_url": "https://api.github.com/users/pkulzc/orgs", "repos_url": "https://api.github.com/users/pkulzc/repos", "events_url": "https://api.github.com/users/pkulzc/events{/privacy}", "received_events_url": "https://api.github.com/users/pkulzc/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2018-02-23T07:58:56Z", "updated_at": "2018-08-02T17:26:53Z", "closed_at": "2018-08-02T17:26:53Z", "author_association": "NONE", "body_html": "<p>Hi ,<br>\ni faced with this error when i run eval.py:</p>\n<p>INFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nTraceback (most recent call last):<br>\nFile \"eval.py\", line 142, in<br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 124, in run<br>\n_sys.exit(main(argv))<br>\nFile \"eval.py\", line 138, in main<br>\nFLAGS.checkpoint_dir, FLAGS.eval_dir)<br>\nFile \"/home/mm/models/research/object_detection/evaluator.py\", line 240, in evaluate<br>\nsave_graph_dir=(eval_dir if eval_config.save_graph else ''))<br>\nFile \"/home/mm/models/research/object_detection/eval_util.py\", line 448, in repeated_checkpoint_run<br>\nreturn metrics<br>\nUnboundLocalError: local variable 'metrics' referenced before assignment</p>\n<p>########################################################################<br>\ni once saw that must be initial metrics : in the beginning of repeated_checkpoint_run i i added this :<br>\nmetrics={}<br>\npr_value={}<br>\nglobal_step={}<br>\ni this case , that error don't face but after for a while processing don't give me any value :<br>\nmm@mm:~/models/research/object_detection$ python3 eval.py \\</p>\n<pre><code>    --logtostderr \\\n    --checkpoint_dir=training_ssd_mobile/model.ckpt-200000 \\\n    --eval_dir=eval_log\\\n    --pipeline_config_path=ssd_mobilenet_v1_coco_2017_11_17/ssd_mobilenet_v1_focal_loss_coco.config\n</code></pre>\n<p>INFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0<br>\nINFO:tensorflow:depth of additional conv before box predictor: 0</p>", "body_text": "Hi ,\ni faced with this error when i run eval.py:\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nTraceback (most recent call last):\nFile \"eval.py\", line 142, in\ntf.app.run()\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 124, in run\n_sys.exit(main(argv))\nFile \"eval.py\", line 138, in main\nFLAGS.checkpoint_dir, FLAGS.eval_dir)\nFile \"/home/mm/models/research/object_detection/evaluator.py\", line 240, in evaluate\nsave_graph_dir=(eval_dir if eval_config.save_graph else ''))\nFile \"/home/mm/models/research/object_detection/eval_util.py\", line 448, in repeated_checkpoint_run\nreturn metrics\nUnboundLocalError: local variable 'metrics' referenced before assignment\n########################################################################\ni once saw that must be initial metrics : in the beginning of repeated_checkpoint_run i i added this :\nmetrics={}\npr_value={}\nglobal_step={}\ni this case , that error don't face but after for a while processing don't give me any value :\nmm@mm:~/models/research/object_detection$ python3 eval.py \\\n    --logtostderr \\\n    --checkpoint_dir=training_ssd_mobile/model.ckpt-200000 \\\n    --eval_dir=eval_log\\\n    --pipeline_config_path=ssd_mobilenet_v1_coco_2017_11_17/ssd_mobilenet_v1_focal_loss_coco.config\n\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0\nINFO:tensorflow:depth of additional conv before box predictor: 0", "body": "Hi ,\r\ni faced with this error when i run eval.py:\r\n\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nTraceback (most recent call last):\r\nFile \"eval.py\", line 142, in\r\ntf.app.run()\r\nFile \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/platform/app.py\", line 124, in run\r\n_sys.exit(main(argv))\r\nFile \"eval.py\", line 138, in main\r\nFLAGS.checkpoint_dir, FLAGS.eval_dir)\r\nFile \"/home/mm/models/research/object_detection/evaluator.py\", line 240, in evaluate\r\nsave_graph_dir=(eval_dir if eval_config.save_graph else ''))\r\nFile \"/home/mm/models/research/object_detection/eval_util.py\", line 448, in repeated_checkpoint_run\r\nreturn metrics\r\nUnboundLocalError: local variable 'metrics' referenced before assignment\r\n\r\n########################################################################\r\ni once saw that must be initial metrics : in the beginning of repeated_checkpoint_run i i added this :\r\nmetrics={}\r\npr_value={}\r\nglobal_step={}\r\ni this case , that error don't face but after for a while processing don't give me any value :\r\nmm@mm:~/models/research/object_detection$ python3 eval.py \\\r\n\r\n        --logtostderr \\\r\n        --checkpoint_dir=training_ssd_mobile/model.ckpt-200000 \\\r\n        --eval_dir=eval_log\\\r\n        --pipeline_config_path=ssd_mobilenet_v1_coco_2017_11_17/ssd_mobilenet_v1_focal_loss_coco.config\r\n\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0\r\nINFO:tensorflow:depth of additional conv before box predictor: 0"}