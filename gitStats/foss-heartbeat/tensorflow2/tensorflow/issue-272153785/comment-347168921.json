{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/347168921", "html_url": "https://github.com/tensorflow/tensorflow/issues/14358#issuecomment-347168921", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14358", "id": 347168921, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzE2ODkyMQ==", "user": {"login": "smsrikanthreddy", "id": 16633996, "node_id": "MDQ6VXNlcjE2NjMzOTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/16633996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smsrikanthreddy", "html_url": "https://github.com/smsrikanthreddy", "followers_url": "https://api.github.com/users/smsrikanthreddy/followers", "following_url": "https://api.github.com/users/smsrikanthreddy/following{/other_user}", "gists_url": "https://api.github.com/users/smsrikanthreddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/smsrikanthreddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smsrikanthreddy/subscriptions", "organizations_url": "https://api.github.com/users/smsrikanthreddy/orgs", "repos_url": "https://api.github.com/users/smsrikanthreddy/repos", "events_url": "https://api.github.com/users/smsrikanthreddy/events{/privacy}", "received_events_url": "https://api.github.com/users/smsrikanthreddy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-27T12:33:59Z", "updated_at": "2017-11-27T12:33:59Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8984266\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/InsZVA\">@InsZVA</a> ,<br>\nI tried your suggestions and accordingly,  I have updated the /serving/tensorflow/tensorflow/BUILD file with the below lines,<br>\ntf_cc_shared_object(<br>\nname = \"libtensorflow.so\",<br>\nlinkopts = select({<br>\n\"//tensorflow:darwin\": [<br>\n\"-Wl,-exported_symbols_list\",  # This line must be directly followed by the exported_symbols.lds file<br>\n\"//tensorflow/c:exported_symbols.lds\",<br>\n\"-Wl,-install_name,@rpath/libtensorflow.so\",<br>\n],<br>\n\"//tensorflow:windows\": [],<br>\n\"//tensorflow:windows_msvc\": [],<br>\n\"//conditions:default\": [<br>\n\"-z defs\",<br>\n\"-s\",<br>\n\"-Wl,--version-script\",  #  This line must be directly followed by the version_script.lds file<br>\n\"//tensorflow/c:version_script.lds\",<br>\n],<br>\n}),<br>\ndeps = [<br>\n\"//tensorflow/contrib:contrib_kernels\",<br>\n\"//tensorflow/contrib:contrib_ops_op_lib\",<br>\n\"//tensorflow/c:c_api\",<br>\n\"//tensorflow/c:exported_symbols.lds\",<br>\n\"//tensorflow/c:version_script.lds\",<br>\n\"//tensorflow/c/eager:c_api\",<br>\n\"//tensorflow/core:tensorflow\",<br>\n],<br>\n)</p>\n<p>I don't find the cc_binary in the BUILD file.<br>\nSo updated the BUILD file with above code and even after adding the two lines I got the same error.</p>\n<p>[versions used for serving]<br>\n/serving#  git branch --list -a</p>\n<ul>\n<li>master<br>\nremotes/origin/HEAD -&gt; origin/master<br>\nremotes/origin/gh-pages<br>\nremotes/origin/kirilg-patch-2<br>\nremotes/origin/master<br>\nremotes/origin/r0.5.1<br>\nremotes/origin/r0.6<br>\nremotes/origin/r1.0<br>\nremotes/origin/r1.3</li>\n</ul>", "body_text": "Hi @InsZVA ,\nI tried your suggestions and accordingly,  I have updated the /serving/tensorflow/tensorflow/BUILD file with the below lines,\ntf_cc_shared_object(\nname = \"libtensorflow.so\",\nlinkopts = select({\n\"//tensorflow:darwin\": [\n\"-Wl,-exported_symbols_list\",  # This line must be directly followed by the exported_symbols.lds file\n\"//tensorflow/c:exported_symbols.lds\",\n\"-Wl,-install_name,@rpath/libtensorflow.so\",\n],\n\"//tensorflow:windows\": [],\n\"//tensorflow:windows_msvc\": [],\n\"//conditions:default\": [\n\"-z defs\",\n\"-s\",\n\"-Wl,--version-script\",  #  This line must be directly followed by the version_script.lds file\n\"//tensorflow/c:version_script.lds\",\n],\n}),\ndeps = [\n\"//tensorflow/contrib:contrib_kernels\",\n\"//tensorflow/contrib:contrib_ops_op_lib\",\n\"//tensorflow/c:c_api\",\n\"//tensorflow/c:exported_symbols.lds\",\n\"//tensorflow/c:version_script.lds\",\n\"//tensorflow/c/eager:c_api\",\n\"//tensorflow/core:tensorflow\",\n],\n)\nI don't find the cc_binary in the BUILD file.\nSo updated the BUILD file with above code and even after adding the two lines I got the same error.\n[versions used for serving]\n/serving#  git branch --list -a\n\nmaster\nremotes/origin/HEAD -> origin/master\nremotes/origin/gh-pages\nremotes/origin/kirilg-patch-2\nremotes/origin/master\nremotes/origin/r0.5.1\nremotes/origin/r0.6\nremotes/origin/r1.0\nremotes/origin/r1.3", "body": "Hi @InsZVA ,\r\nI tried your suggestions and accordingly,  I have updated the /serving/tensorflow/tensorflow/BUILD file with the below lines,\r\ntf_cc_shared_object(\r\n    name = \"libtensorflow.so\",\r\n    linkopts = select({\r\n        \"//tensorflow:darwin\": [\r\n            \"-Wl,-exported_symbols_list\",  # This line must be directly followed by the exported_symbols.lds file\r\n            \"//tensorflow/c:exported_symbols.lds\",\r\n            \"-Wl,-install_name,@rpath/libtensorflow.so\",\r\n        ],\r\n        \"//tensorflow:windows\": [],\r\n        \"//tensorflow:windows_msvc\": [],\r\n        \"//conditions:default\": [\r\n            \"-z defs\",\r\n            \"-s\",\r\n            \"-Wl,--version-script\",  #  This line must be directly followed by the version_script.lds file\r\n            \"//tensorflow/c:version_script.lds\",\r\n        ],\r\n    }),\r\n    deps = [\r\n\t\"//tensorflow/contrib:contrib_kernels\",\r\n\t\"//tensorflow/contrib:contrib_ops_op_lib\",\r\n        \"//tensorflow/c:c_api\",\r\n        \"//tensorflow/c:exported_symbols.lds\",\r\n        \"//tensorflow/c:version_script.lds\",\r\n        \"//tensorflow/c/eager:c_api\",\r\n        \"//tensorflow/core:tensorflow\",\r\n    ],\r\n)\r\n\r\nI don't find the cc_binary in the BUILD file.\r\nSo updated the BUILD file with above code and even after adding the two lines I got the same error.\r\n\r\n[versions used for serving]\r\n/serving#  git branch --list -a\r\n* master\r\n  remotes/origin/HEAD -> origin/master\r\n  remotes/origin/gh-pages\r\n  remotes/origin/kirilg-patch-2\r\n  remotes/origin/master\r\n  remotes/origin/r0.5.1\r\n  remotes/origin/r0.6\r\n  remotes/origin/r1.0\r\n  remotes/origin/r1.3\r\n"}