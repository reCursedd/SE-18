{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/334363085", "html_url": "https://github.com/tensorflow/tensorflow/issues/13499#issuecomment-334363085", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13499", "id": 334363085, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDM2MzA4NQ==", "user": {"login": "laoreja", "id": 9369143, "node_id": "MDQ6VXNlcjkzNjkxNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9369143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laoreja", "html_url": "https://github.com/laoreja", "followers_url": "https://api.github.com/users/laoreja/followers", "following_url": "https://api.github.com/users/laoreja/following{/other_user}", "gists_url": "https://api.github.com/users/laoreja/gists{/gist_id}", "starred_url": "https://api.github.com/users/laoreja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laoreja/subscriptions", "organizations_url": "https://api.github.com/users/laoreja/orgs", "repos_url": "https://api.github.com/users/laoreja/repos", "events_url": "https://api.github.com/users/laoreja/events{/privacy}", "received_events_url": "https://api.github.com/users/laoreja/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-05T05:27:11Z", "updated_at": "2017-10-05T05:27:11Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23068\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yaroslavvb\">@yaroslavvb</a> Thanks, but <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"152884592\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2210\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2210/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2210\">#2210</a> wants to make both cuda code and TensorFlow run on the same GPU and battle for the memory.</p>\n<p>Mine problem is in the customized TensorFlow op's CUDA implementation, almost everything works, except that TensorFlow does not allow me or the third library to do cudaMalloc, cudaMemcpy, etc.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/40183189/trouble-compiling-with-custom-tensorflow-gpu-op\" rel=\"nofollow\">https://stackoverflow.com/questions/40183189/trouble-compiling-with-custom-tensorflow-gpu-op</a>. However, it's very hard to let the third party library to use OpKernelContext::allocate_temp(). Since large third party libraries have complicated implementation, for example, CUDPP is implemented as 4 layers.</p>", "body_text": "@yaroslavvb Thanks, but #2210 wants to make both cuda code and TensorFlow run on the same GPU and battle for the memory.\nMine problem is in the customized TensorFlow op's CUDA implementation, almost everything works, except that TensorFlow does not allow me or the third library to do cudaMalloc, cudaMemcpy, etc.\nSee https://stackoverflow.com/questions/40183189/trouble-compiling-with-custom-tensorflow-gpu-op. However, it's very hard to let the third party library to use OpKernelContext::allocate_temp(). Since large third party libraries have complicated implementation, for example, CUDPP is implemented as 4 layers.", "body": "@yaroslavvb Thanks, but #2210 wants to make both cuda code and TensorFlow run on the same GPU and battle for the memory.\r\n\r\nMine problem is in the customized TensorFlow op's CUDA implementation, almost everything works, except that TensorFlow does not allow me or the third library to do cudaMalloc, cudaMemcpy, etc.\r\n\r\nSee https://stackoverflow.com/questions/40183189/trouble-compiling-with-custom-tensorflow-gpu-op. However, it's very hard to let the third party library to use OpKernelContext::allocate_temp(). Since large third party libraries have complicated implementation, for example, CUDPP is implemented as 4 layers."}