{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/381869933", "html_url": "https://github.com/tensorflow/tensorflow/pull/17740#issuecomment-381869933", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17740", "id": 381869933, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTg2OTkzMw==", "user": {"login": "fumihwh", "id": 6838753, "node_id": "MDQ6VXNlcjY4Mzg3NTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6838753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fumihwh", "html_url": "https://github.com/fumihwh", "followers_url": "https://api.github.com/users/fumihwh/followers", "following_url": "https://api.github.com/users/fumihwh/following{/other_user}", "gists_url": "https://api.github.com/users/fumihwh/gists{/gist_id}", "starred_url": "https://api.github.com/users/fumihwh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fumihwh/subscriptions", "organizations_url": "https://api.github.com/users/fumihwh/orgs", "repos_url": "https://api.github.com/users/fumihwh/repos", "events_url": "https://api.github.com/users/fumihwh/events{/privacy}", "received_events_url": "https://api.github.com/users/fumihwh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-17T06:58:02Z", "updated_at": "2018-04-17T07:02:18Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16907534\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rmlarsen\">@rmlarsen</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22060313\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/annarev\">@annarev</a><br>\nAlmost there!<br>\nOne problem remained.<br>\nWe need to loose the test. <code>self.assertAllClose(np_norm, tf_norm_val)</code> default is <code>rtol=1e-6, atol=1e-6</code><br>\nIs 1e-5 ok?</p>\n<p>Failed like:</p>\n<pre><code>======================================================================\nFAIL: test_Norm_complex64_2_3_5_5_ord_2_axis_(-2, -1)_False_True (__main__.NormOpTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 93, in Test\n    _CompareNorm(self, matrix)\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 79, in _CompareNorm\n    self.assertAllClose(np_norm, tf_norm_val)\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1321, in assertAllClose\n    self._assertAllCloseRecursive(a, b, rtol=rtol, atol=atol, msg=msg)\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1293, in _assertAllCloseRecursive\n    path_str))\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1228, in _assertArrayLikeAllClose\n    a, b, rtol=rtol, atol=atol, err_msg=msg, equal_nan=True)\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1392, in assert_allclose\n    verbose=verbose, header=header)\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 739, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=1e-06, atol=1e-06\nMismatched value: a is different from b.\n(mismatch 16.66666666666667%)\n x: array([[ 5.608771,  5.117595,  4.615607],\n       [ 4.832485,  4.631978,  4.996054]], dtype=float32)\n y: array([[ 5.608775,  5.117597,  4.615607],\n       [ 4.832485,  4.631985,  4.996056]], dtype=float32)\n</code></pre>", "body_text": "@rmlarsen @annarev\nAlmost there!\nOne problem remained.\nWe need to loose the test. self.assertAllClose(np_norm, tf_norm_val) default is rtol=1e-6, atol=1e-6\nIs 1e-5 ok?\nFailed like:\n======================================================================\nFAIL: test_Norm_complex64_2_3_5_5_ord_2_axis_(-2, -1)_False_True (__main__.NormOpTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 93, in Test\n    _CompareNorm(self, matrix)\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 79, in _CompareNorm\n    self.assertAllClose(np_norm, tf_norm_val)\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1321, in assertAllClose\n    self._assertAllCloseRecursive(a, b, rtol=rtol, atol=atol, msg=msg)\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1293, in _assertAllCloseRecursive\n    path_str))\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1228, in _assertArrayLikeAllClose\n    a, b, rtol=rtol, atol=atol, err_msg=msg, equal_nan=True)\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1392, in assert_allclose\n    verbose=verbose, header=header)\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 739, in assert_array_compare\n    raise AssertionError(msg)\nAssertionError: \nNot equal to tolerance rtol=1e-06, atol=1e-06\nMismatched value: a is different from b.\n(mismatch 16.66666666666667%)\n x: array([[ 5.608771,  5.117595,  4.615607],\n       [ 4.832485,  4.631978,  4.996054]], dtype=float32)\n y: array([[ 5.608775,  5.117597,  4.615607],\n       [ 4.832485,  4.631985,  4.996056]], dtype=float32)", "body": "@rmlarsen @annarev \r\nAlmost there!\r\nOne problem remained.\r\nWe need to loose the test. `self.assertAllClose(np_norm, tf_norm_val)` default is `rtol=1e-6, atol=1e-6`\r\nIs 1e-5 ok?\r\n\r\nFailed like:\r\n```\r\n======================================================================\r\nFAIL: test_Norm_complex64_2_3_5_5_ord_2_axis_(-2, -1)_False_True (__main__.NormOpTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 93, in Test\r\n    _CompareNorm(self, matrix)\r\n  File \"T:/src/github/tensorflow/tensorflow/python/kernel_tests/norm_op_test.py\", line 79, in _CompareNorm\r\n    self.assertAllClose(np_norm, tf_norm_val)\r\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1321, in assertAllClose\r\n    self._assertAllCloseRecursive(a, b, rtol=rtol, atol=atol, msg=msg)\r\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1293, in _assertAllCloseRecursive\r\n    path_str))\r\n  File \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\framework\\test_util.py\", line 1228, in _assertArrayLikeAllClose\r\n    a, b, rtol=rtol, atol=atol, err_msg=msg, equal_nan=True)\r\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 1392, in assert_allclose\r\n    verbose=verbose, header=header)\r\n  File \"C:\\Python35\\lib\\site-packages\\numpy\\testing\\utils.py\", line 739, in assert_array_compare\r\n    raise AssertionError(msg)\r\nAssertionError: \r\nNot equal to tolerance rtol=1e-06, atol=1e-06\r\nMismatched value: a is different from b.\r\n(mismatch 16.66666666666667%)\r\n x: array([[ 5.608771,  5.117595,  4.615607],\r\n       [ 4.832485,  4.631978,  4.996054]], dtype=float32)\r\n y: array([[ 5.608775,  5.117597,  4.615607],\r\n       [ 4.832485,  4.631985,  4.996056]], dtype=float32)\r\n```"}