{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/381537989", "html_url": "https://github.com/tensorflow/tensorflow/pull/17740#issuecomment-381537989", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17740", "id": 381537989, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTUzNzk4OQ==", "user": {"login": "fumihwh", "id": 6838753, "node_id": "MDQ6VXNlcjY4Mzg3NTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6838753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fumihwh", "html_url": "https://github.com/fumihwh", "followers_url": "https://api.github.com/users/fumihwh/followers", "following_url": "https://api.github.com/users/fumihwh/following{/other_user}", "gists_url": "https://api.github.com/users/fumihwh/gists{/gist_id}", "starred_url": "https://api.github.com/users/fumihwh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fumihwh/subscriptions", "organizations_url": "https://api.github.com/users/fumihwh/orgs", "repos_url": "https://api.github.com/users/fumihwh/repos", "events_url": "https://api.github.com/users/fumihwh/events{/privacy}", "received_events_url": "https://api.github.com/users/fumihwh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-16T09:30:24Z", "updated_at": "2018-04-16T09:31:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22060313\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/annarev\">@annarev</a><br>\nGet</p>\n<pre><code>======================================================================\nERROR: testInitializerIdentical (__main__.ConvolutionOrthogonal2dInitializerTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 681, in testInitializerIdentical\n    self.assertTrue(identicaltest(self, init1, init2, (3, 3, 10, 10)))\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 57, in identicaltest\n    t1 = init1(shape).eval()\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 640, in __call__\n    kernel = self._orthogonal_kernel(shape[0], shape[2], shape[3])\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 767, in _orthogonal_kernel\n    orth = self._orthogonal_matrix(cout)[0:cin, :]\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 659, in _orthogonal_matrix\n    q, r = linalg_ops.qr(a)\nNameError: name 'linalg_ops' is not defined\n</code></pre>\n<p>In init_ops.py, I am using <code>q, r = gen_linalg_ops.qr(a, full_matrices=False)</code>, and without dependency of <code>linalg_ops</code>.<br>\nIt should not look for <code>linalg_ops.qr</code> anymore, shouldn't it?<br>\nMeanwhile, I am not sure about rewriting <code>qr = linalg_ops.qr</code> to <code>qr = gen_linalg_ops.qr</code> in linalg_impl.py.<br>\nCurrently, it's <code>qr = linalg_ops.qr</code>.<br>\nMaybe this is the reason?</p>", "body_text": "@annarev\nGet\n======================================================================\nERROR: testInitializerIdentical (__main__.ConvolutionOrthogonal2dInitializerTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 681, in testInitializerIdentical\n    self.assertTrue(identicaltest(self, init1, init2, (3, 3, 10, 10)))\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 57, in identicaltest\n    t1 = init1(shape).eval()\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 640, in __call__\n    kernel = self._orthogonal_kernel(shape[0], shape[2], shape[3])\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 767, in _orthogonal_kernel\n    orth = self._orthogonal_matrix(cout)[0:cin, :]\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 659, in _orthogonal_matrix\n    q, r = linalg_ops.qr(a)\nNameError: name 'linalg_ops' is not defined\n\nIn init_ops.py, I am using q, r = gen_linalg_ops.qr(a, full_matrices=False), and without dependency of linalg_ops.\nIt should not look for linalg_ops.qr anymore, shouldn't it?\nMeanwhile, I am not sure about rewriting qr = linalg_ops.qr to qr = gen_linalg_ops.qr in linalg_impl.py.\nCurrently, it's qr = linalg_ops.qr.\nMaybe this is the reason?", "body": "@annarev \r\nGet\r\n```\r\n======================================================================\r\nERROR: testInitializerIdentical (__main__.ConvolutionOrthogonal2dInitializerTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 681, in testInitializerIdentical\r\n    self.assertTrue(identicaltest(self, init1, init2, (3, 3, 10, 10)))\r\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/kernel_tests/init_ops_test.py\", line 57, in identicaltest\r\n    t1 = init1(shape).eval()\r\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 640, in __call__\r\n    kernel = self._orthogonal_kernel(shape[0], shape[2], shape[3])\r\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 767, in _orthogonal_kernel\r\n    orth = self._orthogonal_matrix(cout)[0:cin, :]\r\n  File \"/b/s/w/ir/run/bazel-out/k8-py3-opt/bin/tensorflow/python/kernel_tests/init_ops_test.runfiles/org_tensorflow/tensorflow/python/ops/init_ops.py\", line 659, in _orthogonal_matrix\r\n    q, r = linalg_ops.qr(a)\r\nNameError: name 'linalg_ops' is not defined\r\n```\r\n\r\nIn init_ops.py, I am using `q, r = gen_linalg_ops.qr(a, full_matrices=False)`, and without dependency of `linalg_ops`.\r\nIt should not look for `linalg_ops.qr` anymore, shouldn't it?\r\nMeanwhile, I am not sure about rewriting `qr = linalg_ops.qr` to `qr = gen_linalg_ops.qr` in linalg_impl.py.\r\nCurrently, it's `qr = linalg_ops.qr`.\r\nMaybe this is the reason?"}