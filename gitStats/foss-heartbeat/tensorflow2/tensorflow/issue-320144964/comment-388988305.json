{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/388988305", "html_url": "https://github.com/tensorflow/tensorflow/issues/19073#issuecomment-388988305", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19073", "id": 388988305, "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODk4ODMwNQ==", "user": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-14T22:54:42Z", "updated_at": "2018-05-14T22:54:42Z", "author_association": "MEMBER", "body_html": "<p>I am still not convinced the high CPU utilization is due to cuEventQuery. The CPU should be high utilized due to the input pipeline that is used when <code>--data_dir</code> is set. As you said, training is meaningless without <code>--data_dir</code>, but for real training, the CPU needs to do a lot of work for the input pipeline and so will have high utilization. Do you have any evidence that the CPU has high utilization because of cuEventQuery?</p>\n<p>I'm not sure what you mean by you last comment: \"The number of cuEventQuery depends on the GPU performance, if GPU is normal, the GPU function execution will be slow, which will highly increase the the amount of cuEventQuery.\" Can you clarify?</p>\n<p>Also, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1002405\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yzhwang\">@yzhwang</a>, do you have any thoughts/comments?</p>", "body_text": "I am still not convinced the high CPU utilization is due to cuEventQuery. The CPU should be high utilized due to the input pipeline that is used when --data_dir is set. As you said, training is meaningless without --data_dir, but for real training, the CPU needs to do a lot of work for the input pipeline and so will have high utilization. Do you have any evidence that the CPU has high utilization because of cuEventQuery?\nI'm not sure what you mean by you last comment: \"The number of cuEventQuery depends on the GPU performance, if GPU is normal, the GPU function execution will be slow, which will highly increase the the amount of cuEventQuery.\" Can you clarify?\nAlso, @yzhwang, do you have any thoughts/comments?", "body": "I am still not convinced the high CPU utilization is due to cuEventQuery. The CPU should be high utilized due to the input pipeline that is used when `--data_dir` is set. As you said, training is meaningless without `--data_dir`, but for real training, the CPU needs to do a lot of work for the input pipeline and so will have high utilization. Do you have any evidence that the CPU has high utilization because of cuEventQuery?\r\n\r\nI'm not sure what you mean by you last comment: \"The number of cuEventQuery depends on the GPU performance, if GPU is normal, the GPU function execution will be slow, which will highly increase the the amount of cuEventQuery.\" Can you clarify?\r\n\r\nAlso, @yzhwang, do you have any thoughts/comments?"}