{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/107333364", "pull_request_review_id": 28296921, "id": 107333364, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNzMzMzM2NA==", "diff_hunk": "@@ -80,11 +83,57 @@ def __call__(self):\n \n     self._trav = (integer_indexes[-1] + 1) % self._max\n     return {\n-        self._placeholders[0]: integer_indexes,\n-        self._placeholders[1]: self._array[integer_indexes]\n+      self._placeholders[0]: integer_indexes,\n+      self._placeholders[1]: self._array[integer_indexes]\n     }\n \n \n+class _GeneratorFeedFn(object):\n+  \"\"\"Creates feed dictionaries from `Generator` of `dicts` of numpy arrays.\"\"\"\n+\n+  def __init__(self,\n+               placeholders,\n+               generator,\n+               batch_size,\n+               random_start=False,\n+               seed=None,\n+               num_epochs=None):\n+    first_sample = next(generator())\n+    if len(placeholders) != len(first_sample) + 1:\n+      raise ValueError(\"Expected {} placeholders; got {}.\".format(\n+        len(first_sample), len(placeholders)))\n+    self._index_placeholder = placeholders[0]\n+    self._col_placeholders = placeholders[1:]\n+    self._generator_function = generator\n+    self._iterator = generator()\n+    self._batch_size = batch_size\n+    self._num_epochs = num_epochs\n+    self._epoch = 0\n+    self._index = 0\n+    random.seed(seed)\n+\n+  def __call__(self):\n+    if self._num_epochs and self._epoch >= self._num_epochs:\n+      raise errors.OutOfRangeError(None, None,\n+                                   \"Already emitted %s epochs.\" % self._epoch)\n+\n+    list_dict = collections.OrderedDict({self._index_placeholder: np.arange(self._index, self._index + self._batch_size)})", "path": "tensorflow/contrib/learn/python/learn/dataframe/queues/feeding_functions.py", "position": null, "original_position": 71, "commit_id": "075d7c4bb35bd4b44705cb0d473fed8300742405", "original_commit_id": "ec4f53dd73b6e864f7f990f716e7468ffdb4bf09", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "body": "Can you make sure lines are broken at 80 characters?", "created_at": "2017-03-22T05:03:05Z", "updated_at": "2017-03-30T06:43:17Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7045#discussion_r107333364", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7045", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/107333364"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7045#discussion_r107333364"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7045"}}, "body_html": "<p>Can you make sure lines are broken at 80 characters?</p>", "body_text": "Can you make sure lines are broken at 80 characters?"}