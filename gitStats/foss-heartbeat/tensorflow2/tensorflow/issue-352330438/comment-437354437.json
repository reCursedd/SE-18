{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/437354437", "html_url": "https://github.com/tensorflow/tensorflow/issues/21745#issuecomment-437354437", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21745", "id": 437354437, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzM1NDQzNw==", "user": {"login": "zhjunqin", "id": 7519482, "node_id": "MDQ6VXNlcjc1MTk0ODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7519482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhjunqin", "html_url": "https://github.com/zhjunqin", "followers_url": "https://api.github.com/users/zhjunqin/followers", "following_url": "https://api.github.com/users/zhjunqin/following{/other_user}", "gists_url": "https://api.github.com/users/zhjunqin/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhjunqin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhjunqin/subscriptions", "organizations_url": "https://api.github.com/users/zhjunqin/orgs", "repos_url": "https://api.github.com/users/zhjunqin/repos", "events_url": "https://api.github.com/users/zhjunqin/events{/privacy}", "received_events_url": "https://api.github.com/users/zhjunqin/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-09T13:08:17Z", "updated_at": "2018-11-09T13:08:17Z", "author_association": "NONE", "body_html": "<p>same issue for me</p>\n<p>distributed training on tf 1.10 , same code works on tf 1.7</p>\n<p>master is hang on following traceback, but worker already closed</p>\n<pre><code>Stack for thread 140497678165760\n  File \"mnist.py\", line 235, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"mnist.py\", line 232, in main\n    sess.run(train_op)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 695, in __exit__\n    self._close_internal(exception_type)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 732, in _close_internal\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1127, in close\n    _WrappedSession.close(self)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 676, in close\n    tf_session.TF_CloseSession(self._session)\n\n</code></pre>", "body_text": "same issue for me\ndistributed training on tf 1.10 , same code works on tf 1.7\nmaster is hang on following traceback, but worker already closed\nStack for thread 140497678165760\n  File \"mnist.py\", line 235, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"mnist.py\", line 232, in main\n    sess.run(train_op)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 695, in __exit__\n    self._close_internal(exception_type)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 732, in _close_internal\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1127, in close\n    _WrappedSession.close(self)\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\n    self._sess.close()\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 676, in close\n    tf_session.TF_CloseSession(self._session)", "body": "same issue for me\r\n\r\ndistributed training on tf 1.10 , same code works on tf 1.7\r\n\r\nmaster is hang on following traceback, but worker already closed\r\n\r\n```\r\nStack for thread 140497678165760\r\n  File \"mnist.py\", line 235, in <module>\r\n    tf.app.run()\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"mnist.py\", line 232, in main\r\n    sess.run(train_op)\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 695, in __exit__\r\n    self._close_internal(exception_type)\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 732, in _close_internal\r\n    self._sess.close()\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\r\n    self._sess.close()\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 1127, in close\r\n    _WrappedSession.close(self)\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\r\n    self._sess.close()\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/training/monitored_session.py\", line 980, in close\r\n    self._sess.close()\r\n  File \"/usr/local/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 676, in close\r\n    tf_session.TF_CloseSession(self._session)\r\n\r\n```"}