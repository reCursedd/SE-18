{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7663", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7663/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7663/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7663/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7663", "id": 208702834, "node_id": "MDU6SXNzdWUyMDg3MDI4MzQ=", "number": 7663, "title": "Issue with Ubuntu 16.04 GPU install: Bus error (core dumped)", "user": {"login": "jiexunsee", "id": 21333190, "node_id": "MDQ6VXNlcjIxMzMzMTkw", "avatar_url": "https://avatars2.githubusercontent.com/u/21333190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiexunsee", "html_url": "https://github.com/jiexunsee", "followers_url": "https://api.github.com/users/jiexunsee/followers", "following_url": "https://api.github.com/users/jiexunsee/following{/other_user}", "gists_url": "https://api.github.com/users/jiexunsee/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiexunsee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiexunsee/subscriptions", "organizations_url": "https://api.github.com/users/jiexunsee/orgs", "repos_url": "https://api.github.com/users/jiexunsee/repos", "events_url": "https://api.github.com/users/jiexunsee/events{/privacy}", "received_events_url": "https://api.github.com/users/jiexunsee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-02-19T08:19:44Z", "updated_at": "2017-03-12T11:48:17Z", "closed_at": "2017-03-09T18:31:36Z", "author_association": "NONE", "body_html": "<p>Operating System: Ubuntu 16.04</p>\n<p>Installed version of CUDA and cuDNN: CUDA 8.0, cuDNN 5.1</p>\n<p>jiexun@jiexun-XPS-15-9560:~$ ls -l /usr/local/cuda-8.0/lib64/libcud*<br>\n-rw-r--r-- 1 root root   556000 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root       19 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.61<br>\n-rwxr-xr-x 1 root root   415432 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.61<br>\n-rw-r--r-- 1 root root   775162 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart_static.a<br>\nlrwxrwxrwx 1 root root       13 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so -&gt; libcudnn.so.5<br>\nlrwxrwxrwx 1 root root       18 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.10<br>\n-rwxr-xr-x 1 root root 42762752 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.10</p>\n<p>Installed GPU enabled TensorFlow with:<br>\npip install tensorflow-gpu</p>\n<p>Error message importing tensorflow:<br>\nPython 3.6.0 |Anaconda custom (64-bit)| (default, Dec 23 2016, 12:22:00)<br>\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux<br>\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>import tensorflow<br>\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally<br>\nBus error (core dumped)</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h4>Any idea why the above 'Bus error' is happening? Thanks a lot!</h4>\n<hr>\n<p>I also tried installing from source, but got this error when creating the pip package:<br>\n, after running <code>bazel build --config opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code>:<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option '-Wno-self-assign'<br>\nERROR: /home/jiexun/tensorflow/tensorflow/python/BUILD:2279:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 27 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nbazel-out/local_linux-py3-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudnn.so.5: file not recognized: File truncated<br>\ncollect2: error: ld returned 1 exit status<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 1332.429s, Critical Path: 853.44s</p>", "body_text": "Operating System: Ubuntu 16.04\nInstalled version of CUDA and cuDNN: CUDA 8.0, cuDNN 5.1\njiexun@jiexun-XPS-15-9560:~$ ls -l /usr/local/cuda-8.0/lib64/libcud*\n-rw-r--r-- 1 root root   556000 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\n-rwxr-xr-x 1 root root   415432 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\n-rw-r--r-- 1 root root   775162 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       18 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\n-rwxr-xr-x 1 root root 42762752 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.10\nInstalled GPU enabled TensorFlow with:\npip install tensorflow-gpu\nError message importing tensorflow:\nPython 3.6.0 |Anaconda custom (64-bit)| (default, Dec 23 2016, 12:22:00)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nimport tensorflow\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\nBus error (core dumped)\n\n\n\nAny idea why the above 'Bus error' is happening? Thanks a lot!\n\nI also tried installing from source, but got this error when creating the pip package:\n, after running bazel build --config opt --config=cuda //tensorflow/tools/pip_package:build_pip_package:\nAt global scope:\ncc1plus: warning: unrecognized command line option '-Wno-self-assign'\nERROR: /home/jiexun/tensorflow/tensorflow/python/BUILD:2279:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 27 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local_linux-py3-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudnn.so.5: file not recognized: File truncated\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1332.429s, Critical Path: 853.44s", "body": "Operating System: Ubuntu 16.04\r\n\r\nInstalled version of CUDA and cuDNN: CUDA 8.0, cuDNN 5.1\r\n\r\njiexun@jiexun-XPS-15-9560:~$ ls -l /usr/local/cuda-8.0/lib64/libcud*\r\n-rw-r--r-- 1 root root   556000 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\r\n-rwxr-xr-x 1 root root   415432 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\r\n-rw-r--r-- 1 root root   775162 Feb 19 15:48 /usr/local/cuda-8.0/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 root root       13 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 root root       18 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\r\n-rwxr-xr-x 1 root root 42762752 Feb 19 16:10 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.10\r\n\r\nInstalled GPU enabled TensorFlow with:\r\npip install tensorflow-gpu\r\n\r\nError message importing tensorflow:\r\nPython 3.6.0 |Anaconda custom (64-bit)| (default, Dec 23 2016, 12:22:00) \r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow\r\nI tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\nBus error (core dumped)\r\n\r\n#### Any idea why the above 'Bus error' is happening? Thanks a lot!\r\n\r\n\r\n----\r\nI also tried installing from source, but got this error when creating the pip package:\r\n, after running `bazel build --config opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`:\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option '-Wno-self-assign'\r\nERROR: /home/jiexun/tensorflow/tensorflow/python/BUILD:2279:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 27 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nbazel-out/local_linux-py3-opt/bin/_solib_local/_U@local_Uconfig_Ucuda_S_Scuda_Ccudnn___Uexternal_Slocal_Uconfig_Ucuda_Scuda_Slib/libcudnn.so.5: file not recognized: File truncated\r\ncollect2: error: ld returned 1 exit status\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1332.429s, Critical Path: 853.44s\r\n"}