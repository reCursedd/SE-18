{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22971", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22971/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22971/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22971/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22971", "id": 369924901, "node_id": "MDU6SXNzdWUzNjk5MjQ5MDE=", "number": 22971, "title": "Compile on debian with cuda 9.1, older CPU, cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command", "user": {"login": "dedeibel", "id": 26708, "node_id": "MDQ6VXNlcjI2NzA4", "avatar_url": "https://avatars0.githubusercontent.com/u/26708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dedeibel", "html_url": "https://github.com/dedeibel", "followers_url": "https://api.github.com/users/dedeibel/followers", "following_url": "https://api.github.com/users/dedeibel/following{/other_user}", "gists_url": "https://api.github.com/users/dedeibel/gists{/gist_id}", "starred_url": "https://api.github.com/users/dedeibel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dedeibel/subscriptions", "organizations_url": "https://api.github.com/users/dedeibel/orgs", "repos_url": "https://api.github.com/users/dedeibel/repos", "events_url": "https://api.github.com/users/dedeibel/events{/privacy}", "received_events_url": "https://api.github.com/users/dedeibel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "harshini-gadige", "id": 42781361, "node_id": "MDQ6VXNlcjQyNzgxMzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/42781361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshini-gadige", "html_url": "https://github.com/harshini-gadige", "followers_url": "https://api.github.com/users/harshini-gadige/followers", "following_url": "https://api.github.com/users/harshini-gadige/following{/other_user}", "gists_url": "https://api.github.com/users/harshini-gadige/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshini-gadige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshini-gadige/subscriptions", "organizations_url": "https://api.github.com/users/harshini-gadige/orgs", "repos_url": "https://api.github.com/users/harshini-gadige/repos", "events_url": "https://api.github.com/users/harshini-gadige/events{/privacy}", "received_events_url": "https://api.github.com/users/harshini-gadige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-10-14T17:36:13Z", "updated_at": "2018-10-20T16:19:34Z", "closed_at": "2018-10-20T16:19:34Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: no</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux jet 4.18.0-2-amd64 <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Debian 4.18.10-1 (2018-09-30) x86_64 GNU/Linux</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>:</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>: v1.11.0</li>\n<li><strong>Python version</strong>: Python 3.6.7rc1</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.17.2 (compiled)</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: gcc-4.8</li>\n<li><strong>CUDA/cuDNN version</strong>: 7.3.1</li>\n<li><strong>GPU model and memory</strong>: GeForce GTX 1060 6GB \u2013 cuda 6.1</li>\n<li><strong>Exact command to reproduce</strong>: time bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures</li>\n<li><strong>CPU and RAM</strong>: AMD Phenom(tm) II X6 1090T Processor, 16Gb</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I have to compile tensorflow myself, because of the AVX CPU extension problem (found the details about that in an <a href=\"https://tech.amikelive.com/node-887/how-to-resolve-error-illegal-instruction-core-dumped-when-running-import-tensorflow-in-a-python-program/\" rel=\"nofollow\">amikelive article</a>)</p>\n<p>It worked compiling and then running tensorflow <strong>without</strong> cuda Support but <strong>compiling with cuda</strong> fails with the following <strong>segmentation fault</strong>.</p>\n<pre><code>\u2026\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command\n\u2026\n</code></pre>\n<p>See below for full output.</p>\n<p>Commands I ran after the successful compile without cuda.</p>\n<pre><code>bazel clean\n./configure (see below)\ntime bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n</code></pre>\n<h3>Source code / logs</h3>\n<pre><code>build --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"\nbuild --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.6/dist-packages\"\nbuild --python_path=\"/usr/bin/python3\"\nbuild --define with_jemalloc=true\nbuild:gcp --define with_gcp_support=true\nbuild:hdfs --define with_hdfs_support=true\nbuild:aws --define with_aws_support=true\nbuild:kafka --define with_kafka_support=true\nbuild:xla --define with_xla_support=true\nbuild:gdr --define with_gdr_support=true\nbuild:verbs --define with_verbs_support=true\nbuild:ngraph --define with_ngraph_support=true\nbuild --action_env TF_NEED_OPENCL_SYCL=\"0\"\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"9.1\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDNN_VERSION=\"7\"\nbuild --action_env NCCL_INSTALL_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_NCCL_VERSION=\"2\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-4.8\"\nbuild --config=cuda\ntest --config=cuda\nbuild --define grpc_no_ares=true\nbuild:opt --copt=-march=native\nbuild:opt --host_copt=-march=native\nbuild:opt --define with_default_optimizations=true\n</code></pre>\n<p><em>(Btw. why is build:kafka --define with_kafka_support=true when I said \"n\"?)</em></p>\n<p>Compile output:</p>\n<pre><code>time bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures        \nStarting local Bazel server and connecting to it...\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:42:5: \nCurrent Bazel is not a release version, cannot check for compatibility.\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:43:5: Make sure that you are running at least Bazel 0.15.0.\nDEBUG: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/bazel_tools/tools/cpp/lib_cc_configure.bzl:115:5: \nAuto-Configuration Warning: 'TMP' environment variable is not set, using 'C:\\Windows\\Temp' as default\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_common.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_decode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_encode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2463:1: in includes attribute of cc_library rule //tensorflow/core:framework_internal_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2548:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2562:1: in includes attribute of cc_library rule //tensorflow/core:stream_executor_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/bayesflow/BUILD:17:1: in py_library rule //tensorflow/contrib/bayesflow:bayesflow_py: target '//tensorflow/contrib/bayesflow:bayesflow_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:73:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/BUILD:354:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries:ar_model: target '//tensorflow/contrib/timeseries/python/timeseries:ar_model' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:230:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/seq2seq/BUILD:23:1: in py_library rule //tensorflow/contrib/seq2seq:seq2seq_py: target '//tensorflow/contrib/seq2seq:seq2seq_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/BUILD:13:1: in py_library rule //tensorflow/contrib:contrib_py: target '//tensorflow/contrib:contrib_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (310 packages loaded).\nINFO: Found 1 target...\nSlow read: a 2353-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/distributed_runtime/rpc/grpc_util.cc took 5849 ms.\nSlow read: a 1998-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/kernels/scatter_op_gpu.cu.cc took 5849 ms.\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command \n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh): bash failed: error executing command \n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow &amp;&amp; \\\n  exec env - \\\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh)\nSlow read: a 54035688-byte read from /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow/bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/lib/libcublas.so.9.1 took 5918 ms.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 2592.039s, Critical Path: 23.55s\nINFO: 58 processes: 58 local.\nFAILED: Build did NOT complete successfully\nbazel build --config=opt --config=cuda  --verbose_failures  0.28s user 0.17s system 0% cpu 43:15.42 total\n</code></pre>\n<p>Since I don't know what to do differently I suspect a bug and would love to get some advice. If it is my mistake, I am sorry to bother you.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): no\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux jet 4.18.0-2-amd64 #1 SMP Debian 4.18.10-1 (2018-09-30) x86_64 GNU/Linux\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): v1.11.0\nPython version: Python 3.6.7rc1\nBazel version (if compiling from source): 0.17.2 (compiled)\nGCC/Compiler version (if compiling from source): gcc-4.8\nCUDA/cuDNN version: 7.3.1\nGPU model and memory: GeForce GTX 1060 6GB \u2013 cuda 6.1\nExact command to reproduce: time bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\nCPU and RAM: AMD Phenom(tm) II X6 1090T Processor, 16Gb\n\nDescribe the problem\nI have to compile tensorflow myself, because of the AVX CPU extension problem (found the details about that in an amikelive article)\nIt worked compiling and then running tensorflow without cuda Support but compiling with cuda fails with the following segmentation fault.\n\u2026\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command\n\u2026\n\nSee below for full output.\nCommands I ran after the successful compile without cuda.\nbazel clean\n./configure (see below)\ntime bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n\nSource code / logs\nbuild --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"\nbuild --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.6/dist-packages\"\nbuild --python_path=\"/usr/bin/python3\"\nbuild --define with_jemalloc=true\nbuild:gcp --define with_gcp_support=true\nbuild:hdfs --define with_hdfs_support=true\nbuild:aws --define with_aws_support=true\nbuild:kafka --define with_kafka_support=true\nbuild:xla --define with_xla_support=true\nbuild:gdr --define with_gdr_support=true\nbuild:verbs --define with_verbs_support=true\nbuild:ngraph --define with_ngraph_support=true\nbuild --action_env TF_NEED_OPENCL_SYCL=\"0\"\nbuild --action_env TF_NEED_CUDA=\"1\"\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDA_VERSION=\"9.1\"\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_CUDNN_VERSION=\"7\"\nbuild --action_env NCCL_INSTALL_PATH=\"/usr/local/cuda\"\nbuild --action_env TF_NCCL_VERSION=\"2\"\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\nbuild --action_env TF_CUDA_CLANG=\"0\"\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-4.8\"\nbuild --config=cuda\ntest --config=cuda\nbuild --define grpc_no_ares=true\nbuild:opt --copt=-march=native\nbuild:opt --host_copt=-march=native\nbuild:opt --define with_default_optimizations=true\n\n(Btw. why is build:kafka --define with_kafka_support=true when I said \"n\"?)\nCompile output:\ntime bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures        \nStarting local Bazel server and connecting to it...\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:42:5: \nCurrent Bazel is not a release version, cannot check for compatibility.\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:43:5: Make sure that you are running at least Bazel 0.15.0.\nDEBUG: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/bazel_tools/tools/cpp/lib_cc_configure.bzl:115:5: \nAuto-Configuration Warning: 'TMP' environment variable is not set, using 'C:\\Windows\\Temp' as default\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_common.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_decode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_encode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2463:1: in includes attribute of cc_library rule //tensorflow/core:framework_internal_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2548:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2562:1: in includes attribute of cc_library rule //tensorflow/core:stream_executor_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/bayesflow/BUILD:17:1: in py_library rule //tensorflow/contrib/bayesflow:bayesflow_py: target '//tensorflow/contrib/bayesflow:bayesflow_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:73:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/BUILD:354:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries:ar_model: target '//tensorflow/contrib/timeseries/python/timeseries:ar_model' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:230:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/seq2seq/BUILD:23:1: in py_library rule //tensorflow/contrib/seq2seq:seq2seq_py: target '//tensorflow/contrib/seq2seq:seq2seq_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/BUILD:13:1: in py_library rule //tensorflow/contrib:contrib_py: target '//tensorflow/contrib:contrib_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (310 packages loaded).\nINFO: Found 1 target...\nSlow read: a 2353-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/distributed_runtime/rpc/grpc_util.cc took 5849 ms.\nSlow read: a 1998-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/kernels/scatter_op_gpu.cu.cc took 5849 ms.\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command \n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow && \\\n  exec env - \\\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh): bash failed: error executing command \n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow && \\\n  exec env - \\\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh)\nSlow read: a 54035688-byte read from /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow/bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/lib/libcublas.so.9.1 took 5918 ms.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 2592.039s, Critical Path: 23.55s\nINFO: 58 processes: 58 local.\nFAILED: Build did NOT complete successfully\nbazel build --config=opt --config=cuda  --verbose_failures  0.28s user 0.17s system 0% cpu 43:15.42 total\n\nSince I don't know what to do differently I suspect a bug and would love to get some advice. If it is my mistake, I am sorry to bother you.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux jet 4.18.0-2-amd64 #1 SMP Debian 4.18.10-1 (2018-09-30) x86_64 GNU/Linux\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: v1.11.0\r\n- **Python version**: Python 3.6.7rc1\r\n- **Bazel version (if compiling from source)**: 0.17.2 (compiled)\r\n- **GCC/Compiler version (if compiling from source)**: gcc-4.8\r\n- **CUDA/cuDNN version**: 7.3.1\r\n- **GPU model and memory**: GeForce GTX 1060 6GB \u2013 cuda 6.1\r\n- **Exact command to reproduce**: time bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\r\n- **CPU and RAM**: AMD Phenom(tm) II X6 1090T Processor, 16Gb\r\n\r\n### Describe the problem\r\n\r\nI have to compile tensorflow myself, because of the AVX CPU extension problem (found the details about that in an [amikelive article](https://tech.amikelive.com/node-887/how-to-resolve-error-illegal-instruction-core-dumped-when-running-import-tensorflow-in-a-python-program/))\r\n\r\nIt worked compiling and then running tensorflow **without** cuda Support but **compiling with cuda** fails with the following **segmentation fault**.\r\n\r\n```\r\n\u2026\r\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command\r\n\u2026\r\n```\r\n\r\nSee below for full output.\r\n\r\nCommands I ran after the successful compile without cuda.\r\n\r\n```\r\nbazel clean\r\n./configure (see below)\r\ntime bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\r\n```\r\n\r\n### Source code / logs\r\n\r\n```\r\nbuild --action_env PYTHON_BIN_PATH=\"/usr/bin/python3\"\r\nbuild --action_env PYTHON_LIB_PATH=\"/usr/local/lib/python3.6/dist-packages\"\r\nbuild --python_path=\"/usr/bin/python3\"\r\nbuild --define with_jemalloc=true\r\nbuild:gcp --define with_gcp_support=true\r\nbuild:hdfs --define with_hdfs_support=true\r\nbuild:aws --define with_aws_support=true\r\nbuild:kafka --define with_kafka_support=true\r\nbuild:xla --define with_xla_support=true\r\nbuild:gdr --define with_gdr_support=true\r\nbuild:verbs --define with_verbs_support=true\r\nbuild:ngraph --define with_ngraph_support=true\r\nbuild --action_env TF_NEED_OPENCL_SYCL=\"0\"\r\nbuild --action_env TF_NEED_CUDA=\"1\"\r\nbuild --action_env CUDA_TOOLKIT_PATH=\"/usr/local/cuda\"\r\nbuild --action_env TF_CUDA_VERSION=\"9.1\"\r\nbuild --action_env CUDNN_INSTALL_PATH=\"/usr/local/cuda\"\r\nbuild --action_env TF_CUDNN_VERSION=\"7\"\r\nbuild --action_env NCCL_INSTALL_PATH=\"/usr/local/cuda\"\r\nbuild --action_env TF_NCCL_VERSION=\"2\"\r\nbuild --action_env TF_CUDA_COMPUTE_CAPABILITIES=\"6.1\"\r\nbuild --action_env TF_CUDA_CLANG=\"0\"\r\nbuild --action_env GCC_HOST_COMPILER_PATH=\"/usr/bin/gcc-4.8\"\r\nbuild --config=cuda\r\ntest --config=cuda\r\nbuild --define grpc_no_ares=true\r\nbuild:opt --copt=-march=native\r\nbuild:opt --host_copt=-march=native\r\nbuild:opt --define with_default_optimizations=true\r\n```\r\n\r\n_(Btw. why is build:kafka --define with_kafka_support=true when I said \"n\"?)_\r\n\r\nCompile output:\r\n\r\n```\r\ntime bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures        \r\nStarting local Bazel server and connecting to it...\r\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:42:5: \r\nCurrent Bazel is not a release version, cannot check for compatibility.\r\nDEBUG: /home/dedeibel/src/tensorflow-gpu/tensorflow/version_check.bzl:43:5: Make sure that you are running at least Bazel 0.15.0.\r\nDEBUG: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/bazel_tools/tools/cpp/lib_cc_configure.bzl:115:5: \r\nAuto-Configuration Warning: 'TMP' environment variable is not set, using 'C:\\Windows\\Temp' as default\r\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_common.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\r\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_decode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\r\nWARNING: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/BUILD:1992:1: in srcs attribute of cc_library rule @grpc//:grpc_nanopb: please do not import '@grpc//third_party/nanopb:pb_encode.c' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'grpc_generate_one_off_targets', the error might have been caused by the macro implementation in /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/grpc/bazel/grpc_build_system.bzl:172:12\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2463:1: in includes attribute of cc_library rule //tensorflow/core:framework_internal_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2548:1: in includes attribute of cc_library rule //tensorflow/core:framework_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/core/BUILD:2562:1: in includes attribute of cc_library rule //tensorflow/core:stream_executor_headers_lib: '../../external/com_google_absl' resolves to 'external/com_google_absl' not below the relative path of its package 'tensorflow/core'. This will be an error in the future. Since this rule was created by the macro 'cc_header_only_library', the error might have been caused by the macro implementation in /home/dedeibel/src/tensorflow-gpu/tensorflow/tensorflow.bzl:1373:20\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/bayesflow/BUILD:17:1: in py_library rule //tensorflow/contrib/bayesflow:bayesflow_py: target '//tensorflow/contrib/bayesflow:bayesflow_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:73:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:kalman_filter' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/BUILD:354:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries:ar_model: target '//tensorflow/contrib/timeseries/python/timeseries:ar_model' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/timeseries/python/timeseries/state_space_models/BUILD:230:1: in py_library rule //tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor: target '//tensorflow/contrib/timeseries/python/timeseries/state_space_models:filtering_postprocessor' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/seq2seq/BUILD:23:1: in py_library rule //tensorflow/contrib/seq2seq:seq2seq_py: target '//tensorflow/contrib/seq2seq:seq2seq_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /home/dedeibel/src/tensorflow-gpu/tensorflow/contrib/BUILD:13:1: in py_library rule //tensorflow/contrib:contrib_py: target '//tensorflow/contrib:contrib_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nINFO: Analysed target //tensorflow/tools/pip_package:build_pip_package (310 packages loaded).\r\nINFO: Found 1 target...\r\nSlow read: a 2353-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/distributed_runtime/rpc/grpc_util.cc took 5849 ms.\r\nSlow read: a 1998-byte read from /home/dedeibel/src/tensorflow-gpu/tensorflow/core/kernels/scatter_op_gpu.cu.cc took 5849 ms.\r\nERROR: /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/external/local_config_cuda/cuda/BUILD:638:1: Executing genrule @local_config_cuda//cuda:cuda-extras failed (Segmentation fault): bash failed: error executing command \r\n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\r\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh): bash failed: error executing command \r\n  (cd /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin:/opt/groovy/bin:/opt/grails/bin:/opt/gradle/bin:/home/dedeibel/bin:/home/dedeibel/ruby_bin:/home/dedeibel/perl_bin:/my/games/bin:/opt/bin:/home/dedeibel/opt/android/platform-tools:/home/dedeibel/go/bin \\\r\n  /bin/bash bazel-out/host/genfiles/external/local_config_cuda/cuda/cuda-extras.genrule_script.sh)\r\nSlow read: a 54035688-byte read from /home/dedeibel/.cache/bazel/_bazel_dedeibel/216944cd492986130e450b1bf5cd7b5e/execroot/org_tensorflow/bazel-out/k8-opt/genfiles/external/local_config_cuda/cuda/cuda/lib/libcublas.so.9.1 took 5918 ms.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 2592.039s, Critical Path: 23.55s\r\nINFO: 58 processes: 58 local.\r\nFAILED: Build did NOT complete successfully\r\nbazel build --config=opt --config=cuda  --verbose_failures  0.28s user 0.17s system 0% cpu 43:15.42 total\r\n```\r\n\r\nSince I don't know what to do differently I suspect a bug and would love to get some advice. If it is my mistake, I am sorry to bother you."}