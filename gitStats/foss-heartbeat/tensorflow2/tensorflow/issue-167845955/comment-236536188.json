{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/236536188", "html_url": "https://github.com/tensorflow/tensorflow/issues/3528#issuecomment-236536188", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3528", "id": 236536188, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjUzNjE4OA==", "user": {"login": "avostryakov", "id": 174194, "node_id": "MDQ6VXNlcjE3NDE5NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/174194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avostryakov", "html_url": "https://github.com/avostryakov", "followers_url": "https://api.github.com/users/avostryakov/followers", "following_url": "https://api.github.com/users/avostryakov/following{/other_user}", "gists_url": "https://api.github.com/users/avostryakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/avostryakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avostryakov/subscriptions", "organizations_url": "https://api.github.com/users/avostryakov/orgs", "repos_url": "https://api.github.com/users/avostryakov/repos", "events_url": "https://api.github.com/users/avostryakov/events{/privacy}", "received_events_url": "https://api.github.com/users/avostryakov/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-01T09:44:11Z", "updated_at": "2016-08-01T14:42:53Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1794715\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebrevdo\">@ebrevdo</a>  Can I suggest another fix? If sequence_length = None, array_ops.reverse_sequence will not work. I think the patch is trivial:<br>\nif sequence_length is not None:<br>\ninputs_reverse = array_ops.reverse_sequence(<br>\ninput=inputs, seq_lengths=sequence_length,<br>\nseq_dim=time_dim, batch_dim=batch_dim)<br>\nelse:<br>\ndims = [False]*tf.rank(inputs)<br>\ndims[time_dim] = True<br>\ninputs_reverse = array_ops.reverse(inputs, dims=dims)</p>", "body_text": "@ebrevdo  Can I suggest another fix? If sequence_length = None, array_ops.reverse_sequence will not work. I think the patch is trivial:\nif sequence_length is not None:\ninputs_reverse = array_ops.reverse_sequence(\ninput=inputs, seq_lengths=sequence_length,\nseq_dim=time_dim, batch_dim=batch_dim)\nelse:\ndims = [False]*tf.rank(inputs)\ndims[time_dim] = True\ninputs_reverse = array_ops.reverse(inputs, dims=dims)", "body": "@ebrevdo  Can I suggest another fix? If sequence_length = None, array_ops.reverse_sequence will not work. I think the patch is trivial: \nif sequence_length is not None:\n  inputs_reverse = array_ops.reverse_sequence(\n        input=inputs, seq_lengths=sequence_length,\n        seq_dim=time_dim, batch_dim=batch_dim)\nelse:\n  dims = [False]*tf.rank(inputs)\n  dims[time_dim] = True\n  inputs_reverse = array_ops.reverse(inputs, dims=dims)\n"}