{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6455", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6455/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6455/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6455/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6455", "id": 197132749, "node_id": "MDU6SXNzdWUxOTcxMzI3NDk=", "number": 6455, "title": "gradient for tf.gather_nd", "user": {"login": "nina124", "id": 6497205, "node_id": "MDQ6VXNlcjY0OTcyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6497205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nina124", "html_url": "https://github.com/nina124", "followers_url": "https://api.github.com/users/nina124/followers", "following_url": "https://api.github.com/users/nina124/following{/other_user}", "gists_url": "https://api.github.com/users/nina124/gists{/gist_id}", "starred_url": "https://api.github.com/users/nina124/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nina124/subscriptions", "organizations_url": "https://api.github.com/users/nina124/orgs", "repos_url": "https://api.github.com/users/nina124/repos", "events_url": "https://api.github.com/users/nina124/events{/privacy}", "received_events_url": "https://api.github.com/users/nina124/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-22T09:41:06Z", "updated_at": "2016-12-22T18:13:48Z", "closed_at": "2016-12-22T18:13:48Z", "author_association": "NONE", "body_html": "<p>I use tf.gather_nd to build a Value Iteration Block(NIPS2016 best paper, value iteration network).<br>\nI need to pick several \"pixels\" (what the input (i,j) points to in the following picture) in the feature map Q_n.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/6497205/21421213/a8e6a8be-c86c-11e6-8801-714ca47c4c2f.png\"><img src=\"https://cloud.githubusercontent.com/assets/6497205/21421213/a8e6a8be-c86c-11e6-8801-714ca47c4c2f.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>But I got this error: NotImplementedError: Gradient for gather_nd is not implemented.<br>\nI know gradient for tf.gather is implemented, but tf.gather could only slice the first dimentsion. It should be easy to transfer the gradient of tf.gather to tf.gather_nd.<br>\nOr anyone could tell me how to implement this operation and train this?</p>", "body_text": "I use tf.gather_nd to build a Value Iteration Block(NIPS2016 best paper, value iteration network).\nI need to pick several \"pixels\" (what the input (i,j) points to in the following picture) in the feature map Q_n.\n\nBut I got this error: NotImplementedError: Gradient for gather_nd is not implemented.\nI know gradient for tf.gather is implemented, but tf.gather could only slice the first dimentsion. It should be easy to transfer the gradient of tf.gather to tf.gather_nd.\nOr anyone could tell me how to implement this operation and train this?", "body": "I use tf.gather_nd to build a Value Iteration Block(NIPS2016 best paper, value iteration network). \r\nI need to pick several \"pixels\" (what the input (i,j) points to in the following picture) in the feature map Q_n.\r\n![image](https://cloud.githubusercontent.com/assets/6497205/21421213/a8e6a8be-c86c-11e6-8801-714ca47c4c2f.png)\r\n\r\n\r\nBut I got this error: NotImplementedError: Gradient for gather_nd is not implemented.\r\nI know gradient for tf.gather is implemented, but tf.gather could only slice the first dimentsion. It should be easy to transfer the gradient of tf.gather to tf.gather_nd.\r\nOr anyone could tell me how to implement this operation and train this?"}