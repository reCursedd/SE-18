{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12008", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12008/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12008/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12008/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12008", "id": 247756160, "node_id": "MDU6SXNzdWUyNDc3NTYxNjA=", "number": 12008, "title": "Building 1.2.1 with bazel 0.5.2 fails with \"Genrules without outputs don't make sense\"", "user": {"login": "eLvErDe", "id": 1586757, "node_id": "MDQ6VXNlcjE1ODY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1586757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eLvErDe", "html_url": "https://github.com/eLvErDe", "followers_url": "https://api.github.com/users/eLvErDe/followers", "following_url": "https://api.github.com/users/eLvErDe/following{/other_user}", "gists_url": "https://api.github.com/users/eLvErDe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eLvErDe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eLvErDe/subscriptions", "organizations_url": "https://api.github.com/users/eLvErDe/orgs", "repos_url": "https://api.github.com/users/eLvErDe/repos", "events_url": "https://api.github.com/users/eLvErDe/events{/privacy}", "received_events_url": "https://api.github.com/users/eLvErDe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "av8ramit", "id": 5588272, "node_id": "MDQ6VXNlcjU1ODgyNzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5588272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/av8ramit", "html_url": "https://github.com/av8ramit", "followers_url": "https://api.github.com/users/av8ramit/followers", "following_url": "https://api.github.com/users/av8ramit/following{/other_user}", "gists_url": "https://api.github.com/users/av8ramit/gists{/gist_id}", "starred_url": "https://api.github.com/users/av8ramit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/av8ramit/subscriptions", "organizations_url": "https://api.github.com/users/av8ramit/orgs", "repos_url": "https://api.github.com/users/av8ramit/repos", "events_url": "https://api.github.com/users/av8ramit/events{/privacy}", "received_events_url": "https://api.github.com/users/av8ramit/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "av8ramit", "id": 5588272, "node_id": "MDQ6VXNlcjU1ODgyNzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5588272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/av8ramit", "html_url": "https://github.com/av8ramit", "followers_url": "https://api.github.com/users/av8ramit/followers", "following_url": "https://api.github.com/users/av8ramit/following{/other_user}", "gists_url": "https://api.github.com/users/av8ramit/gists{/gist_id}", "starred_url": "https://api.github.com/users/av8ramit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/av8ramit/subscriptions", "organizations_url": "https://api.github.com/users/av8ramit/orgs", "repos_url": "https://api.github.com/users/av8ramit/repos", "events_url": "https://api.github.com/users/av8ramit/events{/privacy}", "received_events_url": "https://api.github.com/users/av8ramit/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-08-03T16:01:17Z", "updated_at": "2018-02-24T22:53:20Z", "closed_at": "2018-01-17T22:26:43Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>I'm trying to build Tensorflow on a Debian Stretch system usng the distribution provided CUDA packages. I'm using tensorflow 1.2.1 from git clone --recursive and bazel 0.5.2.</p>\n<p>The build fails with \"Genrules without outputs don't make sense\" error.</p>\n<pre><code>ERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\n</code></pre>\n<p>When looking at the file referenced in the error message I can see the following lines (starting from :170):</p>\n<pre><code>genrule(\n    name = \"cuda-include\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-nvvm\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-extras\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-lib\",\n    outs = [\n      \"lib/libcuda.so\",\n      \"lib/libcudart.so.8.0\",\n      \"lib/libcudart_static.a\",\n      \"lib/libcublas.so.8.0\",\n      \"lib/libcusolver.so.8.0\",\n      \"lib/libcurand.so.8.0\",\n      \"lib/libcufft.so.8.0\",\n      \"lib/libcudnn.so.6\",\n      \"lib/libcupti.so.8.0\",    ],\n    cmd = \"\"\"\nln -s /usr/lib/x86_64-linux-gnu/nvidia/current/libcuda.so.375.82 $(@D)/lib/libcuda.so &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcudart.so.8.0.44 $(@D)/lib/libcudart.so.8.0 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcudart_static.a $(@D)/lib/libcudart_static.a &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcublas.so.8.0.45 $(@D)/lib/libcublas.so.8.0 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcusolver.so.8.0.44 $(@D)/lib/libcusolver.so.8.0 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcurand.so.8.0.44 $(@D)/lib/libcurand.so.8.0 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcufft.so.8.0.44 $(@D)/lib/libcufft.so.8.0 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21 $(@D)/lib/libcudnn.so.6 &amp;&amp; ln -s /usr/lib/x86_64-linux-gnu/libcupti.so.8.0.44 $(@D)/lib/libcupti.so.8.0    \"\"\",\n)\n\ngenrule(\n    name = \"cudnn-include\",\n    outs = [\n      \"include/cudnn.h\",    ],\n    cmd = \"\"\"\nln -s /usr/include/cudnn.h $(@D)/cudnn.h    \"\"\",\n)\n</code></pre>\n<p>So indeed, there's genrules section with empty output but I have absolutely no idea if it's a problem or not and how I'm supposed to fix it.</p>\n<p>Thanks in advance,</p>\n<p>Best regards, Adam.</p>\n<p>Here is the complete build log:</p>\n<pre><code>debian/configure-expect.sh 2.7 \"-mavx -mavx2 -mfma -msse4.1 -msse4.2\" /usr/lib/x86_64-linux-gnu/\nspawn ./configure\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python2.7\nFound possible Python library paths:\n  /usr/local/lib/python2.7/dist-packages\n  /usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\n/usr/lib/python2.7/dist-packages/\nDo you wish to build TensorFlow with MKL support? [y/N] N\nNo MKL support will be enabled for TensorFlow\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: -mavx -mavx2 -mfma -msse4.1 -msse4.2\nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] Y\nGoogle Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] Y\nHadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] N\nNo XLA JIT support will be enabled for TensorFlow\nDo you wish to build TensorFlow with VERBS support? [y/N] Y\nVERBS support will be enabled for TensorFlow\nDo you wish to build TensorFlow with OpenCL support? [y/N] N\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\nCUDA support will be enabled for TensorFlow\nDo you want to use clang as CUDA compiler? [y/N] N\nnvcc will be used as CUDA compiler\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /usr/lib/x86_64-linux-gnu/\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc\nPlease specify the cuDNN version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/lib/x86_64-linux-gnu/]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n3.0,3.5,3.7,5.0,5.2,5.3,6.0,6.1\n[Default is: \"3.5,5.2\"]: Extracting Bazel installation...\n.........\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nConfiguration finished\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n____Loading package: tensorflow/tools/pip_package\n____Loading package: @local_config_cuda//crosstool\n____Loading package: @bazel_tools//tools/jdk\n____Loading package: @local_jdk//\n____Loading package: @bazel_tools//tools/cpp\n____Loading package: @local_config_cc//\n____Loading complete.  Analyzing...\n____Loading package: tensorflow/contrib/graph_editor\n____Loading package: tensorflow/contrib/tensor_forest\n____Loading package: tensorflow/python/saved_model\n____Loading package: tensorflow/contrib/slim/python/slim/data\n____Loading package: tensorflow/contrib/signal\n____Loading package: @six_archive//\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 379,293 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,652,655 bytes\n____Downloading http://mirror.bazel.build/github.com/google/re2/archive/b94b7cd42e9f02673cd748c1ac1d16db4052514c.tar.gz: 177,937 bytes\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 553,707 bytes\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 80,756 bytes\n____Loading package: @com_googlesource_code_re2//\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 675,655 bytes\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 150,238 bytes\n____Downloading http://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.2.53.zip: 103,443 bytes\n____Loading package: @org_pythonhosted_markdown//\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 214,048 bytes\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz: 393,473 bytes\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 556,541 bytes\n____Loading package: @nanopb_git//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,943,035 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 556,541 bytes\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 889,455 bytes\n____Loading package: @zlib_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,168,497 bytes\n____Downloading http://mirror.bazel.build/github.com/google/highwayhash/archive/dfcb97ca4fe9277bf9dc1802dd979b071896453b.tar.gz: 121,218 bytes\n____Loading package: @org_pocoo_werkzeug//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,416,647 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 384,964 bytes\n____Loading package: @fft2d//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,610,913 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 688,416 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 88,003 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 411,906 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,800,925 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 912,460 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 156,067 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 536,690 bytes\n____Loading package: @libxsmm_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,946,979 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,177,310 bytes\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 166,595 bytes\n____Loading package: @nccl_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,098,705 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,561,904 bytes\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 312,649 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 295,629 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,214,981 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,361,965 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 418,397 bytes\n____Downloading http://mirror.bazel.build/curl.haxx.se/download/curl-7.49.1.tar.gz: 1,068,439 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 2,164,554 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 1,079,468 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,597,353 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 712,521 bytes\n____Loading package: @eigen_archive//\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,747,661 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 868,501 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,900,805 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,024,481 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,053,949 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,180,461 bytes\n____Loading package: @jpeg//\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,075,220 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 307,790 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,337,549 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,238,290 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 676,470 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,470,841 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,415,540 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,026,716 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,604,133 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,572,938 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,423,756 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,751,605 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,772,876 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,928,564 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,967,141 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,038,042 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,583,680 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 3,239,397 bytes\n____Loading package: @curl//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,414,628 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,781,074 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 4,302,898 bytes\n____Loading package: @grpc//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 926,641 bytes\n____Loading package: @boringssl//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,126,269 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,469,115 bytes\n____Loading package: @protobuf//\n____Loading package: @local_config_cuda//cuda\n____Loading package: tools/defaults\n____Loading package: tensorflow/tools/graph_transforms\n____Loading package: tensorflow/contrib\n____Loading package: tensorflow/cc\nERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/swig/swig/swig-3.0.8/swig-3.0.8.tar.gz: 1,153,203 bytes\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\n____Elapsed time: 10.746s\ndebian/rules:29: recipe for target 'build-py2-2.7' failed\n</code></pre>", "body_text": "Hello,\nI'm trying to build Tensorflow on a Debian Stretch system usng the distribution provided CUDA packages. I'm using tensorflow 1.2.1 from git clone --recursive and bazel 0.5.2.\nThe build fails with \"Genrules without outputs don't make sense\" error.\nERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\n\nWhen looking at the file referenced in the error message I can see the following lines (starting from :170):\ngenrule(\n    name = \"cuda-include\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-nvvm\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-extras\",\n    outs = [\n    ],\n    cmd = \"\"\"\n    \"\"\",\n)\n\ngenrule(\n    name = \"cuda-lib\",\n    outs = [\n      \"lib/libcuda.so\",\n      \"lib/libcudart.so.8.0\",\n      \"lib/libcudart_static.a\",\n      \"lib/libcublas.so.8.0\",\n      \"lib/libcusolver.so.8.0\",\n      \"lib/libcurand.so.8.0\",\n      \"lib/libcufft.so.8.0\",\n      \"lib/libcudnn.so.6\",\n      \"lib/libcupti.so.8.0\",    ],\n    cmd = \"\"\"\nln -s /usr/lib/x86_64-linux-gnu/nvidia/current/libcuda.so.375.82 $(@D)/lib/libcuda.so && ln -s /usr/lib/x86_64-linux-gnu/libcudart.so.8.0.44 $(@D)/lib/libcudart.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcudart_static.a $(@D)/lib/libcudart_static.a && ln -s /usr/lib/x86_64-linux-gnu/libcublas.so.8.0.45 $(@D)/lib/libcublas.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcusolver.so.8.0.44 $(@D)/lib/libcusolver.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcurand.so.8.0.44 $(@D)/lib/libcurand.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcufft.so.8.0.44 $(@D)/lib/libcufft.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21 $(@D)/lib/libcudnn.so.6 && ln -s /usr/lib/x86_64-linux-gnu/libcupti.so.8.0.44 $(@D)/lib/libcupti.so.8.0    \"\"\",\n)\n\ngenrule(\n    name = \"cudnn-include\",\n    outs = [\n      \"include/cudnn.h\",    ],\n    cmd = \"\"\"\nln -s /usr/include/cudnn.h $(@D)/cudnn.h    \"\"\",\n)\n\nSo indeed, there's genrules section with empty output but I have absolutely no idea if it's a problem or not and how I'm supposed to fix it.\nThanks in advance,\nBest regards, Adam.\nHere is the complete build log:\ndebian/configure-expect.sh 2.7 \"-mavx -mavx2 -mfma -msse4.1 -msse4.2\" /usr/lib/x86_64-linux-gnu/\nspawn ./configure\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python2.7\nFound possible Python library paths:\n  /usr/local/lib/python2.7/dist-packages\n  /usr/lib/python2.7/dist-packages\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\n/usr/lib/python2.7/dist-packages/\nDo you wish to build TensorFlow with MKL support? [y/N] N\nNo MKL support will be enabled for TensorFlow\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: -mavx -mavx2 -mfma -msse4.1 -msse4.2\nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] Y\nGoogle Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] Y\nHadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] N\nNo XLA JIT support will be enabled for TensorFlow\nDo you wish to build TensorFlow with VERBS support? [y/N] Y\nVERBS support will be enabled for TensorFlow\nDo you wish to build TensorFlow with OpenCL support? [y/N] N\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\nCUDA support will be enabled for TensorFlow\nDo you want to use clang as CUDA compiler? [y/N] N\nnvcc will be used as CUDA compiler\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /usr/lib/x86_64-linux-gnu/\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc\nPlease specify the cuDNN version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/lib/x86_64-linux-gnu/]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n3.0,3.5,3.7,5.0,5.2,5.3,6.0,6.1\n[Default is: \"3.5,5.2\"]: Extracting Bazel installation...\n.........\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\nConfiguration finished\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n____Loading package: tensorflow/tools/pip_package\n____Loading package: @local_config_cuda//crosstool\n____Loading package: @bazel_tools//tools/jdk\n____Loading package: @local_jdk//\n____Loading package: @bazel_tools//tools/cpp\n____Loading package: @local_config_cc//\n____Loading complete.  Analyzing...\n____Loading package: tensorflow/contrib/graph_editor\n____Loading package: tensorflow/contrib/tensor_forest\n____Loading package: tensorflow/python/saved_model\n____Loading package: tensorflow/contrib/slim/python/slim/data\n____Loading package: tensorflow/contrib/signal\n____Loading package: @six_archive//\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 379,293 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,652,655 bytes\n____Downloading http://mirror.bazel.build/github.com/google/re2/archive/b94b7cd42e9f02673cd748c1ac1d16db4052514c.tar.gz: 177,937 bytes\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 553,707 bytes\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 80,756 bytes\n____Loading package: @com_googlesource_code_re2//\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 675,655 bytes\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 150,238 bytes\n____Downloading http://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.2.53.zip: 103,443 bytes\n____Loading package: @org_pythonhosted_markdown//\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 214,048 bytes\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz: 393,473 bytes\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 556,541 bytes\n____Loading package: @nanopb_git//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,943,035 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 556,541 bytes\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 889,455 bytes\n____Loading package: @zlib_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,168,497 bytes\n____Downloading http://mirror.bazel.build/github.com/google/highwayhash/archive/dfcb97ca4fe9277bf9dc1802dd979b071896453b.tar.gz: 121,218 bytes\n____Loading package: @org_pocoo_werkzeug//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,416,647 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 384,964 bytes\n____Loading package: @fft2d//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,610,913 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 688,416 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 88,003 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 411,906 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,800,925 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 912,460 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 156,067 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 536,690 bytes\n____Loading package: @libxsmm_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,946,979 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,177,310 bytes\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 166,595 bytes\n____Loading package: @nccl_archive//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,098,705 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,561,904 bytes\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 312,649 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 295,629 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,214,981 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,361,965 bytes\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 418,397 bytes\n____Downloading http://mirror.bazel.build/curl.haxx.se/download/curl-7.49.1.tar.gz: 1,068,439 bytes\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 2,164,554 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 1,079,468 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,597,353 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 712,521 bytes\n____Loading package: @eigen_archive//\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,747,661 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 868,501 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,900,805 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,024,481 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,053,949 bytes\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,180,461 bytes\n____Loading package: @jpeg//\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,075,220 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 307,790 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,337,549 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,238,290 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 676,470 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,470,841 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,415,540 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,026,716 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,604,133 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,572,938 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,423,756 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,751,605 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,772,876 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,928,564 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,967,141 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,038,042 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,583,680 bytes\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 3,239,397 bytes\n____Loading package: @curl//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,414,628 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,781,074 bytes\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 4,302,898 bytes\n____Loading package: @grpc//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 926,641 bytes\n____Loading package: @boringssl//\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,126,269 bytes\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,469,115 bytes\n____Loading package: @protobuf//\n____Loading package: @local_config_cuda//cuda\n____Loading package: tools/defaults\n____Loading package: tensorflow/tools/graph_transforms\n____Loading package: tensorflow/contrib\n____Loading package: tensorflow/cc\nERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/swig/swig/swig-3.0.8/swig-3.0.8.tar.gz: 1,153,203 bytes\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\n____Elapsed time: 10.746s\ndebian/rules:29: recipe for target 'build-py2-2.7' failed", "body": "Hello,\r\n\r\nI'm trying to build Tensorflow on a Debian Stretch system usng the distribution provided CUDA packages. I'm using tensorflow 1.2.1 from git clone --recursive and bazel 0.5.2.\r\n\r\nThe build fails with \"Genrules without outputs don't make sense\" error.\r\n```\r\nERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\r\n```\r\nWhen looking at the file referenced in the error message I can see the following lines (starting from :170):\r\n\r\n```\r\ngenrule(\r\n    name = \"cuda-include\",\r\n    outs = [\r\n    ],\r\n    cmd = \"\"\"\r\n    \"\"\",\r\n)\r\n\r\ngenrule(\r\n    name = \"cuda-nvvm\",\r\n    outs = [\r\n    ],\r\n    cmd = \"\"\"\r\n    \"\"\",\r\n)\r\n\r\ngenrule(\r\n    name = \"cuda-extras\",\r\n    outs = [\r\n    ],\r\n    cmd = \"\"\"\r\n    \"\"\",\r\n)\r\n\r\ngenrule(\r\n    name = \"cuda-lib\",\r\n    outs = [\r\n      \"lib/libcuda.so\",\r\n      \"lib/libcudart.so.8.0\",\r\n      \"lib/libcudart_static.a\",\r\n      \"lib/libcublas.so.8.0\",\r\n      \"lib/libcusolver.so.8.0\",\r\n      \"lib/libcurand.so.8.0\",\r\n      \"lib/libcufft.so.8.0\",\r\n      \"lib/libcudnn.so.6\",\r\n      \"lib/libcupti.so.8.0\",    ],\r\n    cmd = \"\"\"\r\nln -s /usr/lib/x86_64-linux-gnu/nvidia/current/libcuda.so.375.82 $(@D)/lib/libcuda.so && ln -s /usr/lib/x86_64-linux-gnu/libcudart.so.8.0.44 $(@D)/lib/libcudart.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcudart_static.a $(@D)/lib/libcudart_static.a && ln -s /usr/lib/x86_64-linux-gnu/libcublas.so.8.0.45 $(@D)/lib/libcublas.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcusolver.so.8.0.44 $(@D)/lib/libcusolver.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcurand.so.8.0.44 $(@D)/lib/libcurand.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcufft.so.8.0.44 $(@D)/lib/libcufft.so.8.0 && ln -s /usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21 $(@D)/lib/libcudnn.so.6 && ln -s /usr/lib/x86_64-linux-gnu/libcupti.so.8.0.44 $(@D)/lib/libcupti.so.8.0    \"\"\",\r\n)\r\n\r\ngenrule(\r\n    name = \"cudnn-include\",\r\n    outs = [\r\n      \"include/cudnn.h\",    ],\r\n    cmd = \"\"\"\r\nln -s /usr/include/cudnn.h $(@D)/cudnn.h    \"\"\",\r\n)\r\n```\r\nSo indeed, there's genrules section with empty output but I have absolutely no idea if it's a problem or not and how I'm supposed to fix it.\r\n\r\nThanks in advance,\r\n\r\nBest regards, Adam.\r\n\r\nHere is the complete build log:\r\n```\r\ndebian/configure-expect.sh 2.7 \"-mavx -mavx2 -mfma -msse4.1 -msse4.2\" /usr/lib/x86_64-linux-gnu/\r\nspawn ./configure\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python2.7\r\nFound possible Python library paths:\r\n  /usr/local/lib/python2.7/dist-packages\r\n  /usr/lib/python2.7/dist-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python2.7/dist-packages]\r\n/usr/lib/python2.7/dist-packages/\r\nDo you wish to build TensorFlow with MKL support? [y/N] N\r\nNo MKL support will be enabled for TensorFlow\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: -mavx -mavx2 -mfma -msse4.1 -msse4.2\r\nDo you wish to use jemalloc as the malloc implementation? [Y/n] Y\r\njemalloc enabled\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] Y\r\nGoogle Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] Y\r\nHadoop File System support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] N\r\nNo XLA JIT support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with VERBS support? [y/N] Y\r\nVERBS support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with OpenCL support? [y/N] N\r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] Y\r\nCUDA support will be enabled for TensorFlow\r\nDo you want to use clang as CUDA compiler? [y/N] N\r\nnvcc will be used as CUDA compiler\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \r\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /usr/lib/x86_64-linux-gnu/\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: /usr/bin/gcc\r\nPlease specify the cuDNN version you want to use. [Leave empty to use system default]: \r\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/lib/x86_64-linux-gnu/]: \r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n3.0,3.5,3.7,5.0,5.2,5.3,6.0,6.1\r\n[Default is: \"3.5,5.2\"]: Extracting Bazel installation...\r\n.........\r\nINFO: Starting clean (this may take a while). Consider using --async if the clean takes more than several minutes.\r\nConfiguration finished\r\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n____Loading package: tensorflow/tools/pip_package\r\n____Loading package: @local_config_cuda//crosstool\r\n____Loading package: @bazel_tools//tools/jdk\r\n____Loading package: @local_jdk//\r\n____Loading package: @bazel_tools//tools/cpp\r\n____Loading package: @local_config_cc//\r\n____Loading complete.  Analyzing...\r\n____Loading package: tensorflow/contrib/graph_editor\r\n____Loading package: tensorflow/contrib/tensor_forest\r\n____Loading package: tensorflow/python/saved_model\r\n____Loading package: tensorflow/contrib/slim/python/slim/data\r\n____Loading package: tensorflow/contrib/signal\r\n____Loading package: @six_archive//\r\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 379,293 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,652,655 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/re2/archive/b94b7cd42e9f02673cd748c1ac1d16db4052514c.tar.gz: 177,937 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 553,707 bytes\r\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 80,756 bytes\r\n____Loading package: @com_googlesource_code_re2//\r\n____Downloading http://mirror.bazel.build/github.com/google/gemmlowp/archive/a6f29d8ac48d63293f845f2253eccbf86bc28321.tar.gz: 675,655 bytes\r\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 150,238 bytes\r\n____Downloading http://mirror.bazel.build/github.com/glennrp/libpng/archive/v1.2.53.zip: 103,443 bytes\r\n____Loading package: @org_pythonhosted_markdown//\r\n____Downloading http://mirror.bazel.build/github.com/nanopb/nanopb/archive/1251fa1065afc0d62f635e0f63fec8276e14e13c.tar.gz: 214,048 bytes\r\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/giflib/giflib-5.1.4.tar.gz: 393,473 bytes\r\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 556,541 bytes\r\n____Loading package: @nanopb_git//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,943,035 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 556,541 bytes\r\n____Downloading http://mirror.bazel.build/pypi.python.org/packages/b7/7f/44d3cfe5a12ba002b253f6985a4477edfa66da53787a2a838a40f6415263/Werkzeug-0.11.10.tar.gz: 889,455 bytes\r\n____Loading package: @zlib_archive//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,168,497 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/highwayhash/archive/dfcb97ca4fe9277bf9dc1802dd979b071896453b.tar.gz: 121,218 bytes\r\n____Loading package: @org_pocoo_werkzeug//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,416,647 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 384,964 bytes\r\n____Loading package: @fft2d//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,610,913 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 688,416 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 88,003 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 411,906 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,800,925 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 912,460 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 156,067 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 536,690 bytes\r\n____Loading package: @libxsmm_archive//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,946,979 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,177,310 bytes\r\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 166,595 bytes\r\n____Loading package: @nccl_archive//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,098,705 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 1,561,904 bytes\r\n____Downloading http://mirror.bazel.build/github.com/jemalloc/jemalloc/archive/4.4.0.tar.gz: 312,649 bytes\r\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 295,629 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 4,214,981 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,361,965 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/farmhash/archive/92e897b282426729f4724d91a637596c7e2fe28f.zip: 418,397 bytes\r\n____Downloading http://mirror.bazel.build/curl.haxx.se/download/curl-7.49.1.tar.gz: 1,068,439 bytes\r\n____Downloading http://mirror.bazel.build/bitbucket.org/eigen/eigen/get/f3a22f35b044.tar.gz: 2,164,554 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 1,079,468 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,597,353 bytes\r\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 712,521 bytes\r\n____Loading package: @eigen_archive//\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,747,661 bytes\r\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 868,501 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 1,900,805 bytes\r\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,024,481 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,053,949 bytes\r\n____Downloading http://mirror.bazel.build/github.com/libjpeg-turbo/libjpeg-turbo/archive/1.5.1.tar.gz: 1,180,461 bytes\r\n____Loading package: @jpeg//\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,075,220 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 307,790 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,337,549 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,238,290 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 676,470 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,470,841 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,415,540 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,026,716 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,604,133 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,572,938 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,423,756 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,751,605 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 2,772,876 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 1,928,564 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 2,967,141 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,038,042 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,583,680 bytes\r\n____Downloading http://mirror.bazel.build/github.com/grpc/grpc/archive/d7ff4ff40071d2b486a052183e3e9f9382afb745.tar.gz: 3,239,397 bytes\r\n____Loading package: @curl//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,414,628 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 3,781,074 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/boringssl/archive/bbcaa15b0647816b9a1a9b9e0d209cd6712f0105.tar.gz: 4,302,898 bytes\r\n____Loading package: @grpc//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 926,641 bytes\r\n____Loading package: @boringssl//\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 2,126,269 bytes\r\n____Downloading http://mirror.bazel.build/github.com/google/protobuf/archive/2b7430d96aeff2bb624c8d52182ff5e4b9f7f18a.tar.gz: 3,469,115 bytes\r\n____Loading package: @protobuf//\r\n____Loading package: @local_config_cuda//cuda\r\n____Loading package: tools/defaults\r\n____Loading package: tensorflow/tools/graph_transforms\r\n____Loading package: tensorflow/contrib\r\n____Loading package: tensorflow/cc\r\nERROR: /home/gandalf/.cache/bazel/_bazel_gandalf/db00e87a820fe7f78d45fd73738fa4bd/external/local_config_cuda/cuda/BUILD:170:12: in outs attribute of genrule rule @local_config_cuda//cuda:cuda-include: Genrules without outputs don't make sense.\r\n____Downloading http://mirror.bazel.build/ufpr.dl.sourceforge.net/project/swig/swig/swig-3.0.8/swig-3.0.8.tar.gz: 1,153,203 bytes\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\r\n____Elapsed time: 10.746s\r\ndebian/rules:29: recipe for target 'build-py2-2.7' failed\r\n```"}