{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/249631389", "html_url": "https://github.com/tensorflow/tensorflow/issues/419#issuecomment-249631389", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419", "id": 249631389, "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTYzMTM4OQ==", "user": {"login": "barantes", "id": 5194824, "node_id": "MDQ6VXNlcjUxOTQ4MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5194824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barantes", "html_url": "https://github.com/barantes", "followers_url": "https://api.github.com/users/barantes/followers", "following_url": "https://api.github.com/users/barantes/following{/other_user}", "gists_url": "https://api.github.com/users/barantes/gists{/gist_id}", "starred_url": "https://api.github.com/users/barantes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barantes/subscriptions", "organizations_url": "https://api.github.com/users/barantes/orgs", "repos_url": "https://api.github.com/users/barantes/repos", "events_url": "https://api.github.com/users/barantes/events{/privacy}", "received_events_url": "https://api.github.com/users/barantes/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-26T17:03:14Z", "updated_at": "2016-09-26T17:03:14Z", "author_association": "NONE", "body_html": "<p>Hi, thanks for the instructions on how to build the library for API &lt; 20.</p>\n<p>The steps outlined by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> don't seem to work with the latest TF code though.</p>\n<p>I've modified the Android demo to remove dependencies on APIs lower than 21, modified AndroidManifest.xml, and configured the WORKSPACE file, all that to make the build target API 19.</p>\n<p>However, the build fails with the following error:</p>\n<p>ERROR: /home/bruno/tensorflow/tensorflow/contrib/android/BUILD:36:1: C++ compilation of rule '//tensorflow/contrib/android:android_tensorflow_inference_jni' failed: linux-sandbox failed: error executing command /home/bruno/.cache/bazel/_bazel_bruno/fc8ca368ddd99b1148acfb9b362d6174/execroot/tensorflow/_bin/linux-sandbox ... (remaining 65 argument(s) skipped).<br>\nIn file included from tensorflow/contrib/android/jni/jni_utils.cc:32:0:<br>\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h: In member function 'virtual int tensorflow::android::LimitingFileInputStream::Read(void*, int)':<br>\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:28: error: 'errno' was not declared in this scope<br>\n} while (result &lt; 0 &amp;&amp; errno == EINTR);<br>\n^<br>\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:37: error: 'EINTR' was not declared in this scope<br>\n} while (result &lt; 0 &amp;&amp; errno == EINTR);<br>\n^<br>\nTarget //tensorflow/examples/android:tensorflow_demo failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 1615.615s, Critical Path: 1600.63s</p>\n<p>Any advice?</p>\n<p>Thanks.</p>", "body_text": "Hi, thanks for the instructions on how to build the library for API < 20.\nThe steps outlined by @andrewharp don't seem to work with the latest TF code though.\nI've modified the Android demo to remove dependencies on APIs lower than 21, modified AndroidManifest.xml, and configured the WORKSPACE file, all that to make the build target API 19.\nHowever, the build fails with the following error:\nERROR: /home/bruno/tensorflow/tensorflow/contrib/android/BUILD:36:1: C++ compilation of rule '//tensorflow/contrib/android:android_tensorflow_inference_jni' failed: linux-sandbox failed: error executing command /home/bruno/.cache/bazel/_bazel_bruno/fc8ca368ddd99b1148acfb9b362d6174/execroot/tensorflow/_bin/linux-sandbox ... (remaining 65 argument(s) skipped).\nIn file included from tensorflow/contrib/android/jni/jni_utils.cc:32:0:\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h: In member function 'virtual int tensorflow::android::LimitingFileInputStream::Read(void*, int)':\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:28: error: 'errno' was not declared in this scope\n} while (result < 0 && errno == EINTR);\n^\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:37: error: 'EINTR' was not declared in this scope\n} while (result < 0 && errno == EINTR);\n^\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1615.615s, Critical Path: 1600.63s\nAny advice?\nThanks.", "body": "Hi, thanks for the instructions on how to build the library for API < 20. \n\nThe steps outlined by @andrewharp don't seem to work with the latest TF code though.\n\nI've modified the Android demo to remove dependencies on APIs lower than 21, modified AndroidManifest.xml, and configured the WORKSPACE file, all that to make the build target API 19.\n\nHowever, the build fails with the following error:\n\nERROR: /home/bruno/tensorflow/tensorflow/contrib/android/BUILD:36:1: C++ compilation of rule '//tensorflow/contrib/android:android_tensorflow_inference_jni' failed: linux-sandbox failed: error executing command /home/bruno/.cache/bazel/_bazel_bruno/fc8ca368ddd99b1148acfb9b362d6174/execroot/tensorflow/_bin/linux-sandbox ... (remaining 65 argument(s) skipped).\nIn file included from tensorflow/contrib/android/jni/jni_utils.cc:32:0:\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h: In member function 'virtual int tensorflow::android::LimitingFileInputStream::Read(void*, int)':\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:28: error: 'errno' was not declared in this scope\n     } while (result < 0 && errno == EINTR);\n                            ^\n./tensorflow/contrib/android/jni/limiting_file_input_stream.h:39:37: error: 'EINTR' was not declared in this scope\n     } while (result < 0 && errno == EINTR);\n                                     ^\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1615.615s, Critical Path: 1600.63s\n\nAny advice? \n\nThanks.\n"}