{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/162262131", "html_url": "https://github.com/tensorflow/tensorflow/issues/419#issuecomment-162262131", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419", "id": 162262131, "node_id": "MDEyOklzc3VlQ29tbWVudDE2MjI2MjEzMQ==", "user": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "created_at": "2015-12-06T01:31:06Z", "updated_at": "2015-12-06T01:31:06Z", "author_association": "MEMBER", "body_html": "<p>The libpthread.so in the TF repo is not actually a copy of libpthead.so<br>\n(it's actually arbitrarily cloned from libmediandk.so, which could explain<br>\nyour earlier link errors), so it's not possible that it could be providing<br>\nanything. Those functions are found in other libraries on Android.<br>\n-DHAVE_PTHREAD still applies, it just doesn't need to actually link in<br>\npthread.</p>\n<p>If you:</p>\n<ol>\n<li>remove the \"-lpthread\" from google/protobuf/BUILD,</li>\n<li>delete the \":dummy_pthread\" dep in tensorflow/examples/android/BUILD</li>\n<li>build with:<br>\nbazel build tensorflow/examples/android:tensorflow_demo<br>\n--config=android_arm</li>\n</ol>\n<p>with no other changes do you still get the same errors? Please attach a log<br>\nif so.</p>\n<p>On Sat, Dec 5, 2015 at 8:13 PM, Hamid Bazargani <a href=\"mailto:notifications@github.com\">notifications@github.com</a><br>\nwrote:</p>\n<blockquote>\n<p>Hi Andrew,<br>\nI think pthread also resolves some POSIX symbols like getPageSize, strtof,<br>\n... that are used elsewhere.<br>\nBy removing -lpthread, I still get unresolved reference errors.<br>\nHow should I resolve them by removing pthread ?<br>\nThanks,<br>\nHamid</p>\n<p>\u2014<br>\nReply to this email directly or view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"120591969\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/419\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/419/hovercard?comment_id=162261581&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/419#issuecomment-162261581\">#419 (comment)</a><br>\n.</p>\n</blockquote>", "body_text": "The libpthread.so in the TF repo is not actually a copy of libpthead.so\n(it's actually arbitrarily cloned from libmediandk.so, which could explain\nyour earlier link errors), so it's not possible that it could be providing\nanything. Those functions are found in other libraries on Android.\n-DHAVE_PTHREAD still applies, it just doesn't need to actually link in\npthread.\nIf you:\n\nremove the \"-lpthread\" from google/protobuf/BUILD,\ndelete the \":dummy_pthread\" dep in tensorflow/examples/android/BUILD\nbuild with:\nbazel build tensorflow/examples/android:tensorflow_demo\n--config=android_arm\n\nwith no other changes do you still get the same errors? Please attach a log\nif so.\nOn Sat, Dec 5, 2015 at 8:13 PM, Hamid Bazargani notifications@github.com\nwrote:\n\nHi Andrew,\nI think pthread also resolves some POSIX symbols like getPageSize, strtof,\n... that are used elsewhere.\nBy removing -lpthread, I still get unresolved reference errors.\nHow should I resolve them by removing pthread ?\nThanks,\nHamid\n\u2014\nReply to this email directly or view it on GitHub\n#419 (comment)\n.", "body": "The libpthread.so in the TF repo is not actually a copy of libpthead.so\n(it's actually arbitrarily cloned from libmediandk.so, which could explain\nyour earlier link errors), so it's not possible that it could be providing\nanything. Those functions are found in other libraries on Android.\n-DHAVE_PTHREAD still applies, it just doesn't need to actually link in\npthread.\n\nIf you:\n1. remove the \"-lpthread\" from google/protobuf/BUILD,\n2. delete the \":dummy_pthread\" dep in tensorflow/examples/android/BUILD\n3. build with:\n   bazel build tensorflow/examples/android:tensorflow_demo\n   --config=android_arm\n\nwith no other changes do you still get the same errors? Please attach a log\nif so.\n\nOn Sat, Dec 5, 2015 at 8:13 PM, Hamid Bazargani notifications@github.com\nwrote:\n\n> Hi Andrew,\n> I think pthread also resolves some POSIX symbols like getPageSize, strtof,\n> ... that are used elsewhere.\n> By removing -lpthread, I still get unresolved reference errors.\n> How should I resolve them by removing pthread ?\n> Thanks,\n> Hamid\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/419#issuecomment-162261581\n> .\n"}