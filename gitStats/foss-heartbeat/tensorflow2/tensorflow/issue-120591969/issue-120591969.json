{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/419/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/419", "id": 120591969, "node_id": "MDU6SXNzdWUxMjA1OTE5Njk=", "number": 419, "title": "Failed to run Android demo targeting API < 20", "user": {"login": "hamidb", "id": 4418982, "node_id": "MDQ6VXNlcjQ0MTg5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4418982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamidb", "html_url": "https://github.com/hamidb", "followers_url": "https://api.github.com/users/hamidb/followers", "following_url": "https://api.github.com/users/hamidb/following{/other_user}", "gists_url": "https://api.github.com/users/hamidb/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamidb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamidb/subscriptions", "organizations_url": "https://api.github.com/users/hamidb/orgs", "repos_url": "https://api.github.com/users/hamidb/repos", "events_url": "https://api.github.com/users/hamidb/events{/privacy}", "received_events_url": "https://api.github.com/users/hamidb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-12-05T22:19:10Z", "updated_at": "2016-09-26T18:28:21Z", "closed_at": "2015-12-06T15:03:18Z", "author_association": "NONE", "body_html": "<p>I tried to build the demo application for Android for KitKat device (API 20). I was able to modify the app not to use new <code>hardware.camera2</code> and it worked on Android Lollipops successfully. However there is an issue targeting older Android device.<br>\nIt turned out that the app crashes right after trying to load the native shared library, <code>tensorflow_demo</code> in my case.<br>\nAnd that's due to dependency of <code>libpthread.so</code> to <code>libmediandk.so</code> that is not supported for API older than 21. See the following logcat message:</p>\n<p>Error: <code>..dlopen failed: could not load library \"libmediandk.so\" needed by \"libtensorflow_demo.so\"; caused by library \"libmediandk.so\" not found</code></p>\n<p>I also desperately tried to replace the cloned <code>libpthread.so</code> with the same file from my  <code>/usr/arm-linux-gnueabi/lib/</code> directory with no success.<br>\nI am using:<br>\n1- android-ndk-r10c<br>\n2- api_level=20<br>\n3- build_tools_version = \"20.0.0\"</p>\n<p>Did I missed anything in that process?</p>", "body_text": "I tried to build the demo application for Android for KitKat device (API 20). I was able to modify the app not to use new hardware.camera2 and it worked on Android Lollipops successfully. However there is an issue targeting older Android device.\nIt turned out that the app crashes right after trying to load the native shared library, tensorflow_demo in my case.\nAnd that's due to dependency of libpthread.so to libmediandk.so that is not supported for API older than 21. See the following logcat message:\nError: ..dlopen failed: could not load library \"libmediandk.so\" needed by \"libtensorflow_demo.so\"; caused by library \"libmediandk.so\" not found\nI also desperately tried to replace the cloned libpthread.so with the same file from my  /usr/arm-linux-gnueabi/lib/ directory with no success.\nI am using:\n1- android-ndk-r10c\n2- api_level=20\n3- build_tools_version = \"20.0.0\"\nDid I missed anything in that process?", "body": "I tried to build the demo application for Android for KitKat device (API 20). I was able to modify the app not to use new `hardware.camera2` and it worked on Android Lollipops successfully. However there is an issue targeting older Android device. \nIt turned out that the app crashes right after trying to load the native shared library, `tensorflow_demo` in my case.\nAnd that's due to dependency of `libpthread.so` to `libmediandk.so` that is not supported for API older than 21. See the following logcat message:\n\nError: `..dlopen failed: could not load library \"libmediandk.so\" needed by \"libtensorflow_demo.so\"; caused by library \"libmediandk.so\" not found`\n\nI also desperately tried to replace the cloned `libpthread.so` with the same file from my  `/usr/arm-linux-gnueabi/lib/` directory with no success.\nI am using:\n    1- android-ndk-r10c\n    2- api_level=20\n    3- build_tools_version = \"20.0.0\"\n\nDid I missed anything in that process? \n"}