{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/244879341", "html_url": "https://github.com/tensorflow/tensorflow/issues/4204#issuecomment-244879341", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4204", "id": 244879341, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDg3OTM0MQ==", "user": {"login": "alex-justes", "id": 426508, "node_id": "MDQ6VXNlcjQyNjUwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/426508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex-justes", "html_url": "https://github.com/alex-justes", "followers_url": "https://api.github.com/users/alex-justes/followers", "following_url": "https://api.github.com/users/alex-justes/following{/other_user}", "gists_url": "https://api.github.com/users/alex-justes/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex-justes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex-justes/subscriptions", "organizations_url": "https://api.github.com/users/alex-justes/orgs", "repos_url": "https://api.github.com/users/alex-justes/repos", "events_url": "https://api.github.com/users/alex-justes/events{/privacy}", "received_events_url": "https://api.github.com/users/alex-justes/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-06T08:08:15Z", "updated_at": "2016-09-06T08:08:15Z", "author_association": "NONE", "body_html": "<p>gdb says about segfault in pthread_mutex_lock () from /usr/lib/libpthread.so.0<br>\nI've tried to downgrade glibc from 2.24-2 to 2.23-5 (since it all began after system upgrade), but it doesn't help.</p>\n<pre><code>$ gdb -ex r --args python test.py  \nGNU gdb (GDB) 7.11.1\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python...(no debugging symbols found)...done.\nStarting program: /usr/bin/python test.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\n[New Thread 0x7fffda3a7700 (LWP 6063)]\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffb978d700 (LWP 6068)]\n[New Thread 0x7fffb8f8c700 (LWP 6069)]\n[New Thread 0x7fffb3fff700 (LWP 6070)]\n[New Thread 0x7fffb37fe700 (LWP 6071)]\n[New Thread 0x7fffb2ffd700 (LWP 6072)]\n[New Thread 0x7fffb27fc700 (LWP 6073)]\n[New Thread 0x7fffb1ffb700 (LWP 6074)]\n[New Thread 0x7fffb17fa700 (LWP 6075)]\n[New Thread 0x7fffb0ff9700 (LWP 6077)]\n[New Thread 0x7fff97fff700 (LWP 6078)]\n[New Thread 0x7fff977fe700 (LWP 6079)]\n[New Thread 0x7fff96ffd700 (LWP 6080)]\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX 960M\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.176\npciBusID 0000:01:00.0\nTotal memory: 1.96GiB\nFree memory: 1.93GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 960M, pci bus id: 0000:01:00.0)\n[New Thread 0x7fff967fc700 (LWP 6081)]\n[New Thread 0x7fff95ffb700 (LWP 6082)]\n[New Thread 0x7fff957fa700 (LWP 6083)]\n[New Thread 0x7fff94ff9700 (LWP 6084)]\n[New Thread 0x7fff7a441700 (LWP 6085)]\n[New Thread 0x7fff79c40700 (LWP 6086)]\n[New Thread 0x7fff7943f700 (LWP 6087)]\n[New Thread 0x7fff78c3e700 (LWP 6088)]\n[New Thread 0x7fff63fff700 (LWP 6089)]\n[New Thread 0x7fff637fe700 (LWP 6090)]\n\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff76f7ad0 in pthread_mutex_lock () from /usr/lib/libpthread.so.0\n\n\n</code></pre>", "body_text": "gdb says about segfault in pthread_mutex_lock () from /usr/lib/libpthread.so.0\nI've tried to downgrade glibc from 2.24-2 to 2.23-5 (since it all began after system upgrade), but it doesn't help.\n$ gdb -ex r --args python test.py  \nGNU gdb (GDB) 7.11.1\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python...(no debugging symbols found)...done.\nStarting program: /usr/bin/python test.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\n[New Thread 0x7fffda3a7700 (LWP 6063)]\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffb978d700 (LWP 6068)]\n[New Thread 0x7fffb8f8c700 (LWP 6069)]\n[New Thread 0x7fffb3fff700 (LWP 6070)]\n[New Thread 0x7fffb37fe700 (LWP 6071)]\n[New Thread 0x7fffb2ffd700 (LWP 6072)]\n[New Thread 0x7fffb27fc700 (LWP 6073)]\n[New Thread 0x7fffb1ffb700 (LWP 6074)]\n[New Thread 0x7fffb17fa700 (LWP 6075)]\n[New Thread 0x7fffb0ff9700 (LWP 6077)]\n[New Thread 0x7fff97fff700 (LWP 6078)]\n[New Thread 0x7fff977fe700 (LWP 6079)]\n[New Thread 0x7fff96ffd700 (LWP 6080)]\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX 960M\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.176\npciBusID 0000:01:00.0\nTotal memory: 1.96GiB\nFree memory: 1.93GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 960M, pci bus id: 0000:01:00.0)\n[New Thread 0x7fff967fc700 (LWP 6081)]\n[New Thread 0x7fff95ffb700 (LWP 6082)]\n[New Thread 0x7fff957fa700 (LWP 6083)]\n[New Thread 0x7fff94ff9700 (LWP 6084)]\n[New Thread 0x7fff7a441700 (LWP 6085)]\n[New Thread 0x7fff79c40700 (LWP 6086)]\n[New Thread 0x7fff7943f700 (LWP 6087)]\n[New Thread 0x7fff78c3e700 (LWP 6088)]\n[New Thread 0x7fff63fff700 (LWP 6089)]\n[New Thread 0x7fff637fe700 (LWP 6090)]\n\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff76f7ad0 in pthread_mutex_lock () from /usr/lib/libpthread.so.0", "body": "gdb says about segfault in pthread_mutex_lock () from /usr/lib/libpthread.so.0\nI've tried to downgrade glibc from 2.24-2 to 2.23-5 (since it all began after system upgrade), but it doesn't help.\n\n```\n$ gdb -ex r --args python test.py  \nGNU gdb (GDB) 7.11.1\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python...(no debugging symbols found)...done.\nStarting program: /usr/bin/python test.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\n[New Thread 0x7fffda3a7700 (LWP 6063)]\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:111] successfully opened CUDA library libcurand.so locally\n[New Thread 0x7fffb978d700 (LWP 6068)]\n[New Thread 0x7fffb8f8c700 (LWP 6069)]\n[New Thread 0x7fffb3fff700 (LWP 6070)]\n[New Thread 0x7fffb37fe700 (LWP 6071)]\n[New Thread 0x7fffb2ffd700 (LWP 6072)]\n[New Thread 0x7fffb27fc700 (LWP 6073)]\n[New Thread 0x7fffb1ffb700 (LWP 6074)]\n[New Thread 0x7fffb17fa700 (LWP 6075)]\n[New Thread 0x7fffb0ff9700 (LWP 6077)]\n[New Thread 0x7fff97fff700 (LWP 6078)]\n[New Thread 0x7fff977fe700 (LWP 6079)]\n[New Thread 0x7fff96ffd700 (LWP 6080)]\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:951] Found device 0 with properties: \nname: GeForce GTX 960M\nmajor: 5 minor: 0 memoryClockRate (GHz) 1.176\npciBusID 0000:01:00.0\nTotal memory: 1.96GiB\nFree memory: 1.93GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:972] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:982] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:1041] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 960M, pci bus id: 0000:01:00.0)\n[New Thread 0x7fff967fc700 (LWP 6081)]\n[New Thread 0x7fff95ffb700 (LWP 6082)]\n[New Thread 0x7fff957fa700 (LWP 6083)]\n[New Thread 0x7fff94ff9700 (LWP 6084)]\n[New Thread 0x7fff7a441700 (LWP 6085)]\n[New Thread 0x7fff79c40700 (LWP 6086)]\n[New Thread 0x7fff7943f700 (LWP 6087)]\n[New Thread 0x7fff78c3e700 (LWP 6088)]\n[New Thread 0x7fff63fff700 (LWP 6089)]\n[New Thread 0x7fff637fe700 (LWP 6090)]\n\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff76f7ad0 in pthread_mutex_lock () from /usr/lib/libpthread.so.0\n\n\n```\n"}