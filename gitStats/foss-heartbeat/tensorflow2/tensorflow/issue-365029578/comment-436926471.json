{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/436926471", "html_url": "https://github.com/tensorflow/tensorflow/pull/22606#issuecomment-436926471", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22606", "id": 436926471, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjkyNjQ3MQ==", "user": {"login": "eLvErDe", "id": 1586757, "node_id": "MDQ6VXNlcjE1ODY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1586757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eLvErDe", "html_url": "https://github.com/eLvErDe", "followers_url": "https://api.github.com/users/eLvErDe/followers", "following_url": "https://api.github.com/users/eLvErDe/following{/other_user}", "gists_url": "https://api.github.com/users/eLvErDe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eLvErDe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eLvErDe/subscriptions", "organizations_url": "https://api.github.com/users/eLvErDe/orgs", "repos_url": "https://api.github.com/users/eLvErDe/repos", "events_url": "https://api.github.com/users/eLvErDe/events{/privacy}", "received_events_url": "https://api.github.com/users/eLvErDe/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-08T09:19:25Z", "updated_at": "2018-11-08T09:19:25Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>After applying this patch on my TF build, inference crashes somewhere else (using the same method so I'm pretty sure it's related)</p>\n<pre><code>AbortedError (see above for traceback): Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1361, in _do_call\n    return fn(*args)\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1340, in _run_fn\n    target_list, status, run_metadata)\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/framework/errors_impl.py\", line 516, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.AbortedError: Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=37549500\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/HuiyangFei\">@HuiyangFei</a> you were talking about a second PR, could you link this one here ?</p>", "body_text": "Hello,\nAfter applying this patch on my TF build, inference crashes somewhere else (using the same method so I'm pretty sure it's related)\nAbortedError (see above for traceback): Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1361, in _do_call\n    return fn(*args)\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1340, in _run_fn\n    target_list, status, run_metadata)\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/framework/errors_impl.py\", line 516, in __exit__\n    c_api.TF_GetCode(self.status.status))\ntensorflow.python.framework.errors_impl.AbortedError: Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\n\n@HuiyangFei you were talking about a second PR, could you link this one here ?", "body": "Hello,\r\n\r\nAfter applying this patch on my TF build, inference crashes somewhere else (using the same method so I'm pretty sure it's related)\r\n\r\n```\r\nAbortedError (see above for traceback): Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\r\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1361, in _do_call\r\n    return fn(*args)\r\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/client/session.py\", line 1340, in _run_fn\r\n    target_list, status, run_metadata)\r\n  File \"/usr/lib/python3/dist-packages/tensorflow/python/framework/errors_impl.py\", line 516, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.AbortedError: Operation received an exception:Status: 5, message: could not initialize a memory descriptor, in file tensorflow/core/kernels/mkl_conv_ops.cc:652\r\n\t [[Node: conv1/BiasAdd = _MklConv2DWithBias[T=DT_FLOAT, _kernel=\"MklOp\", data_format=\"NHWC\", padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_arg_input_1_0_0, conv1/kernel/read, conv1/bias/read, DMT/_0, DMT/_1, DMT/_2)]]\r\n```\r\n\r\n@HuiyangFei you were talking about a second PR, could you link this one here ?"}