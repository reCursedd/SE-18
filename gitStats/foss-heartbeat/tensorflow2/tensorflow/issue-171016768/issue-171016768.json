{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3796", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3796/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3796/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3796/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3796", "id": 171016768, "node_id": "MDU6SXNzdWUxNzEwMTY3Njg=", "number": 3796, "title": "ERROR [PATH]/tensorflow/tensorflow/stream_executor/BUILD:5:1: C++ compilation of rule '//tensorflow/stream_executor:stream_executor' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command ", "user": {"login": "QnnLu", "id": 15916289, "node_id": "MDQ6VXNlcjE1OTE2Mjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/15916289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QnnLu", "html_url": "https://github.com/QnnLu", "followers_url": "https://api.github.com/users/QnnLu/followers", "following_url": "https://api.github.com/users/QnnLu/following{/other_user}", "gists_url": "https://api.github.com/users/QnnLu/gists{/gist_id}", "starred_url": "https://api.github.com/users/QnnLu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QnnLu/subscriptions", "organizations_url": "https://api.github.com/users/QnnLu/orgs", "repos_url": "https://api.github.com/users/QnnLu/repos", "events_url": "https://api.github.com/users/QnnLu/events{/privacy}", "received_events_url": "https://api.github.com/users/QnnLu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-13T16:46:03Z", "updated_at": "2016-08-13T19:39:56Z", "closed_at": "2016-08-13T19:38:45Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>I get the following errors when compiling:</p>\n<p>____[110 / 2,641] Compiling external/png_archive/libpng-1.2.53/pngerror.c<br>\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&amp;)' defined but not used [-Wunused-function]<br>\nutil::Status CreatePublicError(util::error::Code code,<br>\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&amp;)' defined but not used [-Wunused-function]<br>\nutil::Status CreatePublicError(util::error::Code code,<br>\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&amp;)' defined but not used [-Wunused-function]<br>\nutil::Status CreatePublicError(util::error::Code code,<br>\n== )  // Compilation error with CHECK_EQ(NULL, x)?<br>\n== )  // Compilation error with CHECK_EQ(NULL, x)?<br>\nERROR: /home/user/Downloads/tensorflow/tensorflow/stream_executor/BUILD:5:1: C++ compilation of rule '//tensorflow/stream_executor:stream_executor' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:266:10: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:284:10: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:942:7: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:947:4: error: no matching function for call to 'std::vector::assign()'<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:958:7: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:963:4: error: no matching function for call to 'std::vector::assign()'<br>\ntensorflow/stream_executor/cuda/cuda_dnn.cc:166:39: error: too many arguments to function</p>\n<p>Complete log of build: <a href=\"http://pastebin.com/NzpiwmGm\" rel=\"nofollow\">http://pastebin.com/NzpiwmGm</a></p>\n<p>The compilation command that I am using is:<br>\nbazel build --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer &gt;&amp; build.log &amp;</p>\n<p>My systems information is as follows</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nDistributor ID: Ubuntu<br>\nDescription:    Ubuntu 16.04.1 LTS<br>\nRelease:    16.04<br>\nCodename:   xenial</p>\n<p>Installed version of CUDA and cuDNN:<br>\n/usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18<br>\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.0</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/bf31051225ce53c1c88fd45ee117a49645153770/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/bf31051225ce53c1c88fd45ee117a49645153770\"><tt>bf31051</tt></a></li>\n<li>The output of <code>bazel version</code><br>\nBuild time: Thu Jan 01 00:00:00 1970 (0)<br>\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)<br>\nBuild timestamp as int: 0</li>\n</ol>\n<p>I installed cudatoolkit, and cudann following this instructions:</p>\n<blockquote>\n<p>sudoapt-get install nvidia-cuda-toolkit<br>\nsudo apt-get install nvidia-cuda-361-updates<br>\nsudo apt-get install nvidia-nsight<br>\nsudo apt-get install nvidia-profiler<br>\nsudo apt-get install libcupti-dev zlib1g-dev</p>\n<h1>Put symlinks in /usr/local/cuda</h1>\n<p>sudo mkdir /usr/local/cuda<br>\ncd /usr/local/cuda<br>\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64<br>\nsudo ln -s  /usr/include/ include<br>\nsudo ln -s  /usr/bin/ bin<br>\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ nvvm<br>\nsudo mkdir -p extras/CUPTI<br>\ncd extras/CUPTI<br>\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64<br>\nsudo ln -s  /usr/include/ include</p>\n<h1>Install cudann</h1>\n<h1><a href=\"http://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\" rel=\"nofollow\">http://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04</a></h1>\n<h1>Download cudann as detailed above and extract</h1>\n<p>cd ~/Downloads/cuda<br>\nsudo cp include/cudnn.h /usr/include<br>\nsudo cp lib64/libcudnn* /usr/lib/x86_64-linux-gnu/<br>\nsudo chmod a+r /usr/lib/x86_64-linux-gnu/libcudnn*</p>\n<h1>... Install TensorFlow from source ...</h1>\n</blockquote>\n<p>instruction found at  <a href=\"https://devtalk.nvidia.com/default/topic/936212/cuda-setup-and-installation/tensorflow-cannot-find-cudnn-ubuntu-16-04-cuda7-5-/post/4880549/#4880549\" rel=\"nofollow\">https://devtalk.nvidia.com/default/topic/936212/cuda-setup-and-installation/tensorflow-cannot-find-cudnn-ubuntu-16-04-cuda7-5-/post/4880549/#4880549</a></p>\n<p>I ecounter the problems described in issue  <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"133111577\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1066\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1066/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1066\">#1066</a>. I solved it using the solution described by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5220533\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/chrisburr\">@chrisburr</a>: <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1400254\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drufat\">@drufat</a> I ran into a similar issue when compiling on Arch and found the solution in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"137662453\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1346\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1346/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1346\">#1346</a>. I'm unsure if -D__STRICT_ANSI__ is actually required but the following patch worked for me:</p>\n<p>diff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL<br>\nindex dfde7cd..15fa9fd 100644<br>\n--- a/third_party/gpus/crosstool/CROSSTOOL<br>\n+++ b/third_party/gpus/crosstool/CROSSTOOL<br>\n@@ -46,6 +46,9 @@ toolchain {</p>\n<h1>Use \"-std=c++11\" for nvcc. For consistency, force both the host compiler</h1>\n<h1>and the device compiler to use \"-std=c++11\".</h1>\n<p>cxx_flag: \"-std=c++11\"</p>\n<ul>\n<li>cxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"</li>\n<li>cxx_flag: \"-D_FORCE_INLINES\"</li>\n<li>cxx_flag: \"-D__STRICT_ANSI__\"<br>\nlinker_flag: \"-lstdc++\"<br>\nlinker_flag: \"-B/usr/bin/\"</li>\n</ul>\n<p>Next, I got the issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"125048279\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/698\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/698/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/698\">#698</a>.</p>\n<p>Solved it by compiling with --genrule_strategy=standalone --spawn_strategy=standalone, as suggested by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3721087\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/damienmg\">@damienmg</a></p>", "body_text": "Hello,\nI get the following errors when compiling:\n____[110 / 2,641] Compiling external/png_archive/libpng-1.2.53/pngerror.c\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\nutil::Status CreatePublicError(util::error::Code code,\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\nutil::Status CreatePublicError(util::error::Code code,\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\nutil::Status CreatePublicError(util::error::Code code,\n== )  // Compilation error with CHECK_EQ(NULL, x)?\n== )  // Compilation error with CHECK_EQ(NULL, x)?\nERROR: /home/user/Downloads/tensorflow/tensorflow/stream_executor/BUILD:5:1: C++ compilation of rule '//tensorflow/stream_executor:stream_executor' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command\ntensorflow/stream_executor/cuda/cuda_dnn.cc:266:10: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:284:10: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:942:7: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:947:4: error: no matching function for call to 'std::vector::assign()'\ntensorflow/stream_executor/cuda/cuda_dnn.cc:958:7: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:963:4: error: no matching function for call to 'std::vector::assign()'\ntensorflow/stream_executor/cuda/cuda_dnn.cc:166:39: error: too many arguments to function\nComplete log of build: http://pastebin.com/NzpiwmGm\nThe compilation command that I am using is:\nbazel build --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer >& build.log &\nMy systems information is as follows\nEnvironment info\nOperating System:\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.1 LTS\nRelease:    16.04\nCodename:   xenial\nInstalled version of CUDA and cuDNN:\n/usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.0\nIf installed from source, provide\n\nThe commit hash: bf31051\nThe output of bazel version\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n\nI installed cudatoolkit, and cudann following this instructions:\n\nsudoapt-get install nvidia-cuda-toolkit\nsudo apt-get install nvidia-cuda-361-updates\nsudo apt-get install nvidia-nsight\nsudo apt-get install nvidia-profiler\nsudo apt-get install libcupti-dev zlib1g-dev\nPut symlinks in /usr/local/cuda\nsudo mkdir /usr/local/cuda\ncd /usr/local/cuda\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64\nsudo ln -s  /usr/include/ include\nsudo ln -s  /usr/bin/ bin\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ nvvm\nsudo mkdir -p extras/CUPTI\ncd extras/CUPTI\nsudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64\nsudo ln -s  /usr/include/ include\nInstall cudann\nhttp://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\nDownload cudann as detailed above and extract\ncd ~/Downloads/cuda\nsudo cp include/cudnn.h /usr/include\nsudo cp lib64/libcudnn* /usr/lib/x86_64-linux-gnu/\nsudo chmod a+r /usr/lib/x86_64-linux-gnu/libcudnn*\n... Install TensorFlow from source ...\n\ninstruction found at  https://devtalk.nvidia.com/default/topic/936212/cuda-setup-and-installation/tensorflow-cannot-find-cudnn-ubuntu-16-04-cuda7-5-/post/4880549/#4880549\nI ecounter the problems described in issue  #1066. I solved it using the solution described by @chrisburr: @drufat I ran into a similar issue when compiling on Arch and found the solution in #1346. I'm unsure if -D__STRICT_ANSI__ is actually required but the following patch worked for me:\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL\nindex dfde7cd..15fa9fd 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL\n+++ b/third_party/gpus/crosstool/CROSSTOOL\n@@ -46,6 +46,9 @@ toolchain {\nUse \"-std=c++11\" for nvcc. For consistency, force both the host compiler\nand the device compiler to use \"-std=c++11\".\ncxx_flag: \"-std=c++11\"\n\ncxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"\ncxx_flag: \"-D_FORCE_INLINES\"\ncxx_flag: \"-D__STRICT_ANSI__\"\nlinker_flag: \"-lstdc++\"\nlinker_flag: \"-B/usr/bin/\"\n\nNext, I got the issue #698.\nSolved it by compiling with --genrule_strategy=standalone --spawn_strategy=standalone, as suggested by @damienmg", "body": "Hello,\n\nI get the following errors when compiling:\n\n____[110 / 2,641] Compiling external/png_archive/libpng-1.2.53/pngerror.c\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\n util::Status CreatePublicError(util::error::Code code,\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\n util::Status CreatePublicError(util::error::Code code,\nexternal/protobuf/src/google/protobuf/util/internal/field_mask_utility.cc:47:14: warning: 'google::protobuf::util::Status google::protobuf::util::converter::{anonymous}::CreatePublicError(google::protobuf::util::error::Code, const string&)' defined but not used [-Wunused-function]\n util::Status CreatePublicError(util::error::Code code,\n                         == )  // Compilation error with CHECK_EQ(NULL, x)?\n                         == )  // Compilation error with CHECK_EQ(NULL, x)?\nERROR: /home/user/Downloads/tensorflow/tensorflow/stream_executor/BUILD:5:1: C++ compilation of rule '//tensorflow/stream_executor:stream_executor' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \ntensorflow/stream_executor/cuda/cuda_dnn.cc:266:10: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:284:10: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:942:7: error: 'CUDNN_CONVOLUTION_FWD_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:947:4: error: no matching function for call to 'std::vector<long long int>::assign(<brace-enclosed initializer list>)'\ntensorflow/stream_executor/cuda/cuda_dnn.cc:958:7: error: 'CUDNN_CONVOLUTION_BWD_DATA_ALGO_FFT_TILING' was not declared in this scope\ntensorflow/stream_executor/cuda/cuda_dnn.cc:963:4: error: no matching function for call to 'std::vector<long long int>::assign(<brace-enclosed initializer list>)'\ntensorflow/stream_executor/cuda/cuda_dnn.cc:166:39: error: too many arguments to function\n\nComplete log of build: http://pastebin.com/NzpiwmGm\n\nThe compilation command that I am using is:\nbazel build --verbose_failures --genrule_strategy=standalone --spawn_strategy=standalone -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer >& build.log &\n\nMy systems information is as follows\n### Environment info\n\nOperating System:\nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.1 LTS\nRelease:    16.04\nCodename:   xenial\n\nInstalled version of CUDA and cuDNN:\n/usr/lib/x86_64-linux-gnu/libcudart.so.7.5.18\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.0\n\nIf installed from source, provide \n1. The commit hash: bf31051225ce53c1c88fd45ee117a49645153770\n2. The output of `bazel version`\n   Build time: Thu Jan 01 00:00:00 1970 (0)\n   Build timestamp: Thu Jan 01 00:00:00 1970 (0)\n   Build timestamp as int: 0\n\nI installed cudatoolkit, and cudann following this instructions:\n\n> sudoapt-get install nvidia-cuda-toolkit\n> sudo apt-get install nvidia-cuda-361-updates\n> sudo apt-get install nvidia-nsight\n> sudo apt-get install nvidia-profiler\n> sudo apt-get install libcupti-dev zlib1g-dev\n> # Put symlinks in /usr/local/cuda\n> \n> sudo mkdir /usr/local/cuda\n> cd /usr/local/cuda\n> sudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64\n> sudo ln -s  /usr/include/ include\n> sudo ln -s  /usr/bin/ bin\n> sudo ln -s  /usr/lib/x86_64-linux-gnu/ nvvm\n> sudo mkdir -p extras/CUPTI\n> cd extras/CUPTI\n> sudo ln -s  /usr/lib/x86_64-linux-gnu/ lib64\n> sudo ln -s  /usr/include/ include\n> # Install cudann\n> # http://askubuntu.com/questions/767269/how-can-i-install-cudnn-on-ubuntu-16-04\n> # Download cudann as detailed above and extract\n> \n> cd ~/Downloads/cuda\n> sudo cp include/cudnn.h /usr/include\n> sudo cp lib64/libcudnn\\* /usr/lib/x86_64-linux-gnu/\n> sudo chmod a+r /usr/lib/x86_64-linux-gnu/libcudnn*\n> # ... Install TensorFlow from source ...\n\ninstruction found at  https://devtalk.nvidia.com/default/topic/936212/cuda-setup-and-installation/tensorflow-cannot-find-cudnn-ubuntu-16-04-cuda7-5-/post/4880549/#4880549\n\nI ecounter the problems described in issue  #1066. I solved it using the solution described by @chrisburr: @drufat I ran into a similar issue when compiling on Arch and found the solution in #1346. I'm unsure if -D__STRICT_ANSI__ is actually required but the following patch worked for me:\n\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL\nindex dfde7cd..15fa9fd 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL\n+++ b/third_party/gpus/crosstool/CROSSTOOL\n@@ -46,6 +46,9 @@ toolchain {\n   # Use \"-std=c++11\" for nvcc. For consistency, force both the host compiler\n   # and the device compiler to use \"-std=c++11\".\n   cxx_flag: \"-std=c++11\"\n-  cxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"\n-  cxx_flag: \"-D_FORCE_INLINES\"\n-  cxx_flag: \"-D__STRICT_ANSI__\"\n  linker_flag: \"-lstdc++\"\n  linker_flag: \"-B/usr/bin/\"\n\nNext, I got the issue #698.\n\nSolved it by compiling with --genrule_strategy=standalone --spawn_strategy=standalone, as suggested by @damienmg \n"}