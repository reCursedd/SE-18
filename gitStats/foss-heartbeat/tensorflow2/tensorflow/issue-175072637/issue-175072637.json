{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4206", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4206/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4206/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4206/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4206", "id": 175072637, "node_id": "MDU6SXNzdWUxNzUwNzI2Mzc=", "number": 4206, "title": "transient error:  Enqueue operation was cancelled", "user": {"login": "titusnicolae", "id": 520767, "node_id": "MDQ6VXNlcjUyMDc2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/520767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/titusnicolae", "html_url": "https://github.com/titusnicolae", "followers_url": "https://api.github.com/users/titusnicolae/followers", "following_url": "https://api.github.com/users/titusnicolae/following{/other_user}", "gists_url": "https://api.github.com/users/titusnicolae/gists{/gist_id}", "starred_url": "https://api.github.com/users/titusnicolae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/titusnicolae/subscriptions", "organizations_url": "https://api.github.com/users/titusnicolae/orgs", "repos_url": "https://api.github.com/users/titusnicolae/repos", "events_url": "https://api.github.com/users/titusnicolae/events{/privacy}", "received_events_url": "https://api.github.com/users/titusnicolae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-05T13:33:27Z", "updated_at": "2017-06-16T17:40:29Z", "closed_at": "2017-06-16T17:40:29Z", "author_association": "NONE", "body_html": "<p><a href=\"http://stackoverflow.com/questions/38678371/tensorflow-enqueue-operation-was-cancelled\" rel=\"nofollow\">Related issue</a> seems to still hapen in 0.10rc0<br>\nOperating System: Ubuntu 15.04<br>\nInstalled version of CUDA and cuDNN: CUDA 7.5, cuDNN 4<br>\noutput of <code>ls -l /path/to/cuda/lib/libcud*</code>:</p>\n<pre><code>-rw-r--r-- 1 root root   322936 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so -&gt; libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5 -&gt; libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart_static.a\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4.0.7\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 62025862 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn_static.a\n</code></pre>\n<p>Installed tensorflow 0.10 with GPU, for python 2.7 in virtualenv with pip<br>\n<a href=\"https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl</a><br>\n0.10.0rc0</p>\n<p><a href=\"https://github.com/titusnicolae/tf-issue/commit/7c13aa79550b6c89701fcc5e3ebf1c46effd0c6f\">Here's a repo with a self contained reproducible example</a><br>\ntfwriter.py creates the range.tfrecord file with numbers from 0 to 9 as TFRecords<br>\nWhen running tfreader.py I get one of the following outputs:</p>\n<pre><code>I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n</code></pre>\n<p>or</p>\n<pre><code>I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\nE tensorflow/core/client/tensor_c_api.cc:485] FIFOQueue '_0_input_producer' is closed.\n     [[Node: input_producer/input_producer_EnqueueMany = QueueEnqueueMany[Tcomponents=[DT_STRING], _class=[\"loc:@input_producer\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer, input_producer/RandomShuffle)]]\n</code></pre>", "body_text": "Related issue seems to still hapen in 0.10rc0\nOperating System: Ubuntu 15.04\nInstalled version of CUDA and cuDNN: CUDA 7.5, cuDNN 4\noutput of ls -l /path/to/cuda/lib/libcud*:\n-rw-r--r-- 1 root root   322936 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart_static.a\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4.0.7\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 62025862 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn_static.a\n\nInstalled tensorflow 0.10 with GPU, for python 2.7 in virtualenv with pip\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\n0.10.0rc0\nHere's a repo with a self contained reproducible example\ntfwriter.py creates the range.tfrecord file with numbers from 0 to 9 as TFRecords\nWhen running tfreader.py I get one of the following outputs:\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n\nor\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\nE tensorflow/core/client/tensor_c_api.cc:485] FIFOQueue '_0_input_producer' is closed.\n     [[Node: input_producer/input_producer_EnqueueMany = QueueEnqueueMany[Tcomponents=[DT_STRING], _class=[\"loc:@input_producer\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer, input_producer/RandomShuffle)]]", "body": "[Related issue](http://stackoverflow.com/questions/38678371/tensorflow-enqueue-operation-was-cancelled) seems to still hapen in 0.10rc0\nOperating System: Ubuntu 15.04\nInstalled version of CUDA and cuDNN: CUDA 7.5, cuDNN 4\noutput of `ls -l /path/to/cuda/lib/libcud*`:\n\n```\n-rw-r--r-- 1 root root   322936 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 iul  5 16:00 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudart_static.a\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4\n-rwxr-xr-x 1 root root 61453024 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.4.0.7\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5\n-rwxr-xr-x 1 root root 59909104 iul  5 16:01 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn.so.5.0.5\n-rw-r--r-- 1 root root 62025862 iul  5 16:09 /usr/local/cuda-7.5-cuddn4/targets/x86_64-linux/lib/libcudnn_static.a\n```\n\nInstalled tensorflow 0.10 with GPU, for python 2.7 in virtualenv with pip\nhttps://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\n0.10.0rc0\n\n[Here's a repo with a self contained reproducible example](https://github.com/titusnicolae/tf-issue/commit/7c13aa79550b6c89701fcc5e3ebf1c46effd0c6f)\ntfwriter.py creates the range.tfrecord file with numbers from 0 to 9 as TFRecords\nWhen running tfreader.py I get one of the following outputs:\n\n```\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n```\n\nor\n\n```\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally\nI tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:925] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \nname: GeForce GTX 980 Ti\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.2405\npciBusID 0000:01:00.0\nTotal memory: 6.00GiB\nFree memory: 5.46GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:839] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 980 Ti, pci bus id: 0000:01:00.0)\n(0, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(1, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(2, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(3, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(4, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(5, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(6, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(7, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(8, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(9, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\n(10, ['range.tfrecord:0', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x00'])\n(11, ['range.tfrecord:32', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x01'])\n(12, ['range.tfrecord:64', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x02'])\n(13, ['range.tfrecord:96', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x03'])\n(14, ['range.tfrecord:128', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x04'])\n(15, ['range.tfrecord:160', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x05'])\n(16, ['range.tfrecord:192', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x06'])\n(17, ['range.tfrecord:224', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x07'])\n(18, ['range.tfrecord:256', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\x08'])\n(19, ['range.tfrecord:288', '\\n\\x0e\\n\\x0c\\n\\x03int\\x12\\x05\\x1a\\x03\\n\\x01\\t'])\nE tensorflow/core/client/tensor_c_api.cc:485] FIFOQueue '_0_input_producer' is closed.\n     [[Node: input_producer/input_producer_EnqueueMany = QueueEnqueueMany[Tcomponents=[DT_STRING], _class=[\"loc:@input_producer\"], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input_producer, input_producer/RandomShuffle)]]\n```\n"}