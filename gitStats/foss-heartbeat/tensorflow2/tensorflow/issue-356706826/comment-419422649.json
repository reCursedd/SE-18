{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/419422649", "html_url": "https://github.com/tensorflow/tensorflow/issues/22048#issuecomment-419422649", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22048", "id": 419422649, "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTQyMjY0OQ==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-07T12:22:00Z", "updated_at": "2018-09-07T12:22:00Z", "author_association": "MEMBER", "body_html": "<div class=\"highlight highlight-source-python\"><pre>In [<span class=\"pl-c1\">20</span>]: a <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">1.0</span>)\nIn [<span class=\"pl-c1\">21</span>]: b <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">2.0</span>)\nIn [<span class=\"pl-c1\">22</span>]: c <span class=\"pl-k\">=</span> tf.maximum(a, b)\nIn [<span class=\"pl-c1\">23</span>]: sess.run(tf.gradients(c, [a, b]))\nOut[<span class=\"pl-c1\">23</span>]: [<span class=\"pl-c1\">0.0</span>, <span class=\"pl-c1\">1.0</span>]</pre></div>\n<p>Because tf.maximum cannot block the gradient propagation for the smaller value (note that gradient w..rt. a is 0.0, rather than None), I have no idea of how to solve the problem. Let's wait for reply from <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5061\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alextp\">@alextp</a> .</p>", "body_text": "In [20]: a = tf.constant(1.0)\nIn [21]: b = tf.constant(2.0)\nIn [22]: c = tf.maximum(a, b)\nIn [23]: sess.run(tf.gradients(c, [a, b]))\nOut[23]: [0.0, 1.0]\nBecause tf.maximum cannot block the gradient propagation for the smaller value (note that gradient w..rt. a is 0.0, rather than None), I have no idea of how to solve the problem. Let's wait for reply from @alextp .", "body": "```python\r\nIn [20]: a = tf.constant(1.0)\r\nIn [21]: b = tf.constant(2.0)\r\nIn [22]: c = tf.maximum(a, b)\r\nIn [23]: sess.run(tf.gradients(c, [a, b]))\r\nOut[23]: [0.0, 1.0]\r\n```\r\n\r\nBecause tf.maximum cannot block the gradient propagation for the smaller value (note that gradient w..rt. a is 0.0, rather than None), I have no idea of how to solve the problem. Let's wait for reply from @alextp ."}