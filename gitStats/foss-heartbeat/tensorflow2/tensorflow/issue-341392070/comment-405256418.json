{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405256418", "html_url": "https://github.com/tensorflow/tensorflow/issues/20827#issuecomment-405256418", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20827", "id": 405256418, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTI1NjQxOA==", "user": {"login": "Sirplentifus", "id": 6922876, "node_id": "MDQ6VXNlcjY5MjI4NzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6922876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sirplentifus", "html_url": "https://github.com/Sirplentifus", "followers_url": "https://api.github.com/users/Sirplentifus/followers", "following_url": "https://api.github.com/users/Sirplentifus/following{/other_user}", "gists_url": "https://api.github.com/users/Sirplentifus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sirplentifus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sirplentifus/subscriptions", "organizations_url": "https://api.github.com/users/Sirplentifus/orgs", "repos_url": "https://api.github.com/users/Sirplentifus/repos", "events_url": "https://api.github.com/users/Sirplentifus/events{/privacy}", "received_events_url": "https://api.github.com/users/Sirplentifus/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-16T13:58:31Z", "updated_at": "2018-07-16T14:06:20Z", "author_association": "NONE", "body_html": "<p>I have this exact same issue.<br>\nEverything skeydan has said, occurs in my system (Linux Ubuntu 18.04).</p>\n<p>Strangely (for me at least) compiling and running model.fit again after this error works:</p>\n<pre><code>#Following instructions on https://www.tensorflow.org/guide/keras\n\nimport tensorflow as tf\nfrom tensorflow import keras\nimport numpy as np\n\nmodel = keras.Sequential()\n# Adds a densely-connected layer with 64 units to the model:\nmodel.add(keras.layers.Dense(64, activation='relu'))\n# Add another:\nmodel.add(keras.layers.Dense(64, activation='relu'))\n# Add a softmax layer with 10 output units:\nmodel.add(keras.layers.Dense(10, activation='softmax'))\n\nmodel.compile(optimizer=tf.train.AdamOptimizer(0.001),\n              loss='categorical_crossentropy',\n              metrics=['accuracy'])\n\n\ndata = np.random.random((1000, 32))\nlabels = np.random.random((1000, 10))\n\nval_data = np.random.random((100, 32))\nval_labels = np.random.random((100, 10))\n\n#model.fit(data, labels, epochs=10, batch_size=32)\n\n# Instantiates a toy dataset instance:\ndataset = tf.data.Dataset.from_tensor_slices((data, labels))\ndataset = dataset.batch(32)\ndataset = dataset.repeat()\n\n# Don't forget to specify `steps_per_epoch` when calling `fit` on a dataset.\ntry:\n    model.fit(dataset, epochs=10, steps_per_epoch=30)\nexcept:\n    print(\"Error - repeating\")\n\n    model.compile(optimizer=tf.train.AdamOptimizer(0.001),\n                  loss='categorical_crossentropy',\n                  metrics=['accuracy'])\n\n    model.fit(dataset, epochs=10, steps_per_epoch=30)\n</code></pre>", "body_text": "I have this exact same issue.\nEverything skeydan has said, occurs in my system (Linux Ubuntu 18.04).\nStrangely (for me at least) compiling and running model.fit again after this error works:\n#Following instructions on https://www.tensorflow.org/guide/keras\n\nimport tensorflow as tf\nfrom tensorflow import keras\nimport numpy as np\n\nmodel = keras.Sequential()\n# Adds a densely-connected layer with 64 units to the model:\nmodel.add(keras.layers.Dense(64, activation='relu'))\n# Add another:\nmodel.add(keras.layers.Dense(64, activation='relu'))\n# Add a softmax layer with 10 output units:\nmodel.add(keras.layers.Dense(10, activation='softmax'))\n\nmodel.compile(optimizer=tf.train.AdamOptimizer(0.001),\n              loss='categorical_crossentropy',\n              metrics=['accuracy'])\n\n\ndata = np.random.random((1000, 32))\nlabels = np.random.random((1000, 10))\n\nval_data = np.random.random((100, 32))\nval_labels = np.random.random((100, 10))\n\n#model.fit(data, labels, epochs=10, batch_size=32)\n\n# Instantiates a toy dataset instance:\ndataset = tf.data.Dataset.from_tensor_slices((data, labels))\ndataset = dataset.batch(32)\ndataset = dataset.repeat()\n\n# Don't forget to specify `steps_per_epoch` when calling `fit` on a dataset.\ntry:\n    model.fit(dataset, epochs=10, steps_per_epoch=30)\nexcept:\n    print(\"Error - repeating\")\n\n    model.compile(optimizer=tf.train.AdamOptimizer(0.001),\n                  loss='categorical_crossentropy',\n                  metrics=['accuracy'])\n\n    model.fit(dataset, epochs=10, steps_per_epoch=30)", "body": "I have this exact same issue.\r\nEverything skeydan has said, occurs in my system (Linux Ubuntu 18.04). \r\n\r\nStrangely (for me at least) compiling and running model.fit again after this error works:\r\n```\r\n#Following instructions on https://www.tensorflow.org/guide/keras\r\n\r\nimport tensorflow as tf\r\nfrom tensorflow import keras\r\nimport numpy as np\r\n\r\nmodel = keras.Sequential()\r\n# Adds a densely-connected layer with 64 units to the model:\r\nmodel.add(keras.layers.Dense(64, activation='relu'))\r\n# Add another:\r\nmodel.add(keras.layers.Dense(64, activation='relu'))\r\n# Add a softmax layer with 10 output units:\r\nmodel.add(keras.layers.Dense(10, activation='softmax'))\r\n\r\nmodel.compile(optimizer=tf.train.AdamOptimizer(0.001),\r\n              loss='categorical_crossentropy',\r\n              metrics=['accuracy'])\r\n\r\n\r\ndata = np.random.random((1000, 32))\r\nlabels = np.random.random((1000, 10))\r\n\r\nval_data = np.random.random((100, 32))\r\nval_labels = np.random.random((100, 10))\r\n\r\n#model.fit(data, labels, epochs=10, batch_size=32)\r\n\r\n# Instantiates a toy dataset instance:\r\ndataset = tf.data.Dataset.from_tensor_slices((data, labels))\r\ndataset = dataset.batch(32)\r\ndataset = dataset.repeat()\r\n\r\n# Don't forget to specify `steps_per_epoch` when calling `fit` on a dataset.\r\ntry:\r\n    model.fit(dataset, epochs=10, steps_per_epoch=30)\r\nexcept:\r\n    print(\"Error - repeating\")\r\n\r\n    model.compile(optimizer=tf.train.AdamOptimizer(0.001),\r\n                  loss='categorical_crossentropy',\r\n                  metrics=['accuracy'])\r\n\r\n    model.fit(dataset, epochs=10, steps_per_epoch=30)\r\n```"}