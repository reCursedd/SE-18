{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311993141", "html_url": "https://github.com/tensorflow/tensorflow/pull/11140#issuecomment-311993141", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11140", "id": 311993141, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTk5MzE0MQ==", "user": {"login": "girving", "id": 70511, "node_id": "MDQ6VXNlcjcwNTEx", "avatar_url": "https://avatars1.githubusercontent.com/u/70511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/girving", "html_url": "https://github.com/girving", "followers_url": "https://api.github.com/users/girving/followers", "following_url": "https://api.github.com/users/girving/following{/other_user}", "gists_url": "https://api.github.com/users/girving/gists{/gist_id}", "starred_url": "https://api.github.com/users/girving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/girving/subscriptions", "organizations_url": "https://api.github.com/users/girving/orgs", "repos_url": "https://api.github.com/users/girving/repos", "events_url": "https://api.github.com/users/girving/events{/privacy}", "received_events_url": "https://api.github.com/users/girving/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-29T14:57:44Z", "updated_at": "2017-06-29T14:57:44Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think the <code>SliceSimple</code> problem is that you are declaring instantiations for <code>Slice</code> in a file that defines <code>SliceSimple</code>.  But the place that uses <code>Slice</code> doesn't know that you've already instantiated it, so it instantiates it again (wasting code).  And the file that declares <code>SliceSimple</code> doesn't know that <code>SliceSimple</code> needs to be used outside of that file, so it does a locally visible instantiation (or perhaps inlines everything.</p>\n<p>Bottom line: You should declare instantiations of stuff you define in that file, not other stuff.</p>", "body_text": "I think the SliceSimple problem is that you are declaring instantiations for Slice in a file that defines SliceSimple.  But the place that uses Slice doesn't know that you've already instantiated it, so it instantiates it again (wasting code).  And the file that declares SliceSimple doesn't know that SliceSimple needs to be used outside of that file, so it does a locally visible instantiation (or perhaps inlines everything.\nBottom line: You should declare instantiations of stuff you define in that file, not other stuff.", "body": "I think the `SliceSimple` problem is that you are declaring instantiations for `Slice` in a file that defines `SliceSimple`.  But the place that uses `Slice` doesn't know that you've already instantiated it, so it instantiates it again (wasting code).  And the file that declares `SliceSimple` doesn't know that `SliceSimple` needs to be used outside of that file, so it does a locally visible instantiation (or perhaps inlines everything.\r\n\r\nBottom line: You should declare instantiations of stuff you define in that file, not other stuff."}