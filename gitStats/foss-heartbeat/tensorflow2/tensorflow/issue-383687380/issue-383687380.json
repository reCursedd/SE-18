{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23932", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23932/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23932/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23932/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23932", "id": 383687380, "node_id": "MDU6SXNzdWUzODM2ODczODA=", "number": 23932, "title": "lite.TFLiteConverter.from_session not supported constant shape placeholder as input", "user": {"login": "jason9693", "id": 11185336, "node_id": "MDQ6VXNlcjExMTg1MzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/11185336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jason9693", "html_url": "https://github.com/jason9693", "followers_url": "https://api.github.com/users/jason9693/followers", "following_url": "https://api.github.com/users/jason9693/following{/other_user}", "gists_url": "https://api.github.com/users/jason9693/gists{/gist_id}", "starred_url": "https://api.github.com/users/jason9693/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jason9693/subscriptions", "organizations_url": "https://api.github.com/users/jason9693/orgs", "repos_url": "https://api.github.com/users/jason9693/repos", "events_url": "https://api.github.com/users/jason9693/events{/privacy}", "received_events_url": "https://api.github.com/users/jason9693/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-23T02:22:54Z", "updated_at": "2018-11-23T02:29:38Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><em>Please make sure that this is a bug. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em></p>\n<p>System information</p>\n<ul>\n<li>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nYes</li>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nMac</li>\n<li>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:</li>\n<li>TensorFlow installed from (source or binary):<br>\nbinary</li>\n<li>TensorFlow version (use command below):<br>\n1.12.0</li>\n<li>Python version:<br>\nPython 3.6.5 :: Anaconda, Inc.</li>\n<li>Bazel version (if compiling from source):</li>\n<li>GCC/Compiler version (if compiling from source):</li>\n<li>CUDA/cuDNN version:<br>\nN/A</li>\n<li>GPU model and memory:<br>\nN/A</li>\n</ul>\n<p>You can collect some of this information using our environment capture <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\">script</a><br>\nYou can also obtain the TensorFlow version with<br>\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"</p>\n<p><strong>Describe the current behavior</strong><br>\nWhen I tried to convert scalar shape placeholder tensor( shape = () ) as an input, converter triggers \"IndexError: list index( shape list idx ) out of range\"</p>\n<p><strong>Describe the expected behavior</strong><br>\nI think converter should be support scalar shape placeholder, because TF users usually need scalar shape placeholder when they set dynamic params (hyper params, dropout, ect...) in neural network.</p>\n<p><strong>Code to reproduce the issue</strong><br>\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.</p>\n<hr>\n<p>import tensorflow as tf<br>\nimport tensorflow.contrib.lite as lite</p>\n<p>scalar_input = tf.placeholder(shape=(), name='input', dtype=tf.float32)<br>\nb = tf.constant(1.0)<br>\nval = scalar_input + b<br>\nout = tf.identity(val, name=\"out\")</p>\n<p>with tf.Session() as sess:<br>\nconverter = lite.TFLiteConverter.from_session(sess, [scalar_input], [out])<br>\ntflite_model = converter.convert()<br>\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)</p>\n<hr>\n<p><strong>Other info / logs</strong><br>\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.</p>", "body_text": "Please make sure that this is a bug. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nYes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nMac\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nTensorFlow installed from (source or binary):\nbinary\nTensorFlow version (use command below):\n1.12.0\nPython version:\nPython 3.6.5 :: Anaconda, Inc.\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\nN/A\nGPU model and memory:\nN/A\n\nYou can collect some of this information using our environment capture script\nYou can also obtain the TensorFlow version with\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\nDescribe the current behavior\nWhen I tried to convert scalar shape placeholder tensor( shape = () ) as an input, converter triggers \"IndexError: list index( shape list idx ) out of range\"\nDescribe the expected behavior\nI think converter should be support scalar shape placeholder, because TF users usually need scalar shape placeholder when they set dynamic params (hyper params, dropout, ect...) in neural network.\nCode to reproduce the issue\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\n\nimport tensorflow as tf\nimport tensorflow.contrib.lite as lite\nscalar_input = tf.placeholder(shape=(), name='input', dtype=tf.float32)\nb = tf.constant(1.0)\nval = scalar_input + b\nout = tf.identity(val, name=\"out\")\nwith tf.Session() as sess:\nconverter = lite.TFLiteConverter.from_session(sess, [scalar_input], [out])\ntflite_model = converter.convert()\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)\n\nOther info / logs\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\nSystem information\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nYes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nMac\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\nbinary\r\n- TensorFlow version (use command below):\r\n1.12.0\r\n- Python version:\r\nPython 3.6.5 :: Anaconda, Inc.\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\nN/A\r\n- GPU model and memory:\r\nN/A\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nWhen I tried to convert scalar shape placeholder tensor( shape = () ) as an input, converter triggers \"IndexError: list index( shape list idx ) out of range\"\r\n\r\n**Describe the expected behavior**\r\nI think converter should be support scalar shape placeholder, because TF users usually need scalar shape placeholder when they set dynamic params (hyper params, dropout, ect...) in neural network.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n--------------------------------------\r\n import tensorflow as tf\r\n import tensorflow.contrib.lite as lite\r\n\r\n scalar_input = tf.placeholder(shape=(), name='input', dtype=tf.float32)\r\n b = tf.constant(1.0)\r\n val = scalar_input + b\r\n out = tf.identity(val, name=\"out\")\r\n\r\n with tf.Session() as sess:\r\n     converter = lite.TFLiteConverter.from_session(sess, [scalar_input], [out])\r\n     tflite_model = converter.convert()\r\n     open(\"converted_model.tflite\", \"wb\").write(tflite_model)\r\n\r\n---------------------------------------\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}