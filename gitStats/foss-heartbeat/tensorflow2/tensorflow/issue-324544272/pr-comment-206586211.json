{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206586211", "pull_request_review_id": 142026119, "id": 206586211, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjU4NjIxMQ==", "diff_hunk": "@@ -1330,8 +1706,10 @@ class MklFusedBatchNormGradOp : public OpKernel {\n     dnn_shape_diff_src.SetMklTensor(false);\n     AllocateOutputSetMklShape(context, kDiffSrcIndex, diff_src_tensor,\n                               tf_shape_src, dnn_shape_diff_src);\n-    for (size_t i = 0; i < (*diff_src_tensor)->shape().num_elements(); i++)\n-      (*diff_src_tensor)->flat<T>().data()[i] = 0;\n+    int num_elements = (*diff_src_tensor)->shape().num_elements();\n+    auto diff_src_data = (*diff_src_tensor)->flat<T>().data();\n+    for (size_t i = 0; i < num_elements; i++)", "path": "tensorflow/core/kernels/mkl_fused_batch_norm_op.cc", "position": null, "original_position": 1075, "commit_id": "8e2f587b95cda1f67deaa4ae315c7540444919f5", "original_commit_id": "abfc8525faee0c0587f454ccd928674c1538bb6f", "user": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "body": "I would use std::fill instead of a loop. Same everywhere.", "created_at": "2018-07-31T15:57:20Z", "updated_at": "2018-07-31T20:58:00Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/19402#discussion_r206586211", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/19402", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/206586211"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/19402#discussion_r206586211"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/19402"}}, "body_html": "<p>I would use std::fill instead of a loop. Same everywhere.</p>", "body_text": "I would use std::fill instead of a loop. Same everywhere."}