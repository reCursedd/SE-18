{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/279425091", "html_url": "https://github.com/tensorflow/tensorflow/pull/7466#issuecomment-279425091", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7466", "id": 279425091, "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTQyNTA5MQ==", "user": {"login": "llhe", "id": 192829, "node_id": "MDQ6VXNlcjE5MjgyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/192829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llhe", "html_url": "https://github.com/llhe", "followers_url": "https://api.github.com/users/llhe/followers", "following_url": "https://api.github.com/users/llhe/following{/other_user}", "gists_url": "https://api.github.com/users/llhe/gists{/gist_id}", "starred_url": "https://api.github.com/users/llhe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llhe/subscriptions", "organizations_url": "https://api.github.com/users/llhe/orgs", "repos_url": "https://api.github.com/users/llhe/repos", "events_url": "https://api.github.com/users/llhe/events{/privacy}", "received_events_url": "https://api.github.com/users/llhe/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-13T15:31:15Z", "updated_at": "2017-02-13T15:31:15Z", "author_association": "CONTRIBUTOR", "body_html": "<p>rpcbench_test results:</p>\n<ul>\n<li>without the grpc fix</li>\n</ul>\n<pre><code>BM_ShardedProgram/1/1         125990       5604\t3 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/3         515428       1000\t5 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/5         673779        987\t7 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/15       1366261        456\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/60       5010130        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/1        873925        837\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/3       3341377        212\t47 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/5       5391330        100\t77 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/1       1588803        437\t32 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/2       6168890        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/3      11095890        100\t92 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/5      20620620        100\t152 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/1       2921452        230\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/3      44074260        100\t182 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/5      83405230        100\t302 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/2                  6221740        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/1000               7289430        100\t62 nodes; Multi device; tensor bytes/send: 4000\nBM_RPC/30/100000            98748280        100\t62 nodes; Multi device; tensor bytes/send: 400000\nBM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\nBM_SingleDevice/1/1           106932       6345\t3 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/30/2          102905       5610\t62 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/60/5          150717       5097\t302 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/4/10000      9268440        100\t40002 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/1/1000000  448853650        100\t1000002 nodes; Single device; tensor bytes/send: 8\n</code></pre>\n<ul>\n<li>with the grpc fix</li>\n</ul>\n<pre><code>BM_ShardedProgram/1/1         105292       6073\t3 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/3         823504       1000\t5 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/5         698704        961\t7 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/15       1412678        460\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/60       5179623        146\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/1        960009        738\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/3       3826291        182\t47 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/5       6762430        100\t77 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/1       1621082        404\t32 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/2       7305350        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/3      16084080        100\t92 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/5      26449080        100\t152 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/1       3076433        208\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/3      55058800        100\t182 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/5     111056120        100\t302 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/2                  6928160        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/1000               8062080        100\t62 nodes; Multi device; tensor bytes/send: 4000\nBM_RPC/30/100000            95994550        100\t62 nodes; Multi device; tensor bytes/send: 400000\nBM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000\nBM_SingleDevice/1/1           112106       5918\t3 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/30/2          134409       4993\t62 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/60/5          154851       4168\t302 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/4/10000     13725570        100\t40002 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/1/1000000  446881410        100\t1000002 nodes; Single device; tensor bytes/send: 8\n</code></pre>\n<p>Actually this benchmark test looks quite noisy and unstable, just pay attention of this case (newly added in this patch):</p>\n<pre><code>BM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\n</code></pre>\n<pre><code>BM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000\n</code></pre>", "body_text": "rpcbench_test results:\n\nwithout the grpc fix\n\nBM_ShardedProgram/1/1         125990       5604\t3 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/3         515428       1000\t5 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/5         673779        987\t7 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/15       1366261        456\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/60       5010130        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/1        873925        837\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/3       3341377        212\t47 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/5       5391330        100\t77 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/1       1588803        437\t32 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/2       6168890        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/3      11095890        100\t92 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/5      20620620        100\t152 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/1       2921452        230\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/3      44074260        100\t182 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/5      83405230        100\t302 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/2                  6221740        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/1000               7289430        100\t62 nodes; Multi device; tensor bytes/send: 4000\nBM_RPC/30/100000            98748280        100\t62 nodes; Multi device; tensor bytes/send: 400000\nBM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\nBM_SingleDevice/1/1           106932       6345\t3 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/30/2          102905       5610\t62 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/60/5          150717       5097\t302 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/4/10000      9268440        100\t40002 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/1/1000000  448853650        100\t1000002 nodes; Single device; tensor bytes/send: 8\n\n\nwith the grpc fix\n\nBM_ShardedProgram/1/1         105292       6073\t3 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/3         823504       1000\t5 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/5         698704        961\t7 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/15       1412678        460\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/1/60       5179623        146\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/1        960009        738\t17 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/3       3826291        182\t47 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/15/5       6762430        100\t77 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/1       1621082        404\t32 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/2       7305350        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/3      16084080        100\t92 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/30/5      26449080        100\t152 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/1       3076433        208\t62 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/3      55058800        100\t182 nodes; Multi device; tensor bytes/send: 8\nBM_ShardedProgram/60/5     111056120        100\t302 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/2                  6928160        100\t62 nodes; Multi device; tensor bytes/send: 8\nBM_RPC/30/1000               8062080        100\t62 nodes; Multi device; tensor bytes/send: 4000\nBM_RPC/30/100000            95994550        100\t62 nodes; Multi device; tensor bytes/send: 400000\nBM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000\nBM_SingleDevice/1/1           112106       5918\t3 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/30/2          134409       4993\t62 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/60/5          154851       4168\t302 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/4/10000     13725570        100\t40002 nodes; Single device; tensor bytes/send: 8\nBM_SingleDevice/1/1000000  446881410        100\t1000002 nodes; Single device; tensor bytes/send: 8\n\nActually this benchmark test looks quite noisy and unstable, just pay attention of this case (newly added in this patch):\nBM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\n\nBM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000", "body": "rpcbench_test results:\r\n* without the grpc fix\r\n```\r\nBM_ShardedProgram/1/1         125990       5604\t3 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/3         515428       1000\t5 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/5         673779        987\t7 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/15       1366261        456\t17 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/60       5010130        100\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/1        873925        837\t17 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/3       3341377        212\t47 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/5       5391330        100\t77 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/1       1588803        437\t32 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/2       6168890        100\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/3      11095890        100\t92 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/5      20620620        100\t152 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/1       2921452        230\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/3      44074260        100\t182 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/5      83405230        100\t302 nodes; Multi device; tensor bytes/send: 8\r\nBM_RPC/30/2                  6221740        100\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_RPC/30/1000               7289430        100\t62 nodes; Multi device; tensor bytes/send: 4000\r\nBM_RPC/30/100000            98748280        100\t62 nodes; Multi device; tensor bytes/send: 400000\r\nBM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\r\nBM_SingleDevice/1/1           106932       6345\t3 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/30/2          102905       5610\t62 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/60/5          150717       5097\t302 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/4/10000      9268440        100\t40002 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/1/1000000  448853650        100\t1000002 nodes; Single device; tensor bytes/send: 8\r\n```\r\n* with the grpc fix\r\n```\r\nBM_ShardedProgram/1/1         105292       6073\t3 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/3         823504       1000\t5 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/5         698704        961\t7 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/15       1412678        460\t17 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/1/60       5179623        146\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/1        960009        738\t17 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/3       3826291        182\t47 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/15/5       6762430        100\t77 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/1       1621082        404\t32 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/2       7305350        100\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/3      16084080        100\t92 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/30/5      26449080        100\t152 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/1       3076433        208\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/3      55058800        100\t182 nodes; Multi device; tensor bytes/send: 8\r\nBM_ShardedProgram/60/5     111056120        100\t302 nodes; Multi device; tensor bytes/send: 8\r\nBM_RPC/30/2                  6928160        100\t62 nodes; Multi device; tensor bytes/send: 8\r\nBM_RPC/30/1000               8062080        100\t62 nodes; Multi device; tensor bytes/send: 4000\r\nBM_RPC/30/100000            95994550        100\t62 nodes; Multi device; tensor bytes/send: 400000\r\nBM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000\r\nBM_SingleDevice/1/1           112106       5918\t3 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/30/2          134409       4993\t62 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/60/5          154851       4168\t302 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/4/10000     13725570        100\t40002 nodes; Single device; tensor bytes/send: 8\r\nBM_SingleDevice/1/1000000  446881410        100\t1000002 nodes; Single device; tensor bytes/send: 8\r\n```\r\nActually this benchmark test looks quite noisy and unstable, just pay attention of this case (newly added in this patch):\r\n```\r\nBM_RPC/1/100000000        4321044180        100\t4 nodes; Multi device; tensor bytes/send: 400000000\r\n```\r\n```\r\nBM_RPC/1/100000000        1332521740        100\t4 nodes; Multi device; tensor bytes/send: 400000000\r\n```"}