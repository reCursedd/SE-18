{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/191936493", "pull_request_review_id": 124609406, "id": 191936493, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MTkzNjQ5Mw==", "diff_hunk": "@@ -317,9 +322,12 @@ tensorflow::Status ConvertCalibGraphToInferGraph(\n       tensorflow::GraphConstructorOptions(), graph_def, &graph));\n   //  get calib nodes\n   std::vector<tensorflow::Node*> calib_nodes;\n-  for (auto node : graph.op_nodes()) {\n+  std::vector<tensorflow::Node*> topo_order;\n+  tensorflow::GetPostOrder(graph, &topo_order);", "path": "tensorflow/contrib/tensorrt/convert/convert_graph.cc", "position": 125, "original_position": 117, "commit_id": "ecd9bce7fb411db7304c98a2a324ebe6fbe630e9", "original_commit_id": "898e646d0291d753e5092ff5e9c6ff70f5064c19", "user": {"login": "samikama", "id": 10539540, "node_id": "MDQ6VXNlcjEwNTM5NTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/10539540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samikama", "html_url": "https://github.com/samikama", "followers_url": "https://api.github.com/users/samikama/followers", "following_url": "https://api.github.com/users/samikama/following{/other_user}", "gists_url": "https://api.github.com/users/samikama/gists{/gist_id}", "starred_url": "https://api.github.com/users/samikama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samikama/subscriptions", "organizations_url": "https://api.github.com/users/samikama/orgs", "repos_url": "https://api.github.com/users/samikama/repos", "events_url": "https://api.github.com/users/samikama/events{/privacy}", "received_events_url": "https://api.github.com/users/samikama/received_events", "type": "User", "site_admin": false}, "body": "When we are inserting TRTEngine Ops, we are rewiring its input and outputs. If the destination of an output edge of the engine is absorbed in another engine, rewiring would not work since the output node is removed. By going in reverse topological order, we ensure that the edge is updated to point to appropriate port of the downstream TRTEngine.", "created_at": "2018-05-30T21:59:21Z", "updated_at": "2018-05-30T22:08:42Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/19652#discussion_r191936493", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/19652", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/191936493"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/19652#discussion_r191936493"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/19652"}}, "body_html": "<p>When we are inserting TRTEngine Ops, we are rewiring its input and outputs. If the destination of an output edge of the engine is absorbed in another engine, rewiring would not work since the output node is removed. By going in reverse topological order, we ensure that the edge is updated to point to appropriate port of the downstream TRTEngine.</p>", "body_text": "When we are inserting TRTEngine Ops, we are rewiring its input and outputs. If the destination of an output edge of the engine is absorbed in another engine, rewiring would not work since the output node is removed. By going in reverse topological order, we ensure that the edge is updated to point to appropriate port of the downstream TRTEngine.", "in_reply_to_id": 191926351}