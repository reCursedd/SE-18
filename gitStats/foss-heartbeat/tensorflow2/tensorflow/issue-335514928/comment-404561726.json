{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/404561726", "html_url": "https://github.com/tensorflow/tensorflow/pull/20284#issuecomment-404561726", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20284", "id": 404561726, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDU2MTcyNg==", "user": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-12T15:56:42Z", "updated_at": "2018-07-12T15:56:42Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49262\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jart\">@jart</a> your solution is nice because it avoids more ifs in the BUILD.</p>\n<p>Is there a way to do this type of thing without running a separate script? Maybe by putting the if in a single place, say tf_lib_dep? tf_http_archive_switchable_dep?</p>\n<p>The goal of this work is for people to be able to build TF with system lib, and I don't think they should have to use sed to do it. We <em>could</em> put this thing in ./configure and ask for the libs to swap out, but that breaks another requirement, that dependent projects should be able to build TF by passing things to bazel and just run bazel.</p>", "body_text": "@jart your solution is nice because it avoids more ifs in the BUILD.\nIs there a way to do this type of thing without running a separate script? Maybe by putting the if in a single place, say tf_lib_dep? tf_http_archive_switchable_dep?\nThe goal of this work is for people to be able to build TF with system lib, and I don't think they should have to use sed to do it. We could put this thing in ./configure and ask for the libs to swap out, but that breaks another requirement, that dependent projects should be able to build TF by passing things to bazel and just run bazel.", "body": "@jart your solution is nice because it avoids more ifs in the BUILD. \r\n\r\nIs there a way to do this type of thing without running a separate script? Maybe by putting the if in a single place, say tf_lib_dep? tf_http_archive_switchable_dep? \r\n\r\nThe goal of this work is for people to be able to build TF with system lib, and I don't think they should have to use sed to do it. We *could* put this thing in ./configure and ask for the libs to swap out, but that breaks another requirement, that dependent projects should be able to build TF by passing things to bazel and just run bazel.\r\n\r\n"}