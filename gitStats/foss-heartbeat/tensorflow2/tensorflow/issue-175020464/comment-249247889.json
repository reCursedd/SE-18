{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/249247889", "html_url": "https://github.com/tensorflow/tensorflow/issues/4200#issuecomment-249247889", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4200", "id": 249247889, "node_id": "MDEyOklzc3VlQ29tbWVudDI0OTI0Nzg4OQ==", "user": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-23T17:05:32Z", "updated_at": "2016-09-23T17:05:32Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=163333\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/loretoparisi\">@loretoparisi</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15974983\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gaurav5670\">@gaurav5670</a></p>\n<p>I believe this is the problem.  You've installed tensorflow from source in some location (say dir A), but you also have a default version of tensorflow installed under some other location (say dir B).  Then you run translate.py directly from the sources under A, but imports are being resolved from B.  Your sources under A are up-to-date, but the default installation under B has old code, which causes the failure.</p>\n<p>This line from each of your stacktraces is the reason for my suspicion:</p>\n<pre><code>File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n</code></pre>\n<p>So your default installation B is under <code>/usr/local/lib/python2.7/dist-packages/tensorflow/...</code>, which is different from where you installed your sources.</p>\n<p>To confirm, you can look at the following file.  I'm suspecting you'll see an old file, that doesn't include <code>dtype</code> in the <code>__init__</code> function.</p>\n<pre><code>/usr/local/lib/python2.7/dist-packages/tensorflow/models/rnn/translate/seq2seq_model.py\n</code></pre>\n<p>I am not a python expert, but I believe you can fix this via the PYTHONPATH environment variable.  Just set it to point at your sources (i.e. dir A), so that imports will be resolved via A instead of B.<br>\n<a href=\"https://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH\" rel=\"nofollow\">https://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH</a></p>\n<p>Let me know if that helps.</p>", "body_text": "@loretoparisi @gaurav5670\nI believe this is the problem.  You've installed tensorflow from source in some location (say dir A), but you also have a default version of tensorflow installed under some other location (say dir B).  Then you run translate.py directly from the sources under A, but imports are being resolved from B.  Your sources under A are up-to-date, but the default installation under B has old code, which causes the failure.\nThis line from each of your stacktraces is the reason for my suspicion:\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n\nSo your default installation B is under /usr/local/lib/python2.7/dist-packages/tensorflow/..., which is different from where you installed your sources.\nTo confirm, you can look at the following file.  I'm suspecting you'll see an old file, that doesn't include dtype in the __init__ function.\n/usr/local/lib/python2.7/dist-packages/tensorflow/models/rnn/translate/seq2seq_model.py\n\nI am not a python expert, but I believe you can fix this via the PYTHONPATH environment variable.  Just set it to point at your sources (i.e. dir A), so that imports will be resolved via A instead of B.\nhttps://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH\nLet me know if that helps.", "body": "@loretoparisi @gaurav5670\n\nI believe this is the problem.  You've installed tensorflow from source in some location (say dir A), but you also have a default version of tensorflow installed under some other location (say dir B).  Then you run translate.py directly from the sources under A, but imports are being resolved from B.  Your sources under A are up-to-date, but the default installation under B has old code, which causes the failure.\n\nThis line from each of your stacktraces is the reason for my suspicion:\n\n```\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n```\n\nSo your default installation B is under `/usr/local/lib/python2.7/dist-packages/tensorflow/...`, which is different from where you installed your sources.\n\nTo confirm, you can look at the following file.  I'm suspecting you'll see an old file, that doesn't include `dtype` in the `__init__` function.\n\n```\n/usr/local/lib/python2.7/dist-packages/tensorflow/models/rnn/translate/seq2seq_model.py\n```\n\nI am not a python expert, but I believe you can fix this via the PYTHONPATH environment variable.  Just set it to point at your sources (i.e. dir A), so that imports will be resolved via A instead of B.\nhttps://docs.python.org/2/using/cmdline.html#envvar-PYTHONPATH\n\nLet me know if that helps.\n"}