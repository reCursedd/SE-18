{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4200", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4200/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4200/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4200/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4200", "id": 175020464, "node_id": "MDU6SXNzdWUxNzUwMjA0NjQ=", "number": 4200, "title": "TypeError: __init__() got an unexpected keyword argument 'dtype'", "user": {"login": "loretoparisi", "id": 163333, "node_id": "MDQ6VXNlcjE2MzMzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/163333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loretoparisi", "html_url": "https://github.com/loretoparisi", "followers_url": "https://api.github.com/users/loretoparisi/followers", "following_url": "https://api.github.com/users/loretoparisi/following{/other_user}", "gists_url": "https://api.github.com/users/loretoparisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/loretoparisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loretoparisi/subscriptions", "organizations_url": "https://api.github.com/users/loretoparisi/orgs", "repos_url": "https://api.github.com/users/loretoparisi/repos", "events_url": "https://api.github.com/users/loretoparisi/events{/privacy}", "received_events_url": "https://api.github.com/users/loretoparisi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-09-05T08:29:24Z", "updated_at": "2016-12-29T15:58:45Z", "closed_at": "2016-10-15T08:55:21Z", "author_association": "NONE", "body_html": "<p>The module is <code>models/rnn/translate</code><br>\nI'm running</p>\n<pre><code>$ python -c 'import tensorflow as tf; print tf.__version__'\n0.10.0rc0\n</code></pre>\n<p>I did the training:</p>\n<pre><code>python translate.py --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/ --size=256 --num_layers=2 --steps_per_checkpoint=50\n</code></pre>\n<p>and then run</p>\n<pre><code>python translate.py --decode --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/\n</code></pre>\n<pre><code>Traceback (most recent call last):\n  File \"translate.py\", line 290, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"translate.py\", line 285, in main\n    decode()\n  File \"translate.py\", line 222, in decode\n    model = create_model(sess, True)\n  File \"translate.py\", line 131, in create_model\n    dtype=dtype)\nTypeError: __init__() got an unexpected keyword argument 'dtype'\n</code></pre>\n<p>My data dir looks like</p>\n<pre><code>-rw-rw-r-- 1 ubuntu ubuntu   21393583 Aug 31 15:21 dev-v2.tgz\n-rw-rw-r-- 1 ubuntu ubuntu 3789873031 Aug 31 15:21 giga-fren.release2.en\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:17 giga-fren.release2.en.gz -&gt; giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1214224978 Aug 30 19:55 giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1380871453 Aug 29 21:43 giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 4565271815 Aug 31 15:19 giga-fren.release2.fr\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:13 giga-fren.release2.fr.gz -&gt; giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 2380084216 Sep  2 11:29 giga-fren.release2.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu 1222033408 Aug 31 17:17 giga-fren.release2.ids40000.fr\n-rw-r--r-- 1 ubuntu ubuntu     332974 Dec 13  2013 newstest2013.en\n-rw-r--r-- 1 ubuntu ubuntu     393465 Dec 13  2013 newstest2013.fr\n-rw-rw-r-- 1 ubuntu ubuntu     231941 Sep  2 11:29 newstest2013.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     268151 Sep  2 11:29 newstest2013.ids40000.fr\n-rw-rw-r-- 1 ubuntu ubuntu 2595102720 Aug 31 10:53 training-giga-fren.tar\n-rw-rw-r-- 1 ubuntu ubuntu     343512 Aug 31 16:54 vocab40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     380736 Aug 31 16:11 vocab40000.fr\n</code></pre>\n<p>The <code>symlink</code> in the <code>data_dir</code> are due to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174244446\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4122\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4122/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4122\">#4122</a></p>", "body_text": "The module is models/rnn/translate\nI'm running\n$ python -c 'import tensorflow as tf; print tf.__version__'\n0.10.0rc0\n\nI did the training:\npython translate.py --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/ --size=256 --num_layers=2 --steps_per_checkpoint=50\n\nand then run\npython translate.py --decode --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/\n\nTraceback (most recent call last):\n  File \"translate.py\", line 290, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"translate.py\", line 285, in main\n    decode()\n  File \"translate.py\", line 222, in decode\n    model = create_model(sess, True)\n  File \"translate.py\", line 131, in create_model\n    dtype=dtype)\nTypeError: __init__() got an unexpected keyword argument 'dtype'\n\nMy data dir looks like\n-rw-rw-r-- 1 ubuntu ubuntu   21393583 Aug 31 15:21 dev-v2.tgz\n-rw-rw-r-- 1 ubuntu ubuntu 3789873031 Aug 31 15:21 giga-fren.release2.en\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:17 giga-fren.release2.en.gz -> giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1214224978 Aug 30 19:55 giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1380871453 Aug 29 21:43 giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 4565271815 Aug 31 15:19 giga-fren.release2.fr\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:13 giga-fren.release2.fr.gz -> giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 2380084216 Sep  2 11:29 giga-fren.release2.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu 1222033408 Aug 31 17:17 giga-fren.release2.ids40000.fr\n-rw-r--r-- 1 ubuntu ubuntu     332974 Dec 13  2013 newstest2013.en\n-rw-r--r-- 1 ubuntu ubuntu     393465 Dec 13  2013 newstest2013.fr\n-rw-rw-r-- 1 ubuntu ubuntu     231941 Sep  2 11:29 newstest2013.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     268151 Sep  2 11:29 newstest2013.ids40000.fr\n-rw-rw-r-- 1 ubuntu ubuntu 2595102720 Aug 31 10:53 training-giga-fren.tar\n-rw-rw-r-- 1 ubuntu ubuntu     343512 Aug 31 16:54 vocab40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     380736 Aug 31 16:11 vocab40000.fr\n\nThe symlink in the data_dir are due to #4122", "body": "The module is `models/rnn/translate`\nI'm running\n\n```\n$ python -c 'import tensorflow as tf; print tf.__version__'\n0.10.0rc0\n```\n\nI did the training:\n\n```\npython translate.py --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/ --size=256 --num_layers=2 --steps_per_checkpoint=50\n```\n\nand then run\n\n```\npython translate.py --decode --data_dir /mnt/ft1/translate/ --train_dir /mnt/ft1/translate/\n```\n\n```\nTraceback (most recent call last):\n  File \"translate.py\", line 290, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"translate.py\", line 285, in main\n    decode()\n  File \"translate.py\", line 222, in decode\n    model = create_model(sess, True)\n  File \"translate.py\", line 131, in create_model\n    dtype=dtype)\nTypeError: __init__() got an unexpected keyword argument 'dtype'\n```\n\nMy data dir looks like\n\n```\n-rw-rw-r-- 1 ubuntu ubuntu   21393583 Aug 31 15:21 dev-v2.tgz\n-rw-rw-r-- 1 ubuntu ubuntu 3789873031 Aug 31 15:21 giga-fren.release2.en\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:17 giga-fren.release2.en.gz -> giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1214224978 Aug 30 19:55 giga-fren.release2.fixed.en.gz\n-rw-rw-r-- 1 ubuntu ubuntu 1380871453 Aug 29 21:43 giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 4565271815 Aug 31 15:19 giga-fren.release2.fr\nlrwxrwxrwx 1 ubuntu ubuntu         30 Aug 31 15:13 giga-fren.release2.fr.gz -> giga-fren.release2.fixed.fr.gz\n-rw-rw-r-- 1 ubuntu ubuntu 2380084216 Sep  2 11:29 giga-fren.release2.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu 1222033408 Aug 31 17:17 giga-fren.release2.ids40000.fr\n-rw-r--r-- 1 ubuntu ubuntu     332974 Dec 13  2013 newstest2013.en\n-rw-r--r-- 1 ubuntu ubuntu     393465 Dec 13  2013 newstest2013.fr\n-rw-rw-r-- 1 ubuntu ubuntu     231941 Sep  2 11:29 newstest2013.ids40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     268151 Sep  2 11:29 newstest2013.ids40000.fr\n-rw-rw-r-- 1 ubuntu ubuntu 2595102720 Aug 31 10:53 training-giga-fren.tar\n-rw-rw-r-- 1 ubuntu ubuntu     343512 Aug 31 16:54 vocab40000.en\n-rw-rw-r-- 1 ubuntu ubuntu     380736 Aug 31 16:11 vocab40000.fr\n```\n\nThe `symlink` in the `data_dir` are due to https://github.com/tensorflow/tensorflow/issues/4122\n"}