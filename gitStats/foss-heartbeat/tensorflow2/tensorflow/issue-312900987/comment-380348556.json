{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/380348556", "html_url": "https://github.com/tensorflow/tensorflow/issues/18380#issuecomment-380348556", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18380", "id": 380348556, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM0ODU1Ng==", "user": {"login": "Overdrivr", "id": 1294805, "node_id": "MDQ6VXNlcjEyOTQ4MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1294805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Overdrivr", "html_url": "https://github.com/Overdrivr", "followers_url": "https://api.github.com/users/Overdrivr/followers", "following_url": "https://api.github.com/users/Overdrivr/following{/other_user}", "gists_url": "https://api.github.com/users/Overdrivr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Overdrivr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Overdrivr/subscriptions", "organizations_url": "https://api.github.com/users/Overdrivr/orgs", "repos_url": "https://api.github.com/users/Overdrivr/repos", "events_url": "https://api.github.com/users/Overdrivr/events{/privacy}", "received_events_url": "https://api.github.com/users/Overdrivr/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-11T07:02:04Z", "updated_at": "2018-04-11T07:02:04Z", "author_association": "NONE", "body_html": "<p>Thank you for looking into this. Today, I tried the same thing on a Tesla P100 that has 16GB of VRAM, same outcome. It fails to allocate ~4GB:</p>\n<pre><code>2018-04-11 06:58:33.346240: W tensorflow/core/common_runtime/bfc_allocator.cc:275] Allocator (GPU_0_bfc) ran out of memory trying to allocate 4.42GiB.  Current allocation summary follows.\n</code></pre>\n<pre><code>2018-04-11 06:58:33.346580: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0e30800000 of size 4742250496\n2018-04-11 06:58:33.346588: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0f4b290000 of size 74097664\n2018-04-11 06:58:33.346596: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f0f4f93a400 of size 3773586432\n2018-04-11 06:58:33.346603: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1084000000 of size 16777216\n2018-04-11 06:58:33.346611: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1085000000 of size 74097664\n2018-04-11 06:58:33.346619: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f10896aa400 of size 16777216\n2018-04-11 06:58:33.346630: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108a6aa400 of size 16777216\n2018-04-11 06:58:33.346635: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108b6aa400 of size 74097664\n2018-04-11 06:58:33.346643: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108fd54800 of size 74097664\n2018-04-11 06:58:33.346649: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f10943fec00 of size 4022342656\n2018-04-11 06:58:33.346657: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1184000000 of size 36773888\n2018-04-11 06:58:33.346664: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1186312000 of size 36773888\n2018-04-11 06:58:33.346671: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1188624000 of size 74097664\n2018-04-11 06:58:33.346684: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f118ccce400 of size 120790016\n2018-04-11 06:58:33.346690: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194000000 of size 8388608\n2018-04-11 06:58:33.346695: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194800000 of size 8388608\n2018-04-11 06:58:33.346703: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1195000000 of size 16777216\n2018-04-11 06:58:33.346711: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1196000000 of size 16777216\n2018-04-11 06:58:33.346719: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197000000 of size 2359296\n2018-04-11 06:58:33.346729: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197240000 of size 16515072\n2018-04-11 06:58:33.346736: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198200000 of size 9437184\n2018-04-11 06:58:33.346744: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198b00000 of size 9437184\n2018-04-11 06:58:33.346750: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1199400000 of size 9437184\n2018-04-11 06:58:33.346756: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1199d00000 of size 9437184\n2018-04-11 06:58:33.346763: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a600000 of size 294912\n2018-04-11 06:58:33.346769: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a648000 of size 589824\n2018-04-11 06:58:33.346775: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a6d8000 of size 1179648\n2018-04-11 06:58:33.346781: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a7f8000 of size 2359296\n2018-04-11 06:58:33.346787: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aa38000 of size 4718592\n2018-04-11 06:58:33.346793: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aeb8000 of size 18120704\n2018-04-11 06:58:33.346799: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8400000 of size 9437184\n2018-04-11 06:58:33.346806: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d00000 of size 589824\n2018-04-11 06:58:33.346812: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d90000 of size 1179648\n2018-04-11 06:58:33.346819: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8eb0000 of size 2359296\n2018-04-11 06:58:33.346829: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c90f0000 of size 4718592\n2018-04-11 06:58:33.346835: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9570000 of size 9437184\n2018-04-11 06:58:33.346841: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9e70000 of size 16777216\n2018-04-11 06:58:33.346847: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cae70000 of size 22609920\n2018-04-11 06:58:33.346854: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cc400000 of size 9437184\n2018-04-11 06:58:33.346863: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ccd00000 of size 9437184\n2018-04-11 06:58:33.346869: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cd600000 of size 14680064\n2018-04-11 06:58:33.346875: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ce400000 of size 16777216\n2018-04-11 06:58:33.346885: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cf400000 of size 8388608\n2018-04-11 06:58:33.346891: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cfc00000 of size 4194304\n2018-04-11 06:58:33.346896: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0000000 of size 289536\n2018-04-11 06:58:33.346903: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0046b00 of size 289536\n2018-04-11 06:58:33.346909: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f11d008d600 of size 1518080\n2018-04-11 06:58:33.346916: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400000 of size 1280\n2018-04-11 06:58:33.346921: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400500 of size 1280\n2018-04-11 06:58:33.346928: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400a00 of size 256\n2018-04-11 06:58:33.346934: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400b00 of size 256\n2018-04-11 06:58:33.346940: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400c00 of size 256\n2018-04-11 06:58:33.346945: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400d00 of size 256\n2018-04-11 06:58:33.346952: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400e00 of size 256\n2018-04-11 06:58:33.346957: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400f00 of size 256\n2018-04-11 06:58:33.346966: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401000 of size 256\n2018-04-11 06:58:33.346972: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401100 of size 512\n2018-04-11 06:58:33.346981: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401300 of size 256\n2018-04-11 06:58:33.346988: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401400 of size 256\n2018-04-11 06:58:33.346994: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401500 of size 256\n2018-04-11 06:58:33.347000: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401600 of size 256\n2018-04-11 06:58:33.347006: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401700 of size 1024\n2018-04-11 06:58:33.347012: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401b00 of size 256\n2018-04-11 06:58:33.347022: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401c00 of size 256\n2018-04-11 06:58:33.347028: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401d00 of size 256\n2018-04-11 06:58:33.347035: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401e00 of size 256\n2018-04-11 06:58:33.347041: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401f00 of size 2048\n2018-04-11 06:58:33.347049: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402700 of size 256\n2018-04-11 06:58:33.347055: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402800 of size 256\n2018-04-11 06:58:33.347061: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402900 of size 256\n2018-04-11 06:58:33.347068: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402a00 of size 256\n2018-04-11 06:58:33.347074: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402b00 of size 256\n2018-04-11 06:58:33.347079: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402c00 of size 256\n2018-04-11 06:58:33.347086: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402d00 of size 256\n2018-04-11 06:58:33.347092: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402e00 of size 256\n2018-04-11 06:58:33.347100: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402f00 of size 256\n2018-04-11 06:58:33.347106: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403000 of size 256\n2018-04-11 06:58:33.347112: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403100 of size 256\n2018-04-11 06:58:33.347119: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403200 of size 256\n2018-04-11 06:58:33.347126: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403300 of size 256\n2018-04-11 06:58:33.347131: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403400 of size 256\n2018-04-11 06:58:33.347137: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403500 of size 256\n2018-04-11 06:58:33.347144: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403600 of size 256\n2018-04-11 06:58:33.347151: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403700 of size 256\n2018-04-11 06:58:33.347158: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403800 of size 512\n2018-04-11 06:58:33.347165: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403a00 of size 256\n2018-04-11 06:58:33.347171: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403b00 of size 256\n2018-04-11 06:58:33.347177: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403c00 of size 256\n2018-04-11 06:58:33.347183: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403d00 of size 256\n2018-04-11 06:58:33.347190: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403e00 of size 1536\n2018-04-11 06:58:33.347197: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404400 of size 256\n2018-04-11 06:58:33.347203: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404500 of size 256\n2018-04-11 06:58:33.347210: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404600 of size 256\n2018-04-11 06:58:33.347216: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404700 of size 256\n2018-04-11 06:58:33.347222: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404800 of size 256\n2018-04-11 06:58:33.347229: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404900 of size 2048\n2018-04-11 06:58:33.347236: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405100 of size 256\n2018-04-11 06:58:33.347242: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405200 of size 256\n2018-04-11 06:58:33.347248: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405300 of size 256\n2018-04-11 06:58:33.347254: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405400 of size 256\n2018-04-11 06:58:33.347261: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405500 of size 256\n2018-04-11 06:58:33.347266: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405600 of size 256\n2018-04-11 06:58:33.347273: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405700 of size 256\n2018-04-11 06:58:33.347278: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405800 of size 256\n2018-04-11 06:58:33.347284: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1210405900 of size 5376\n2018-04-11 06:58:33.347290: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406e00 of size 256\n2018-04-11 06:58:33.347297: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406f00 of size 256\n2018-04-11 06:58:33.347305: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407000 of size 512\n2018-04-11 06:58:33.347312: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407200 of size 512\n2018-04-11 06:58:33.347317: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407400 of size 1024\n2018-04-11 06:58:33.347326: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407800 of size 1024\n2018-04-11 06:58:33.347334: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407c00 of size 1024\n2018-04-11 06:58:33.347341: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408000 of size 2048\n2018-04-11 06:58:33.347346: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408800 of size 2048\n2018-04-11 06:58:33.347354: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409000 of size 2048\n2018-04-11 06:58:33.347360: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409800 of size 2048\n2018-04-11 06:58:33.347366: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a000 of size 2048\n2018-04-11 06:58:33.347374: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a800 of size 2048\n2018-04-11 06:58:33.347380: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040b000 of size 6912\n2018-04-11 06:58:33.347385: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040cb00 of size 113152\n2018-04-11 06:58:33.347392: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428500 of size 256\n2018-04-11 06:58:33.347398: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428600 of size 65536\n2018-04-11 06:58:33.347406: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210438600 of size 81920\n2018-04-11 06:58:33.347411: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121044c600 of size 147456\n2018-04-11 06:58:33.347418: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470600 of size 512\n2018-04-11 06:58:33.347427: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470800 of size 512\n2018-04-11 06:58:33.347435: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470a00 of size 1024\n2018-04-11 06:58:33.347443: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470e00 of size 1024\n2018-04-11 06:58:33.347448: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471200 of size 1024\n2018-04-11 06:58:33.347456: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471600 of size 2048\n2018-04-11 06:58:33.347461: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471e00 of size 2048\n2018-04-11 06:58:33.347468: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472600 of size 2048\n2018-04-11 06:58:33.347473: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472e00 of size 2048\n2018-04-11 06:58:33.347481: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473600 of size 2048\n2018-04-11 06:58:33.347486: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473e00 of size 2048\n2018-04-11 06:58:33.347493: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210474600 of size 6912\n2018-04-11 06:58:33.347499: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210476100 of size 147456\n2018-04-11 06:58:33.347505: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121049a100 of size 417536\n2018-04-11 06:58:33.347511: I tensorflow/core/common_runtime/bfc_allocator.cc:671]      Summary of in-use Chunks by size:\n2018-04-11 06:58:33.347519: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 52 Chunks of size 256 totalling 13.0KiB\n2018-04-11 06:58:33.347528: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 6 Chunks of size 512 totalling 3.0KiB\n2018-04-11 06:58:33.347536: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 1024 totalling 7.0KiB\n2018-04-11 06:58:33.347543: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1280 totalling 2.5KiB\n2018-04-11 06:58:33.347551: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 1536 totalling 1.5KiB\n2018-04-11 06:58:33.347557: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 14 Chunks of size 2048 totalling 28.0KiB\n2018-04-11 06:58:33.347564: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 6912 totalling 13.5KiB\n2018-04-11 06:58:33.347571: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 65536 totalling 64.0KiB\n2018-04-11 06:58:33.347577: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 81920 totalling 80.0KiB\n2018-04-11 06:58:33.347585: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 113152 totalling 110.5KiB\n2018-04-11 06:58:33.347591: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 147456 totalling 288.0KiB\n2018-04-11 06:58:33.347598: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 289536 totalling 565.5KiB\n2018-04-11 06:58:33.347605: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 294912 totalling 288.0KiB\n2018-04-11 06:58:33.347611: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 417536 totalling 407.8KiB\n2018-04-11 06:58:33.347618: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 589824 totalling 1.12MiB\n2018-04-11 06:58:33.347624: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1179648 totalling 2.25MiB\n2018-04-11 06:58:33.347630: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 2359296 totalling 6.75MiB\n2018-04-11 06:58:33.347637: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4194304 totalling 4.00MiB\n2018-04-11 06:58:33.347642: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 4718592 totalling 9.00MiB\n2018-04-11 06:58:33.347651: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 8388608 totalling 24.00MiB\n2018-04-11 06:58:33.347657: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 9437184 totalling 63.00MiB\n2018-04-11 06:58:33.347663: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 14680064 totalling 14.00MiB\n2018-04-11 06:58:33.347670: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 16515072 totalling 15.75MiB\n2018-04-11 06:58:33.347686: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 16777216 totalling 112.00MiB\n2018-04-11 06:58:33.347693: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 18120704 totalling 17.28MiB\n2018-04-11 06:58:33.347705: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 22609920 totalling 21.56MiB\n2018-04-11 06:58:33.347713: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 36773888 totalling 70.14MiB\n2018-04-11 06:58:33.347720: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 5 Chunks of size 74097664 totalling 353.33MiB\n2018-04-11 06:58:33.347734: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 120790016 totalling 115.19MiB\n2018-04-11 06:58:33.347742: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4742250496 totalling 4.42GiB\n2018-04-11 06:58:33.347752: I tensorflow/core/common_runtime/bfc_allocator.cc:678] Sum Total of in-use chunks: 5.23GiB\n2018-04-11 06:58:33.347761: I tensorflow/core/common_runtime/bfc_allocator.cc:680] Stats:\nLimit:                 15868438119\nInUse:                  5613834496\nMaxInUse:               5613834496\nNumAllocs:                   27368\nMaxAllocSize:           4742250496\n</code></pre>\n<p>Let me know if I can do anything to help debug this.</p>", "body_text": "Thank you for looking into this. Today, I tried the same thing on a Tesla P100 that has 16GB of VRAM, same outcome. It fails to allocate ~4GB:\n2018-04-11 06:58:33.346240: W tensorflow/core/common_runtime/bfc_allocator.cc:275] Allocator (GPU_0_bfc) ran out of memory trying to allocate 4.42GiB.  Current allocation summary follows.\n\n2018-04-11 06:58:33.346580: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0e30800000 of size 4742250496\n2018-04-11 06:58:33.346588: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0f4b290000 of size 74097664\n2018-04-11 06:58:33.346596: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f0f4f93a400 of size 3773586432\n2018-04-11 06:58:33.346603: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1084000000 of size 16777216\n2018-04-11 06:58:33.346611: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1085000000 of size 74097664\n2018-04-11 06:58:33.346619: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f10896aa400 of size 16777216\n2018-04-11 06:58:33.346630: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108a6aa400 of size 16777216\n2018-04-11 06:58:33.346635: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108b6aa400 of size 74097664\n2018-04-11 06:58:33.346643: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108fd54800 of size 74097664\n2018-04-11 06:58:33.346649: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f10943fec00 of size 4022342656\n2018-04-11 06:58:33.346657: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1184000000 of size 36773888\n2018-04-11 06:58:33.346664: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1186312000 of size 36773888\n2018-04-11 06:58:33.346671: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1188624000 of size 74097664\n2018-04-11 06:58:33.346684: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f118ccce400 of size 120790016\n2018-04-11 06:58:33.346690: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194000000 of size 8388608\n2018-04-11 06:58:33.346695: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194800000 of size 8388608\n2018-04-11 06:58:33.346703: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1195000000 of size 16777216\n2018-04-11 06:58:33.346711: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1196000000 of size 16777216\n2018-04-11 06:58:33.346719: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197000000 of size 2359296\n2018-04-11 06:58:33.346729: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197240000 of size 16515072\n2018-04-11 06:58:33.346736: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198200000 of size 9437184\n2018-04-11 06:58:33.346744: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198b00000 of size 9437184\n2018-04-11 06:58:33.346750: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1199400000 of size 9437184\n2018-04-11 06:58:33.346756: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1199d00000 of size 9437184\n2018-04-11 06:58:33.346763: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a600000 of size 294912\n2018-04-11 06:58:33.346769: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a648000 of size 589824\n2018-04-11 06:58:33.346775: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a6d8000 of size 1179648\n2018-04-11 06:58:33.346781: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a7f8000 of size 2359296\n2018-04-11 06:58:33.346787: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aa38000 of size 4718592\n2018-04-11 06:58:33.346793: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aeb8000 of size 18120704\n2018-04-11 06:58:33.346799: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8400000 of size 9437184\n2018-04-11 06:58:33.346806: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d00000 of size 589824\n2018-04-11 06:58:33.346812: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d90000 of size 1179648\n2018-04-11 06:58:33.346819: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8eb0000 of size 2359296\n2018-04-11 06:58:33.346829: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c90f0000 of size 4718592\n2018-04-11 06:58:33.346835: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9570000 of size 9437184\n2018-04-11 06:58:33.346841: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9e70000 of size 16777216\n2018-04-11 06:58:33.346847: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cae70000 of size 22609920\n2018-04-11 06:58:33.346854: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cc400000 of size 9437184\n2018-04-11 06:58:33.346863: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ccd00000 of size 9437184\n2018-04-11 06:58:33.346869: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cd600000 of size 14680064\n2018-04-11 06:58:33.346875: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ce400000 of size 16777216\n2018-04-11 06:58:33.346885: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cf400000 of size 8388608\n2018-04-11 06:58:33.346891: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cfc00000 of size 4194304\n2018-04-11 06:58:33.346896: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0000000 of size 289536\n2018-04-11 06:58:33.346903: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0046b00 of size 289536\n2018-04-11 06:58:33.346909: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f11d008d600 of size 1518080\n2018-04-11 06:58:33.346916: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400000 of size 1280\n2018-04-11 06:58:33.346921: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400500 of size 1280\n2018-04-11 06:58:33.346928: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400a00 of size 256\n2018-04-11 06:58:33.346934: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400b00 of size 256\n2018-04-11 06:58:33.346940: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400c00 of size 256\n2018-04-11 06:58:33.346945: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400d00 of size 256\n2018-04-11 06:58:33.346952: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400e00 of size 256\n2018-04-11 06:58:33.346957: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400f00 of size 256\n2018-04-11 06:58:33.346966: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401000 of size 256\n2018-04-11 06:58:33.346972: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401100 of size 512\n2018-04-11 06:58:33.346981: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401300 of size 256\n2018-04-11 06:58:33.346988: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401400 of size 256\n2018-04-11 06:58:33.346994: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401500 of size 256\n2018-04-11 06:58:33.347000: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401600 of size 256\n2018-04-11 06:58:33.347006: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401700 of size 1024\n2018-04-11 06:58:33.347012: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401b00 of size 256\n2018-04-11 06:58:33.347022: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401c00 of size 256\n2018-04-11 06:58:33.347028: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401d00 of size 256\n2018-04-11 06:58:33.347035: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401e00 of size 256\n2018-04-11 06:58:33.347041: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401f00 of size 2048\n2018-04-11 06:58:33.347049: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402700 of size 256\n2018-04-11 06:58:33.347055: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402800 of size 256\n2018-04-11 06:58:33.347061: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402900 of size 256\n2018-04-11 06:58:33.347068: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402a00 of size 256\n2018-04-11 06:58:33.347074: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402b00 of size 256\n2018-04-11 06:58:33.347079: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402c00 of size 256\n2018-04-11 06:58:33.347086: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402d00 of size 256\n2018-04-11 06:58:33.347092: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402e00 of size 256\n2018-04-11 06:58:33.347100: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402f00 of size 256\n2018-04-11 06:58:33.347106: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403000 of size 256\n2018-04-11 06:58:33.347112: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403100 of size 256\n2018-04-11 06:58:33.347119: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403200 of size 256\n2018-04-11 06:58:33.347126: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403300 of size 256\n2018-04-11 06:58:33.347131: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403400 of size 256\n2018-04-11 06:58:33.347137: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403500 of size 256\n2018-04-11 06:58:33.347144: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403600 of size 256\n2018-04-11 06:58:33.347151: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403700 of size 256\n2018-04-11 06:58:33.347158: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403800 of size 512\n2018-04-11 06:58:33.347165: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403a00 of size 256\n2018-04-11 06:58:33.347171: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403b00 of size 256\n2018-04-11 06:58:33.347177: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403c00 of size 256\n2018-04-11 06:58:33.347183: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403d00 of size 256\n2018-04-11 06:58:33.347190: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403e00 of size 1536\n2018-04-11 06:58:33.347197: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404400 of size 256\n2018-04-11 06:58:33.347203: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404500 of size 256\n2018-04-11 06:58:33.347210: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404600 of size 256\n2018-04-11 06:58:33.347216: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404700 of size 256\n2018-04-11 06:58:33.347222: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404800 of size 256\n2018-04-11 06:58:33.347229: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404900 of size 2048\n2018-04-11 06:58:33.347236: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405100 of size 256\n2018-04-11 06:58:33.347242: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405200 of size 256\n2018-04-11 06:58:33.347248: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405300 of size 256\n2018-04-11 06:58:33.347254: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405400 of size 256\n2018-04-11 06:58:33.347261: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405500 of size 256\n2018-04-11 06:58:33.347266: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405600 of size 256\n2018-04-11 06:58:33.347273: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405700 of size 256\n2018-04-11 06:58:33.347278: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405800 of size 256\n2018-04-11 06:58:33.347284: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1210405900 of size 5376\n2018-04-11 06:58:33.347290: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406e00 of size 256\n2018-04-11 06:58:33.347297: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406f00 of size 256\n2018-04-11 06:58:33.347305: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407000 of size 512\n2018-04-11 06:58:33.347312: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407200 of size 512\n2018-04-11 06:58:33.347317: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407400 of size 1024\n2018-04-11 06:58:33.347326: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407800 of size 1024\n2018-04-11 06:58:33.347334: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407c00 of size 1024\n2018-04-11 06:58:33.347341: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408000 of size 2048\n2018-04-11 06:58:33.347346: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408800 of size 2048\n2018-04-11 06:58:33.347354: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409000 of size 2048\n2018-04-11 06:58:33.347360: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409800 of size 2048\n2018-04-11 06:58:33.347366: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a000 of size 2048\n2018-04-11 06:58:33.347374: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a800 of size 2048\n2018-04-11 06:58:33.347380: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040b000 of size 6912\n2018-04-11 06:58:33.347385: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040cb00 of size 113152\n2018-04-11 06:58:33.347392: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428500 of size 256\n2018-04-11 06:58:33.347398: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428600 of size 65536\n2018-04-11 06:58:33.347406: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210438600 of size 81920\n2018-04-11 06:58:33.347411: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121044c600 of size 147456\n2018-04-11 06:58:33.347418: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470600 of size 512\n2018-04-11 06:58:33.347427: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470800 of size 512\n2018-04-11 06:58:33.347435: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470a00 of size 1024\n2018-04-11 06:58:33.347443: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470e00 of size 1024\n2018-04-11 06:58:33.347448: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471200 of size 1024\n2018-04-11 06:58:33.347456: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471600 of size 2048\n2018-04-11 06:58:33.347461: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471e00 of size 2048\n2018-04-11 06:58:33.347468: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472600 of size 2048\n2018-04-11 06:58:33.347473: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472e00 of size 2048\n2018-04-11 06:58:33.347481: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473600 of size 2048\n2018-04-11 06:58:33.347486: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473e00 of size 2048\n2018-04-11 06:58:33.347493: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210474600 of size 6912\n2018-04-11 06:58:33.347499: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210476100 of size 147456\n2018-04-11 06:58:33.347505: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121049a100 of size 417536\n2018-04-11 06:58:33.347511: I tensorflow/core/common_runtime/bfc_allocator.cc:671]      Summary of in-use Chunks by size:\n2018-04-11 06:58:33.347519: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 52 Chunks of size 256 totalling 13.0KiB\n2018-04-11 06:58:33.347528: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 6 Chunks of size 512 totalling 3.0KiB\n2018-04-11 06:58:33.347536: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 1024 totalling 7.0KiB\n2018-04-11 06:58:33.347543: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1280 totalling 2.5KiB\n2018-04-11 06:58:33.347551: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 1536 totalling 1.5KiB\n2018-04-11 06:58:33.347557: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 14 Chunks of size 2048 totalling 28.0KiB\n2018-04-11 06:58:33.347564: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 6912 totalling 13.5KiB\n2018-04-11 06:58:33.347571: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 65536 totalling 64.0KiB\n2018-04-11 06:58:33.347577: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 81920 totalling 80.0KiB\n2018-04-11 06:58:33.347585: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 113152 totalling 110.5KiB\n2018-04-11 06:58:33.347591: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 147456 totalling 288.0KiB\n2018-04-11 06:58:33.347598: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 289536 totalling 565.5KiB\n2018-04-11 06:58:33.347605: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 294912 totalling 288.0KiB\n2018-04-11 06:58:33.347611: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 417536 totalling 407.8KiB\n2018-04-11 06:58:33.347618: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 589824 totalling 1.12MiB\n2018-04-11 06:58:33.347624: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1179648 totalling 2.25MiB\n2018-04-11 06:58:33.347630: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 2359296 totalling 6.75MiB\n2018-04-11 06:58:33.347637: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4194304 totalling 4.00MiB\n2018-04-11 06:58:33.347642: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 4718592 totalling 9.00MiB\n2018-04-11 06:58:33.347651: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 8388608 totalling 24.00MiB\n2018-04-11 06:58:33.347657: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 9437184 totalling 63.00MiB\n2018-04-11 06:58:33.347663: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 14680064 totalling 14.00MiB\n2018-04-11 06:58:33.347670: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 16515072 totalling 15.75MiB\n2018-04-11 06:58:33.347686: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 16777216 totalling 112.00MiB\n2018-04-11 06:58:33.347693: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 18120704 totalling 17.28MiB\n2018-04-11 06:58:33.347705: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 22609920 totalling 21.56MiB\n2018-04-11 06:58:33.347713: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 36773888 totalling 70.14MiB\n2018-04-11 06:58:33.347720: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 5 Chunks of size 74097664 totalling 353.33MiB\n2018-04-11 06:58:33.347734: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 120790016 totalling 115.19MiB\n2018-04-11 06:58:33.347742: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4742250496 totalling 4.42GiB\n2018-04-11 06:58:33.347752: I tensorflow/core/common_runtime/bfc_allocator.cc:678] Sum Total of in-use chunks: 5.23GiB\n2018-04-11 06:58:33.347761: I tensorflow/core/common_runtime/bfc_allocator.cc:680] Stats:\nLimit:                 15868438119\nInUse:                  5613834496\nMaxInUse:               5613834496\nNumAllocs:                   27368\nMaxAllocSize:           4742250496\n\nLet me know if I can do anything to help debug this.", "body": "Thank you for looking into this. Today, I tried the same thing on a Tesla P100 that has 16GB of VRAM, same outcome. It fails to allocate ~4GB:\r\n```\r\n2018-04-11 06:58:33.346240: W tensorflow/core/common_runtime/bfc_allocator.cc:275] Allocator (GPU_0_bfc) ran out of memory trying to allocate 4.42GiB.  Current allocation summary follows.\r\n```\r\n```\r\n2018-04-11 06:58:33.346580: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0e30800000 of size 4742250496\r\n2018-04-11 06:58:33.346588: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f0f4b290000 of size 74097664\r\n2018-04-11 06:58:33.346596: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f0f4f93a400 of size 3773586432\r\n2018-04-11 06:58:33.346603: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1084000000 of size 16777216\r\n2018-04-11 06:58:33.346611: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1085000000 of size 74097664\r\n2018-04-11 06:58:33.346619: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f10896aa400 of size 16777216\r\n2018-04-11 06:58:33.346630: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108a6aa400 of size 16777216\r\n2018-04-11 06:58:33.346635: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108b6aa400 of size 74097664\r\n2018-04-11 06:58:33.346643: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f108fd54800 of size 74097664\r\n2018-04-11 06:58:33.346649: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f10943fec00 of size 4022342656\r\n2018-04-11 06:58:33.346657: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1184000000 of size 36773888\r\n2018-04-11 06:58:33.346664: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1186312000 of size 36773888\r\n2018-04-11 06:58:33.346671: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1188624000 of size 74097664\r\n2018-04-11 06:58:33.346684: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f118ccce400 of size 120790016\r\n2018-04-11 06:58:33.346690: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194000000 of size 8388608\r\n2018-04-11 06:58:33.346695: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1194800000 of size 8388608\r\n2018-04-11 06:58:33.346703: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1195000000 of size 16777216\r\n2018-04-11 06:58:33.346711: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1196000000 of size 16777216\r\n2018-04-11 06:58:33.346719: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197000000 of size 2359296\r\n2018-04-11 06:58:33.346729: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1197240000 of size 16515072\r\n2018-04-11 06:58:33.346736: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198200000 of size 9437184\r\n2018-04-11 06:58:33.346744: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1198b00000 of size 9437184\r\n2018-04-11 06:58:33.346750: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1199400000 of size 9437184\r\n2018-04-11 06:58:33.346756: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1199d00000 of size 9437184\r\n2018-04-11 06:58:33.346763: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a600000 of size 294912\r\n2018-04-11 06:58:33.346769: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a648000 of size 589824\r\n2018-04-11 06:58:33.346775: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a6d8000 of size 1179648\r\n2018-04-11 06:58:33.346781: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119a7f8000 of size 2359296\r\n2018-04-11 06:58:33.346787: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aa38000 of size 4718592\r\n2018-04-11 06:58:33.346793: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f119aeb8000 of size 18120704\r\n2018-04-11 06:58:33.346799: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8400000 of size 9437184\r\n2018-04-11 06:58:33.346806: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d00000 of size 589824\r\n2018-04-11 06:58:33.346812: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8d90000 of size 1179648\r\n2018-04-11 06:58:33.346819: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c8eb0000 of size 2359296\r\n2018-04-11 06:58:33.346829: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c90f0000 of size 4718592\r\n2018-04-11 06:58:33.346835: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9570000 of size 9437184\r\n2018-04-11 06:58:33.346841: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11c9e70000 of size 16777216\r\n2018-04-11 06:58:33.346847: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cae70000 of size 22609920\r\n2018-04-11 06:58:33.346854: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cc400000 of size 9437184\r\n2018-04-11 06:58:33.346863: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ccd00000 of size 9437184\r\n2018-04-11 06:58:33.346869: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cd600000 of size 14680064\r\n2018-04-11 06:58:33.346875: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11ce400000 of size 16777216\r\n2018-04-11 06:58:33.346885: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cf400000 of size 8388608\r\n2018-04-11 06:58:33.346891: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11cfc00000 of size 4194304\r\n2018-04-11 06:58:33.346896: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0000000 of size 289536\r\n2018-04-11 06:58:33.346903: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f11d0046b00 of size 289536\r\n2018-04-11 06:58:33.346909: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f11d008d600 of size 1518080\r\n2018-04-11 06:58:33.346916: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400000 of size 1280\r\n2018-04-11 06:58:33.346921: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400500 of size 1280\r\n2018-04-11 06:58:33.346928: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400a00 of size 256\r\n2018-04-11 06:58:33.346934: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400b00 of size 256\r\n2018-04-11 06:58:33.346940: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400c00 of size 256\r\n2018-04-11 06:58:33.346945: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400d00 of size 256\r\n2018-04-11 06:58:33.346952: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400e00 of size 256\r\n2018-04-11 06:58:33.346957: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210400f00 of size 256\r\n2018-04-11 06:58:33.346966: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401000 of size 256\r\n2018-04-11 06:58:33.346972: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401100 of size 512\r\n2018-04-11 06:58:33.346981: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401300 of size 256\r\n2018-04-11 06:58:33.346988: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401400 of size 256\r\n2018-04-11 06:58:33.346994: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401500 of size 256\r\n2018-04-11 06:58:33.347000: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401600 of size 256\r\n2018-04-11 06:58:33.347006: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401700 of size 1024\r\n2018-04-11 06:58:33.347012: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401b00 of size 256\r\n2018-04-11 06:58:33.347022: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401c00 of size 256\r\n2018-04-11 06:58:33.347028: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401d00 of size 256\r\n2018-04-11 06:58:33.347035: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401e00 of size 256\r\n2018-04-11 06:58:33.347041: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210401f00 of size 2048\r\n2018-04-11 06:58:33.347049: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402700 of size 256\r\n2018-04-11 06:58:33.347055: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402800 of size 256\r\n2018-04-11 06:58:33.347061: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402900 of size 256\r\n2018-04-11 06:58:33.347068: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402a00 of size 256\r\n2018-04-11 06:58:33.347074: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402b00 of size 256\r\n2018-04-11 06:58:33.347079: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402c00 of size 256\r\n2018-04-11 06:58:33.347086: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402d00 of size 256\r\n2018-04-11 06:58:33.347092: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402e00 of size 256\r\n2018-04-11 06:58:33.347100: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210402f00 of size 256\r\n2018-04-11 06:58:33.347106: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403000 of size 256\r\n2018-04-11 06:58:33.347112: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403100 of size 256\r\n2018-04-11 06:58:33.347119: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403200 of size 256\r\n2018-04-11 06:58:33.347126: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403300 of size 256\r\n2018-04-11 06:58:33.347131: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403400 of size 256\r\n2018-04-11 06:58:33.347137: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403500 of size 256\r\n2018-04-11 06:58:33.347144: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403600 of size 256\r\n2018-04-11 06:58:33.347151: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403700 of size 256\r\n2018-04-11 06:58:33.347158: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403800 of size 512\r\n2018-04-11 06:58:33.347165: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403a00 of size 256\r\n2018-04-11 06:58:33.347171: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403b00 of size 256\r\n2018-04-11 06:58:33.347177: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403c00 of size 256\r\n2018-04-11 06:58:33.347183: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403d00 of size 256\r\n2018-04-11 06:58:33.347190: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210403e00 of size 1536\r\n2018-04-11 06:58:33.347197: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404400 of size 256\r\n2018-04-11 06:58:33.347203: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404500 of size 256\r\n2018-04-11 06:58:33.347210: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404600 of size 256\r\n2018-04-11 06:58:33.347216: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404700 of size 256\r\n2018-04-11 06:58:33.347222: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404800 of size 256\r\n2018-04-11 06:58:33.347229: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210404900 of size 2048\r\n2018-04-11 06:58:33.347236: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405100 of size 256\r\n2018-04-11 06:58:33.347242: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405200 of size 256\r\n2018-04-11 06:58:33.347248: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405300 of size 256\r\n2018-04-11 06:58:33.347254: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405400 of size 256\r\n2018-04-11 06:58:33.347261: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405500 of size 256\r\n2018-04-11 06:58:33.347266: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405600 of size 256\r\n2018-04-11 06:58:33.347273: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405700 of size 256\r\n2018-04-11 06:58:33.347278: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210405800 of size 256\r\n2018-04-11 06:58:33.347284: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Free  at 0x7f1210405900 of size 5376\r\n2018-04-11 06:58:33.347290: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406e00 of size 256\r\n2018-04-11 06:58:33.347297: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210406f00 of size 256\r\n2018-04-11 06:58:33.347305: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407000 of size 512\r\n2018-04-11 06:58:33.347312: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407200 of size 512\r\n2018-04-11 06:58:33.347317: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407400 of size 1024\r\n2018-04-11 06:58:33.347326: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407800 of size 1024\r\n2018-04-11 06:58:33.347334: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210407c00 of size 1024\r\n2018-04-11 06:58:33.347341: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408000 of size 2048\r\n2018-04-11 06:58:33.347346: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210408800 of size 2048\r\n2018-04-11 06:58:33.347354: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409000 of size 2048\r\n2018-04-11 06:58:33.347360: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210409800 of size 2048\r\n2018-04-11 06:58:33.347366: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a000 of size 2048\r\n2018-04-11 06:58:33.347374: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040a800 of size 2048\r\n2018-04-11 06:58:33.347380: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040b000 of size 6912\r\n2018-04-11 06:58:33.347385: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121040cb00 of size 113152\r\n2018-04-11 06:58:33.347392: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428500 of size 256\r\n2018-04-11 06:58:33.347398: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210428600 of size 65536\r\n2018-04-11 06:58:33.347406: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210438600 of size 81920\r\n2018-04-11 06:58:33.347411: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121044c600 of size 147456\r\n2018-04-11 06:58:33.347418: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470600 of size 512\r\n2018-04-11 06:58:33.347427: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470800 of size 512\r\n2018-04-11 06:58:33.347435: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470a00 of size 1024\r\n2018-04-11 06:58:33.347443: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210470e00 of size 1024\r\n2018-04-11 06:58:33.347448: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471200 of size 1024\r\n2018-04-11 06:58:33.347456: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471600 of size 2048\r\n2018-04-11 06:58:33.347461: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210471e00 of size 2048\r\n2018-04-11 06:58:33.347468: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472600 of size 2048\r\n2018-04-11 06:58:33.347473: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210472e00 of size 2048\r\n2018-04-11 06:58:33.347481: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473600 of size 2048\r\n2018-04-11 06:58:33.347486: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210473e00 of size 2048\r\n2018-04-11 06:58:33.347493: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210474600 of size 6912\r\n2018-04-11 06:58:33.347499: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f1210476100 of size 147456\r\n2018-04-11 06:58:33.347505: I tensorflow/core/common_runtime/bfc_allocator.cc:665] Chunk at 0x7f121049a100 of size 417536\r\n2018-04-11 06:58:33.347511: I tensorflow/core/common_runtime/bfc_allocator.cc:671]      Summary of in-use Chunks by size:\r\n2018-04-11 06:58:33.347519: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 52 Chunks of size 256 totalling 13.0KiB\r\n2018-04-11 06:58:33.347528: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 6 Chunks of size 512 totalling 3.0KiB\r\n2018-04-11 06:58:33.347536: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 1024 totalling 7.0KiB\r\n2018-04-11 06:58:33.347543: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1280 totalling 2.5KiB\r\n2018-04-11 06:58:33.347551: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 1536 totalling 1.5KiB\r\n2018-04-11 06:58:33.347557: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 14 Chunks of size 2048 totalling 28.0KiB\r\n2018-04-11 06:58:33.347564: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 6912 totalling 13.5KiB\r\n2018-04-11 06:58:33.347571: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 65536 totalling 64.0KiB\r\n2018-04-11 06:58:33.347577: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 81920 totalling 80.0KiB\r\n2018-04-11 06:58:33.347585: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 113152 totalling 110.5KiB\r\n2018-04-11 06:58:33.347591: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 147456 totalling 288.0KiB\r\n2018-04-11 06:58:33.347598: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 289536 totalling 565.5KiB\r\n2018-04-11 06:58:33.347605: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 294912 totalling 288.0KiB\r\n2018-04-11 06:58:33.347611: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 417536 totalling 407.8KiB\r\n2018-04-11 06:58:33.347618: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 589824 totalling 1.12MiB\r\n2018-04-11 06:58:33.347624: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 1179648 totalling 2.25MiB\r\n2018-04-11 06:58:33.347630: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 2359296 totalling 6.75MiB\r\n2018-04-11 06:58:33.347637: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4194304 totalling 4.00MiB\r\n2018-04-11 06:58:33.347642: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 4718592 totalling 9.00MiB\r\n2018-04-11 06:58:33.347651: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 3 Chunks of size 8388608 totalling 24.00MiB\r\n2018-04-11 06:58:33.347657: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 9437184 totalling 63.00MiB\r\n2018-04-11 06:58:33.347663: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 14680064 totalling 14.00MiB\r\n2018-04-11 06:58:33.347670: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 16515072 totalling 15.75MiB\r\n2018-04-11 06:58:33.347686: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 7 Chunks of size 16777216 totalling 112.00MiB\r\n2018-04-11 06:58:33.347693: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 18120704 totalling 17.28MiB\r\n2018-04-11 06:58:33.347705: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 22609920 totalling 21.56MiB\r\n2018-04-11 06:58:33.347713: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 2 Chunks of size 36773888 totalling 70.14MiB\r\n2018-04-11 06:58:33.347720: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 5 Chunks of size 74097664 totalling 353.33MiB\r\n2018-04-11 06:58:33.347734: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 120790016 totalling 115.19MiB\r\n2018-04-11 06:58:33.347742: I tensorflow/core/common_runtime/bfc_allocator.cc:674] 1 Chunks of size 4742250496 totalling 4.42GiB\r\n2018-04-11 06:58:33.347752: I tensorflow/core/common_runtime/bfc_allocator.cc:678] Sum Total of in-use chunks: 5.23GiB\r\n2018-04-11 06:58:33.347761: I tensorflow/core/common_runtime/bfc_allocator.cc:680] Stats:\r\nLimit:                 15868438119\r\nInUse:                  5613834496\r\nMaxInUse:               5613834496\r\nNumAllocs:                   27368\r\nMaxAllocSize:           4742250496\r\n```\r\nLet me know if I can do anything to help debug this. "}