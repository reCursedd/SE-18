{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/379245834", "html_url": "https://github.com/tensorflow/tensorflow/issues/5867#issuecomment-379245834", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5867", "id": 379245834, "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTI0NTgzNA==", "user": {"login": "AndRossi", "id": 6909990, "node_id": "MDQ6VXNlcjY5MDk5OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6909990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndRossi", "html_url": "https://github.com/AndRossi", "followers_url": "https://api.github.com/users/AndRossi/followers", "following_url": "https://api.github.com/users/AndRossi/following{/other_user}", "gists_url": "https://api.github.com/users/AndRossi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndRossi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndRossi/subscriptions", "organizations_url": "https://api.github.com/users/AndRossi/orgs", "repos_url": "https://api.github.com/users/AndRossi/repos", "events_url": "https://api.github.com/users/AndRossi/events{/privacy}", "received_events_url": "https://api.github.com/users/AndRossi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-06T13:00:24Z", "updated_at": "2018-04-06T13:00:24Z", "author_association": "NONE", "body_html": "<p>Please let optimize_for_inference remove dropout layers from the graph.<br>\nI am trying to convert a MNIST model from TF to TFLite.<br>\nIt seems to me that this should be the very first thing to try when one is learning to use TFLite, since MNIST is the first tutorial in TensorFlow.</p>\n<p>To allow the conversion to TFLite, I need to remove the dropout layer in my MNIST model frozen graph.</p>\n<p>If I get it right, the only way to do that (without writing a python script for that) is to use the Graph Transform Tool.<br>\nWhich can only run with Bazel.<br>\nWhich requires to download TF from sources.<br>\nThis feels like a <strong>huge overkill</strong>.</p>\n<p>The funny thing is that in prediction mode the dropout would not even be used.<br>\nSo I'm spending a day downloading and configuring components in my environment to just remove something that would not even be used.</p>\n<p>If I am missing something please tell me - I would be overjoyed to know I got it wrong.</p>", "body_text": "Please let optimize_for_inference remove dropout layers from the graph.\nI am trying to convert a MNIST model from TF to TFLite.\nIt seems to me that this should be the very first thing to try when one is learning to use TFLite, since MNIST is the first tutorial in TensorFlow.\nTo allow the conversion to TFLite, I need to remove the dropout layer in my MNIST model frozen graph.\nIf I get it right, the only way to do that (without writing a python script for that) is to use the Graph Transform Tool.\nWhich can only run with Bazel.\nWhich requires to download TF from sources.\nThis feels like a huge overkill.\nThe funny thing is that in prediction mode the dropout would not even be used.\nSo I'm spending a day downloading and configuring components in my environment to just remove something that would not even be used.\nIf I am missing something please tell me - I would be overjoyed to know I got it wrong.", "body": "Please let optimize_for_inference remove dropout layers from the graph.\r\nI am trying to convert a MNIST model from TF to TFLite.\r\nIt seems to me that this should be the very first thing to try when one is learning to use TFLite, since MNIST is the first tutorial in TensorFlow.\r\n\r\nTo allow the conversion to TFLite, I need to remove the dropout layer in my MNIST model frozen graph. \r\n\r\nIf I get it right, the only way to do that (without writing a python script for that) is to use the Graph Transform Tool.\r\nWhich can only run with Bazel. \r\nWhich requires to download TF from sources.\r\nThis feels like a **huge overkill**.\r\n\r\nThe funny thing is that in prediction mode the dropout would not even be used.\r\nSo I'm spending a day downloading and configuring components in my environment to just remove something that would not even be used.\r\n\r\nIf I am missing something please tell me - I would be overjoyed to know I got it wrong."}