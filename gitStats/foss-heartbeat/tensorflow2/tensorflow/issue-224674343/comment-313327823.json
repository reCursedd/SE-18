{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313327823", "html_url": "https://github.com/tensorflow/tensorflow/issues/9476#issuecomment-313327823", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9476", "id": 313327823, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzMyNzgyMw==", "user": {"login": "JieHe96", "id": 10534493, "node_id": "MDQ6VXNlcjEwNTM0NDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/10534493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JieHe96", "html_url": "https://github.com/JieHe96", "followers_url": "https://api.github.com/users/JieHe96/followers", "following_url": "https://api.github.com/users/JieHe96/following{/other_user}", "gists_url": "https://api.github.com/users/JieHe96/gists{/gist_id}", "starred_url": "https://api.github.com/users/JieHe96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JieHe96/subscriptions", "organizations_url": "https://api.github.com/users/JieHe96/orgs", "repos_url": "https://api.github.com/users/JieHe96/repos", "events_url": "https://api.github.com/users/JieHe96/events{/privacy}", "received_events_url": "https://api.github.com/users/JieHe96/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-06T08:13:51Z", "updated_at": "2017-07-06T08:13:51Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6384566\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/s1ddok\">@s1ddok</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6794712\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/hansonboy\">@hansonboy</a> I found a solution for this issue. Try this:<br>\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile<br>\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"<br>\nthen recompile the libtensorflow-core.a according to the modified Makefile.</p>\n<p>The reason why this happened is because:<br>\nin tensorflow/core/kernels/cwise_ops_common.h<br>\n#if defined(<strong>ANDROID_TYPES_SLIM</strong>)<br>\n// Note that <strong>ANDROID_TYPES_SLIM</strong> is also checked in the cwise_ops*.cc files.<br>\n// Normally Android TensorFlow is built with a reduced number of types (float).<br>\n// Override on the command-line \"--define ANDROID_TYPES=<strong>ANDROID_TYPES_FULL</strong>\"<br>\n// to generate a library with full type support with a consequent increase in<br>\n// code size.<br>\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)<br>\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6) <br>\nREGISTER(OP, D, N, F, T0)<br>\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7) <br>\nREGISTER(OP, D, N, F, T0)<br>\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8) <br>\nREGISTER(OP, D, N, F, T0)<br>\n#else  // !defined(<strong>ANDROID_TYPES_SLIM</strong>)</p>\n<p>(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link:  @<a href=\"https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example\">https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example</a>)</p>", "body_text": "@s1ddok @petewarden @hansonboy I found a solution for this issue. Try this:\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"\nthen recompile the libtensorflow-core.a according to the modified Makefile.\nThe reason why this happened is because:\nin tensorflow/core/kernels/cwise_ops_common.h\n#if defined(ANDROID_TYPES_SLIM)\n// Note that ANDROID_TYPES_SLIM is also checked in the cwise_ops*.cc files.\n// Normally Android TensorFlow is built with a reduced number of types (float).\n// Override on the command-line \"--define ANDROID_TYPES=ANDROID_TYPES_FULL\"\n// to generate a library with full type support with a consequent increase in\n// code size.\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6) \nREGISTER(OP, D, N, F, T0)\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7) \nREGISTER(OP, D, N, F, T0)\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8) \nREGISTER(OP, D, N, F, T0)\n#else  // !defined(ANDROID_TYPES_SLIM)\n(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link:  @https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example)", "body": "@s1ddok @petewarden @hansonboy I found a solution for this issue. Try this:\r\nin the (your tensorflow root)/tensorflow/contrib/makefile/Makefile \r\nremove the line \"-D__ANDROID_TYPES_SLIM__ \" under \"# Settings for iOS.\" for all \"$(IOS_ARCH)\"\r\nthen recompile the libtensorflow-core.a according to the modified Makefile.\r\n\r\nThe reason why this happened is because:\r\nin tensorflow/core/kernels/cwise_ops_common.h\r\n#if defined(__ANDROID_TYPES_SLIM__)\r\n// Note that __ANDROID_TYPES_SLIM__ is also checked in the cwise_ops*.cc files.\r\n// Normally Android TensorFlow is built with a reduced number of types (float).\r\n// Override on the command-line \"--define ANDROID_TYPES=__ANDROID_TYPES_FULL__\"\r\n// to generate a library with full type support with a consequent increase in\r\n// code size.\r\n#define REGISTER2(OP, D, N, F, T0, T1) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER3(OP, D, N, F, T0, T1, T2) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER4(OP, D, N, F, T0, T1, T2, T3) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER5(OP, D, N, F, T0, T1, T2, T3, T4) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER6(OP, D, N, F, T0, T1, T2, T3, T4, T5) REGISTER(OP, D, N, F, T0)\r\n#define REGISTER7(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6) \\\r\n  REGISTER(OP, D, N, F, T0)\r\n#define REGISTER8(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7) \\\r\n  REGISTER(OP, D, N, F, T0)\r\n#define REGISTER9(OP, D, N, F, T0, T1, T2, T3, T4, T5, T6, T7, T8) \\\r\n  REGISTER(OP, D, N, F, T0)\r\n#else  // !defined(__ANDROID_TYPES_SLIM__)\r\n\r\n(ps: I also wrote a iOS_SSDMobilenet example base on the python ssd_mobilenet and ios_camera_example, and here is the github link:  @https://github.com/JieHe96/ios_SSDMobilenet_tensorflow_example)"}