{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10376", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10376/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10376/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10376/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10376", "id": 232939106, "node_id": "MDU6SXNzdWUyMzI5MzkxMDY=", "number": 10376, "title": "Lack support of qint32 in tf.nn.tanh", "user": {"login": "frankyjuang", "id": 6175880, "node_id": "MDQ6VXNlcjYxNzU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6175880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frankyjuang", "html_url": "https://github.com/frankyjuang", "followers_url": "https://api.github.com/users/frankyjuang/followers", "following_url": "https://api.github.com/users/frankyjuang/following{/other_user}", "gists_url": "https://api.github.com/users/frankyjuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/frankyjuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frankyjuang/subscriptions", "organizations_url": "https://api.github.com/users/frankyjuang/orgs", "repos_url": "https://api.github.com/users/frankyjuang/repos", "events_url": "https://api.github.com/users/frankyjuang/events{/privacy}", "received_events_url": "https://api.github.com/users/frankyjuang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "dr4b", "id": 5649718, "node_id": "MDQ6VXNlcjU2NDk3MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5649718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dr4b", "html_url": "https://github.com/dr4b", "followers_url": "https://api.github.com/users/dr4b/followers", "following_url": "https://api.github.com/users/dr4b/following{/other_user}", "gists_url": "https://api.github.com/users/dr4b/gists{/gist_id}", "starred_url": "https://api.github.com/users/dr4b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dr4b/subscriptions", "organizations_url": "https://api.github.com/users/dr4b/orgs", "repos_url": "https://api.github.com/users/dr4b/repos", "events_url": "https://api.github.com/users/dr4b/events{/privacy}", "received_events_url": "https://api.github.com/users/dr4b/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dr4b", "id": 5649718, "node_id": "MDQ6VXNlcjU2NDk3MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5649718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dr4b", "html_url": "https://github.com/dr4b", "followers_url": "https://api.github.com/users/dr4b/followers", "following_url": "https://api.github.com/users/dr4b/following{/other_user}", "gists_url": "https://api.github.com/users/dr4b/gists{/gist_id}", "starred_url": "https://api.github.com/users/dr4b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dr4b/subscriptions", "organizations_url": "https://api.github.com/users/dr4b/orgs", "repos_url": "https://api.github.com/users/dr4b/repos", "events_url": "https://api.github.com/users/dr4b/events{/privacy}", "received_events_url": "https://api.github.com/users/dr4b/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-06-01T16:36:34Z", "updated_at": "2017-06-14T02:03:03Z", "closed_at": "2017-06-14T02:03:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>According to the <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/tf/tanh\" rel=\"nofollow\">doc</a>, the <code>tanh</code> operation supports floating point inputs as well as fixed point inputs of type qint32. However, in the latest master, a <code>TypeError</code> raised when running following code:</p>\n<pre><code>import tensorflow as tf\nsess = tf.InteractiveSession()\nx = tf.constant([1.,2.,3.], dtype=tf.float32)\n\nfrom tensorflow.python.ops.gen_array_ops import quantize_v2\nx_quant = quantize_v2(x, min_range=0., max_range=4., T=tf.qint32)\ny_quant = tf.nn.tanh(x_quant[0])\n</code></pre>\n<p>The complete error message is</p>\n<pre><code>TypeError: Value passed to parameter 'x' has DataType qint32 not in list of allowed values: float16, float32, float64, complex64, complex128\n</code></pre>\n<p>According to the backend function <code>_tanh</code> in <code>gen_math_ops.py</code>:</p>\n<pre><code>def _tanh(x, name=None):\n  r\"\"\"Computes hyperbolic tangent of `x` element-wise.\n\n  Args:\n    x: A `Tensor`. Must be one of the following types: `half`, `float32`, `float64`, `complex64`, `complex128`.\n    name: A name for the operation (optional).\n</code></pre>\n<p>It shows that it doesn't support qint32.</p>", "body_text": "According to the doc, the tanh operation supports floating point inputs as well as fixed point inputs of type qint32. However, in the latest master, a TypeError raised when running following code:\nimport tensorflow as tf\nsess = tf.InteractiveSession()\nx = tf.constant([1.,2.,3.], dtype=tf.float32)\n\nfrom tensorflow.python.ops.gen_array_ops import quantize_v2\nx_quant = quantize_v2(x, min_range=0., max_range=4., T=tf.qint32)\ny_quant = tf.nn.tanh(x_quant[0])\n\nThe complete error message is\nTypeError: Value passed to parameter 'x' has DataType qint32 not in list of allowed values: float16, float32, float64, complex64, complex128\n\nAccording to the backend function _tanh in gen_math_ops.py:\ndef _tanh(x, name=None):\n  r\"\"\"Computes hyperbolic tangent of `x` element-wise.\n\n  Args:\n    x: A `Tensor`. Must be one of the following types: `half`, `float32`, `float64`, `complex64`, `complex128`.\n    name: A name for the operation (optional).\n\nIt shows that it doesn't support qint32.", "body": "According to the [doc](https://www.tensorflow.org/versions/master/api_docs/python/tf/tanh), the `tanh` operation supports floating point inputs as well as fixed point inputs of type qint32. However, in the latest master, a `TypeError` raised when running following code:\r\n```\r\nimport tensorflow as tf\r\nsess = tf.InteractiveSession()\r\nx = tf.constant([1.,2.,3.], dtype=tf.float32)\r\n\r\nfrom tensorflow.python.ops.gen_array_ops import quantize_v2\r\nx_quant = quantize_v2(x, min_range=0., max_range=4., T=tf.qint32)\r\ny_quant = tf.nn.tanh(x_quant[0])\r\n```\r\nThe complete error message is \r\n```\r\nTypeError: Value passed to parameter 'x' has DataType qint32 not in list of allowed values: float16, float32, float64, complex64, complex128\r\n```\r\n\r\nAccording to the backend function `_tanh` in `gen_math_ops.py`:\r\n```\r\ndef _tanh(x, name=None):\r\n  r\"\"\"Computes hyperbolic tangent of `x` element-wise.\r\n\r\n  Args:\r\n    x: A `Tensor`. Must be one of the following types: `half`, `float32`, `float64`, `complex64`, `complex128`.\r\n    name: A name for the operation (optional).\r\n```\r\nIt shows that it doesn't support qint32.\r\n"}