{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/191879719", "html_url": "https://github.com/tensorflow/tensorflow/issues/504#issuecomment-191879719", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/504", "id": 191879719, "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTg3OTcxOQ==", "user": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-03T17:41:48Z", "updated_at": "2016-03-03T17:41:48Z", "author_association": "MEMBER", "body_html": "<p>The division sounds like it will give the correct results, but for the wrong reasons. :)</p>\n<p>The key difference between the current Android demo code and the label_image example is that they use different versions of the Inception model. The current Android model requires a divisor of 1, and a subtraction of 117. You can see the image mean defined here:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorflowImageListener.java#L51\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorflowImageListener.java#L51</a><br>\nSince the divisor is 1, it's ignored in the current code.</p>\n<p>To load the model that's used in label_image and image_retraining, you need to use a subtraction of 128 and a division of 128. You can see those values as mean and std in the command-line arguments here:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc#L246\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc#L246</a></p>", "body_text": "The division sounds like it will give the correct results, but for the wrong reasons. :)\nThe key difference between the current Android demo code and the label_image example is that they use different versions of the Inception model. The current Android model requires a divisor of 1, and a subtraction of 117. You can see the image mean defined here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorflowImageListener.java#L51\nSince the divisor is 1, it's ignored in the current code.\nTo load the model that's used in label_image and image_retraining, you need to use a subtraction of 128 and a division of 128. You can see those values as mean and std in the command-line arguments here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc#L246", "body": "The division sounds like it will give the correct results, but for the wrong reasons. :)\n\nThe key difference between the current Android demo code and the label_image example is that they use different versions of the Inception model. The current Android model requires a divisor of 1, and a subtraction of 117. You can see the image mean defined here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/src/org/tensorflow/demo/TensorflowImageListener.java#L51\nSince the divisor is 1, it's ignored in the current code.\n\nTo load the model that's used in label_image and image_retraining, you need to use a subtraction of 128 and a division of 128. You can see those values as mean and std in the command-line arguments here:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc#L246\n"}