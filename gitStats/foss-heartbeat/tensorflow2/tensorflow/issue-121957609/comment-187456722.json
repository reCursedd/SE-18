{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/187456722", "html_url": "https://github.com/tensorflow/tensorflow/issues/504#issuecomment-187456722", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/504", "id": 187456722, "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzQ1NjcyMg==", "user": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-23T00:51:52Z", "updated_at": "2016-02-23T00:51:52Z", "author_association": "MEMBER", "body_html": "<p>The Android code doesn't use GraphDefBuilder, it just loads the file directly into a GraphDef:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L91\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L91</a><br>\nAs long as you make sure you've added your model file as an asset, that should work to load it.</p>\n<p>There are some additional parameters you'll need to change, like the input image size and the 'mean' to subtract from all the inputs, and you'll need to add a standard deviation parameter too:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L45\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L45</a></p>\n<p>If you look at the default values for those flags in label_image, that should help.</p>\n<p>What's the exact error that you're hitting by the way? That may help be more targeted in my ideas.</p>", "body_text": "The Android code doesn't use GraphDefBuilder, it just loads the file directly into a GraphDef:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L91\nAs long as you make sure you've added your model file as an asset, that should work to load it.\nThere are some additional parameters you'll need to change, like the input image size and the 'mean' to subtract from all the inputs, and you'll need to add a standard deviation parameter too:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L45\nIf you look at the default values for those flags in label_image, that should help.\nWhat's the exact error that you're hitting by the way? That may help be more targeted in my ideas.", "body": "The Android code doesn't use GraphDefBuilder, it just loads the file directly into a GraphDef:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L91\nAs long as you make sure you've added your model file as an asset, that should work to load it.\n\nThere are some additional parameters you'll need to change, like the input image size and the 'mean' to subtract from all the inputs, and you'll need to add a standard deviation parameter too:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/android/jni/tensorflow_jni.cc#L45\n\nIf you look at the default values for those flags in label_image, that should help.\n\nWhat's the exact error that you're hitting by the way? That may help be more targeted in my ideas.\n"}