{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9904", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9904/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9904/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9904/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9904", "id": 228603734, "node_id": "MDU6SXNzdWUyMjg2MDM3MzQ=", "number": 9904, "title": "BeamSearchDecoder cell state never changed ", "user": {"login": "chenghuige", "id": 6323467, "node_id": "MDQ6VXNlcjYzMjM0Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6323467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenghuige", "html_url": "https://github.com/chenghuige", "followers_url": "https://api.github.com/users/chenghuige/followers", "following_url": "https://api.github.com/users/chenghuige/following{/other_user}", "gists_url": "https://api.github.com/users/chenghuige/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenghuige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenghuige/subscriptions", "organizations_url": "https://api.github.com/users/chenghuige/orgs", "repos_url": "https://api.github.com/users/chenghuige/repos", "events_url": "https://api.github.com/users/chenghuige/events{/privacy}", "received_events_url": "https://api.github.com/users/chenghuige/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-05-15T04:29:19Z", "updated_at": "2018-09-05T01:54:53Z", "closed_at": "2018-09-05T01:49:07Z", "author_association": "NONE", "body_html": "<p>tf version '1.1.0-rc2'<br>\nIt looks BeamSearchDecoder never used next_cell_state, but always using the inital cell state.<br>\nIn beam_search_decoder.py 423<br>\nnext_cell_state = nest.map_structure(<br>\nself._maybe_split_batch_beams,<br>\nnext_cell_state, self._cell.state_size)<br>\nBut next_cell_state is never used later, since just pass   state to _beam_search_step function where state.cell_state is never changed<br>\nbeam_search_output, beam_search_state = _beam_search_step(<br>\ntime=time,<br>\nlogits=cell_outputs,<br>\nbeam_state=state,<br>\nbatch_size=batch_size,<br>\nbeam_width=beam_width,<br>\nend_token=end_token,<br>\nlength_penalty_weight=length_penalty_weight)</p>", "body_text": "tf version '1.1.0-rc2'\nIt looks BeamSearchDecoder never used next_cell_state, but always using the inital cell state.\nIn beam_search_decoder.py 423\nnext_cell_state = nest.map_structure(\nself._maybe_split_batch_beams,\nnext_cell_state, self._cell.state_size)\nBut next_cell_state is never used later, since just pass   state to _beam_search_step function where state.cell_state is never changed\nbeam_search_output, beam_search_state = _beam_search_step(\ntime=time,\nlogits=cell_outputs,\nbeam_state=state,\nbatch_size=batch_size,\nbeam_width=beam_width,\nend_token=end_token,\nlength_penalty_weight=length_penalty_weight)", "body": "tf version '1.1.0-rc2'\r\nIt looks BeamSearchDecoder never used next_cell_state, but always using the inital cell state.\r\nIn beam_search_decoder.py 423\r\n        next_cell_state = nest.map_structure(\r\n            self._maybe_split_batch_beams,\r\n            next_cell_state, self._cell.state_size)\r\nBut next_cell_state is never used later, since just pass   state to _beam_search_step function where state.cell_state is never changed \r\n    beam_search_output, beam_search_state = _beam_search_step(\r\n          time=time,\r\n          logits=cell_outputs,\r\n          beam_state=state,\r\n          batch_size=batch_size,\r\n          beam_width=beam_width,\r\n          end_token=end_token,\r\n          length_penalty_weight=length_penalty_weight)"}