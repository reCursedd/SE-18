{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/280666294", "html_url": "https://github.com/tensorflow/tensorflow/issues/7542#issuecomment-280666294", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7542", "id": 280666294, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY2NjI5NA==", "user": {"login": "dchirikov", "id": 6017800, "node_id": "MDQ6VXNlcjYwMTc4MDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6017800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dchirikov", "html_url": "https://github.com/dchirikov", "followers_url": "https://api.github.com/users/dchirikov/followers", "following_url": "https://api.github.com/users/dchirikov/following{/other_user}", "gists_url": "https://api.github.com/users/dchirikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dchirikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dchirikov/subscriptions", "organizations_url": "https://api.github.com/users/dchirikov/orgs", "repos_url": "https://api.github.com/users/dchirikov/repos", "events_url": "https://api.github.com/users/dchirikov/events{/privacy}", "received_events_url": "https://api.github.com/users/dchirikov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-17T14:36:46Z", "updated_at": "2017-02-17T14:36:59Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>but that requires the same debugging step</p>\n</blockquote>\n<p>Agree. Just to make sure we are on the same page.</p>\n<p>Did as you requested:</p>\n<pre><code>$ ./configure \nPlease specify the location of python. [Default is /bin/python]: /usr/bin/python3.4\nPlease specify optimization flags to use during compilation [Default is -march=native]: -march=native\nDo you wish to use jemalloc as the malloc implementation? (Linux only) [Y/n] \njemalloc enabled on Linux\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \nNo XLA support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/lib64/python3.4/site-packages\n  /usr/lib/python3.4/site-packages\nPlease input the desired Python library path to use.  Default is [/usr/lib64/python3.4/site-packages]\n/usr/lib64/python3.4/site-packages\nDo you wish to build TensorFlow with OpenCL support? [y/N] \nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /bin/gcc]: /usr/bin/gcc\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.10\nPlease specify the location where cuDNN 5.1.10 library is installed. Refer to README.md for more details. [Default is /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0]: /trinity/shared/apps/cv-ppc64le/nvidia/cudnn/8.0\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 6.0\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n.................\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n............\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n..................\ntotal 16\n-rwxrwxr-x 1 cvsupport cvsupport 1267 Feb 17 15:30 BUILD\ndrwxrwxr-x 3 cvsupport cvsupport   17 Feb 17 15:30 clang\n-rwxrwxr-x 1 cvsupport cvsupport 8928 Feb 17 15:30 CROSSTOOL\n\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\nERROR: /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD\", line 4\n                error_gpu_disabled()\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n                fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 1.345s\n\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\ntotal 8\n-rwxrwxr-x 1 cvsupport cvsupport  88 Feb 17 15:33 BUILD\n-rwxrwxr-x 1 cvsupport cvsupport 497 Feb 17 15:33 error_gpu_disabled.bzl\n</code></pre>", "body_text": "but that requires the same debugging step\n\nAgree. Just to make sure we are on the same page.\nDid as you requested:\n$ ./configure \nPlease specify the location of python. [Default is /bin/python]: /usr/bin/python3.4\nPlease specify optimization flags to use during compilation [Default is -march=native]: -march=native\nDo you wish to use jemalloc as the malloc implementation? (Linux only) [Y/n] \njemalloc enabled on Linux\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \nNo XLA support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/lib64/python3.4/site-packages\n  /usr/lib/python3.4/site-packages\nPlease input the desired Python library path to use.  Default is [/usr/lib64/python3.4/site-packages]\n/usr/lib64/python3.4/site-packages\nDo you wish to build TensorFlow with OpenCL support? [y/N] \nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /bin/gcc]: /usr/bin/gcc\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.10\nPlease specify the location where cuDNN 5.1.10 library is installed. Refer to README.md for more details. [Default is /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0]: /trinity/shared/apps/cv-ppc64le/nvidia/cudnn/8.0\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 6.0\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n.................\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n............\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\n..................\ntotal 16\n-rwxrwxr-x 1 cvsupport cvsupport 1267 Feb 17 15:30 BUILD\ndrwxrwxr-x 3 cvsupport cvsupport   17 Feb 17 15:30 clang\n-rwxrwxr-x 1 cvsupport cvsupport 8928 Feb 17 15:30 CROSSTOOL\n\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\nERROR: /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD\", line 4\n                error_gpu_disabled()\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\n                fail(\"ERROR: Building with --config=c...\")\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD.\nINFO: Elapsed time: 1.345s\n\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\ntotal 8\n-rwxrwxr-x 1 cvsupport cvsupport  88 Feb 17 15:33 BUILD\n-rwxrwxr-x 1 cvsupport cvsupport 497 Feb 17 15:33 error_gpu_disabled.bzl", "body": ">  but that requires the same debugging step\r\n\r\nAgree. Just to make sure we are on the same page.\r\n\r\nDid as you requested:\r\n```\r\n$ ./configure \r\nPlease specify the location of python. [Default is /bin/python]: /usr/bin/python3.4\r\nPlease specify optimization flags to use during compilation [Default is -march=native]: -march=native\r\nDo you wish to use jemalloc as the malloc implementation? (Linux only) [Y/n] \r\njemalloc enabled on Linux\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \r\nNo Hadoop File System support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N] \r\nNo XLA support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /usr/lib64/python3.4/site-packages\r\n  /usr/lib/python3.4/site-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/lib64/python3.4/site-packages]\r\n/usr/lib64/python3.4/site-packages\r\nDo you wish to build TensorFlow with OpenCL support? [y/N] \r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /bin/gcc]: /usr/bin/gcc\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\r\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5.1.10\r\nPlease specify the location where cuDNN 5.1.10 library is installed. Refer to README.md for more details. [Default is /trinity/shared/apps/cv-ppc64le/nvidia/cuda/8.0]: /trinity/shared/apps/cv-ppc64le/nvidia/cudnn/8.0\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]: 6.0\r\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\r\n.................\r\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\r\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\r\n............\r\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\r\nINFO: All external dependencies fetched successfully.\r\nConfiguration finished\r\n\r\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\r\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\r\n..................\r\ntotal 16\r\n-rwxrwxr-x 1 cvsupport cvsupport 1267 Feb 17 15:30 BUILD\r\ndrwxrwxr-x 3 cvsupport cvsupport   17 Feb 17 15:30 clang\r\n-rwxrwxr-x 1 cvsupport cvsupport 8928 Feb 17 15:30 CROSSTOOL\r\n\r\n$ bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\r\nWARNING: Sandboxed execution is not supported on your system and thus hermeticity of actions cannot be guaranteed. See http://bazel.build/docs/bazel-user-manual.html#sandboxing for more information. You can turn off this warning via --ignore_unsupported_sandboxing.\r\nWARNING: /trinity/home/cvsupport/dmitry/tf/tensorflow/third_party/gpus/cuda_configure.bzl:116:3: ========================= test ==========================.\r\nERROR: /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD:4:1: Traceback (most recent call last):\r\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD\", line 4\r\n                error_gpu_disabled()\r\n        File \"/local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/error_gpu_disabled.bzl\", line 3, in error_gpu_disabled\r\n                fail(\"ERROR: Building with --config=c...\")\r\nERROR: Building with --config=cuda but TensorFlow is not configured to build with GPU support. Please re-run ./configure and enter 'Y' at the prompt to build with GPU support.\r\nERROR: no such target '@local_config_cuda//crosstool:toolchain': target 'toolchain' not declared in package 'crosstool' defined by /local/cvsupport/_bazel_cvsupport/c61d2ac558d6d30ef2694b9af72e4144/external/local_config_cuda/crosstool/BUILD.\r\nINFO: Elapsed time: 1.345s\r\n\r\n$ ls  -l $(bazel info output_base)/external/local_config_cuda/crosstool\r\nINFO: $TEST_TMPDIR defined: output root default is '/local/cvsupport'.\r\ntotal 8\r\n-rwxrwxr-x 1 cvsupport cvsupport  88 Feb 17 15:33 BUILD\r\n-rwxrwxr-x 1 cvsupport cvsupport 497 Feb 17 15:33 error_gpu_disabled.bzl\r\n```"}