{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/373155100", "html_url": "https://github.com/tensorflow/tensorflow/issues/17702#issuecomment-373155100", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17702", "id": 373155100, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzE1NTEwMA==", "user": {"login": "PiyushDatta", "id": 23441322, "node_id": "MDQ6VXNlcjIzNDQxMzIy", "avatar_url": "https://avatars0.githubusercontent.com/u/23441322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PiyushDatta", "html_url": "https://github.com/PiyushDatta", "followers_url": "https://api.github.com/users/PiyushDatta/followers", "following_url": "https://api.github.com/users/PiyushDatta/following{/other_user}", "gists_url": "https://api.github.com/users/PiyushDatta/gists{/gist_id}", "starred_url": "https://api.github.com/users/PiyushDatta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PiyushDatta/subscriptions", "organizations_url": "https://api.github.com/users/PiyushDatta/orgs", "repos_url": "https://api.github.com/users/PiyushDatta/repos", "events_url": "https://api.github.com/users/PiyushDatta/events{/privacy}", "received_events_url": "https://api.github.com/users/PiyushDatta/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-14T19:59:16Z", "updated_at": "2018-03-14T19:59:16Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17216714\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/magicmutal\">@magicmutal</a><br>\n<strong>For the first code snippet:</strong></p>\n<pre><code>import tensorflow as tf\n\nflags = tf.app.flags\nFLAGS = flags.FLAGS\nflags.DEFINE_float('learning_rate', 0.01, 'Initial learning rate.')\nflags.DEFINE_integer('max_steps', 2000, 'Number of steps to run trainer.')\nflags.DEFINE_integer('hidden1', 128, 'Number of units in hidden layer 1.')\nflags.DEFINE_integer('hidden2', 32, 'Number of units in hidden layer 2.')\nflags.DEFINE_integer('batch_size', 100, 'Batch size. '\n'Must divide evenly into the dataset sizes.')\nflags.DEFINE_string('train_dir', 'data', 'Directory to put the training data.')\nflags.DEFINE_boolean('fake_data', False, 'If true, uses fake data '\n'for unit testing.')\n\nFLAGS = flags.FLAGS\nprint(FLAGS.learning_rate)\n</code></pre>\n<p>This works on Tensorflow version 1.6.0 and on the source version.</p>\n<p><strong>For the second code snippet:</strong></p>\n<pre><code>import tensorflow as tf\n\nFLAGS = tf.app.flags.FLAGS\nFLAGS.learning_rate = 0.02\nFLAGS.name = 'test'\n\nprint(FLAGS.learning_rate)\nprint(FLAGS.name)\n</code></pre>\n<p>You must define the learning rate and name within tf.app.flags before you can change it within tf.app.flags.FLAGS (notice the different flags). Therefore you can make this code work by doing this:</p>\n<pre><code>import tensorflow as tf\n\nflags = tf.app.flags \nFLAGS = tf.app.flags.FLAGS\nflags.DEFINE_float('learning_rate', 0.02, 'Initial learning rate.')\nflags.DEFINE_string('name', 'test', 'The name of our flag')\n# FLAGS.learning_rate = 0.03\n# FLAGS.name = 'Testing'\n\nprint(FLAGS.learning_rate)\nprint(FLAGS.name)\n</code></pre>\n<p>You can un-comment FLAGS.learning_rate = 0.03 and FLAGS.name = 'Testing' if you want to change the values of learning rate or name, but you MUST declare both these variables within tf.app.flags as shown by the lines above.  <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=26778610\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dketterer\">@dketterer</a> the explanation for the second code snippet is similar to your problem. I have not looked at the jupyter notebook issue however, maybe make a different issue for that.</p>\n<p>Hope that helps!</p>\n<p>As a PR idea/suggestion, maybe documentation could be made on this? Not too sure.</p>", "body_text": "@magicmutal\nFor the first code snippet:\nimport tensorflow as tf\n\nflags = tf.app.flags\nFLAGS = flags.FLAGS\nflags.DEFINE_float('learning_rate', 0.01, 'Initial learning rate.')\nflags.DEFINE_integer('max_steps', 2000, 'Number of steps to run trainer.')\nflags.DEFINE_integer('hidden1', 128, 'Number of units in hidden layer 1.')\nflags.DEFINE_integer('hidden2', 32, 'Number of units in hidden layer 2.')\nflags.DEFINE_integer('batch_size', 100, 'Batch size. '\n'Must divide evenly into the dataset sizes.')\nflags.DEFINE_string('train_dir', 'data', 'Directory to put the training data.')\nflags.DEFINE_boolean('fake_data', False, 'If true, uses fake data '\n'for unit testing.')\n\nFLAGS = flags.FLAGS\nprint(FLAGS.learning_rate)\n\nThis works on Tensorflow version 1.6.0 and on the source version.\nFor the second code snippet:\nimport tensorflow as tf\n\nFLAGS = tf.app.flags.FLAGS\nFLAGS.learning_rate = 0.02\nFLAGS.name = 'test'\n\nprint(FLAGS.learning_rate)\nprint(FLAGS.name)\n\nYou must define the learning rate and name within tf.app.flags before you can change it within tf.app.flags.FLAGS (notice the different flags). Therefore you can make this code work by doing this:\nimport tensorflow as tf\n\nflags = tf.app.flags \nFLAGS = tf.app.flags.FLAGS\nflags.DEFINE_float('learning_rate', 0.02, 'Initial learning rate.')\nflags.DEFINE_string('name', 'test', 'The name of our flag')\n# FLAGS.learning_rate = 0.03\n# FLAGS.name = 'Testing'\n\nprint(FLAGS.learning_rate)\nprint(FLAGS.name)\n\nYou can un-comment FLAGS.learning_rate = 0.03 and FLAGS.name = 'Testing' if you want to change the values of learning rate or name, but you MUST declare both these variables within tf.app.flags as shown by the lines above.  @dketterer the explanation for the second code snippet is similar to your problem. I have not looked at the jupyter notebook issue however, maybe make a different issue for that.\nHope that helps!\nAs a PR idea/suggestion, maybe documentation could be made on this? Not too sure.", "body": "@magicmutal \r\n**For the first code snippet:** \r\n```\r\nimport tensorflow as tf\r\n\r\nflags = tf.app.flags\r\nFLAGS = flags.FLAGS\r\nflags.DEFINE_float('learning_rate', 0.01, 'Initial learning rate.')\r\nflags.DEFINE_integer('max_steps', 2000, 'Number of steps to run trainer.')\r\nflags.DEFINE_integer('hidden1', 128, 'Number of units in hidden layer 1.')\r\nflags.DEFINE_integer('hidden2', 32, 'Number of units in hidden layer 2.')\r\nflags.DEFINE_integer('batch_size', 100, 'Batch size. '\r\n'Must divide evenly into the dataset sizes.')\r\nflags.DEFINE_string('train_dir', 'data', 'Directory to put the training data.')\r\nflags.DEFINE_boolean('fake_data', False, 'If true, uses fake data '\r\n'for unit testing.')\r\n\r\nFLAGS = flags.FLAGS\r\nprint(FLAGS.learning_rate)\r\n```\r\n\r\nThis works on Tensorflow version 1.6.0 and on the source version.\r\n\r\n**For the second code snippet:**\r\n```\r\nimport tensorflow as tf\r\n\r\nFLAGS = tf.app.flags.FLAGS\r\nFLAGS.learning_rate = 0.02\r\nFLAGS.name = 'test'\r\n\r\nprint(FLAGS.learning_rate)\r\nprint(FLAGS.name)\r\n```\r\nYou must define the learning rate and name within tf.app.flags before you can change it within tf.app.flags.FLAGS (notice the different flags). Therefore you can make this code work by doing this:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nflags = tf.app.flags \r\nFLAGS = tf.app.flags.FLAGS\r\nflags.DEFINE_float('learning_rate', 0.02, 'Initial learning rate.')\r\nflags.DEFINE_string('name', 'test', 'The name of our flag')\r\n# FLAGS.learning_rate = 0.03\r\n# FLAGS.name = 'Testing'\r\n\r\nprint(FLAGS.learning_rate)\r\nprint(FLAGS.name)\r\n```\r\n\r\nYou can un-comment FLAGS.learning_rate = 0.03 and FLAGS.name = 'Testing' if you want to change the values of learning rate or name, but you MUST declare both these variables within tf.app.flags as shown by the lines above.  @dketterer the explanation for the second code snippet is similar to your problem. I have not looked at the jupyter notebook issue however, maybe make a different issue for that.\r\n\r\nHope that helps!\r\n\r\nAs a PR idea/suggestion, maybe documentation could be made on this? Not too sure."}