{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4674", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4674/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4674/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4674/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4674", "id": 180252286, "node_id": "MDU6SXNzdWUxODAyNTIyODY=", "number": 4674, "title": "GPU pip wheel cannot be used on a system without the GPU libraries installed", "user": {"login": "bc-lee", "id": 7533290, "node_id": "MDQ6VXNlcjc1MzMyOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7533290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bc-lee", "html_url": "https://github.com/bc-lee", "followers_url": "https://api.github.com/users/bc-lee/followers", "following_url": "https://api.github.com/users/bc-lee/following{/other_user}", "gists_url": "https://api.github.com/users/bc-lee/gists{/gist_id}", "starred_url": "https://api.github.com/users/bc-lee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bc-lee/subscriptions", "organizations_url": "https://api.github.com/users/bc-lee/orgs", "repos_url": "https://api.github.com/users/bc-lee/repos", "events_url": "https://api.github.com/users/bc-lee/events{/privacy}", "received_events_url": "https://api.github.com/users/bc-lee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284463744, "node_id": "MDU6TGFiZWwyODQ0NjM3NDQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cuda", "name": "cuda", "color": "f7c6c7", "default": false}, {"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2016-09-30T08:50:10Z", "updated_at": "2018-09-12T18:08:22Z", "closed_at": "2017-06-16T17:47:06Z", "author_association": "NONE", "body_html": "<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>I found some issues like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"158504321\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2653\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2653/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2653\">#2653</a> but it wasn't really helpful.</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.04.1</p>\n<p>Installed version of CUDA and cuDNN: CUDA 8.0 / cuDNN 5.1.5<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<pre><code>$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   558720 Sep 30 15:48 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44\n-rwxr-xr-x 1 root root   415432 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 30 15:48 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn_static.a\n</code></pre>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<p>I've built TF from the source (latest r0.10 branch <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/931ff427f3a55a9c6c734a4c325d6af1b53665c3/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/931ff427f3a55a9c6c734a4c325d6af1b53665c3\"><tt>931ff42</tt></a> with cherry-picked <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/6d57860e390f8f44580ae3a05aa350a4b6138b2b/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/6d57860e390f8f44580ae3a05aa350a4b6138b2b\"><tt>6d57860</tt></a> (for avx2 issue)) with CUDA enabled.</p>\n<pre><code>$ bazel version\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n</code></pre>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><code>python3 -c \"import tensorflow; print(tensorflow.__version__)\"</code> would normally work with GPU.</p>\n<pre><code>$ python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\n0.10.0\n$ env | grep cuda\nCUDA_HOME=/usr/local/cuda\nLD_LIBRARY_PATH=:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\n</code></pre>\n<p>However, if I unset CUDA-related variables and SET <code>CUDA_VISIBLE_DEVICES=-1</code>(for using CPU Only), TF won't work.</p>\n<pre><code>$ unset LD_LIBRARY_PATH             \n$ unset CUDA_HOME           \n$ CUDA_VISIBLE_DEVICES=-1 python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/__init__.py\", line 23, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/__init__.py\", line 48, in &lt;module&gt;\n    from tensorflow.python import pywrap_tensorflow\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 28, in &lt;module&gt;\n    _pywrap_tensorflow = swig_import_helper()\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\n    return _load(spec)\nImportError: libcudart.so.8.0: cannot open shared object file: No such file or directory\n</code></pre>\n<h3>What other attempted solutions have you tried?</h3>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>", "body_text": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nI found some issues like #2653 but it wasn't really helpful.\nEnvironment info\nOperating System: Ubuntu 16.04.1\nInstalled version of CUDA and cuDNN: CUDA 8.0 / cuDNN 5.1.5\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   558720 Sep 30 15:48 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rwxr-xr-x 1 root root   415432 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 30 15:48 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn_static.a\n\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nI've built TF from the source (latest r0.10 branch 931ff42 with cherry-picked 6d57860 (for avx2 issue)) with CUDA enabled.\n$ bazel version\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\npython3 -c \"import tensorflow; print(tensorflow.__version__)\" would normally work with GPU.\n$ python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\n0.10.0\n$ env | grep cuda\nCUDA_HOME=/usr/local/cuda\nLD_LIBRARY_PATH=:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\n\nHowever, if I unset CUDA-related variables and SET CUDA_VISIBLE_DEVICES=-1(for using CPU Only), TF won't work.\n$ unset LD_LIBRARY_PATH             \n$ unset CUDA_HOME           \n$ CUDA_VISIBLE_DEVICES=-1 python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/__init__.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/__init__.py\", line 48, in <module>\n    from tensorflow.python import pywrap_tensorflow\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 28, in <module>\n    _pywrap_tensorflow = swig_import_helper()\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\n    return _load(spec)\nImportError: libcudart.so.8.0: cannot open shared object file: No such file or directory\n\nWhat other attempted solutions have you tried?\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).", "body": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\n\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\n\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\nI found some issues like #2653 but it wasn't really helpful.\n### Environment info\n\nOperating System: Ubuntu 16.04.1\n\nInstalled version of CUDA and cuDNN: CUDA 8.0 / cuDNN 5.1.5\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n```\n$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   558720 Sep 30 15:48 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rwxr-xr-x 1 root root   415432 Sep 30 15:48 /usr/local/cuda/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 30 15:48 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       13 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Sep 30 15:50 /usr/local/cuda/lib64/libcudnn_static.a\n```\n\nIf installed from binary pip package, provide:\n1. A link to the pip package you installed:\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`)\n2. The output of `bazel version`\n\nI've built TF from the source (latest r0.10 branch 931ff427f with cherry-picked 6d57860e3 (for avx2 issue)) with CUDA enabled.\n\n```\n$ bazel version\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp: Thu Jan 01 00:00:00 1970 (0)\nBuild timestamp as int: 0\n```\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\n`python3 -c \"import tensorflow; print(tensorflow.__version__)\"` would normally work with GPU.\n\n```\n$ python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so.5 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so.8.0 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so.8.0 locally\n0.10.0\n$ env | grep cuda\nCUDA_HOME=/usr/local/cuda\nLD_LIBRARY_PATH=:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\n```\n\nHowever, if I unset CUDA-related variables and SET `CUDA_VISIBLE_DEVICES=-1`(for using CPU Only), TF won't work.\n\n```\n$ unset LD_LIBRARY_PATH             \n$ unset CUDA_HOME           \n$ CUDA_VISIBLE_DEVICES=-1 python3 -c \"import tensorflow as tf; print(tf.__version__)\"\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/__init__.py\", line 23, in <module>\n    from tensorflow.python import *\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/__init__.py\", line 48, in <module>\n    from tensorflow.python import pywrap_tensorflow\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 28, in <module>\n    _pywrap_tensorflow = swig_import_helper()\n  File \"/home/leebc/.local/lib/python3.5/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_pywrap_tensorflow', fp, pathname, description)\n  File \"/usr/lib/python3.5/imp.py\", line 242, in load_module\n    return load_dynamic(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 342, in load_dynamic\n    return _load(spec)\nImportError: libcudart.so.8.0: cannot open shared object file: No such file or directory\n```\n### What other attempted solutions have you tried?\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n"}