{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/270883628", "html_url": "https://github.com/tensorflow/tensorflow/issues/6670#issuecomment-270883628", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6670", "id": 270883628, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDg4MzYyOA==", "user": {"login": "AlexandreBriot", "id": 22516726, "node_id": "MDQ6VXNlcjIyNTE2NzI2", "avatar_url": "https://avatars3.githubusercontent.com/u/22516726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexandreBriot", "html_url": "https://github.com/AlexandreBriot", "followers_url": "https://api.github.com/users/AlexandreBriot/followers", "following_url": "https://api.github.com/users/AlexandreBriot/following{/other_user}", "gists_url": "https://api.github.com/users/AlexandreBriot/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexandreBriot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexandreBriot/subscriptions", "organizations_url": "https://api.github.com/users/AlexandreBriot/orgs", "repos_url": "https://api.github.com/users/AlexandreBriot/repos", "events_url": "https://api.github.com/users/AlexandreBriot/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexandreBriot/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-06T11:12:55Z", "updated_at": "2017-01-06T11:12:55Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> Hello Andrew and thank you for your precious help !<br>\nI followed your instructions and here is where I am.</p>\n<ul>\n<li>\n<p>I modified  CORE_PROTO_SRCS in tensorflow/core/BUILD adding \"framework/box_coder.proto\",</p>\n</li>\n<li>\n<p>I copied box_coder.proto in the corresponding core/framework/ directory</p>\n</li>\n<li>\n<p>I rebuild tensorflow from source but get some errors related to proto version 2 vs 3</p>\n</li>\n<li>\n<p>I modified box_coder.proto by doing these changes</p>\n<ul>\n<li>Change <code>syntax = \"proto2\";</code> to<code> syntax = \"proto3\";</code></li>\n<li>Change<code>package org_tensorflow_demo;</code>to <code>package tensorflow;</code></li>\n<li>Removing all optional and all default value<br>\nex : <code>optional float mean = 1 [default = 0.0];</code> becomes <code>float mean = 1;</code></li>\n<li>Suppressing all <code>; </code>after message section</li>\n</ul>\n<p>Is that correct ? Or is there some inexact/unappropriate changes ?</p>\n</li>\n<li>\n<p>Now I am able to import this freshly built tensorflow in my iPythonNotebook<br>\nThe new proto definition is supposed to decode my box-priors.pb file<br>\nI want to do so using the lines as I can do for GraphDef but I don't know which Object I should create to replace GraphDef one and then loading data with ParseFromString method ...</p>\n</li>\n</ul>\n<pre><code>with tf.gfile.FastGFile(\"box-priors.pb\", 'rb') as f:\n    priors = tf._?Object?_()\n    priors.ParseFromString(f.read())\n</code></pre>\n<p>Could you give me your advice on that part ?<br>\nThanks in advance for your help<br>\nAlex</p>", "body_text": "@andrewharp Hello Andrew and thank you for your precious help !\nI followed your instructions and here is where I am.\n\n\nI modified  CORE_PROTO_SRCS in tensorflow/core/BUILD adding \"framework/box_coder.proto\",\n\n\nI copied box_coder.proto in the corresponding core/framework/ directory\n\n\nI rebuild tensorflow from source but get some errors related to proto version 2 vs 3\n\n\nI modified box_coder.proto by doing these changes\n\nChange syntax = \"proto2\"; to syntax = \"proto3\";\nChangepackage org_tensorflow_demo;to package tensorflow;\nRemoving all optional and all default value\nex : optional float mean = 1 [default = 0.0]; becomes float mean = 1;\nSuppressing all ; after message section\n\nIs that correct ? Or is there some inexact/unappropriate changes ?\n\n\nNow I am able to import this freshly built tensorflow in my iPythonNotebook\nThe new proto definition is supposed to decode my box-priors.pb file\nI want to do so using the lines as I can do for GraphDef but I don't know which Object I should create to replace GraphDef one and then loading data with ParseFromString method ...\n\n\nwith tf.gfile.FastGFile(\"box-priors.pb\", 'rb') as f:\n    priors = tf._?Object?_()\n    priors.ParseFromString(f.read())\n\nCould you give me your advice on that part ?\nThanks in advance for your help\nAlex", "body": "@andrewharp Hello Andrew and thank you for your precious help !\r\nI followed your instructions and here is where I am.\r\n\r\n- I modified  CORE_PROTO_SRCS in tensorflow/core/BUILD adding \"framework/box_coder.proto\",\r\n\r\n- I copied box_coder.proto in the corresponding core/framework/ directory \r\n\r\n- I rebuild tensorflow from source but get some errors related to proto version 2 vs 3\r\n\r\n- I modified box_coder.proto by doing these changes \r\n\r\n   * Change `syntax = \"proto2\";` to` syntax = \"proto3\";`\r\n   * Change` package org_tensorflow_demo; `to `package tensorflow;`\r\n   * Removing all optional and all default value \r\n           ex : `optional float mean = 1 [default = 0.0];` becomes `float mean = 1;`\r\n   * Suppressing all `; `after message section \r\n\r\n   Is that correct ? Or is there some inexact/unappropriate changes ?\r\n \r\n\r\n- Now I am able to import this freshly built tensorflow in my iPythonNotebook\r\n  The new proto definition is supposed to decode my box-priors.pb file\r\n  I want to do so using the lines as I can do for GraphDef but I don't know which Object I should create to replace GraphDef one and then loading data with ParseFromString method ...\r\n\r\n```\r\nwith tf.gfile.FastGFile(\"box-priors.pb\", 'rb') as f:\r\n    priors = tf._?Object?_()\r\n    priors.ParseFromString(f.read())\r\n```\r\n\r\nCould you give me your advice on that part ?\r\nThanks in advance for your help \r\nAlex\r\n\r\n\r\n\r\n\r\n"}