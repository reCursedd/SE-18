{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3165", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3165/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3165/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3165/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3165", "id": 163549890, "node_id": "MDU6SXNzdWUxNjM1NDk4OTA=", "number": 3165, "title": "AttributeError: 'Tensor' object has no attribute 'shape'", "user": {"login": "dtracers", "id": 1933836, "node_id": "MDQ6VXNlcjE5MzM4MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1933836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtracers", "html_url": "https://github.com/dtracers", "followers_url": "https://api.github.com/users/dtracers/followers", "following_url": "https://api.github.com/users/dtracers/following{/other_user}", "gists_url": "https://api.github.com/users/dtracers/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtracers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtracers/subscriptions", "organizations_url": "https://api.github.com/users/dtracers/orgs", "repos_url": "https://api.github.com/users/dtracers/repos", "events_url": "https://api.github.com/users/dtracers/events{/privacy}", "received_events_url": "https://api.github.com/users/dtracers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-07-03T06:34:24Z", "updated_at": "2017-02-09T22:02:12Z", "closed_at": "2016-08-08T17:53:06Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System:  BashOn Windows</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(doesnt matter CPU version only)</p>\n<p>If installed from binary pip package, provide:<br>\n0.9.0</p>\n<p>If installed from sources, provide the commit hash:</p>\n<h3>Steps to reproduce</h3>\n<pre><code>    def create_classifier(self):\n        hiddenLayers = [self.num_points, self.num_points * 2, 10]\n        self.classifier = tf.contrib.learn.DNNClassifier(hidden_units=hiddenLayers)\n</code></pre>\n<p>label is a string<br>\npoint list is a list of an array of x, y values<br>\nex:</p>\n<pre><code>[[1,2],[2,3],[3,4],...]\n</code></pre>\n<pre><code>    def train(self, label, point_list):\n        points = self.resample(point_list, self.num_points)\n        utils.strip_ids_from_points(points)\n        value_class = 1 if label == self.label else 0\n        target = tf.reshape(tf.constant(value_class), [1])\n        print 'training classifier to recognize value as: [' + str(value_class) + '] label is ' + label + ' class is ' + self.label\n        point_tensor = tf.convert_to_tensor(points, dtype=tf.float32)\n        reshaped_tensor = tf.reshape(point_tensor, [1, self.num_points * 2])\n        print reshaped_tensor\n        print target\n        self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n</code></pre>\n<h3>What have you tried?</h3>\n<p>googling why a tensor would not have a shape attribute</p>\n<h3>Logs or other output that would be helpful</h3>\n<pre><code>Tensor(\"Reshape_1:0\", shape=(1, 64), dtype=float32)\nTensor(\"Reshape:0\", shape=(1,), dtype=int32)\nTraceback (most recent call last):\n  File \"main.py\", line 6, in &lt;module&gt;\n    connection.start_socket(8089, callback=handler.message_processor)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 13, in start_socket\n    process_message(connection, callback=callback)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 38, in process_message\n    result = callback(general_proto)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 39, in message_processor\n    return train_shape(general_proto.template)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 23, in train_shape\n    rec.add_training_data(recognition_template.interpretation.label, recognition_template.shape)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/recognition_manager.py\", line 98, in add_training_data\n    self.recognizers[label].train(label, points)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/simple/recognizer.py\", line 78, in train\n    self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 173, in fit\n    input_fn, feed_fn = _get_input_fn(x, y, batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 67, in _get_input_fn\n    x, y, n_classes=None, batch_size=batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 117, in setup_train_data_feeder\n    X, y, n_classes, batch_size, shuffle=shuffle, epochs=epochs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 239, in __init__\n    self.X.shape, None if self.y is None else self.y.shape, n_classes,\nAttributeError: 'Tensor' object has no attribute 'shape'\n</code></pre>", "body_text": "Environment info\nOperating System:  BashOn Windows\nInstalled version of CUDA and cuDNN:\n(doesnt matter CPU version only)\nIf installed from binary pip package, provide:\n0.9.0\nIf installed from sources, provide the commit hash:\nSteps to reproduce\n    def create_classifier(self):\n        hiddenLayers = [self.num_points, self.num_points * 2, 10]\n        self.classifier = tf.contrib.learn.DNNClassifier(hidden_units=hiddenLayers)\n\nlabel is a string\npoint list is a list of an array of x, y values\nex:\n[[1,2],[2,3],[3,4],...]\n\n    def train(self, label, point_list):\n        points = self.resample(point_list, self.num_points)\n        utils.strip_ids_from_points(points)\n        value_class = 1 if label == self.label else 0\n        target = tf.reshape(tf.constant(value_class), [1])\n        print 'training classifier to recognize value as: [' + str(value_class) + '] label is ' + label + ' class is ' + self.label\n        point_tensor = tf.convert_to_tensor(points, dtype=tf.float32)\n        reshaped_tensor = tf.reshape(point_tensor, [1, self.num_points * 2])\n        print reshaped_tensor\n        print target\n        self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n\nWhat have you tried?\ngoogling why a tensor would not have a shape attribute\nLogs or other output that would be helpful\nTensor(\"Reshape_1:0\", shape=(1, 64), dtype=float32)\nTensor(\"Reshape:0\", shape=(1,), dtype=int32)\nTraceback (most recent call last):\n  File \"main.py\", line 6, in <module>\n    connection.start_socket(8089, callback=handler.message_processor)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 13, in start_socket\n    process_message(connection, callback=callback)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 38, in process_message\n    result = callback(general_proto)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 39, in message_processor\n    return train_shape(general_proto.template)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 23, in train_shape\n    rec.add_training_data(recognition_template.interpretation.label, recognition_template.shape)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/recognition_manager.py\", line 98, in add_training_data\n    self.recognizers[label].train(label, points)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/simple/recognizer.py\", line 78, in train\n    self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 173, in fit\n    input_fn, feed_fn = _get_input_fn(x, y, batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 67, in _get_input_fn\n    x, y, n_classes=None, batch_size=batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 117, in setup_train_data_feeder\n    X, y, n_classes, batch_size, shuffle=shuffle, epochs=epochs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 239, in __init__\n    self.X.shape, None if self.y is None else self.y.shape, n_classes,\nAttributeError: 'Tensor' object has no attribute 'shape'", "body": "### Environment info\n\nOperating System:  BashOn Windows\n\nInstalled version of CUDA and cuDNN: \n(doesnt matter CPU version only)\n\nIf installed from binary pip package, provide:\n0.9.0\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n\n```\n    def create_classifier(self):\n        hiddenLayers = [self.num_points, self.num_points * 2, 10]\n        self.classifier = tf.contrib.learn.DNNClassifier(hidden_units=hiddenLayers)\n```\n\nlabel is a string\npoint list is a list of an array of x, y values\nex:\n\n```\n[[1,2],[2,3],[3,4],...]\n```\n\n```\n    def train(self, label, point_list):\n        points = self.resample(point_list, self.num_points)\n        utils.strip_ids_from_points(points)\n        value_class = 1 if label == self.label else 0\n        target = tf.reshape(tf.constant(value_class), [1])\n        print 'training classifier to recognize value as: [' + str(value_class) + '] label is ' + label + ' class is ' + self.label\n        point_tensor = tf.convert_to_tensor(points, dtype=tf.float32)\n        reshaped_tensor = tf.reshape(point_tensor, [1, self.num_points * 2])\n        print reshaped_tensor\n        print target\n        self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n```\n### What have you tried?\n\ngoogling why a tensor would not have a shape attribute\n### Logs or other output that would be helpful\n\n```\nTensor(\"Reshape_1:0\", shape=(1, 64), dtype=float32)\nTensor(\"Reshape:0\", shape=(1,), dtype=int32)\nTraceback (most recent call last):\n  File \"main.py\", line 6, in <module>\n    connection.start_socket(8089, callback=handler.message_processor)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 13, in start_socket\n    process_message(connection, callback=callback)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/connection/python_socket_server.py\", line 38, in process_message\n    result = callback(general_proto)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 39, in message_processor\n    return train_shape(general_proto.template)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/proto_handler.py\", line 23, in train_shape\n    rec.add_training_data(recognition_template.interpretation.label, recognition_template.shape)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/recognition_manager.py\", line 98, in add_training_data\n    self.recognizers[label].train(label, points)\n  File \"/mnt/d/workspace/SketchRecognitionWithTensorFlow/src/main/python/recognition/simple/recognizer.py\", line 78, in train\n    self.classifier.fit(x=reshaped_tensor, y=target, steps=1)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 173, in fit\n    input_fn, feed_fn = _get_input_fn(x, y, batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/estimators/estimator.py\", line 67, in _get_input_fn\n    x, y, n_classes=None, batch_size=batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 117, in setup_train_data_feeder\n    X, y, n_classes, batch_size, shuffle=shuffle, epochs=epochs)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/io/data_feeder.py\", line 239, in __init__\n    self.X.shape, None if self.y is None else self.y.shape, n_classes,\nAttributeError: 'Tensor' object has no attribute 'shape'\n```\n"}