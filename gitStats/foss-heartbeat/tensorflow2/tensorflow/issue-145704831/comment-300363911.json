{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/300363911", "html_url": "https://github.com/tensorflow/tensorflow/issues/1769#issuecomment-300363911", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1769", "id": 300363911, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDM2MzkxMQ==", "user": {"login": "therealanshuman", "id": 9977487, "node_id": "MDQ6VXNlcjk5Nzc0ODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9977487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/therealanshuman", "html_url": "https://github.com/therealanshuman", "followers_url": "https://api.github.com/users/therealanshuman/followers", "following_url": "https://api.github.com/users/therealanshuman/following{/other_user}", "gists_url": "https://api.github.com/users/therealanshuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/therealanshuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/therealanshuman/subscriptions", "organizations_url": "https://api.github.com/users/therealanshuman/orgs", "repos_url": "https://api.github.com/users/therealanshuman/repos", "events_url": "https://api.github.com/users/therealanshuman/events{/privacy}", "received_events_url": "https://api.github.com/users/therealanshuman/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-10T03:30:21Z", "updated_at": "2017-05-10T03:31:06Z", "author_association": "NONE", "body_html": "<p>Hello! I had tried building the <code>libtensorflow_inference.so</code> file using the following -<br>\n<code>bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a</code><br>\nAs you can see I have changed the <code>--cpu</code> argument to <code>arm64-v8a</code> and the command above is generating the desired <code>libtensorflow_inference.so</code> file, which I have copied in my Android Project directory in <code>src/main/jniLibs/arm64-v8a/</code>.</p>\n<p>But, upon running building the project on a device, it's throwing the following error -<br>\n<code>05-10 11:29:00.421 14215-14254/com.example.zeus.objectdetection E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1 Process: com.example.zeus.objectdetection, PID: 14215 Theme: themes:{default=overlay:system, iconPack:system, fontPkg:system, com.android.systemui=overlay:system, com.android.systemui.navbar=overlay:system} java.lang.RuntimeException: Error Initializing TensorFlow at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:91) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Caused by: java.lang.RuntimeException: Native TF methods not found; check that the correct native libraries are present in the APK. at org.tensorflow.contrib.android.TensorFlowInferenceInterface.&lt;init&gt;(TensorFlowInferenceInterface.java:68) at com.example.zeus.objectdetection.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:52) at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:80) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0 at java.lang.Thread.run(Thread.java:818)\u00a0</code></p>\n<p>Can anyone please tell me what might be the problem?</p>", "body_text": "Hello! I had tried building the libtensorflow_inference.so file using the following -\nbazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a\nAs you can see I have changed the --cpu argument to arm64-v8a and the command above is generating the desired libtensorflow_inference.so file, which I have copied in my Android Project directory in src/main/jniLibs/arm64-v8a/.\nBut, upon running building the project on a device, it's throwing the following error -\n05-10 11:29:00.421 14215-14254/com.example.zeus.objectdetection E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1 Process: com.example.zeus.objectdetection, PID: 14215 Theme: themes:{default=overlay:system, iconPack:system, fontPkg:system, com.android.systemui=overlay:system, com.android.systemui.navbar=overlay:system} java.lang.RuntimeException: Error Initializing TensorFlow at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:91) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Caused by: java.lang.RuntimeException: Native TF methods not found; check that the correct native libraries are present in the APK. at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:68) at com.example.zeus.objectdetection.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:52) at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:80) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0 at java.lang.Thread.run(Thread.java:818)\u00a0\nCan anyone please tell me what might be the problem?", "body": "Hello! I had tried building the `libtensorflow_inference.so` file using the following -\r\n`bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=arm64-v8a`\r\nAs you can see I have changed the `--cpu` argument to `arm64-v8a` and the command above is generating the desired `libtensorflow_inference.so` file, which I have copied in my Android Project directory in `src/main/jniLibs/arm64-v8a/`.\r\n\r\nBut, upon running building the project on a device, it's throwing the following error -\r\n`\r\n05-10 11:29:00.421 14215-14254/com.example.zeus.objectdetection E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1\r\n                                                                                  Process: com.example.zeus.objectdetection, PID: 14215\r\n                                                                                  Theme: themes:{default=overlay:system, iconPack:system, fontPkg:system, com.android.systemui=overlay:system, com.android.systemui.navbar=overlay:system}\r\n                                                                                  java.lang.RuntimeException: Error Initializing TensorFlow\r\n                                                                                      at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:91)\r\n                                                                                      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n                                                                                      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n                                                                                      at java.lang.Thread.run(Thread.java:818)\r\n                                                                                   Caused by: java.lang.RuntimeException: Native TF methods not found; check that the correct native libraries are present in the APK.\r\n                                                                                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:68)\r\n                                                                                      at com.example.zeus.objectdetection.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:52)\r\n                                                                                      at com.example.zeus.objectdetection.MainActivity$2.run(MainActivity.java:80)\r\n                                                                                      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\r\n                                                                                      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\r\n                                                                                      at java.lang.Thread.run(Thread.java:818)\u00a0\r\n`\r\n\r\nCan anyone please tell me what might be the problem?"}