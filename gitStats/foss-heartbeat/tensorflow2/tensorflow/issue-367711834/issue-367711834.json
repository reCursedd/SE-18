{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22816", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22816/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22816/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22816/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22816", "id": 367711834, "node_id": "MDU6SXNzdWUzNjc3MTE4MzQ=", "number": 22816, "title": "The usage of CUDA_VISIBLE_DEVICES.", "user": {"login": "Fridgi", "id": 22788112, "node_id": "MDQ6VXNlcjIyNzg4MTEy", "avatar_url": "https://avatars3.githubusercontent.com/u/22788112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fridgi", "html_url": "https://github.com/Fridgi", "followers_url": "https://api.github.com/users/Fridgi/followers", "following_url": "https://api.github.com/users/Fridgi/following{/other_user}", "gists_url": "https://api.github.com/users/Fridgi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fridgi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fridgi/subscriptions", "organizations_url": "https://api.github.com/users/Fridgi/orgs", "repos_url": "https://api.github.com/users/Fridgi/repos", "events_url": "https://api.github.com/users/Fridgi/events{/privacy}", "received_events_url": "https://api.github.com/users/Fridgi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-10-08T09:45:29Z", "updated_at": "2018-10-08T17:56:23Z", "closed_at": "2018-10-08T17:56:23Z", "author_association": "NONE", "body_html": "<p>I cannot figure out an ambigious definition of the env variable \"CUDA_VISIBLE_DEVICES\". As we know, the command <code>export CUDA_VISIBLE_DEVICES = 0</code>  means that we can only find the GPU:0. However, what's the defination of the command <code>export CUDA_VISIBLE_DEVICES = '' </code>? It means that we can either find all gpus or mask all gpus in our system?</p>\n<p>And another odd thing is that I am running a BiLSTM-CRF model to do some NER tasks with a 8-gpu server. Without using the command <code>export CUDA_VISIBLE_DEVICES = '' </code>, the model runs a bit slower than expected, and we can see the program running with all 8 gpus through the command <code>nvidia-smi</code>. However, the model runs extremely faster than before when I use the command <code>export CUDA_VISIBLE_DEVICES = '' </code>, in addition, I cannot find any program information with <code>nvidia-smi</code>.</p>\n<p>Did I run the model with CPU? But the CPU usage changed only a little. And there seems no posibility that the CPU runs extremely faster than GPU under BiLSTM-CRF model. What's the matter?  If any information is needed, I'll update later cuz I don't know what information to display now.</p>", "body_text": "I cannot figure out an ambigious definition of the env variable \"CUDA_VISIBLE_DEVICES\". As we know, the command export CUDA_VISIBLE_DEVICES = 0  means that we can only find the GPU:0. However, what's the defination of the command export CUDA_VISIBLE_DEVICES = '' ? It means that we can either find all gpus or mask all gpus in our system?\nAnd another odd thing is that I am running a BiLSTM-CRF model to do some NER tasks with a 8-gpu server. Without using the command export CUDA_VISIBLE_DEVICES = '' , the model runs a bit slower than expected, and we can see the program running with all 8 gpus through the command nvidia-smi. However, the model runs extremely faster than before when I use the command export CUDA_VISIBLE_DEVICES = '' , in addition, I cannot find any program information with nvidia-smi.\nDid I run the model with CPU? But the CPU usage changed only a little. And there seems no posibility that the CPU runs extremely faster than GPU under BiLSTM-CRF model. What's the matter?  If any information is needed, I'll update later cuz I don't know what information to display now.", "body": "I cannot figure out an ambigious definition of the env variable \"CUDA_VISIBLE_DEVICES\". As we know, the command `export CUDA_VISIBLE_DEVICES = 0`  means that we can only find the GPU:0. However, what's the defination of the command `export CUDA_VISIBLE_DEVICES = '' `? It means that we can either find all gpus or mask all gpus in our system?\r\n\r\nAnd another odd thing is that I am running a BiLSTM-CRF model to do some NER tasks with a 8-gpu server. Without using the command `export CUDA_VISIBLE_DEVICES = '' `, the model runs a bit slower than expected, and we can see the program running with all 8 gpus through the command `nvidia-smi`. However, the model runs extremely faster than before when I use the command `export CUDA_VISIBLE_DEVICES = '' `, in addition, I cannot find any program information with `nvidia-smi`. \r\n\r\nDid I run the model with CPU? But the CPU usage changed only a little. And there seems no posibility that the CPU runs extremely faster than GPU under BiLSTM-CRF model. What's the matter?  If any information is needed, I'll update later cuz I don't know what information to display now."}