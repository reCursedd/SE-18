{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/275725352", "html_url": "https://github.com/tensorflow/tensorflow/issues/7065#issuecomment-275725352", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7065", "id": 275725352, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTcyNTM1Mg==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-27T17:38:50Z", "updated_at": "2017-01-27T17:38:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7132817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SeguinBe\">@SeguinBe</a> are the models identical? One way of telling is initializing with same weights and running the computation through. Since they both rely on CuDNN they should get the same timing, 30% slower seems off.</p>\n<p>BTW, you can print out layers and their flops like this, this can sometimes help spot the difference</p>\n<pre><code>  tf.contrib.tfprof.model_analyzer.print_model_analysis(\n      tf.get_default_graph(),\n      tfprof_options=tf.contrib.tfprof.model_analyzer.FLOAT_OPS_OPTIONS)\n</code></pre>", "body_text": "@SeguinBe are the models identical? One way of telling is initializing with same weights and running the computation through. Since they both rely on CuDNN they should get the same timing, 30% slower seems off.\nBTW, you can print out layers and their flops like this, this can sometimes help spot the difference\n  tf.contrib.tfprof.model_analyzer.print_model_analysis(\n      tf.get_default_graph(),\n      tfprof_options=tf.contrib.tfprof.model_analyzer.FLOAT_OPS_OPTIONS)", "body": "@SeguinBe are the models identical? One way of telling is initializing with same weights and running the computation through. Since they both rely on CuDNN they should get the same timing, 30% slower seems off.\r\n\r\nBTW, you can print out layers and their flops like this, this can sometimes help spot the difference\r\n\r\n```\r\n  tf.contrib.tfprof.model_analyzer.print_model_analysis(\r\n      tf.get_default_graph(),\r\n      tfprof_options=tf.contrib.tfprof.model_analyzer.FLOAT_OPS_OPTIONS)\r\n```"}