{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/274519483", "html_url": "https://github.com/tensorflow/tensorflow/issues/2514#issuecomment-274519483", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2514", "id": 274519483, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDUxOTQ4Mw==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-23T15:32:20Z", "updated_at": "2017-01-23T15:32:20Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9762186\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rsethur\">@rsethur</a> <code>make_template</code> will double the number of non-variable ops in the graph. I'm guessing if you have 50k ops, you'll see an extra 20 seconds added to your graph construction or so. If you wanted to shave that time off, sounds like <code> tf.train.maybe_batch</code> would work better. Also, you could cut down graph construction time further by reducing number of Python node creating calls by using functions. IE group together repeating parts of the graph into function nodes, and create those.</p>", "body_text": "@rsethur make_template will double the number of non-variable ops in the graph. I'm guessing if you have 50k ops, you'll see an extra 20 seconds added to your graph construction or so. If you wanted to shave that time off, sounds like  tf.train.maybe_batch would work better. Also, you could cut down graph construction time further by reducing number of Python node creating calls by using functions. IE group together repeating parts of the graph into function nodes, and create those.", "body": "@rsethur `make_template` will double the number of non-variable ops in the graph. I'm guessing if you have 50k ops, you'll see an extra 20 seconds added to your graph construction or so. If you wanted to shave that time off, sounds like ` tf.train.maybe_batch` would work better. Also, you could cut down graph construction time further by reducing number of Python node creating calls by using functions. IE group together repeating parts of the graph into function nodes, and create those."}