{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/246091613", "html_url": "https://github.com/tensorflow/tensorflow/issues/2514#issuecomment-246091613", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2514", "id": 246091613, "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjA5MTYxMw==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2016-09-10T05:50:25Z", "updated_at": "2016-09-10T05:50:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p>QueueBase.from_list may be deprecated soon.  +<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a></p>\n<p>On Sep 9, 2016 1:14 PM, \"Mark Woodward\" <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<blockquote>\n<p>Regarding the side track, not the original request.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8004953\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/muhammadzaheer\">@muhammadzaheer</a> <a href=\"https://github.com/muhammadzaheer\">https://github.com/muhammadzaheer</a>, here is an example<br>\nusage of QueueBase.from_list() that you asked for.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2111293\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/danijar\">@danijar</a> <a href=\"https://github.com/danijar\">https://github.com/danijar</a>, I would recommend using<br>\nQueueBase.from_list() over tf.cond().</p>\n<p>import tensorflow as tf</p>\n<p>q1 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])<br>\ninput1 = tf.placeholder(tf.int32, [])<br>\nenq1 = q1.enqueue(input1)</p>\n<p>q2 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])<br>\ninput2 = tf.placeholder(tf.int32, [])<br>\nenq2 = q2.enqueue(input2)</p>\n<p>select_q = tf.placeholder(tf.int32, [])<br>\nq = tf.QueueBase.from_list(select_q, [q1, q2])<br>\ndata = q.dequeue()</p>\n<p>with tf.Session() as sess:</p>\n<h1>enqueue values (these would typically be in their own thread(s))</h1>\n<p>q1_vals = [1,2,3]<br>\nprint \"q1_vals = \" + str(q1_vals)<br>\nfor v in q1_vals:<br>\nsess.run(enq1, { input1: int(v) })</p>\n<p>q2_vals = [4,5,6]<br>\nprint \"q2_vals = \" + str(q2_vals)<br>\nfor v in q2_vals:<br>\nsess.run(enq2, { input2: int(v) })</p>\n<h1>run an op that pulls from the queue, specifying which queue</h1>\n<p>for batch in range(3):<br>\nprint \"q1.dequeue = \" + str(sess.run(data, {select_q: 0}))<br>\nprint \"q2.dequeue = \" + str(sess.run(data, {select_q: 1}))</p>\n<p>outputs</p>\n<p>q1_vals = [1, 2, 3]<br>\nq2_vals = [4, 5, 6]<br>\nq1.dequeue = 1<br>\nq2.dequeue = 4<br>\nq1.dequeue = 2<br>\nq2.dequeue = 5<br>\nq1.dequeue = 3<br>\nq2.dequeue = 6</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"157033373\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2514\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2514/hovercard?comment_id=246026683&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/2514#issuecomment-246026683\">#2514 (comment)</a>,<br>\nor mute the thread<br>\n<a href=\"https://github.com/notifications/unsubscribe-auth/ABtim4OS5APEuGuTpj9-uSnIFfE0qZ4Lks5qob4vgaJpZM4Inwby\">https://github.com/notifications/unsubscribe-auth/ABtim4OS5APEuGuTpj9-uSnIFfE0qZ4Lks5qob4vgaJpZM4Inwby</a><br>\n.</p>\n</blockquote>", "body_text": "QueueBase.from_list may be deprecated soon.  +@mrry\nOn Sep 9, 2016 1:14 PM, \"Mark Woodward\" notifications@github.com wrote:\n\nRegarding the side track, not the original request.\n@muhammadzaheer https://github.com/muhammadzaheer, here is an example\nusage of QueueBase.from_list() that you asked for.\n@danijar https://github.com/danijar, I would recommend using\nQueueBase.from_list() over tf.cond().\nimport tensorflow as tf\nq1 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])\ninput1 = tf.placeholder(tf.int32, [])\nenq1 = q1.enqueue(input1)\nq2 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])\ninput2 = tf.placeholder(tf.int32, [])\nenq2 = q2.enqueue(input2)\nselect_q = tf.placeholder(tf.int32, [])\nq = tf.QueueBase.from_list(select_q, [q1, q2])\ndata = q.dequeue()\nwith tf.Session() as sess:\nenqueue values (these would typically be in their own thread(s))\nq1_vals = [1,2,3]\nprint \"q1_vals = \" + str(q1_vals)\nfor v in q1_vals:\nsess.run(enq1, { input1: int(v) })\nq2_vals = [4,5,6]\nprint \"q2_vals = \" + str(q2_vals)\nfor v in q2_vals:\nsess.run(enq2, { input2: int(v) })\nrun an op that pulls from the queue, specifying which queue\nfor batch in range(3):\nprint \"q1.dequeue = \" + str(sess.run(data, {select_q: 0}))\nprint \"q2.dequeue = \" + str(sess.run(data, {select_q: 1}))\noutputs\nq1_vals = [1, 2, 3]\nq2_vals = [4, 5, 6]\nq1.dequeue = 1\nq2.dequeue = 4\nq1.dequeue = 2\nq2.dequeue = 5\nq1.dequeue = 3\nq2.dequeue = 6\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\n#2514 (comment),\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABtim4OS5APEuGuTpj9-uSnIFfE0qZ4Lks5qob4vgaJpZM4Inwby\n.", "body": "QueueBase.from_list may be deprecated soon.  +@mrry\n\nOn Sep 9, 2016 1:14 PM, \"Mark Woodward\" notifications@github.com wrote:\n\n> Regarding the side track, not the original request.\n> @muhammadzaheer https://github.com/muhammadzaheer, here is an example\n> usage of QueueBase.from_list() that you asked for.\n> @danijar https://github.com/danijar, I would recommend using\n> QueueBase.from_list() over tf.cond().\n> \n> import tensorflow as tf\n> \n> q1 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])\n> input1 = tf.placeholder(tf.int32, [])\n> enq1 = q1.enqueue(input1)\n> \n> q2 = tf.FIFOQueue(capacity=100, dtypes=[tf.int32])\n> input2 = tf.placeholder(tf.int32, [])\n> enq2 = q2.enqueue(input2)\n> \n> select_q = tf.placeholder(tf.int32, [])\n> q = tf.QueueBase.from_list(select_q, [q1, q2])\n> data = q.dequeue()\n> \n> with tf.Session() as sess:\n>   # enqueue values (these would typically be in their own thread(s))\n>   q1_vals = [1,2,3]\n>   print \"q1_vals = \" + str(q1_vals)\n>   for v in q1_vals:\n>     sess.run(enq1, { input1: int(v) })\n> \n>   q2_vals = [4,5,6]\n>   print \"q2_vals = \" + str(q2_vals)\n>   for v in q2_vals:\n>     sess.run(enq2, { input2: int(v) })\n> \n>   # run an op that pulls from the queue, specifying which queue\n>   for batch in range(3):\n>     print \"q1.dequeue = \" + str(sess.run(data, {select_q: 0}))\n>     print \"q2.dequeue = \" + str(sess.run(data, {select_q: 1}))\n> \n> outputs\n> \n> q1_vals = [1, 2, 3]\n> q2_vals = [4, 5, 6]\n> q1.dequeue = 1\n> q2.dequeue = 4\n> q1.dequeue = 2\n> q2.dequeue = 5\n> q1.dequeue = 3\n> q2.dequeue = 6\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/tensorflow/tensorflow/issues/2514#issuecomment-246026683,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/ABtim4OS5APEuGuTpj9-uSnIFfE0qZ4Lks5qob4vgaJpZM4Inwby\n> .\n"}