{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5114", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5114/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5114/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5114/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5114", "id": 184484101, "node_id": "MDU6SXNzdWUxODQ0ODQxMDE=", "number": 5114, "title": "Issues with tf.get_shape().as_list() and creating index for tf.gather()", "user": {"login": "odellus", "id": 4686956, "node_id": "MDQ6VXNlcjQ2ODY5NTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/4686956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/odellus", "html_url": "https://github.com/odellus", "followers_url": "https://api.github.com/users/odellus/followers", "following_url": "https://api.github.com/users/odellus/following{/other_user}", "gists_url": "https://api.github.com/users/odellus/gists{/gist_id}", "starred_url": "https://api.github.com/users/odellus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/odellus/subscriptions", "organizations_url": "https://api.github.com/users/odellus/orgs", "repos_url": "https://api.github.com/users/odellus/repos", "events_url": "https://api.github.com/users/odellus/events{/privacy}", "received_events_url": "https://api.github.com/users/odellus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-21T13:26:22Z", "updated_at": "2016-10-24T02:20:21Z", "closed_at": "2016-10-24T02:20:21Z", "author_association": "NONE", "body_html": "<p>Environment:<br>\nubuntu 16.04</p>\n<p>Installed version of CUDA and cuDNN:</p>\n<pre><code>-rw-r--r-- 1 root root   558720 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so -&gt; libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44\n-rw-r--r-- 1 root root   415432 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so -&gt; libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 16 00:02 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1 -&gt; libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n</code></pre>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>): <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/4bac93835b585cc44fe502f7617ad7ab54265c14/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/4bac93835b585cc44fe502f7617ad7ab54265c14\"><tt>4bac938</tt></a></li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<pre><code>$ bazel version\nBuild label: 0.3.2\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Oct 7 17:25:10 2016 (1475861110)\nBuild timestamp: 1475861110\nBuild timestamp as int: 1475861110\n</code></pre>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><a href=\"https://gist.github.com/odellus/b520c8990997672ef84c0465c7c337fb\">https://gist.github.com/odellus/b520c8990997672ef84c0465c7c337fb</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I tried to use <code>tf.gather_nd()</code> but it doesn't work on the GPU at this time, so I'm using an alternative.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).<br>\n<a href=\"https://gist.github.com/odellus/d4b01bf0e7179f19458f12f93fee517d\">https://gist.github.com/odellus/d4b01bf0e7179f19458f12f93fee517d</a></p>", "body_text": "Environment:\nubuntu 16.04\nInstalled version of CUDA and cuDNN:\n-rw-r--r-- 1 root root   558720 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rw-r--r-- 1 root root   415432 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 16 00:02 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n\n\nThe commit hash (git rev-parse HEAD): 4bac938\nThe output of bazel version\n\n$ bazel version\nBuild label: 0.3.2\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Oct 7 17:25:10 2016 (1475861110)\nBuild timestamp: 1475861110\nBuild timestamp as int: 1475861110\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nhttps://gist.github.com/odellus/b520c8990997672ef84c0465c7c337fb\nWhat other attempted solutions have you tried?\nI tried to use tf.gather_nd() but it doesn't work on the GPU at this time, so I'm using an alternative.\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nhttps://gist.github.com/odellus/d4b01bf0e7179f19458f12f93fee517d", "body": "Environment: \nubuntu 16.04\n\nInstalled version of CUDA and cuDNN: \n\n```\n-rw-r--r-- 1 root root   558720 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Sep 14 16:05 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rw-r--r-- 1 root root   415432 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Sep 14 16:02 /usr/local/cuda-8.0/lib64/libcudart_static.a\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 16 00:02 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.5\nlrwxrwxrwx 1 root root       17 Oct 11 12:52 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Oct 11 12:51 /usr/local/cuda-8.0/lib64/libcudnn_static.a\n```\n1. The commit hash (`git rev-parse HEAD`): 4bac93835b585cc44fe502f7617ad7ab54265c14\n2. The output of `bazel version` \n\n```\n$ bazel version\nBuild label: 0.3.2\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Oct 7 17:25:10 2016 (1475861110)\nBuild timestamp: 1475861110\nBuild timestamp as int: 1475861110\n```\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\nhttps://gist.github.com/odellus/b520c8990997672ef84c0465c7c337fb\n### What other attempted solutions have you tried?\n\nI tried to use `tf.gather_nd()` but it doesn't work on the GPU at this time, so I'm using an alternative.\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\nhttps://gist.github.com/odellus/d4b01bf0e7179f19458f12f93fee517d\n"}