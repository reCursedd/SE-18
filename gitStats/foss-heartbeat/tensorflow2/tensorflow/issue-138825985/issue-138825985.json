{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1406", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1406/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1406/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1406/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1406", "id": 138825985, "node_id": "MDU6SXNzdWUxMzg4MjU5ODU=", "number": 1406, "title": "[feature request] disable harmful broadcast", "user": {"login": "raingo", "id": 606565, "node_id": "MDQ6VXNlcjYwNjU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/606565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raingo", "html_url": "https://github.com/raingo", "followers_url": "https://api.github.com/users/raingo/followers", "following_url": "https://api.github.com/users/raingo/following{/other_user}", "gists_url": "https://api.github.com/users/raingo/gists{/gist_id}", "starred_url": "https://api.github.com/users/raingo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raingo/subscriptions", "organizations_url": "https://api.github.com/users/raingo/orgs", "repos_url": "https://api.github.com/users/raingo/repos", "events_url": "https://api.github.com/users/raingo/events{/privacy}", "received_events_url": "https://api.github.com/users/raingo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-06T19:21:34Z", "updated_at": "2017-02-03T16:27:40Z", "closed_at": "2016-03-06T23:59:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Broadcast may lead to hidden bugs. For example, the following code,</p>\n<pre><code>xent = tf.nn. sigmoid_cross_entropy_with_logits(logits, y)\nloss = tf.reduce_mean(xent)\n</code></pre>\n<p>When <code>logits</code> is of the shape <code>(200,1)</code> and the <code>y</code> is of the shape <code>(200,)</code>, the xent becomes <code>(200, 200)</code>, which is wrong. What's worse, the <code>reduce_mean</code> will hide this problem by reducing everything into a scalar.</p>\n<p>Request,</p>\n<ol>\n<li>more shape validation in <code>sigmoid_cross_entropy_with_logits</code></li>\n<li>option to totally disable broadcast</li>\n</ol>", "body_text": "Broadcast may lead to hidden bugs. For example, the following code,\nxent = tf.nn. sigmoid_cross_entropy_with_logits(logits, y)\nloss = tf.reduce_mean(xent)\n\nWhen logits is of the shape (200,1) and the y is of the shape (200,), the xent becomes (200, 200), which is wrong. What's worse, the reduce_mean will hide this problem by reducing everything into a scalar.\nRequest,\n\nmore shape validation in sigmoid_cross_entropy_with_logits\noption to totally disable broadcast", "body": "Broadcast may lead to hidden bugs. For example, the following code,\n\n```\nxent = tf.nn. sigmoid_cross_entropy_with_logits(logits, y)\nloss = tf.reduce_mean(xent)\n```\n\nWhen `logits` is of the shape `(200,1)` and the `y` is of the shape `(200,)`, the xent becomes `(200, 200)`, which is wrong. What's worse, the `reduce_mean` will hide this problem by reducing everything into a scalar.\n\nRequest,\n1. more shape validation in `sigmoid_cross_entropy_with_logits`\n2. option to totally disable broadcast\n"}