{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/306685127", "html_url": "https://github.com/tensorflow/tensorflow/issues/10437#issuecomment-306685127", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10437", "id": 306685127, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY4NTEyNw==", "user": {"login": "adityaatluri", "id": 2188479, "node_id": "MDQ6VXNlcjIxODg0Nzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2188479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adityaatluri", "html_url": "https://github.com/adityaatluri", "followers_url": "https://api.github.com/users/adityaatluri/followers", "following_url": "https://api.github.com/users/adityaatluri/following{/other_user}", "gists_url": "https://api.github.com/users/adityaatluri/gists{/gist_id}", "starred_url": "https://api.github.com/users/adityaatluri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adityaatluri/subscriptions", "organizations_url": "https://api.github.com/users/adityaatluri/orgs", "repos_url": "https://api.github.com/users/adityaatluri/repos", "events_url": "https://api.github.com/users/adityaatluri/events{/privacy}", "received_events_url": "https://api.github.com/users/adityaatluri/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-07T04:44:34Z", "updated_at": "2017-06-07T04:44:34Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\nI am able to pass build stage. But the library <code>_pywrap_tensorflow_internal.so</code> do not contain <code>LLVMInitializeAMDGPU</code> variants. Here is <code>nm -S</code> dump for different targets</p>\n<pre><code>/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAArch64\n00000000035caed0 0000000000000032 t LLVMInitializeAArch64AsmPrinter\n00000000036915c0 0000000000000059 t LLVMInitializeAArch64Disassembler\n0000000003686580 00000000000000b8 t LLVMInitializeAArch64Target\n00000000036ecc70 000000000000007d t LLVMInitializeAArch64TargetInfo\n00000000036ab9b0 0000000000000113 t LLVMInitializeAArch64TargetMC\n00000000036eca30 0000000000000008 t _ZZ31LLVMInitializeAArch64TargetInfoENUlN4llvm6Triple8ArchTypeEE_4_FUNES1_\n</code></pre>\n<p>For AMDGPU,</p>\n<pre><code>/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAMDGPU\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$\n</code></pre>\n<p>The files in <code>./external/llvm/lib/Target/AMDGPU</code> do contain the function declarations</p>\n<pre><code>~/tensorflow/bazel-tensorflow/external/llvm/lib/Target/AMDGPU$ grep -r LLVMInitialize  *\n\nAMDGPUAsmPrinter.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmPrinter() {\nAMDGPUTargetMachine.cpp:extern \"C\" void LLVMInitializeAMDGPUTarget() {\nAsmParser/AMDGPUAsmParser.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmParser() {\nDisassembler/AMDGPUDisassembler.cpp:extern \"C\" void LLVMInitializeAMDGPUDisassembler() {\nMCTargetDesc/AMDGPUMCTargetDesc.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetMC() {\nTargetInfo/AMDGPUTargetInfo.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetInfo() {\n</code></pre>", "body_text": "Hi,\nI am able to pass build stage. But the library _pywrap_tensorflow_internal.so do not contain LLVMInitializeAMDGPU variants. Here is nm -S dump for different targets\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAArch64\n00000000035caed0 0000000000000032 t LLVMInitializeAArch64AsmPrinter\n00000000036915c0 0000000000000059 t LLVMInitializeAArch64Disassembler\n0000000003686580 00000000000000b8 t LLVMInitializeAArch64Target\n00000000036ecc70 000000000000007d t LLVMInitializeAArch64TargetInfo\n00000000036ab9b0 0000000000000113 t LLVMInitializeAArch64TargetMC\n00000000036eca30 0000000000000008 t _ZZ31LLVMInitializeAArch64TargetInfoENUlN4llvm6Triple8ArchTypeEE_4_FUNES1_\n\nFor AMDGPU,\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAMDGPU\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$\n\nThe files in ./external/llvm/lib/Target/AMDGPU do contain the function declarations\n~/tensorflow/bazel-tensorflow/external/llvm/lib/Target/AMDGPU$ grep -r LLVMInitialize  *\n\nAMDGPUAsmPrinter.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmPrinter() {\nAMDGPUTargetMachine.cpp:extern \"C\" void LLVMInitializeAMDGPUTarget() {\nAsmParser/AMDGPUAsmParser.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmParser() {\nDisassembler/AMDGPUDisassembler.cpp:extern \"C\" void LLVMInitializeAMDGPUDisassembler() {\nMCTargetDesc/AMDGPUMCTargetDesc.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetMC() {\nTargetInfo/AMDGPUTargetInfo.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetInfo() {", "body": "Hi,\r\nI am able to pass build stage. But the library `_pywrap_tensorflow_internal.so` do not contain `LLVMInitializeAMDGPU` variants. Here is `nm -S` dump for different targets\r\n\r\n```\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAArch64\r\n00000000035caed0 0000000000000032 t LLVMInitializeAArch64AsmPrinter\r\n00000000036915c0 0000000000000059 t LLVMInitializeAArch64Disassembler\r\n0000000003686580 00000000000000b8 t LLVMInitializeAArch64Target\r\n00000000036ecc70 000000000000007d t LLVMInitializeAArch64TargetInfo\r\n00000000036ab9b0 0000000000000113 t LLVMInitializeAArch64TargetMC\r\n00000000036eca30 0000000000000008 t _ZZ31LLVMInitializeAArch64TargetInfoENUlN4llvm6Triple8ArchTypeEE_4_FUNES1_\r\n```\r\nFor AMDGPU,\r\n```\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$ nm -S _pywrap_tensorflow_internal.so | grep LLVMInitializeAMDGPU\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python$\r\n```\r\n\r\nThe files in `./external/llvm/lib/Target/AMDGPU` do contain the function declarations\r\n```\r\n~/tensorflow/bazel-tensorflow/external/llvm/lib/Target/AMDGPU$ grep -r LLVMInitialize  *\r\n\r\nAMDGPUAsmPrinter.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmPrinter() {\r\nAMDGPUTargetMachine.cpp:extern \"C\" void LLVMInitializeAMDGPUTarget() {\r\nAsmParser/AMDGPUAsmParser.cpp:extern \"C\" void LLVMInitializeAMDGPUAsmParser() {\r\nDisassembler/AMDGPUDisassembler.cpp:extern \"C\" void LLVMInitializeAMDGPUDisassembler() {\r\nMCTargetDesc/AMDGPUMCTargetDesc.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetMC() {\r\nTargetInfo/AMDGPUTargetInfo.cpp:extern \"C\" void LLVMInitializeAMDGPUTargetInfo() {\r\n```"}