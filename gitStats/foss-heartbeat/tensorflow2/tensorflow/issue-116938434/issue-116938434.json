{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/221", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/221/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/221/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/221", "id": 116938434, "node_id": "MDU6SXNzdWUxMTY5Mzg0MzQ=", "number": 221, "title": "tf.matrix_inverse() is slow compared to numpy.linalg.inv", "user": {"login": "kzk2000", "id": 5108503, "node_id": "MDQ6VXNlcjUxMDg1MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/5108503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kzk2000", "html_url": "https://github.com/kzk2000", "followers_url": "https://api.github.com/users/kzk2000/followers", "following_url": "https://api.github.com/users/kzk2000/following{/other_user}", "gists_url": "https://api.github.com/users/kzk2000/gists{/gist_id}", "starred_url": "https://api.github.com/users/kzk2000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kzk2000/subscriptions", "organizations_url": "https://api.github.com/users/kzk2000/orgs", "repos_url": "https://api.github.com/users/kzk2000/repos", "events_url": "https://api.github.com/users/kzk2000/events{/privacy}", "received_events_url": "https://api.github.com/users/kzk2000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 21, "created_at": "2015-11-14T17:12:07Z", "updated_at": "2018-02-08T21:21:32Z", "closed_at": "2016-04-29T15:42:06Z", "author_association": "NONE", "body_html": "<p>Running this snippet</p>\n<pre><code>import numpy as np\nimport scipy as sp\nfrom datetime import datetime\nimport tensorflow as tf\n\ns = tf.Session()\ndim = 3000\nmat = tf.random_uniform((dim,dim))\ns.run(tf.initialize_all_variables())\nmatinv = tf.matrix_inverse(mat)\nst = datetime.now()\ns.run(matinv)\nprint \"time elapsed tensorflow:\", datetime.now() - st\n\nst = datetime.now()\nx = np.random.rand(dim,dim)\nsp.linalg.inv(x)\nprint \"time elapsed scipy:     \", datetime.now() - st\n</code></pre>\n<p>yields this output</p>\n<pre><code>I tensorflow/core/common_runtime/gpu/gpu_device.cc:643] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 750 Ti, pci bus id: 0000:01:00.0)\ntime elapsed tensorflow: 0:00:18.078232\ntime elapsed scipy:      0:00:01.613825\n</code></pre>\n<p><strong>1.6 sec (Scipy)  vs. ~18 sec (tensorflow), that's a huge difference.</strong></p>\n<ul>\n<li>Is this expected behavior?</li>\n<li>Why is TensorFlow so slow when inverting a matrix? I was hoping it leverages the GPU.</li>\n<li>Is there a way to improve the TensorFlow runtime duration?</li>\n</ul>", "body_text": "Running this snippet\nimport numpy as np\nimport scipy as sp\nfrom datetime import datetime\nimport tensorflow as tf\n\ns = tf.Session()\ndim = 3000\nmat = tf.random_uniform((dim,dim))\ns.run(tf.initialize_all_variables())\nmatinv = tf.matrix_inverse(mat)\nst = datetime.now()\ns.run(matinv)\nprint \"time elapsed tensorflow:\", datetime.now() - st\n\nst = datetime.now()\nx = np.random.rand(dim,dim)\nsp.linalg.inv(x)\nprint \"time elapsed scipy:     \", datetime.now() - st\n\nyields this output\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:643] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 750 Ti, pci bus id: 0000:01:00.0)\ntime elapsed tensorflow: 0:00:18.078232\ntime elapsed scipy:      0:00:01.613825\n\n1.6 sec (Scipy)  vs. ~18 sec (tensorflow), that's a huge difference.\n\nIs this expected behavior?\nWhy is TensorFlow so slow when inverting a matrix? I was hoping it leverages the GPU.\nIs there a way to improve the TensorFlow runtime duration?", "body": "Running this snippet\n\n```\nimport numpy as np\nimport scipy as sp\nfrom datetime import datetime\nimport tensorflow as tf\n\ns = tf.Session()\ndim = 3000\nmat = tf.random_uniform((dim,dim))\ns.run(tf.initialize_all_variables())\nmatinv = tf.matrix_inverse(mat)\nst = datetime.now()\ns.run(matinv)\nprint \"time elapsed tensorflow:\", datetime.now() - st\n\nst = datetime.now()\nx = np.random.rand(dim,dim)\nsp.linalg.inv(x)\nprint \"time elapsed scipy:     \", datetime.now() - st\n```\n\nyields this output\n\n```\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:643] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 750 Ti, pci bus id: 0000:01:00.0)\ntime elapsed tensorflow: 0:00:18.078232\ntime elapsed scipy:      0:00:01.613825\n```\n\n**1.6 sec (Scipy)  vs. ~18 sec (tensorflow), that's a huge difference.**\n- Is this expected behavior?\n- Why is TensorFlow so slow when inverting a matrix? I was hoping it leverages the GPU.\n- Is there a way to improve the TensorFlow runtime duration?\n"}