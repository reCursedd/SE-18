{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1699", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1699/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1699/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1699/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1699", "id": 144388582, "node_id": "MDU6SXNzdWUxNDQzODg1ODI=", "number": 1699, "title": "Android Bazel Build - Java Failure", "user": {"login": "MCoder1", "id": 3753175, "node_id": "MDQ6VXNlcjM3NTMxNzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3753175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MCoder1", "html_url": "https://github.com/MCoder1", "followers_url": "https://api.github.com/users/MCoder1/followers", "following_url": "https://api.github.com/users/MCoder1/following{/other_user}", "gists_url": "https://api.github.com/users/MCoder1/gists{/gist_id}", "starred_url": "https://api.github.com/users/MCoder1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MCoder1/subscriptions", "organizations_url": "https://api.github.com/users/MCoder1/orgs", "repos_url": "https://api.github.com/users/MCoder1/repos", "events_url": "https://api.github.com/users/MCoder1/events{/privacy}", "received_events_url": "https://api.github.com/users/MCoder1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-03-29T21:07:08Z", "updated_at": "2016-04-01T16:20:18Z", "closed_at": "2016-04-01T16:20:18Z", "author_association": "NONE", "body_html": "<p>Ran into another build issue when running <code>bazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures</code></p>\n<pre><code>WARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:avgpooling_op.h' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:bounds_check.h' directly. You should either move the file to this package or depend on an appropriate rule there.\n...\nLots more of the same warnings\n...\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:where_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:xent_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nINFO: Found 1 target...\nERROR: /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/BUILD:8:1: Java compilation in rule '@bazel_tools//src/tools/android/java/com/google/devtools/build/android:AndroidResourceProcessingAction' failed: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow &amp;&amp; \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow &amp;&amp; \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11.\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nINFO: Elapsed time: 0.743s, Critical Path: 0.53s\n</code></pre>\n<p>I am on OSX 10.11, had to download android ndk-r10e (since r11e didn't seem to work). Java version is 1.8.0_73 and Bazel version is 0.2.0 with TensorFlow 0.7.1. My WORKSPACE is configured as follows in the beginning. I changed the build_tools_version for the androidsdk to 23.0.2 (from 23.0.1) since that's what I have locally on my machine. Any pointers?</p>\n<pre><code>android_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 23,\n    build_tools_version = \"23.0.2\",\n    path = \"/Users/mchong5/Library/Android/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/Users/mchong5/android-ndk-r10e/\",\n    api_level=21)\n</code></pre>", "body_text": "Ran into another build issue when running bazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:avgpooling_op.h' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:bounds_check.h' directly. You should either move the file to this package or depend on an appropriate rule there.\n...\nLots more of the same warnings\n...\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:where_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:xent_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nINFO: Found 1 target...\nERROR: /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/BUILD:8:1: Java compilation in rule '@bazel_tools//src/tools/android/java/com/google/devtools/build/android:AndroidResourceProcessingAction' failed: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow && \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow && \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11.\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nINFO: Elapsed time: 0.743s, Critical Path: 0.53s\n\nI am on OSX 10.11, had to download android ndk-r10e (since r11e didn't seem to work). Java version is 1.8.0_73 and Bazel version is 0.2.0 with TensorFlow 0.7.1. My WORKSPACE is configured as follows in the beginning. I changed the build_tools_version for the androidsdk to 23.0.2 (from 23.0.1) since that's what I have locally on my machine. Any pointers?\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 23,\n    build_tools_version = \"23.0.2\",\n    path = \"/Users/mchong5/Library/Android/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/Users/mchong5/android-ndk-r10e/\",\n    api_level=21)", "body": "Ran into another build issue when running `bazel build //tensorflow/examples/android:tensorflow_demo --verbose_failures`\n\n```\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:avgpooling_op.h' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:632:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:bounds_check.h' directly. You should either move the file to this package or depend on an appropriate rule there.\n...\nLots more of the same warnings\n...\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:where_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nWARNING: /Users/username/tensorflow/tensorflow/core/BUILD:665:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib: please do not import '//tensorflow/core/kernels:xent_op.cc' directly. You should either move the file to this package or depend on an appropriate rule there.\nINFO: Found 1 target...\nERROR: /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/BUILD:8:1: Java compilation in rule '@bazel_tools//src/tools/android/java/com/google/devtools/build/android:AndroidResourceProcessingAction' failed: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow && \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11: java failed: error executing command \n  (cd /private/var/tmp/_bazel_username/d0aa3a34ac01d28ffabd89cde457364e/tensorflow && \\\n  exec env - \\\n  external/local_jdk/bin/java -Xbootclasspath/p:external/bazel_tools/third_party/java/jdk/langtools/javac.jar -client -jar external/bazel_tools/tools/jdk/JavaBuilder_deploy.jar @bazel-out/host/bin/external/bazel_tools/src/tools/android/java/com/google/devtools/build/android/AndroidResourceProcessingAction.jar-2.params): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 11.\nTarget //tensorflow/examples/android:tensorflow_demo failed to build\nINFO: Elapsed time: 0.743s, Critical Path: 0.53s\n```\n\nI am on OSX 10.11, had to download android ndk-r10e (since r11e didn't seem to work). Java version is 1.8.0_73 and Bazel version is 0.2.0 with TensorFlow 0.7.1. My WORKSPACE is configured as follows in the beginning. I changed the build_tools_version for the androidsdk to 23.0.2 (from 23.0.1) since that's what I have locally on my machine. Any pointers?\n\n```\nandroid_sdk_repository(\n    name = \"androidsdk\",\n    api_level = 23,\n    build_tools_version = \"23.0.2\",\n    path = \"/Users/mchong5/Library/Android/sdk\",\n)\n\nandroid_ndk_repository(\n    name=\"androidndk\",\n    path=\"/Users/mchong5/android-ndk-r10e/\",\n    api_level=21)\n```\n"}