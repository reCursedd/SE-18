{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/422248734", "html_url": "https://github.com/tensorflow/tensorflow/issues/22143#issuecomment-422248734", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22143", "id": 422248734, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjI0ODczNA==", "user": {"login": "skang29", "id": 18202810, "node_id": "MDQ6VXNlcjE4MjAyODEw", "avatar_url": "https://avatars0.githubusercontent.com/u/18202810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skang29", "html_url": "https://github.com/skang29", "followers_url": "https://api.github.com/users/skang29/followers", "following_url": "https://api.github.com/users/skang29/following{/other_user}", "gists_url": "https://api.github.com/users/skang29/gists{/gist_id}", "starred_url": "https://api.github.com/users/skang29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skang29/subscriptions", "organizations_url": "https://api.github.com/users/skang29/orgs", "repos_url": "https://api.github.com/users/skang29/repos", "events_url": "https://api.github.com/users/skang29/events{/privacy}", "received_events_url": "https://api.github.com/users/skang29/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-18T04:08:03Z", "updated_at": "2018-09-18T04:08:03Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>Try:</p>\n<p><code>sudo apt install libnccl2=2.2.13-1+cuda9.0 libnccl-dev=2.2.13-1+cuda9.0</code></p>\n<p>Tensorflow is built with CUDA 9.0 and you have the NCCL for CUDA 9.2 installed</p>\n</blockquote>\n<p>Hi,<br>\nThanks for the solution.<br>\nI tried to apply your solution, it doesn't work.<br>\nI removed current container and I reinstalled <strong>tensorflow/tensorflow:1.10.0-gpu-py3</strong> image.<br>\nRight after installation, I only can find libnccl2 as shown below and code was not working.</p>\n<pre><code>root@28838711efd4:/notebooks# apt list | grep nccl\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nlibnccl2/now 2.2.13-1+cuda9.0 amd64 [installed,local]\n</code></pre>\n<p>So, I tried to install libnccl-dev as follows.</p>\n<pre><code>root@28838711efd4:/notebooks# apt update\nroot@28838711efd4:/notebooks# apt install libnccl-dev=2.2.13-1+cuda9.0\nroot@28838711efd4:/notebooks# apt list | grep nccl\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nlibhttpasyncclient-java/xenial 4.1-1 all\nlibnccl-dev/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\nlibnccl1/unknown 1.2.3-1+cuda8.0 amd64\nlibnccl2/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\nlibvncclient1/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\nlibvncclient1-dbg/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\npython-ncclient/xenial 0.4.7-1 all\n</code></pre>\n<p>However, same problem.<br>\nDid I installed libnccl2 and libnccl-dev properly?</p>", "body_text": "Try:\nsudo apt install libnccl2=2.2.13-1+cuda9.0 libnccl-dev=2.2.13-1+cuda9.0\nTensorflow is built with CUDA 9.0 and you have the NCCL for CUDA 9.2 installed\n\nHi,\nThanks for the solution.\nI tried to apply your solution, it doesn't work.\nI removed current container and I reinstalled tensorflow/tensorflow:1.10.0-gpu-py3 image.\nRight after installation, I only can find libnccl2 as shown below and code was not working.\nroot@28838711efd4:/notebooks# apt list | grep nccl\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nlibnccl2/now 2.2.13-1+cuda9.0 amd64 [installed,local]\n\nSo, I tried to install libnccl-dev as follows.\nroot@28838711efd4:/notebooks# apt update\nroot@28838711efd4:/notebooks# apt install libnccl-dev=2.2.13-1+cuda9.0\nroot@28838711efd4:/notebooks# apt list | grep nccl\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nlibhttpasyncclient-java/xenial 4.1-1 all\nlibnccl-dev/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\nlibnccl1/unknown 1.2.3-1+cuda8.0 amd64\nlibnccl2/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\nlibvncclient1/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\nlibvncclient1-dbg/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\npython-ncclient/xenial 0.4.7-1 all\n\nHowever, same problem.\nDid I installed libnccl2 and libnccl-dev properly?", "body": "> Try:\r\n> \r\n> `sudo apt install libnccl2=2.2.13-1+cuda9.0 libnccl-dev=2.2.13-1+cuda9.0`\r\n> \r\n> Tensorflow is built with CUDA 9.0 and you have the NCCL for CUDA 9.2 installed\r\n\r\nHi,\r\nThanks for the solution.\r\nI tried to apply your solution, it doesn't work.\r\nI removed current container and I reinstalled **tensorflow/tensorflow:1.10.0-gpu-py3** image.\r\nRight after installation, I only can find libnccl2 as shown below and code was not working.\r\n```\r\nroot@28838711efd4:/notebooks# apt list | grep nccl\r\n\r\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\r\n\r\nlibnccl2/now 2.2.13-1+cuda9.0 amd64 [installed,local]\r\n```\r\n\r\nSo, I tried to install libnccl-dev as follows.\r\n```\r\nroot@28838711efd4:/notebooks# apt update\r\nroot@28838711efd4:/notebooks# apt install libnccl-dev=2.2.13-1+cuda9.0\r\nroot@28838711efd4:/notebooks# apt list | grep nccl\r\n\r\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\r\n\r\nlibhttpasyncclient-java/xenial 4.1-1 all\r\nlibnccl-dev/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\r\nlibnccl1/unknown 1.2.3-1+cuda8.0 amd64\r\nlibnccl2/unknown 2.2.13-1+cuda9.2 amd64 [upgradable from: 2.2.13-1+cuda9.0]\r\nlibvncclient1/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\r\nlibvncclient1-dbg/xenial-updates,xenial-security 0.9.10+dfsg-3ubuntu0.16.04.2 amd64\r\npython-ncclient/xenial 0.4.7-1 all\r\n```\r\nHowever, same problem.\r\nDid I installed libnccl2 and libnccl-dev properly?"}