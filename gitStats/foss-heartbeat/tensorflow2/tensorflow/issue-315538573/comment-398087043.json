{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/398087043", "html_url": "https://github.com/tensorflow/tensorflow/issues/18660#issuecomment-398087043", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18660", "id": 398087043, "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODA4NzA0Mw==", "user": {"login": "sibyjackgrove", "id": 25213730, "node_id": "MDQ6VXNlcjI1MjEzNzMw", "avatar_url": "https://avatars0.githubusercontent.com/u/25213730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sibyjackgrove", "html_url": "https://github.com/sibyjackgrove", "followers_url": "https://api.github.com/users/sibyjackgrove/followers", "following_url": "https://api.github.com/users/sibyjackgrove/following{/other_user}", "gists_url": "https://api.github.com/users/sibyjackgrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/sibyjackgrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sibyjackgrove/subscriptions", "organizations_url": "https://api.github.com/users/sibyjackgrove/orgs", "repos_url": "https://api.github.com/users/sibyjackgrove/repos", "events_url": "https://api.github.com/users/sibyjackgrove/events{/privacy}", "received_events_url": "https://api.github.com/users/sibyjackgrove/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-18T15:07:20Z", "updated_at": "2018-06-18T15:07:20Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am still having the same problem with TF 1.9-rc1 for my code. However, in case of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1112263\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/facaiy\">@facaiy</a> 's code, it works if you put an import statement in the lambda function declaration.</p>\n<pre><code>def func(x):\n    import tensorflow as tf\n    return tf.exp(x)\n</code></pre>\n<p>Can anyone tell me why I am getting</p>\n<blockquote>\n<p>SystemError: unknown opcode</p>\n</blockquote>\n<p>for my lamda function below while the above code doesn't get it.</p>\n<pre><code>def sampling(args):\n    \n    z_mean, z_log_var = args\n\n    epsilon = tf.random_normal(shape=(batch_size, latent_dim),\n                               mean=0., stddev=epsilon_std) \n    \n    return z_mean + tf.exp(z_log_var/2) * epsilon\n</code></pre>", "body_text": "I am still having the same problem with TF 1.9-rc1 for my code. However, in case of @facaiy 's code, it works if you put an import statement in the lambda function declaration.\ndef func(x):\n    import tensorflow as tf\n    return tf.exp(x)\n\nCan anyone tell me why I am getting\n\nSystemError: unknown opcode\n\nfor my lamda function below while the above code doesn't get it.\ndef sampling(args):\n    \n    z_mean, z_log_var = args\n\n    epsilon = tf.random_normal(shape=(batch_size, latent_dim),\n                               mean=0., stddev=epsilon_std) \n    \n    return z_mean + tf.exp(z_log_var/2) * epsilon", "body": "I am still having the same problem with TF 1.9-rc1 for my code. However, in case of @facaiy 's code, it works if you put an import statement in the lambda function declaration.\r\n\r\n```\r\ndef func(x):\r\n    import tensorflow as tf\r\n    return tf.exp(x)\r\n```\r\nCan anyone tell me why I am getting  \r\n\r\n> SystemError: unknown opcode\r\n\r\nfor my lamda function below while the above code doesn't get it.\r\n\r\n```\r\ndef sampling(args):\r\n    \r\n    z_mean, z_log_var = args\r\n\r\n    epsilon = tf.random_normal(shape=(batch_size, latent_dim),\r\n                               mean=0., stddev=epsilon_std) \r\n    \r\n    return z_mean + tf.exp(z_log_var/2) * epsilon\r\n```"}