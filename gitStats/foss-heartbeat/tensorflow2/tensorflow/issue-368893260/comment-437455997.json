{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/437455997", "html_url": "https://github.com/tensorflow/tensorflow/issues/22878#issuecomment-437455997", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22878", "id": 437455997, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzQ1NTk5Nw==", "user": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-09T18:43:38Z", "updated_at": "2018-11-09T18:44:05Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=24705015\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/DevarakondaV\">@DevarakondaV</a> It shows in the above code snippet that you are using GPU, probably double check here:</p>\n<pre><code>config.gpu_options.allow_growth = True\n</code></pre>\n<p>Check the communications between ps and workers as well as how you set up the queue. You can always monitor the ps and worker performance online.</p>\n<p>Also, make sure the chief worker is consistent in the setup, notice some discrepancy here:</p>\n<blockquote>\n<p>The chief worker is associated with \"task:0\". I've set up the model such that the queue and it operations live on \"task:1\"(not the chief worker).</p>\n</blockquote>\n<blockquote>\n<p>For the moment, I've bypassed this issue by passing the summary hook object to the non-chief worker(task:0).</p>\n</blockquote>", "body_text": "@DevarakondaV It shows in the above code snippet that you are using GPU, probably double check here:\nconfig.gpu_options.allow_growth = True\n\nCheck the communications between ps and workers as well as how you set up the queue. You can always monitor the ps and worker performance online.\nAlso, make sure the chief worker is consistent in the setup, notice some discrepancy here:\n\nThe chief worker is associated with \"task:0\". I've set up the model such that the queue and it operations live on \"task:1\"(not the chief worker).\n\n\nFor the moment, I've bypassed this issue by passing the summary hook object to the non-chief worker(task:0).", "body": "@DevarakondaV It shows in the above code snippet that you are using GPU, probably double check here:\r\n```\r\nconfig.gpu_options.allow_growth = True\r\n```\r\nCheck the communications between ps and workers as well as how you set up the queue. You can always monitor the ps and worker performance online.\r\n\r\nAlso, make sure the chief worker is consistent in the setup, notice some discrepancy here:\r\n\r\n> The chief worker is associated with \"task:0\". I've set up the model such that the queue and it operations live on \"task:1\"(not the chief worker).\r\n\r\n> For the moment, I've bypassed this issue by passing the summary hook object to the non-chief worker(task:0). "}