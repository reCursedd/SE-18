{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/105037430", "pull_request_review_id": 25898948, "id": 105037430, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTAzNzQzMA==", "diff_hunk": "@@ -440,26 +440,18 @@ module VZ {\n       let factor = (Math.pow(1000, this.smoothingWeight) - 1) / 999;\n       let data = dataset.data();\n       let kernelRadius = Math.floor(data.length * factor / 2);\n-\n-      data.forEach((d, i) => {\n-        let actualKernelRadius = Math.min(kernelRadius, i);\n-        let start = i - actualKernelRadius;\n-        let end = i + actualKernelRadius + 1;\n-        if (end >= data.length) {\n-          // In the beginning, it's OK for the smoothing window to be small,\n-          // but this is not desirable towards the end. Rather than shrinking\n-          // the window, or extrapolating data to fill the gap, we're simply\n-          // not going to display the smoothed line towards the end.\n-          d.smoothed = Infinity;\n-        } else if (!_.isFinite(d.scalar)) {\n-          // Only smooth finite numbers.\n+      data.forEach(function (d, i) {\n+        var actualKernelRadius = Math.min(kernelRadius, i)\n+        var start = Math.max(0, i - actualKernelRadius);", "path": "tensorflow/tensorboard/components/vz_line_chart/vz-line-chart.ts", "position": null, "original_position": 19, "commit_id": "e18ae690df88d8df8e000775ae2cde78aa233686", "original_commit_id": "461c6cd4b0ca8f2af833ee2a63749f7bb7f498f8", "user": {"login": "decentralion", "id": 1400023, "node_id": "MDQ6VXNlcjE0MDAwMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1400023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/decentralion", "html_url": "https://github.com/decentralion", "followers_url": "https://api.github.com/users/decentralion/followers", "following_url": "https://api.github.com/users/decentralion/following{/other_user}", "gists_url": "https://api.github.com/users/decentralion/gists{/gist_id}", "starred_url": "https://api.github.com/users/decentralion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/decentralion/subscriptions", "organizations_url": "https://api.github.com/users/decentralion/orgs", "repos_url": "https://api.github.com/users/decentralion/repos", "events_url": "https://api.github.com/users/decentralion/events{/privacy}", "received_events_url": "https://api.github.com/users/decentralion/received_events", "type": "User", "site_admin": false}, "body": "Isn't the Math.max(0, i - actualKernelRadius) unnecessary?\r\nBecause when (i <= kernelRadius), actualKernelRadius = min(kernelRadius, i) = i\r\nso i - actaulKernelRadius == 0 in that case.\r\n\r\nconversely, if (i > kernelRadius), then (i - actualKernelRadius > 0)\r\n\r\nso the Max(0) never gets invoked\r\n", "created_at": "2017-03-08T22:13:41Z", "updated_at": "2017-03-09T08:37:19Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7891#discussion_r105037430", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7891", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/105037430"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7891#discussion_r105037430"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7891"}}, "body_html": "<p>Isn't the Math.max(0, i - actualKernelRadius) unnecessary?<br>\nBecause when (i &lt;= kernelRadius), actualKernelRadius = min(kernelRadius, i) = i<br>\nso i - actaulKernelRadius == 0 in that case.</p>\n<p>conversely, if (i &gt; kernelRadius), then (i - actualKernelRadius &gt; 0)</p>\n<p>so the Max(0) never gets invoked</p>", "body_text": "Isn't the Math.max(0, i - actualKernelRadius) unnecessary?\nBecause when (i <= kernelRadius), actualKernelRadius = min(kernelRadius, i) = i\nso i - actaulKernelRadius == 0 in that case.\nconversely, if (i > kernelRadius), then (i - actualKernelRadius > 0)\nso the Max(0) never gets invoked"}