{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3835", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3835/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3835/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3835/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3835", "id": 171321176, "node_id": "MDU6SXNzdWUxNzEzMjExNzY=", "number": 3835, "title": "Some types of fetches in tf.Session.run are not supported and it behaves strange in container", "user": {"login": "tobegit3hub", "id": 2715000, "node_id": "MDQ6VXNlcjI3MTUwMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2715000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobegit3hub", "html_url": "https://github.com/tobegit3hub", "followers_url": "https://api.github.com/users/tobegit3hub/followers", "following_url": "https://api.github.com/users/tobegit3hub/following{/other_user}", "gists_url": "https://api.github.com/users/tobegit3hub/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobegit3hub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobegit3hub/subscriptions", "organizations_url": "https://api.github.com/users/tobegit3hub/orgs", "repos_url": "https://api.github.com/users/tobegit3hub/repos", "events_url": "https://api.github.com/users/tobegit3hub/events{/privacy}", "received_events_url": "https://api.github.com/users/tobegit3hub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-16T04:10:06Z", "updated_at": "2016-08-16T04:28:55Z", "closed_at": "2016-08-16T04:28:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>There're two issues I have found when giving different type of fetches in <code>tf.Session.run()</code>.</p>\n<p>The <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/client.html\" rel=\"nofollow\">doc</a> says that we can pass the nested list or tuple to <code>run()</code> but it doesn't work.</p>\n<pre><code>tf.Session.run(fetches, feed_dict=None, options=None, run_metadata=None)\n\nRuns operations and evaluates tensors in fetches.\n\nThis method runs one \"step\" of TensorFlow computation, by running the necessary graph fragment to execute every Operation and evaluate every Tensor in fetches, substituting the values in feed_dict for the corresponding input values.\n\nThe fetches argument may be a single graph element, or an arbitrarily nested list, tuple, namedtuple, or dict containing graph elements at its leaves. A graph element can be one of the following types:\n</code></pre>\n<p>It's easy to test with this script.</p>\n<pre><code>import tensorflow as tf\n\na = tf.placeholder(\"float\")\nb = tf.placeholder(\"float\")\nadd_op = tf.add(a, b)\nmul_op = tf.mul(a, b)\n\noutput_array = [[add_op, mul_op]]\n\nwith tf.Session() as sess:\n    output_array = sess.run(output_array, feed_dict={a: 1, b: 2})\n    print(output_array)\n</code></pre>\n<p>And I found it works if I pass the <code>array</code> or <code>dict</code>. But what's strange is that the <code>dict</code> doesn't work in docker container which is also easy to reproduce by creating the tensorflow container to run the same script. You can find my test code and error log below.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://cloud.githubusercontent.com/assets/2715000/17687714/3e4a83a8-63aa-11e6-98be-e20a7099f77b.png\"><img src=\"https://cloud.githubusercontent.com/assets/2715000/17687714/3e4a83a8-63aa-11e6-98be-e20a7099f77b.png\" alt=\"screen shot 2016-08-16 at 11 52 31\" style=\"max-width:100%;\"></a></p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 16.04</p>\n<p>If installed from binary pip package, provide:<br>\nTensorFlow 0.8</p>", "body_text": "There're two issues I have found when giving different type of fetches in tf.Session.run().\nThe doc says that we can pass the nested list or tuple to run() but it doesn't work.\ntf.Session.run(fetches, feed_dict=None, options=None, run_metadata=None)\n\nRuns operations and evaluates tensors in fetches.\n\nThis method runs one \"step\" of TensorFlow computation, by running the necessary graph fragment to execute every Operation and evaluate every Tensor in fetches, substituting the values in feed_dict for the corresponding input values.\n\nThe fetches argument may be a single graph element, or an arbitrarily nested list, tuple, namedtuple, or dict containing graph elements at its leaves. A graph element can be one of the following types:\n\nIt's easy to test with this script.\nimport tensorflow as tf\n\na = tf.placeholder(\"float\")\nb = tf.placeholder(\"float\")\nadd_op = tf.add(a, b)\nmul_op = tf.mul(a, b)\n\noutput_array = [[add_op, mul_op]]\n\nwith tf.Session() as sess:\n    output_array = sess.run(output_array, feed_dict={a: 1, b: 2})\n    print(output_array)\n\nAnd I found it works if I pass the array or dict. But what's strange is that the dict doesn't work in docker container which is also easy to reproduce by creating the tensorflow container to run the same script. You can find my test code and error log below.\n\nEnvironment info\nOperating System: Ubuntu 16.04\nIf installed from binary pip package, provide:\nTensorFlow 0.8", "body": "There're two issues I have found when giving different type of fetches in `tf.Session.run()`.\n\nThe [doc](https://www.tensorflow.org/versions/master/api_docs/python/client.html) says that we can pass the nested list or tuple to `run()` but it doesn't work.\n\n```\ntf.Session.run(fetches, feed_dict=None, options=None, run_metadata=None)\n\nRuns operations and evaluates tensors in fetches.\n\nThis method runs one \"step\" of TensorFlow computation, by running the necessary graph fragment to execute every Operation and evaluate every Tensor in fetches, substituting the values in feed_dict for the corresponding input values.\n\nThe fetches argument may be a single graph element, or an arbitrarily nested list, tuple, namedtuple, or dict containing graph elements at its leaves. A graph element can be one of the following types:\n```\n\nIt's easy to test with this script.\n\n```\nimport tensorflow as tf\n\na = tf.placeholder(\"float\")\nb = tf.placeholder(\"float\")\nadd_op = tf.add(a, b)\nmul_op = tf.mul(a, b)\n\noutput_array = [[add_op, mul_op]]\n\nwith tf.Session() as sess:\n    output_array = sess.run(output_array, feed_dict={a: 1, b: 2})\n    print(output_array)\n```\n\nAnd I found it works if I pass the `array` or `dict`. But what's strange is that the `dict` doesn't work in docker container which is also easy to reproduce by creating the tensorflow container to run the same script. You can find my test code and error log below.\n\n![screen shot 2016-08-16 at 11 52 31](https://cloud.githubusercontent.com/assets/2715000/17687714/3e4a83a8-63aa-11e6-98be-e20a7099f77b.png)\n### Environment info\n\nOperating System: Ubuntu 16.04\n\nIf installed from binary pip package, provide:\nTensorFlow 0.8\n"}