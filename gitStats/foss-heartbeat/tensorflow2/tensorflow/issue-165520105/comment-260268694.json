{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/260268694", "html_url": "https://github.com/tensorflow/tensorflow/issues/3308#issuecomment-260268694", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3308", "id": 260268694, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDI2ODY5NA==", "user": {"login": "waleedka", "id": 106472, "node_id": "MDQ6VXNlcjEwNjQ3Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/106472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waleedka", "html_url": "https://github.com/waleedka", "followers_url": "https://api.github.com/users/waleedka/followers", "following_url": "https://api.github.com/users/waleedka/following{/other_user}", "gists_url": "https://api.github.com/users/waleedka/gists{/gist_id}", "starred_url": "https://api.github.com/users/waleedka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waleedka/subscriptions", "organizations_url": "https://api.github.com/users/waleedka/orgs", "repos_url": "https://api.github.com/users/waleedka/repos", "events_url": "https://api.github.com/users/waleedka/events{/privacy}", "received_events_url": "https://api.github.com/users/waleedka/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-14T07:46:56Z", "updated_at": "2016-11-14T07:46:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm having the same issue. Compiling on Ubuntu 16.04 using bazel 0.4.0 and the master branch as of today. I tried the linker options mentioned above (-Wl,--allow-multiple-definition -Wl,--whole-archive) but that didn't help. Still getting the same error message: No session factory registered for the given session options.</p>\n<p>My BUILD file is:</p>\n<div class=\"highlight highlight-source-python\"><pre>cc_binary(\n    <span class=\"pl-v\">name</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>label_image<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-v\">srcs</span> <span class=\"pl-k\">=</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>main.cc<span class=\"pl-pds\">\"</span></span>,\n    ],\n    <span class=\"pl-v\">copts</span><span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-Iexternal/org_tensorflow<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">linkopts</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-lm<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-Wl,--allow-multiple-definition<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-Wl,--whole-archive<span class=\"pl-pds\">\"</span></span>],\n    <span class=\"pl-v\">deps</span> <span class=\"pl-k\">=</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@org_tensorflow//tensorflow/cc:cc_ops<span class=\"pl-pds\">\"</span></span>,\n    ],\n)</pre></div>", "body_text": "I'm having the same issue. Compiling on Ubuntu 16.04 using bazel 0.4.0 and the master branch as of today. I tried the linker options mentioned above (-Wl,--allow-multiple-definition -Wl,--whole-archive) but that didn't help. Still getting the same error message: No session factory registered for the given session options.\nMy BUILD file is:\ncc_binary(\n    name = \"label_image\",\n    srcs = [\n        \"main.cc\",\n    ],\n    copts= [\"-Iexternal/org_tensorflow\"],\n    linkopts = [\"-lm\", \"-Wl,--allow-multiple-definition\", \"-Wl,--whole-archive\"],\n    deps = [\n        \"@org_tensorflow//tensorflow/cc:cc_ops\",\n    ],\n)", "body": "I'm having the same issue. Compiling on Ubuntu 16.04 using bazel 0.4.0 and the master branch as of today. I tried the linker options mentioned above (-Wl,--allow-multiple-definition -Wl,--whole-archive) but that didn't help. Still getting the same error message: No session factory registered for the given session options.\n\nMy BUILD file is:\n\n``` python\ncc_binary(\n    name = \"label_image\",\n    srcs = [\n        \"main.cc\",\n    ],\n    copts= [\"-Iexternal/org_tensorflow\"],\n    linkopts = [\"-lm\", \"-Wl,--allow-multiple-definition\", \"-Wl,--whole-archive\"],\n    deps = [\n        \"@org_tensorflow//tensorflow/cc:cc_ops\",\n    ],\n)\n```\n"}