{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/336601222", "html_url": "https://github.com/tensorflow/tensorflow/issues/3308#issuecomment-336601222", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3308", "id": 336601222, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYwMTIyMg==", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-14T01:45:13Z", "updated_at": "2017-10-14T01:45:13Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9526892\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/corwinliu\">@corwinliu</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=106472\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/waleedka\">@waleedka</a> Chances are you guys needed <code>//tensorflow/core:direct_session</code> on the deps list. But if you're building C++ programs with Bazel, it actually gets a little bit more complicated than that. Here's an example PNG -&gt; JPG converter program built by Bazel to explain: <a href=\"https://gist.github.com/jart/c8b84a17ffa9e8e5dfa30342b8feca7a\">https://gist.github.com/jart/c8b84a17ffa9e8e5dfa30342b8feca7a</a> It's statically linked and ends up being about 22MB with no dependencies (11MB stripped.) Although we can make that much lower in the future, once we do some code cleanup on the alwayslink=1 targets.</p>", "body_text": "@corwinliu @waleedka Chances are you guys needed //tensorflow/core:direct_session on the deps list. But if you're building C++ programs with Bazel, it actually gets a little bit more complicated than that. Here's an example PNG -> JPG converter program built by Bazel to explain: https://gist.github.com/jart/c8b84a17ffa9e8e5dfa30342b8feca7a It's statically linked and ends up being about 22MB with no dependencies (11MB stripped.) Although we can make that much lower in the future, once we do some code cleanup on the alwayslink=1 targets.", "body": "@corwinliu @waleedka Chances are you guys needed `//tensorflow/core:direct_session` on the deps list. But if you're building C++ programs with Bazel, it actually gets a little bit more complicated than that. Here's an example PNG -> JPG converter program built by Bazel to explain: https://gist.github.com/jart/c8b84a17ffa9e8e5dfa30342b8feca7a It's statically linked and ends up being about 22MB with no dependencies (11MB stripped.) Although we can make that much lower in the future, once we do some code cleanup on the alwayslink=1 targets."}