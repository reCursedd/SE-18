{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19207", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19207/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19207/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19207/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19207", "id": 322056997, "node_id": "MDU6SXNzdWUzMjIwNTY5OTc=", "number": 19207, "title": "AttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'", "user": {"login": "Tgmstriker", "id": 39170485, "node_id": "MDQ6VXNlcjM5MTcwNDg1", "avatar_url": "https://avatars0.githubusercontent.com/u/39170485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tgmstriker", "html_url": "https://github.com/Tgmstriker", "followers_url": "https://api.github.com/users/Tgmstriker/followers", "following_url": "https://api.github.com/users/Tgmstriker/following{/other_user}", "gists_url": "https://api.github.com/users/Tgmstriker/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tgmstriker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tgmstriker/subscriptions", "organizations_url": "https://api.github.com/users/Tgmstriker/orgs", "repos_url": "https://api.github.com/users/Tgmstriker/repos", "events_url": "https://api.github.com/users/Tgmstriker/events{/privacy}", "received_events_url": "https://api.github.com/users/Tgmstriker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-05-10T19:39:08Z", "updated_at": "2018-06-18T22:50:39Z", "closed_at": "2018-06-18T22:50:39Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>I am trying to use export_inference_graph.py within tensorflow/research/object_detection</li>\n<li>Windows 10</li>\n<li>Tensorflow installed from binary</li>\n<li>Tensorflow Version b'v1.8.0-0-g93bc2e2072' 1.8.0</li>\n<li>Python 3.6.4</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I am trying to train a detector using a custom data set.  I have run through the training and produced the model.ckpt files (meta, index, etc).  The issue I'm running into is creating the frozen inference graph.  Running export_inference_graph.py always fails out with the error:</p>\n<p>AttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'</p>\n<p>After some mild searching online, I didn't uncover any hits or paths to go down to address this.  What might I be missing?</p>\n<h3>Source code / logs</h3>\n<p>tensorflow\\research\\object_detection&gt; python export_inference_graph.py --input_type i<br>\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt<br>\n-89076 --output_directory inference_graph<br>\nC:\\ProgramData\\Anaconda3\\lib\\site-packages\\h5py_<em>init</em>_.py:36: FutureWarning: Conversion of the second argument of issubdtype from <code>float</code> to <code>np.floating</code> is deprecated. In future, it will be treated as <code>np.float64 == np.dtype(float).type</code>.<br>\nfrom ._conv import register_converters as _register_converters<br>\nTraceback (most recent call last):<br>\nFile \"export_inference_graph.py\", line 147, in <br>\ntf.app.run()<br>\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 126, in run<br>\n_sys.exit(main(argv))<br>\nFile \"export_inference_graph.py\", line 143, in main<br>\nFLAGS.output_directory, input_shape)<br>\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\exporter.py\", line 447, in export_inference_graph<br>\nis_training=False)<br>\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 98, in build<br>\nadd_background_class)<br>\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 178, in _build_ssd_model<br>\nssd_config.anchor_generator)<br>\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\anchor_generator_builder.py\", line 59, in build<br>\nif ssd_anchor_generator_config.height_stride:<br>\nAttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'</p>\n<h3>Edit 5/14/2018:</h3>\n<p>Have I written custom code: not for this instance.<br>\nOS Platform : Windows 10<br>\nBasel Version: NA<br>\nCuda version l: NA<br>\nGpu Model: NA<br>\nCommand: tensorflow\\research\\object_detection&gt; python export_inference_graph.py --input_type i<br>\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt<br>\n-89076 --output_directory inference_graph</p>", "body_text": "System information\n\nI am trying to use export_inference_graph.py within tensorflow/research/object_detection\nWindows 10\nTensorflow installed from binary\nTensorflow Version b'v1.8.0-0-g93bc2e2072' 1.8.0\nPython 3.6.4\n\nDescribe the problem\nI am trying to train a detector using a custom data set.  I have run through the training and produced the model.ckpt files (meta, index, etc).  The issue I'm running into is creating the frozen inference graph.  Running export_inference_graph.py always fails out with the error:\nAttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'\nAfter some mild searching online, I didn't uncover any hits or paths to go down to address this.  What might I be missing?\nSource code / logs\ntensorflow\\research\\object_detection> python export_inference_graph.py --input_type i\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt\n-89076 --output_directory inference_graph\nC:\\ProgramData\\Anaconda3\\lib\\site-packages\\h5py_init_.py:36: FutureWarning: Conversion of the second argument of issubdtype from float to np.floating is deprecated. In future, it will be treated as np.float64 == np.dtype(float).type.\nfrom ._conv import register_converters as _register_converters\nTraceback (most recent call last):\nFile \"export_inference_graph.py\", line 147, in \ntf.app.run()\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 126, in run\n_sys.exit(main(argv))\nFile \"export_inference_graph.py\", line 143, in main\nFLAGS.output_directory, input_shape)\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\exporter.py\", line 447, in export_inference_graph\nis_training=False)\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 98, in build\nadd_background_class)\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 178, in _build_ssd_model\nssd_config.anchor_generator)\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\anchor_generator_builder.py\", line 59, in build\nif ssd_anchor_generator_config.height_stride:\nAttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'\nEdit 5/14/2018:\nHave I written custom code: not for this instance.\nOS Platform : Windows 10\nBasel Version: NA\nCuda version l: NA\nGpu Model: NA\nCommand: tensorflow\\research\\object_detection> python export_inference_graph.py --input_type i\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt\n-89076 --output_directory inference_graph", "body": "### System information\r\n- I am trying to use export_inference_graph.py within tensorflow/research/object_detection\r\n- Windows 10\r\n- Tensorflow installed from binary\r\n- Tensorflow Version b'v1.8.0-0-g93bc2e2072' 1.8.0\r\n- Python 3.6.4\r\n### Describe the problem\r\nI am trying to train a detector using a custom data set.  I have run through the training and produced the model.ckpt files (meta, index, etc).  The issue I'm running into is creating the frozen inference graph.  Running export_inference_graph.py always fails out with the error:\r\n\r\nAttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'\r\n\r\nAfter some mild searching online, I didn't uncover any hits or paths to go down to address this.  What might I be missing?\r\n\r\n### Source code / logs\r\ntensorflow\\research\\object_detection> python export_inference_graph.py --input_type i\r\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt\r\n-89076 --output_directory inference_graph\r\nC:\\ProgramData\\Anaconda3\\lib\\site-packages\\h5py\\__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nTraceback (most recent call last):\r\n  File \"export_inference_graph.py\", line 147, in <module>\r\n    tf.app.run()\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 126, in run\r\n    _sys.exit(main(argv))\r\n  File \"export_inference_graph.py\", line 143, in main\r\n    FLAGS.output_directory, input_shape)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\exporter.py\", line 447, in export_inference_graph\r\n    is_training=False)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 98, in build\r\n    add_background_class)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\model_builder.py\", line 178, in _build_ssd_model\r\n    ssd_config.anchor_generator)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\object_detection-0.1-py3.6.egg\\object_detection\\builders\\anchor_generator_builder.py\", line 59, in build\r\n    if ssd_anchor_generator_config.height_stride:\r\nAttributeError: 'SsdAnchorGenerator' object has no attribute 'height_stride'\r\n\r\n### Edit 5/14/2018:\r\nHave I written custom code: not for this instance.\r\nOS Platform : Windows 10\r\nBasel Version: NA\r\nCuda version l: NA\r\nGpu Model: NA\r\nCommand: tensorflow\\research\\object_detection> python export_inference_graph.py --input_type i\r\nmage_tensor --pipeline_config_path training/ssd_mobilenet_v1_coco.config --trained_checkpoint_prefix training/model.ckpt\r\n-89076 --output_directory inference_graph"}