{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3685", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3685/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3685/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3685/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3685", "id": 169797786, "node_id": "MDU6SXNzdWUxNjk3OTc3ODY=", "number": 3685, "title": "Unable to generate signed APK for project based on Android demo", "user": {"login": "cardshuffle", "id": 10469216, "node_id": "MDQ6VXNlcjEwNDY5MjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/10469216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cardshuffle", "html_url": "https://github.com/cardshuffle", "followers_url": "https://api.github.com/users/cardshuffle/followers", "following_url": "https://api.github.com/users/cardshuffle/following{/other_user}", "gists_url": "https://api.github.com/users/cardshuffle/gists{/gist_id}", "starred_url": "https://api.github.com/users/cardshuffle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cardshuffle/subscriptions", "organizations_url": "https://api.github.com/users/cardshuffle/orgs", "repos_url": "https://api.github.com/users/cardshuffle/repos", "events_url": "https://api.github.com/users/cardshuffle/events{/privacy}", "received_events_url": "https://api.github.com/users/cardshuffle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrewharp", "id": 3376817, "node_id": "MDQ6VXNlcjMzNzY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3376817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewharp", "html_url": "https://github.com/andrewharp", "followers_url": "https://api.github.com/users/andrewharp/followers", "following_url": "https://api.github.com/users/andrewharp/following{/other_user}", "gists_url": "https://api.github.com/users/andrewharp/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewharp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewharp/subscriptions", "organizations_url": "https://api.github.com/users/andrewharp/orgs", "repos_url": "https://api.github.com/users/andrewharp/repos", "events_url": "https://api.github.com/users/andrewharp/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewharp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-08-07T14:03:27Z", "updated_at": "2016-09-17T07:00:41Z", "closed_at": "2016-09-12T19:51:02Z", "author_association": "NONE", "body_html": "<p>I wrote a simple app based on the Android demo that I got running successfully on my own device for debugging, using Bazel, and I'm planning on releasing it, but generating a signed APK fails.</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04 LTS 64-bit</p>\n<p>Installed version of CUDA and cuDNN: none</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>): <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/fc9162975e52978d3af38549b570cc3cc5f0ab66/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/fc9162975e52978d3af38549b570cc3cc5f0ab66\"><tt>fc91629</tt></a></li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<pre><code>Build label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n</code></pre>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Follow instructions in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"166848261\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/3444\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/3444/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/3444\">#3444</a> up to setting up the Android Studio project</li>\n<li>Run <code>./studio.sh</code> to open Android Studio</li>\n<li>Open the Android demo as existing Android Studio project</li>\n<li>(no prompt to configure appears)</li>\n<li>Open \"File/Project Structure\"</li>\n<li>If src and res aren't set as source and resource directories respectively, do so</li>\n<li>Select \"Generate Signed APK\" under Build, fails</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>Found the apks built by Bazel and tried to upload them. They were rejected by the Play Store.</li>\n<li>Originally, the \"Generate Signed APK\" option wasn't available, but was fixed by deleting the project, reinstalling Android Studio, and then copying the project back in from a backup.</li>\n<li>Cleaning. No change.</li>\n<li>Solutions for similar errors suggest modifying the build tools version in the Gradle file, but this project doesn't use Gradle...</li>\n</ol>\n<h3>Logs or other output</h3>\n<pre><code>Error:Android Dex: [android] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: com/android/dx/command/dexer/Main : Unsupported major.minor version 52.0\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass1(Native Method)\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nError:Android Dex: [android] at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nError:Android Dex: [android] at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\nError:Android Dex: [android] at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nError:Android Dex: [android] at java.security.AccessController.doPrivileged(Native Method)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nError:Android Dex: [android] at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.loadDex(AndroidDxRunner.java:79)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.runDex(AndroidDxRunner.java:136)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.main(AndroidDxRunner.java:336)\n</code></pre>", "body_text": "I wrote a simple app based on the Android demo that I got running successfully on my own device for debugging, using Bazel, and I'm planning on releasing it, but generating a signed APK fails.\nEnvironment info\nOperating System: Ubuntu 14.04 LTS 64-bit\nInstalled version of CUDA and cuDNN: none\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD): fc91629\nThe output of bazel version\n\nBuild label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n\nSteps to reproduce\n\nFollow instructions in #3444 up to setting up the Android Studio project\nRun ./studio.sh to open Android Studio\nOpen the Android demo as existing Android Studio project\n(no prompt to configure appears)\nOpen \"File/Project Structure\"\nIf src and res aren't set as source and resource directories respectively, do so\nSelect \"Generate Signed APK\" under Build, fails\n\nWhat have you tried?\n\nFound the apks built by Bazel and tried to upload them. They were rejected by the Play Store.\nOriginally, the \"Generate Signed APK\" option wasn't available, but was fixed by deleting the project, reinstalling Android Studio, and then copying the project back in from a backup.\nCleaning. No change.\nSolutions for similar errors suggest modifying the build tools version in the Gradle file, but this project doesn't use Gradle...\n\nLogs or other output\nError:Android Dex: [android] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: com/android/dx/command/dexer/Main : Unsupported major.minor version 52.0\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass1(Native Method)\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nError:Android Dex: [android] at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nError:Android Dex: [android] at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\nError:Android Dex: [android] at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nError:Android Dex: [android] at java.security.AccessController.doPrivileged(Native Method)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nError:Android Dex: [android] at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.loadDex(AndroidDxRunner.java:79)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.runDex(AndroidDxRunner.java:136)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.main(AndroidDxRunner.java:336)", "body": "I wrote a simple app based on the Android demo that I got running successfully on my own device for debugging, using Bazel, and I'm planning on releasing it, but generating a signed APK fails.\n### Environment info\n\nOperating System: Ubuntu 14.04 LTS 64-bit\n\nInstalled version of CUDA and cuDNN: none\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`): fc9162975e52978d3af38549b570cc3cc5f0ab66\n2. The output of `bazel version`\n\n```\nBuild label: 0.3.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 10 11:38:23 2016 (1465558703)\nBuild timestamp: 1465558703\nBuild timestamp as int: 1465558703\n```\n### Steps to reproduce\n1. Follow instructions in #3444 up to setting up the Android Studio project\n2. Run `./studio.sh` to open Android Studio\n3. Open the Android demo as existing Android Studio project\n4. (no prompt to configure appears)\n5. Open \"File/Project Structure\"\n6. If src and res aren't set as source and resource directories respectively, do so\n7. Select \"Generate Signed APK\" under Build, fails\n### What have you tried?\n1. Found the apks built by Bazel and tried to upload them. They were rejected by the Play Store.\n2. Originally, the \"Generate Signed APK\" option wasn't available, but was fixed by deleting the project, reinstalling Android Studio, and then copying the project back in from a backup.\n3. Cleaning. No change.\n4. Solutions for similar errors suggest modifying the build tools version in the Gradle file, but this project doesn't use Gradle...\n### Logs or other output\n\n```\nError:Android Dex: [android] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: com/android/dx/command/dexer/Main : Unsupported major.minor version 52.0\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass1(Native Method)\nError:Android Dex: [android] at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nError:Android Dex: [android] at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nError:Android Dex: [android] at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\nError:Android Dex: [android] at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nError:Android Dex: [android] at java.security.AccessController.doPrivileged(Native Method)\nError:Android Dex: [android] at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nError:Android Dex: [android] at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nError:Android Dex: [android] at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.loadDex(AndroidDxRunner.java:79)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.runDex(AndroidDxRunner.java:136)\nError:Android Dex: [android] at org.jetbrains.android.compiler.tools.AndroidDxRunner.main(AndroidDxRunner.java:336)\n```\n"}