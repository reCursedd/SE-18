{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6160", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6160/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6160/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6160/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6160", "id": 194078764, "node_id": "MDU6SXNzdWUxOTQwNzg3NjQ=", "number": 6160, "title": "Windows MSBuild fails", "user": {"login": "keremcant", "id": 11929131, "node_id": "MDQ6VXNlcjExOTI5MTMx", "avatar_url": "https://avatars2.githubusercontent.com/u/11929131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keremcant", "html_url": "https://github.com/keremcant", "followers_url": "https://api.github.com/users/keremcant/followers", "following_url": "https://api.github.com/users/keremcant/following{/other_user}", "gists_url": "https://api.github.com/users/keremcant/gists{/gist_id}", "starred_url": "https://api.github.com/users/keremcant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keremcant/subscriptions", "organizations_url": "https://api.github.com/users/keremcant/orgs", "repos_url": "https://api.github.com/users/keremcant/repos", "events_url": "https://api.github.com/users/keremcant/events{/privacy}", "received_events_url": "https://api.github.com/users/keremcant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-07T15:25:04Z", "updated_at": "2016-12-07T18:44:29Z", "closed_at": "2016-12-07T18:44:29Z", "author_association": "NONE", "body_html": "<p>Hello,<br>\nI am trying to build tensorflow for cpu on my Windows computer using cmake and MS Visual Studio. I do the steps as described in the link below, I came until step 4, however at step 4 however MSBuild fails. Since I don't need the test program, I am trying to dirrectly build the .whl file by building the tf_python_copy_scripts_to_destination.vcxproj.</p>\n<p>I am using the instructions from the link: <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md</a></p>\n<p>I have a service pack 1 Windows 7, 64 bit.</p>\n<p>In terms of Prerequisites:</p>\n<ul>\n<li>CMake version 3.5 up to 3.6 (I have 3.6.3)</li>\n<li>Git (I have 2.10.0.windows.1)</li>\n<li>SWIG (I have swigwin 3.0.10)</li>\n</ul>\n<p>Additional pre-requisites for Microsoft Windows:</p>\n<ul>\n<li>Visual Studio 2015 (I have VS 2015 and MSBuild 14.0)</li>\n<li>Python 3.5 (I have Python 3.5)</li>\n<li>NumPy 1.11.0 or later (I have 1.11.2)</li>\n</ul>\n<p>Since there are multiple MSBuilds, I set the path string to the MSBuild 14.0: C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\amd64. Also there are two versions, one directly under \\Bin and one under \\Bin\\amd64. I choose the latter one.</p>\n<h1>The error message I get is:</h1>\n<p>Done Building Project \"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default targe<br>\nts) -- FAILED.</p>\n<p>Build FAILED.</p>\n<p>\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) -&gt;<br>\n(CustomBuild target) -&gt;<br>\ncl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp<br>\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]<br>\ncl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp<br>\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]</p>\n<p>\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) -&gt;<br>\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) -&gt;<br>\n(CustomBuild target) -&gt;<br>\nC:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c<br>\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl<br>\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]<br>\nC:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c<br>\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl<br>\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]</p>\n<p>2 Warning(s)<br>\n2 Error(s)</p>\n<p>Time Elapsed 00:00:58.06</p>\n<p>=================================</p>\n<p>Any help is appreciated. Thanks,<br>\nKerem</p>", "body_text": "Hello,\nI am trying to build tensorflow for cpu on my Windows computer using cmake and MS Visual Studio. I do the steps as described in the link below, I came until step 4, however at step 4 however MSBuild fails. Since I don't need the test program, I am trying to dirrectly build the .whl file by building the tf_python_copy_scripts_to_destination.vcxproj.\nI am using the instructions from the link: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md\nI have a service pack 1 Windows 7, 64 bit.\nIn terms of Prerequisites:\n\nCMake version 3.5 up to 3.6 (I have 3.6.3)\nGit (I have 2.10.0.windows.1)\nSWIG (I have swigwin 3.0.10)\n\nAdditional pre-requisites for Microsoft Windows:\n\nVisual Studio 2015 (I have VS 2015 and MSBuild 14.0)\nPython 3.5 (I have Python 3.5)\nNumPy 1.11.0 or later (I have 1.11.2)\n\nSince there are multiple MSBuilds, I set the path string to the MSBuild 14.0: C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\amd64. Also there are two versions, one directly under \\Bin and one under \\Bin\\amd64. I choose the latter one.\nThe error message I get is:\nDone Building Project \"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default targe\nts) -- FAILED.\nBuild FAILED.\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) ->\n(CustomBuild target) ->\ncl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\ncl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) ->\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) ->\n(CustomBuild target) ->\nC:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\nC:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\n2 Warning(s)\n2 Error(s)\nTime Elapsed 00:00:58.06\n=================================\nAny help is appreciated. Thanks,\nKerem", "body": "Hello,\r\nI am trying to build tensorflow for cpu on my Windows computer using cmake and MS Visual Studio. I do the steps as described in the link below, I came until step 4, however at step 4 however MSBuild fails. Since I don't need the test program, I am trying to dirrectly build the .whl file by building the tf_python_copy_scripts_to_destination.vcxproj.\r\n\r\nI am using the instructions from the link: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/cmake/README.md\r\n\r\n I have a service pack 1 Windows 7, 64 bit.\r\n\r\nIn terms of Prerequisites:\r\n- CMake version 3.5 up to 3.6 (I have 3.6.3)\r\n- Git (I have 2.10.0.windows.1)\r\n- SWIG (I have swigwin 3.0.10)\r\n\r\nAdditional pre-requisites for Microsoft Windows:\r\n- Visual Studio 2015 (I have VS 2015 and MSBuild 14.0)\r\n- Python 3.5 (I have Python 3.5)\r\n- NumPy 1.11.0 or later (I have 1.11.2)\r\n\r\nSince there are multiple MSBuilds, I set the path string to the MSBuild 14.0: C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\amd64. Also there are two versions, one directly under \\Bin and one under \\Bin\\amd64. I choose the latter one. \r\n\r\n\r\nThe error message I get is:\r\n============================================\r\n\r\nDone Building Project \"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default targe\r\nts) -- FAILED.\r\n\r\n\r\nBuild FAILED.\r\n\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) ->\r\n(CustomBuild target) ->\r\n  cl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp\r\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\r\n  cl : Command line warning D9002: ignoring unknown option '-std=c11' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grp\r\nc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\r\n\r\n\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python_build_pip_package.vcxproj\" (default target) (1) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\pywrap_tensorflow.vcxproj\" (default target) (3) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_cpu.vcxproj\" (default target) (4) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_core_framework.vcxproj\" (default target) (5) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\proto_text.vcxproj\" (default target) (6) ->\r\n\"C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj\" (default target) (7) ->\r\n(CustomBuild target) ->\r\n  C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c\r\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl\r\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\r\n  C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc\\src\\grpc\\src\\core\\ext\\transport\\chttp2\\transport\\chttp2_transport.c\r\n(2319): error C2440: 'initializing' : cannot convert from 'gpr_slice' to 'gpr_slice_refcount *' [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorfl\r\now\\contrib\\cmake\\build\\grpc\\src\\grpc\\grpc_unsecure.vcxproj] [C:\\Users\\ktezcan\\temp_tensorflowbuildfiles\\tensorflow\\tensorflow\\contrib\\cmake\\build\\grpc.vcxproj]\r\n\r\n2 Warning(s)\r\n2 Error(s)\r\n\r\nTime Elapsed 00:00:58.06\r\n\r\n=================================\r\n\r\nAny help is appreciated. Thanks,\r\nKerem\r\n\r\n\r\n"}