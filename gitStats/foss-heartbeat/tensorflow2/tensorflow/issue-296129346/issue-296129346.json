{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16918", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16918/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16918/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16918/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16918", "id": 296129346, "node_id": "MDU6SXNzdWUyOTYxMjkzNDY=", "number": 16918, "title": "TensorFlow demo keeps stopping for flowers_images on Android TFlite", "user": {"login": "ajinkya933", "id": 17012391, "node_id": "MDQ6VXNlcjE3MDEyMzkx", "avatar_url": "https://avatars3.githubusercontent.com/u/17012391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajinkya933", "html_url": "https://github.com/ajinkya933", "followers_url": "https://api.github.com/users/ajinkya933/followers", "following_url": "https://api.github.com/users/ajinkya933/following{/other_user}", "gists_url": "https://api.github.com/users/ajinkya933/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajinkya933/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajinkya933/subscriptions", "organizations_url": "https://api.github.com/users/ajinkya933/orgs", "repos_url": "https://api.github.com/users/ajinkya933/repos", "events_url": "https://api.github.com/users/ajinkya933/events{/privacy}", "received_events_url": "https://api.github.com/users/ajinkya933/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-10T20:05:01Z", "updated_at": "2018-06-01T18:34:36Z", "closed_at": "2018-02-13T22:59:19Z", "author_association": "NONE", "body_html": "<p>Please go to Stack Overflow for help and support:</p>\n<p><a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">https://stackoverflow.com/questions/tagged/tensorflow</a></p>\n<p>If you open a GitHub issue, here is our policy:</p>\n<ol>\n<li>It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).</li>\n<li>The form below must be filled out.</li>\n<li>It shouldn't be a TensorBoard issue. Those go <a href=\"https://github.com/tensorflow/tensorboard/issues\">here</a>.</li>\n</ol>\n<p><strong>Here's why we have that policy</strong>: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.</p>\n<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:Windows 10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:</li>\n<li><strong>TensorFlow version (use command below)</strong>:1.5.0</li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>:NA</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:</li>\n<li><strong>CUDA/cuDNN version</strong>:</li>\n<li><strong>GPU model and memory</strong>:1080Ti 11gb</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<p>You can collect some of this information using our environment capture script:</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\">https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh</a></p>\n<p>You can obtain the TensorFlow version with</p>\n<p>python -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"</p>\n<h3>Describe the problem</h3>\n<p>I am following Tensorflow for poets 2(<a href=\"https://codelabs.developers.google.com/codelabs/tensorflow-for-poets-2/#7\" rel=\"nofollow\">https://codelabs.developers.google.com/codelabs/tensorflow-for-poets-2/#7</a>) session8(Run the customised app).So far, I have successfully ran the demo by Google for Android, but when I train custom flowers data and try to run the demo again by following session 8 in the tutorial in which I replace output name by final result as follows: private static final String OUTPUT_NAME = \"final_result\";</p>\n<h3>Source code / logs</h3>\n<p>02/08 20:48:30: Launching tfmobile<br>\n$ adb install-multiple -r -t C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_7.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_2.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_6.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_8.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_9.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\dep\\dependencies.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_5.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_4.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_3.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_1.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_0.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\outputs\\apk\\debug\\tfmobile-debug.apk<br>\nSplit APKs installed<br>\n$ adb shell am start -n \"org.tensorflow.demo/org.tensorflow.demo.ClassifierActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER<br>\nClient not ready yet..Connected to process 32013 on device motorola-moto_g__4_-ZY223WW626<br>\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.<br>\nI/InstantRun: starting instant run server: is main process<br>\nD/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@3c0dd38<br>\nD/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@3c0dd38<br>\nD/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@3c0dd38<br>\nI/Adreno: QUALCOMM build                   : 7d18700, I8ee426a9a2<br>\nBuild Date                       : 10/07/16<br>\nOpenGL ES Shader Compiler Version: XE031.09.00.03<br>\nLocal Branch                     : mybranch22308589<br>\nRemote Branch                    : quic/LA.BR.1.3.6_rb1.6<br>\nRemote Branch                    : NONE<br>\nReconstruct Branch               : NOTHING<br>\nI/OpenGLRenderer: Initialized EGL, version 1.4<br>\nD/OpenGLRenderer: Swap behavior 1<br>\nI/CameraManagerGlobal: Connecting to camera service<br>\nI/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480<br>\nI/tensorflow: CameraConnectionFragment: Valid preview sizes: [1280x960, 1280x720, 960x720, 960x540, 864x480, 720x480, 640x480]<br>\nI/tensorflow: CameraConnectionFragment: Rejected preview sizes: [768x432, 320x240, 176x144]<br>\nI/tensorflow: CameraConnectionFragment: Exact size match found.<br>\nI/TensorFlowImageClassifier: Reading labels from: labels.txt<br>\nI/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded<br>\nE/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)<br>\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference<br>\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)<br>\nD/AndroidRuntime: Shutting down VM<br>\nE/AndroidRuntime: FATAL EXCEPTION: main<br>\nProcess: org.tensorflow.demo, PID: 32013<br>\njava.lang.RuntimeException: Failed to load model from 'file:///android_asset/graph.pb'<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:100)<br>\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)<br>\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:130)<br>\nat org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(CameraActivity.java:159)<br>\nat org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(CameraConnectionFragment.java:421)<br>\nat org.tensorflow.demo.CameraConnectionFragment.openCamera(CameraConnectionFragment.java:428)<br>\nat org.tensorflow.demo.CameraConnectionFragment.access$000(CameraConnectionFragment.java:64)<br>\nat org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(CameraConnectionFragment.java:95)<br>\nat android.view.TextureView.getHardwareLayer(TextureView.java:387)<br>\nat android.view.TextureView.draw(TextureView.java:325)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16065)<br>\nat android.view.View.draw(View.java:16849)<br>\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)<br>\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16060)<br>\nat android.view.View.draw(View.java:16849)<br>\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)<br>\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)<br>\nat android.view.View.draw(View.java:17086)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16065)<br>\nat android.view.View.draw(View.java:16849)<br>\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)<br>\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16060)<br>\nat android.view.View.draw(View.java:16849)<br>\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)<br>\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16060)<br>\nat android.view.View.draw(View.java:16849)<br>\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)<br>\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)<br>\nat android.view.View.draw(View.java:17086)<br>\nat com.android.internal.policy.DecorView.draw(DecorView.java:751)<br>\nat android.view.View.updateDisplayListIfDirty(View.java:16065)<br>\nat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:657)<br>\nat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:663)<br>\nat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:771)<br>\nat android.view.ViewRootImpl.draw(ViewRootImpl.java:2808)<br>\nat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2616)<br>\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2223)<br>\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1258)<br>\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6348)<br>\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:871)<br>\nat android.view.Choreographer.doCallbacks(Choreographer.java:683)<br>\nat android.view.Choreographer.doFrame(Choreographer.java:619)<br>\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:857)<br>\nat android.os.Handler.handleCallback(Handler.java:751)<br>\nat android.os.Handler.dispatchMessage(Handler.java:95)<br>\nat android.os.Looper.loop(Looper.java:154)<br>\nat android.app.ActivityThread.main(ActivityThread.java:6123)<br>\nat java.lang.reflect.Method.invoke(Native Method)<br>\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)<br>\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)<br>\nE/AndroidRuntime: Caused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op&lt;name=Conv2D; signature=input:T, filter:T -&gt; output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]&gt;; NodeDef: MobilenetV1/MobilenetV1/Conv2d_0/convolution = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](input, MobilenetV1/Conv2d_0/weights). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:392)<br>\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:96)<br>\n... 52 more<br>\nApplication terminated.</p>\n<p>And the application is terminated, what should I do to resolve this</p>", "body_text": "Please go to Stack Overflow for help and support:\nhttps://stackoverflow.com/questions/tagged/tensorflow\nIf you open a GitHub issue, here is our policy:\n\nIt must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\nThe form below must be filled out.\nIt shouldn't be a TensorBoard issue. Those go here.\n\nHere's why we have that policy: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\n\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows 10\nTensorFlow installed from (source or binary):\nTensorFlow version (use command below):1.5.0\nPython version: 3.6\nBazel version (if compiling from source):NA\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version:\nGPU model and memory:1080Ti 11gb\nExact command to reproduce:\n\nYou can collect some of this information using our environment capture script:\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\nYou can obtain the TensorFlow version with\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\nDescribe the problem\nI am following Tensorflow for poets 2(https://codelabs.developers.google.com/codelabs/tensorflow-for-poets-2/#7) session8(Run the customised app).So far, I have successfully ran the demo by Google for Android, but when I train custom flowers data and try to run the demo again by following session 8 in the tutorial in which I replace output name by final result as follows: private static final String OUTPUT_NAME = \"final_result\";\nSource code / logs\n02/08 20:48:30: Launching tfmobile\n$ adb install-multiple -r -t C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_7.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_2.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_6.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_8.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_9.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\dep\\dependencies.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_5.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_4.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_3.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_1.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_0.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\outputs\\apk\\debug\\tfmobile-debug.apk\nSplit APKs installed\n$ adb shell am start -n \"org.tensorflow.demo/org.tensorflow.demo.ClassifierActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nClient not ready yet..Connected to process 32013 on device motorola-moto_g__4_-ZY223WW626\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nI/InstantRun: starting instant run server: is main process\nD/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@3c0dd38\nD/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@3c0dd38\nD/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@3c0dd38\nI/Adreno: QUALCOMM build                   : 7d18700, I8ee426a9a2\nBuild Date                       : 10/07/16\nOpenGL ES Shader Compiler Version: XE031.09.00.03\nLocal Branch                     : mybranch22308589\nRemote Branch                    : quic/LA.BR.1.3.6_rb1.6\nRemote Branch                    : NONE\nReconstruct Branch               : NOTHING\nI/OpenGLRenderer: Initialized EGL, version 1.4\nD/OpenGLRenderer: Swap behavior 1\nI/CameraManagerGlobal: Connecting to camera service\nI/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\nI/tensorflow: CameraConnectionFragment: Valid preview sizes: [1280x960, 1280x720, 960x720, 960x540, 864x480, 720x480, 640x480]\nI/tensorflow: CameraConnectionFragment: Rejected preview sizes: [768x432, 320x240, 176x144]\nI/tensorflow: CameraConnectionFragment: Exact size match found.\nI/TensorFlowImageClassifier: Reading labels from: labels.txt\nI/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\nE/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: org.tensorflow.demo, PID: 32013\njava.lang.RuntimeException: Failed to load model from 'file:///android_asset/graph.pb'\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:100)\nat org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\nat org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:130)\nat org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(CameraActivity.java:159)\nat org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(CameraConnectionFragment.java:421)\nat org.tensorflow.demo.CameraConnectionFragment.openCamera(CameraConnectionFragment.java:428)\nat org.tensorflow.demo.CameraConnectionFragment.access$000(CameraConnectionFragment.java:64)\nat org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(CameraConnectionFragment.java:95)\nat android.view.TextureView.getHardwareLayer(TextureView.java:387)\nat android.view.TextureView.draw(TextureView.java:325)\nat android.view.View.updateDisplayListIfDirty(View.java:16065)\nat android.view.View.draw(View.java:16849)\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\nat android.view.View.updateDisplayListIfDirty(View.java:16060)\nat android.view.View.draw(View.java:16849)\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\nat android.view.View.draw(View.java:17086)\nat android.view.View.updateDisplayListIfDirty(View.java:16065)\nat android.view.View.draw(View.java:16849)\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\nat android.view.View.updateDisplayListIfDirty(View.java:16060)\nat android.view.View.draw(View.java:16849)\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\nat android.view.View.updateDisplayListIfDirty(View.java:16060)\nat android.view.View.draw(View.java:16849)\nat android.view.ViewGroup.drawChild(ViewGroup.java:3768)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\nat android.view.View.draw(View.java:17086)\nat com.android.internal.policy.DecorView.draw(DecorView.java:751)\nat android.view.View.updateDisplayListIfDirty(View.java:16065)\nat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:657)\nat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:663)\nat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:771)\nat android.view.ViewRootImpl.draw(ViewRootImpl.java:2808)\nat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2616)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2223)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1258)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6348)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:871)\nat android.view.Choreographer.doCallbacks(Choreographer.java:683)\nat android.view.Choreographer.doFrame(Choreographer.java:619)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:857)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6123)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\nE/AndroidRuntime: Caused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: MobilenetV1/MobilenetV1/Conv2d_0/convolution = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](input, MobilenetV1/Conv2d_0/weights). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:392)\nat org.tensorflow.contrib.android.TensorFlowInferenceInterface.(TensorFlowInferenceInterface.java:96)\n... 52 more\nApplication terminated.\nAnd the application is terminated, what should I do to resolve this", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Windows 10\r\n- **TensorFlow installed from (source or binary)**:\r\n- **TensorFlow version (use command below)**:1.5.0\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**:NA\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:1080Ti 11gb\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nI am following Tensorflow for poets 2(https://codelabs.developers.google.com/codelabs/tensorflow-for-poets-2/#7) session8(Run the customised app).So far, I have successfully ran the demo by Google for Android, but when I train custom flowers data and try to run the demo again by following session 8 in the tutorial in which I replace output name by final result as follows: private static final String OUTPUT_NAME = \"final_result\";\r\n\r\n### Source code / logs\r\n02/08 20:48:30: Launching tfmobile\r\n$ adb install-multiple -r -t C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_7.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_2.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_6.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_8.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_9.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\dep\\dependencies.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_5.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_4.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_3.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_1.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\intermediates\\split-apk\\debug\\slices\\slice_0.apk C:\\Users\\Ajinkya\\Tensorflow_for_poets\\tensorflow-for-poets-2\\android\\tfmobile\\gradleBuild\\outputs\\apk\\debug\\tfmobile-debug.apk \r\nSplit APKs installed\r\n$ adb shell am start -n \"org.tensorflow.demo/org.tensorflow.demo.ClassifierActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nClient not ready yet..Connected to process 32013 on device motorola-moto_g__4_-ZY223WW626\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\r\nI/InstantRun: starting instant run server: is main process\r\nD/tensorflow: CameraActivity: onCreate org.tensorflow.demo.ClassifierActivity@3c0dd38\r\nD/tensorflow: CameraActivity: onStart org.tensorflow.demo.ClassifierActivity@3c0dd38\r\nD/tensorflow: CameraActivity: onResume org.tensorflow.demo.ClassifierActivity@3c0dd38\r\nI/Adreno: QUALCOMM build                   : 7d18700, I8ee426a9a2\r\n          Build Date                       : 10/07/16\r\n          OpenGL ES Shader Compiler Version: XE031.09.00.03\r\n          Local Branch                     : mybranch22308589\r\n          Remote Branch                    : quic/LA.BR.1.3.6_rb1.6\r\n          Remote Branch                    : NONE\r\n          Reconstruct Branch               : NOTHING\r\nI/OpenGLRenderer: Initialized EGL, version 1.4\r\nD/OpenGLRenderer: Swap behavior 1\r\nI/CameraManagerGlobal: Connecting to camera service\r\nI/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\r\nI/tensorflow: CameraConnectionFragment: Valid preview sizes: [1280x960, 1280x720, 960x720, 960x540, 864x480, 720x480, 640x480]\r\nI/tensorflow: CameraConnectionFragment: Rejected preview sizes: [768x432, 320x240, 176x144]\r\nI/tensorflow: CameraConnectionFragment: Exact size match found.\r\nI/TensorFlowImageClassifier: Reading labels from: labels.txt\r\nI/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\r\nE/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\nI/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\nI/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: org.tensorflow.demo, PID: 32013\r\n                  java.lang.RuntimeException: Failed to load model from 'file:///android_asset/graph.pb'\r\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:100)\r\n                      at org.tensorflow.demo.TensorFlowImageClassifier.create(TensorFlowImageClassifier.java:103)\r\n                      at org.tensorflow.demo.ClassifierActivity.onPreviewSizeChosen(ClassifierActivity.java:130)\r\n                      at org.tensorflow.demo.CameraActivity$1.onPreviewSizeChosen(CameraActivity.java:159)\r\n                      at org.tensorflow.demo.CameraConnectionFragment.setUpCameraOutputs(CameraConnectionFragment.java:421)\r\n                      at org.tensorflow.demo.CameraConnectionFragment.openCamera(CameraConnectionFragment.java:428)\r\n                      at org.tensorflow.demo.CameraConnectionFragment.access$000(CameraConnectionFragment.java:64)\r\n                      at org.tensorflow.demo.CameraConnectionFragment$1.onSurfaceTextureAvailable(CameraConnectionFragment.java:95)\r\n                      at android.view.TextureView.getHardwareLayer(TextureView.java:387)\r\n                      at android.view.TextureView.draw(TextureView.java:325)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16065)\r\n                      at android.view.View.draw(View.java:16849)\r\n                      at android.view.ViewGroup.drawChild(ViewGroup.java:3768)\r\n                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16060)\r\n                      at android.view.View.draw(View.java:16849)\r\n                      at android.view.ViewGroup.drawChild(ViewGroup.java:3768)\r\n                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\r\n                      at android.view.View.draw(View.java:17086)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16065)\r\n                      at android.view.View.draw(View.java:16849)\r\n                      at android.view.ViewGroup.drawChild(ViewGroup.java:3768)\r\n                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16060)\r\n                      at android.view.View.draw(View.java:16849)\r\n                      at android.view.ViewGroup.drawChild(ViewGroup.java:3768)\r\n                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16060)\r\n                      at android.view.View.draw(View.java:16849)\r\n                      at android.view.ViewGroup.drawChild(ViewGroup.java:3768)\r\n                      at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3554)\r\n                      at android.view.View.draw(View.java:17086)\r\n                      at com.android.internal.policy.DecorView.draw(DecorView.java:751)\r\n                      at android.view.View.updateDisplayListIfDirty(View.java:16065)\r\n                      at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:657)\r\n                      at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:663)\r\n                      at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:771)\r\n                      at android.view.ViewRootImpl.draw(ViewRootImpl.java:2808)\r\n                      at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2616)\r\n                      at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2223)\r\n                      at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1258)\r\n                      at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6348)\r\n                      at android.view.Choreographer$CallbackRecord.run(Choreographer.java:871)\r\n                      at android.view.Choreographer.doCallbacks(Choreographer.java:683)\r\n                      at android.view.Choreographer.doFrame(Choreographer.java:619)\r\n                      at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:857)\r\n                      at android.os.Handler.handleCallback(Handler.java:751)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                      at android.os.Looper.loop(Looper.java:154)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:6123)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\r\nE/AndroidRuntime: Caused by: java.io.IOException: Not a valid TensorFlow Graph serialization: NodeDef mentions attr 'dilations' not in Op<name=Conv2D; signature=input:T, filter:T -> output:T; attr=T:type,allowed=[DT_HALF, DT_FLOAT]; attr=strides:list(int); attr=use_cudnn_on_gpu:bool,default=true; attr=padding:string,allowed=[\"SAME\", \"VALID\"]; attr=data_format:string,default=\"NHWC\",allowed=[\"NHWC\", \"NCHW\"]>; NodeDef: MobilenetV1/MobilenetV1/Conv2d_0/convolution = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", dilations=[1, 1, 1, 1], padding=\"SAME\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true](input, MobilenetV1/Conv2d_0/weights). (Check whether your GraphDef-interpreting binary is up to date with your GraphDef-generating binary.).\r\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.loadGraph(TensorFlowInferenceInterface.java:392)\r\n                      at org.tensorflow.contrib.android.TensorFlowInferenceInterface.<init>(TensorFlowInferenceInterface.java:96)\r\n                        ... 52 more\r\nApplication terminated.\r\n\r\nAnd the application is terminated, what should I do to resolve this\r\n"}