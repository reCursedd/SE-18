{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14614", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14614/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14614/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14614/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14614", "id": 274420012, "node_id": "MDU6SXNzdWUyNzQ0MjAwMTI=", "number": 14614, "title": "Which c++ source code Should I modify to allocate GPU memory dynamically?", "user": {"login": "rayjang", "id": 9244296, "node_id": "MDQ6VXNlcjkyNDQyOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/9244296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayjang", "html_url": "https://github.com/rayjang", "followers_url": "https://api.github.com/users/rayjang/followers", "following_url": "https://api.github.com/users/rayjang/following{/other_user}", "gists_url": "https://api.github.com/users/rayjang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayjang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayjang/subscriptions", "organizations_url": "https://api.github.com/users/rayjang/orgs", "repos_url": "https://api.github.com/users/rayjang/repos", "events_url": "https://api.github.com/users/rayjang/events{/privacy}", "received_events_url": "https://api.github.com/users/rayjang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-16T07:33:42Z", "updated_at": "2018-04-27T09:47:45Z", "closed_at": "2017-11-18T16:02:35Z", "author_association": "NONE", "body_html": "<p>I am using Spark with tensorflow. Spark make many tensorflow process, so I want tensorflow to allocate GPU memory dynamically.<br>\nAdding the below code is <strong>not workin</strong>g for me</p>\n<pre><code>config = tf.ConfigProto() \nconfig.gpu_options.allow_growth=True \nsess = tf.Session(config=config)\n</code></pre>\n<p>Although I found  the way to set gpu memory fraction in 'tensorflow/tensorflow/core/common_runtime/gpu/gpu_device.cc' ,<br>\nI want to set 'allow_growth' in c++ source.<br>\nWhich part shoud I modify?</p>", "body_text": "I am using Spark with tensorflow. Spark make many tensorflow process, so I want tensorflow to allocate GPU memory dynamically.\nAdding the below code is not working for me\nconfig = tf.ConfigProto() \nconfig.gpu_options.allow_growth=True \nsess = tf.Session(config=config)\n\nAlthough I found  the way to set gpu memory fraction in 'tensorflow/tensorflow/core/common_runtime/gpu/gpu_device.cc' ,\nI want to set 'allow_growth' in c++ source.\nWhich part shoud I modify?", "body": "I am using Spark with tensorflow. Spark make many tensorflow process, so I want tensorflow to allocate GPU memory dynamically. \r\nAdding the below code is **not workin**g for me\r\n```\r\nconfig = tf.ConfigProto() \r\nconfig.gpu_options.allow_growth=True \r\nsess = tf.Session(config=config)\r\n```\r\nAlthough I found  the way to set gpu memory fraction in 'tensorflow/tensorflow/core/common_runtime/gpu/gpu_device.cc' ,\r\nI want to set 'allow_growth' in c++ source.\r\nWhich part shoud I modify?"}