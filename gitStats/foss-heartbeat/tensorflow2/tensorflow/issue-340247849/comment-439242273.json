{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439242273", "html_url": "https://github.com/tensorflow/tensorflow/issues/20698#issuecomment-439242273", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20698", "id": 439242273, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTI0MjI3Mw==", "user": {"login": "was84san", "id": 15853008, "node_id": "MDQ6VXNlcjE1ODUzMDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/15853008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/was84san", "html_url": "https://github.com/was84san", "followers_url": "https://api.github.com/users/was84san/followers", "following_url": "https://api.github.com/users/was84san/following{/other_user}", "gists_url": "https://api.github.com/users/was84san/gists{/gist_id}", "starred_url": "https://api.github.com/users/was84san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/was84san/subscriptions", "organizations_url": "https://api.github.com/users/was84san/orgs", "repos_url": "https://api.github.com/users/was84san/repos", "events_url": "https://api.github.com/users/was84san/events{/privacy}", "received_events_url": "https://api.github.com/users/was84san/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-16T00:44:50Z", "updated_at": "2018-11-16T00:46:02Z", "author_association": "NONE", "body_html": "<p>@ Igeiger, I tried to pass multiple inputs as a list of tf.dataset api to model fit directly,  like this<br>\n<code>model.fit ( [dataset1_iterator, dataset2_iterator] , .....)</code></p>\n<p>then I got this error</p>\n<pre><code>\n /home/wassan/tensorflow/venv/lib/python2.7/site- \n packages/tensorflow/python/keras/engine/training.pyc in _standardize_user_data(self, x, y, sample_weight, cla$s_weight, batch_size, check_steps, steps_name, steps, validation_split)\n    990         x, y, sample_weight = next_element\n    991     x, y, sample_weights = self._standardize_weights(x, y, sample_weight,\n--&gt; 992                                                      class_weight, batch_size)\n    993     return x, y, sample_weights\n    994 \n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _standardize_weights(self, x, y, sample_weight, class$weight, batch_size)\n   1115         feed_input_shapes,\n   1116         check_batch_axis=False,  # Don't enforce the batch size.\n-&gt; 1117         exception_prefix='input')\n   1118 \n   1119     if y is not None:\n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_input_data(data, names, shapes, che$k_batch_axis, exception_prefix)\n    282     data = data.values if data.__class__.__name__ == 'DataFrame' else data\n    283     data = [data]\n--&gt; 284   data = [standardize_single_array(x) for x in data]\n    285 \n    286   if len(data) != len(names):\n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_single_array(x)\n    216   if x is None:\n    217     return None\n--&gt; 218   if x.shape is not None and len(x.shape) == 1:\n    219     if tensor_util.is_tensor(x):\n    220       return array_ops.expand_dims(x, axis=1)\n\nAttributeError: 'PrefetchDataset' object has no attribute 'shape\n</code></pre>\n<p>And this is with tensorflow 1.12, so how you can pass multiple input using tf.dataset api with model fit not with model.fit_generator?<br>\n`</p>", "body_text": "@ Igeiger, I tried to pass multiple inputs as a list of tf.dataset api to model fit directly,  like this\nmodel.fit ( [dataset1_iterator, dataset2_iterator] , .....)\nthen I got this error\n\n /home/wassan/tensorflow/venv/lib/python2.7/site- \n packages/tensorflow/python/keras/engine/training.pyc in _standardize_user_data(self, x, y, sample_weight, cla$s_weight, batch_size, check_steps, steps_name, steps, validation_split)\n    990         x, y, sample_weight = next_element\n    991     x, y, sample_weights = self._standardize_weights(x, y, sample_weight,\n--> 992                                                      class_weight, batch_size)\n    993     return x, y, sample_weights\n    994 \n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _standardize_weights(self, x, y, sample_weight, class$weight, batch_size)\n   1115         feed_input_shapes,\n   1116         check_batch_axis=False,  # Don't enforce the batch size.\n-> 1117         exception_prefix='input')\n   1118 \n   1119     if y is not None:\n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_input_data(data, names, shapes, che$k_batch_axis, exception_prefix)\n    282     data = data.values if data.__class__.__name__ == 'DataFrame' else data\n    283     data = [data]\n--> 284   data = [standardize_single_array(x) for x in data]\n    285 \n    286   if len(data) != len(names):\n\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_single_array(x)\n    216   if x is None:\n    217     return None\n--> 218   if x.shape is not None and len(x.shape) == 1:\n    219     if tensor_util.is_tensor(x):\n    220       return array_ops.expand_dims(x, axis=1)\n\nAttributeError: 'PrefetchDataset' object has no attribute 'shape\n\nAnd this is with tensorflow 1.12, so how you can pass multiple input using tf.dataset api with model fit not with model.fit_generator?\n`", "body": "@ Igeiger, I tried to pass multiple inputs as a list of tf.dataset api to model fit directly,  like this\r\n`model.fit ( [dataset1_iterator, dataset2_iterator] , .....)`\r\n\r\nthen I got this error \r\n```\r\n\r\n /home/wassan/tensorflow/venv/lib/python2.7/site- \r\n packages/tensorflow/python/keras/engine/training.pyc in _standardize_user_data(self, x, y, sample_weight, cla$s_weight, batch_size, check_steps, steps_name, steps, validation_split)\r\n    990         x, y, sample_weight = next_element\r\n    991     x, y, sample_weights = self._standardize_weights(x, y, sample_weight,\r\n--> 992                                                      class_weight, batch_size)\r\n    993     return x, y, sample_weights\r\n    994 \r\n\r\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training.pyc in _standardize_weights(self, x, y, sample_weight, class$weight, batch_size)\r\n   1115         feed_input_shapes,\r\n   1116         check_batch_axis=False,  # Don't enforce the batch size.\r\n-> 1117         exception_prefix='input')\r\n   1118 \r\n   1119     if y is not None:\r\n\r\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_input_data(data, names, shapes, che$k_batch_axis, exception_prefix)\r\n    282     data = data.values if data.__class__.__name__ == 'DataFrame' else data\r\n    283     data = [data]\r\n--> 284   data = [standardize_single_array(x) for x in data]\r\n    285 \r\n    286   if len(data) != len(names):\r\n\r\n/home/wassan/tensorflow/venv/lib/python2.7/site-packages/tensorflow/python/keras/engine/training_utils.pyc in standardize_single_array(x)\r\n    216   if x is None:\r\n    217     return None\r\n--> 218   if x.shape is not None and len(x.shape) == 1:\r\n    219     if tensor_util.is_tensor(x):\r\n    220       return array_ops.expand_dims(x, axis=1)\r\n\r\nAttributeError: 'PrefetchDataset' object has no attribute 'shape\r\n```\r\n\r\nAnd this is with tensorflow 1.12, so how you can pass multiple input using tf.dataset api with model fit not with model.fit_generator?\r\n`"}