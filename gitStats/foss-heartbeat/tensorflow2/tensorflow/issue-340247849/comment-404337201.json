{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/404337201", "html_url": "https://github.com/tensorflow/tensorflow/issues/20698#issuecomment-404337201", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20698", "id": 404337201, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDMzNzIwMQ==", "user": {"login": "was84san", "id": 15853008, "node_id": "MDQ6VXNlcjE1ODUzMDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/15853008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/was84san", "html_url": "https://github.com/was84san", "followers_url": "https://api.github.com/users/was84san/followers", "following_url": "https://api.github.com/users/was84san/following{/other_user}", "gists_url": "https://api.github.com/users/was84san/gists{/gist_id}", "starred_url": "https://api.github.com/users/was84san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/was84san/subscriptions", "organizations_url": "https://api.github.com/users/was84san/orgs", "repos_url": "https://api.github.com/users/was84san/repos", "events_url": "https://api.github.com/users/was84san/events{/privacy}", "received_events_url": "https://api.github.com/users/was84san/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-11T23:02:57Z", "updated_at": "2018-07-11T23:21:09Z", "author_association": "NONE", "body_html": "<p>I have the same problem and I  have also multiple input dataset. But not sure if this problem  caused by the multiple input datset. And I am using tensorflow 1.9 In order to be able to use dataset iterator in model.fit</p>\n<p>So<br>\n<strong>1-</strong>  If I do the following :</p>\n<p><code>dataset = tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat()</code><br>\n<code> model.fit(dataset)</code></p>\n<p>I got :<br>\n<code>AttributeError: \"'RepeatDataset' object has no attribute 'ndim'\"</code></p>\n<p><strong>2-</strong> If I do the following :<br>\n<code>dataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator()</code><br>\n<code> model.fit(dataset)</code></p>\n<p>I got :<br>\n<code> AttributeError: \"'Iterator' object has no attribute 'ndim'\"</code></p>\n<p><strong>3-</strong> If I do the following :<br>\n<code>dataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator().get_next()</code><br>\n<code> model.fit(dataset)</code></p>\n<p>I got :<br>\n<code> AttributeError: \"'tuple' object has no attribute 'ndim'\"</code></p>\n<p><strong>Note:</strong><br>\nif I run get_next() for the iterator, it should give me data and label and other information I put it in tfrecords. So my input pair in  <code>iterator.get_next()[0]</code> , and labels in <code>iterator.get_next()[1]</code>.</p>", "body_text": "I have the same problem and I  have also multiple input dataset. But not sure if this problem  caused by the multiple input datset. And I am using tensorflow 1.9 In order to be able to use dataset iterator in model.fit\nSo\n1-  If I do the following :\ndataset = tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat()\n model.fit(dataset)\nI got :\nAttributeError: \"'RepeatDataset' object has no attribute 'ndim'\"\n2- If I do the following :\ndataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator()\n model.fit(dataset)\nI got :\n AttributeError: \"'Iterator' object has no attribute 'ndim'\"\n3- If I do the following :\ndataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator().get_next()\n model.fit(dataset)\nI got :\n AttributeError: \"'tuple' object has no attribute 'ndim'\"\nNote:\nif I run get_next() for the iterator, it should give me data and label and other information I put it in tfrecords. So my input pair in  iterator.get_next()[0] , and labels in iterator.get_next()[1].", "body": "I have the same problem and I  have also multiple input dataset. But not sure if this problem  caused by the multiple input datset. And I am using tensorflow 1.9 In order to be able to use dataset iterator in model.fit \r\n\r\nSo\r\n**1-**  If I do the following : \r\n\r\n`dataset = tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat()`\r\n`  model.fit(dataset) `\r\n\r\nI got : \r\n    `AttributeError: \"'RepeatDataset' object has no attribute 'ndim'\"`\r\n\r\n**2-** If I do the following : \r\n`dataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator()`\r\n`  model.fit(dataset) `\r\n\r\nI got : \r\n    ` AttributeError: \"'Iterator' object has no attribute 'ndim'\"`\r\n\r\n**3-** If I do the following : \r\n`dataset=tf.data.TFRecordDataset(train.tf_records).map(_parse_function).batch(20).repeat().make_initializable_iterator().get_next()`\r\n`  model.fit(dataset) `\r\n\r\nI got : \r\n    ` AttributeError: \"'tuple' object has no attribute 'ndim'\"`\r\n \r\n**Note:**\r\nif I run get_next() for the iterator, it should give me data and label and other information I put it in tfrecords. So my input pair in  `iterator.get_next()[0]` , and labels in `iterator.get_next()[1]`. "}