{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23795", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23795/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23795/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23795/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23795", "id": 381495307, "node_id": "MDU6SXNzdWUzODE0OTUzMDc=", "number": 23795, "title": "Windows 10 Bazel Build failed ", "user": {"login": "Prakash19921206", "id": 16747198, "node_id": "MDQ6VXNlcjE2NzQ3MTk4", "avatar_url": "https://avatars1.githubusercontent.com/u/16747198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Prakash19921206", "html_url": "https://github.com/Prakash19921206", "followers_url": "https://api.github.com/users/Prakash19921206/followers", "following_url": "https://api.github.com/users/Prakash19921206/following{/other_user}", "gists_url": "https://api.github.com/users/Prakash19921206/gists{/gist_id}", "starred_url": "https://api.github.com/users/Prakash19921206/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Prakash19921206/subscriptions", "organizations_url": "https://api.github.com/users/Prakash19921206/orgs", "repos_url": "https://api.github.com/users/Prakash19921206/repos", "events_url": "https://api.github.com/users/Prakash19921206/events{/privacy}", "received_events_url": "https://api.github.com/users/Prakash19921206/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-11-16T08:30:55Z", "updated_at": "2018-11-21T09:54:33Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10</li>\n<li>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:</li>\n<li>TensorFlow installed from (source or binary): source</li>\n<li>TensorFlow version: 1.10</li>\n<li>Python version: 3.5</li>\n<li>Installed using virtualenv? pip? conda?: pip</li>\n<li>Bazel version (if compiling from source): not compiled from source(bazel version: 0.18.1</li>\n<li>GCC/Compiler version (if compiling from source):</li>\n<li>CUDA/cuDNN version: 9.0/7.0</li>\n<li>GPU model and memory: Zotac Gtx 1080ti mini</li>\n</ul>\n<p><strong>Describe the problem</strong><br>\nBuild fails with 1 error<br>\ninitially i tried with cmake, it was giving few errors so started with bazel..no luck since many days!</p>\n<p><strong>Provide the exact sequence of commands / steps that you executed before running into the problem</strong><br>\ni followed all the steps mentioned <a href=\"https://www.tensorflow.org/install/source\" rel=\"nofollow\">here</a></p>\n<p><code>bazel build --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</code></p>\n<p>The reason i'm trying to build from source is because ssd_mobilnet retraining is taking longer than expected (3seconds per step)<br>\nresizing of image is happening on cpu and training on gpu.<br>\nif both happens on gpu then it should take around half second.</p>\n<p>i have attached full build output<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/2588467/Build.output.txt\">Build output.txt</a></p>\n<p>i've notived too many <code>warning LNK4044</code> in build process</p>\n<p>below is the gist of build</p>\n<blockquote>\n<p>build --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package<br>\nWARNING: Processed legacy workspace file e:\\git_projects\\tensorflow-experimental\\tensorflow/tools/bazel.rc. This file will not be processed in the next release of Bazel. Please read <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"367218732\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/bazelbuild/bazel/issues/6319\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/6319/hovercard\" href=\"https://github.com/bazelbuild/bazel/issues/6319\">bazelbuild/bazel#6319</a> for further information, including how to upgrade.<br>\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.<br>\n.<br>\n.<br>\n.<br>\n.</p>\n<p>Creating library bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.lib and object bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.exp<br>\nERROR: E:/git_projects/tensorflow-experimental/tensorflow/tensorflow/core/kernels/BUILD:2123:1: C++ compilation of rule '//tensorflow/core/kernels:colorspace_op_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command<br>\ncd C:/users/neuroflares/_bazel_neuroflares/twu4fovw/execroot/org_tensorflow<br>\n.<br>\n.<br>\n.<br>\n.</p>\n<p>1 error detected in the compilation of \"C:/Users/user~1/AppData/Local/Temp/nvcc_inter_files_tmp_dir/colorspace_op_gpu.cu.cpp1.ii\".<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nINFO: Elapsed time: 1530.120s, Critical Path: 558.89s<br>\nINFO: 878 processes: 878 local.<br>\nFAILED: Build did NOT complete successfully</p>\n</blockquote>\n<p>What could have gone wrong?<br>\nThanks &amp; Regards</p>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\nTensorFlow installed from (source or binary): source\nTensorFlow version: 1.10\nPython version: 3.5\nInstalled using virtualenv? pip? conda?: pip\nBazel version (if compiling from source): not compiled from source(bazel version: 0.18.1\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version: 9.0/7.0\nGPU model and memory: Zotac Gtx 1080ti mini\n\nDescribe the problem\nBuild fails with 1 error\ninitially i tried with cmake, it was giving few errors so started with bazel..no luck since many days!\nProvide the exact sequence of commands / steps that you executed before running into the problem\ni followed all the steps mentioned here\nbazel build --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nThe reason i'm trying to build from source is because ssd_mobilnet retraining is taking longer than expected (3seconds per step)\nresizing of image is happening on cpu and training on gpu.\nif both happens on gpu then it should take around half second.\ni have attached full build output\nBuild output.txt\ni've notived too many warning LNK4044 in build process\nbelow is the gist of build\n\nbuild --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nWARNING: Processed legacy workspace file e:\\git_projects\\tensorflow-experimental\\tensorflow/tools/bazel.rc. This file will not be processed in the next release of Bazel. Please read bazelbuild/bazel#6319 for further information, including how to upgrade.\nWARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\n.\n.\n.\n.\nCreating library bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.lib and object bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.exp\nERROR: E:/git_projects/tensorflow-experimental/tensorflow/tensorflow/core/kernels/BUILD:2123:1: C++ compilation of rule '//tensorflow/core/kernels:colorspace_op_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command\ncd C:/users/neuroflares/_bazel_neuroflares/twu4fovw/execroot/org_tensorflow\n.\n.\n.\n.\n1 error detected in the compilation of \"C:/Users/user~1/AppData/Local/Temp/nvcc_inter_files_tmp_dir/colorspace_op_gpu.cu.cpp1.ii\".\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 1530.120s, Critical Path: 558.89s\nINFO: 878 processes: 878 local.\nFAILED: Build did NOT complete successfully\n\nWhat could have gone wrong?\nThanks & Regards", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.10\r\n- Python version: 3.5\r\n- Installed using virtualenv? pip? conda?: pip\r\n- Bazel version (if compiling from source): not compiled from source(bazel version: 0.18.1\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 9.0/7.0\r\n- GPU model and memory: Zotac Gtx 1080ti mini\r\n\r\n\r\n\r\n**Describe the problem**\r\nBuild fails with 1 error\r\ninitially i tried with cmake, it was giving few errors so started with bazel..no luck since many days! \r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\ni followed all the steps mentioned [here](https://www.tensorflow.org/install/source) \r\n\r\n`bazel build --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\nThe reason i'm trying to build from source is because ssd_mobilnet retraining is taking longer than expected (3seconds per step)\r\nresizing of image is happening on cpu and training on gpu.\r\nif both happens on gpu then it should take around half second.\r\n\r\ni have attached full build output \r\n[Build output.txt](https://github.com/tensorflow/tensorflow/files/2588467/Build.output.txt)\r\n\r\ni've notived too many `warning LNK4044` in build process\r\n\r\nbelow is the gist of build \r\n\r\n> build --copt=-nvcc_options=disable-warnings --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n> WARNING: Processed legacy workspace file e:\\git_projects\\tensorflow-experimental\\tensorflow/tools/bazel.rc. This file will not be processed in the next release of Bazel. Please read https://github.com/bazelbuild/bazel/issues/6319 for further information, including how to upgrade.\r\n> WARNING: The following configs were expanded more than once: [cuda]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\n> .\r\n> .\r\n> .\r\n> .\r\n> \r\n>    Creating library bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.lib and object bazel-out/host/bin/tensorflow/cc/ops/image_ops_gen_cc.exp\r\n> ERROR: E:/git_projects/tensorflow-experimental/tensorflow/tensorflow/core/kernels/BUILD:2123:1: C++ compilation of rule '//tensorflow/core/kernels:colorspace_op_gpu' failed (Exit 1): msvc_wrapper_for_nvcc.bat failed: error executing command\r\n>   cd C:/users/neuroflares/_bazel_neuroflares/twu4fovw/execroot/org_tensorflow\r\n> .\r\n> .\r\n> .\r\n> .\r\n> \r\n> 1 error detected in the compilation of \"C:/Users/user~1/AppData/Local/Temp/nvcc_inter_files_tmp_dir/colorspace_op_gpu.cu.cpp1.ii\".\r\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n> INFO: Elapsed time: 1530.120s, Critical Path: 558.89s\r\n> INFO: 878 processes: 878 local.\r\n> FAILED: Build did NOT complete successfully\r\n\r\n\r\nWhat could have gone wrong?\r\nThanks & Regards\r\n"}