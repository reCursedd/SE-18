{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4348", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4348/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4348/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4348/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4348", "id": 176561723, "node_id": "MDU6SXNzdWUxNzY1NjE3MjM=", "number": 4348, "title": "bazel can not compile Tensorflow with GCC 6.2.1", "user": {"login": "MaeThird", "id": 14851411, "node_id": "MDQ6VXNlcjE0ODUxNDEx", "avatar_url": "https://avatars2.githubusercontent.com/u/14851411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaeThird", "html_url": "https://github.com/MaeThird", "followers_url": "https://api.github.com/users/MaeThird/followers", "following_url": "https://api.github.com/users/MaeThird/following{/other_user}", "gists_url": "https://api.github.com/users/MaeThird/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaeThird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaeThird/subscriptions", "organizations_url": "https://api.github.com/users/MaeThird/orgs", "repos_url": "https://api.github.com/users/MaeThird/repos", "events_url": "https://api.github.com/users/MaeThird/events{/privacy}", "received_events_url": "https://api.github.com/users/MaeThird/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-09-13T06:39:23Z", "updated_at": "2017-01-14T03:58:23Z", "closed_at": "2017-01-14T03:58:23Z", "author_association": "NONE", "body_html": "<p><strong>When I launch</strong><br>\n\"bazel build  -c opt --jobs=10 tensorflow/tools/pip_package:build_pip_package\"<br>\n<strong>to compile tensorflow from source ,it crashed at:</strong><br>\n\"external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-canonical-system-headers ... (remaining 32 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\nexternal/com_googlesource_code_re2/re2/dfa.cc: In constructor 're2::DFA::State::State()':<br>\nexternal/com_googlesource_code_re2/re2/dfa.cc:95:10: error: unknown array size in delete...<br>\n\"<br>\n<strong>Here are some relative infos</strong>:<br>\n1)bazel label: 0.3.1- (@non-git)<br>\n2)gcc (GCC) 6.2.1 20160830<br>\n3)tensorflow is the latest master branch<br>\nCan you tell me how to configure bazel with clang(not cross compile) ? Thanks.</p>", "body_text": "When I launch\n\"bazel build  -c opt --jobs=10 tensorflow/tools/pip_package:build_pip_package\"\nto compile tensorflow from source ,it crashed at:\n\"external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-canonical-system-headers ... (remaining 32 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nexternal/com_googlesource_code_re2/re2/dfa.cc: In constructor 're2::DFA::State::State()':\nexternal/com_googlesource_code_re2/re2/dfa.cc:95:10: error: unknown array size in delete...\n\"\nHere are some relative infos:\n1)bazel label: 0.3.1- (@non-git)\n2)gcc (GCC) 6.2.1 20160830\n3)tensorflow is the latest master branch\nCan you tell me how to configure bazel with clang(not cross compile) ? Thanks.", "body": "**When I launch** \n\"bazel build  -c opt --jobs=10 tensorflow/tools/pip_package:build_pip_package\"\n**to compile tensorflow from source ,it crashed at:**\n\"external/com_googlesource_code_re2/BUILD:11:1: C++ compilation of rule '@com_googlesource_code_re2//:re2' failed: gcc failed: error executing command /usr/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wl,-z,-relro,-z,now -B/usr/bin -B/usr/bin -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-canonical-system-headers ... (remaining 32 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nexternal/com_googlesource_code_re2/re2/dfa.cc: In constructor 're2::DFA::State::State()':\nexternal/com_googlesource_code_re2/re2/dfa.cc:95:10: error: unknown array size in delete...\n\"\n**Here are some relative infos**:\n 1)bazel label: 0.3.1- (@non-git)\n 2)gcc (GCC) 6.2.1 20160830\n 3)tensorflow is the latest master branch\nCan you tell me how to configure bazel with clang(not cross compile) ? Thanks.\n"}