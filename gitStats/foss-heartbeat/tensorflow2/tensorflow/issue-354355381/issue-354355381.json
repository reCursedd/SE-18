{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21898", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21898/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21898/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21898/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21898", "id": 354355381, "node_id": "MDU6SXNzdWUzNTQzNTUzODE=", "number": 21898, "title": "AWS lib is verbose when using S3", "user": {"login": "mbelang", "id": 5888932, "node_id": "MDQ6VXNlcjU4ODg5MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5888932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbelang", "html_url": "https://github.com/mbelang", "followers_url": "https://api.github.com/users/mbelang/followers", "following_url": "https://api.github.com/users/mbelang/following{/other_user}", "gists_url": "https://api.github.com/users/mbelang/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbelang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbelang/subscriptions", "organizations_url": "https://api.github.com/users/mbelang/orgs", "repos_url": "https://api.github.com/users/mbelang/repos", "events_url": "https://api.github.com/users/mbelang/events{/privacy}", "received_events_url": "https://api.github.com/users/mbelang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-08-27T15:00:41Z", "updated_at": "2018-11-15T19:04:12Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I'm using latest version of Tensorflow with AWS S3 as a backend for models and I have those annoying logs:</p>\n<p>[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183378: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183471: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194855: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194963: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206484: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206714: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212817: E external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:60] No response body. Response code: 404<br>\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212852: W external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:57] If the signature check failed. This could be because of a time skew. Attempting to adjust the signer.</p>\n<p>The server is working as expected though. I set the log level to ERROR only but still the 404 error is happening more than every second.</p>\n<p>I saw that there is an issue open in <code>tensorflow/serving</code> but this seems to be core/3rd party issue.</p>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"263481479\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/serving/issues/615\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/serving/issues/615/hovercard\" href=\"https://github.com/tensorflow/serving/issues/615\">tensorflow/serving#615</a></p>\n<p><strong>Have I written custom code:</strong> No<br>\n<strong>OS Platform and Distribution:</strong> Kubernetes 1.8 running on CENTOS<br>\n<strong>TensorFlow installed from:</strong> Docker image tensorflow/serving:1.10.1<br>\n<strong>TensorFlow version:</strong> 1.10.1<br>\n<strong>Bazel version</strong>: ??<br>\n<strong>CUDA/cuDNN version</strong>: N/A<br>\n<strong>GPU model and memory:</strong> N/A<br>\n<strong>Exact command to reproduce:</strong></p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">if</span> [ <span class=\"pl-k\">-f</span> /etc/secrets/AWS_SECRET_ACCESS_KEY.secret ]<span class=\"pl-k\">;</span> <span class=\"pl-k\">then</span>\n    <span class=\"pl-k\">export</span> AWS_SECRET_ACCESS_KEY=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>echo -e <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>cut -d <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>:<span class=\"pl-pds\">\"</span></span> -f 2 <span class=\"pl-k\">&lt;&lt;&lt;</span> <span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-pds\">$(</span>cat</span></span> /etc/secrets/AWS_SECRET_ACCESS_KEY.secret<span class=\"pl-pds\">)</span></span><span class=\"pl-pds\">)</span></span>)\n<span class=\"pl-k\">fi</span>\n\ntensorflow_model_server --port=8500 --tensorflow_session_parallelism=1 --enable_model_warmup=true --model_config_file=<span class=\"pl-smi\">${MODEL_CONFIG}</span></pre></div>\n<p>Example of model_config_file:</p>\n<div class=\"highlight highlight-source-json\"><pre>model_config_list: {\n  <span class=\"pl-ii\">config</span>: {\n    <span class=\"pl-ii\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>model1<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-ii\">base_path</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>s3://tensorflow-models/model1<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-ii\">model_platform</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tensorflow<span class=\"pl-pds\">\"</span></span>\n  },\n  <span class=\"pl-ii\">config</span>: {\n    <span class=\"pl-ii\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>model2<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-ii\">base_path</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>s3://tensorflow-models/model2<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-ii\">model_platform</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tensorflow<span class=\"pl-pds\">\"</span></span>\n  }\n}\n</pre></div>\n<p><strong>Mobile device:</strong> None</p>\n<p>Thank you</p>", "body_text": "I'm using latest version of Tensorflow with AWS S3 as a backend for models and I have those annoying logs:\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183378: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183471: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194855: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194963: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206484: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206714: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing.\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212817: E external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:60] No response body. Response code: 404\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212852: W external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:57] If the signature check failed. This could be because of a time skew. Attempting to adjust the signer.\nThe server is working as expected though. I set the log level to ERROR only but still the 404 error is happening more than every second.\nI saw that there is an issue open in tensorflow/serving but this seems to be core/3rd party issue.\ntensorflow/serving#615\nHave I written custom code: No\nOS Platform and Distribution: Kubernetes 1.8 running on CENTOS\nTensorFlow installed from: Docker image tensorflow/serving:1.10.1\nTensorFlow version: 1.10.1\nBazel version: ??\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nExact command to reproduce:\nif [ -f /etc/secrets/AWS_SECRET_ACCESS_KEY.secret ]; then\n    export AWS_SECRET_ACCESS_KEY=$(echo -e $(cut -d \":\" -f 2 <<< $(cat /etc/secrets/AWS_SECRET_ACCESS_KEY.secret)))\nfi\n\ntensorflow_model_server --port=8500 --tensorflow_session_parallelism=1 --enable_model_warmup=true --model_config_file=${MODEL_CONFIG}\nExample of model_config_file:\nmodel_config_list: {\n  config: {\n    name: \"model1\",\n    base_path: \"s3://tensorflow-models/model1\",\n    model_platform: \"tensorflow\"\n  },\n  config: {\n    name: \"model2\",\n    base_path: \"s3://tensorflow-models/model2\",\n    model_platform: \"tensorflow\"\n  }\n}\n\nMobile device: None\nThank you", "body": "I'm using latest version of Tensorflow with AWS S3 as a backend for models and I have those annoying logs:\r\n\r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183378: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.183471: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing. \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194855: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.194963: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing. \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206484: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Found secret key \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.206714: I external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:54] Connection has been released. Continuing. \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212817: E external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:60] No response body. Response code: 404 \r\n[tensorflow-server-pr-14-585f869b5f-2wln8] 2018-08-27 13:51:41.212852: W external/org_tensorflow/tensorflow/core/platform/s3/aws_logging.cc:57] If the signature check failed. This could be because of a time skew. Attempting to adjust the signer. \r\n\r\nThe server is working as expected though. I set the log level to ERROR only but still the 404 error is happening more than every second.\r\n\r\nI saw that there is an issue open in `tensorflow/serving` but this seems to be core/3rd party issue.\r\n\r\nhttps://github.com/tensorflow/serving/issues/615\r\n\r\n\r\n**Have I written custom code:** No\r\n**OS Platform and Distribution:** Kubernetes 1.8 running on CENTOS\r\n**TensorFlow installed from:** Docker image tensorflow/serving:1.10.1\r\n**TensorFlow version:** 1.10.1\r\n**Bazel version**: ??\r\n**CUDA/cuDNN version**: N/A\r\n**GPU model and memory:** N/A\r\n**Exact command to reproduce:** \r\n```bash\r\nif [ -f /etc/secrets/AWS_SECRET_ACCESS_KEY.secret ]; then\r\n    export AWS_SECRET_ACCESS_KEY=$(echo -e $(cut -d \":\" -f 2 <<< $(cat /etc/secrets/AWS_SECRET_ACCESS_KEY.secret)))\r\nfi\r\n\r\ntensorflow_model_server --port=8500 --tensorflow_session_parallelism=1 --enable_model_warmup=true --model_config_file=${MODEL_CONFIG}\r\n```\r\nExample of model_config_file:\r\n```json\r\nmodel_config_list: {\r\n  config: {\r\n    name: \"model1\",\r\n    base_path: \"s3://tensorflow-models/model1\",\r\n    model_platform: \"tensorflow\"\r\n  },\r\n  config: {\r\n    name: \"model2\",\r\n    base_path: \"s3://tensorflow-models/model2\",\r\n    model_platform: \"tensorflow\"\r\n  }\r\n}\r\n\r\n```\r\n**Mobile device:** None\r\n\r\nThank you\r\n"}