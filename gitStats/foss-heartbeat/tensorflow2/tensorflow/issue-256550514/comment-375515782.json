{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/375515782", "html_url": "https://github.com/tensorflow/tensorflow/issues/12951#issuecomment-375515782", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12951", "id": 375515782, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTUxNTc4Mg==", "user": {"login": "Jnchk", "id": 15272366, "node_id": "MDQ6VXNlcjE1MjcyMzY2", "avatar_url": "https://avatars0.githubusercontent.com/u/15272366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jnchk", "html_url": "https://github.com/Jnchk", "followers_url": "https://api.github.com/users/Jnchk/followers", "following_url": "https://api.github.com/users/Jnchk/following{/other_user}", "gists_url": "https://api.github.com/users/Jnchk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jnchk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jnchk/subscriptions", "organizations_url": "https://api.github.com/users/Jnchk/orgs", "repos_url": "https://api.github.com/users/Jnchk/repos", "events_url": "https://api.github.com/users/Jnchk/events{/privacy}", "received_events_url": "https://api.github.com/users/Jnchk/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-23T02:02:16Z", "updated_at": "2018-03-23T04:14:07Z", "author_association": "NONE", "body_html": "<p>Perhaps I didn't explain well about this question in the former comment. What I mean is that devtoolset-6 may lead to the ldopen or libiomp5.so not found errors.<br>\nAnybody who faces this problem can try to build a gcc-6 from source code to fix it.<br>\nbuild gcc-6:</p>\n<pre><code>$ tar xzf gcc-6.4.0.tar.gz\n$ cd gcc-6.4.0\n$ ./configure --prefix=/opt/gcc-6 --enable-languages=c,c++\n$ make\n$ make install\n$ export PATH=/opt/gcc-6/bin:$PATH\n$ export LD_LIBRARY_PATH=/opt/gcc-6/lib64:LD_LIBRARY_PATH\n</code></pre>\n<p>build tensorflow:</p>\n<pre><code>$ cd /path/to/tensorflow_src\n$ bazel clean\n$ rm .cache/bazel -rf\n$ ./configure\n$ bazel build --config=mkl -copt=\"-DEIGEN_USE_MKL_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>It has been compiled successfully with gcc-6 on centos 7.2. But we have to take the compiled gcc library wherever we use tensorflow.</p>\n<p>Maybe there're some better ways to solve the problem, but this is the only way that i have found.</p>", "body_text": "Perhaps I didn't explain well about this question in the former comment. What I mean is that devtoolset-6 may lead to the ldopen or libiomp5.so not found errors.\nAnybody who faces this problem can try to build a gcc-6 from source code to fix it.\nbuild gcc-6:\n$ tar xzf gcc-6.4.0.tar.gz\n$ cd gcc-6.4.0\n$ ./configure --prefix=/opt/gcc-6 --enable-languages=c,c++\n$ make\n$ make install\n$ export PATH=/opt/gcc-6/bin:$PATH\n$ export LD_LIBRARY_PATH=/opt/gcc-6/lib64:LD_LIBRARY_PATH\n\nbuild tensorflow:\n$ cd /path/to/tensorflow_src\n$ bazel clean\n$ rm .cache/bazel -rf\n$ ./configure\n$ bazel build --config=mkl -copt=\"-DEIGEN_USE_MKL_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\n\nIt has been compiled successfully with gcc-6 on centos 7.2. But we have to take the compiled gcc library wherever we use tensorflow.\nMaybe there're some better ways to solve the problem, but this is the only way that i have found.", "body": "Perhaps I didn't explain well about this question in the former comment. What I mean is that devtoolset-6 may lead to the ldopen or libiomp5.so not found errors. \r\nAnybody who faces this problem can try to build a gcc-6 from source code to fix it.\r\nbuild gcc-6:\r\n```\r\n$ tar xzf gcc-6.4.0.tar.gz\r\n$ cd gcc-6.4.0\r\n$ ./configure --prefix=/opt/gcc-6 --enable-languages=c,c++\r\n$ make\r\n$ make install\r\n$ export PATH=/opt/gcc-6/bin:$PATH\r\n$ export LD_LIBRARY_PATH=/opt/gcc-6/lib64:LD_LIBRARY_PATH\r\n```\r\nbuild tensorflow:\r\n```\r\n$ cd /path/to/tensorflow_src\r\n$ bazel clean\r\n$ rm .cache/bazel -rf\r\n$ ./configure\r\n$ bazel build --config=mkl -copt=\"-DEIGEN_USE_MKL_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\r\n```\r\nIt has been compiled successfully with gcc-6 on centos 7.2. But we have to take the compiled gcc library wherever we use tensorflow. \r\n\r\nMaybe there're some better ways to solve the problem, but this is the only way that i have found."}