{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12951", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12951/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12951/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12951/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12951", "id": 256550514, "node_id": "MDU6SXNzdWUyNTY1NTA1MTQ=", "number": 12951, "title": "--config=mkl leads to libmklml_intel.so: error: undefined reference to 'dladdr'", "user": {"login": "carlthome", "id": 1595907, "node_id": "MDQ6VXNlcjE1OTU5MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1595907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlthome", "html_url": "https://github.com/carlthome", "followers_url": "https://api.github.com/users/carlthome/followers", "following_url": "https://api.github.com/users/carlthome/following{/other_user}", "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions", "organizations_url": "https://api.github.com/users/carlthome/orgs", "repos_url": "https://api.github.com/users/carlthome/repos", "events_url": "https://api.github.com/users/carlthome/events{/privacy}", "received_events_url": "https://api.github.com/users/carlthome/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tfboyd", "id": 23486130, "node_id": "MDQ6VXNlcjIzNDg2MTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23486130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tfboyd", "html_url": "https://github.com/tfboyd", "followers_url": "https://api.github.com/users/tfboyd/followers", "following_url": "https://api.github.com/users/tfboyd/following{/other_user}", "gists_url": "https://api.github.com/users/tfboyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tfboyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tfboyd/subscriptions", "organizations_url": "https://api.github.com/users/tfboyd/orgs", "repos_url": "https://api.github.com/users/tfboyd/repos", "events_url": "https://api.github.com/users/tfboyd/events{/privacy}", "received_events_url": "https://api.github.com/users/tfboyd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2017-09-10T23:50:54Z", "updated_at": "2018-05-22T16:09:15Z", "closed_at": "2017-09-11T21:01:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Cloning master (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/702d595822e9e5f5232b8140c6296683612c33a9/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/702d595822e9e5f5232b8140c6296683612c33a9\"><tt>702d595</tt></a>), running <code>configure</code> with \"No\" throughout, and trying to build a pip package (Bazel 0.5.4, Ubuntu 16.10) with the new <code>--config=mkl</code> flag crashes.</p>\n<div class=\"highlight highlight-source-shell\"><pre>bazel build --config=opt --config=mkl //tensorflow/tools/pip_package:build_pip_package\n\nERROR: /home/carl/tensorflow/tensorflow/python/BUILD:1289:1: Linking of rule <span class=\"pl-s\"><span class=\"pl-pds\">'</span>//tensorflow/python:gen_resource_variable_ops_py_wrappers_cc<span class=\"pl-pds\">'</span></span> failed (Exit 1)\nbazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so: error: undefined reference to <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dladdr<span class=\"pl-pds\">'</span></span></pre></div>\n<div class=\"highlight highlight-source-shell\"><pre>ldd bazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so\n\nlibiomp5.so =<span class=\"pl-k\">&gt;</span> not found</pre></div>", "body_text": "Cloning master (702d595), running configure with \"No\" throughout, and trying to build a pip package (Bazel 0.5.4, Ubuntu 16.10) with the new --config=mkl flag crashes.\nbazel build --config=opt --config=mkl //tensorflow/tools/pip_package:build_pip_package\n\nERROR: /home/carl/tensorflow/tensorflow/python/BUILD:1289:1: Linking of rule '//tensorflow/python:gen_resource_variable_ops_py_wrappers_cc' failed (Exit 1)\nbazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so: error: undefined reference to 'dladdr'\nldd bazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so\n\nlibiomp5.so => not found", "body": "Cloning master (702d595822e9e5f5232b8140c6296683612c33a9), running `configure` with \"No\" throughout, and trying to build a pip package (Bazel 0.5.4, Ubuntu 16.10) with the new `--config=mkl` flag crashes.\r\n\r\n```sh\r\nbazel build --config=opt --config=mkl //tensorflow/tools/pip_package:build_pip_package\r\n\r\nERROR: /home/carl/tensorflow/tensorflow/python/BUILD:1289:1: Linking of rule '//tensorflow/python:gen_resource_variable_ops_py_wrappers_cc' failed (Exit 1)\r\nbazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so: error: undefined reference to 'dladdr'\r\n```\r\n\r\n```sh\r\nldd bazel-out/host/bin/_solib_k8/_U_S_Sthird_Uparty_Smkl_Cintel_Ubinary_Ublob___Uexternal_Smkl_Slib/libmklml_intel.so\r\n\r\nlibiomp5.so => not found\r\n```\r\n\r\n"}