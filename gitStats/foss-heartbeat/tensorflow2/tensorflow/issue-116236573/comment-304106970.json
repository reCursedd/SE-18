{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304106970", "html_url": "https://github.com/tensorflow/tensorflow/issues/110#issuecomment-304106970", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/110", "id": 304106970, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDEwNjk3MA==", "user": {"login": "rdipietro", "id": 5150559, "node_id": "MDQ6VXNlcjUxNTA1NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5150559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdipietro", "html_url": "https://github.com/rdipietro", "followers_url": "https://api.github.com/users/rdipietro/followers", "following_url": "https://api.github.com/users/rdipietro/following{/other_user}", "gists_url": "https://api.github.com/users/rdipietro/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdipietro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdipietro/subscriptions", "organizations_url": "https://api.github.com/users/rdipietro/orgs", "repos_url": "https://api.github.com/users/rdipietro/repos", "events_url": "https://api.github.com/users/rdipietro/events{/privacy}", "received_events_url": "https://api.github.com/users/rdipietro/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-25T19:54:24Z", "updated_at": "2017-05-25T19:54:24Z", "author_association": "CONTRIBUTOR", "body_html": "<p>And here we go again for r1.2. (Note: since r1.0, the Bazel configuration file organization has been mucked with.)</p>\n<p>Bazel: Need new ish version. 0.4.3 did not work, 0.4.5 did. Again, Bazel now compiles easily even with older CentOS / glibc, so this is straightforward.</p>\n<p>Required edits for TensorFlow:</p>\n<p>vim third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl<br>\n<code>%s~/usr/bin/cpp~/cm/shared/apps/gcc/4.8.2/bin/cpp~g</code><br>\nAnd after <code>linker_flag: \"-B/usr/bin/\"</code> add</p>\n<pre><code>  linker_flag: \"-Wl,-R/cm/shared/apps/gcc/4.8.2/lib64\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include-fixed\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/include/c++/4.8.2\"\n</code></pre>\n<p>vim third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl<br>\n<code>NVCC_PATH = '/cm/shared/apps/cuda/7.5/bin/nvcc'</code></p>\n<p>Final notes: Wouldn't work with Cuda 7.5, CuDNN 5 (cuda compilation errors). Success with Cuda 8.0, CuDNN 5.</p>", "body_text": "And here we go again for r1.2. (Note: since r1.0, the Bazel configuration file organization has been mucked with.)\nBazel: Need new ish version. 0.4.3 did not work, 0.4.5 did. Again, Bazel now compiles easily even with older CentOS / glibc, so this is straightforward.\nRequired edits for TensorFlow:\nvim third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\n%s~/usr/bin/cpp~/cm/shared/apps/gcc/4.8.2/bin/cpp~g\nAnd after linker_flag: \"-B/usr/bin/\" add\n  linker_flag: \"-Wl,-R/cm/shared/apps/gcc/4.8.2/lib64\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include-fixed\"\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/include/c++/4.8.2\"\n\nvim third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\nNVCC_PATH = '/cm/shared/apps/cuda/7.5/bin/nvcc'\nFinal notes: Wouldn't work with Cuda 7.5, CuDNN 5 (cuda compilation errors). Success with Cuda 8.0, CuDNN 5.", "body": "And here we go again for r1.2. (Note: since r1.0, the Bazel configuration file organization has been mucked with.)\r\n\r\nBazel: Need new ish version. 0.4.3 did not work, 0.4.5 did. Again, Bazel now compiles easily even with older CentOS / glibc, so this is straightforward.\r\n\r\nRequired edits for TensorFlow:\r\n\r\nvim third_party/gpus/crosstool/CROSSTOOL_nvcc.tpl\r\n`%s~/usr/bin/cpp~/cm/shared/apps/gcc/4.8.2/bin/cpp~g`\r\nAnd after `linker_flag: \"-B/usr/bin/\"` add\r\n```\r\n  linker_flag: \"-Wl,-R/cm/shared/apps/gcc/4.8.2/lib64\"\r\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include\"\r\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/lib/gcc/x86_64-unknown-linux-gnu/4.8.2/include-fixed\"\r\n  cxx_builtin_include_directory: \"/cm/shared/apps/gcc/4.8.2/include/c++/4.8.2\"\r\n```\r\n\r\nvim third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\r\n`NVCC_PATH = '/cm/shared/apps/cuda/7.5/bin/nvcc'`\r\n\r\nFinal notes: Wouldn't work with Cuda 7.5, CuDNN 5 (cuda compilation errors). Success with Cuda 8.0, CuDNN 5."}