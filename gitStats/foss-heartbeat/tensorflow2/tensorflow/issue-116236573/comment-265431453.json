{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/265431453", "html_url": "https://github.com/tensorflow/tensorflow/issues/110#issuecomment-265431453", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/110", "id": 265431453, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTQzMTQ1Mw==", "user": {"login": "i3v", "id": 920364, "node_id": "MDQ6VXNlcjkyMDM2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/920364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/i3v", "html_url": "https://github.com/i3v", "followers_url": "https://api.github.com/users/i3v/followers", "following_url": "https://api.github.com/users/i3v/following{/other_user}", "gists_url": "https://api.github.com/users/i3v/gists{/gist_id}", "starred_url": "https://api.github.com/users/i3v/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/i3v/subscriptions", "organizations_url": "https://api.github.com/users/i3v/orgs", "repos_url": "https://api.github.com/users/i3v/repos", "events_url": "https://api.github.com/users/i3v/events{/privacy}", "received_events_url": "https://api.github.com/users/i3v/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-07T12:08:47Z", "updated_at": "2016-12-07T15:10:18Z", "author_association": "NONE", "body_html": "<p>I've just managed to build tensorflow 0.12rc0 on CentOS6.5, which only had gcc-4.4.7 compiler by default, without having root privileges. (At least, it's successfully passing most simple tests, like <a href=\"https://github.com/tensorflow/tensorflow/issues/110#issuecomment-220009120\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/110/hovercard\">this one</a>).</p>\n<p>In short, I had to:</p>\n<ol>\n<li>\n<p>Build newer gcc, <a href=\"http://stackoverflow.com/questions/39095577/tensorflow-build-failure-with-gcc-error-as/39181639#39181639\" rel=\"nofollow\">hardcoding paths</a> to <code>as</code>,<code>ld</code> and <code>nm</code> (a workaround for <code>gcc: error trying to exec 'as': execvp: No such file or directory</code>)</p>\n</li>\n<li>\n<p>Since I've used gcc, installed to my own <code>$HOME</code>, I had to <a href=\"https://github.com/bazelbuild/bazel/issues/649#issuecomment-166710509\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bazelbuild/bazel/issues/649/hovercard\">explicitly specify correct linker library directories</a> <a href=\"https://github.com/tensorflow/tensorflow/blob/v0.11.0/third_party/gpus/crosstool/CROSSTOOL.tpl#L59\">here</a> (a workaround for <code>version 'GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc)</code>)</p>\n</li>\n<li>\n<p>Add <code>-lrt</code> and <code>-lm</code> linker flags to the same place (just like <a href=\"https://github.com/tensorflow/tensorflow/issues/2291#issuecomment-250025095\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2291/hovercard\">suggested</a> by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4273204\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zym1010\">@zym1010</a>)</p>\n</li>\n</ol>\n<p><a href=\"http://stackoverflow.com/a/41003023/1032586\" rel=\"nofollow\">Same story, with <strong>few more details</strong></a>.</p>", "body_text": "I've just managed to build tensorflow 0.12rc0 on CentOS6.5, which only had gcc-4.4.7 compiler by default, without having root privileges. (At least, it's successfully passing most simple tests, like this one).\nIn short, I had to:\n\n\nBuild newer gcc, hardcoding paths to as,ld and nm (a workaround for gcc: error trying to exec 'as': execvp: No such file or directory)\n\n\nSince I've used gcc, installed to my own $HOME, I had to explicitly specify correct linker library directories here (a workaround for version 'GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc))\n\n\nAdd -lrt and -lm linker flags to the same place (just like suggested by @zym1010)\n\n\nSame story, with few more details.", "body": "I've just managed to build tensorflow 0.12rc0 on CentOS6.5, which only had gcc-4.4.7 compiler by default, without having root privileges. (At least, it's successfully passing most simple tests, like [this one](https://github.com/tensorflow/tensorflow/issues/110#issuecomment-220009120)).\r\n\r\nIn short, I had to:\r\n1. Build newer gcc, [hardcoding paths](http://stackoverflow.com/questions/39095577/tensorflow-build-failure-with-gcc-error-as/39181639#39181639) to `as`,`ld` and `nm` (a workaround for `gcc: error trying to exec 'as': execvp: No such file or directory`)\r\n\r\n2. Since I've used gcc, installed to my own `$HOME`, I had to [explicitly specify correct linker library directories](https://github.com/bazelbuild/bazel/issues/649#issuecomment-166710509) [here](https://github.com/tensorflow/tensorflow/blob/v0.11.0/third_party/gpus/crosstool/CROSSTOOL.tpl#L59) (a workaround for `version 'GLIBCXX_3.4.20' not found (required by bazel-out/host/bin/external/protobuf/protoc)`)\r\n\r\n3. Add `-lrt` and `-lm` linker flags to the same place (just like [suggested](https://github.com/tensorflow/tensorflow/issues/2291#issuecomment-250025095) by @zym1010)\r\n\r\n[Same story, with **few more details**](http://stackoverflow.com/a/41003023/1032586)."}