{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439885559", "html_url": "https://github.com/tensorflow/tensorflow/issues/22565#issuecomment-439885559", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22565", "id": 439885559, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTg4NTU1OQ==", "user": {"login": "SteveIb", "id": 24913534, "node_id": "MDQ6VXNlcjI0OTEzNTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/24913534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SteveIb", "html_url": "https://github.com/SteveIb", "followers_url": "https://api.github.com/users/SteveIb/followers", "following_url": "https://api.github.com/users/SteveIb/following{/other_user}", "gists_url": "https://api.github.com/users/SteveIb/gists{/gist_id}", "starred_url": "https://api.github.com/users/SteveIb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SteveIb/subscriptions", "organizations_url": "https://api.github.com/users/SteveIb/orgs", "repos_url": "https://api.github.com/users/SteveIb/repos", "events_url": "https://api.github.com/users/SteveIb/events{/privacy}", "received_events_url": "https://api.github.com/users/SteveIb/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-19T13:03:13Z", "updated_at": "2018-11-19T13:03:13Z", "author_association": "NONE", "body_html": "<p>Hi, I have the same issue<br>\nI followed the following tutorial to convert it to TFLITE</p>\n<p><a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tensorflowlite.md\">https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tensorflowlite.md</a></p>\n<p>Then I had tflite model from my custom dataset. using Mobilenet network.</p>\n<p>Now Im having the same error you had When i run TF Detect.<br>\nhere is the android log</p>\n<p>11-19 14:58:53.492 29465-29465/? I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480<br>\nCameraConnectionFragment: Valid preview sizes: [1920x1080, 1440x1080, 1280x720, 720x480, 640x480]<br>\nCameraConnectionFragment: Rejected preview sizes: [320x240]<br>\nCameraConnectionFragment: Exact size match found.<br>\n11-19 14:58:53.507 29465-29465/? W/tensorflow: ImageUtils: Native library not found, native RGB -&gt; YUV conversion may be unavailable.<br>\n11-19 14:58:53.695 29465-29465/org.tensorflow.demo W/tensorflow: TensorFlowObjectDetectionAPIModel: positive<br>\nTensorFlowObjectDetectionAPIModel: negative<br>\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded<br>\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)<br>\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference<br>\n11-19 14:58:53.796 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)<br>\n11-19 14:58:54.082 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took 27ms, TensorFlow version: 1.12.0<br>\n11-19 14:58:54.083 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/detect300300.tflite'<br>\n11-19 14:58:54.084 29465-29465/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!<br>\njava.lang.RuntimeException: Failed to find input Node 'image_tensor'<br>\nat org.tensorflow.demo.TensorFlowObjectDetectionAPIModel.create(TensorFlowObjectDetectionAPIModel.java:102)<br>\nat org.tensorflow.demo.DetectorActivity.onPreviewSizeChosen(DetectorActivity.java:169)<br>\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:120)<br>\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1150)<br>\nat android.os.Handler.dispatchMessage(Handler.java:102)<br>\nat android.os.Looper.loop(Looper.java:148)<br>\nat android.app.ActivityThread.main(ActivityThread.java:5461)<br>\nat java.lang.reflect.Method.invoke(Native Method)<br>\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)<br>\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)<br>\n11-19 14:59:16.527 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.DetectorActivity@9bf609f<br>\nCameraActivity: Requesting finish<br>\n11-19 14:59:16.580 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.DetectorActivity@9bf609f<br>\n11-19 14:59:16.584 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.DetectorActivity@9bf609f</p>\n<p>one of the solution is to change the tensorflow since it is not compatible with the one that android is using .. but still the same results .. i have the latest tensorflow  like this</p>\n<p>dependencies {<br>\nif (nativeBuildSystem == 'cmake' || nativeBuildSystem == 'none') {<br>\ncompile 'org.tensorflow:tensorflow-android:1.12.0'<br>\n//compile 'org.tensorflow:tensorflow-android:+'<br>\n}<br>\n}</p>\n<p>but the same error!<br>\nany hint?</p>", "body_text": "Hi, I have the same issue\nI followed the following tutorial to convert it to TFLITE\nhttps://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tensorflowlite.md\nThen I had tflite model from my custom dataset. using Mobilenet network.\nNow Im having the same error you had When i run TF Detect.\nhere is the android log\n11-19 14:58:53.492 29465-29465/? I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\nCameraConnectionFragment: Valid preview sizes: [1920x1080, 1440x1080, 1280x720, 720x480, 640x480]\nCameraConnectionFragment: Rejected preview sizes: [320x240]\nCameraConnectionFragment: Exact size match found.\n11-19 14:58:53.507 29465-29465/? W/tensorflow: ImageUtils: Native library not found, native RGB -> YUV conversion may be unavailable.\n11-19 14:58:53.695 29465-29465/org.tensorflow.demo W/tensorflow: TensorFlowObjectDetectionAPIModel: positive\nTensorFlowObjectDetectionAPIModel: negative\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\n11-19 14:58:53.796 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\n11-19 14:58:54.082 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took 27ms, TensorFlow version: 1.12.0\n11-19 14:58:54.083 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/detect300300.tflite'\n11-19 14:58:54.084 29465-29465/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!\njava.lang.RuntimeException: Failed to find input Node 'image_tensor'\nat org.tensorflow.demo.TensorFlowObjectDetectionAPIModel.create(TensorFlowObjectDetectionAPIModel.java:102)\nat org.tensorflow.demo.DetectorActivity.onPreviewSizeChosen(DetectorActivity.java:169)\nat org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:120)\nat android.hardware.Camera$EventHandler.handleMessage(Camera.java:1150)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:148)\nat android.app.ActivityThread.main(ActivityThread.java:5461)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n11-19 14:59:16.527 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.DetectorActivity@9bf609f\nCameraActivity: Requesting finish\n11-19 14:59:16.580 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.DetectorActivity@9bf609f\n11-19 14:59:16.584 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.DetectorActivity@9bf609f\none of the solution is to change the tensorflow since it is not compatible with the one that android is using .. but still the same results .. i have the latest tensorflow  like this\ndependencies {\nif (nativeBuildSystem == 'cmake' || nativeBuildSystem == 'none') {\ncompile 'org.tensorflow:tensorflow-android:1.12.0'\n//compile 'org.tensorflow:tensorflow-android:+'\n}\n}\nbut the same error!\nany hint?", "body": "Hi, I have the same issue\r\nI followed the following tutorial to convert it to TFLITE\r\n\r\nhttps://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tensorflowlite.md\r\n\r\nThen I had tflite model from my custom dataset. using Mobilenet network.\r\n\r\nNow Im having the same error you had When i run TF Detect.\r\nhere is the android log\r\n\r\n11-19 14:58:53.492 29465-29465/? I/tensorflow: CameraConnectionFragment: Desired size: 640x480, min size: 480x480\r\n    CameraConnectionFragment: Valid preview sizes: [1920x1080, 1440x1080, 1280x720, 720x480, 640x480]\r\n    CameraConnectionFragment: Rejected preview sizes: [320x240]\r\n    CameraConnectionFragment: Exact size match found.\r\n11-19 14:58:53.507 29465-29465/? W/tensorflow: ImageUtils: Native library not found, native RGB -> YUV conversion may be unavailable.\r\n11-19 14:58:53.695 29465-29465/org.tensorflow.demo W/tensorflow: TensorFlowObjectDetectionAPIModel: positive\r\n    TensorFlowObjectDetectionAPIModel: negative\r\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Checking to see if TensorFlow native methods are already loaded\r\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\n11-19 14:58:53.699 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: TensorFlow native methods not found, attempting to load via tensorflow_inference\r\n11-19 14:58:53.796 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded TensorFlow native methods (RunStats error may be ignored)\r\n11-19 14:58:54.082 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took 27ms, TensorFlow version: 1.12.0\r\n11-19 14:58:54.083 29465-29465/org.tensorflow.demo I/TensorFlowInferenceInterface: Successfully loaded model from 'file:///android_asset/detect300300.tflite'\r\n11-19 14:58:54.084 29465-29465/org.tensorflow.demo E/tensorflow: CameraActivity: Exception!\r\n    java.lang.RuntimeException: Failed to find input Node 'image_tensor'\r\n        at org.tensorflow.demo.TensorFlowObjectDetectionAPIModel.create(TensorFlowObjectDetectionAPIModel.java:102)\r\n        at org.tensorflow.demo.DetectorActivity.onPreviewSizeChosen(DetectorActivity.java:169)\r\n        at org.tensorflow.demo.CameraActivity.onPreviewFrame(CameraActivity.java:120)\r\n        at android.hardware.Camera$EventHandler.handleMessage(Camera.java:1150)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:148)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5461)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n11-19 14:59:16.527 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.DetectorActivity@9bf609f\r\n    CameraActivity: Requesting finish\r\n11-19 14:59:16.580 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onStop org.tensorflow.demo.DetectorActivity@9bf609f\r\n11-19 14:59:16.584 29465-29465/org.tensorflow.demo D/tensorflow: CameraActivity: onDestroy org.tensorflow.demo.DetectorActivity@9bf609f\r\n\r\n\r\none of the solution is to change the tensorflow since it is not compatible with the one that android is using .. but still the same results .. i have the latest tensorflow  like this\r\n\r\ndependencies {\r\n    if (nativeBuildSystem == 'cmake' || nativeBuildSystem == 'none') {\r\n        compile 'org.tensorflow:tensorflow-android:1.12.0'\r\n        //compile 'org.tensorflow:tensorflow-android:+'\r\n    }\r\n}\r\n\r\nbut the same error!\r\nany hint?"}