{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100654898", "pull_request_review_id": 21374026, "id": 100654898, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDY1NDg5OA==", "diff_hunk": "@@ -412,9 +416,17 @@ def pad_to_bounding_box(image, offset_height, offset_width, target_height,\n   image = ops.convert_to_tensor(image, name='image')\n \n   assert_ops = []\n-  assert_ops += _Check3DImage(image, require_static=False)\n+  assert_ops += _CheckAtLeast3DImage(image, require_static=False)\n+\n+  is_batch = True\n+  if image.get_shape().ndims == 3:\n+    is_batch = False\n+    image = array_ops.expand_dims(image, 0)\n+  elif image.get_shape().ndims != 4:\n+    raise ValueError('\\'image\\' must have either 3 or 4 dimensions.')\n+\n+  num_channels, height, width, depth = image.get_shape().as_list()", "path": "tensorflow/python/ops/image_ops_impl.py", "position": null, "original_position": 35, "commit_id": "76d6b38f6e7b9cbea313fc5557a34a8ed1fb8453", "original_commit_id": "ee1d69ff74ec5cdb078444c93811a8f0944ada2c", "user": {"login": "cancan101", "id": 51059, "node_id": "MDQ6VXNlcjUxMDU5", "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cancan101", "html_url": "https://github.com/cancan101", "followers_url": "https://api.github.com/users/cancan101/followers", "following_url": "https://api.github.com/users/cancan101/following{/other_user}", "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}", "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions", "organizations_url": "https://api.github.com/users/cancan101/orgs", "repos_url": "https://api.github.com/users/cancan101/repos", "events_url": "https://api.github.com/users/cancan101/events{/privacy}", "received_events_url": "https://api.github.com/users/cancan101/received_events", "type": "User", "site_admin": false}, "body": "this seems like it might be problematic for dynamic sizes. Perhaps I should add a `_ImageDimensions` that works in higher dimensions? ", "created_at": "2017-02-11T01:26:41Z", "updated_at": "2017-03-16T00:53:39Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7369#discussion_r100654898", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7369", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100654898"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7369#discussion_r100654898"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7369"}}, "body_html": "<p>this seems like it might be problematic for dynamic sizes. Perhaps I should add a <code>_ImageDimensions</code> that works in higher dimensions?</p>", "body_text": "this seems like it might be problematic for dynamic sizes. Perhaps I should add a _ImageDimensions that works in higher dimensions?"}