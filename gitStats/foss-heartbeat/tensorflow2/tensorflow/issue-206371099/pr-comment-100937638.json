{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100937638", "pull_request_review_id": 21654383, "id": 100937638, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMDkzNzYzOA==", "diff_hunk": "@@ -110,6 +110,26 @@ def _ImageDimensions(image):\n             for s, d in zip(static_shape, dynamic_shape)]\n \n \n+def _BatchImageDimensions(image):\n+  \"\"\"Returns the dimensions of an batch of images tensor.\n+\n+  Args:\n+    image: A 4-D Tensor of shape `[batch, height, width, channels]`.\n+\n+  Returns:\n+    A list of `[batch, height, width, channels]` corresponding to the dimensions of the\n+    input image.  Dimensions that are statically known are python integers,\n+    otherwise they are integer scalar tensors.\n+  \"\"\"\n+  if image.get_shape().is_fully_defined():\n+    return image.get_shape().as_list()\n+  else:\n+    static_shape = image.get_shape().with_rank(4).as_list()\n+    dynamic_shape = array_ops.unpack(array_ops.shape(image), 4)\n+    return [s if s is not None else d\n+            for s, d in zip(static_shape, dynamic_shape)]\n+\n+\n def _Check3DImage(image, require_static=True):", "path": "tensorflow/python/ops/image_ops_impl.py", "position": null, "original_position": 24, "commit_id": "76d6b38f6e7b9cbea313fc5557a34a8ed1fb8453", "original_commit_id": "74463d7af7116f77b14e90c7e31e3597157c06bb", "user": {"login": "cancan101", "id": 51059, "node_id": "MDQ6VXNlcjUxMDU5", "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cancan101", "html_url": "https://github.com/cancan101", "followers_url": "https://api.github.com/users/cancan101/followers", "following_url": "https://api.github.com/users/cancan101/following{/other_user}", "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}", "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions", "organizations_url": "https://api.github.com/users/cancan101/orgs", "repos_url": "https://api.github.com/users/cancan101/repos", "events_url": "https://api.github.com/users/cancan101/events{/privacy}", "received_events_url": "https://api.github.com/users/cancan101/received_events", "type": "User", "site_admin": false}, "body": "does this name make sense? This function doesn't \"get an image shape\" rather it:\r\n>  Returns An empty list, if `image` has fully defined dimensions. Otherwise, a list containing an assert op is returned.", "created_at": "2017-02-14T00:53:28Z", "updated_at": "2017-03-16T00:53:39Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/7369#discussion_r100937638", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7369", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/100937638"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/7369#discussion_r100937638"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/7369"}}, "body_html": "<p>does this name make sense? This function doesn't \"get an image shape\" rather it:</p>\n<blockquote>\n<p>Returns An empty list, if <code>image</code> has fully defined dimensions. Otherwise, a list containing an assert op is returned.</p>\n</blockquote>", "body_text": "does this name make sense? This function doesn't \"get an image shape\" rather it:\n\nReturns An empty list, if image has fully defined dimensions. Otherwise, a list containing an assert op is returned.", "in_reply_to_id": 100853832}