{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/367921472", "html_url": "https://github.com/tensorflow/tensorflow/issues/17207#issuecomment-367921472", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17207", "id": 367921472, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzkyMTQ3Mg==", "user": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-23T06:22:46Z", "updated_at": "2018-02-23T06:22:46Z", "author_association": "MEMBER", "body_html": "<p>If it's just matmul, why not use tf.matmul?</p>\n<p>import timeit<br>\nimport numpy as np<br>\nimport tensorflow as tf</p>\n<p>w = np.array([[-1., 1., 0., 0.], [0., 0., -1., 1.]]).T<br>\nb = np.array([[ 15., -15., -21., 21.]])<br>\ns = np.array([[-23.5, 17.8]])<br>\nu = tf.matmul(w, s, transpose_b=True) + b.T<br>\nsess = tf.Session()</p>\n<p>rand_array = np.random.rand(size, size)</p>\n<p>start_time = time.time()<br>\nfor _ in xrange(10):<br>\nnp.dot(np.dot(rand_array,rand_array), rand_array)</p>\n<p>print(\"--- %s seconds numpy multiply ---\" % (time.time() - start_time))</p>\n<p>start_time = time.time()<br>\nfor _ in xrange(10):<br>\nsess.run(z, feed_dict={x: rand_array})</p>\n<p>print(\"--- %s seconds tensorflow---\" % (time.time() - start_time))</p>\n<p>This question is better asked on  <a href=\"http://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a> since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!</p>", "body_text": "If it's just matmul, why not use tf.matmul?\nimport timeit\nimport numpy as np\nimport tensorflow as tf\nw = np.array([[-1., 1., 0., 0.], [0., 0., -1., 1.]]).T\nb = np.array([[ 15., -15., -21., 21.]])\ns = np.array([[-23.5, 17.8]])\nu = tf.matmul(w, s, transpose_b=True) + b.T\nsess = tf.Session()\nrand_array = np.random.rand(size, size)\nstart_time = time.time()\nfor _ in xrange(10):\nnp.dot(np.dot(rand_array,rand_array), rand_array)\nprint(\"--- %s seconds numpy multiply ---\" % (time.time() - start_time))\nstart_time = time.time()\nfor _ in xrange(10):\nsess.run(z, feed_dict={x: rand_array})\nprint(\"--- %s seconds tensorflow---\" % (time.time() - start_time))\nThis question is better asked on  StackOverflow since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!", "body": "If it's just matmul, why not use tf.matmul?\r\n\r\n\r\nimport timeit\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\nw = np.array([[-1., 1., 0., 0.], [0., 0., -1., 1.]]).T\r\nb = np.array([[ 15., -15., -21., 21.]])\r\ns = np.array([[-23.5, 17.8]])\r\nu = tf.matmul(w, s, transpose_b=True) + b.T\r\nsess = tf.Session()\r\n\r\nrand_array = np.random.rand(size, size)\r\n\r\nstart_time = time.time()\r\nfor _ in xrange(10):\r\n  np.dot(np.dot(rand_array,rand_array), rand_array)\r\n\r\nprint(\"--- %s seconds numpy multiply ---\" % (time.time() - start_time))\r\n\r\nstart_time = time.time()\r\nfor _ in xrange(10):\r\n  sess.run(z, feed_dict={x: rand_array})\r\n\r\nprint(\"--- %s seconds tensorflow---\" % (time.time() - start_time))\r\n\r\nThis question is better asked on  [StackOverflow](http://stackoverflow.com/questions/tagged/tensorflow) since it is not a  bug or feature request. There is also a larger community that reads questions there. Thanks!"}