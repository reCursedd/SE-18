{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7668", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7668/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7668/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7668/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7668", "id": 208721959, "node_id": "MDU6SXNzdWUyMDg3MjE5NTk=", "number": 7668, "title": "Building from source - PYTHONPATH not respected", "user": {"login": "botev", "id": 1889878, "node_id": "MDQ6VXNlcjE4ODk4Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1889878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/botev", "html_url": "https://github.com/botev", "followers_url": "https://api.github.com/users/botev/followers", "following_url": "https://api.github.com/users/botev/following{/other_user}", "gists_url": "https://api.github.com/users/botev/gists{/gist_id}", "starred_url": "https://api.github.com/users/botev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/botev/subscriptions", "organizations_url": "https://api.github.com/users/botev/orgs", "repos_url": "https://api.github.com/users/botev/repos", "events_url": "https://api.github.com/users/botev/events{/privacy}", "received_events_url": "https://api.github.com/users/botev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-02-19T14:49:04Z", "updated_at": "2017-06-16T18:40:14Z", "closed_at": "2017-06-16T18:40:14Z", "author_association": "NONE", "body_html": "<p>So I'm trying to build tensorflow from source, main reason is that I do not have root access and the <code>GLIBC</code> version was incompatible with the binaries. Additionally, I can not install packages on the python3.</p>\n<p>Steps so far:</p>\n<ol>\n<li>Build <code>gcc-4.9.1</code> from source - SUCCESS</li>\n<li>Build <code>bazel-0.4.4</code> from source - SUCCESS</li>\n<li>Install all CUDA stuff - SUCCESS</li>\n<li>Install extra packages in a separate directory (protobuf, nose, argparse, numpy, six etc..) - SUCCESS</li>\n<li>Build <code>tensorflow</code> with the <code>bazel</code> binary - FAIL</li>\n</ol>\n<p>OS:</p>\n<pre><code>LSB Version:\t:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nDistributor ID:\tCentOS\nDescription:\tCentOS release 6.5 (Final)\nRelease:\t6.5\nCodename:\tFinal\n</code></pre>\n<p>The new <code>gcc</code> is installed in <code>/share/apps/barber/system/</code> together with the other library dependencies <code>gcc</code> needs (gmp, mpfr, mpc, elf).</p>\n<p>The <code>bazel</code> binary is also copied into <code>/share/apps/barber/system/bin</code></p>\n<p>CUDA is installed under <code>/share/apps/barber/cuda</code> and CuDNN under <code>/share/apps/barber/cudnn</code>.</p>\n<p>The python I'm using is not the default one and lives in <code>/share/apps/python-3.6.0-shared/bin/python3</code>. The alternative directory for my own packages is <code>/share/apps/barber/system/lib/python3.6/site-packages/</code> (it contains protobuf, argparse, nose etc...).</p>\n<p>Given all this my environment has the following modified deifnitions:</p>\n<pre><code>export BARBER_PATH=/share/apps/barber\nexport LD_LIBRARY_PATH=${BARBER_PATH}/system/lib/:${BARBER_PATH}/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/\nexport PATH=${BARBER_PATH}/system/bin/:$PATH\nexport CC=${BARBER_PATH}/system/bin/gcc\nexport CXX=${BARBER_PATH}/system/bin/g++\nexport CUDA_ROOT=${BARBER_PATH}/cuda\nexport CUDA_HOME=${CUDA_ROOT}\nexport CUDNN_PATH=${BARBER_PATH}/cudnn\nexport CPATH=${CUDNN_PATH}/include:$CPATH\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${CUDA_ROOT}/lib64/:${CUDA_ROOT}/nvvm/lib64/:${CUDA_ROOT}/extras/CUPTI/lib64:${CUDNN_PATH}/lib64/\nexport PYTHONPATH=${BARBER_PATH}/system/lib/python3.6/site-packages/\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/apps/python-3.6.0-shared/lib/\nalias python=/share/apps/python-3.6.0-shared/bin/python3\nalias pip=/share/apps/python-3.6.0-shared/bin/pip\n</code></pre>\n<p>Getting back to the tensorflow build, I'm selecting corretly the python to use and the gcc to use when using CUDA. The <code>./configure</code> completes fine and works (I think I only had to change something to <code>_async</code>). However, when I try to run</p>\n<pre><code> bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>WARNING: Output base '/home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 target...\nERROR: /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/execroot/tensorflow &amp;&amp; \\\n  exec env - \\\n    LD_LIBRARY_PATH=/share/apps/barber/system/lib/:/share/apps/barber/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/:/share/apps/barber/cuda//lib64/:/share/apps/barber/cuda//nvvm/lib64/:/share/apps/barber/cuda//extras/CUPTI/lib64:/share/apps/barber/cudnn_5_1/lib64/:/share/apps/barber/arrayfire-3/lib/:/share/apps/python-3.6.0-shared/lib/ \\\n    PATH=/share/apps/java/bin/:/share/apps/barber/system/bin/:/opt/openmpi/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/bio/ncbi/bin:/opt/bio/mpiblast/bin:/opt/bio/EMBOSS/bin:/opt/bio/clustalw/bin:/opt/bio/tcoffee/bin:/opt/bio/hmmer/bin:/opt/bio/phylip/exe:/opt/bio/mrbayes:/opt/bio/fasta:/opt/bio/glimmer/bin:/opt/bio/glimmer/scripts:/opt/bio/gromacs/bin:/opt/bio/gmap/bin:/opt/bio/tigr/bin:/opt/bio/autodocksuite/bin:/opt/bio/wgs/bin:/opt/eclipse:/opt/ganglia/bin:/opt/ganglia/sbin:/usr/java/latest/bin:/opt/rocks/bin:/opt/rocks/sbin:/opt/gridengine/bin/linux-x64:/home/abotev/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in &lt;module&gt;\n    from argparse import ArgumentParser\nImportError: No module named argparse\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 16.723s, Critical Path: 0.88s\n</code></pre>\n<p>Thi suggests that the <code>bazel</code> build for some reason is ignoring my <code>$PYTHONPATH</code> and can not find argparse. If I run my python argparse is imported with no problems.</p>\n<p>Now, I really am not that much concerned with why this is happening, but more of how could I can bypass it to build <code>tensorflow</code>?</p>\n<p>Related issues:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"116691624\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/190\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/190/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/190\">#190</a> - most related. However, the solution there is only for the case of uncompatible gcc, no resolution for the import error.<br>\n<a href=\"http://stackoverflow.com/questions/15093444/importerror-no-module-named-argparse\" rel=\"nofollow\">http://stackoverflow.com/questions/15093444/importerror-no-module-named-argparse</a> - I can't install system packages<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"52039680\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rg3/youtube-dl/issues/4483\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rg3/youtube-dl/issues/4483/hovercard\" href=\"https://github.com/rg3/youtube-dl/issues/4483\">rg3/youtube-dl#4483</a> - does not help me for tensorflow<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160260269\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2860\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2860/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2860\">#2860</a> - does not resolve the issue, but seems pretty similar<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"149516164\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2021\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2021/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2021\">#2021</a> - this shows this might be a <code>bazel</code> issue</p>", "body_text": "So I'm trying to build tensorflow from source, main reason is that I do not have root access and the GLIBC version was incompatible with the binaries. Additionally, I can not install packages on the python3.\nSteps so far:\n\nBuild gcc-4.9.1 from source - SUCCESS\nBuild bazel-0.4.4 from source - SUCCESS\nInstall all CUDA stuff - SUCCESS\nInstall extra packages in a separate directory (protobuf, nose, argparse, numpy, six etc..) - SUCCESS\nBuild tensorflow with the bazel binary - FAIL\n\nOS:\nLSB Version:\t:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nDistributor ID:\tCentOS\nDescription:\tCentOS release 6.5 (Final)\nRelease:\t6.5\nCodename:\tFinal\n\nThe new gcc is installed in /share/apps/barber/system/ together with the other library dependencies gcc needs (gmp, mpfr, mpc, elf).\nThe bazel binary is also copied into /share/apps/barber/system/bin\nCUDA is installed under /share/apps/barber/cuda and CuDNN under /share/apps/barber/cudnn.\nThe python I'm using is not the default one and lives in /share/apps/python-3.6.0-shared/bin/python3. The alternative directory for my own packages is /share/apps/barber/system/lib/python3.6/site-packages/ (it contains protobuf, argparse, nose etc...).\nGiven all this my environment has the following modified deifnitions:\nexport BARBER_PATH=/share/apps/barber\nexport LD_LIBRARY_PATH=${BARBER_PATH}/system/lib/:${BARBER_PATH}/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/\nexport PATH=${BARBER_PATH}/system/bin/:$PATH\nexport CC=${BARBER_PATH}/system/bin/gcc\nexport CXX=${BARBER_PATH}/system/bin/g++\nexport CUDA_ROOT=${BARBER_PATH}/cuda\nexport CUDA_HOME=${CUDA_ROOT}\nexport CUDNN_PATH=${BARBER_PATH}/cudnn\nexport CPATH=${CUDNN_PATH}/include:$CPATH\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${CUDA_ROOT}/lib64/:${CUDA_ROOT}/nvvm/lib64/:${CUDA_ROOT}/extras/CUPTI/lib64:${CUDNN_PATH}/lib64/\nexport PYTHONPATH=${BARBER_PATH}/system/lib/python3.6/site-packages/\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/apps/python-3.6.0-shared/lib/\nalias python=/share/apps/python-3.6.0-shared/bin/python3\nalias pip=/share/apps/python-3.6.0-shared/bin/pip\n\nGetting back to the tensorflow build, I'm selecting corretly the python to use and the gcc to use when using CUDA. The ./configure completes fine and works (I think I only had to change something to _async). However, when I try to run\n bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\n\nI get the following error:\nWARNING: Output base '/home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7' is on NFS. This may lead to surprising failures and undetermined behavior.\nINFO: Found 1 target...\nERROR: /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \n  (cd /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/execroot/tensorflow && \\\n  exec env - \\\n    LD_LIBRARY_PATH=/share/apps/barber/system/lib/:/share/apps/barber/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/:/share/apps/barber/cuda//lib64/:/share/apps/barber/cuda//nvvm/lib64/:/share/apps/barber/cuda//extras/CUPTI/lib64:/share/apps/barber/cudnn_5_1/lib64/:/share/apps/barber/arrayfire-3/lib/:/share/apps/python-3.6.0-shared/lib/ \\\n    PATH=/share/apps/java/bin/:/share/apps/barber/system/bin/:/opt/openmpi/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/bio/ncbi/bin:/opt/bio/mpiblast/bin:/opt/bio/EMBOSS/bin:/opt/bio/clustalw/bin:/opt/bio/tcoffee/bin:/opt/bio/hmmer/bin:/opt/bio/phylip/exe:/opt/bio/mrbayes:/opt/bio/fasta:/opt/bio/glimmer/bin:/opt/bio/glimmer/scripts:/opt/bio/gromacs/bin:/opt/bio/gmap/bin:/opt/bio/tigr/bin:/opt/bio/autodocksuite/bin:/opt/bio/wgs/bin:/opt/eclipse:/opt/ganglia/bin:/opt/ganglia/sbin:/usr/java/latest/bin:/opt/rocks/bin:/opt/rocks/sbin:/opt/gridengine/bin/linux-x64:/home/abotev/bin \\\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nTraceback (most recent call last):\n  File \"external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in <module>\n    from argparse import ArgumentParser\nImportError: No module named argparse\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 16.723s, Critical Path: 0.88s\n\nThi suggests that the bazel build for some reason is ignoring my $PYTHONPATH and can not find argparse. If I run my python argparse is imported with no problems.\nNow, I really am not that much concerned with why this is happening, but more of how could I can bypass it to build tensorflow?\nRelated issues:\n#190 - most related. However, the solution there is only for the case of uncompatible gcc, no resolution for the import error.\nhttp://stackoverflow.com/questions/15093444/importerror-no-module-named-argparse - I can't install system packages\nrg3/youtube-dl#4483 - does not help me for tensorflow\n#2860 - does not resolve the issue, but seems pretty similar\n#2021 - this shows this might be a bazel issue", "body": "So I'm trying to build tensorflow from source, main reason is that I do not have root access and the `GLIBC` version was incompatible with the binaries. Additionally, I can not install packages on the python3.\r\n\r\nSteps so far:\r\n1. Build `gcc-4.9.1` from source - SUCCESS\r\n2. Build `bazel-0.4.4` from source - SUCCESS\r\n3. Install all CUDA stuff - SUCCESS\r\n4. Install extra packages in a separate directory (protobuf, nose, argparse, numpy, six etc..) - SUCCESS\r\n5. Build `tensorflow` with the `bazel` binary - FAIL\r\n\r\nOS:\r\n```\r\nLSB Version:\t:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\r\nDistributor ID:\tCentOS\r\nDescription:\tCentOS release 6.5 (Final)\r\nRelease:\t6.5\r\nCodename:\tFinal\r\n```\r\nThe new `gcc` is installed in `/share/apps/barber/system/` together with the other library dependencies `gcc` needs (gmp, mpfr, mpc, elf). \r\n\r\nThe `bazel` binary is also copied into `/share/apps/barber/system/bin`\r\n\r\nCUDA is installed under `/share/apps/barber/cuda` and CuDNN under `/share/apps/barber/cudnn`. \r\n\r\nThe python I'm using is not the default one and lives in `/share/apps/python-3.6.0-shared/bin/python3`. The alternative directory for my own packages is `/share/apps/barber/system/lib/python3.6/site-packages/` (it contains protobuf, argparse, nose etc...).\r\n\r\nGiven all this my environment has the following modified deifnitions:\r\n```\r\nexport BARBER_PATH=/share/apps/barber\r\nexport LD_LIBRARY_PATH=${BARBER_PATH}/system/lib/:${BARBER_PATH}/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/\r\nexport PATH=${BARBER_PATH}/system/bin/:$PATH\r\nexport CC=${BARBER_PATH}/system/bin/gcc\r\nexport CXX=${BARBER_PATH}/system/bin/g++\r\nexport CUDA_ROOT=${BARBER_PATH}/cuda\r\nexport CUDA_HOME=${CUDA_ROOT}\r\nexport CUDNN_PATH=${BARBER_PATH}/cudnn\r\nexport CPATH=${CUDNN_PATH}/include:$CPATH\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${CUDA_ROOT}/lib64/:${CUDA_ROOT}/nvvm/lib64/:${CUDA_ROOT}/extras/CUPTI/lib64:${CUDNN_PATH}/lib64/\r\nexport PYTHONPATH=${BARBER_PATH}/system/lib/python3.6/site-packages/\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/apps/python-3.6.0-shared/lib/\r\nalias python=/share/apps/python-3.6.0-shared/bin/python3\r\nalias pip=/share/apps/python-3.6.0-shared/bin/pip\r\n```\r\n\r\nGetting back to the tensorflow build, I'm selecting corretly the python to use and the gcc to use when using CUDA. The `./configure` completes fine and works (I think I only had to change something to `_async`). However, when I try to run \r\n```\r\n bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\r\n```\r\nI get the following error:\r\n```\r\nWARNING: Output base '/home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7' is on NFS. This may lead to surprising failures and undetermined behavior.\r\nINFO: Found 1 target...\r\nERROR: /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/external/farmhash_archive/BUILD.bazel:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command \r\n  (cd /home/abotev/.cache/bazel/_bazel_abotev/9abd1d3abe11b8f0417e465a29633fc7/execroot/tensorflow && \\\r\n  exec env - \\\r\n    LD_LIBRARY_PATH=/share/apps/barber/system/lib/:/share/apps/barber/system/lib64/:/opt/gridengine/lib/linux-x64:/opt/openmpi/lib/:/share/apps/barber/cuda//lib64/:/share/apps/barber/cuda//nvvm/lib64/:/share/apps/barber/cuda//extras/CUPTI/lib64:/share/apps/barber/cudnn_5_1/lib64/:/share/apps/barber/arrayfire-3/lib/:/share/apps/python-3.6.0-shared/lib/ \\\r\n    PATH=/share/apps/java/bin/:/share/apps/barber/system/bin/:/opt/openmpi/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/opt/bio/ncbi/bin:/opt/bio/mpiblast/bin:/opt/bio/EMBOSS/bin:/opt/bio/clustalw/bin:/opt/bio/tcoffee/bin:/opt/bio/hmmer/bin:/opt/bio/phylip/exe:/opt/bio/mrbayes:/opt/bio/fasta:/opt/bio/glimmer/bin:/opt/bio/glimmer/scripts:/opt/bio/gromacs/bin:/opt/bio/gmap/bin:/opt/bio/tigr/bin:/opt/bio/autodocksuite/bin:/opt/bio/wgs/bin:/opt/eclipse:/opt/ganglia/bin:/opt/ganglia/sbin:/usr/java/latest/bin:/opt/rocks/bin:/opt/rocks/sbin:/opt/gridengine/bin/linux-x64:/home/abotev/bin \\\r\n  external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections -g0 '-std=c++11' -MD -MF bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.d '-frandom-seed=bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o' -iquote external/farmhash_archive -iquote bazel-out/host/genfiles/external/farmhash_archive -iquote external/bazel_tools -iquote bazel-out/host/genfiles/external/bazel_tools -isystem external/farmhash_archive/src -isystem bazel-out/host/genfiles/external/farmhash_archive/src -isystem external/bazel_tools/tools/cpp/gcc3 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fno-canonical-system-headers -c external/farmhash_archive/src/farmhash.cc -o bazel-out/host/bin/external/farmhash_archive/_objs/farmhash/external/farmhash_archive/src/farmhash.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nTraceback (most recent call last):\r\n  File \"external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\", line 41, in <module>\r\n    from argparse import ArgumentParser\r\nImportError: No module named argparse\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 16.723s, Critical Path: 0.88s\r\n```\r\nThi suggests that the `bazel` build for some reason is ignoring my `$PYTHONPATH` and can not find argparse. If I run my python argparse is imported with no problems. \r\n\r\nNow, I really am not that much concerned with why this is happening, but more of how could I can bypass it to build `tensorflow`? \r\n\r\nRelated issues: \r\nhttps://github.com/tensorflow/tensorflow/issues/190 - most related. However, the solution there is only for the case of uncompatible gcc, no resolution for the import error. \r\nhttp://stackoverflow.com/questions/15093444/importerror-no-module-named-argparse - I can't install system packages\r\nhttps://github.com/rg3/youtube-dl/issues/4483 - does not help me for tensorflow\r\nhttps://github.com/tensorflow/tensorflow/issues/2860 - does not resolve the issue, but seems pretty similar \r\nhttps://github.com/tensorflow/tensorflow/issues/2021 - this shows this might be a `bazel` issue"}