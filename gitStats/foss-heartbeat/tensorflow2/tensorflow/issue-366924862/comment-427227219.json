{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/427227219", "html_url": "https://github.com/tensorflow/tensorflow/issues/22741#issuecomment-427227219", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22741", "id": 427227219, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzIyNzIxOQ==", "user": {"login": "cmessenger99", "id": 20540675, "node_id": "MDQ6VXNlcjIwNTQwNjc1", "avatar_url": "https://avatars1.githubusercontent.com/u/20540675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmessenger99", "html_url": "https://github.com/cmessenger99", "followers_url": "https://api.github.com/users/cmessenger99/followers", "following_url": "https://api.github.com/users/cmessenger99/following{/other_user}", "gists_url": "https://api.github.com/users/cmessenger99/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmessenger99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmessenger99/subscriptions", "organizations_url": "https://api.github.com/users/cmessenger99/orgs", "repos_url": "https://api.github.com/users/cmessenger99/repos", "events_url": "https://api.github.com/users/cmessenger99/events{/privacy}", "received_events_url": "https://api.github.com/users/cmessenger99/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-05T02:26:04Z", "updated_at": "2018-10-06T11:35:22Z", "author_association": "NONE", "body_html": "<p>I have found a workaround. I created a local directory named manual-download, and copied into it 3 files which bazel had been unable to download:</p>\n<p>curl-7.49.1.tar.gz  license.txt  zlib-1.2.11.tar.gz</p>\n<p>I verified that the file hashes were consistent with workspace.bzl. I then ran:</p>\n<p>bazel fetch --experimental_distdir manual-download //tensorflow/tools/pip_package:build_pip_package</p>\n<p>This worked. After that, I was able to build tensorflow with:</p>\n<p>bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</p>\n<p>Note that getting license.txt was itself a problem. The path to the file, from workspace.bzl, is:</p>\n<p><a href=\"https://docs.python.org/2.7/_sources/license.txt\" rel=\"nofollow\">https://docs.python.org/2.7/_sources/license.txt</a></p>\n<p>However, there is no such filename - you get a 404 error. Instead, download this:</p>\n<p><a href=\"https://docs.python.org/2.7/_sources/license.rst.txt\" rel=\"nofollow\">https://docs.python.org/2.7/_sources/license.rst.txt</a></p>\n<p>So, download the file and rename it to license.txt. The next problem you'll see is that the file hash is wrong - it doesn't match the file hash in workspace.bzl. The issue is that you have to edit the file, and change the year from 2018 to 2017.</p>", "body_text": "I have found a workaround. I created a local directory named manual-download, and copied into it 3 files which bazel had been unable to download:\ncurl-7.49.1.tar.gz  license.txt  zlib-1.2.11.tar.gz\nI verified that the file hashes were consistent with workspace.bzl. I then ran:\nbazel fetch --experimental_distdir manual-download //tensorflow/tools/pip_package:build_pip_package\nThis worked. After that, I was able to build tensorflow with:\nbazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nNote that getting license.txt was itself a problem. The path to the file, from workspace.bzl, is:\nhttps://docs.python.org/2.7/_sources/license.txt\nHowever, there is no such filename - you get a 404 error. Instead, download this:\nhttps://docs.python.org/2.7/_sources/license.rst.txt\nSo, download the file and rename it to license.txt. The next problem you'll see is that the file hash is wrong - it doesn't match the file hash in workspace.bzl. The issue is that you have to edit the file, and change the year from 2018 to 2017.", "body": "I have found a workaround. I created a local directory named manual-download, and copied into it 3 files which bazel had been unable to download:\r\n\r\ncurl-7.49.1.tar.gz  license.txt  zlib-1.2.11.tar.gz\r\n\r\nI verified that the file hashes were consistent with workspace.bzl. I then ran:\r\n\r\n  bazel fetch --experimental_distdir manual-download //tensorflow/tools/pip_package:build_pip_package\r\n\r\nThis worked. After that, I was able to build tensorflow with:\r\n\r\n  bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\nNote that getting license.txt was itself a problem. The path to the file, from workspace.bzl, is:\r\n\r\n  https://docs.python.org/2.7/_sources/license.txt\r\n\r\nHowever, there is no such filename - you get a 404 error. Instead, download this:\r\n\r\n  https://docs.python.org/2.7/_sources/license.rst.txt\r\n\r\nSo, download the file and rename it to license.txt. The next problem you'll see is that the file hash is wrong - it doesn't match the file hash in workspace.bzl. The issue is that you have to edit the file, and change the year from 2018 to 2017."}