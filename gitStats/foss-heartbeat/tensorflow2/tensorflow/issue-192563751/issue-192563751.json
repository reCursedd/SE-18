{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5977", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5977/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5977/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5977/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5977", "id": 192563751, "node_id": "MDU6SXNzdWUxOTI1NjM3NTE=", "number": 5977, "title": "split_v generates tensors of unspecified size for all dimensions, when one dimension is missing at the original one", "user": {"login": "moliusimon", "id": 14299026, "node_id": "MDQ6VXNlcjE0Mjk5MDI2", "avatar_url": "https://avatars3.githubusercontent.com/u/14299026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moliusimon", "html_url": "https://github.com/moliusimon", "followers_url": "https://api.github.com/users/moliusimon/followers", "following_url": "https://api.github.com/users/moliusimon/following{/other_user}", "gists_url": "https://api.github.com/users/moliusimon/gists{/gist_id}", "starred_url": "https://api.github.com/users/moliusimon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moliusimon/subscriptions", "organizations_url": "https://api.github.com/users/moliusimon/orgs", "repos_url": "https://api.github.com/users/moliusimon/repos", "events_url": "https://api.github.com/users/moliusimon/events{/privacy}", "received_events_url": "https://api.github.com/users/moliusimon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-11-30T13:20:35Z", "updated_at": "2017-02-09T22:36:12Z", "closed_at": "2016-12-15T22:48:19Z", "author_association": "NONE", "body_html": "<p>The new split_v function introduced in 0.12rc0 does not correctly predict the shapes of the resulting tensors when the original tensor has an unknown dimension, resulting on the split dimension being of unknown size. For instance:</p>\n<pre><code>tensor = tf.placeholder(tf.float32, [None, 12])\nparts = tf.split_v(tensor, [6, 4, 2], split_dim=1)\n</code></pre>\n<p>This results in three tensors, all with shapes [?, ?], instead of the expected [?, 6], [?, 4] and [?, 2]. While at runtime the resulting tensors are of the right size, this makes it more difficult to debug the code during graph definition.</p>\n<p>EDIT: This also creates problems when combined with scan. Because scan expects fn to return tensors of the same shape as the initializers, it forces the use of a reshape just to clear the 'unknown' dimension.</p>", "body_text": "The new split_v function introduced in 0.12rc0 does not correctly predict the shapes of the resulting tensors when the original tensor has an unknown dimension, resulting on the split dimension being of unknown size. For instance:\ntensor = tf.placeholder(tf.float32, [None, 12])\nparts = tf.split_v(tensor, [6, 4, 2], split_dim=1)\n\nThis results in three tensors, all with shapes [?, ?], instead of the expected [?, 6], [?, 4] and [?, 2]. While at runtime the resulting tensors are of the right size, this makes it more difficult to debug the code during graph definition.\nEDIT: This also creates problems when combined with scan. Because scan expects fn to return tensors of the same shape as the initializers, it forces the use of a reshape just to clear the 'unknown' dimension.", "body": "The new split_v function introduced in 0.12rc0 does not correctly predict the shapes of the resulting tensors when the original tensor has an unknown dimension, resulting on the split dimension being of unknown size. For instance:\r\n\r\n```\r\ntensor = tf.placeholder(tf.float32, [None, 12])\r\nparts = tf.split_v(tensor, [6, 4, 2], split_dim=1)\r\n```\r\n\r\nThis results in three tensors, all with shapes [?, ?], instead of the expected [?, 6], [?, 4] and [?, 2]. While at runtime the resulting tensors are of the right size, this makes it more difficult to debug the code during graph definition.\r\n\r\nEDIT: This also creates problems when combined with scan. Because scan expects fn to return tensors of the same shape as the initializers, it forces the use of a reshape just to clear the 'unknown' dimension."}