{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/264323577", "html_url": "https://github.com/tensorflow/tensorflow/issues/5977#issuecomment-264323577", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5977", "id": 264323577, "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDMyMzU3Nw==", "user": {"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}, "created_at": "2016-12-01T23:06:39Z", "updated_at": "2016-12-01T23:26:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Shape inference is done in C++, not python, and at that point everything is a tensor and it is not possible to inspect the contents of tensors during shape inference.  So, in general, it is not possible to provide any better shape information beyond the rank.</p>\n<p>That said, we can hack the python interface to check if the size list is a list of integers and not a tensor and then reshape the outputs correctly.  Is that your use case?  Or do you generate the size list dynamically?  Because if it is dynamically generated, there is no way to do the shape inference that you want.</p>\n<p>*By dynamically, I mean as part of the TF graph.</p>", "body_text": "Shape inference is done in C++, not python, and at that point everything is a tensor and it is not possible to inspect the contents of tensors during shape inference.  So, in general, it is not possible to provide any better shape information beyond the rank.\nThat said, we can hack the python interface to check if the size list is a list of integers and not a tensor and then reshape the outputs correctly.  Is that your use case?  Or do you generate the size list dynamically?  Because if it is dynamically generated, there is no way to do the shape inference that you want.\n*By dynamically, I mean as part of the TF graph.", "body": "Shape inference is done in C++, not python, and at that point everything is a tensor and it is not possible to inspect the contents of tensors during shape inference.  So, in general, it is not possible to provide any better shape information beyond the rank.\r\n\r\nThat said, we can hack the python interface to check if the size list is a list of integers and not a tensor and then reshape the outputs correctly.  Is that your use case?  Or do you generate the size list dynamically?  Because if it is dynamically generated, there is no way to do the shape inference that you want.\r\n\r\n*By dynamically, I mean as part of the TF graph."}