{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19798", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19798/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19798/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19798/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19798", "id": 329781003, "node_id": "MDU6SXNzdWUzMjk3ODEwMDM=", "number": 19798, "title": "tflite toco build failed in version of 3daa07aa2dde379388beb2a557a78bc5dd1b86ba", "user": {"login": "wenhui7909", "id": 29617697, "node_id": "MDQ6VXNlcjI5NjE3Njk3", "avatar_url": "https://avatars1.githubusercontent.com/u/29617697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wenhui7909", "html_url": "https://github.com/wenhui7909", "followers_url": "https://api.github.com/users/wenhui7909/followers", "following_url": "https://api.github.com/users/wenhui7909/following{/other_user}", "gists_url": "https://api.github.com/users/wenhui7909/gists{/gist_id}", "starred_url": "https://api.github.com/users/wenhui7909/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wenhui7909/subscriptions", "organizations_url": "https://api.github.com/users/wenhui7909/orgs", "repos_url": "https://api.github.com/users/wenhui7909/repos", "events_url": "https://api.github.com/users/wenhui7909/events{/privacy}", "received_events_url": "https://api.github.com/users/wenhui7909/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-06-06T09:08:58Z", "updated_at": "2018-06-11T01:45:58Z", "closed_at": "2018-06-07T09:30:44Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>Have I written custom code : No</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 17.10</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: tensorflow 1.8</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.13.0</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: 6.4</li>\n<li><strong>CUDA/cuDNN version</strong>: None</li>\n<li><strong>GPU model and memory</strong>: GeForce GTX 750</li>\n<li><strong>Exact command to reproduce</strong>: tensorflow code :<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/3daa07aa2dde379388beb2a557a78bc5dd1b86ba/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/3daa07aa2dde379388beb2a557a78bc5dd1b86ba\"><tt>3daa07a</tt></a><br>\nAuthor: Courtial Florian <a href=\"mailto:floriancourtial@gmail.com\">floriancourtial@gmail.com</a><br>\nDate:   Wed Jun 6 01:02:07 2018 +0200<br>\nAdd C++ no gradient for Floor operation. (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"328029354\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/19662\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/tensorflow/tensorflow/pull/19662/hovercard\" href=\"https://github.com/tensorflow/tensorflow/pull/19662\">#19662</a>)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>Use cmd below:<br>\nbazel build --config android_arm --cxxopt=-std=c++11  //tensorflow/contrib/lite/toco:toco   --config monolithic</p>\n<p>My WORKSPACE as below:<br>\nWORKSPACE</p>\n<p>android_sdk_repository(<br>\nname = \"androidsdk\",<br>\napi_level = 22,<br>\n# Ensure that you have the build_tools_version below installed in the<br>\n# SDK manager as it updates periodically.<br>\nbuild_tools_version = \"27.0.3\",<br>\n# Replace with path to Android SDK on your system<br>\npath = \"/home/hwh/Android/Sdk\",<br>\n)</p>\n<p>android_ndk_repository(<br>\nname=\"androidndk\",<br>\npath=\"/home/hwh/Android/Ndk/android-ndk-r14b\",<br>\n# This needs to be 14 or higher to compile TensorFlow.<br>\n# Please specify API level &gt;= 21 to build for 64-bit architecture<br>\n# otherwise the Android NDK will automatically select the latest<br>\n# API level it does support without notice.<br>\n# Note that the NDK version is not the API level.<br>\napi_level=14)</p>\n<p>build failed as below:<br>\nINFO: Found 1 target...<br>\nERROR: /home/hwh/.cache/bazel/_bazel_hwh/a5d93fc2a8e4cfbb4b042a3b705d2c38/external/gif_archive/BUILD.bazel:8:1: C++ compilation of rule '@gif_archive//:gif' failed (Exit 1)<br>\nexternal/gif_archive/lib/openbsd-reallocarray.c:33:19: error: use of undeclared identifier 'SIZE_MAX'<br>\nnmemb &gt; 0 &amp;&amp; SIZE_MAX / nmemb &lt; size) {<br>\n^<br>\n1 error generated.<br>\nTarget //tensorflow/contrib/lite/toco:toco failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 167.962s, Critical Path: 29.34s<br>\nINFO: 374 processes, local.<br>\nFAILED: Build did NOT complete successfully</p>", "body_text": "System information\n\nHave I written custom code : No\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 17.10\nTensorFlow installed from (source or binary): binary\nTensorFlow version (use command below): tensorflow 1.8\nPython version: 2.7\nBazel version (if compiling from source): 0.13.0\nGCC/Compiler version (if compiling from source): 6.4\nCUDA/cuDNN version: None\nGPU model and memory: GeForce GTX 750\nExact command to reproduce: tensorflow code :\ncommit 3daa07a\nAuthor: Courtial Florian floriancourtial@gmail.com\nDate:   Wed Jun 6 01:02:07 2018 +0200\nAdd C++ no gradient for Floor operation. (#19662)\n\nDescribe the problem\nUse cmd below:\nbazel build --config android_arm --cxxopt=-std=c++11  //tensorflow/contrib/lite/toco:toco   --config monolithic\nMy WORKSPACE as below:\nWORKSPACE\nandroid_sdk_repository(\nname = \"androidsdk\",\napi_level = 22,\n# Ensure that you have the build_tools_version below installed in the\n# SDK manager as it updates periodically.\nbuild_tools_version = \"27.0.3\",\n# Replace with path to Android SDK on your system\npath = \"/home/hwh/Android/Sdk\",\n)\nandroid_ndk_repository(\nname=\"androidndk\",\npath=\"/home/hwh/Android/Ndk/android-ndk-r14b\",\n# This needs to be 14 or higher to compile TensorFlow.\n# Please specify API level >= 21 to build for 64-bit architecture\n# otherwise the Android NDK will automatically select the latest\n# API level it does support without notice.\n# Note that the NDK version is not the API level.\napi_level=14)\nbuild failed as below:\nINFO: Found 1 target...\nERROR: /home/hwh/.cache/bazel/_bazel_hwh/a5d93fc2a8e4cfbb4b042a3b705d2c38/external/gif_archive/BUILD.bazel:8:1: C++ compilation of rule '@gif_archive//:gif' failed (Exit 1)\nexternal/gif_archive/lib/openbsd-reallocarray.c:33:19: error: use of undeclared identifier 'SIZE_MAX'\nnmemb > 0 && SIZE_MAX / nmemb < size) {\n^\n1 error generated.\nTarget //tensorflow/contrib/lite/toco:toco failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 167.962s, Critical Path: 29.34s\nINFO: 374 processes, local.\nFAILED: Build did NOT complete successfully", "body": "### System information\r\n- Have I written custom code : No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 17.10\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: tensorflow 1.8\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.13.0\r\n- **GCC/Compiler version (if compiling from source)**: 6.4\r\n- **CUDA/cuDNN version**: None\r\n- **GPU model and memory**: GeForce GTX 750\r\n- **Exact command to reproduce**: tensorflow code :\r\n commit 3daa07aa2dde379388beb2a557a78bc5dd1b86ba\r\nAuthor: Courtial Florian <floriancourtial@gmail.com>\r\nDate:   Wed Jun 6 01:02:07 2018 +0200\r\n    Add C++ no gradient for Floor operation. (#19662)\r\n\r\n### Describe the problem\r\nUse cmd below: \r\nbazel build --config android_arm --cxxopt=-std=c++11  //tensorflow/contrib/lite/toco:toco   --config monolithic\r\n\r\nMy WORKSPACE as below:\r\nWORKSPACE\r\n\r\nandroid_sdk_repository(\r\n    name = \"androidsdk\",\r\n    api_level = 22,\r\n    # Ensure that you have the build_tools_version below installed in the\r\n    # SDK manager as it updates periodically.\r\n    build_tools_version = \"27.0.3\",\r\n    # Replace with path to Android SDK on your system\r\n    path = \"/home/hwh/Android/Sdk\",\r\n)\r\n\r\nandroid_ndk_repository(\r\n    name=\"androidndk\",\r\n    path=\"/home/hwh/Android/Ndk/android-ndk-r14b\",\r\n    # This needs to be 14 or higher to compile TensorFlow.\r\n    # Please specify API level >= 21 to build for 64-bit architecture\r\n    # otherwise the Android NDK will automatically select the latest\r\n    # API level it does support without notice.\r\n    # Note that the NDK version is not the API level.\r\n    api_level=14)\r\n\r\nbuild failed as below:\r\nINFO: Found 1 target...\r\nERROR: /home/hwh/.cache/bazel/_bazel_hwh/a5d93fc2a8e4cfbb4b042a3b705d2c38/external/gif_archive/BUILD.bazel:8:1: C++ compilation of rule '@gif_archive//:gif' failed (Exit 1)\r\nexternal/gif_archive/lib/openbsd-reallocarray.c:33:19: error: use of undeclared identifier 'SIZE_MAX'\r\n            nmemb > 0 && SIZE_MAX / nmemb < size) {\r\n                         ^\r\n1 error generated.\r\nTarget //tensorflow/contrib/lite/toco:toco failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 167.962s, Critical Path: 29.34s\r\nINFO: 374 processes, local.\r\nFAILED: Build did NOT complete successfully\r\n\r\n\r\n\r\n\r\n\r\n"}