{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/234216911", "html_url": "https://github.com/tensorflow/tensorflow/issues/1924#issuecomment-234216911", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1924", "id": 234216911, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDIxNjkxMQ==", "user": {"login": "chenbiaolong", "id": 9475734, "node_id": "MDQ6VXNlcjk0NzU3MzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9475734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenbiaolong", "html_url": "https://github.com/chenbiaolong", "followers_url": "https://api.github.com/users/chenbiaolong/followers", "following_url": "https://api.github.com/users/chenbiaolong/following{/other_user}", "gists_url": "https://api.github.com/users/chenbiaolong/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenbiaolong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenbiaolong/subscriptions", "organizations_url": "https://api.github.com/users/chenbiaolong/orgs", "repos_url": "https://api.github.com/users/chenbiaolong/repos", "events_url": "https://api.github.com/users/chenbiaolong/events{/privacy}", "received_events_url": "https://api.github.com/users/chenbiaolong/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-21T10:31:57Z", "updated_at": "2016-07-21T10:31:57Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1620663\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ilaripih\">@ilaripih</a></p>\n<pre><code># -------------------------------------------\n# New rules should be added above this target.\n# -------------------------------------------\ncc_binary(\n    name = \"libtensorflow.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n\ncc_binary(\n    name = \"libtensorflow_cc.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/cc:cc_ops\",\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n</code></pre>\n<p>I use <code>copts</code> instead of <code>linkopts</code> because when I use <code>linkopts</code> I got an error <code>gcc: error: unrecognized command line option '--version-script=tensorflow/tf_version_script.lds'</code><br>\nI <code>bazal clean</code> before build the <code>tensorflow.so</code>,but still no make any different.</p>", "body_text": "@ilaripih\n# -------------------------------------------\n# New rules should be added above this target.\n# -------------------------------------------\ncc_binary(\n    name = \"libtensorflow.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n\ncc_binary(\n    name = \"libtensorflow_cc.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/cc:cc_ops\",\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n\nI use copts instead of linkopts because when I use linkopts I got an error gcc: error: unrecognized command line option '--version-script=tensorflow/tf_version_script.lds'\nI bazal clean before build the tensorflow.so,but still no make any different.", "body": "@ilaripih \n\n```\n# -------------------------------------------\n# New rules should be added above this target.\n# -------------------------------------------\ncc_binary(\n    name = \"libtensorflow.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n\ncc_binary(\n    name = \"libtensorflow_cc.so\",\n    linkshared = 1,\n    copts = [\"-Wl, --version-script=tensorflow/tf_version_script.lds\"],\n    deps = [\n        \"//tensorflow/cc:cc_ops\",\n        \"//tensorflow/core:tensorflow\",\n    ],\n)\n```\n\nI use `copts` instead of `linkopts` because when I use `linkopts` I got an error `gcc: error: unrecognized command line option '--version-script=tensorflow/tf_version_script.lds'`\nI `bazal clean` before build the `tensorflow.so`,but still no make any different.\n"}