{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/417954827", "html_url": "https://github.com/tensorflow/tensorflow/issues/21921#issuecomment-417954827", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21921", "id": 417954827, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzk1NDgyNw==", "user": {"login": "YijinLiu", "id": 10109708, "node_id": "MDQ6VXNlcjEwMTA5NzA4", "avatar_url": "https://avatars1.githubusercontent.com/u/10109708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YijinLiu", "html_url": "https://github.com/YijinLiu", "followers_url": "https://api.github.com/users/YijinLiu/followers", "following_url": "https://api.github.com/users/YijinLiu/following{/other_user}", "gists_url": "https://api.github.com/users/YijinLiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/YijinLiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YijinLiu/subscriptions", "organizations_url": "https://api.github.com/users/YijinLiu/orgs", "repos_url": "https://api.github.com/users/YijinLiu/repos", "events_url": "https://api.github.com/users/YijinLiu/events{/privacy}", "received_events_url": "https://api.github.com/users/YijinLiu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-02T19:40:04Z", "updated_at": "2018-09-02T19:40:04Z", "author_association": "NONE", "body_html": "<p>I also noticed that tflite produces worse results. I am not sure it's that huge (75 VS 45) though.<br>\nThe commands I used to convert to tflite are:</p>\n<p>tf_models/research/object_detection/export_tflite_ssd_graph.py <br>\n--pipeline_config_path=data/gen/coco/ssdlite_mobilenet_v2.config <br>\n--trained_checkpoint_prefix=data/gen/coco/ssdlite_mobilenet_v2/model.ckpt-66366 <br>\n--output_directory=data/gen/coco/ssdlite_mobilenet_v2_exported --add_postprocessing_op=true</p>\n<p>bazel run --config=opt tensorflow/contrib/lite/toco:toco -- --input_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/tflite_graph.pb --output_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/detect.tflite --input_shapes=1,300,300,3 --input_arrays=normalized_input_image_tensor --output_arrays=TFLite_Detection_PostProcess,TFLite_Detection_PostProcess:1,TFLite_Detection_PostProcess:2,TFLite_Detection_PostProcess:3 --inference_type=FLOAT --allow_custom_ops</p>", "body_text": "I also noticed that tflite produces worse results. I am not sure it's that huge (75 VS 45) though.\nThe commands I used to convert to tflite are:\ntf_models/research/object_detection/export_tflite_ssd_graph.py \n--pipeline_config_path=data/gen/coco/ssdlite_mobilenet_v2.config \n--trained_checkpoint_prefix=data/gen/coco/ssdlite_mobilenet_v2/model.ckpt-66366 \n--output_directory=data/gen/coco/ssdlite_mobilenet_v2_exported --add_postprocessing_op=true\nbazel run --config=opt tensorflow/contrib/lite/toco:toco -- --input_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/tflite_graph.pb --output_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/detect.tflite --input_shapes=1,300,300,3 --input_arrays=normalized_input_image_tensor --output_arrays=TFLite_Detection_PostProcess,TFLite_Detection_PostProcess:1,TFLite_Detection_PostProcess:2,TFLite_Detection_PostProcess:3 --inference_type=FLOAT --allow_custom_ops", "body": "I also noticed that tflite produces worse results. I am not sure it's that huge (75 VS 45) though.\r\nThe commands I used to convert to tflite are:\r\n\r\ntf_models/research/object_detection/export_tflite_ssd_graph.py \\\r\n    --pipeline_config_path=data/gen/coco/ssdlite_mobilenet_v2.config \\\r\n    --trained_checkpoint_prefix=data/gen/coco/ssdlite_mobilenet_v2/model.ckpt-66366 \\\r\n    --output_directory=data/gen/coco/ssdlite_mobilenet_v2_exported --add_postprocessing_op=true\r\n\r\nbazel run --config=opt tensorflow/contrib/lite/toco:toco -- --input_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/tflite_graph.pb --output_file=/home/chao/projects/tf-object-detect/train/data/gen/coco/ssdlite_mobilenet_v2_exported/detect.tflite --input_shapes=1,300,300,3 --input_arrays=normalized_input_image_tensor --output_arrays=TFLite_Detection_PostProcess,TFLite_Detection_PostProcess:1,TFLite_Detection_PostProcess:2,TFLite_Detection_PostProcess:3 --inference_type=FLOAT --allow_custom_ops\r\n"}