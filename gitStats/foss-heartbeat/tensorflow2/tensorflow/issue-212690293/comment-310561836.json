{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/310561836", "html_url": "https://github.com/tensorflow/tensorflow/issues/8191#issuecomment-310561836", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8191", "id": 310561836, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDU2MTgzNg==", "user": {"login": "Miopas", "id": 10841135, "node_id": "MDQ6VXNlcjEwODQxMTM1", "avatar_url": "https://avatars3.githubusercontent.com/u/10841135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Miopas", "html_url": "https://github.com/Miopas", "followers_url": "https://api.github.com/users/Miopas/followers", "following_url": "https://api.github.com/users/Miopas/following{/other_user}", "gists_url": "https://api.github.com/users/Miopas/gists{/gist_id}", "starred_url": "https://api.github.com/users/Miopas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Miopas/subscriptions", "organizations_url": "https://api.github.com/users/Miopas/orgs", "repos_url": "https://api.github.com/users/Miopas/repos", "events_url": "https://api.github.com/users/Miopas/events{/privacy}", "received_events_url": "https://api.github.com/users/Miopas/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-23T03:30:15Z", "updated_at": "2017-06-23T03:30:15Z", "author_association": "NONE", "body_html": "<p>I also met the error caused by <code>copy.deepcopy(cell)</code> in <code>embedding_attention_seq2seq()</code> when running <code>self_test()</code> in the translate model in tutorial.<br>\nI tried to change the codes in <code>seq2seq_f()</code> in <code>Seq2SeqModel</code> as follows:</p>\n<pre><code>    def seq2seq_f(encoder_inputs, decoder_inputs, do_decode=False):\n        tmp_cell = copy.deepcopy(cell) #new\n        return tf.contrib.legacy_seq2seq.embedding_attention_seq2seq(\n            encoder_inputs,\n            decoder_inputs,\n            tmp_cell, #new\n            num_encoder_symbols=source_vocab_size,\n            num_decoder_symbols=target_vocab_size,\n            embedding_size=size,\n            output_projection=output_projection,\n            feed_previous=do_decode,\n            dtype=dtype)\n</code></pre>\n<p>Then there is no error now.<br>\nBUT as a rookie I don't know whether the codes here work as before and it seems the changes make the model run slower.</p>", "body_text": "I also met the error caused by copy.deepcopy(cell) in embedding_attention_seq2seq() when running self_test() in the translate model in tutorial.\nI tried to change the codes in seq2seq_f() in Seq2SeqModel as follows:\n    def seq2seq_f(encoder_inputs, decoder_inputs, do_decode=False):\n        tmp_cell = copy.deepcopy(cell) #new\n        return tf.contrib.legacy_seq2seq.embedding_attention_seq2seq(\n            encoder_inputs,\n            decoder_inputs,\n            tmp_cell, #new\n            num_encoder_symbols=source_vocab_size,\n            num_decoder_symbols=target_vocab_size,\n            embedding_size=size,\n            output_projection=output_projection,\n            feed_previous=do_decode,\n            dtype=dtype)\n\nThen there is no error now.\nBUT as a rookie I don't know whether the codes here work as before and it seems the changes make the model run slower.", "body": "I also met the error caused by `copy.deepcopy(cell)` in `embedding_attention_seq2seq()` when running `self_test()` in the translate model in tutorial. \r\nI tried to change the codes in `seq2seq_f()` in `Seq2SeqModel` as follows:\r\n\r\n```\r\n    def seq2seq_f(encoder_inputs, decoder_inputs, do_decode=False):\r\n        tmp_cell = copy.deepcopy(cell) #new\r\n        return tf.contrib.legacy_seq2seq.embedding_attention_seq2seq(\r\n            encoder_inputs,\r\n            decoder_inputs,\r\n            tmp_cell, #new\r\n            num_encoder_symbols=source_vocab_size,\r\n            num_decoder_symbols=target_vocab_size,\r\n            embedding_size=size,\r\n            output_projection=output_projection,\r\n            feed_previous=do_decode,\r\n            dtype=dtype)\r\n```\r\nThen there is no error now.\r\nBUT as a rookie I don't know whether the codes here work as before and it seems the changes make the model run slower.\r\n"}