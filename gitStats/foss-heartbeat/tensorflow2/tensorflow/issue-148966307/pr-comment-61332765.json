{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/61332765", "pull_request_review_id": null, "id": 61332765, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMzMyNzY1", "diff_hunk": "@@ -0,0 +1,19 @@\n+# Libraries and Kernels for RNNs.\n+\n+licenses([\"notice\"])  # Apache 2.0\n+\n+exports_files([\"LICENSE\"])\n+\n+package(default_visibility = [\"//tensorflow:__subpackages__\"])\n+\n+load(\"//tensorflow:tensorflow.bzl\", \"tf_kernel_library\")\n+\n+tf_kernel_library(\n+    name = \"lstm_ops\",\n+    prefix = \"lstm\",\n+    deps = [\n+        \"//tensorflow/contrib/rnn:lstm_ops_op_lib\",\n+        \"//tensorflow/core:framework\",", "path": "tensorflow/contrib/rnn/kernels/BUILD", "position": null, "original_position": 16, "commit_id": "258144b98730f99489437f6963737480be4f5a43", "original_commit_id": "0f118cf87eb7cfaeefe6c50831a5324d2cd8bfbb", "user": {"login": "wchan", "id": 1131892, "node_id": "MDQ6VXNlcjExMzE4OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1131892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wchan", "html_url": "https://github.com/wchan", "followers_url": "https://api.github.com/users/wchan/followers", "following_url": "https://api.github.com/users/wchan/following{/other_user}", "gists_url": "https://api.github.com/users/wchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/wchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wchan/subscriptions", "organizations_url": "https://api.github.com/users/wchan/orgs", "repos_url": "https://api.github.com/users/wchan/repos", "events_url": "https://api.github.com/users/wchan/events{/privacy}", "received_events_url": "https://api.github.com/users/wchan/received_events", "type": "User", "site_admin": false}, "body": "thanks for reply!\n\nsorry. i dont have my laptop w me. but i was under impression cc_library can not deal w gpu srces?\n\nie, my kernel has cuda code.\n\nthanks\n\n> On Apr 27, 2016, at 1:36 PM, Manjunath Kudlur notifications@github.com wrote:\n> \n> In tensorflow/contrib/rnn/kernels/BUILD:\n> \n> > +# Libraries and Kernels for RNNs.\n> > +\n> > +licenses([\"notice\"])  # Apache 2.0\n> > +\n> > +exports_files([\"LICENSE\"])\n> > +\n> > +package(default_visibility = [\"//tensorflow:**subpackages**\"])\n> > +\n> > +load(\"//tensorflow:tensorflow.bzl\", \"tf_kernel_library\")\n> > +\n> > +tf_kernel_library(\n> > -    name = \"lstm_ops\",\n> > -    prefix = \"lstm\",\n> > -    deps = [\n> > -        \"//tensorflow/contrib/rnn:lstm_ops_op_lib\",\n> > -        \"//tensorflow/core:framework\",\n> >   Unfortunately, tf_gen_op_libs adds core:framework to deps. I replaced the call to tf_gen_op_libs with this :\n> \n> cc_library(\n>   name = \"lstm_ops_op_lib\",\n>   srcs = [\"ops/lstm_ops.cc\"],\n>   copts = tf_copts(),\n>   deps=([\"//tensorflow/core:framework_headers_lib\", \"//google/protobuf\"]),\n>   alwayslink=1,\n>   linkstatic=1,\n>  )\n> Also, tf_kernel_library brings in core:framework too :( You have to change that to a cc_library. Sorry about the issues. Things are moving fast, and I have to run as fast as I can even to stay in the same place.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n", "created_at": "2016-04-27T20:46:11Z", "updated_at": "2016-05-18T21:31:18Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/2002#discussion_r61332765", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2002", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/61332765"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/2002#discussion_r61332765"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/2002"}}, "body_html": "<p>thanks for reply!</p>\n<p>sorry. i dont have my laptop w me. but i was under impression cc_library can not deal w gpu srces?</p>\n<p>ie, my kernel has cuda code.</p>\n<p>thanks</p>\n<blockquote>\n<p>On Apr 27, 2016, at 1:36 PM, Manjunath Kudlur <a href=\"mailto:notifications@github.com\">notifications@github.com</a> wrote:</p>\n<p>In tensorflow/contrib/rnn/kernels/BUILD:</p>\n<blockquote>\n<p>+# Libraries and Kernels for RNNs.<br>\n+<br>\n+licenses([\"notice\"])  # Apache 2.0<br>\n+<br>\n+exports_files([\"LICENSE\"])<br>\n+<br>\n+package(default_visibility = [\"//tensorflow:<strong>subpackages</strong>\"])<br>\n+<br>\n+load(\"//tensorflow:tensorflow.bzl\", \"tf_kernel_library\")<br>\n+<br>\n+tf_kernel_library(</p>\n<ul>\n<li>name = \"lstm_ops\",</li>\n<li>prefix = \"lstm\",</li>\n<li>deps = [</li>\n<li>\n<pre><code>   \"//tensorflow/contrib/rnn:lstm_ops_op_lib\",\n</code></pre>\n</li>\n<li>\n<pre><code>   \"//tensorflow/core:framework\",\n</code></pre>\nUnfortunately, tf_gen_op_libs adds core:framework to deps. I replaced the call to tf_gen_op_libs with this :</li>\n</ul>\n</blockquote>\n<p>cc_library(<br>\nname = \"lstm_ops_op_lib\",<br>\nsrcs = [\"ops/lstm_ops.cc\"],<br>\ncopts = tf_copts(),<br>\ndeps=([\"//tensorflow/core:framework_headers_lib\", \"//google/protobuf\"]),<br>\nalwayslink=1,<br>\nlinkstatic=1,<br>\n)<br>\nAlso, tf_kernel_library brings in core:framework too :( You have to change that to a cc_library. Sorry about the issues. Things are moving fast, and I have to run as fast as I can even to stay in the same place.</p>\n<p>\u2014<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly or view it on GitHub</p>\n</blockquote>", "body_text": "thanks for reply!\nsorry. i dont have my laptop w me. but i was under impression cc_library can not deal w gpu srces?\nie, my kernel has cuda code.\nthanks\n\nOn Apr 27, 2016, at 1:36 PM, Manjunath Kudlur notifications@github.com wrote:\nIn tensorflow/contrib/rnn/kernels/BUILD:\n\n+# Libraries and Kernels for RNNs.\n+\n+licenses([\"notice\"])  # Apache 2.0\n+\n+exports_files([\"LICENSE\"])\n+\n+package(default_visibility = [\"//tensorflow:subpackages\"])\n+\n+load(\"//tensorflow:tensorflow.bzl\", \"tf_kernel_library\")\n+\n+tf_kernel_library(\n\nname = \"lstm_ops\",\nprefix = \"lstm\",\ndeps = [\n\n   \"//tensorflow/contrib/rnn:lstm_ops_op_lib\",\n\n\n\n   \"//tensorflow/core:framework\",\n\nUnfortunately, tf_gen_op_libs adds core:framework to deps. I replaced the call to tf_gen_op_libs with this :\n\n\ncc_library(\nname = \"lstm_ops_op_lib\",\nsrcs = [\"ops/lstm_ops.cc\"],\ncopts = tf_copts(),\ndeps=([\"//tensorflow/core:framework_headers_lib\", \"//google/protobuf\"]),\nalwayslink=1,\nlinkstatic=1,\n)\nAlso, tf_kernel_library brings in core:framework too :( You have to change that to a cc_library. Sorry about the issues. Things are moving fast, and I have to run as fast as I can even to stay in the same place.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub"}