{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158658646", "pull_request_review_id": 85500322, "id": 158658646, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODY1ODY0Ng==", "diff_hunk": "@@ -240,6 +285,8 @@ S3FileSystem::S3FileSystem() {\n S3FileSystem::~S3FileSystem() {\n   Aws::SDKOptions options;\n   Aws::ShutdownAPI(options);\n+\n+  Aws::Utils::Logging::ShutdownAWSLogging();", "path": "tensorflow/core/platform/s3/s3_file_system.cc", "position": null, "original_position": 81, "commit_id": "7de08bfbeb4cbfef4113e5e8a745c31aad29f64e", "original_commit_id": "3b97063ace9ff18c63341f5e05a83db1d29044dd", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "body": "OK, it doesn't looks like there is. Also, the ShutdownAPI is a global call of similar nature. That's not great.\r\n\r\nCould we have the InitializeAWSLogging and ShutdownAWSLogging exposed as static functions in S3Logging? At least we can control behavior from there. If there are multiple users, we could ref count them so that the shutdown is called only once globally.", "created_at": "2017-12-26T01:36:55Z", "updated_at": "2017-12-29T23:25:55Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/15493#discussion_r158658646", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15493", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/158658646"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/15493#discussion_r158658646"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15493"}}, "body_html": "<p>OK, it doesn't looks like there is. Also, the ShutdownAPI is a global call of similar nature. That's not great.</p>\n<p>Could we have the InitializeAWSLogging and ShutdownAWSLogging exposed as static functions in S3Logging? At least we can control behavior from there. If there are multiple users, we could ref count them so that the shutdown is called only once globally.</p>", "body_text": "OK, it doesn't looks like there is. Also, the ShutdownAPI is a global call of similar nature. That's not great.\nCould we have the InitializeAWSLogging and ShutdownAWSLogging exposed as static functions in S3Logging? At least we can control behavior from there. If there are multiple users, we could ref count them so that the shutdown is called only once globally.", "in_reply_to_id": 158613232}