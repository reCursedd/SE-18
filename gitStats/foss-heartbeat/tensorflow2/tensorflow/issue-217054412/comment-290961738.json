{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/290961738", "html_url": "https://github.com/tensorflow/tensorflow/issues/8726#issuecomment-290961738", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8726", "id": 290961738, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDk2MTczOA==", "user": {"login": "BKJackson", "id": 1946913, "node_id": "MDQ6VXNlcjE5NDY5MTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1946913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BKJackson", "html_url": "https://github.com/BKJackson", "followers_url": "https://api.github.com/users/BKJackson/followers", "following_url": "https://api.github.com/users/BKJackson/following{/other_user}", "gists_url": "https://api.github.com/users/BKJackson/gists{/gist_id}", "starred_url": "https://api.github.com/users/BKJackson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BKJackson/subscriptions", "organizations_url": "https://api.github.com/users/BKJackson/orgs", "repos_url": "https://api.github.com/users/BKJackson/repos", "events_url": "https://api.github.com/users/BKJackson/events{/privacy}", "received_events_url": "https://api.github.com/users/BKJackson/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-02T03:12:22Z", "updated_at": "2017-04-02T03:12:22Z", "author_association": "NONE", "body_html": "<p>I ran into a possibly similar memory problem with label_image.py.  It worked correctly on the first run, but every run after that crashed with memory error.</p>\n<p>Here is the error output:<br>\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ************************************************************************************xxxxxxxxxxxxxxxx<br>\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 1.5KiB.  See logs for memory state.<br>\nW tensorflow/core/framework/op_kernel.cc:965] Internal: Dst tensor is not initialized.<br>\nE tensorflow/core/common_runtime/executor.cc:390] Executor failed to create kernel. Internal: Dst tensor is not initialized.<br>\n[[Node: mixed_3/conv/batchnorm/beta = Const<a href=\"\">dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...&gt;, _device=\"/job:localhost/replica:0/task:0/gpu:0\"</a>]]<br>\nTraceback (most recent call last):<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1021, in _do_call<br>\nreturn fn(*args)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1003, in _run_fn<br>\nstatus, run_metadata)<br>\nFile \"/Applications/anaconda/lib/python3.5/contextlib.py\", line 66, in <strong>exit</strong><br>\nnext(self.gen)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py\", line 469, in raise_exception_on_not_ok_status<br>\npywrap_tensorflow.TF_GetCode(status))<br>\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.<br>\n[[Node: mixed_3/conv/batchnorm/beta = Const<a href=\"\">dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...&gt;, _device=\"/job:localhost/replica:0/task:0/gpu:0\"</a>]]</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"tf_files/label_image.py\", line 22, in <br>\npredictions = sess.run(softmax_tensor, {'DecodeJpeg/contents:0': image_data})<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 766, in run<br>\nrun_metadata_ptr)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 964, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.<br>\n[[Node: mixed_3/conv/batchnorm/beta = Const<a href=\"\">dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...&gt;, _device=\"/job:localhost/replica:0/task:0/gpu:0\"</a>]]</p>\n<p>Caused by op 'mixed_3/conv/batchnorm/beta', defined at:<br>\nFile \"tf_files/label_image.py\", line 16, in <br>\n_ = tf.import_graph_def(graph_def, name='')<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def<br>\nop_def=op_def)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op<br>\noriginal_op=self._default_original_op, op_def=op_def)<br>\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in <strong>init</strong><br>\nself._traceback = _extract_stack()</p>\n<p>InternalError (see above for traceback): Dst tensor is not initialized.<br>\n[[Node: mixed_3/conv/batchnorm/beta = Const<a href=\"\">dtype=DT_FLOAT, value=Tensor&lt;type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...&gt;, _device=\"/job:localhost/replica:0/task:0/gpu:0\"</a>]]</p>", "body_text": "I ran into a possibly similar memory problem with label_image.py.  It worked correctly on the first run, but every run after that crashed with memory error.\nHere is the error output:\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ************************************************************************************xxxxxxxxxxxxxxxx\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 1.5KiB.  See logs for memory state.\nW tensorflow/core/framework/op_kernel.cc:965] Internal: Dst tensor is not initialized.\nE tensorflow/core/common_runtime/executor.cc:390] Executor failed to create kernel. Internal: Dst tensor is not initialized.\n[[Node: mixed_3/conv/batchnorm/beta = Constdtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]]\nTraceback (most recent call last):\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1021, in _do_call\nreturn fn(*args)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1003, in _run_fn\nstatus, run_metadata)\nFile \"/Applications/anaconda/lib/python3.5/contextlib.py\", line 66, in exit\nnext(self.gen)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py\", line 469, in raise_exception_on_not_ok_status\npywrap_tensorflow.TF_GetCode(status))\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\n[[Node: mixed_3/conv/batchnorm/beta = Constdtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]]\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"tf_files/label_image.py\", line 22, in \npredictions = sess.run(softmax_tensor, {'DecodeJpeg/contents:0': image_data})\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 766, in run\nrun_metadata_ptr)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 964, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\ntarget_list, options, run_metadata)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\n[[Node: mixed_3/conv/batchnorm/beta = Constdtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]]\nCaused by op 'mixed_3/conv/batchnorm/beta', defined at:\nFile \"tf_files/label_image.py\", line 16, in \n_ = tf.import_graph_def(graph_def, name='')\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\nop_def=op_def)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\noriginal_op=self._default_original_op, op_def=op_def)\nFile \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in init\nself._traceback = _extract_stack()\nInternalError (see above for traceback): Dst tensor is not initialized.\n[[Node: mixed_3/conv/batchnorm/beta = Constdtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]]", "body": "I ran into a possibly similar memory problem with label_image.py.  It worked correctly on the first run, but every run after that crashed with memory error.  \r\n\r\nHere is the error output:\r\nW tensorflow/core/common_runtime/bfc_allocator.cc:274] ************************************************************************************xxxxxxxxxxxxxxxx\r\nW tensorflow/core/common_runtime/bfc_allocator.cc:275] Ran out of memory trying to allocate 1.5KiB.  See logs for memory state.\r\nW tensorflow/core/framework/op_kernel.cc:965] Internal: Dst tensor is not initialized.\r\nE tensorflow/core/common_runtime/executor.cc:390] Executor failed to create kernel. Internal: Dst tensor is not initialized.\r\n\t [[Node: mixed_3/conv/batchnorm/beta = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\nTraceback (most recent call last):\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1021, in _do_call\r\n    return fn(*args)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1003, in _run_fn\r\n    status, run_metadata)\r\n  File \"/Applications/anaconda/lib/python3.5/contextlib.py\", line 66, in __exit__\r\n    next(self.gen)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py\", line 469, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\r\n\t [[Node: mixed_3/conv/batchnorm/beta = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tf_files/label_image.py\", line 22, in <module>\r\n    predictions = sess.run(softmax_tensor, {'DecodeJpeg/contents:0': image_data})\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 766, in run\r\n    run_metadata_ptr)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 964, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\r\n\t [[Node: mixed_3/conv/batchnorm/beta = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\nCaused by op 'mixed_3/conv/batchnorm/beta', defined at:\r\n  File \"tf_files/label_image.py\", line 16, in <module>\r\n    _ = tf.import_graph_def(graph_def, name='')\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/importer.py\", line 285, in import_graph_def\r\n    op_def=op_def)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/Applications/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInternalError (see above for traceback): Dst tensor is not initialized.\r\n\t [[Node: mixed_3/conv/batchnorm/beta = Const[dtype=DT_FLOAT, value=Tensor<type: float shape: [384] values: -1.1053501 -0.46053475 -0.92515361...>, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n"}