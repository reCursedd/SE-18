{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19510", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19510/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19510/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19510/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19510", "id": 325895124, "node_id": "MDU6SXNzdWUzMjU4OTUxMjQ=", "number": 19510, "title": "The name 'softmax:0' refers to a tensor which does not exist.", "user": {"login": "mashkovtsevlx", "id": 9170009, "node_id": "MDQ6VXNlcjkxNzAwMDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9170009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashkovtsevlx", "html_url": "https://github.com/mashkovtsevlx", "followers_url": "https://api.github.com/users/mashkovtsevlx/followers", "following_url": "https://api.github.com/users/mashkovtsevlx/following{/other_user}", "gists_url": "https://api.github.com/users/mashkovtsevlx/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashkovtsevlx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashkovtsevlx/subscriptions", "organizations_url": "https://api.github.com/users/mashkovtsevlx/orgs", "repos_url": "https://api.github.com/users/mashkovtsevlx/repos", "events_url": "https://api.github.com/users/mashkovtsevlx/events{/privacy}", "received_events_url": "https://api.github.com/users/mashkovtsevlx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-05-23T22:23:34Z", "updated_at": "2018-07-24T23:59:26Z", "closed_at": "2018-07-24T23:59:05Z", "author_association": "NONE", "body_html": "<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A<br>\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04<br>\nTensorFlow installed from (source or binary): binary (pip)<br>\nTensorFlow version (use command below): v1.8.0-0-g93bc2e2072 1.8.0<br>\nPython version: 3.5.2<br>\nCUDA/cuDNN version: N/A<br>\nGPU model and memory: N/A</p>\n<p>I have this error:<br>\n<code>KeyError: \"The name 'softmax:0' refers to a Tensor which does not exist. The operation, 'softmax', does not exist in the graph.\"</code></p>\n<p>Here's a part of my code:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">global</span> num_top_predictions\n  <span class=\"pl-k\">if</span> <span class=\"pl-k\">not</span> tf.gfile.Exists(image):\n    tf.logging.fatal(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>File does not exist <span class=\"pl-c1\">%s</span><span class=\"pl-pds\">'</span></span>, image)\n  image_data <span class=\"pl-k\">=</span> tf.gfile.FastGFile(image, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>rb<span class=\"pl-pds\">'</span></span>).read()\n  <span class=\"pl-k\">with</span> tf.Session() <span class=\"pl-k\">as</span> sess:\n    softmax_tensor <span class=\"pl-k\">=</span> sess.graph.get_tensor_by_name(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>softmax:0<span class=\"pl-pds\">'</span></span>)\n    predictions <span class=\"pl-k\">=</span> sess.run(softmax_tensor,\n                           {<span class=\"pl-s\"><span class=\"pl-pds\">'</span>DecodeJpeg/contents:0<span class=\"pl-pds\">'</span></span>: image_data})\n    predictions <span class=\"pl-k\">=</span> np.squeeze(predictions)\n    node_lookup <span class=\"pl-k\">=</span> NodeLookup()\n    top_k <span class=\"pl-k\">=</span> predictions.argsort()[<span class=\"pl-k\">-</span>num_top_predictions:][::<span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>]\n    results <span class=\"pl-k\">=</span> []\n    <span class=\"pl-k\">for</span> node_id <span class=\"pl-k\">in</span> top_k:\n      human_string <span class=\"pl-k\">=</span> node_lookup.id_to_string(node_id)\n      score <span class=\"pl-k\">=</span> predictions[node_id]\n      results.append((human_string, score))\n    <span class=\"pl-k\">return</span> results</pre></div>\n<p>I've made some research and found out that this can be a tensorflow version problem. But I installed a latest version using pip.<br>\nThank you for your help</p>", "body_text": "Have I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\nTensorFlow installed from (source or binary): binary (pip)\nTensorFlow version (use command below): v1.8.0-0-g93bc2e2072 1.8.0\nPython version: 3.5.2\nCUDA/cuDNN version: N/A\nGPU model and memory: N/A\nI have this error:\nKeyError: \"The name 'softmax:0' refers to a Tensor which does not exist. The operation, 'softmax', does not exist in the graph.\"\nHere's a part of my code:\nglobal num_top_predictions\n  if not tf.gfile.Exists(image):\n    tf.logging.fatal('File does not exist %s', image)\n  image_data = tf.gfile.FastGFile(image, 'rb').read()\n  with tf.Session() as sess:\n    softmax_tensor = sess.graph.get_tensor_by_name('softmax:0')\n    predictions = sess.run(softmax_tensor,\n                           {'DecodeJpeg/contents:0': image_data})\n    predictions = np.squeeze(predictions)\n    node_lookup = NodeLookup()\n    top_k = predictions.argsort()[-num_top_predictions:][::-1]\n    results = []\n    for node_id in top_k:\n      human_string = node_lookup.id_to_string(node_id)\n      score = predictions[node_id]\n      results.append((human_string, score))\n    return results\nI've made some research and found out that this can be a tensorflow version problem. But I installed a latest version using pip.\nThank you for your help", "body": "Have I written custom code (as opposed to using a stock example script provided in TensorFlow): N/A\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\nTensorFlow installed from (source or binary): binary (pip)\r\nTensorFlow version (use command below): v1.8.0-0-g93bc2e2072 1.8.0\r\nPython version: 3.5.2\r\nCUDA/cuDNN version: N/A\r\nGPU model and memory: N/A\r\n\r\nI have this error: \r\n`\r\nKeyError: \"The name 'softmax:0' refers to a Tensor which does not exist. The operation, 'softmax', does not exist in the graph.\"\r\n`\r\n\r\nHere's a part of my code:\r\n```Python\r\nglobal num_top_predictions\r\n  if not tf.gfile.Exists(image):\r\n    tf.logging.fatal('File does not exist %s', image)\r\n  image_data = tf.gfile.FastGFile(image, 'rb').read()\r\n  with tf.Session() as sess:\r\n    softmax_tensor = sess.graph.get_tensor_by_name('softmax:0')\r\n    predictions = sess.run(softmax_tensor,\r\n                           {'DecodeJpeg/contents:0': image_data})\r\n    predictions = np.squeeze(predictions)\r\n    node_lookup = NodeLookup()\r\n    top_k = predictions.argsort()[-num_top_predictions:][::-1]\r\n    results = []\r\n    for node_id in top_k:\r\n      human_string = node_lookup.id_to_string(node_id)\r\n      score = predictions[node_id]\r\n      results.append((human_string, score))\r\n    return results\r\n```\r\nI've made some research and found out that this can be a tensorflow version problem. But I installed a latest version using pip.\r\nThank you for your help"}