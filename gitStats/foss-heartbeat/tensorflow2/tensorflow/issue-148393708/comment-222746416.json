{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/222746416", "html_url": "https://github.com/tensorflow/tensorflow/issues/1947#issuecomment-222746416", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1947", "id": 222746416, "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjc0NjQxNg==", "user": {"login": "flow-ryan", "id": 12072586, "node_id": "MDQ6VXNlcjEyMDcyNTg2", "avatar_url": "https://avatars0.githubusercontent.com/u/12072586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flow-ryan", "html_url": "https://github.com/flow-ryan", "followers_url": "https://api.github.com/users/flow-ryan/followers", "following_url": "https://api.github.com/users/flow-ryan/following{/other_user}", "gists_url": "https://api.github.com/users/flow-ryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/flow-ryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flow-ryan/subscriptions", "organizations_url": "https://api.github.com/users/flow-ryan/orgs", "repos_url": "https://api.github.com/users/flow-ryan/repos", "events_url": "https://api.github.com/users/flow-ryan/events{/privacy}", "received_events_url": "https://api.github.com/users/flow-ryan/received_events", "type": "User", "site_admin": false}, "created_at": "2016-05-31T16:38:51Z", "updated_at": "2016-05-31T16:41:04Z", "author_association": "NONE", "body_html": "<p>for example when running this tiny program:</p>\n<pre><code>import tensorflow as tf\na = tf.ones([100])\nsess = tf.Session()\nprint sess.run(a)\n</code></pre>\n<p>this works with the CPU tensorflow installed through pip</p>\n<p>but does not work with the GPU version:<br>\nafter the following output:</p>\n<blockquote>\n<p>I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally<br>\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties:<br>\nname: Tesla K80<br>\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235<br>\npciBusID 0000:83:00.0<br>\nTotal memory: 11.25GiB<br>\nFree memory: 11.16GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties:<br>\nname: Tesla K80<br>\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235<br>\npciBusID 0000:84:00.0<br>\nTotal memory: 11.25GiB<br>\nFree memory: 11.16GiB<br>\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1<br>\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Tesla K80, pci bus id: 0000:83:00.0)<br>\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -&gt; (device: 1, name: Tesla K80, pci bus id: 0000:84:00.0)<br>\n[ 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.]</p>\n</blockquote>\n<p>the program freezes before exiting and I have to hard-reboot the instance.</p>\n<p>I again checked the driver version 352.39, CUDA version 7.5.18 and cudnn 4.0.7</p>\n<p>the CUDA samples all still work</p>", "body_text": "for example when running this tiny program:\nimport tensorflow as tf\na = tf.ones([100])\nsess = tf.Session()\nprint sess.run(a)\n\nthis works with the CPU tensorflow installed through pip\nbut does not work with the GPU version:\nafter the following output:\n\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties:\nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:83:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties:\nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:84:00.0\nTotal memory: 11.25GiB\nFree memory: 11.16GiB\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y\nI tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:83:00.0)\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Tesla K80, pci bus id: 0000:84:00.0)\n[ 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.]\n\nthe program freezes before exiting and I have to hard-reboot the instance.\nI again checked the driver version 352.39, CUDA version 7.5.18 and cudnn 4.0.7\nthe CUDA samples all still work", "body": "for example when running this tiny program:\n\n```\nimport tensorflow as tf\na = tf.ones([100])\nsess = tf.Session()\nprint sess.run(a)\n```\n\nthis works with the CPU tensorflow installed through pip\n\nbut does not work with the GPU version:\nafter the following output:\n\n> I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\n> I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\n> I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\n> I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\n> I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n> I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: \n> name: Tesla K80\n> major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n> pciBusID 0000:83:00.0\n> Total memory: 11.25GiB\n> Free memory: 11.16GiB\n> I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 1 with properties: \n> name: Tesla K80\n> major: 3 minor: 7 memoryClockRate (GHz) 0.8235\n> pciBusID 0000:84:00.0\n> Total memory: 11.25GiB\n> Free memory: 11.16GiB\n> I tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 1 \n> I tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y Y \n> I tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 1:   Y Y \n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:83:00.0)\n> I tensorflow/core/common_runtime/gpu/gpu_device.cc:755] Creating TensorFlow device (/gpu:1) -> (device: 1, name: Tesla K80, pci bus id: 0000:84:00.0)\n>   [ 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1. 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.]\n\nthe program freezes before exiting and I have to hard-reboot the instance.\n\nI again checked the driver version 352.39, CUDA version 7.5.18 and cudnn 4.0.7\n\nthe CUDA samples all still work\n"}