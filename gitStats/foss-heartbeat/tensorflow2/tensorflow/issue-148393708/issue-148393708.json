{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1947", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1947/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1947/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1947/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1947", "id": 148393708, "node_id": "MDU6SXNzdWUxNDgzOTM3MDg=", "number": 1947, "title": "tensor flow programs using gpu freeze instance", "user": {"login": "flow-ryan", "id": 12072586, "node_id": "MDQ6VXNlcjEyMDcyNTg2", "avatar_url": "https://avatars0.githubusercontent.com/u/12072586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flow-ryan", "html_url": "https://github.com/flow-ryan", "followers_url": "https://api.github.com/users/flow-ryan/followers", "following_url": "https://api.github.com/users/flow-ryan/following{/other_user}", "gists_url": "https://api.github.com/users/flow-ryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/flow-ryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flow-ryan/subscriptions", "organizations_url": "https://api.github.com/users/flow-ryan/orgs", "repos_url": "https://api.github.com/users/flow-ryan/repos", "events_url": "https://api.github.com/users/flow-ryan/events{/privacy}", "received_events_url": "https://api.github.com/users/flow-ryan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 28, "created_at": "2016-04-14T15:13:39Z", "updated_at": "2017-10-16T08:14:51Z", "closed_at": "2016-12-27T07:42:26Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04 on AWS g2.2xlarge</p>\n<p>Installed version of CUDA and cuDNN: cuda-7.15 cudnn-4.0.7<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nlib/libcudart.so  lib/libcudart.so.7.5  lib/libcudart.so.7.5.18  lib/libcudart_static.a</p>\n<p>If installed from sources, provide the commit hash:<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/bc5e961e1988fdefff8e8aa062f4ab3066c3a9e5/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/bc5e961e1988fdefff8e8aa062f4ab3066c3a9e5\"><tt>bc5e961</tt></a><br>\nso tensorflow 0.8.0<br>\nbut also tried 0.7.1<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/028d0b46004c921acd48fdd0ec18128d79e18bf4/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/028d0b46004c921acd48fdd0ec18128d79e18bf4\"><tt>028d0b4</tt></a></p>\n<h3>Steps to reproduce</h3>\n<p>all larger tensor flow scripts freeze. I can run simple examples like doing a matmul on the GPU but all larger programs, either my own or from the source (for example tensorflow/tensorflow/models/image/cifar10_train.py) freeze after a short time (no more output and not able to ctrl-C or ctrl-Z). Also the time of freeze seems to vary - I once made it through 2 epochs of training of my own NN before it froze.</p>\n<h3>example output:</h3>\n<p>python cifar10_train.py</p>\n<blockquote>\n<blockquote>\n<p>I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally<br>\nDownloading cifar-10-binary.tar.gz 100.0%<br>\nSuccessfully downloaded cifar-10-binary.tar.gz 170052171 bytes.<br>\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.<br>\n^C<br>\n^Z<br>\n^C</p>\n</blockquote>\n</blockquote>\n<p>and nothing happening (I did wait a lot longer than a few minutes before ctrl-C as well)</p>\n<p>but this  script here works and executes on GPU:</p>\n<pre><code>import tensorflow as tf\na = tf.constant([[3.,3.]])\nb = tf.constant([[2.],[2.]])\nc = tf.matmul(a,b)\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\nprint sess.run(c)\n\n</code></pre>", "body_text": "Environment info\nOperating System: Ubuntu 14.04 on AWS g2.2xlarge\nInstalled version of CUDA and cuDNN: cuda-7.15 cudnn-4.0.7\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nlib/libcudart.so  lib/libcudart.so.7.5  lib/libcudart.so.7.5.18  lib/libcudart_static.a\nIf installed from sources, provide the commit hash:\ncommit bc5e961\nso tensorflow 0.8.0\nbut also tried 0.7.1\ncommit 028d0b4\nSteps to reproduce\nall larger tensor flow scripts freeze. I can run simple examples like doing a matmul on the GPU but all larger programs, either my own or from the source (for example tensorflow/tensorflow/models/image/cifar10_train.py) freeze after a short time (no more output and not able to ctrl-C or ctrl-Z). Also the time of freeze seems to vary - I once made it through 2 epochs of training of my own NN before it froze.\nexample output:\npython cifar10_train.py\n\n\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nDownloading cifar-10-binary.tar.gz 100.0%\nSuccessfully downloaded cifar-10-binary.tar.gz 170052171 bytes.\nFilling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n^C\n^Z\n^C\n\n\nand nothing happening (I did wait a lot longer than a few minutes before ctrl-C as well)\nbut this  script here works and executes on GPU:\nimport tensorflow as tf\na = tf.constant([[3.,3.]])\nb = tf.constant([[2.],[2.]])\nc = tf.matmul(a,b)\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\nprint sess.run(c)", "body": "### Environment info\n\nOperating System: Ubuntu 14.04 on AWS g2.2xlarge\n\nInstalled version of CUDA and cuDNN: cuda-7.15 cudnn-4.0.7\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\nlib/libcudart.so  lib/libcudart.so.7.5  lib/libcudart.so.7.5.18  lib/libcudart_static.a\n\nIf installed from sources, provide the commit hash:\ncommit bc5e961e1988fdefff8e8aa062f4ab3066c3a9e5\nso tensorflow 0.8.0\nbut also tried 0.7.1\ncommit 028d0b46004c921acd48fdd0ec18128d79e18bf4\n### Steps to reproduce\n\nall larger tensor flow scripts freeze. I can run simple examples like doing a matmul on the GPU but all larger programs, either my own or from the source (for example tensorflow/tensorflow/models/image/cifar10_train.py) freeze after a short time (no more output and not able to ctrl-C or ctrl-Z). Also the time of freeze seems to vary - I once made it through 2 epochs of training of my own NN before it froze.\n### example output:\n\npython cifar10_train.py                              \n\n> > I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\n> > I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\n> > I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\n> > I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\n> > I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n> > Downloading cifar-10-binary.tar.gz 100.0%\n> > Successfully downloaded cifar-10-binary.tar.gz 170052171 bytes.\n> > Filling queue with 20000 CIFAR images before starting to train. This will take a few minutes.\n> > ^C\n> > ^Z\n> > ^C\n\nand nothing happening (I did wait a lot longer than a few minutes before ctrl-C as well)\n\nbut this  script here works and executes on GPU:\n\n```\nimport tensorflow as tf\na = tf.constant([[3.,3.]])\nb = tf.constant([[2.],[2.]])\nc = tf.matmul(a,b)\nsess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\nprint sess.run(c)\n\n```\n"}