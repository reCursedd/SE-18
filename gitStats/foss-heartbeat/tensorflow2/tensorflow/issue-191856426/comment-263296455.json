{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/263296455", "html_url": "https://github.com/tensorflow/tensorflow/issues/5882#issuecomment-263296455", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5882", "id": 263296455, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MzI5NjQ1NQ==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-28T15:13:58Z", "updated_at": "2016-11-28T15:13:58Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm guessing this is a GPU driver/allocator initialization race. Can you answer a few questions to help us redirect the issue?</p>\n<ol>\n<li>Does the program ever hang if you disable the GPU (e.g. using <code>export CUDA_VISIBLE_DEVICES= python my_script.py</code>?</li>\n<li>Are you running more than one TensorFlow process on the same GPU? (The line <code>tf_config.gpu_options.per_process_gpu_memory_fraction = 0.45</code> implies that you might be.) Does the hang ever happen when running a single TensorFlow process in isolation?</li>\n<li>Can you try attaching to the hanging process to get the stacks of all threads (using <code>thread apply all bt</code>)?</li>\n</ol>", "body_text": "I'm guessing this is a GPU driver/allocator initialization race. Can you answer a few questions to help us redirect the issue?\n\nDoes the program ever hang if you disable the GPU (e.g. using export CUDA_VISIBLE_DEVICES= python my_script.py?\nAre you running more than one TensorFlow process on the same GPU? (The line tf_config.gpu_options.per_process_gpu_memory_fraction = 0.45 implies that you might be.) Does the hang ever happen when running a single TensorFlow process in isolation?\nCan you try attaching to the hanging process to get the stacks of all threads (using thread apply all bt)?", "body": "I'm guessing this is a GPU driver/allocator initialization race. Can you answer a few questions to help us redirect the issue?\r\n\r\n1. Does the program ever hang if you disable the GPU (e.g. using `export CUDA_VISIBLE_DEVICES= python my_script.py`? \r\n2. Are you running more than one TensorFlow process on the same GPU? (The line `tf_config.gpu_options.per_process_gpu_memory_fraction = 0.45` implies that you might be.) Does the hang ever happen when running a single TensorFlow process in isolation?\r\n3. Can you try attaching to the hanging process to get the stacks of all threads (using `thread apply all bt`)?"}