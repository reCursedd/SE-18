{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/347190396", "html_url": "https://github.com/tensorflow/tensorflow/issues/5688#issuecomment-347190396", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5688", "id": 347190396, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzE5MDM5Ng==", "user": {"login": "qianyizhang", "id": 12500132, "node_id": "MDQ6VXNlcjEyNTAwMTMy", "avatar_url": "https://avatars0.githubusercontent.com/u/12500132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qianyizhang", "html_url": "https://github.com/qianyizhang", "followers_url": "https://api.github.com/users/qianyizhang/followers", "following_url": "https://api.github.com/users/qianyizhang/following{/other_user}", "gists_url": "https://api.github.com/users/qianyizhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/qianyizhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qianyizhang/subscriptions", "organizations_url": "https://api.github.com/users/qianyizhang/orgs", "repos_url": "https://api.github.com/users/qianyizhang/repos", "events_url": "https://api.github.com/users/qianyizhang/events{/privacy}", "received_events_url": "https://api.github.com/users/qianyizhang/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-27T14:03:52Z", "updated_at": "2017-11-27T14:08:35Z", "author_association": "NONE", "body_html": "<p>I am having problem with evaluation network with slim.conv3d_transpose(which is wrapper of convolution3d_transpose, which is computed by the backprop of conv3d, therefore is related to this?)<br>\nWhat's interesting is that the error message does not occur all the time, almost like a coin flipping...<br>\nIt happens on both:<br>\nwin7 + py3.6 + QuadroM4000 8g + pip tensorflow-gpu 1.4<br>\nwin10 + py3.5 + GTX980m 8g + pip tensorflow-gpu 1.4<br>\napparently, it occurs more frequently on the win7 machine</p>\n<pre><code>File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\framework\\python\\ops\\arg_scope.py\", line 181, in func_with_args\n    return func(*args, **current_args)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\layers\\python\\layers\\layers.py\", line 1359, in convolution3d_transpose\n    outputs = layer.apply(inputs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 671, in apply\n    return self.__call__(inputs, *args, **kwargs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 575, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\convolutional.py\", line 1588, in call\n    padding=self.padding.upper())\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py\", line 1428, in conv3d_transpose\n    name=name)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 1083, in conv3d_backprop_input_v2\n    data_format=data_format, name=name)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2956, in create_op\n    op_def=op_def)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1470, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cuDNN Backward Data function launch failure : input shape([1,80,160,160,32]) filter shape([5,5,5,32,32])\n\t [[Node: head_block/conv0/conv3d_transpose = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](head_block/conv0/stack, head_block/conv0/weights/read/_4949, decode_block_0/Residual_Block/add)]]\n\t [[Node: componentwise_overlap_loss/sub/_4957 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3379_componentwise_overlap_loss/sub\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n</code></pre>", "body_text": "I am having problem with evaluation network with slim.conv3d_transpose(which is wrapper of convolution3d_transpose, which is computed by the backprop of conv3d, therefore is related to this?)\nWhat's interesting is that the error message does not occur all the time, almost like a coin flipping...\nIt happens on both:\nwin7 + py3.6 + QuadroM4000 8g + pip tensorflow-gpu 1.4\nwin10 + py3.5 + GTX980m 8g + pip tensorflow-gpu 1.4\napparently, it occurs more frequently on the win7 machine\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\framework\\python\\ops\\arg_scope.py\", line 181, in func_with_args\n    return func(*args, **current_args)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\layers\\python\\layers\\layers.py\", line 1359, in convolution3d_transpose\n    outputs = layer.apply(inputs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 671, in apply\n    return self.__call__(inputs, *args, **kwargs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 575, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\convolutional.py\", line 1588, in call\n    padding=self.padding.upper())\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py\", line 1428, in conv3d_transpose\n    name=name)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 1083, in conv3d_backprop_input_v2\n    data_format=data_format, name=name)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2956, in create_op\n    op_def=op_def)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1470, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cuDNN Backward Data function launch failure : input shape([1,80,160,160,32]) filter shape([5,5,5,32,32])\n\t [[Node: head_block/conv0/conv3d_transpose = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](head_block/conv0/stack, head_block/conv0/weights/read/_4949, decode_block_0/Residual_Block/add)]]\n\t [[Node: componentwise_overlap_loss/sub/_4957 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3379_componentwise_overlap_loss/sub\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]", "body": "I am having problem with evaluation network with slim.conv3d_transpose(which is wrapper of convolution3d_transpose, which is computed by the backprop of conv3d, therefore is related to this?)\r\nWhat's interesting is that the error message does not occur all the time, almost like a coin flipping...\r\nIt happens on both:\r\nwin7 + py3.6 + QuadroM4000 8g + pip tensorflow-gpu 1.4\r\nwin10 + py3.5 + GTX980m 8g + pip tensorflow-gpu 1.4\r\napparently, it occurs more frequently on the win7 machine \r\n```\r\nFile \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\framework\\python\\ops\\arg_scope.py\", line 181, in func_with_args\r\n    return func(*args, **current_args)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\layers\\python\\layers\\layers.py\", line 1359, in convolution3d_transpose\r\n    outputs = layer.apply(inputs)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 671, in apply\r\n    return self.__call__(inputs, *args, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\base.py\", line 575, in __call__\r\n    outputs = self.call(inputs, *args, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\layers\\convolutional.py\", line 1588, in call\r\n    padding=self.padding.upper())\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\nn_ops.py\", line 1428, in conv3d_transpose\r\n    name=name)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 1083, in conv3d_backprop_input_v2\r\n    data_format=data_format, name=name)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2956, in create_op\r\n    op_def=op_def)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1470, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInternalError (see above for traceback): cuDNN Backward Data function launch failure : input shape([1,80,160,160,32]) filter shape([5,5,5,32,32])\r\n\t [[Node: head_block/conv0/conv3d_transpose = Conv3DBackpropInputV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 2, 2, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](head_block/conv0/stack, head_block/conv0/weights/read/_4949, decode_block_0/Residual_Block/add)]]\r\n\t [[Node: componentwise_overlap_loss/sub/_4957 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_3379_componentwise_overlap_loss/sub\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n```"}