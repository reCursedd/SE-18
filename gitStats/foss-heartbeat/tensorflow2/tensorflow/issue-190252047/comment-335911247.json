{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/335911247", "html_url": "https://github.com/tensorflow/tensorflow/issues/5688#issuecomment-335911247", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5688", "id": 335911247, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTkxMTI0Nw==", "user": {"login": "HggsHntr", "id": 23520507, "node_id": "MDQ6VXNlcjIzNTIwNTA3", "avatar_url": "https://avatars3.githubusercontent.com/u/23520507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HggsHntr", "html_url": "https://github.com/HggsHntr", "followers_url": "https://api.github.com/users/HggsHntr/followers", "following_url": "https://api.github.com/users/HggsHntr/following{/other_user}", "gists_url": "https://api.github.com/users/HggsHntr/gists{/gist_id}", "starred_url": "https://api.github.com/users/HggsHntr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HggsHntr/subscriptions", "organizations_url": "https://api.github.com/users/HggsHntr/orgs", "repos_url": "https://api.github.com/users/HggsHntr/repos", "events_url": "https://api.github.com/users/HggsHntr/events{/privacy}", "received_events_url": "https://api.github.com/users/HggsHntr/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-11T18:52:14Z", "updated_at": "2017-10-11T18:52:14Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1002405\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yzhwang\">@yzhwang</a></p>\n<pre><code>2017-10-11 21:48:30.115149: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2\n2017-10-11 21:48:30.402802: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX TITAN X major: 5 minor: 2 memoryClockRate(GHz): 1.076\npciBusID: 0000:01:00.0\ntotalMemory: 12.00GiB freeMemory: 10.06GiB\n2017-10-11 21:48:30.402991: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:01:00.0, compute capability: 5.2)\n2017-10-11 21:48:47.601437: E C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:3387] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\n---------------------------------------------------------------------------\nInternalError                             Traceback (most recent call last)\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\n   1322     try:\n-&gt; 1323       return fn(*args)\n   1324     except errors.OpError as e:\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\n   1301                                    feed_dict, fetch_list, target_list,\n-&gt; 1302                                    status, run_metadata)\n   1303\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\contextlib.py in __exit__(self, type, value, traceback)\n     65             try:\n---&gt; 66                 next(self.gen)\n     67             except StopIteration:\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py in raise_exception_on_not_ok_status()\n    466           compat.as_text(c_api.TF_Message(status.status)),\n--&gt; 467           c_api.TF_GetCode(status.status))\n    468   # Delete the underlying status object from memory otherwise it stays alive\n\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\n\nDuring handling of the above exception, another exception occurred:\n\nInternalError                             Traceback (most recent call last)\n&lt;ipython-input-1-436eb9c8573a&gt; in &lt;module&gt;()\n     28     batchLabels = (np.random.rand(1, n, n, n, 1)&gt;0.5).astype(np.float32)\n     29     feed_dict = {tf_dataset : batchData, tf_label : batchLabels}\n---&gt; 30     _ = session.run((optimizer, ), feed_dict=feed_dict)\n     31\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in run(self, fetches, feed_dict, options, run_metadata)\n    887     try:\n    888       result = self._run(None, fetches, feed_dict, options_ptr,\n--&gt; 889                          run_metadata_ptr)\n    890       if run_metadata:\n    891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\n   1118     if final_fetches or final_targets or (handle and feed_dict_tensor):\n   1119       results = self._do_run(handle, final_targets, final_fetches,\n-&gt; 1120                              feed_dict_tensor, options, run_metadata)\n   1121     else:\n   1122       results = []\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1315     if handle is None:\n   1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,\n-&gt; 1317                            options, run_metadata)\n   1318     else:\n   1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\n   1334         except KeyError:\n   1335           pass\n-&gt; 1336       raise type(e)(node_def, op, message)\n   1337\n   1338   def _extend_graph(self):\n\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\n\nCaused by op 'gradients/Conv3D_grad/Conv3DBackpropFilterV2', defined at:\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in &lt;module&gt;\n    sys.exit(IPython.start_ipython())\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\__init__.py\", line 125, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\traitlets\\config\\application.py\", line 658, in launch_instance\n    app.start()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\ipapp.py\", line 356, in start\n    self.shell.mainloop()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 480, in mainloop\n    self.interact()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 471, in interact\n    self.run_cell(code, store_history=True)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2698, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2802, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-1-436eb9c8573a&gt;\", line 23, in &lt;module&gt;\n    optimizer = tf.train.GradientDescentOptimizer(0.05).minimize(loss)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 343, in minimize\n    grad_loss=grad_loss)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 414, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 353, in _MaybeCompile\n    return grad_fn()  # Exit early\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in &lt;lambda&gt;\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\nn_grad.py\", line 88, in _Conv3DGrad\n    data_format=data_format)]\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 964, in conv3d_backprop_filter_v2\n    data_format=data_format, name=name)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\n...which was originally created as op 'Conv3D', defined at:\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in &lt;module&gt;\n    sys.exit(IPython.start_ipython())\n[elided 7 identical lines from previous traceback]\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-1-436eb9c8573a&gt;\", line 19, in &lt;module&gt;\n    conv = tf.nn.conv3d(tf_dataset, layer1_weights, (1, 1, 1, 1, 1), padding='SAME')\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 846, in conv3d\n    padding=padding, data_format=data_format, name=name)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\n</code></pre>", "body_text": "@yzhwang\n2017-10-11 21:48:30.115149: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2\n2017-10-11 21:48:30.402802: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:965] Found device 0 with properties:\nname: GeForce GTX TITAN X major: 5 minor: 2 memoryClockRate(GHz): 1.076\npciBusID: 0000:01:00.0\ntotalMemory: 12.00GiB freeMemory: 10.06GiB\n2017-10-11 21:48:30.402991: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:01:00.0, compute capability: 5.2)\n2017-10-11 21:48:47.601437: E C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:3387] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\n---------------------------------------------------------------------------\nInternalError                             Traceback (most recent call last)\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\n   1322     try:\n-> 1323       return fn(*args)\n   1324     except errors.OpError as e:\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\n   1301                                    feed_dict, fetch_list, target_list,\n-> 1302                                    status, run_metadata)\n   1303\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\contextlib.py in __exit__(self, type, value, traceback)\n     65             try:\n---> 66                 next(self.gen)\n     67             except StopIteration:\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py in raise_exception_on_not_ok_status()\n    466           compat.as_text(c_api.TF_Message(status.status)),\n--> 467           c_api.TF_GetCode(status.status))\n    468   # Delete the underlying status object from memory otherwise it stays alive\n\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\n\nDuring handling of the above exception, another exception occurred:\n\nInternalError                             Traceback (most recent call last)\n<ipython-input-1-436eb9c8573a> in <module>()\n     28     batchLabels = (np.random.rand(1, n, n, n, 1)>0.5).astype(np.float32)\n     29     feed_dict = {tf_dataset : batchData, tf_label : batchLabels}\n---> 30     _ = session.run((optimizer, ), feed_dict=feed_dict)\n     31\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in run(self, fetches, feed_dict, options, run_metadata)\n    887     try:\n    888       result = self._run(None, fetches, feed_dict, options_ptr,\n--> 889                          run_metadata_ptr)\n    890       if run_metadata:\n    891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\n   1118     if final_fetches or final_targets or (handle and feed_dict_tensor):\n   1119       results = self._do_run(handle, final_targets, final_fetches,\n-> 1120                              feed_dict_tensor, options, run_metadata)\n   1121     else:\n   1122       results = []\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\n   1315     if handle is None:\n   1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,\n-> 1317                            options, run_metadata)\n   1318     else:\n   1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)\n\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\n   1334         except KeyError:\n   1335           pass\n-> 1336       raise type(e)(node_def, op, message)\n   1337\n   1338   def _extend_graph(self):\n\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\n\nCaused by op 'gradients/Conv3D_grad/Conv3DBackpropFilterV2', defined at:\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in <module>\n    sys.exit(IPython.start_ipython())\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\__init__.py\", line 125, in start_ipython\n    return launch_new_instance(argv=argv, **kwargs)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\traitlets\\config\\application.py\", line 658, in launch_instance\n    app.start()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\ipapp.py\", line 356, in start\n    self.shell.mainloop()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 480, in mainloop\n    self.interact()\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 471, in interact\n    self.run_cell(code, store_history=True)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2698, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2802, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-1-436eb9c8573a>\", line 23, in <module>\n    optimizer = tf.train.GradientDescentOptimizer(0.05).minimize(loss)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 343, in minimize\n    grad_loss=grad_loss)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 414, in compute_gradients\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 353, in _MaybeCompile\n    return grad_fn()  # Exit early\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in <lambda>\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\nn_grad.py\", line 88, in _Conv3DGrad\n    data_format=data_format)]\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 964, in conv3d_backprop_filter_v2\n    data_format=data_format, name=name)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\n...which was originally created as op 'Conv3D', defined at:\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in <module>\n    sys.exit(IPython.start_ipython())\n[elided 7 identical lines from previous traceback]\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-1-436eb9c8573a>\", line 19, in <module>\n    conv = tf.nn.conv3d(tf_dataset, layer1_weights, (1, 1, 1, 1, 1), padding='SAME')\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 846, in conv3d\n    padding=padding, data_format=data_format, name=name)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\n    op_def=op_def)\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\n\nInternalError (see above for traceback): cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]", "body": "@yzhwang \r\n```\r\n2017-10-11 21:48:30.115149: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX2\r\n2017-10-11 21:48:30.402802: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:965] Found device 0 with properties:\r\nname: GeForce GTX TITAN X major: 5 minor: 2 memoryClockRate(GHz): 1.076\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 12.00GiB freeMemory: 10.06GiB\r\n2017-10-11 21:48:30.402991: I C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1055] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX TITAN X, pci bus id: 0000:01:00.0, compute capability: 5.2)\r\n2017-10-11 21:48:47.601437: E C:\\tf_jenkins\\home\\workspace\\tf-nightly-windows\\M\\windows-gpu\\PY\\35\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:3387] failed to enqueue convolution on stream: CUDNN_STATUS_EXECUTION_FAILED\r\n---------------------------------------------------------------------------\r\nInternalError                             Traceback (most recent call last)\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\r\n   1322     try:\r\n-> 1323       return fn(*args)\r\n   1324     except errors.OpError as e:\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run_fn(session, feed_dict, fetch_list, target_list, options, run_metadata)\r\n   1301                                    feed_dict, fetch_list, target_list,\r\n-> 1302                                    status, run_metadata)\r\n   1303\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\contextlib.py in __exit__(self, type, value, traceback)\r\n     65             try:\r\n---> 66                 next(self.gen)\r\n     67             except StopIteration:\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\errors_impl.py in raise_exception_on_not_ok_status()\r\n    466           compat.as_text(c_api.TF_Message(status.status)),\r\n--> 467           c_api.TF_GetCode(status.status))\r\n    468   # Delete the underlying status object from memory otherwise it stays alive\r\n\r\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\r\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nInternalError                             Traceback (most recent call last)\r\n<ipython-input-1-436eb9c8573a> in <module>()\r\n     28     batchLabels = (np.random.rand(1, n, n, n, 1)>0.5).astype(np.float32)\r\n     29     feed_dict = {tf_dataset : batchData, tf_label : batchLabels}\r\n---> 30     _ = session.run((optimizer, ), feed_dict=feed_dict)\r\n     31\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in run(self, fetches, feed_dict, options, run_metadata)\r\n    887     try:\r\n    888       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 889                          run_metadata_ptr)\r\n    890       if run_metadata:\r\n    891         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n   1118     if final_fetches or final_targets or (handle and feed_dict_tensor):\r\n   1119       results = self._do_run(handle, final_targets, final_fetches,\r\n-> 1120                              feed_dict_tensor, options, run_metadata)\r\n   1121     else:\r\n   1122       results = []\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\r\n   1315     if handle is None:\r\n   1316       return self._do_call(_run_fn, self._session, feeds, fetches, targets,\r\n-> 1317                            options, run_metadata)\r\n   1318     else:\r\n   1319       return self._do_call(_prun_fn, self._session, handle, feeds, fetches)\r\n\r\n~\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\client\\session.py in _do_call(self, fn, *args)\r\n   1334         except KeyError:\r\n   1335           pass\r\n-> 1336       raise type(e)(node_def, op, message)\r\n   1337\r\n   1338   def _extend_graph(self):\r\n\r\nInternalError: cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\r\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\r\n\r\nCaused by op 'gradients/Conv3D_grad/Conv3DBackpropFilterV2', defined at:\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in <module>\r\n    sys.exit(IPython.start_ipython())\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\__init__.py\", line 125, in start_ipython\r\n    return launch_new_instance(argv=argv, **kwargs)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\traitlets\\config\\application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\ipapp.py\", line 356, in start\r\n    self.shell.mainloop()\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 480, in mainloop\r\n    self.interact()\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\terminal\\interactiveshell.py\", line 471, in interact\r\n    self.run_cell(code, store_history=True)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2698, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2802, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-1-436eb9c8573a>\", line 23, in <module>\r\n    optimizer = tf.train.GradientDescentOptimizer(0.05).minimize(loss)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 343, in minimize\r\n    grad_loss=grad_loss)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\training\\optimizer.py\", line 414, in compute_gradients\r\n    colocate_gradients_with_ops=colocate_gradients_with_ops)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in gradients\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 353, in _MaybeCompile\r\n    return grad_fn()  # Exit early\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gradients_impl.py\", line 581, in <lambda>\r\n    grad_scope, op, func_call, lambda: grad_fn(op, *out_grads))\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\nn_grad.py\", line 88, in _Conv3DGrad\r\n    data_format=data_format)]\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 964, in conv3d_backprop_filter_v2\r\n    data_format=data_format, name=name)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\r\n    op_def=op_def)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\n...which was originally created as op 'Conv3D', defined at:\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\Scripts\\ipython-script.py\", line 5, in <module>\r\n    sys.exit(IPython.start_ipython())\r\n[elided 7 identical lines from previous traceback]\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2862, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-1-436eb9c8573a>\", line 19, in <module>\r\n    conv = tf.nn.conv3d(tf_dataset, layer1_weights, (1, 1, 1, 1, 1), padding='SAME')\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\ops\\gen_nn_ops.py\", line 846, in conv3d\r\n    padding=padding, data_format=data_format, name=name)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 787, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 2936, in create_op\r\n    op_def=op_def)\r\n  File \"C:\\Users\\HggsHntr\\AppData\\Local\\conda\\conda\\envs\\tftest\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1464, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInternalError (see above for traceback): cuDNN Backward Filter function launch failure : input shape([1,512,512,512,1]) filter shape([2,2,2,1,1])\r\n         [[Node: gradients/Conv3D_grad/Conv3DBackpropFilterV2 = Conv3DBackpropFilterV2[T=DT_FLOAT, data_format=\"NDHWC\", padding=\"SAME\", strides=[1, 1, 1, 1, 1], _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_Placeholder_0_0/_1, gradients/Conv3D_grad/Shape_1, gradients/add_grad/tuple/control_dependency)]]\r\n```"}