{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5282", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5282/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5282/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5282/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5282", "id": 186116750, "node_id": "MDU6SXNzdWUxODYxMTY3NTA=", "number": 5282, "title": " Couldn't open CUDA library libcupti.so.7.5", "user": {"login": "K-Wu", "id": 11816012, "node_id": "MDQ6VXNlcjExODE2MDEy", "avatar_url": "https://avatars2.githubusercontent.com/u/11816012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/K-Wu", "html_url": "https://github.com/K-Wu", "followers_url": "https://api.github.com/users/K-Wu/followers", "following_url": "https://api.github.com/users/K-Wu/following{/other_user}", "gists_url": "https://api.github.com/users/K-Wu/gists{/gist_id}", "starred_url": "https://api.github.com/users/K-Wu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/K-Wu/subscriptions", "organizations_url": "https://api.github.com/users/K-Wu/orgs", "repos_url": "https://api.github.com/users/K-Wu/repos", "events_url": "https://api.github.com/users/K-Wu/events{/privacy}", "received_events_url": "https://api.github.com/users/K-Wu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284463744, "node_id": "MDU6TGFiZWwyODQ0NjM3NDQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cuda", "name": "cuda", "color": "f7c6c7", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-10-30T04:42:32Z", "updated_at": "2017-02-19T20:50:10Z", "closed_at": "2016-10-31T04:52:25Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<h3>Environment info</h3>\n<p>Operating System: Linux Ubuntu 14.04 LTS (64bit)</p>\n<p>Installed version of CUDA and cuDNN:  CUDA7.5, cuDNN4<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>-rw-r--r-- 1 root root 189170 Apr 23  2016 libcudadevrt.a<br>\nlrwxrwxrwx 1 root root     16 Apr 23  2016 libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root     19 Apr 23  2016 libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rwxr-xr-x 1 root root 311596 Apr 23  2016 libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root 558020 Apr 23  2016 libcudart_static.a</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>) <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/c82f4962b9b8ba871880958a459d6d4f3587111b/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/c82f4962b9b8ba871880958a459d6d4f3587111b\"><tt>c82f496</tt></a></li>\n<li>The output of <code>bazel version</code> 0.3.2</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>codes are from: <a href=\"https://github.com/tensorflow/tensorflow/raw/r0.11/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py\">https://github.com/tensorflow/tensorflow/raw/r0.11/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py</a></p>\n<p>goes wrong here:</p>\n<pre><code>if i % 100 == 99:  # Record execution stats\n        run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\n        run_metadata = tf.RunMetadata()\n        summary, _ = sess.run([merged, train_step],\n                              feed_dict=feed_dict(True),\n                              options=run_options,\n                              run_metadata=run_metadata)\n        train_writer.add_run_metadata(run_metadata, 'step%03d' % i)\n        train_writer.add_summary(summary, i)\n        print('Adding run metadata for', i)\n</code></pre>\n<h3>What other attempted solutions have you tried?</h3>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>Accuracy at step 0: 0.1045\nAccuracy at step 10: 0.6843\nAccuracy at step 20: 0.8074\nAccuracy at step 30: 0.8511\nAccuracy at step 40: 0.878\nAccuracy at step 50: 0.8869\nAccuracy at step 60: 0.89\nAccuracy at step 70: 0.8928\nAccuracy at step 80: 0.893\nAccuracy at step 90: 0.8945\nI tensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so.7.5. LD_LIBRARY_PATH: /home/wk15/intel/mkl/lib/intel64:/usr/local/cuda/lib64:/home/wk15/intel/mkl/lib/intel64::/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/boost-1-61-binary/lib\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()-&gt;GetSymbolFromLibrary( GetDsoHandle(), kName, &amp;f)) (OK vs. Not found: /home/wk15/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO\n</code></pre>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nEnvironment info\nOperating System: Linux Ubuntu 14.04 LTS (64bit)\nInstalled version of CUDA and cuDNN:  CUDA7.5, cuDNN4\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root 189170 Apr 23  2016 libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Apr 23  2016 libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Apr 23  2016 libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Apr 23  2016 libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Apr 23  2016 libcudart_static.a\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD) c82f496\nThe output of bazel version 0.3.2\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\ncodes are from: https://github.com/tensorflow/tensorflow/raw/r0.11/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py\ngoes wrong here:\nif i % 100 == 99:  # Record execution stats\n        run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\n        run_metadata = tf.RunMetadata()\n        summary, _ = sess.run([merged, train_step],\n                              feed_dict=feed_dict(True),\n                              options=run_options,\n                              run_metadata=run_metadata)\n        train_writer.add_run_metadata(run_metadata, 'step%03d' % i)\n        train_writer.add_summary(summary, i)\n        print('Adding run metadata for', i)\n\nWhat other attempted solutions have you tried?\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nAccuracy at step 0: 0.1045\nAccuracy at step 10: 0.6843\nAccuracy at step 20: 0.8074\nAccuracy at step 30: 0.8511\nAccuracy at step 40: 0.878\nAccuracy at step 50: 0.8869\nAccuracy at step 60: 0.89\nAccuracy at step 70: 0.8928\nAccuracy at step 80: 0.893\nAccuracy at step 90: 0.8945\nI tensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so.7.5. LD_LIBRARY_PATH: /home/wk15/intel/mkl/lib/intel64:/usr/local/cuda/lib64:/home/wk15/intel/mkl/lib/intel64::/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/boost-1-61-binary/lib\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()->GetSymbolFromLibrary( GetDsoHandle(), kName, &f)) (OK vs. Not found: /home/wk15/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n### Environment info\n\nOperating System: Linux Ubuntu 14.04 LTS (64bit)\n\nInstalled version of CUDA and cuDNN:  CUDA7.5, cuDNN4\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`): \n\n-rw-r--r-- 1 root root 189170 Apr 23  2016 libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Apr 23  2016 libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root     19 Apr 23  2016 libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root 311596 Apr 23  2016 libcudart.so.7.5.18\n-rw-r--r-- 1 root root 558020 Apr 23  2016 libcudart_static.a\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`) c82f4962b9b8ba871880958a459d6d4f3587111b\n2. The output of `bazel version` 0.3.2\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n\ncodes are from: https://github.com/tensorflow/tensorflow/raw/r0.11/tensorflow/examples/tutorials/mnist/mnist_with_summaries.py\n\ngoes wrong here:\n\n```\nif i % 100 == 99:  # Record execution stats\n        run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\n        run_metadata = tf.RunMetadata()\n        summary, _ = sess.run([merged, train_step],\n                              feed_dict=feed_dict(True),\n                              options=run_options,\n                              run_metadata=run_metadata)\n        train_writer.add_run_metadata(run_metadata, 'step%03d' % i)\n        train_writer.add_summary(summary, i)\n        print('Adding run metadata for', i)\n```\n### What other attempted solutions have you tried?\n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment or provide link).\n\n```\nAccuracy at step 0: 0.1045\nAccuracy at step 10: 0.6843\nAccuracy at step 20: 0.8074\nAccuracy at step 30: 0.8511\nAccuracy at step 40: 0.878\nAccuracy at step 50: 0.8869\nAccuracy at step 60: 0.89\nAccuracy at step 70: 0.8928\nAccuracy at step 80: 0.893\nAccuracy at step 90: 0.8945\nI tensorflow/stream_executor/dso_loader.cc:119] Couldn't open CUDA library libcupti.so.7.5. LD_LIBRARY_PATH: /home/wk15/intel/mkl/lib/intel64:/usr/local/cuda/lib64:/home/wk15/intel/mkl/lib/intel64::/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/intel/mkl/lib/:/home/wk15/lib:/home/wk15/local/lib:/home/wk15/boost-1-61-binary/lib\nF tensorflow/core/platform/default/gpu/cupti_wrapper.cc:59] Check failed: ::tensorflow::Status::OK() == (::tensorflow::Env::Default()->GetSymbolFromLibrary( GetDsoHandle(), kName, &f)) (OK vs. Not found: /home/wk15/.local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow.so: undefined symbol: cuptiActivityRegisterCallbacks)could not find cuptiActivityRegisterCallbacksin libcupti DSO\n```\n"}