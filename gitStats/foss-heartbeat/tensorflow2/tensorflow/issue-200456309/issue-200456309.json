{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6814", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6814/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6814/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6814/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6814", "id": 200456309, "node_id": "MDU6SXNzdWUyMDA0NTYzMDk=", "number": 6814, "title": "mnist preload data reader example fails ", "user": {"login": "davidslac", "id": 16782213, "node_id": "MDQ6VXNlcjE2NzgyMjEz", "avatar_url": "https://avatars0.githubusercontent.com/u/16782213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidslac", "html_url": "https://github.com/davidslac", "followers_url": "https://api.github.com/users/davidslac/followers", "following_url": "https://api.github.com/users/davidslac/following{/other_user}", "gists_url": "https://api.github.com/users/davidslac/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidslac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidslac/subscriptions", "organizations_url": "https://api.github.com/users/davidslac/orgs", "repos_url": "https://api.github.com/users/davidslac/repos", "events_url": "https://api.github.com/users/davidslac/events{/privacy}", "received_events_url": "https://api.github.com/users/davidslac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-12T19:22:33Z", "updated_at": "2017-06-16T20:59:45Z", "closed_at": "2017-06-16T20:59:45Z", "author_association": "NONE", "body_html": "<p>I am using tensorflow version 12, following the documentation at</p>\n<p><a href=\"https://www.tensorflow.org/how_tos/reading_data/\" rel=\"nofollow\">https://www.tensorflow.org/how_tos/reading_data/</a></p>\n<p>which points to the example:</p>\n<p><a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/how_tos/reading_data/fully_connected_preloaded_var.py\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/how_tos/reading_data/fully_connected_preloaded_var.py</a></p>\n<p>however, when I run that example, I get errors about un-initialized variables. Here is the output:</p>\n<pre><code>python tf_mnist_preload.py \nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so locally\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\nExtracting /tmp/data/train-images-idx3-ubyte.gz\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:87:00.0\nTotal memory: 11.17GiB\nFree memory: 11.11GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: Tesla K80, pci bus id: 0000:87:00.0)\nW tensorflow/core/framework/op_kernel.cc:975] Failed precondition: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\nW tensorflow/core/framework/op_kernel.cc:975] Out of range: FIFOQueue '_1_input/batch/fifo_queue' is closed and has insufficient elements (requested 100, current size 0)\n\t [[Node: input/batch = QueueDequeueMany[_class=[\"loc:@input/batch/fifo_queue\"], component_types=[DT_FLOAT, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/batch/fifo_queue, input/batch/n)]]\nSaving\nDone training for 2 epochs, 0 steps.\nTraceback (most recent call last):\n  File \"tf_mnist_preload.py\", line 195, in &lt;module&gt;\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"tf_mnist_preload.py\", line 147, in main\n    run_training()\n  File \"tf_mnist_preload.py\", line 142, in run_training\n    coord.join(threads)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run\n    sess.run(enqueue_op)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run\n    run_metadata_ptr)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\n    target_list, options, run_metadata)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\nCaused by op u'input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:\n  File \"tf_mnist_preload.py\", line 195, in &lt;module&gt;\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"tf_mnist_preload.py\", line 147, in main\n    run_training()\n  File \"tf_mnist_preload.py\", line 63, in run_training\n    [input_images, input_labels], num_epochs=FLAGS.num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer\n    shared_name=shared_name)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer\n    shared_name, name, \"fraction_of_%d_full\" % capacity)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer\n    input_tensor = limit_epochs(input_tensor, num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs\n    counter = epochs.count_up_to(num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 652, in count_up_to\n    return state_ops.count_up_to(self._variable, limit=limit)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to\n    result = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nFailedPreconditionError (see above for traceback): Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\n</code></pre>", "body_text": "I am using tensorflow version 12, following the documentation at\nhttps://www.tensorflow.org/how_tos/reading_data/\nwhich points to the example:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/how_tos/reading_data/fully_connected_preloaded_var.py\nhowever, when I run that example, I get errors about un-initialized variables. Here is the output:\npython tf_mnist_preload.py \nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so locally\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\nExtracting /tmp/data/train-images-idx3-ubyte.gz\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \nname: Tesla K80\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\npciBusID 0000:87:00.0\nTotal memory: 11.17GiB\nFree memory: 11.11GiB\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:87:00.0)\nW tensorflow/core/framework/op_kernel.cc:975] Failed precondition: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\nW tensorflow/core/framework/op_kernel.cc:975] Out of range: FIFOQueue '_1_input/batch/fifo_queue' is closed and has insufficient elements (requested 100, current size 0)\n\t [[Node: input/batch = QueueDequeueMany[_class=[\"loc:@input/batch/fifo_queue\"], component_types=[DT_FLOAT, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/batch/fifo_queue, input/batch/n)]]\nSaving\nDone training for 2 epochs, 0 steps.\nTraceback (most recent call last):\n  File \"tf_mnist_preload.py\", line 195, in <module>\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"tf_mnist_preload.py\", line 147, in main\n    run_training()\n  File \"tf_mnist_preload.py\", line 142, in run_training\n    coord.join(threads)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join\n    six.reraise(*self._exc_info_to_raise)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run\n    sess.run(enqueue_op)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run\n    run_metadata_ptr)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\n    target_list, options, run_metadata)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\nCaused by op u'input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:\n  File \"tf_mnist_preload.py\", line 195, in <module>\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\n  File \"tf_mnist_preload.py\", line 147, in main\n    run_training()\n  File \"tf_mnist_preload.py\", line 63, in run_training\n    [input_images, input_labels], num_epochs=FLAGS.num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer\n    shared_name=shared_name)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer\n    shared_name, name, \"fraction_of_%d_full\" % capacity)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer\n    input_tensor = limit_epochs(input_tensor, num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs\n    counter = epochs.count_up_to(num_epochs)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 652, in count_up_to\n    return state_ops.count_up_to(self._variable, limit=limit)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to\n    result = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nFailedPreconditionError (see above for traceback): Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]", "body": "I am using tensorflow version 12, following the documentation at \r\n\r\nhttps://www.tensorflow.org/how_tos/reading_data/\r\n\r\nwhich points to the example:\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/how_tos/reading_data/fully_connected_preloaded_var.py\r\n\r\nhowever, when I run that example, I get errors about un-initialized variables. Here is the output:\r\n\r\n```\r\npython tf_mnist_preload.py \r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so locally\r\nSuccessfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.\r\nExtracting /tmp/data/train-images-idx3-ubyte.gz\r\nSuccessfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.\r\nExtracting /tmp/data/train-labels-idx1-ubyte.gz\r\nSuccessfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.\r\nExtracting /tmp/data/t10k-images-idx3-ubyte.gz\r\nSuccessfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.\r\nExtracting /tmp/data/t10k-labels-idx1-ubyte.gz\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \r\nname: Tesla K80\r\nmajor: 3 minor: 7 memoryClockRate (GHz) 0.8235\r\npciBusID 0000:87:00.0\r\nTotal memory: 11.17GiB\r\nFree memory: 11.11GiB\r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \r\nI tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:87:00.0)\r\nW tensorflow/core/framework/op_kernel.cc:975] Failed precondition: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\r\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\r\nW tensorflow/core/framework/op_kernel.cc:975] Out of range: FIFOQueue '_1_input/batch/fifo_queue' is closed and has insufficient elements (requested 100, current size 0)\r\n\t [[Node: input/batch = QueueDequeueMany[_class=[\"loc:@input/batch/fifo_queue\"], component_types=[DT_FLOAT, DT_INT32], timeout_ms=-1, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/batch/fifo_queue, input/batch/n)]]\r\nSaving\r\nDone training for 2 epochs, 0 steps.\r\nTraceback (most recent call last):\r\n  File \"tf_mnist_preload.py\", line 195, in <module>\r\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"tf_mnist_preload.py\", line 147, in main\r\n    run_training()\r\n  File \"tf_mnist_preload.py\", line 142, in run_training\r\n    coord.join(threads)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/coordinator.py\", line 386, in join\r\n    six.reraise(*self._exc_info_to_raise)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/queue_runner_impl.py\", line 234, in _run\r\n    sess.run(enqueue_op)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 766, in run\r\n    run_metadata_ptr)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 964, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1014, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1034, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\r\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\r\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\nCaused by op u'input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo', defined at:\r\n  File \"tf_mnist_preload.py\", line 195, in <module>\r\n    tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/platform/app.py\", line 43, in run\r\n    sys.exit(main(sys.argv[:1] + flags_passthrough))\r\n  File \"tf_mnist_preload.py\", line 147, in main\r\n    run_training()\r\n  File \"tf_mnist_preload.py\", line 63, in run_training\r\n    [input_images, input_labels], num_epochs=FLAGS.num_epochs)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 305, in slice_input_producer\r\n    shared_name=shared_name)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 262, in range_input_producer\r\n    shared_name, name, \"fraction_of_%d_full\" % capacity)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 156, in input_producer\r\n    input_tensor = limit_epochs(input_tensor, num_epochs)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/training/input.py\", line 96, in limit_epochs\r\n    counter = epochs.count_up_to(num_epochs)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 652, in count_up_to\r\n    return state_ops.count_up_to(self._variable, limit=limit)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 126, in count_up_to\r\n    result = _op_def_lib.apply_op(\"CountUpTo\", ref=ref, limit=limit, name=name)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\r\n    op_def=op_def)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/home/davidsch/miniconda2/envs/mlearn/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nFailedPreconditionError (see above for traceback): Attempting to use uninitialized value input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\r\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo = CountUpTo[T=DT_INT64, _class=[\"loc:@input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs\"], limit=2, _device=\"/job:localhost/replica:0/task:0/cpu:0\"](input/input_producer/input_producer/fraction_of_32_full/limit_epochs/epochs)]]\r\n\t [[Node: input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo/_12 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_13_input/input_producer/input_producer/fraction_of_32_full/limit_epochs/CountUpTo\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\r\n```\r\n\r\n\r\n"}