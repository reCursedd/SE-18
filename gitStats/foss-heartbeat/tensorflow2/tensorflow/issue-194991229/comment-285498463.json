{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/285498463", "html_url": "https://github.com/tensorflow/tensorflow/issues/6266#issuecomment-285498463", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6266", "id": 285498463, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTQ5ODQ2Mw==", "user": {"login": "cantonios", "id": 2538739, "node_id": "MDQ6VXNlcjI1Mzg3Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2538739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cantonios", "html_url": "https://github.com/cantonios", "followers_url": "https://api.github.com/users/cantonios/followers", "following_url": "https://api.github.com/users/cantonios/following{/other_user}", "gists_url": "https://api.github.com/users/cantonios/gists{/gist_id}", "starred_url": "https://api.github.com/users/cantonios/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cantonios/subscriptions", "organizations_url": "https://api.github.com/users/cantonios/orgs", "repos_url": "https://api.github.com/users/cantonios/repos", "events_url": "https://api.github.com/users/cantonios/events{/privacy}", "received_events_url": "https://api.github.com/users/cantonios/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-09T22:05:00Z", "updated_at": "2017-03-09T22:05:00Z", "author_association": "NONE", "body_html": "<p>Note that for me, the data loaded using <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9006284\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pieterjandesmedt\">@pieterjandesmedt</a> 's answer resulted in incorrect data ranges.</p>\n<p>It seems matplotlib loads in the data with intensities in the range [0,1] rather than [0, 255], so you would also need to adjust <code>pixel_depth</code> to be 1 instead of 255.  Rather than doing that, I used PIL directly to load in the images and convert them to numpy arrays:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">from</span> <span class=\"pl-c1\">PIL</span> <span class=\"pl-k\">import</span> Image\n      <span class=\"pl-c1\">...</span>\n      image_data <span class=\"pl-k\">=</span> (np.asarray(Image.open(image_file)).astype(<span class=\"pl-c1\">float</span>) \n                              <span class=\"pl-k\">-</span> pixel_depth <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>) <span class=\"pl-k\">/</span> pixel_depth</pre></div>", "body_text": "Note that for me, the data loaded using @pieterjandesmedt 's answer resulted in incorrect data ranges.\nIt seems matplotlib loads in the data with intensities in the range [0,1] rather than [0, 255], so you would also need to adjust pixel_depth to be 1 instead of 255.  Rather than doing that, I used PIL directly to load in the images and convert them to numpy arrays:\nfrom PIL import Image\n      ...\n      image_data = (np.asarray(Image.open(image_file)).astype(float) \n                              - pixel_depth / 2) / pixel_depth", "body": "Note that for me, the data loaded using @pieterjandesmedt 's answer resulted in incorrect data ranges.  \r\n\r\nIt seems matplotlib loads in the data with intensities in the range [0,1] rather than [0, 255], so you would also need to adjust `pixel_depth` to be 1 instead of 255.  Rather than doing that, I used PIL directly to load in the images and convert them to numpy arrays:\r\n\r\n```python\r\nfrom PIL import Image\r\n      ...\r\n      image_data = (np.asarray(Image.open(image_file)).astype(float) \r\n                              - pixel_depth / 2) / pixel_depth\r\n```"}