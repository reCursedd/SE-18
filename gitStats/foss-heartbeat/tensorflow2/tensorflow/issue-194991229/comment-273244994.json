{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/273244994", "html_url": "https://github.com/tensorflow/tensorflow/issues/6266#issuecomment-273244994", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6266", "id": 273244994, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI0NDk5NA==", "user": {"login": "pieterjandesmedt", "id": 9006284, "node_id": "MDQ6VXNlcjkwMDYyODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9006284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pieterjandesmedt", "html_url": "https://github.com/pieterjandesmedt", "followers_url": "https://api.github.com/users/pieterjandesmedt/followers", "following_url": "https://api.github.com/users/pieterjandesmedt/following{/other_user}", "gists_url": "https://api.github.com/users/pieterjandesmedt/gists{/gist_id}", "starred_url": "https://api.github.com/users/pieterjandesmedt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pieterjandesmedt/subscriptions", "organizations_url": "https://api.github.com/users/pieterjandesmedt/orgs", "repos_url": "https://api.github.com/users/pieterjandesmedt/repos", "events_url": "https://api.github.com/users/pieterjandesmedt/events{/privacy}", "received_events_url": "https://api.github.com/users/pieterjandesmedt/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-17T17:51:42Z", "updated_at": "2017-01-17T17:51:42Z", "author_association": "NONE", "body_html": "<p>I used this as a workaround:</p>\n<p>Add this:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> matplotlib.pyplot <span class=\"pl-k\">as</span> plt\n<span class=\"pl-k\">import</span> matplotlib.image <span class=\"pl-k\">as</span> mpimg</pre></div>\n<p>Then replace</p>\n<div class=\"highlight highlight-source-python\"><pre>      image_data <span class=\"pl-k\">=</span> (ndimage.imread(image_file).astype(<span class=\"pl-c1\">float</span>) <span class=\"pl-k\">-</span> \n                    pixel_depth <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>) <span class=\"pl-k\">/</span> pixel_depth</pre></div>\n<p>with</p>\n<div class=\"highlight highlight-source-python\"><pre>      image_data <span class=\"pl-k\">=</span> (mpimg.imread(image_file).astype(<span class=\"pl-c1\">float</span>) <span class=\"pl-k\">-</span> \n                    pixel_depth <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>) <span class=\"pl-k\">/</span> pixel_depth</pre></div>\n<p>and also add</p>\n<div class=\"highlight highlight-source-python\"><pre>    <span class=\"pl-k\">except</span> <span class=\"pl-c1\">ValueError</span> <span class=\"pl-k\">as</span> e:\n      <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Could not read:<span class=\"pl-pds\">'</span></span>, image_file, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>:<span class=\"pl-pds\">'</span></span>, e, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>- it<span class=\"pl-cce\">\\'</span>s ok, skipping.<span class=\"pl-pds\">'</span></span>)</pre></div>\n<p>in that same <code>try</code>-block</p>", "body_text": "I used this as a workaround:\nAdd this:\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\nThen replace\n      image_data = (ndimage.imread(image_file).astype(float) - \n                    pixel_depth / 2) / pixel_depth\nwith\n      image_data = (mpimg.imread(image_file).astype(float) - \n                    pixel_depth / 2) / pixel_depth\nand also add\n    except ValueError as e:\n      print('Could not read:', image_file, ':', e, '- it\\'s ok, skipping.')\nin that same try-block", "body": "I used this as a workaround:\r\n\r\nAdd this:\r\n```python\r\nimport matplotlib.pyplot as plt\r\nimport matplotlib.image as mpimg\r\n```\r\n\r\nThen replace \r\n```python\r\n      image_data = (ndimage.imread(image_file).astype(float) - \r\n                    pixel_depth / 2) / pixel_depth\r\n```\r\nwith\r\n```python\r\n      image_data = (mpimg.imread(image_file).astype(float) - \r\n                    pixel_depth / 2) / pixel_depth\r\n```\r\n\r\nand also add\r\n```python\r\n    except ValueError as e:\r\n      print('Could not read:', image_file, ':', e, '- it\\'s ok, skipping.')\r\n```\r\nin that same `try`-block"}