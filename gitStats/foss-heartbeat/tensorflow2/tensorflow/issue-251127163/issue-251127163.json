{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12382", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12382/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12382/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12382/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12382", "id": 251127163, "node_id": "MDU6SXNzdWUyNTExMjcxNjM=", "number": 12382, "title": "using two different models for prediction", "user": {"login": "Zumbalamambo", "id": 24539006, "node_id": "MDQ6VXNlcjI0NTM5MDA2", "avatar_url": "https://avatars3.githubusercontent.com/u/24539006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zumbalamambo", "html_url": "https://github.com/Zumbalamambo", "followers_url": "https://api.github.com/users/Zumbalamambo/followers", "following_url": "https://api.github.com/users/Zumbalamambo/following{/other_user}", "gists_url": "https://api.github.com/users/Zumbalamambo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zumbalamambo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zumbalamambo/subscriptions", "organizations_url": "https://api.github.com/users/Zumbalamambo/orgs", "repos_url": "https://api.github.com/users/Zumbalamambo/repos", "events_url": "https://api.github.com/users/Zumbalamambo/events{/privacy}", "received_events_url": "https://api.github.com/users/Zumbalamambo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-18T03:04:17Z", "updated_at": "2017-08-18T03:28:49Z", "closed_at": "2017-08-18T03:14:46Z", "author_association": "NONE", "body_html": "<p>Im using the following code to import graph def since i want to use two model files individually.</p>\n<pre><code>def initialSetup():\n    os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\n    start_time = timeit.default_timer()\n\n    # This takes 2-5 seconds to run\n    # Unpersists graph from file\n    with tf.gfile.FastGFile('age/output_graph.pb', 'rb') as f:\n        age_graph_def = tf.GraphDef()\n        age_graph_def.ParseFromString(f.read())\n        tf.import_graph_def(age_graph_def, name='')\n\n    with tf.gfile.FastGFile('output_graph.pb', 'rb') as f:\n        gender_graph_def = tf.GraphDef()\n        gender_graph_def.ParseFromString(f.read())\n        tf.import_graph_def(gender_graph_def, name='')\n\n    print ('Took {} seconds to unpersist the graph'.format(timeit.default_timer() - start_time))\n\n</code></pre>\n<p>but how do I use them after importing individually ? I tried adding name ='age' and name = 'gender' to differentiate but it is not working out as well.</p>", "body_text": "Im using the following code to import graph def since i want to use two model files individually.\ndef initialSetup():\n    os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\n    start_time = timeit.default_timer()\n\n    # This takes 2-5 seconds to run\n    # Unpersists graph from file\n    with tf.gfile.FastGFile('age/output_graph.pb', 'rb') as f:\n        age_graph_def = tf.GraphDef()\n        age_graph_def.ParseFromString(f.read())\n        tf.import_graph_def(age_graph_def, name='')\n\n    with tf.gfile.FastGFile('output_graph.pb', 'rb') as f:\n        gender_graph_def = tf.GraphDef()\n        gender_graph_def.ParseFromString(f.read())\n        tf.import_graph_def(gender_graph_def, name='')\n\n    print ('Took {} seconds to unpersist the graph'.format(timeit.default_timer() - start_time))\n\n\nbut how do I use them after importing individually ? I tried adding name ='age' and name = 'gender' to differentiate but it is not working out as well.", "body": "Im using the following code to import graph def since i want to use two model files individually.\r\n\r\n```\r\ndef initialSetup():\r\n    os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\r\n    start_time = timeit.default_timer()\r\n\r\n    # This takes 2-5 seconds to run\r\n    # Unpersists graph from file\r\n    with tf.gfile.FastGFile('age/output_graph.pb', 'rb') as f:\r\n        age_graph_def = tf.GraphDef()\r\n        age_graph_def.ParseFromString(f.read())\r\n        tf.import_graph_def(age_graph_def, name='')\r\n\r\n    with tf.gfile.FastGFile('output_graph.pb', 'rb') as f:\r\n        gender_graph_def = tf.GraphDef()\r\n        gender_graph_def.ParseFromString(f.read())\r\n        tf.import_graph_def(gender_graph_def, name='')\r\n\r\n    print ('Took {} seconds to unpersist the graph'.format(timeit.default_timer() - start_time))\r\n\r\n```\r\n\r\nbut how do I use them after importing individually ? I tried adding name ='age' and name = 'gender' to differentiate but it is not working out as well. "}