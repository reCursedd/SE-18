{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/121010594", "pull_request_review_id": 43026827, "id": 121010594, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMTAxMDU5NA==", "diff_hunk": "@@ -762,6 +762,9 @@ def _shuffle_batch(tensors, batch_size, capacity, min_after_dequeue,\n   tensor_list = _as_tensor_list(tensors)\n   with ops.name_scope(name, \"shuffle_batch\",\n                       list(tensor_list) + [keep_input]) as name:\n+    if capacity == min_after_dequeue:\n+      raise ValueError(\"capacity %d must not be equal to min_after_dequeue %d.\"\n+                       % (capacity, min_after_dequeue))", "path": "tensorflow/python/training/input.py", "position": null, "original_position": 6, "commit_id": "7a59d5d24d0de59fa39bed50f50ad8b799f66b0d", "original_commit_id": "99b3c0eb6310026fc491e508ac157826f3b30a74", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "body": "Looking at the implementation in `random_shuffle_queue_op.cc`, it seems there will be a runtime error if `capacity <= min_after_dequeue`. Since you're adding a check here, can you extend it to cover the `<` case as well,  and update the message?", "created_at": "2017-06-08T22:07:15Z", "updated_at": "2017-06-08T22:57:21Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/10477#discussion_r121010594", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10477", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/121010594"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/10477#discussion_r121010594"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10477"}}, "body_html": "<p>Looking at the implementation in <code>random_shuffle_queue_op.cc</code>, it seems there will be a runtime error if <code>capacity &lt;= min_after_dequeue</code>. Since you're adding a check here, can you extend it to cover the <code>&lt;</code> case as well,  and update the message?</p>", "body_text": "Looking at the implementation in random_shuffle_queue_op.cc, it seems there will be a runtime error if capacity <= min_after_dequeue. Since you're adding a check here, can you extend it to cover the < case as well,  and update the message?"}