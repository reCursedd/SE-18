{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/420024618", "html_url": "https://github.com/tensorflow/tensorflow/issues/21834#issuecomment-420024618", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21834", "id": 420024618, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDAyNDYxOA==", "user": {"login": "cfsanche", "id": 23690952, "node_id": "MDQ6VXNlcjIzNjkwOTUy", "avatar_url": "https://avatars2.githubusercontent.com/u/23690952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfsanche", "html_url": "https://github.com/cfsanche", "followers_url": "https://api.github.com/users/cfsanche/followers", "following_url": "https://api.github.com/users/cfsanche/following{/other_user}", "gists_url": "https://api.github.com/users/cfsanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfsanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfsanche/subscriptions", "organizations_url": "https://api.github.com/users/cfsanche/orgs", "repos_url": "https://api.github.com/users/cfsanche/repos", "events_url": "https://api.github.com/users/cfsanche/events{/privacy}", "received_events_url": "https://api.github.com/users/cfsanche/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-10T19:03:43Z", "updated_at": "2018-09-10T19:03:43Z", "author_association": "NONE", "body_html": "<p>Sorry for the delay.</p>\n<p>I applied the changes you mentioned and then got a similar error for allocation.cc/h so I made similar changes there as well. However, when I build after these changes I get another error (below is a snip it of the make output):</p>\n<p>g++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/kernels/conv.cc -o /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o<br>\nIn file included from /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:0,<br>\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_tensor_reduced_instantiations_oss.h:78,<br>\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_spatial_convolutions.h:37,<br>\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:31,<br>\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/cblas_conv.h:28,<br>\nfrom tensorflow/contrib/lite/kernels/conv.cc:28:<br>\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h: In instantiation of \u2018static EigenForTFLite::NonBlockingThreadPoolTempl::PerThread* EigenForTFLite::NonBlockingThreadPoolTempl::GetPerThread() [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019:<br>\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:92:34:   required from \u2018void EigenForTFLite::NonBlockingThreadPoolTempl::Schedule(std::function&lt;void()&gt;) [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019<br>\n./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:44:34:   required from here<br>\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:34: error: \u2018per_thread_\u2019 cannot be thread-local because it has non-trivial type \u2018EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::PerThread\u2019<br>\nMakefile:203: recipe for target '/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o' failed<br>\nmake: *** [/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o] Error 1</p>", "body_text": "Sorry for the delay.\nI applied the changes you mentioned and then got a similar error for allocation.cc/h so I made similar changes there as well. However, when I build after these changes I get another error (below is a snip it of the make output):\ng++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/kernels/conv.cc -o /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o\nIn file included from /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:0,\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_tensor_reduced_instantiations_oss.h:78,\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_spatial_convolutions.h:37,\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:31,\nfrom ./tensorflow/contrib/lite/kernels/internal/optimized/cblas_conv.h:28,\nfrom tensorflow/contrib/lite/kernels/conv.cc:28:\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h: In instantiation of \u2018static EigenForTFLite::NonBlockingThreadPoolTempl::PerThread* EigenForTFLite::NonBlockingThreadPoolTempl::GetPerThread() [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019:\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:92:34:   required from \u2018void EigenForTFLite::NonBlockingThreadPoolTempl::Schedule(std::function<void()>) [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019\n./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:44:34:   required from here\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:34: error: \u2018per_thread_\u2019 cannot be thread-local because it has non-trivial type \u2018EigenForTFLite::NonBlockingThreadPoolTemplEigenForTFLite::StlThreadEnvironment::PerThread\u2019\nMakefile:203: recipe for target '/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o' failed\nmake: *** [/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o] Error 1", "body": "Sorry for the delay. \r\n\r\nI applied the changes you mentioned and then got a similar error for allocation.cc/h so I made similar changes there as well. However, when I build after these changes I get another error (below is a snip it of the make output):\r\n\r\ng++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/kernels/conv.cc -o /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o\r\nIn file included from /home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/ThreadPool:59:0,\r\n                 from ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_tensor_reduced_instantiations_oss.h:78,\r\n                 from ./tensorflow/contrib/lite/kernels/internal/optimized/eigen_spatial_convolutions.h:37,\r\n                 from ./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:31,\r\n                 from ./tensorflow/contrib/lite/kernels/internal/optimized/cblas_conv.h:28,\r\n                 from tensorflow/contrib/lite/kernels/conv.cc:28:\r\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h: In instantiation of \u2018static EigenForTFLite::NonBlockingThreadPoolTempl<Environment>::PerThread* EigenForTFLite::NonBlockingThreadPoolTempl<Environment>::GetPerThread() [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019:\r\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:92:34:   required from \u2018void EigenForTFLite::NonBlockingThreadPoolTempl<Environment>::Schedule(std::function<void()>) [with Environment = EigenForTFLite::StlThreadEnvironment]\u2019\r\n./tensorflow/contrib/lite/kernels/internal/optimized/multithreaded_conv.h:44:34:   required from here\r\n/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen/unsupported/Eigen/CXX11/src/ThreadPool/NonBlockingThreadPool.h:326:34: error: \u2018per_thread_\u2019 cannot be thread-local because it has non-trivial type \u2018EigenForTFLite::NonBlockingThreadPoolTempl<EigenForTFLite::StlThreadEnvironment>::PerThread\u2019\r\nMakefile:203: recipe for target '/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o' failed\r\nmake: *** [/home/pi/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/kernels/conv.o] Error 1"}