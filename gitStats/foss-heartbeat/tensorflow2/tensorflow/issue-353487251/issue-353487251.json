{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21834", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21834/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21834/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21834/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21834", "id": 353487251, "node_id": "MDU6SXNzdWUzNTM0ODcyNTE=", "number": 21834, "title": "Compiling tensorflow lite on gcc 4.7", "user": {"login": "cfsanche", "id": 23690952, "node_id": "MDQ6VXNlcjIzNjkwOTUy", "avatar_url": "https://avatars2.githubusercontent.com/u/23690952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfsanche", "html_url": "https://github.com/cfsanche", "followers_url": "https://api.github.com/users/cfsanche/followers", "following_url": "https://api.github.com/users/cfsanche/following{/other_user}", "gists_url": "https://api.github.com/users/cfsanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfsanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfsanche/subscriptions", "organizations_url": "https://api.github.com/users/cfsanche/orgs", "repos_url": "https://api.github.com/users/cfsanche/repos", "events_url": "https://api.github.com/users/cfsanche/events{/privacy}", "received_events_url": "https://api.github.com/users/cfsanche/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-08-23T17:49:42Z", "updated_at": "2018-11-16T17:28:31Z", "closed_at": "2018-11-09T19:02:56Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nRaspbian</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:<br>\nInstalled from source</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:<br>\nRelease 1.9.0</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\nN/A using make to compile Tensorflow Lite</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\nGCC version 4.7.3</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:<br>\nN/a</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:<br>\nN/a</p>\n</li>\n<li>\n<p><strong>Mobile device</strong>:<br>\nN/a</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:</p>\n</li>\n</ul>\n<ol>\n<li>Run ./tensorflow/contrib/lite/download_dependencies.sh command from root directory</li>\n<li>Copy resulting downloads folder, ios_makefile.inc, rpi_makefile.inc and the Makefile found in ./tensorflow/contrib/lite folder into the root directory</li>\n<li>From the root directory run make</li>\n<li>Should result in \"gen\" folder with tensorflowlite.a library</li>\n</ol>\n<h3>Describe the problem</h3>\n<p>I am trying to get tensorflow lite up and running on some older IOT devices that have gcc version 4.7 installed (not possible to upgrade from this version either). Have not been able to do so yet so I am wondering if anyone has had an success doing so or if anyone one knows what steps I would have to take to do so.</p>\n<h3>Source code / logs</h3>\n<p>When attempting to compile on gcc 4.7 the make output is:</p>\n<p>g++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/allocation.cc -o /home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o<br>\nIn file included from /usr/include/c++/4.7/memory:86:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/usr/include/c++/4.7/bits/unique_ptr.h: In instantiation of \u2018std::unique_ptr&lt;_Tp [], _Dp&gt;&amp; std::unique_ptr&lt;_Tp [], _Dp&gt;::operator=(std::unique_ptr&lt;_Up, _Ep&gt;&amp;&amp;) [with _Up = char []; _Ep = std::default_delete&lt;char []&gt;; _Tp = const char; _Dp = std::default_delete&lt;const char []&gt;; std::unique_ptr&lt;_Tp [], _Dp&gt; = std::unique_ptr&lt;const char []&gt;]\u2019:<br>\ntensorflow/contrib/lite/allocation.cc:102:36:   required from here<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:340:4: error: use of deleted function \u2018void std::unique_ptr&lt;_Tp [], _Dp&gt;::reset(_Up) [with _Up = char*; _Tp = const char; _Dp = std::default_delete&lt;const char []&gt;]\u2019<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:404:7: error: declared here<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: error: no match for \u2018operator=\u2019 in \u2018std::unique_ptr&lt;_Tp [], _Dp&gt;::get_deleter&lt;const char, std::default_delete&lt;const char []&gt; &gt;() = std::forward&lt;std::default_delete&lt;char []&gt; &gt;((* &amp;(&amp; __u)-&gt;std::unique_ptr&lt;_Tp [], _Dp&gt;::get_deleter&lt;char, std::default_delete&lt;char []&gt; &gt;()))\u2019<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: note: candidates are:<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete&lt;const char []&gt;&amp; std::default_delete&lt;const char []&gt;::operator=(const std::default_delete&lt;const char []&gt;&amp;)<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete&lt;char []&gt;\u2019 to \u2018const std::default_delete&lt;const char []&gt;&amp;\u2019<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete&lt;const char []&gt;&amp; std::default_delete&lt;const char []&gt;::operator=(std::default_delete&lt;const char []&gt;&amp;&amp;)<br>\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete&lt;char []&gt;\u2019 to \u2018std::default_delete&lt;const char []&gt;&amp;&amp;\u2019<br>\nMakefile:203: recipe for target '/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o' failed<br>\nmake: *** [/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o] Error 1</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nRaspbian\n\n\nTensorFlow installed from (source or binary):\nInstalled from source\n\n\nTensorFlow version (use command below):\nRelease 1.9.0\n\n\nBazel version (if compiling from source):\nN/A using make to compile Tensorflow Lite\n\n\nGCC/Compiler version (if compiling from source):\nGCC version 4.7.3\n\n\nCUDA/cuDNN version:\nN/a\n\n\nGPU model and memory:\nN/a\n\n\nMobile device:\nN/a\n\n\nExact command to reproduce:\n\n\n\nRun ./tensorflow/contrib/lite/download_dependencies.sh command from root directory\nCopy resulting downloads folder, ios_makefile.inc, rpi_makefile.inc and the Makefile found in ./tensorflow/contrib/lite folder into the root directory\nFrom the root directory run make\nShould result in \"gen\" folder with tensorflowlite.a library\n\nDescribe the problem\nI am trying to get tensorflow lite up and running on some older IOT devices that have gcc version 4.7 installed (not possible to upgrade from this version either). Have not been able to do so yet so I am wondering if anyone has had an success doing so or if anyone one knows what steps I would have to take to do so.\nSource code / logs\nWhen attempting to compile on gcc 4.7 the make output is:\ng++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/allocation.cc -o /home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o\nIn file included from /usr/include/c++/4.7/memory:86:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/usr/include/c++/4.7/bits/unique_ptr.h: In instantiation of \u2018std::unique_ptr<_Tp [], _Dp>& std::unique_ptr<_Tp [], _Dp>::operator=(std::unique_ptr<_Up, _Ep>&&) [with _Up = char []; _Ep = std::default_delete<char []>; _Tp = const char; _Dp = std::default_delete<const char []>; std::unique_ptr<_Tp [], _Dp> = std::unique_ptr<const char []>]\u2019:\ntensorflow/contrib/lite/allocation.cc:102:36:   required from here\n/usr/include/c++/4.7/bits/unique_ptr.h:340:4: error: use of deleted function \u2018void std::unique_ptr<_Tp [], _Dp>::reset(_Up) [with _Up = char*; _Tp = const char; _Dp = std::default_delete<const char []>]\u2019\n/usr/include/c++/4.7/bits/unique_ptr.h:404:7: error: declared here\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: error: no match for \u2018operator=\u2019 in \u2018std::unique_ptr<_Tp [], _Dp>::get_deleter<const char, std::default_delete<const char []> >() = std::forward<std::default_delete<char []> >((* &(& __u)->std::unique_ptr<_Tp [], _Dp>::get_deleter<char, std::default_delete<char []> >()))\u2019\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: note: candidates are:\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete<const char []>& std::default_delete<const char []>::operator=(const std::default_delete<const char []>&)\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete<char []>\u2019 to \u2018const std::default_delete<const char []>&\u2019\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete<const char []>& std::default_delete<const char []>::operator=(std::default_delete<const char []>&&)\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete<char []>\u2019 to \u2018std::default_delete<const char []>&&\u2019\nMakefile:203: recipe for target '/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o' failed\nmake: *** [/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o] Error 1", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: \r\nRaspbian \r\n\r\n- **TensorFlow installed from (source or binary)**:\r\nInstalled from source\r\n\r\n- **TensorFlow version (use command below)**:\r\nRelease 1.9.0\r\n\r\n- **Bazel version (if compiling from source)**:\r\nN/A using make to compile Tensorflow Lite\r\n\r\n- **GCC/Compiler version (if compiling from source)**:\r\nGCC version 4.7.3\r\n- **CUDA/cuDNN version**:\r\nN/a\r\n- **GPU model and memory**:\r\nN/a\r\n- **Mobile device**:\r\nN/a\r\n\r\n- **Exact command to reproduce**:\r\n1. Run ./tensorflow/contrib/lite/download_dependencies.sh command from root directory \r\n2. Copy resulting downloads folder, ios_makefile.inc, rpi_makefile.inc and the Makefile found in ./tensorflow/contrib/lite folder into the root directory\r\n3. From the root directory run make \r\n4. Should result in \"gen\" folder with tensorflowlite.a library\r\n\r\n### Describe the problem\r\nI am trying to get tensorflow lite up and running on some older IOT devices that have gcc version 4.7 installed (not possible to upgrade from this version either). Have not been able to do so yet so I am wondering if anyone has had an success doing so or if anyone one knows what steps I would have to take to do so. \r\n\r\n### Source code / logs\r\nWhen attempting to compile on gcc 4.7 the make output is:\r\n\r\ng++ -mfpu=neon -pthread -fPIC --std=c++11 -O3 -DNDEBUG -I. -I/home/Documents/Test/ststicLibs/include/tensorflow-master/../../../ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/ -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/eigen -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/gemmlowp -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/neon_2_sse -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/farmhash/src -I/home/Documents/Test/ststicLibs/include/tensorflow-master/downloads/flatbuffers/include -I/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/ -I/usr/local/include -c tensorflow/contrib/lite/allocation.cc -o /home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o\r\nIn file included from /usr/include/c++/4.7/memory:86:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/usr/include/c++/4.7/bits/unique_ptr.h: In instantiation of \u2018std::unique_ptr<_Tp [], _Dp>& std::unique_ptr<_Tp [], _Dp>::operator=(std::unique_ptr<_Up, _Ep>&&) [with _Up = char []; _Ep = std::default_delete<char []>; _Tp = const char; _Dp = std::default_delete<const char []>; std::unique_ptr<_Tp [], _Dp> = std::unique_ptr<const char []>]\u2019:\r\ntensorflow/contrib/lite/allocation.cc:102:36:   required from here\r\n/usr/include/c++/4.7/bits/unique_ptr.h:340:4: error: use of deleted function \u2018void std::unique_ptr<_Tp [], _Dp>::reset(_Up) [with _Up = char*; _Tp = const char; _Dp = std::default_delete<const char []>]\u2019\r\n/usr/include/c++/4.7/bits/unique_ptr.h:404:7: error: declared here\r\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: error: no match for \u2018operator=\u2019 in \u2018std::unique_ptr<_Tp [], _Dp>::get_deleter<const char, std::default_delete<const char []> >() = std::forward<std::default_delete<char []> >((* &(& __u)->std::unique_ptr<_Tp [], _Dp>::get_deleter<char, std::default_delete<char []> >()))\u2019\r\n/usr/include/c++/4.7/bits/unique_ptr.h:341:4: note: candidates are:\r\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete<const char []>& std::default_delete<const char []>::operator=(const std::default_delete<const char []>&)\r\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete<char []>\u2019 to \u2018const std::default_delete<const char []>&\u2019\r\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note: std::default_delete<const char []>& std::default_delete<const char []>::operator=(std::default_delete<const char []>&&)\r\n/usr/include/c++/4.7/bits/unique_ptr.h:71:12: note:   no known conversion for argument 1 from \u2018std::default_delete<char []>\u2019 to \u2018std::default_delete<const char []>&&\u2019\r\nMakefile:203: recipe for target '/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o' failed\r\nmake: *** [/home/Documents/Test/ststicLibs/include/tensorflow-master/gen/obj/tensorflow/contrib/lite/allocation.o] Error 1\r\n\r\n"}