{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/346284237", "html_url": "https://github.com/tensorflow/tensorflow/issues/10153#issuecomment-346284237", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10153", "id": 346284237, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjI4NDIzNw==", "user": {"login": "matt-deboer", "id": 1491381, "node_id": "MDQ6VXNlcjE0OTEzODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1491381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matt-deboer", "html_url": "https://github.com/matt-deboer", "followers_url": "https://api.github.com/users/matt-deboer/followers", "following_url": "https://api.github.com/users/matt-deboer/following{/other_user}", "gists_url": "https://api.github.com/users/matt-deboer/gists{/gist_id}", "starred_url": "https://api.github.com/users/matt-deboer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matt-deboer/subscriptions", "organizations_url": "https://api.github.com/users/matt-deboer/orgs", "repos_url": "https://api.github.com/users/matt-deboer/repos", "events_url": "https://api.github.com/users/matt-deboer/events{/privacy}", "received_events_url": "https://api.github.com/users/matt-deboer/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-22T08:55:06Z", "updated_at": "2017-11-22T17:24:25Z", "author_association": "NONE", "body_html": "<p>using the prebuilt binaries results in the exact error mentioned above (<code>No OpKernel was registered to support Op 'ExtractImagePatches' with these attrs</code>)</p>\n<p>However, I was able to get this working with only the following steps:</p>\n<ol>\n<li>\n<p>Modify <code>tensorflow/core/kernels/BUILD</code>, adding <code>extract_image_patches_op.cc</code> and <code>extract_image_patches_op.h</code> to the <code>android_core_ops</code> target</p>\n</li>\n<li>\n<p>Clean and build with the standard bazel command:</p>\n</li>\n</ol>\n<pre><code>bazel clean &amp;&amp; \\\n    bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \\\n    --crosstool_top=//external:android/crosstool \\\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n    --cpu=armeabi-v7a\n</code></pre>\n<p>Although I'm rather new to bazel, I have the suspicion that I wasted many iterations by not running a <code>bazel clean</code> in between attempts.</p>", "body_text": "using the prebuilt binaries results in the exact error mentioned above (No OpKernel was registered to support Op 'ExtractImagePatches' with these attrs)\nHowever, I was able to get this working with only the following steps:\n\n\nModify tensorflow/core/kernels/BUILD, adding extract_image_patches_op.cc and extract_image_patches_op.h to the android_core_ops target\n\n\nClean and build with the standard bazel command:\n\n\nbazel clean && \\\n    bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \\\n    --crosstool_top=//external:android/crosstool \\\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n    --cpu=armeabi-v7a\n\nAlthough I'm rather new to bazel, I have the suspicion that I wasted many iterations by not running a bazel clean in between attempts.", "body": "using the prebuilt binaries results in the exact error mentioned above (`No OpKernel was registered to support Op 'ExtractImagePatches' with these attrs`) \r\n\r\nHowever, I was able to get this working with only the following steps:\r\n\r\n1. Modify `tensorflow/core/kernels/BUILD`, adding `extract_image_patches_op.cc` and `extract_image_patches_op.h` to the `android_core_ops` target\r\n\r\n2. Clean and build with the standard bazel command:\r\n```\r\nbazel clean && \\\r\n    bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so \\\r\n    --crosstool_top=//external:android/crosstool \\\r\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n    --cpu=armeabi-v7a\r\n```\r\nAlthough I'm rather new to bazel, I have the suspicion that I wasted many iterations by not running a `bazel clean` in between attempts."}