{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22586", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22586/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22586/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22586/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22586", "id": 364756760, "node_id": "MDU6SXNzdWUzNjQ3NTY3NjA=", "number": 22586, "title": "GPU Memory Allocator OOM Before Limit Reached", "user": {"login": "danielgrimshaw", "id": 8226905, "node_id": "MDQ6VXNlcjgyMjY5MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8226905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielgrimshaw", "html_url": "https://github.com/danielgrimshaw", "followers_url": "https://api.github.com/users/danielgrimshaw/followers", "following_url": "https://api.github.com/users/danielgrimshaw/following{/other_user}", "gists_url": "https://api.github.com/users/danielgrimshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielgrimshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielgrimshaw/subscriptions", "organizations_url": "https://api.github.com/users/danielgrimshaw/orgs", "repos_url": "https://api.github.com/users/danielgrimshaw/repos", "events_url": "https://api.github.com/users/danielgrimshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/danielgrimshaw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "smit-hinsu", "id": 1990079, "node_id": "MDQ6VXNlcjE5OTAwNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1990079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smit-hinsu", "html_url": "https://github.com/smit-hinsu", "followers_url": "https://api.github.com/users/smit-hinsu/followers", "following_url": "https://api.github.com/users/smit-hinsu/following{/other_user}", "gists_url": "https://api.github.com/users/smit-hinsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/smit-hinsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smit-hinsu/subscriptions", "organizations_url": "https://api.github.com/users/smit-hinsu/orgs", "repos_url": "https://api.github.com/users/smit-hinsu/repos", "events_url": "https://api.github.com/users/smit-hinsu/events{/privacy}", "received_events_url": "https://api.github.com/users/smit-hinsu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "smit-hinsu", "id": 1990079, "node_id": "MDQ6VXNlcjE5OTAwNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1990079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smit-hinsu", "html_url": "https://github.com/smit-hinsu", "followers_url": "https://api.github.com/users/smit-hinsu/followers", "following_url": "https://api.github.com/users/smit-hinsu/following{/other_user}", "gists_url": "https://api.github.com/users/smit-hinsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/smit-hinsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smit-hinsu/subscriptions", "organizations_url": "https://api.github.com/users/smit-hinsu/orgs", "repos_url": "https://api.github.com/users/smit-hinsu/repos", "events_url": "https://api.github.com/users/smit-hinsu/events{/privacy}", "received_events_url": "https://api.github.com/users/smit-hinsu/received_events", "type": "User", "site_admin": false}, {"login": "azaks2", "id": 40365382, "node_id": "MDQ6VXNlcjQwMzY1Mzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/40365382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azaks2", "html_url": "https://github.com/azaks2", "followers_url": "https://api.github.com/users/azaks2/followers", "following_url": "https://api.github.com/users/azaks2/following{/other_user}", "gists_url": "https://api.github.com/users/azaks2/gists{/gist_id}", "starred_url": "https://api.github.com/users/azaks2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azaks2/subscriptions", "organizations_url": "https://api.github.com/users/azaks2/orgs", "repos_url": "https://api.github.com/users/azaks2/repos", "events_url": "https://api.github.com/users/azaks2/events{/privacy}", "received_events_url": "https://api.github.com/users/azaks2/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-09-28T06:25:04Z", "updated_at": "2018-10-04T03:39:40Z", "closed_at": "2018-10-04T03:39:39Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Sort of, the issue seems to be occurring with the ELMo tfhub model</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Ubuntu 16.04</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: N/a</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: Binary</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.11.0 (git version v1.11.0-0-gc19e29306c)</li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>: N/a</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: N/a</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.2/7.2.1</li>\n<li><strong>GPU model and memory</strong>: 1080 Ti (11177 MiB)</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<pre><code>estimator = tf.estimator.DNNClassifier(\n                           hidden_units=[500, 100],\n                           feature_columns=[hub.text_embedding_column(key=\"cleaned\", module_spec=\"https://tfhub.dev/google/elmo/2\")],\n                           n_classes=2,\n                           optimizer=tf.train.ProximalAdagradOptimizer(learning_rate=0.003))\nestimator.train(input_fn=train_input_fn, steps=1000)\n</code></pre>\n<p>You'll need to provide the data, but this should reproduce the error.</p>\n<h3>Describe the problem</h3>\n<p>According to the memory trace, only 4.47 GiB have been allocated before the OOM error. Tensorflow has 8.74 GiB available. Barely over half of the available memory is used when tensorflow throws the OOM.</p>\n<h3>Source code / logs</h3>\n<pre><code>2018-09-27 22:58:14.599824: W tensorflow/core/graph/graph_constructor.cc:1263] Importing a graph with a lower producer version 26 into an existing graph with producer version 27. Shape inference will have run different parts of the graph with different producer versions.\n2018-09-27 22:58:16.160346: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-09-27 22:58:16.241355: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:964] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-09-27 22:58:16.241872: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties: \nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\npciBusID: 0000:01:00.0\ntotalMemory: 10.92GiB freeMemory: 8.74GiB\n2018-09-27 22:58:16.241896: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0\n2018-09-27 22:58:16.465458: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-09-27 22:58:16.465495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0 \n2018-09-27 22:58:16.465500: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N \n2018-09-27 22:58:16.465757: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8437 MB memory) -&gt; physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-09-27 22:58:22.105125: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.97GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:22.167820: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:25.227506: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.04GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:25.293991: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:29.024543: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.21GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:31.129676: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.43GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n[I 22:58:31.786 NotebookApp] Saving file at /Tensorflow Spam Classification.ipynb\n2018-09-27 22:58:41.991342: W tensorflow/core/common_runtime/bfc_allocator.cc:271] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.30GiB.  Current allocation summary follows.\n2018-09-27 22:58:41.991374: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (256):   Total Chunks: 54, Chunks in use: 54. 13.5KiB allocated for chunks. 13.5KiB in use in bin. 720B client-requested in use in bin.\n2018-09-27 22:58:41.991384: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (512):   Total Chunks: 8, Chunks in use: 7. 4.2KiB allocated for chunks. 3.8KiB in use in bin. 3.3KiB client-requested in use in bin.\n2018-09-27 22:58:41.991391: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1024):  Total Chunks: 3, Chunks in use: 3. 3.2KiB allocated for chunks. 3.2KiB in use in bin. 3.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991399: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2048):  Total Chunks: 7, Chunks in use: 4. 15.5KiB allocated for chunks. 8.2KiB in use in bin. 8.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991405: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4096):  Total Chunks: 6, Chunks in use: 2. 27.8KiB allocated for chunks. 8.0KiB in use in bin. 8.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991412: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8192):  Total Chunks: 7, Chunks in use: 5. 68.0KiB allocated for chunks. 48.0KiB in use in bin. 44.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991419: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16384):         Total Chunks: 2, Chunks in use: 0. 40.2KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991424: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (32768):         Total Chunks: 2, Chunks in use: 1. 81.0KiB allocated for chunks. 32.0KiB in use in bin. 32.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991431: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (65536):         Total Chunks: 7, Chunks in use: 4. 540.0KiB allocated for chunks. 298.0KiB in use in bin. 256.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991439: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (131072):        Total Chunks: 3, Chunks in use: 1. 525.5KiB allocated for chunks. 195.5KiB in use in bin. 195.3KiB client-requested in use in bin.\n2018-09-27 22:58:41.991445: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (262144):        Total Chunks: 4, Chunks in use: 4. 1.46MiB allocated for chunks. 1.46MiB in use in bin. 1.38MiB client-requested in use in bin.\n2018-09-27 22:58:41.991451: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (524288):        Total Chunks: 2, Chunks in use: 0. 1.66MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991457: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1048576):       Total Chunks: 1, Chunks in use: 1. 1.95MiB allocated for chunks. 1.95MiB in use in bin. 1.95MiB client-requested in use in bin.\n2018-09-27 22:58:41.991463: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2097152):       Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991468: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4194304):       Total Chunks: 2, Chunks in use: 1. 8.00MiB allocated for chunks. 4.00MiB in use in bin. 4.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991475: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8388608):       Total Chunks: 4, Chunks in use: 4. 32.00MiB allocated for chunks. 32.00MiB in use in bin. 32.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991481: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16777216):      Total Chunks: 5, Chunks in use: 4. 84.00MiB allocated for chunks. 64.00MiB in use in bin. 64.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991488: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (33554432):      Total Chunks: 3, Chunks in use: 1. 115.59MiB allocated for chunks. 41.80MiB in use in bin. 41.80MiB client-requested in use in bin.\n2018-09-27 22:58:41.991494: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (67108864):      Total Chunks: 4, Chunks in use: 4. 256.00MiB allocated for chunks. 256.00MiB in use in bin. 256.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991500: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (134217728):     Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991506: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (268435456):     Total Chunks: 6, Chunks in use: 3. 7.75GiB allocated for chunks. 4.08GiB in use in bin. 4.08GiB client-requested in use in bin.\n2018-09-27 22:58:41.991512: I tensorflow/core/common_runtime/bfc_allocator.cc:626] Bin for 2.30GiB was 256.00MiB, Chunk State: \n2018-09-27 22:58:41.991523: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 615.25MiB | Requested Size: 225.70MiB | in_use: 0, prev:   Size: 41.80MiB | Requested Size: 41.80MiB | in_use: 1, next:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1\n2018-09-27 22:58:41.991532: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 0, prev:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1, next:   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 1\n2018-09-27 22:58:41.991539: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.90GiB | Requested Size: 2.0KiB | in_use: 0, prev:   Size: 2.30GiB | Requested Size: 2.30GiB | in_use: 1\n2018-09-27 22:58:41.991545: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000000 of size 1280\n2018-09-27 22:58:41.991550: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000500 of size 256\n2018-09-27 22:58:41.991554: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000600 of size 256\n2018-09-27 22:58:41.991558: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000700 of size 256\n2018-09-27 22:58:41.991562: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000800 of size 256\n2018-09-27 22:58:41.991566: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000900 of size 256\n2018-09-27 22:58:41.991570: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000a00 of size 256\n2018-09-27 22:58:41.991575: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000b00 of size 256\n2018-09-27 22:58:41.991579: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000c00 of size 256\n2018-09-27 22:58:41.991583: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000d00 of size 256\n2018-09-27 22:58:41.991587: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000e00 of size 256\n2018-09-27 22:58:41.991591: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000f00 of size 256\n2018-09-27 22:58:41.991595: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001000 of size 256\n2018-09-27 22:58:41.991599: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001100 of size 256\n2018-09-27 22:58:41.991603: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001200 of size 256\n2018-09-27 22:58:41.991607: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001300 of size 256\n2018-09-27 22:58:41.991611: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001400 of size 256\n2018-09-27 22:58:41.991615: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001500 of size 256\n2018-09-27 22:58:41.991619: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001600 of size 256\n2018-09-27 22:58:41.991623: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001700 of size 256\n2018-09-27 22:58:41.991627: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001800 of size 256\n2018-09-27 22:58:41.991631: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001900 of size 256\n2018-09-27 22:58:41.991635: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001a00 of size 256\n2018-09-27 22:58:41.991639: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001b00 of size 256\n2018-09-27 22:58:41.991644: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001c00 of size 512\n2018-09-27 22:58:41.991648: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001e00 of size 256\n2018-09-27 22:58:41.991652: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001f00 of size 256\n2018-09-27 22:58:41.991656: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002000 of size 256\n2018-09-27 22:58:41.991660: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002100 of size 256\n2018-09-27 22:58:41.991664: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002200 of size 256\n2018-09-27 22:58:41.991668: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002300 of size 256\n2018-09-27 22:58:41.991672: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002400 of size 256\n2018-09-27 22:58:41.991676: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002500 of size 256\n2018-09-27 22:58:41.991680: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002600 of size 256\n2018-09-27 22:58:41.991684: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002700 of size 256\n2018-09-27 22:58:41.991688: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002800 of size 256\n2018-09-27 22:58:41.991692: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002900 of size 256\n2018-09-27 22:58:41.991696: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002a00 of size 256\n2018-09-27 22:58:41.991700: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002b00 of size 256\n2018-09-27 22:58:41.991704: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002c00 of size 256\n2018-09-27 22:58:41.991708: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002d00 of size 256\n2018-09-27 22:58:41.991712: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002e00 of size 256\n2018-09-27 22:58:41.991716: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002f00 of size 256\n2018-09-27 22:58:41.991720: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003000 of size 256\n2018-09-27 22:58:41.991724: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003100 of size 256\n2018-09-27 22:58:41.991727: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003200 of size 256\n2018-09-27 22:58:41.991731: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003300 of size 512\n2018-09-27 22:58:41.991735: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003500 of size 256\n2018-09-27 22:58:41.991739: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003600 of size 256\n2018-09-27 22:58:41.991743: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003700 of size 256\n2018-09-27 22:58:41.991747: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003800 of size 768\n2018-09-27 22:58:41.991752: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003b00 of size 512\n2018-09-27 22:58:41.991756: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003d00 of size 256\n2018-09-27 22:58:41.991760: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0003e00 of size 91136\n2018-09-27 22:58:41.991764: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a001a200 of size 8192\n2018-09-27 22:58:41.991768: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a001c200 of size 16640\n2018-09-27 22:58:41.991772: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0020300 of size 1024\n2018-09-27 22:58:41.991779: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0020700 of size 24576\n2018-09-27 22:58:41.991786: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0026700 of size 8192\n2018-09-27 22:58:41.991793: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0028700 of size 50176\n2018-09-27 22:58:41.991799: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0034b00 of size 256\n2018-09-27 22:58:41.991805: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0034c00 of size 12288\n2018-09-27 22:58:41.991812: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0037c00 of size 4096\n2018-09-27 22:58:41.991818: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0038c00 of size 512\n2018-09-27 22:58:41.991823: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0038e00 of size 512\n2018-09-27 22:58:41.991829: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0039000 of size 4096\n2018-09-27 22:58:41.991834: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003a000 of size 4096\n2018-09-27 22:58:41.991839: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003b000 of size 256\n2018-09-27 22:58:41.991845: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a003b100 of size 74752\n2018-09-27 22:58:41.991850: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004d500 of size 512\n2018-09-27 22:58:41.991855: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a004d700 of size 8192\n2018-09-27 22:58:41.991860: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004f700 of size 8192\n2018-09-27 22:58:41.991866: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0051700 of size 308736\n2018-09-27 22:58:41.991871: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a009cd00 of size 256\n2018-09-27 22:58:41.991876: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a009ce00 of size 198656\n2018-09-27 22:58:41.991882: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cd600 of size 2048\n2018-09-27 22:58:41.991887: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00cde00 of size 2048\n2018-09-27 22:58:41.991893: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce600 of size 256\n2018-09-27 22:58:41.991898: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce700 of size 256\n2018-09-27 22:58:41.991903: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00ce800 of size 4352\n2018-09-27 22:58:41.991909: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cf900 of size 2304\n2018-09-27 22:58:41.991914: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00d0200 of size 67108864\n2018-09-27 22:58:41.991920: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d0200 of size 12288\n2018-09-27 22:58:41.991925: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3200 of size 256\n2018-09-27 22:58:41.991930: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3300 of size 65536\n2018-09-27 22:58:41.991936: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40e3300 of size 8388608\n2018-09-27 22:58:41.991941: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a48e3300 of size 81920\n2018-09-27 22:58:41.991946: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a48f7300 of size 67108864\n2018-09-27 22:58:41.991952: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a88f7300 of size 65536\n2018-09-27 22:58:41.991957: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a8907300 of size 8388608\n2018-09-27 22:58:41.991963: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9107300 of size 2048000\n2018-09-27 22:58:41.991968: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fb300 of size 2048\n2018-09-27 22:58:41.991973: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fbb00 of size 12288\n2018-09-27 22:58:41.991979: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a92feb00 of size 3328\n2018-09-27 22:58:41.991985: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92ff800 of size 32768\n2018-09-27 22:58:41.991991: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9307800 of size 301056\n2018-09-27 22:58:41.991996: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9351000 of size 92160\n2018-09-27 22:58:41.992001: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9367800 of size 512\n2018-09-27 22:58:41.992007: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9367a00 of size 2048\n2018-09-27 22:58:41.992012: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9368200 of size 1024\n2018-09-27 22:58:41.992017: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9368600 of size 7424\n2018-09-27 22:58:41.992022: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936a300 of size 2048\n2018-09-27 22:58:41.992028: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a936ab00 of size 4352\n2018-09-27 22:58:41.992033: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936bc00 of size 200192\n2018-09-27 22:58:41.992038: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a939ca00 of size 917504\n2018-09-27 22:58:41.992044: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a947ca00 of size 81920\n2018-09-27 22:58:41.992049: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9490a00 of size 139264\n2018-09-27 22:58:41.992054: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a94b2a00 of size 458752\n2018-09-27 22:58:41.992060: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9522a00 of size 458752\n2018-09-27 22:58:41.992065: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9592a00 of size 67108864\n2018-09-27 22:58:41.992070: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ad592a00 of size 819200\n2018-09-27 22:58:41.992075: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ad65aa00 of size 8388608\n2018-09-27 22:58:41.992081: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ade5aa00 of size 67108864\n2018-09-27 22:58:41.992086: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b1e5aa00 of size 8388608\n2018-09-27 22:58:41.992092: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b265aa00 of size 4194304\n2018-09-27 22:58:41.992097: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b2a5aa00 of size 4194304\n2018-09-27 22:58:41.992102: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b2e5aa00 of size 16777216\n2018-09-27 22:58:41.992108: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b3e5aa00 of size 20971520\n2018-09-27 22:58:41.992113: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b525aa00 of size 16777216\n2018-09-27 22:58:41.992118: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b625aa00 of size 33554432\n2018-09-27 22:58:41.992123: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b825aa00 of size 16777216\n2018-09-27 22:58:41.992129: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b925aa00 of size 16777216\n2018-09-27 22:58:41.992134: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ba25aa00 of size 43827200\n2018-09-27 22:58:41.992139: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94bcc26a00 of size 43827200\n2018-09-27 22:58:41.992145: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94bf5f2a00 of size 645136384\n2018-09-27 22:58:41.992150: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94e5d32a00 of size 645136384\n2018-09-27 22:58:41.992155: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f950c472a00 of size 1262223360\n2018-09-27 22:58:41.992161: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f9557832a00 of size 1262223360\n2018-09-27 22:58:41.992166: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f95a2bf2a00 of size 2468347904\n2018-09-27 22:58:41.992172: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f9635df2a00 of size 2038319360\n2018-09-27 22:58:41.992177: I tensorflow/core/common_runtime/bfc_allocator.cc:651]      Summary of in-use Chunks by size: \n2018-09-27 22:58:41.992184: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 54 Chunks of size 256 totalling 13.5KiB\n2018-09-27 22:58:41.992190: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 6 Chunks of size 512 totalling 3.0KiB\n2018-09-27 22:58:41.992196: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 768 totalling 768B\n2018-09-27 22:58:41.992202: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 1024 totalling 2.0KiB\n2018-09-27 22:58:41.992208: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1280 totalling 1.2KiB\n2018-09-27 22:58:41.992213: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 2048 totalling 6.0KiB\n2018-09-27 22:58:41.992219: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2304 totalling 2.2KiB\n2018-09-27 22:58:41.992225: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 4096 totalling 8.0KiB\n2018-09-27 22:58:41.992231: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 8192 totalling 24.0KiB\n2018-09-27 22:58:41.992238: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 12288 totalling 24.0KiB\n2018-09-27 22:58:41.992244: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 32768 totalling 32.0KiB\n2018-09-27 22:58:41.992250: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 65536 totalling 128.0KiB\n2018-09-27 22:58:41.992256: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 81920 totalling 80.0KiB\n2018-09-27 22:58:41.992262: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 92160 totalling 90.0KiB\n2018-09-27 22:58:41.992268: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 200192 totalling 195.5KiB\n2018-09-27 22:58:41.992274: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 301056 totalling 294.0KiB\n2018-09-27 22:58:41.992280: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 308736 totalling 301.5KiB\n2018-09-27 22:58:41.992286: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 458752 totalling 896.0KiB\n2018-09-27 22:58:41.992292: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2048000 totalling 1.95MiB\n2018-09-27 22:58:41.992298: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 4194304 totalling 4.00MiB\n2018-09-27 22:58:41.992304: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 8388608 totalling 32.00MiB\n2018-09-27 22:58:41.992310: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 16777216 totalling 64.00MiB\n2018-09-27 22:58:41.992316: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 43827200 totalling 41.80MiB\n2018-09-27 22:58:41.992322: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 67108864 totalling 256.00MiB\n2018-09-27 22:58:41.992328: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 645136384 totalling 615.25MiB\n2018-09-27 22:58:41.992333: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1262223360 totalling 1.17GiB\n2018-09-27 22:58:41.992339: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2468347904 totalling 2.30GiB\n2018-09-27 22:58:41.992345: I tensorflow/core/common_runtime/bfc_allocator.cc:658] Sum Total of in-use chunks: 4.47GiB\n2018-09-27 22:58:41.992352: I tensorflow/core/common_runtime/bfc_allocator.cc:660] Stats: \nLimit:                  8847717172\nInUse:                  4797028096\nMaxInUse:               7450003456\nNumAllocs:                   54412\nMaxAllocSize:           2468347904\n\n2018-09-27 22:58:41.992366: W tensorflow/core/common_runtime/bfc_allocator.cc:275] ******_______********_____________*******************************************_______________________\n2018-09-27 22:58:41.992384: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at conv_ops.cc:693 : Resource exhausted: OOM when allocating tensor with shape[128,1024,107,44] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\n</code></pre>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Sort of, the issue seems to be occurring with the ELMo tfhub model\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/a\nTensorFlow installed from (source or binary): Binary\nTensorFlow version (use command below): 1.11.0 (git version v1.11.0-0-gc19e29306c)\nPython version: 3.6\nBazel version (if compiling from source): N/a\nGCC/Compiler version (if compiling from source): N/a\nCUDA/cuDNN version: 9.2/7.2.1\nGPU model and memory: 1080 Ti (11177 MiB)\nExact command to reproduce:\n\nestimator = tf.estimator.DNNClassifier(\n                           hidden_units=[500, 100],\n                           feature_columns=[hub.text_embedding_column(key=\"cleaned\", module_spec=\"https://tfhub.dev/google/elmo/2\")],\n                           n_classes=2,\n                           optimizer=tf.train.ProximalAdagradOptimizer(learning_rate=0.003))\nestimator.train(input_fn=train_input_fn, steps=1000)\n\nYou'll need to provide the data, but this should reproduce the error.\nDescribe the problem\nAccording to the memory trace, only 4.47 GiB have been allocated before the OOM error. Tensorflow has 8.74 GiB available. Barely over half of the available memory is used when tensorflow throws the OOM.\nSource code / logs\n2018-09-27 22:58:14.599824: W tensorflow/core/graph/graph_constructor.cc:1263] Importing a graph with a lower producer version 26 into an existing graph with producer version 27. Shape inference will have run different parts of the graph with different producer versions.\n2018-09-27 22:58:16.160346: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\n2018-09-27 22:58:16.241355: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:964] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\n2018-09-27 22:58:16.241872: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties: \nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\npciBusID: 0000:01:00.0\ntotalMemory: 10.92GiB freeMemory: 8.74GiB\n2018-09-27 22:58:16.241896: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0\n2018-09-27 22:58:16.465458: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:\n2018-09-27 22:58:16.465495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0 \n2018-09-27 22:58:16.465500: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N \n2018-09-27 22:58:16.465757: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8437 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-09-27 22:58:22.105125: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.97GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:22.167820: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:25.227506: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.04GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:25.293991: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:29.024543: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.21GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n2018-09-27 22:58:31.129676: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.43GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\n[I 22:58:31.786 NotebookApp] Saving file at /Tensorflow Spam Classification.ipynb\n2018-09-27 22:58:41.991342: W tensorflow/core/common_runtime/bfc_allocator.cc:271] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.30GiB.  Current allocation summary follows.\n2018-09-27 22:58:41.991374: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (256):   Total Chunks: 54, Chunks in use: 54. 13.5KiB allocated for chunks. 13.5KiB in use in bin. 720B client-requested in use in bin.\n2018-09-27 22:58:41.991384: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (512):   Total Chunks: 8, Chunks in use: 7. 4.2KiB allocated for chunks. 3.8KiB in use in bin. 3.3KiB client-requested in use in bin.\n2018-09-27 22:58:41.991391: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1024):  Total Chunks: 3, Chunks in use: 3. 3.2KiB allocated for chunks. 3.2KiB in use in bin. 3.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991399: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2048):  Total Chunks: 7, Chunks in use: 4. 15.5KiB allocated for chunks. 8.2KiB in use in bin. 8.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991405: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4096):  Total Chunks: 6, Chunks in use: 2. 27.8KiB allocated for chunks. 8.0KiB in use in bin. 8.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991412: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8192):  Total Chunks: 7, Chunks in use: 5. 68.0KiB allocated for chunks. 48.0KiB in use in bin. 44.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991419: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16384):         Total Chunks: 2, Chunks in use: 0. 40.2KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991424: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (32768):         Total Chunks: 2, Chunks in use: 1. 81.0KiB allocated for chunks. 32.0KiB in use in bin. 32.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991431: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (65536):         Total Chunks: 7, Chunks in use: 4. 540.0KiB allocated for chunks. 298.0KiB in use in bin. 256.0KiB client-requested in use in bin.\n2018-09-27 22:58:41.991439: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (131072):        Total Chunks: 3, Chunks in use: 1. 525.5KiB allocated for chunks. 195.5KiB in use in bin. 195.3KiB client-requested in use in bin.\n2018-09-27 22:58:41.991445: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (262144):        Total Chunks: 4, Chunks in use: 4. 1.46MiB allocated for chunks. 1.46MiB in use in bin. 1.38MiB client-requested in use in bin.\n2018-09-27 22:58:41.991451: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (524288):        Total Chunks: 2, Chunks in use: 0. 1.66MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991457: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1048576):       Total Chunks: 1, Chunks in use: 1. 1.95MiB allocated for chunks. 1.95MiB in use in bin. 1.95MiB client-requested in use in bin.\n2018-09-27 22:58:41.991463: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2097152):       Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991468: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4194304):       Total Chunks: 2, Chunks in use: 1. 8.00MiB allocated for chunks. 4.00MiB in use in bin. 4.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991475: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8388608):       Total Chunks: 4, Chunks in use: 4. 32.00MiB allocated for chunks. 32.00MiB in use in bin. 32.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991481: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16777216):      Total Chunks: 5, Chunks in use: 4. 84.00MiB allocated for chunks. 64.00MiB in use in bin. 64.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991488: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (33554432):      Total Chunks: 3, Chunks in use: 1. 115.59MiB allocated for chunks. 41.80MiB in use in bin. 41.80MiB client-requested in use in bin.\n2018-09-27 22:58:41.991494: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (67108864):      Total Chunks: 4, Chunks in use: 4. 256.00MiB allocated for chunks. 256.00MiB in use in bin. 256.00MiB client-requested in use in bin.\n2018-09-27 22:58:41.991500: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (134217728):     Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\n2018-09-27 22:58:41.991506: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (268435456):     Total Chunks: 6, Chunks in use: 3. 7.75GiB allocated for chunks. 4.08GiB in use in bin. 4.08GiB client-requested in use in bin.\n2018-09-27 22:58:41.991512: I tensorflow/core/common_runtime/bfc_allocator.cc:626] Bin for 2.30GiB was 256.00MiB, Chunk State: \n2018-09-27 22:58:41.991523: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 615.25MiB | Requested Size: 225.70MiB | in_use: 0, prev:   Size: 41.80MiB | Requested Size: 41.80MiB | in_use: 1, next:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1\n2018-09-27 22:58:41.991532: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 0, prev:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1, next:   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 1\n2018-09-27 22:58:41.991539: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.90GiB | Requested Size: 2.0KiB | in_use: 0, prev:   Size: 2.30GiB | Requested Size: 2.30GiB | in_use: 1\n2018-09-27 22:58:41.991545: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000000 of size 1280\n2018-09-27 22:58:41.991550: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000500 of size 256\n2018-09-27 22:58:41.991554: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000600 of size 256\n2018-09-27 22:58:41.991558: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000700 of size 256\n2018-09-27 22:58:41.991562: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000800 of size 256\n2018-09-27 22:58:41.991566: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000900 of size 256\n2018-09-27 22:58:41.991570: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000a00 of size 256\n2018-09-27 22:58:41.991575: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000b00 of size 256\n2018-09-27 22:58:41.991579: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000c00 of size 256\n2018-09-27 22:58:41.991583: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000d00 of size 256\n2018-09-27 22:58:41.991587: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000e00 of size 256\n2018-09-27 22:58:41.991591: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000f00 of size 256\n2018-09-27 22:58:41.991595: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001000 of size 256\n2018-09-27 22:58:41.991599: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001100 of size 256\n2018-09-27 22:58:41.991603: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001200 of size 256\n2018-09-27 22:58:41.991607: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001300 of size 256\n2018-09-27 22:58:41.991611: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001400 of size 256\n2018-09-27 22:58:41.991615: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001500 of size 256\n2018-09-27 22:58:41.991619: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001600 of size 256\n2018-09-27 22:58:41.991623: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001700 of size 256\n2018-09-27 22:58:41.991627: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001800 of size 256\n2018-09-27 22:58:41.991631: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001900 of size 256\n2018-09-27 22:58:41.991635: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001a00 of size 256\n2018-09-27 22:58:41.991639: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001b00 of size 256\n2018-09-27 22:58:41.991644: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001c00 of size 512\n2018-09-27 22:58:41.991648: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001e00 of size 256\n2018-09-27 22:58:41.991652: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001f00 of size 256\n2018-09-27 22:58:41.991656: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002000 of size 256\n2018-09-27 22:58:41.991660: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002100 of size 256\n2018-09-27 22:58:41.991664: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002200 of size 256\n2018-09-27 22:58:41.991668: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002300 of size 256\n2018-09-27 22:58:41.991672: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002400 of size 256\n2018-09-27 22:58:41.991676: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002500 of size 256\n2018-09-27 22:58:41.991680: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002600 of size 256\n2018-09-27 22:58:41.991684: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002700 of size 256\n2018-09-27 22:58:41.991688: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002800 of size 256\n2018-09-27 22:58:41.991692: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002900 of size 256\n2018-09-27 22:58:41.991696: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002a00 of size 256\n2018-09-27 22:58:41.991700: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002b00 of size 256\n2018-09-27 22:58:41.991704: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002c00 of size 256\n2018-09-27 22:58:41.991708: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002d00 of size 256\n2018-09-27 22:58:41.991712: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002e00 of size 256\n2018-09-27 22:58:41.991716: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002f00 of size 256\n2018-09-27 22:58:41.991720: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003000 of size 256\n2018-09-27 22:58:41.991724: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003100 of size 256\n2018-09-27 22:58:41.991727: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003200 of size 256\n2018-09-27 22:58:41.991731: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003300 of size 512\n2018-09-27 22:58:41.991735: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003500 of size 256\n2018-09-27 22:58:41.991739: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003600 of size 256\n2018-09-27 22:58:41.991743: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003700 of size 256\n2018-09-27 22:58:41.991747: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003800 of size 768\n2018-09-27 22:58:41.991752: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003b00 of size 512\n2018-09-27 22:58:41.991756: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003d00 of size 256\n2018-09-27 22:58:41.991760: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0003e00 of size 91136\n2018-09-27 22:58:41.991764: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a001a200 of size 8192\n2018-09-27 22:58:41.991768: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a001c200 of size 16640\n2018-09-27 22:58:41.991772: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0020300 of size 1024\n2018-09-27 22:58:41.991779: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0020700 of size 24576\n2018-09-27 22:58:41.991786: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0026700 of size 8192\n2018-09-27 22:58:41.991793: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0028700 of size 50176\n2018-09-27 22:58:41.991799: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0034b00 of size 256\n2018-09-27 22:58:41.991805: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0034c00 of size 12288\n2018-09-27 22:58:41.991812: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0037c00 of size 4096\n2018-09-27 22:58:41.991818: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0038c00 of size 512\n2018-09-27 22:58:41.991823: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0038e00 of size 512\n2018-09-27 22:58:41.991829: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0039000 of size 4096\n2018-09-27 22:58:41.991834: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003a000 of size 4096\n2018-09-27 22:58:41.991839: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003b000 of size 256\n2018-09-27 22:58:41.991845: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a003b100 of size 74752\n2018-09-27 22:58:41.991850: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004d500 of size 512\n2018-09-27 22:58:41.991855: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a004d700 of size 8192\n2018-09-27 22:58:41.991860: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004f700 of size 8192\n2018-09-27 22:58:41.991866: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0051700 of size 308736\n2018-09-27 22:58:41.991871: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a009cd00 of size 256\n2018-09-27 22:58:41.991876: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a009ce00 of size 198656\n2018-09-27 22:58:41.991882: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cd600 of size 2048\n2018-09-27 22:58:41.991887: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00cde00 of size 2048\n2018-09-27 22:58:41.991893: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce600 of size 256\n2018-09-27 22:58:41.991898: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce700 of size 256\n2018-09-27 22:58:41.991903: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00ce800 of size 4352\n2018-09-27 22:58:41.991909: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cf900 of size 2304\n2018-09-27 22:58:41.991914: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00d0200 of size 67108864\n2018-09-27 22:58:41.991920: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d0200 of size 12288\n2018-09-27 22:58:41.991925: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3200 of size 256\n2018-09-27 22:58:41.991930: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3300 of size 65536\n2018-09-27 22:58:41.991936: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40e3300 of size 8388608\n2018-09-27 22:58:41.991941: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a48e3300 of size 81920\n2018-09-27 22:58:41.991946: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a48f7300 of size 67108864\n2018-09-27 22:58:41.991952: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a88f7300 of size 65536\n2018-09-27 22:58:41.991957: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a8907300 of size 8388608\n2018-09-27 22:58:41.991963: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9107300 of size 2048000\n2018-09-27 22:58:41.991968: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fb300 of size 2048\n2018-09-27 22:58:41.991973: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fbb00 of size 12288\n2018-09-27 22:58:41.991979: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a92feb00 of size 3328\n2018-09-27 22:58:41.991985: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92ff800 of size 32768\n2018-09-27 22:58:41.991991: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9307800 of size 301056\n2018-09-27 22:58:41.991996: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9351000 of size 92160\n2018-09-27 22:58:41.992001: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9367800 of size 512\n2018-09-27 22:58:41.992007: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9367a00 of size 2048\n2018-09-27 22:58:41.992012: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9368200 of size 1024\n2018-09-27 22:58:41.992017: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9368600 of size 7424\n2018-09-27 22:58:41.992022: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936a300 of size 2048\n2018-09-27 22:58:41.992028: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a936ab00 of size 4352\n2018-09-27 22:58:41.992033: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936bc00 of size 200192\n2018-09-27 22:58:41.992038: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a939ca00 of size 917504\n2018-09-27 22:58:41.992044: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a947ca00 of size 81920\n2018-09-27 22:58:41.992049: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9490a00 of size 139264\n2018-09-27 22:58:41.992054: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a94b2a00 of size 458752\n2018-09-27 22:58:41.992060: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9522a00 of size 458752\n2018-09-27 22:58:41.992065: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9592a00 of size 67108864\n2018-09-27 22:58:41.992070: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ad592a00 of size 819200\n2018-09-27 22:58:41.992075: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ad65aa00 of size 8388608\n2018-09-27 22:58:41.992081: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ade5aa00 of size 67108864\n2018-09-27 22:58:41.992086: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b1e5aa00 of size 8388608\n2018-09-27 22:58:41.992092: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b265aa00 of size 4194304\n2018-09-27 22:58:41.992097: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b2a5aa00 of size 4194304\n2018-09-27 22:58:41.992102: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b2e5aa00 of size 16777216\n2018-09-27 22:58:41.992108: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b3e5aa00 of size 20971520\n2018-09-27 22:58:41.992113: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b525aa00 of size 16777216\n2018-09-27 22:58:41.992118: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b625aa00 of size 33554432\n2018-09-27 22:58:41.992123: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b825aa00 of size 16777216\n2018-09-27 22:58:41.992129: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b925aa00 of size 16777216\n2018-09-27 22:58:41.992134: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ba25aa00 of size 43827200\n2018-09-27 22:58:41.992139: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94bcc26a00 of size 43827200\n2018-09-27 22:58:41.992145: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94bf5f2a00 of size 645136384\n2018-09-27 22:58:41.992150: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94e5d32a00 of size 645136384\n2018-09-27 22:58:41.992155: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f950c472a00 of size 1262223360\n2018-09-27 22:58:41.992161: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f9557832a00 of size 1262223360\n2018-09-27 22:58:41.992166: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f95a2bf2a00 of size 2468347904\n2018-09-27 22:58:41.992172: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f9635df2a00 of size 2038319360\n2018-09-27 22:58:41.992177: I tensorflow/core/common_runtime/bfc_allocator.cc:651]      Summary of in-use Chunks by size: \n2018-09-27 22:58:41.992184: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 54 Chunks of size 256 totalling 13.5KiB\n2018-09-27 22:58:41.992190: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 6 Chunks of size 512 totalling 3.0KiB\n2018-09-27 22:58:41.992196: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 768 totalling 768B\n2018-09-27 22:58:41.992202: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 1024 totalling 2.0KiB\n2018-09-27 22:58:41.992208: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1280 totalling 1.2KiB\n2018-09-27 22:58:41.992213: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 2048 totalling 6.0KiB\n2018-09-27 22:58:41.992219: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2304 totalling 2.2KiB\n2018-09-27 22:58:41.992225: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 4096 totalling 8.0KiB\n2018-09-27 22:58:41.992231: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 8192 totalling 24.0KiB\n2018-09-27 22:58:41.992238: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 12288 totalling 24.0KiB\n2018-09-27 22:58:41.992244: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 32768 totalling 32.0KiB\n2018-09-27 22:58:41.992250: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 65536 totalling 128.0KiB\n2018-09-27 22:58:41.992256: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 81920 totalling 80.0KiB\n2018-09-27 22:58:41.992262: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 92160 totalling 90.0KiB\n2018-09-27 22:58:41.992268: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 200192 totalling 195.5KiB\n2018-09-27 22:58:41.992274: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 301056 totalling 294.0KiB\n2018-09-27 22:58:41.992280: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 308736 totalling 301.5KiB\n2018-09-27 22:58:41.992286: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 458752 totalling 896.0KiB\n2018-09-27 22:58:41.992292: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2048000 totalling 1.95MiB\n2018-09-27 22:58:41.992298: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 4194304 totalling 4.00MiB\n2018-09-27 22:58:41.992304: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 8388608 totalling 32.00MiB\n2018-09-27 22:58:41.992310: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 16777216 totalling 64.00MiB\n2018-09-27 22:58:41.992316: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 43827200 totalling 41.80MiB\n2018-09-27 22:58:41.992322: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 67108864 totalling 256.00MiB\n2018-09-27 22:58:41.992328: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 645136384 totalling 615.25MiB\n2018-09-27 22:58:41.992333: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1262223360 totalling 1.17GiB\n2018-09-27 22:58:41.992339: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2468347904 totalling 2.30GiB\n2018-09-27 22:58:41.992345: I tensorflow/core/common_runtime/bfc_allocator.cc:658] Sum Total of in-use chunks: 4.47GiB\n2018-09-27 22:58:41.992352: I tensorflow/core/common_runtime/bfc_allocator.cc:660] Stats: \nLimit:                  8847717172\nInUse:                  4797028096\nMaxInUse:               7450003456\nNumAllocs:                   54412\nMaxAllocSize:           2468347904\n\n2018-09-27 22:58:41.992366: W tensorflow/core/common_runtime/bfc_allocator.cc:275] ******_______********_____________*******************************************_______________________\n2018-09-27 22:58:41.992384: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at conv_ops.cc:693 : Resource exhausted: OOM when allocating tensor with shape[128,1024,107,44] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Sort of, the issue seems to be occurring with the ELMo tfhub model\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: N/a\r\n- **TensorFlow installed from (source or binary)**: Binary\r\n- **TensorFlow version (use command below)**: 1.11.0 (git version v1.11.0-0-gc19e29306c)\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: N/a\r\n- **GCC/Compiler version (if compiling from source)**: N/a\r\n- **CUDA/cuDNN version**: 9.2/7.2.1\r\n- **GPU model and memory**: 1080 Ti (11177 MiB)\r\n- **Exact command to reproduce**:  \r\n```\r\nestimator = tf.estimator.DNNClassifier(\r\n                           hidden_units=[500, 100],\r\n                           feature_columns=[hub.text_embedding_column(key=\"cleaned\", module_spec=\"https://tfhub.dev/google/elmo/2\")],\r\n                           n_classes=2,\r\n                           optimizer=tf.train.ProximalAdagradOptimizer(learning_rate=0.003))\r\nestimator.train(input_fn=train_input_fn, steps=1000)\r\n```\r\nYou'll need to provide the data, but this should reproduce the error.\r\n\r\n### Describe the problem\r\nAccording to the memory trace, only 4.47 GiB have been allocated before the OOM error. Tensorflow has 8.74 GiB available. Barely over half of the available memory is used when tensorflow throws the OOM.\r\n\r\n### Source code / logs\r\n```\r\n2018-09-27 22:58:14.599824: W tensorflow/core/graph/graph_constructor.cc:1263] Importing a graph with a lower producer version 26 into an existing graph with producer version 27. Shape inference will have run different parts of the graph with different producer versions.\r\n2018-09-27 22:58:16.160346: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2018-09-27 22:58:16.241355: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:964] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2018-09-27 22:58:16.241872: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1411] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.683\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 10.92GiB freeMemory: 8.74GiB\r\n2018-09-27 22:58:16.241896: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1490] Adding visible gpu devices: 0\r\n2018-09-27 22:58:16.465458: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2018-09-27 22:58:16.465495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:977]      0 \r\n2018-09-27 22:58:16.465500: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990] 0:   N \r\n2018-09-27 22:58:16.465757: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1103] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 8437 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n2018-09-27 22:58:22.105125: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.97GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2018-09-27 22:58:22.167820: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2018-09-27 22:58:25.227506: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.04GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2018-09-27 22:58:25.293991: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.03GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2018-09-27 22:58:29.024543: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 3.21GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2018-09-27 22:58:31.129676: W tensorflow/core/common_runtime/bfc_allocator.cc:215] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.43GiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n[I 22:58:31.786 NotebookApp] Saving file at /Tensorflow Spam Classification.ipynb\r\n2018-09-27 22:58:41.991342: W tensorflow/core/common_runtime/bfc_allocator.cc:271] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.30GiB.  Current allocation summary follows.\r\n2018-09-27 22:58:41.991374: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (256):   Total Chunks: 54, Chunks in use: 54. 13.5KiB allocated for chunks. 13.5KiB in use in bin. 720B client-requested in use in bin.\r\n2018-09-27 22:58:41.991384: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (512):   Total Chunks: 8, Chunks in use: 7. 4.2KiB allocated for chunks. 3.8KiB in use in bin. 3.3KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991391: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1024):  Total Chunks: 3, Chunks in use: 3. 3.2KiB allocated for chunks. 3.2KiB in use in bin. 3.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991399: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2048):  Total Chunks: 7, Chunks in use: 4. 15.5KiB allocated for chunks. 8.2KiB in use in bin. 8.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991405: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4096):  Total Chunks: 6, Chunks in use: 2. 27.8KiB allocated for chunks. 8.0KiB in use in bin. 8.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991412: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8192):  Total Chunks: 7, Chunks in use: 5. 68.0KiB allocated for chunks. 48.0KiB in use in bin. 44.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991419: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16384):         Total Chunks: 2, Chunks in use: 0. 40.2KiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\n2018-09-27 22:58:41.991424: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (32768):         Total Chunks: 2, Chunks in use: 1. 81.0KiB allocated for chunks. 32.0KiB in use in bin. 32.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991431: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (65536):         Total Chunks: 7, Chunks in use: 4. 540.0KiB allocated for chunks. 298.0KiB in use in bin. 256.0KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991439: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (131072):        Total Chunks: 3, Chunks in use: 1. 525.5KiB allocated for chunks. 195.5KiB in use in bin. 195.3KiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991445: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (262144):        Total Chunks: 4, Chunks in use: 4. 1.46MiB allocated for chunks. 1.46MiB in use in bin. 1.38MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991451: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (524288):        Total Chunks: 2, Chunks in use: 0. 1.66MiB allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\n2018-09-27 22:58:41.991457: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (1048576):       Total Chunks: 1, Chunks in use: 1. 1.95MiB allocated for chunks. 1.95MiB in use in bin. 1.95MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991463: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (2097152):       Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\n2018-09-27 22:58:41.991468: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (4194304):       Total Chunks: 2, Chunks in use: 1. 8.00MiB allocated for chunks. 4.00MiB in use in bin. 4.00MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991475: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (8388608):       Total Chunks: 4, Chunks in use: 4. 32.00MiB allocated for chunks. 32.00MiB in use in bin. 32.00MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991481: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (16777216):      Total Chunks: 5, Chunks in use: 4. 84.00MiB allocated for chunks. 64.00MiB in use in bin. 64.00MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991488: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (33554432):      Total Chunks: 3, Chunks in use: 1. 115.59MiB allocated for chunks. 41.80MiB in use in bin. 41.80MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991494: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (67108864):      Total Chunks: 4, Chunks in use: 4. 256.00MiB allocated for chunks. 256.00MiB in use in bin. 256.00MiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991500: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (134217728):     Total Chunks: 0, Chunks in use: 0. 0B allocated for chunks. 0B in use in bin. 0B client-requested in use in bin.\r\n2018-09-27 22:58:41.991506: I tensorflow/core/common_runtime/bfc_allocator.cc:610] Bin (268435456):     Total Chunks: 6, Chunks in use: 3. 7.75GiB allocated for chunks. 4.08GiB in use in bin. 4.08GiB client-requested in use in bin.\r\n2018-09-27 22:58:41.991512: I tensorflow/core/common_runtime/bfc_allocator.cc:626] Bin for 2.30GiB was 256.00MiB, Chunk State: \r\n2018-09-27 22:58:41.991523: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 615.25MiB | Requested Size: 225.70MiB | in_use: 0, prev:   Size: 41.80MiB | Requested Size: 41.80MiB | in_use: 1, next:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1\r\n2018-09-27 22:58:41.991532: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 0, prev:   Size: 615.25MiB | Requested Size: 615.25MiB | in_use: 1, next:   Size: 1.17GiB | Requested Size: 1.17GiB | in_use: 1\r\n2018-09-27 22:58:41.991539: I tensorflow/core/common_runtime/bfc_allocator.cc:632]   Size: 1.90GiB | Requested Size: 2.0KiB | in_use: 0, prev:   Size: 2.30GiB | Requested Size: 2.30GiB | in_use: 1\r\n2018-09-27 22:58:41.991545: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000000 of size 1280\r\n2018-09-27 22:58:41.991550: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000500 of size 256\r\n2018-09-27 22:58:41.991554: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000600 of size 256\r\n2018-09-27 22:58:41.991558: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000700 of size 256\r\n2018-09-27 22:58:41.991562: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000800 of size 256\r\n2018-09-27 22:58:41.991566: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000900 of size 256\r\n2018-09-27 22:58:41.991570: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000a00 of size 256\r\n2018-09-27 22:58:41.991575: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000b00 of size 256\r\n2018-09-27 22:58:41.991579: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000c00 of size 256\r\n2018-09-27 22:58:41.991583: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000d00 of size 256\r\n2018-09-27 22:58:41.991587: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000e00 of size 256\r\n2018-09-27 22:58:41.991591: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0000f00 of size 256\r\n2018-09-27 22:58:41.991595: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001000 of size 256\r\n2018-09-27 22:58:41.991599: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001100 of size 256\r\n2018-09-27 22:58:41.991603: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001200 of size 256\r\n2018-09-27 22:58:41.991607: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001300 of size 256\r\n2018-09-27 22:58:41.991611: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001400 of size 256\r\n2018-09-27 22:58:41.991615: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001500 of size 256\r\n2018-09-27 22:58:41.991619: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001600 of size 256\r\n2018-09-27 22:58:41.991623: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001700 of size 256\r\n2018-09-27 22:58:41.991627: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001800 of size 256\r\n2018-09-27 22:58:41.991631: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001900 of size 256\r\n2018-09-27 22:58:41.991635: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001a00 of size 256\r\n2018-09-27 22:58:41.991639: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001b00 of size 256\r\n2018-09-27 22:58:41.991644: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001c00 of size 512\r\n2018-09-27 22:58:41.991648: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001e00 of size 256\r\n2018-09-27 22:58:41.991652: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0001f00 of size 256\r\n2018-09-27 22:58:41.991656: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002000 of size 256\r\n2018-09-27 22:58:41.991660: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002100 of size 256\r\n2018-09-27 22:58:41.991664: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002200 of size 256\r\n2018-09-27 22:58:41.991668: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002300 of size 256\r\n2018-09-27 22:58:41.991672: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002400 of size 256\r\n2018-09-27 22:58:41.991676: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002500 of size 256\r\n2018-09-27 22:58:41.991680: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002600 of size 256\r\n2018-09-27 22:58:41.991684: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002700 of size 256\r\n2018-09-27 22:58:41.991688: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002800 of size 256\r\n2018-09-27 22:58:41.991692: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002900 of size 256\r\n2018-09-27 22:58:41.991696: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002a00 of size 256\r\n2018-09-27 22:58:41.991700: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002b00 of size 256\r\n2018-09-27 22:58:41.991704: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002c00 of size 256\r\n2018-09-27 22:58:41.991708: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002d00 of size 256\r\n2018-09-27 22:58:41.991712: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002e00 of size 256\r\n2018-09-27 22:58:41.991716: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0002f00 of size 256\r\n2018-09-27 22:58:41.991720: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003000 of size 256\r\n2018-09-27 22:58:41.991724: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003100 of size 256\r\n2018-09-27 22:58:41.991727: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003200 of size 256\r\n2018-09-27 22:58:41.991731: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003300 of size 512\r\n2018-09-27 22:58:41.991735: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003500 of size 256\r\n2018-09-27 22:58:41.991739: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003600 of size 256\r\n2018-09-27 22:58:41.991743: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003700 of size 256\r\n2018-09-27 22:58:41.991747: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003800 of size 768\r\n2018-09-27 22:58:41.991752: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003b00 of size 512\r\n2018-09-27 22:58:41.991756: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0003d00 of size 256\r\n2018-09-27 22:58:41.991760: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0003e00 of size 91136\r\n2018-09-27 22:58:41.991764: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a001a200 of size 8192\r\n2018-09-27 22:58:41.991768: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a001c200 of size 16640\r\n2018-09-27 22:58:41.991772: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0020300 of size 1024\r\n2018-09-27 22:58:41.991779: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0020700 of size 24576\r\n2018-09-27 22:58:41.991786: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0026700 of size 8192\r\n2018-09-27 22:58:41.991793: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0028700 of size 50176\r\n2018-09-27 22:58:41.991799: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0034b00 of size 256\r\n2018-09-27 22:58:41.991805: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0034c00 of size 12288\r\n2018-09-27 22:58:41.991812: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0037c00 of size 4096\r\n2018-09-27 22:58:41.991818: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0038c00 of size 512\r\n2018-09-27 22:58:41.991823: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0038e00 of size 512\r\n2018-09-27 22:58:41.991829: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a0039000 of size 4096\r\n2018-09-27 22:58:41.991834: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003a000 of size 4096\r\n2018-09-27 22:58:41.991839: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a003b000 of size 256\r\n2018-09-27 22:58:41.991845: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a003b100 of size 74752\r\n2018-09-27 22:58:41.991850: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004d500 of size 512\r\n2018-09-27 22:58:41.991855: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a004d700 of size 8192\r\n2018-09-27 22:58:41.991860: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a004f700 of size 8192\r\n2018-09-27 22:58:41.991866: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a0051700 of size 308736\r\n2018-09-27 22:58:41.991871: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a009cd00 of size 256\r\n2018-09-27 22:58:41.991876: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a009ce00 of size 198656\r\n2018-09-27 22:58:41.991882: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cd600 of size 2048\r\n2018-09-27 22:58:41.991887: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00cde00 of size 2048\r\n2018-09-27 22:58:41.991893: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce600 of size 256\r\n2018-09-27 22:58:41.991898: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00ce700 of size 256\r\n2018-09-27 22:58:41.991903: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a00ce800 of size 4352\r\n2018-09-27 22:58:41.991909: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00cf900 of size 2304\r\n2018-09-27 22:58:41.991914: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a00d0200 of size 67108864\r\n2018-09-27 22:58:41.991920: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d0200 of size 12288\r\n2018-09-27 22:58:41.991925: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3200 of size 256\r\n2018-09-27 22:58:41.991930: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40d3300 of size 65536\r\n2018-09-27 22:58:41.991936: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a40e3300 of size 8388608\r\n2018-09-27 22:58:41.991941: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a48e3300 of size 81920\r\n2018-09-27 22:58:41.991946: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a48f7300 of size 67108864\r\n2018-09-27 22:58:41.991952: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a88f7300 of size 65536\r\n2018-09-27 22:58:41.991957: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a8907300 of size 8388608\r\n2018-09-27 22:58:41.991963: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9107300 of size 2048000\r\n2018-09-27 22:58:41.991968: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fb300 of size 2048\r\n2018-09-27 22:58:41.991973: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92fbb00 of size 12288\r\n2018-09-27 22:58:41.991979: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a92feb00 of size 3328\r\n2018-09-27 22:58:41.991985: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a92ff800 of size 32768\r\n2018-09-27 22:58:41.991991: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9307800 of size 301056\r\n2018-09-27 22:58:41.991996: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9351000 of size 92160\r\n2018-09-27 22:58:41.992001: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9367800 of size 512\r\n2018-09-27 22:58:41.992007: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9367a00 of size 2048\r\n2018-09-27 22:58:41.992012: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9368200 of size 1024\r\n2018-09-27 22:58:41.992017: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9368600 of size 7424\r\n2018-09-27 22:58:41.992022: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936a300 of size 2048\r\n2018-09-27 22:58:41.992028: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a936ab00 of size 4352\r\n2018-09-27 22:58:41.992033: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a936bc00 of size 200192\r\n2018-09-27 22:58:41.992038: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a939ca00 of size 917504\r\n2018-09-27 22:58:41.992044: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a947ca00 of size 81920\r\n2018-09-27 22:58:41.992049: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94a9490a00 of size 139264\r\n2018-09-27 22:58:41.992054: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a94b2a00 of size 458752\r\n2018-09-27 22:58:41.992060: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9522a00 of size 458752\r\n2018-09-27 22:58:41.992065: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94a9592a00 of size 67108864\r\n2018-09-27 22:58:41.992070: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ad592a00 of size 819200\r\n2018-09-27 22:58:41.992075: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ad65aa00 of size 8388608\r\n2018-09-27 22:58:41.992081: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94ade5aa00 of size 67108864\r\n2018-09-27 22:58:41.992086: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b1e5aa00 of size 8388608\r\n2018-09-27 22:58:41.992092: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b265aa00 of size 4194304\r\n2018-09-27 22:58:41.992097: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b2a5aa00 of size 4194304\r\n2018-09-27 22:58:41.992102: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b2e5aa00 of size 16777216\r\n2018-09-27 22:58:41.992108: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b3e5aa00 of size 20971520\r\n2018-09-27 22:58:41.992113: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b525aa00 of size 16777216\r\n2018-09-27 22:58:41.992118: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94b625aa00 of size 33554432\r\n2018-09-27 22:58:41.992123: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b825aa00 of size 16777216\r\n2018-09-27 22:58:41.992129: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94b925aa00 of size 16777216\r\n2018-09-27 22:58:41.992134: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94ba25aa00 of size 43827200\r\n2018-09-27 22:58:41.992139: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94bcc26a00 of size 43827200\r\n2018-09-27 22:58:41.992145: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f94bf5f2a00 of size 645136384\r\n2018-09-27 22:58:41.992150: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f94e5d32a00 of size 645136384\r\n2018-09-27 22:58:41.992155: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f950c472a00 of size 1262223360\r\n2018-09-27 22:58:41.992161: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f9557832a00 of size 1262223360\r\n2018-09-27 22:58:41.992166: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Chunk at 0x7f95a2bf2a00 of size 2468347904\r\n2018-09-27 22:58:41.992172: I tensorflow/core/common_runtime/bfc_allocator.cc:645] Free  at 0x7f9635df2a00 of size 2038319360\r\n2018-09-27 22:58:41.992177: I tensorflow/core/common_runtime/bfc_allocator.cc:651]      Summary of in-use Chunks by size: \r\n2018-09-27 22:58:41.992184: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 54 Chunks of size 256 totalling 13.5KiB\r\n2018-09-27 22:58:41.992190: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 6 Chunks of size 512 totalling 3.0KiB\r\n2018-09-27 22:58:41.992196: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 768 totalling 768B\r\n2018-09-27 22:58:41.992202: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 1024 totalling 2.0KiB\r\n2018-09-27 22:58:41.992208: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1280 totalling 1.2KiB\r\n2018-09-27 22:58:41.992213: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 2048 totalling 6.0KiB\r\n2018-09-27 22:58:41.992219: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2304 totalling 2.2KiB\r\n2018-09-27 22:58:41.992225: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 4096 totalling 8.0KiB\r\n2018-09-27 22:58:41.992231: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 3 Chunks of size 8192 totalling 24.0KiB\r\n2018-09-27 22:58:41.992238: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 12288 totalling 24.0KiB\r\n2018-09-27 22:58:41.992244: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 32768 totalling 32.0KiB\r\n2018-09-27 22:58:41.992250: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 65536 totalling 128.0KiB\r\n2018-09-27 22:58:41.992256: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 81920 totalling 80.0KiB\r\n2018-09-27 22:58:41.992262: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 92160 totalling 90.0KiB\r\n2018-09-27 22:58:41.992268: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 200192 totalling 195.5KiB\r\n2018-09-27 22:58:41.992274: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 301056 totalling 294.0KiB\r\n2018-09-27 22:58:41.992280: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 308736 totalling 301.5KiB\r\n2018-09-27 22:58:41.992286: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 2 Chunks of size 458752 totalling 896.0KiB\r\n2018-09-27 22:58:41.992292: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2048000 totalling 1.95MiB\r\n2018-09-27 22:58:41.992298: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 4194304 totalling 4.00MiB\r\n2018-09-27 22:58:41.992304: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 8388608 totalling 32.00MiB\r\n2018-09-27 22:58:41.992310: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 16777216 totalling 64.00MiB\r\n2018-09-27 22:58:41.992316: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 43827200 totalling 41.80MiB\r\n2018-09-27 22:58:41.992322: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 4 Chunks of size 67108864 totalling 256.00MiB\r\n2018-09-27 22:58:41.992328: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 645136384 totalling 615.25MiB\r\n2018-09-27 22:58:41.992333: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 1262223360 totalling 1.17GiB\r\n2018-09-27 22:58:41.992339: I tensorflow/core/common_runtime/bfc_allocator.cc:654] 1 Chunks of size 2468347904 totalling 2.30GiB\r\n2018-09-27 22:58:41.992345: I tensorflow/core/common_runtime/bfc_allocator.cc:658] Sum Total of in-use chunks: 4.47GiB\r\n2018-09-27 22:58:41.992352: I tensorflow/core/common_runtime/bfc_allocator.cc:660] Stats: \r\nLimit:                  8847717172\r\nInUse:                  4797028096\r\nMaxInUse:               7450003456\r\nNumAllocs:                   54412\r\nMaxAllocSize:           2468347904\r\n\r\n2018-09-27 22:58:41.992366: W tensorflow/core/common_runtime/bfc_allocator.cc:275] ******_______********_____________*******************************************_______________________\r\n2018-09-27 22:58:41.992384: W tensorflow/core/framework/op_kernel.cc:1273] OP_REQUIRES failed at conv_ops.cc:693 : Resource exhausted: OOM when allocating tensor with shape[128,1024,107,44] and type float on /job:localhost/replica:0/task:0/device:GPU:0 by allocator GPU_0_bfc\r\n```"}