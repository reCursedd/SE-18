{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8860", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8860/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8860/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8860/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8860", "id": 218387154, "node_id": "MDU6SXNzdWUyMTgzODcxNTQ=", "number": 8860, "title": "Server terminated abruptly when build from source", "user": {"login": "mingdachen", "id": 18625540, "node_id": "MDQ6VXNlcjE4NjI1NTQw", "avatar_url": "https://avatars2.githubusercontent.com/u/18625540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mingdachen", "html_url": "https://github.com/mingdachen", "followers_url": "https://api.github.com/users/mingdachen/followers", "following_url": "https://api.github.com/users/mingdachen/following{/other_user}", "gists_url": "https://api.github.com/users/mingdachen/gists{/gist_id}", "starred_url": "https://api.github.com/users/mingdachen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mingdachen/subscriptions", "organizations_url": "https://api.github.com/users/mingdachen/orgs", "repos_url": "https://api.github.com/users/mingdachen/repos", "events_url": "https://api.github.com/users/mingdachen/events{/privacy}", "received_events_url": "https://api.github.com/users/mingdachen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-03-31T03:19:06Z", "updated_at": "2017-07-11T01:20:58Z", "closed_at": "2017-06-16T18:28:38Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>Initially I encountered the problem described as in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"217086688\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/8731\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/8731/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/8731\">#8731</a></p>\n<p>After modified configure file as in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/fba05c300bf6840e76787680ed7fd1239cdb9ad0/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/fba05c300bf6840e76787680ed7fd1239cdb9ad0\"><tt>fba05c3</tt></a>. This error happened</p>\n<h3>Environment info</h3>\n<p>Operating System: CentOS Linux release 7.3.1611 (Core)</p>\n<p>Installed version of CUDA and cuDNN: CUDA 7.5 and cuDNN 5.0<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n$ ls -l /usr/local/cuda/lib64/libcud*<br>\n-rw-r--r-- 1 root root   322936 Dec  6 11:05 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root       19 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rwxr-xr-x 1 root root   383336 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root   720192 Dec  6 11:05 /usr/local/cuda/lib64/libcudart_static.a<br>\nlrwxrwxrwx 1 asb  ttic       13 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.5<br>\nlrwxrwxrwx 1 asb  ttic       17 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5 -&gt; libcudnn.so.5.0.5<br>\n-rwxr-xr-x 1 asb  ttic 59909104 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5.0.5<br>\n-rw-r--r-- 1 asb  ttic 58775484 Apr 22  2016 /usr/local/cuda/lib64/libcudnn_static.a</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)<br>\n$ git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/83be34c47c7ed81c62bd61a908fde017e301b578/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/83be34c47c7ed81c62bd61a908fde017e301b578\"><tt>83be34c</tt></a></p>\n</li>\n<li>\n<p>The output of <code>bazel version</code><br>\n$ bazel version<br>\nBuild label: 0.4.5<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)<br>\nBuild timestamp: 1489666778<br>\nBuild timestamp as int: 1489666778</p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>./configure<br>\nPlease specify the location of python. [Default is /home-nfs/mingdachen/anaconda2/envs/py35gpu/bin/python]:<br>\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:<br>\nDo you wish to use jemalloc as the malloc implementation? [Y/n]<br>\njemalloc enabled<br>\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]<br>\nNo Google Cloud Platform support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]<br>\nNo Hadoop File System support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]<br>\nNo XLA support will be enabled for TensorFlow<br>\nFound possible Python library paths:<br>\n/home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages<br>\nPlease input the desired Python library path to use.  Default is [/home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages]</p>\n<p>Using python library path: /home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages<br>\nDo you wish to build TensorFlow with OpenCL support? [y/N]<br>\nNo OpenCL support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with CUDA support? [y/N] y<br>\nCUDA support will be enabled for TensorFlow<br>\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:<br>\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5<br>\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5<br>\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.<br>\nYou can find the compute capability of your device at: <a href=\"https://developer.nvidia.com/cuda-gpus\" rel=\"nofollow\">https://developer.nvidia.com/cuda-gpus</a>.<br>\nPlease note that each additional compute capability significantly increases your build time and binary size.<br>\n[Default is: \"3.5,5.2\"]:<br>\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/mingda/'.<br>\nExtracting Bazel installation...<br>\n.........<br>\nINFO: All external dependencies fetched successfully.<br>\nConfiguration finished</p>\n<p>$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package &amp;&gt; ../log</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I have tried different branches, including r1.0, r1.1 and master</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/884405/log.txt\">log.txt</a></p>\n<p>The log file of /scratch/mingda/_bazel_mingdachen/b48312abf86569e91b44fe1197c1c461/server/jvm.out is empty</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nInitially I encountered the problem described as in #8731\nAfter modified configure file as in fba05c3. This error happened\nEnvironment info\nOperating System: CentOS Linux release 7.3.1611 (Core)\nInstalled version of CUDA and cuDNN: CUDA 7.5 and cuDNN 5.0\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n$ ls -l /usr/local/cuda/lib64/libcud*\n-rw-r--r-- 1 root root   322936 Dec  6 11:05 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 Dec  6 11:05 /usr/local/cuda/lib64/libcudart_static.a\nlrwxrwxrwx 1 asb  ttic       13 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 asb  ttic       17 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.0.5\n-rwxr-xr-x 1 asb  ttic 59909104 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5.0.5\n-rw-r--r-- 1 asb  ttic 58775484 Apr 22  2016 /usr/local/cuda/lib64/libcudnn_static.a\nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\n$ git rev-parse HEAD\n83be34c\n\n\nThe output of bazel version\n$ bazel version\nBuild label: 0.4.5\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\nBuild timestamp: 1489666778\nBuild timestamp as int: 1489666778\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n./configure\nPlease specify the location of python. [Default is /home-nfs/mingdachen/anaconda2/envs/py35gpu/bin/python]:\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\nDo you wish to use jemalloc as the malloc implementation? [Y/n]\njemalloc enabled\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\nNo Hadoop File System support will be enabled for TensorFlow\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]\nNo XLA support will be enabled for TensorFlow\nFound possible Python library paths:\n/home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages\nPlease input the desired Python library path to use.  Default is [/home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages]\nUsing python library path: /home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages\nDo you wish to build TensorFlow with OpenCL support? [y/N]\nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]:\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/mingda/'.\nExtracting Bazel installation...\n.........\nINFO: All external dependencies fetched successfully.\nConfiguration finished\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package &> ../log\nWhat other attempted solutions have you tried?\nI have tried different branches, including r1.0, r1.1 and master\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nlog.txt\nThe log file of /scratch/mingda/_bazel_mingdachen/b48312abf86569e91b44fe1197c1c461/server/jvm.out is empty", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nInitially I encountered the problem described as in https://github.com/tensorflow/tensorflow/issues/8731\r\n\r\nAfter modified configure file as in https://github.com/tensorflow/tensorflow/commit/fba05c300bf6840e76787680ed7fd1239cdb9ad0. This error happened\r\n\r\n### Environment info\r\nOperating System: CentOS Linux release 7.3.1611 (Core)\r\n\r\nInstalled version of CUDA and cuDNN: CUDA 7.5 and cuDNN 5.0\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`): \r\n$ ls -l /usr/local/cuda/lib64/libcud*\r\n-rw-r--r-- 1 root root   322936 Dec  6 11:05 /usr/local/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\r\nlrwxrwxrwx 1 root root       19 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\r\n-rwxr-xr-x 1 root root   383336 Dec  6 11:05 /usr/local/cuda/lib64/libcudart.so.7.5.18\r\n-rw-r--r-- 1 root root   720192 Dec  6 11:05 /usr/local/cuda/lib64/libcudart_static.a\r\nlrwxrwxrwx 1 asb  ttic       13 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 asb  ttic       17 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5 -> libcudnn.so.5.0.5\r\n-rwxr-xr-x 1 asb  ttic 59909104 Apr 22  2016 /usr/local/cuda/lib64/libcudnn.so.5.0.5\r\n-rw-r--r-- 1 asb  ttic 58775484 Apr 22  2016 /usr/local/cuda/lib64/libcudnn_static.a\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n$ git rev-parse HEAD\r\n83be34c47c7ed81c62bd61a908fde017e301b578\r\n\r\n2. The output of `bazel version`\r\n$ bazel version\r\nBuild label: 0.4.5\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Mar 16 12:19:38 2017 (1489666778)\r\nBuild timestamp: 1489666778\r\nBuild timestamp as int: 1489666778\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\n./configure\r\nPlease specify the location of python. [Default is /home-nfs/mingdachen/anaconda2/envs/py35gpu/bin/python]:\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]:\r\nDo you wish to use jemalloc as the malloc implementation? [Y/n]\r\njemalloc enabled\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N]\r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N]\r\nNo Hadoop File System support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with the XLA just-in-time compiler (experimental)? [y/N]\r\nNo XLA support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages\r\nPlease input the desired Python library path to use.  Default is [/home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages]\r\n\r\nUsing python library path: /home-nfs/mingdachen/anaconda2/envs/py35gpu/lib/python3.5/site-packages\r\nDo you wish to build TensorFlow with OpenCL support? [y/N]\r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5\r\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 5\r\nPlease specify the location where cuDNN 5 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]:\r\nINFO: $TEST_TMPDIR defined: output root default is '/scratch/mingda/'.\r\nExtracting Bazel installation...\r\n.........\r\nINFO: All external dependencies fetched successfully.\r\nConfiguration finished\r\n\r\n$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package &> ../log\r\n\r\n### What other attempted solutions have you tried?\r\nI have tried different branches, including r1.0, r1.1 and master\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n[log.txt](https://github.com/tensorflow/tensorflow/files/884405/log.txt)\r\n\r\nThe log file of /scratch/mingda/_bazel_mingdachen/b48312abf86569e91b44fe1197c1c461/server/jvm.out is empty"}