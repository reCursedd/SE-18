{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355036508", "html_url": "https://github.com/tensorflow/tensorflow/issues/15800#issuecomment-355036508", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15800", "id": 355036508, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTAzNjUwOA==", "user": {"login": "Echooff3", "id": 76337, "node_id": "MDQ6VXNlcjc2MzM3", "avatar_url": "https://avatars3.githubusercontent.com/u/76337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Echooff3", "html_url": "https://github.com/Echooff3", "followers_url": "https://api.github.com/users/Echooff3/followers", "following_url": "https://api.github.com/users/Echooff3/following{/other_user}", "gists_url": "https://api.github.com/users/Echooff3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Echooff3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Echooff3/subscriptions", "organizations_url": "https://api.github.com/users/Echooff3/orgs", "repos_url": "https://api.github.com/users/Echooff3/repos", "events_url": "https://api.github.com/users/Echooff3/events{/privacy}", "received_events_url": "https://api.github.com/users/Echooff3/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-03T15:15:08Z", "updated_at": "2018-01-03T15:15:08Z", "author_association": "NONE", "body_html": "<p>If I remove the one_hot for the label I get the following error:</p>\n<div class=\"highlight highlight-source-shell\"><pre>ValueError: Dimensions must be equal, but are 4 and 1 <span class=\"pl-k\">for</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dnn/head/sparse_softmax_cross_entropy_loss/xentropy/xentropy<span class=\"pl-pds\">'</span></span> (op: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>SparseSoftmaxCrossEntropyWithLogits<span class=\"pl-pds\">'</span></span>) with input shapes: [4,4], [1].</pre></div>\n<p>For background: I have a bunch of 1 second audio data clips of people talking (47 distinct voices). It's in a binary format where the first 2 bytes are the id of the speaker and the next 16,000 bytes are the raw audio data. Perhaps I am using this estimator incorrectly. My assumption was to create one hot labels based on the id of the row and use that as the label. If this is not the intended way for this estimator to be used I will close this issue and revisit my approach.</p>", "body_text": "If I remove the one_hot for the label I get the following error:\nValueError: Dimensions must be equal, but are 4 and 1 for 'dnn/head/sparse_softmax_cross_entropy_loss/xentropy/xentropy' (op: 'SparseSoftmaxCrossEntropyWithLogits') with input shapes: [4,4], [1].\nFor background: I have a bunch of 1 second audio data clips of people talking (47 distinct voices). It's in a binary format where the first 2 bytes are the id of the speaker and the next 16,000 bytes are the raw audio data. Perhaps I am using this estimator incorrectly. My assumption was to create one hot labels based on the id of the row and use that as the label. If this is not the intended way for this estimator to be used I will close this issue and revisit my approach.", "body": "If I remove the one_hot for the label I get the following error:\r\n``` bash\r\nValueError: Dimensions must be equal, but are 4 and 1 for 'dnn/head/sparse_softmax_cross_entropy_loss/xentropy/xentropy' (op: 'SparseSoftmaxCrossEntropyWithLogits') with input shapes: [4,4], [1].\r\n```\r\nFor background: I have a bunch of 1 second audio data clips of people talking (47 distinct voices). It's in a binary format where the first 2 bytes are the id of the speaker and the next 16,000 bytes are the raw audio data. Perhaps I am using this estimator incorrectly. My assumption was to create one hot labels based on the id of the row and use that as the label. If this is not the intended way for this estimator to be used I will close this issue and revisit my approach. "}