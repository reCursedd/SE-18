{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9160", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9160/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9160/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9160/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9160", "id": 221223495, "node_id": "MDU6SXNzdWUyMjEyMjM0OTU=", "number": 9160, "title": "bazel build macOS failing \"ld: unknown option: -zmuldefs\"", "user": {"login": "ckalas", "id": 8230386, "node_id": "MDQ6VXNlcjgyMzAzODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8230386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ckalas", "html_url": "https://github.com/ckalas", "followers_url": "https://api.github.com/users/ckalas/followers", "following_url": "https://api.github.com/users/ckalas/following{/other_user}", "gists_url": "https://api.github.com/users/ckalas/gists{/gist_id}", "starred_url": "https://api.github.com/users/ckalas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ckalas/subscriptions", "organizations_url": "https://api.github.com/users/ckalas/orgs", "repos_url": "https://api.github.com/users/ckalas/repos", "events_url": "https://api.github.com/users/ckalas/events{/privacy}", "received_events_url": "https://api.github.com/users/ckalas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-12T10:48:58Z", "updated_at": "2017-10-12T15:04:24Z", "closed_at": "2017-04-12T15:24:47Z", "author_association": "NONE", "body_html": "<ul>\n<li><em>TensorFlow installed from (source or binary)?</em>: source</li>\n<li><em>TensorFlow version</em>: latest one checked out from git</li>\n<li><em>Bazel version (if compiling from source)</em>:  0.4.5-homebrew</li>\n<li><em>CUDA/cuDNN version</em>: 8.0 / 5.1 (6.0 fails earlier in the build)</li>\n<li><em>GPU Model and Memory</em>: GeForce 750M 2GB</li>\n<li><em>Exact command to reproduce</em>:bazel build --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem clearly</h3>\n<p>So I followed this general guide <a href=\"https://gist.github.com/ageitgey/819a51afa4613649bd18\">https://gist.github.com/ageitgey/819a51afa4613649bd18</a>, after which I solved some compilation issues with <a href=\"http://stackoverflow.com/questions/39865212/dyld-library-not-loaded-rpath-libcudart-8-0-dylib-while-building-tensorflow?rq=1\" rel=\"nofollow\">http://stackoverflow.com/questions/39865212/dyld-library-not-loaded-rpath-libcudart-8-0-dylib-while-building-tensorflow?rq=1</a>.</p>\n<p>Doing this allowed me to compile more, but then the following errors occur.</p>\n<h3>Source Code / Logs</h3>\n<pre><code>ERROR: /Users/chris/git/tensorflow/tensorflow/python/BUILD:2533:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 472 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nclang: warning: argument unused during compilation: '-pthread'\nld: unknown option: -zmuldefs\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1592.901s, Critical Path: 1309.60s\n</code></pre>", "body_text": "TensorFlow installed from (source or binary)?: source\nTensorFlow version: latest one checked out from git\nBazel version (if compiling from source):  0.4.5-homebrew\nCUDA/cuDNN version: 8.0 / 5.1 (6.0 fails earlier in the build)\nGPU Model and Memory: GeForce 750M 2GB\nExact command to reproduce:bazel build --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem clearly\nSo I followed this general guide https://gist.github.com/ageitgey/819a51afa4613649bd18, after which I solved some compilation issues with http://stackoverflow.com/questions/39865212/dyld-library-not-loaded-rpath-libcudart-8-0-dylib-while-building-tensorflow?rq=1.\nDoing this allowed me to compile more, but then the following errors occur.\nSource Code / Logs\nERROR: /Users/chris/git/tensorflow/tensorflow/python/BUILD:2533:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 472 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nclang: warning: argument unused during compilation: '-pthread'\nld: unknown option: -zmuldefs\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 1592.901s, Critical Path: 1309.60s", "body": "- *TensorFlow installed from (source or binary)?*: source\r\n- *TensorFlow version*: latest one checked out from git\r\n- *Bazel version (if compiling from source)*:  0.4.5-homebrew\r\n- *CUDA/cuDNN version*: 8.0 / 5.1 (6.0 fails earlier in the build)\r\n- *GPU Model and Memory*: GeForce 750M 2GB\r\n- *Exact command to reproduce*:bazel build --config=cuda --config=opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem clearly\r\nSo I followed this general guide https://gist.github.com/ageitgey/819a51afa4613649bd18, after which I solved some compilation issues with http://stackoverflow.com/questions/39865212/dyld-library-not-loaded-rpath-libcudart-8-0-dylib-while-building-tensorflow?rq=1.\r\n\r\nDoing this allowed me to compile more, but then the following errors occur.\r\n### Source Code / Logs\r\n```\r\nERROR: /Users/chris/git/tensorflow/tensorflow/python/BUILD:2533:1: Linking of rule '//tensorflow/python:_pywrap_tensorflow_internal.so' failed: link_dynamic_library.sh failed: error executing command external/bazel_tools/tools/cpp/link_dynamic_library.sh no ignored ignored ignored external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -shared -o ... (remaining 472 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nclang: warning: argument unused during compilation: '-pthread'\r\nld: unknown option: -zmuldefs\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 1592.901s, Critical Path: 1309.60s\r\n```\r\n"}