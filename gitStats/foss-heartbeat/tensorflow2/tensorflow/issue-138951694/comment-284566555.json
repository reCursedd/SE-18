{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/284566555", "html_url": "https://github.com/tensorflow/tensorflow/issues/1419#issuecomment-284566555", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1419", "id": 284566555, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDU2NjU1NQ==", "user": {"login": "crjensen21", "id": 25468229, "node_id": "MDQ6VXNlcjI1NDY4MjI5", "avatar_url": "https://avatars3.githubusercontent.com/u/25468229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crjensen21", "html_url": "https://github.com/crjensen21", "followers_url": "https://api.github.com/users/crjensen21/followers", "following_url": "https://api.github.com/users/crjensen21/following{/other_user}", "gists_url": "https://api.github.com/users/crjensen21/gists{/gist_id}", "starred_url": "https://api.github.com/users/crjensen21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crjensen21/subscriptions", "organizations_url": "https://api.github.com/users/crjensen21/orgs", "repos_url": "https://api.github.com/users/crjensen21/repos", "events_url": "https://api.github.com/users/crjensen21/events{/privacy}", "received_events_url": "https://api.github.com/users/crjensen21/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-06T23:16:51Z", "updated_at": "2017-03-06T23:16:51Z", "author_association": "NONE", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6690599\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aidan-plenert-macdonald\">@aidan-plenert-macdonald</a>. I tried that and I still end up with this:</p>\n<blockquote>\n<p>/home/crjensen21/tensorflow/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN10tensorflow10ReaderBase4ReadEPNS_14QueueInterfaceEPSsS3_PNS_15OpKernelContextE</p>\n</blockquote>\n<p>On the bright side, they've moved the reader_base to the framework folder rather than the kernels folder so I can now build it using bazel without having to patch the bazel build.  Unfortunately, building that way I now get this error:</p>\n<blockquote>\n<p>/home/crjensen21/tensorflow/bazel-bin/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E</p>\n</blockquote>\n<p>So I still have to remove the disallowed_deps and depend on the reader_base target to get all my symbols linked. Which still only works in my build of tensorflow. So things are changing but the result is staying the same.</p>", "body_text": "Thanks @aidan-plenert-macdonald. I tried that and I still end up with this:\n\n/home/crjensen21/tensorflow/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN10tensorflow10ReaderBase4ReadEPNS_14QueueInterfaceEPSsS3_PNS_15OpKernelContextE\n\nOn the bright side, they've moved the reader_base to the framework folder rather than the kernels folder so I can now build it using bazel without having to patch the bazel build.  Unfortunately, building that way I now get this error:\n\n/home/crjensen21/tensorflow/bazel-bin/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E\n\nSo I still have to remove the disallowed_deps and depend on the reader_base target to get all my symbols linked. Which still only works in my build of tensorflow. So things are changing but the result is staying the same.", "body": "Thanks @aidan-plenert-macdonald. I tried that and I still end up with this:\r\n\r\n> /home/crjensen21/tensorflow/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN10tensorflow10ReaderBase4ReadEPNS_14QueueInterfaceEPSsS3_PNS_15OpKernelContextE\r\n\r\nOn the bright side, they've moved the reader_base to the framework folder rather than the kernels folder so I can now build it using bazel without having to patch the bazel build.  Unfortunately, building that way I now get this error:\r\n\r\n> /home/crjensen21/tensorflow/bazel-bin/tensorflow/core/user_ops/wav_reader_op.so: undefined symbol: _ZN6google8protobuf8internal26fixed_address_empty_stringB5cxx11E\r\n\r\nSo I still have to remove the disallowed_deps and depend on the reader_base target to get all my symbols linked. Which still only works in my build of tensorflow. So things are changing but the result is staying the same.\r\n\r\n\r\n\r\n\r\n"}