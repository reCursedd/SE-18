{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/278413845", "html_url": "https://github.com/tensorflow/tensorflow/issues/1419#issuecomment-278413845", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1419", "id": 278413845, "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODQxMzg0NQ==", "user": {"login": "aidan-plenert-macdonald", "id": 6690599, "node_id": "MDQ6VXNlcjY2OTA1OTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6690599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aidan-plenert-macdonald", "html_url": "https://github.com/aidan-plenert-macdonald", "followers_url": "https://api.github.com/users/aidan-plenert-macdonald/followers", "following_url": "https://api.github.com/users/aidan-plenert-macdonald/following{/other_user}", "gists_url": "https://api.github.com/users/aidan-plenert-macdonald/gists{/gist_id}", "starred_url": "https://api.github.com/users/aidan-plenert-macdonald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aidan-plenert-macdonald/subscriptions", "organizations_url": "https://api.github.com/users/aidan-plenert-macdonald/orgs", "repos_url": "https://api.github.com/users/aidan-plenert-macdonald/repos", "events_url": "https://api.github.com/users/aidan-plenert-macdonald/events{/privacy}", "received_events_url": "https://api.github.com/users/aidan-plenert-macdonald/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-08T18:12:29Z", "updated_at": "2017-02-08T18:12:29Z", "author_association": "NONE", "body_html": "<p>FYI, I found that when I was implementing <a href=\"https://github.com/tensorflow/tensorflow/issues/4359#issuecomment-247187582\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4359/hovercard\">kernels for new hardware</a> that I also needed to link to a variety of shared libraries in order to have all the proper symbols in my shared library. Its been a while, but here is what I did in my Makefile</p>\n<pre><code>TF_INC         :=$(shell python -c 'import tensorflow as tf; print(tf.sysconfig.get_include())')\nTF_LIB         :=$(shell find $(TF_INC)/../ -name \"*.so\")\n</code></pre>\n<p>Without it, I would get errors saying stuff about protobuf symbols missing and tensorflow operation kernel symbols missing. Fairly annoying, but it was because I was trying to reuse the kernels that are fairly generic like ConstantOp, VarialeOp, ZeroOp, etc.</p>\n<p>I can't remember exactly the problem, but with some effort I could try to to replicate it. I just need to binary trace in Git since our code base moved on.</p>", "body_text": "FYI, I found that when I was implementing kernels for new hardware that I also needed to link to a variety of shared libraries in order to have all the proper symbols in my shared library. Its been a while, but here is what I did in my Makefile\nTF_INC         :=$(shell python -c 'import tensorflow as tf; print(tf.sysconfig.get_include())')\nTF_LIB         :=$(shell find $(TF_INC)/../ -name \"*.so\")\n\nWithout it, I would get errors saying stuff about protobuf symbols missing and tensorflow operation kernel symbols missing. Fairly annoying, but it was because I was trying to reuse the kernels that are fairly generic like ConstantOp, VarialeOp, ZeroOp, etc.\nI can't remember exactly the problem, but with some effort I could try to to replicate it. I just need to binary trace in Git since our code base moved on.", "body": "FYI, I found that when I was implementing [kernels for new hardware](https://github.com/tensorflow/tensorflow/issues/4359#issuecomment-247187582) that I also needed to link to a variety of shared libraries in order to have all the proper symbols in my shared library. Its been a while, but here is what I did in my Makefile\r\n\r\n```\r\nTF_INC         :=$(shell python -c 'import tensorflow as tf; print(tf.sysconfig.get_include())')\r\nTF_LIB         :=$(shell find $(TF_INC)/../ -name \"*.so\")\r\n```\r\n\r\nWithout it, I would get errors saying stuff about protobuf symbols missing and tensorflow operation kernel symbols missing. Fairly annoying, but it was because I was trying to reuse the kernels that are fairly generic like ConstantOp, VarialeOp, ZeroOp, etc.\r\n\r\nI can't remember exactly the problem, but with some effort I could try to to replicate it. I just need to binary trace in Git since our code base moved on."}