{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6606", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6606/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6606/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6606/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6606", "id": 198382825, "node_id": "MDU6SXNzdWUxOTgzODI4MjU=", "number": 6606, "title": "could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM Check failed: stream->parent()-GetConvolveAlgorithms(&algorithms) ```", "user": {"login": "aclaussen1", "id": 11046216, "node_id": "MDQ6VXNlcjExMDQ2MjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/11046216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclaussen1", "html_url": "https://github.com/aclaussen1", "followers_url": "https://api.github.com/users/aclaussen1/followers", "following_url": "https://api.github.com/users/aclaussen1/following{/other_user}", "gists_url": "https://api.github.com/users/aclaussen1/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclaussen1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclaussen1/subscriptions", "organizations_url": "https://api.github.com/users/aclaussen1/orgs", "repos_url": "https://api.github.com/users/aclaussen1/repos", "events_url": "https://api.github.com/users/aclaussen1/events{/privacy}", "received_events_url": "https://api.github.com/users/aclaussen1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-01-02T21:33:37Z", "updated_at": "2018-07-05T09:07:55Z", "closed_at": "2017-01-06T19:35:54Z", "author_association": "NONE", "body_html": "<p>I'm trying to use tensorflow for this project: <a href=\"https://github.com/ibab/tensorflow-wavenet\">https://github.com/ibab/tensorflow-wavenet</a></p>\n<p>I've gotten to the point where when I import tensorflow, I get the messages that all the CUDA libraries are successfully opened locally.</p>\n<p>I can run the following python code from <a href=\"https://www.tensorflow.org/get_started/os_setup#run_tensorflow_from_the_command_line\" rel=\"nofollow\">https://www.tensorflow.org/get_started/os_setup#run_tensorflow_from_the_command_line</a> and it works fine.</p>\n<blockquote>\n<p>import tensorflow as tf<br>\nhello = tf.constant('Hello, TensorFlow!')<br>\nsess = tf.Session()<br>\nprint(sess.run(hello))<br>\nHello, TensorFlow!<br>\na = tf.constant(10)<br>\nb = tf.constant(32)<br>\nprint(sess.run(a + b))<br>\n42</p>\n</blockquote>\n<p>However when I run the wavenet project, I get the following error messages and then python crashes.</p>\n<pre><code>c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:885] Found device 0 with properties:\nname: GeForce GTX 950\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.19\npciBusID 0000:01:00.0\nTotal memory: 2.00GiB\nFree memory: 1.65GiB\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:906] DMA: 0\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:916] 0:   Y\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -&gt; (device: 0, name: GeForce GTX 950, pci bus id: 0000:01:00.0)\nWARNING:tensorflow:From train.py:249 in main.: initialize_all_variables (from tensorflow.python.ops.variables) is deprecated and will be removed after 2017-03-02.\nInstructions for updating:\nUse `tf.global_variables_initializer` instead.\nTrying to restore saved checkpoints from ./logdir\\train\\2017-01-02T16-17-15 ... No checkpoint found.\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\kernels\\conv_ops.cc:532] Check failed: stream-&gt;parent()-GetConvolveAlgorithms(&amp;algorithms)\n</code></pre>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175517908\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/4251\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/4251/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/4251\">#4251</a></p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nWindows</p>\n<p>Installed version of CUDA and cuDNN:<br>\ncuDNN v5.1 (August 10, 2016), for CUDA 8.0</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cublas64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cudnn64_5.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cufft64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library nvcuda.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library curand64_80.dll locally<br>\nTraceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nNameError: name 'tensor' is not defined</li>\n</ol>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)</li>\n<li>The output of <code>bazel version</code></li>\n</ol>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I have tried reinstalling Cuda, different versions of cudnn. Looked at different issues with same error messages but nothing seemed to help.</p>", "body_text": "I'm trying to use tensorflow for this project: https://github.com/ibab/tensorflow-wavenet\nI've gotten to the point where when I import tensorflow, I get the messages that all the CUDA libraries are successfully opened locally.\nI can run the following python code from https://www.tensorflow.org/get_started/os_setup#run_tensorflow_from_the_command_line and it works fine.\n\nimport tensorflow as tf\nhello = tf.constant('Hello, TensorFlow!')\nsess = tf.Session()\nprint(sess.run(hello))\nHello, TensorFlow!\na = tf.constant(10)\nb = tf.constant(32)\nprint(sess.run(a + b))\n42\n\nHowever when I run the wavenet project, I get the following error messages and then python crashes.\nc:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:885] Found device 0 with properties:\nname: GeForce GTX 950\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.19\npciBusID 0000:01:00.0\nTotal memory: 2.00GiB\nFree memory: 1.65GiB\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:906] DMA: 0\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:916] 0:   Y\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 950, pci bus id: 0000:01:00.0)\nWARNING:tensorflow:From train.py:249 in main.: initialize_all_variables (from tensorflow.python.ops.variables) is deprecated and will be removed after 2017-03-02.\nInstructions for updating:\nUse `tf.global_variables_initializer` instead.\nTrying to restore saved checkpoints from ./logdir\\train\\2017-01-02T16-17-15 ... No checkpoint found.\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\kernels\\conv_ops.cc:532] Check failed: stream->parent()-GetConvolveAlgorithms(&algorithms)\n\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n#4251\nEnvironment info\nOperating System:\nWindows\nInstalled version of CUDA and cuDNN:\ncuDNN v5.1 (August 10, 2016), for CUDA 8.0\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cublas64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cudnn64_5.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cufft64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library nvcuda.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library curand64_80.dll locally\nTraceback (most recent call last):\nFile \"\", line 1, in \nNameError: name 'tensor' is not defined\n\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD)\nThe output of bazel version\n\nWhat other attempted solutions have you tried?\nI have tried reinstalling Cuda, different versions of cudnn. Looked at different issues with same error messages but nothing seemed to help.", "body": "\r\nI'm trying to use tensorflow for this project: https://github.com/ibab/tensorflow-wavenet\r\n\r\nI've gotten to the point where when I import tensorflow, I get the messages that all the CUDA libraries are successfully opened locally.\r\n\r\nI can run the following python code from https://www.tensorflow.org/get_started/os_setup#run_tensorflow_from_the_command_line and it works fine.\r\n\r\n> import tensorflow as tf\r\n> hello = tf.constant('Hello, TensorFlow!')\r\n> sess = tf.Session()\r\n> print(sess.run(hello))\r\nHello, TensorFlow!\r\n> a = tf.constant(10)\r\n> b = tf.constant(32)\r\n> print(sess.run(a + b))\r\n42\r\n>\r\n\r\nHowever when I run the wavenet project, I get the following error messages and then python crashes.\r\n\r\n```\r\nc:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:885] Found device 0 with properties:\r\nname: GeForce GTX 950\r\nmajor: 5 minor: 2 memoryClockRate (GHz) 1.19\r\npciBusID 0000:01:00.0\r\nTotal memory: 2.00GiB\r\nFree memory: 1.65GiB\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:906] DMA: 0\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:916] 0:   Y\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 950, pci bus id: 0000:01:00.0)\r\nWARNING:tensorflow:From train.py:249 in main.: initialize_all_variables (from tensorflow.python.ops.variables) is deprecated and will be removed after 2017-03-02.\r\nInstructions for updating:\r\nUse `tf.global_variables_initializer` instead.\r\nTrying to restore saved checkpoints from ./logdir\\train\\2017-01-02T16-17-15 ... No checkpoint found.\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:385] could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\nE c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\cuda\\cuda_dnn.cc:352] could not destroy cudnn handle: CUDNN_STATUS_BAD_PARAM\r\nF c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\kernels\\conv_ops.cc:532] Check failed: stream->parent()-GetConvolveAlgorithms(&algorithms)\r\n```\r\n\r\n\r\n\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nhttps://github.com/tensorflow/tensorflow/issues/4251\r\n\r\n\r\n### Environment info\r\nOperating System:\r\nWindows\r\n\r\nInstalled version of CUDA and cuDNN: \r\ncuDNN v5.1 (August 10, 2016), for CUDA 8.0\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cublas64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cudnn64_5.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cufft64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library nvcuda.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library curand64_80.dll locally\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nNameError: name 'tensor' is not defined\r\n\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n2. The output of `bazel version`\r\n\r\n\r\n### What other attempted solutions have you tried?\r\n\r\nI have tried reinstalling Cuda, different versions of cudnn. Looked at different issues with same error messages but nothing seemed to help.\r\n\r\n"}