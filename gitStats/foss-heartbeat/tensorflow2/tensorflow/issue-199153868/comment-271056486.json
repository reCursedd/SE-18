{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/271056486", "html_url": "https://github.com/tensorflow/tensorflow/issues/6687#issuecomment-271056486", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6687", "id": 271056486, "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA1NjQ4Ng==", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-07T02:27:30Z", "updated_at": "2017-01-07T02:27:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hm, can't reproduce...any idea what could be different about your setup? Here's what I tried</p>\n<pre><code>source activate tf12.2\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\npip install -I --upgrade setuptools\npip install --upgrade $TF_BINARY_URL\n\ngit fetch\ngit tag -l\ngit checkout tags/0.12.1 -b 0.12.1\nfind . -name \"mnist_replica*\"\n\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\n# python mnist_replica.py\nsource activate tf12.2\nexport CUDA_VISIBLE_DEVICES=1; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"ps\" --task_index=0 --num_gpus=1 --sync_replicas=True\n\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\nsource activate tf12.2\nexport CUDA_VISIBLE_DEVICES=2; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"worker\" --task_index=0 --num_gpus=2 --train_steps=100 --sync_replicas=True\n\n</code></pre>\n<p>at the end it finishes with</p>\n<pre><code>\n1483755958.593979: Worker 0: training step 94 done (global step: 92)\n1483755958.599673: Worker 0: training step 95 done (global step: 93)\n1483755958.604453: Worker 0: training step 96 done (global step: 94)\n1483755958.609369: Worker 0: training step 97 done (global step: 95)\n1483755958.614092: Worker 0: training step 98 done (global step: 96)\n1483755958.619020: Worker 0: training step 99 done (global step: 97)\n1483755958.624015: Worker 0: training step 100 done (global step: 98)\n1483755958.629047: Worker 0: training step 101 done (global step: 99)\n1483755958.633775: Worker 0: training step 102 done (global step: 100)\nTraining ends @ 1483755958.633824\nTraining elapsed time: 0.946386 s\nAfter 100 training step(s), validation cross entropy = 1463.93\n</code></pre>", "body_text": "Hm, can't reproduce...any idea what could be different about your setup? Here's what I tried\nsource activate tf12.2\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\npip install -I --upgrade setuptools\npip install --upgrade $TF_BINARY_URL\n\ngit fetch\ngit tag -l\ngit checkout tags/0.12.1 -b 0.12.1\nfind . -name \"mnist_replica*\"\n\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\n# python mnist_replica.py\nsource activate tf12.2\nexport CUDA_VISIBLE_DEVICES=1; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"ps\" --task_index=0 --num_gpus=1 --sync_replicas=True\n\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\nsource activate tf12.2\nexport CUDA_VISIBLE_DEVICES=2; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"worker\" --task_index=0 --num_gpus=2 --train_steps=100 --sync_replicas=True\n\n\nat the end it finishes with\n\n1483755958.593979: Worker 0: training step 94 done (global step: 92)\n1483755958.599673: Worker 0: training step 95 done (global step: 93)\n1483755958.604453: Worker 0: training step 96 done (global step: 94)\n1483755958.609369: Worker 0: training step 97 done (global step: 95)\n1483755958.614092: Worker 0: training step 98 done (global step: 96)\n1483755958.619020: Worker 0: training step 99 done (global step: 97)\n1483755958.624015: Worker 0: training step 100 done (global step: 98)\n1483755958.629047: Worker 0: training step 101 done (global step: 99)\n1483755958.633775: Worker 0: training step 102 done (global step: 100)\nTraining ends @ 1483755958.633824\nTraining elapsed time: 0.946386 s\nAfter 100 training step(s), validation cross entropy = 1463.93", "body": "Hm, can't reproduce...any idea what could be different about your setup? Here's what I tried\r\n\r\n```\r\nsource activate tf12.2\r\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow_gpu-0.12.1-cp35-cp35m-linux_x86_64.whl\r\npip install -I --upgrade setuptools\r\npip install --upgrade $TF_BINARY_URL\r\n\r\ngit fetch\r\ngit tag -l\r\ngit checkout tags/0.12.1 -b 0.12.1\r\nfind . -name \"mnist_replica*\"\r\n\r\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\r\n# python mnist_replica.py\r\nsource activate tf12.2\r\nexport CUDA_VISIBLE_DEVICES=1; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"ps\" --task_index=0 --num_gpus=1 --sync_replicas=True\r\n\r\ncd ~/tensorflow.git/tensorflow/tensorflow/tools/dist_test/python\r\nsource activate tf12.2\r\nexport CUDA_VISIBLE_DEVICES=2; python mnist_replica.py --ps_hosts=\"localhost:50000\" --worker_hosts=\"localhost:50001\" --job_name=\"worker\" --task_index=0 --num_gpus=2 --train_steps=100 --sync_replicas=True\r\n\r\n```\r\n\r\nat the end it finishes with\r\n```\r\n\r\n1483755958.593979: Worker 0: training step 94 done (global step: 92)\r\n1483755958.599673: Worker 0: training step 95 done (global step: 93)\r\n1483755958.604453: Worker 0: training step 96 done (global step: 94)\r\n1483755958.609369: Worker 0: training step 97 done (global step: 95)\r\n1483755958.614092: Worker 0: training step 98 done (global step: 96)\r\n1483755958.619020: Worker 0: training step 99 done (global step: 97)\r\n1483755958.624015: Worker 0: training step 100 done (global step: 98)\r\n1483755958.629047: Worker 0: training step 101 done (global step: 99)\r\n1483755958.633775: Worker 0: training step 102 done (global step: 100)\r\nTraining ends @ 1483755958.633824\r\nTraining elapsed time: 0.946386 s\r\nAfter 100 training step(s), validation cross entropy = 1463.93\r\n```"}