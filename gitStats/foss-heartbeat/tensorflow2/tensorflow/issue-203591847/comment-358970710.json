{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/358970710", "html_url": "https://github.com/tensorflow/tensorflow/issues/7108#issuecomment-358970710", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7108", "id": 358970710, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODk3MDcxMA==", "user": {"login": "eigen2017", "id": 33959526, "node_id": "MDQ6VXNlcjMzOTU5NTI2", "avatar_url": "https://avatars3.githubusercontent.com/u/33959526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eigen2017", "html_url": "https://github.com/eigen2017", "followers_url": "https://api.github.com/users/eigen2017/followers", "following_url": "https://api.github.com/users/eigen2017/following{/other_user}", "gists_url": "https://api.github.com/users/eigen2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/eigen2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eigen2017/subscriptions", "organizations_url": "https://api.github.com/users/eigen2017/orgs", "repos_url": "https://api.github.com/users/eigen2017/repos", "events_url": "https://api.github.com/users/eigen2017/events{/privacy}", "received_events_url": "https://api.github.com/users/eigen2017/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-19T13:48:49Z", "updated_at": "2018-01-19T13:49:13Z", "author_association": "NONE", "body_html": "<p>greate news for me ~~ i resolved this issue,<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=765073\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ratzinho87\">@ratzinho87</a> :not only set_inter_op_parallelism_threads and set_intra_op_parallelism_threads<br>\nbut also add_session_inter_op_thread_pool and set_use_per_session_threads !!!!!</p>\n<p>here:~</p>\n<pre><code>Session * HeartPrint::HpInitGraph()\n{\n    Session * session;\n    GraphDef graph_def;\n    SessionOptions opts;\n\n    TF_CHECK_OK(ReadBinaryProto(Env::Default(), heartPrintPbPathFile, &amp;graph_def));\n\n    opts.config.set_intra_op_parallelism_threads(1);\n    opts.config.set_inter_op_parallelism_threads(1);\n    opts.config.add_session_inter_op_thread_pool()-&gt;set_num_threads(1);\n    opts.config.set_use_per_session_threads(false);\n\n    TF_CHECK_OK(NewSession(opts, &amp;session));\n\n    TF_CHECK_OK(session-&gt;Create(graph_def));\n\n    return session;\n}\n</code></pre>", "body_text": "greate news for me ~~ i resolved this issue,\n@ratzinho87 :not only set_inter_op_parallelism_threads and set_intra_op_parallelism_threads\nbut also add_session_inter_op_thread_pool and set_use_per_session_threads !!!!!\nhere:~\nSession * HeartPrint::HpInitGraph()\n{\n    Session * session;\n    GraphDef graph_def;\n    SessionOptions opts;\n\n    TF_CHECK_OK(ReadBinaryProto(Env::Default(), heartPrintPbPathFile, &graph_def));\n\n    opts.config.set_intra_op_parallelism_threads(1);\n    opts.config.set_inter_op_parallelism_threads(1);\n    opts.config.add_session_inter_op_thread_pool()->set_num_threads(1);\n    opts.config.set_use_per_session_threads(false);\n\n    TF_CHECK_OK(NewSession(opts, &session));\n\n    TF_CHECK_OK(session->Create(graph_def));\n\n    return session;\n}", "body": "greate news for me ~~ i resolved this issue, \r\n@ratzinho87 :not only set_inter_op_parallelism_threads and set_intra_op_parallelism_threads\r\nbut also add_session_inter_op_thread_pool and set_use_per_session_threads !!!!!\r\n\r\nhere:~\r\n\r\n```\r\nSession * HeartPrint::HpInitGraph()\r\n{\r\n    Session * session;\r\n    GraphDef graph_def;\r\n    SessionOptions opts;\r\n\r\n    TF_CHECK_OK(ReadBinaryProto(Env::Default(), heartPrintPbPathFile, &graph_def));\r\n\r\n    opts.config.set_intra_op_parallelism_threads(1);\r\n    opts.config.set_inter_op_parallelism_threads(1);\r\n    opts.config.add_session_inter_op_thread_pool()->set_num_threads(1);\r\n    opts.config.set_use_per_session_threads(false);\r\n\r\n    TF_CHECK_OK(NewSession(opts, &session));\r\n\r\n    TF_CHECK_OK(session->Create(graph_def));\r\n\r\n    return session;\r\n}\r\n```\r\n"}