{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8847", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8847/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8847/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8847/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8847", "id": 218267126, "node_id": "MDU6SXNzdWUyMTgyNjcxMjY=", "number": 8847, "title": "cannot run test_session on warpctc", "user": {"login": "ilovin", "id": 8060424, "node_id": "MDQ6VXNlcjgwNjA0MjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8060424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilovin", "html_url": "https://github.com/ilovin", "followers_url": "https://api.github.com/users/ilovin/followers", "following_url": "https://api.github.com/users/ilovin/following{/other_user}", "gists_url": "https://api.github.com/users/ilovin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilovin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilovin/subscriptions", "organizations_url": "https://api.github.com/users/ilovin/orgs", "repos_url": "https://api.github.com/users/ilovin/repos", "events_url": "https://api.github.com/users/ilovin/events{/privacy}", "received_events_url": "https://api.github.com/users/ilovin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-30T17:16:17Z", "updated_at": "2017-04-01T21:21:27Z", "closed_at": "2017-04-01T21:21:27Z", "author_association": "NONE", "body_html": "<p>python 3.5 ;  gtx1080*2</p>\n<pre><code>InvalidArgumentError (see above for traceback): Cannot assign a device to node 'CTCLoss': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\n\t [[Node: CTCLoss = CTCLoss[_kernel=\"WarpCTC\", ctc_merge_repeated=true, preprocess_collapse_repeated=false, _device=\"/device:GPU:0\"](Const_3, Const, Const_1, CTCLoss/sequence_length)]]\n</code></pre>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04</p>\n<p>Installed version of CUDA and cuDNN:  8.0.44 5</p>\n<ol>\n<li>A link to the pip package you installed: 9.0.1</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>. 1.0.1</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><a href=\"https://github.com/baidu-research/warp-ctc/blob/master/tensorflow_binding/tests/test_ctc_loss_op.py\">https://github.com/baidu-research/warp-ctc/blob/master/tensorflow_binding/tests/test_ctc_loss_op.py</a></p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>after some search, I flip the flag to  <code>allow_soft_placement=True</code>, however I get</p>\n<pre><code>anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/test_util.py\", line 248, in prepare_config\n    config.allow_soft_placement = False\nAttributeError: 'NoneType' object has no attribute 'allow_soft_placement'\n</code></pre>\n<p>And if I replace <code>self.test_session</code> to <code>tf.Session</code> and remove the <code>use_gpu</code> and <code>force_gpu</code> option<br>\nthe error will disappear, don't know what happend</p>", "body_text": "python 3.5 ;  gtx1080*2\nInvalidArgumentError (see above for traceback): Cannot assign a device to node 'CTCLoss': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\n\t [[Node: CTCLoss = CTCLoss[_kernel=\"WarpCTC\", ctc_merge_repeated=true, preprocess_collapse_repeated=false, _device=\"/device:GPU:0\"](Const_3, Const, Const_1, CTCLoss/sequence_length)]]\n\nEnvironment info\nOperating System: Ubuntu 14.04\nInstalled version of CUDA and cuDNN:  8.0.44 5\n\nA link to the pip package you installed: 9.0.1\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\". 1.0.1\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nhttps://github.com/baidu-research/warp-ctc/blob/master/tensorflow_binding/tests/test_ctc_loss_op.py\nWhat other attempted solutions have you tried?\nafter some search, I flip the flag to  allow_soft_placement=True, however I get\nanaconda3/lib/python3.5/site-packages/tensorflow/python/framework/test_util.py\", line 248, in prepare_config\n    config.allow_soft_placement = False\nAttributeError: 'NoneType' object has no attribute 'allow_soft_placement'\n\nAnd if I replace self.test_session to tf.Session and remove the use_gpu and force_gpu option\nthe error will disappear, don't know what happend", "body": "python 3.5 ;  gtx1080*2\r\n\r\n```\r\nInvalidArgumentError (see above for traceback): Cannot assign a device to node 'CTCLoss': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\r\n\t [[Node: CTCLoss = CTCLoss[_kernel=\"WarpCTC\", ctc_merge_repeated=true, preprocess_collapse_repeated=false, _device=\"/device:GPU:0\"](Const_3, Const, Const_1, CTCLoss/sequence_length)]]\r\n```\r\n### Environment info\r\nOperating System: Ubuntu 14.04\r\n\r\nInstalled version of CUDA and cuDNN:  8.0.44 5\r\n\r\n1. A link to the pip package you installed: 9.0.1\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`. 1.0.1 \r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\nhttps://github.com/baidu-research/warp-ctc/blob/master/tensorflow_binding/tests/test_ctc_loss_op.py\r\n\r\n\r\n### What other attempted solutions have you tried?\r\n\r\nafter some search, I flip the flag to  `allow_soft_placement=True`, however I get\r\n```\r\nanaconda3/lib/python3.5/site-packages/tensorflow/python/framework/test_util.py\", line 248, in prepare_config\r\n    config.allow_soft_placement = False\r\nAttributeError: 'NoneType' object has no attribute 'allow_soft_placement'\r\n```\r\n\r\nAnd if I replace `self.test_session` to `tf.Session` and remove the `use_gpu` and `force_gpu` option\r\nthe error will disappear, don't know what happend"}