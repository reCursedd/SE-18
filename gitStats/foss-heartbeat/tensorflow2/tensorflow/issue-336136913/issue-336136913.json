{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20336", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20336/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20336/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20336/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20336", "id": 336136913, "node_id": "MDU6SXNzdWUzMzYxMzY5MTM=", "number": 20336, "title": "Tensorflow failed to build on x64 when build with MSVC", "user": {"login": "shanshan0309", "id": 29445498, "node_id": "MDQ6VXNlcjI5NDQ1NDk4", "avatar_url": "https://avatars2.githubusercontent.com/u/29445498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanshan0309", "html_url": "https://github.com/shanshan0309", "followers_url": "https://api.github.com/users/shanshan0309/followers", "following_url": "https://api.github.com/users/shanshan0309/following{/other_user}", "gists_url": "https://api.github.com/users/shanshan0309/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanshan0309/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanshan0309/subscriptions", "organizations_url": "https://api.github.com/users/shanshan0309/orgs", "repos_url": "https://api.github.com/users/shanshan0309/repos", "events_url": "https://api.github.com/users/shanshan0309/events{/privacy}", "received_events_url": "https://api.github.com/users/shanshan0309/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-06-27T08:56:26Z", "updated_at": "2018-10-13T21:20:48Z", "closed_at": "2018-08-17T17:36:49Z", "author_association": "NONE", "body_html": "<p>System information<br>\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nN/A<br>\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nWindows server 2016<br>\n\u2022\tTensorFlow installed from (source or binary):<br>\nSource<br>\n\u2022\tTensorFlow version (use command below):<br>\nMaster branch latest revison<br>\n\u2022\tPython version:<br>\nAnaconda 4.1.1 (Python 3.5 64-bit)<br>\n\u2022\tBazel version (if compiling from source):<br>\nN/A<br>\n\u2022\tGCC/Compiler version (if compiling from source):<br>\nVS2017 15.5.7<br>\n\u2022\tCUDA/cuDNN version:<br>\nNVidia CUDA Toolkit 8.0<br>\nNVidia CUDNN 5.1<br>\n\u2022\tGPU model and memory:<br>\nN/A<br>\n\u2022\tExact command to reproduce:<br>\nN/A</p>\n<p><strong>Describe the problem:</strong><br>\nTensorflow failed to build on x64. This issue can be reproduced from the master revision <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/68bb4359d4f831026888d52500b742e9f1005577/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/68bb4359d4f831026888d52500b742e9f1005577\"><tt>68bb435</tt></a>. This should be tensorflow source issue, could you please help take a look at this? Thanks!</p>\n<p><strong>The failures like:</strong><br>\nThe whole log file please see attachment.<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/2140452/tensorflow_x64_build.log\">tensorflow_x64_build.log</a></p>\n<p><strong>Repro steps:</strong></p>\n<ol>\n<li>git clone <a href=\"https://github.com/tensorflow/tensorflow\">https://github.com/tensorflow/tensorflow</a> D:\\Tensorflow\\src</li>\n<li>pushd D:\\Tensorflow</li>\n<li>set PreferredToolArchitecture=x64</li>\n<li>set rel=Release</li>\n<li>set CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"</li>\n<li>set PY=C:\\ProgramData\\Anaconda3</li>\n<li>set CL=/FS /permissive-</li>\n<li>cmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON</li>\n<li>MSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.17134.0 tensorflow.sln /t:Rebuild</li>\n</ol>", "body_text": "System information\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nN/A\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nWindows server 2016\n\u2022\tTensorFlow installed from (source or binary):\nSource\n\u2022\tTensorFlow version (use command below):\nMaster branch latest revison\n\u2022\tPython version:\nAnaconda 4.1.1 (Python 3.5 64-bit)\n\u2022\tBazel version (if compiling from source):\nN/A\n\u2022\tGCC/Compiler version (if compiling from source):\nVS2017 15.5.7\n\u2022\tCUDA/cuDNN version:\nNVidia CUDA Toolkit 8.0\nNVidia CUDNN 5.1\n\u2022\tGPU model and memory:\nN/A\n\u2022\tExact command to reproduce:\nN/A\nDescribe the problem:\nTensorflow failed to build on x64. This issue can be reproduced from the master revision 68bb435. This should be tensorflow source issue, could you please help take a look at this? Thanks!\nThe failures like:\nThe whole log file please see attachment.\ntensorflow_x64_build.log\nRepro steps:\n\ngit clone https://github.com/tensorflow/tensorflow D:\\Tensorflow\\src\npushd D:\\Tensorflow\nset PreferredToolArchitecture=x64\nset rel=Release\nset CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"\nset PY=C:\\ProgramData\\Anaconda3\nset CL=/FS /permissive-\ncmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON\nMSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.17134.0 tensorflow.sln /t:Rebuild", "body": "System information\r\n\u2022\tHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nN/A\r\n\u2022\tOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nWindows server 2016\r\n\u2022\tTensorFlow installed from (source or binary):\r\nSource\r\n\u2022\tTensorFlow version (use command below):\r\nMaster branch latest revison\r\n\u2022\tPython version:\r\nAnaconda 4.1.1 (Python 3.5 64-bit)\r\n\u2022\tBazel version (if compiling from source):\r\nN/A\r\n\u2022\tGCC/Compiler version (if compiling from source):\r\nVS2017 15.5.7\r\n\u2022\tCUDA/cuDNN version:\r\nNVidia CUDA Toolkit 8.0\r\nNVidia CUDNN 5.1\r\n\u2022\tGPU model and memory:\r\nN/A\r\n\u2022\tExact command to reproduce:\r\nN/A\r\n\r\n**Describe the problem:**\r\nTensorflow failed to build on x64. This issue can be reproduced from the master revision 68bb435. This should be tensorflow source issue, could you please help take a look at this? Thanks!\r\n\r\n**The failures like:**\r\nThe whole log file please see attachment.\r\n[tensorflow_x64_build.log](https://github.com/tensorflow/tensorflow/files/2140452/tensorflow_x64_build.log)\r\n\r\n**Repro steps:**\r\n1. git clone https://github.com/tensorflow/tensorflow D:\\Tensorflow\\src\r\n2. pushd D:\\Tensorflow\r\n3. set PreferredToolArchitecture=x64\r\n4. set rel=Release\r\n5. set CUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\cuda\"\r\n6. set PY=C:\\ProgramData\\Anaconda3\r\n7. set CL=/FS /permissive-\r\n8. cmake D:\\Tensorflow\\src\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE=C:\\ProgramData\\Anaconda3\\python.exe -DPYTHON_LIBRARIES=C:\\ProgramData\\Anaconda3\\libs\\python36.lib -DSWIG_EXECUTABLE=D:\\Tensorflow\\swigwin-3.0.12\\swig.exe -Dtensorflow_BUILD_PYTHON_TESTS=ON -Dtensorflow_BUILD_SHARED_LIB=ON\r\n9. MSBuild /m /p:Configuration=Release;Platform=x64 /p:WindowsTargetPlatformVersion=10.0.17134.0 tensorflow.sln /t:Rebuild"}