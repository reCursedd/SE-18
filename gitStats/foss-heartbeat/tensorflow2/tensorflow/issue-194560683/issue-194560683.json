{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6210", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6210/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6210/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/6210/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/6210", "id": 194560683, "node_id": "MDU6SXNzdWUxOTQ1NjA2ODM=", "number": 6210, "title": "[Installing TensorFlow offline] $ ./configure fails because no Internet connection is available for my server.", "user": {"login": "mrtonnet", "id": 17428911, "node_id": "MDQ6VXNlcjE3NDI4OTEx", "avatar_url": "https://avatars3.githubusercontent.com/u/17428911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrtonnet", "html_url": "https://github.com/mrtonnet", "followers_url": "https://api.github.com/users/mrtonnet/followers", "following_url": "https://api.github.com/users/mrtonnet/following{/other_user}", "gists_url": "https://api.github.com/users/mrtonnet/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrtonnet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrtonnet/subscriptions", "organizations_url": "https://api.github.com/users/mrtonnet/orgs", "repos_url": "https://api.github.com/users/mrtonnet/repos", "events_url": "https://api.github.com/users/mrtonnet/events{/privacy}", "received_events_url": "https://api.github.com/users/mrtonnet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2016-12-09T10:22:21Z", "updated_at": "2018-03-16T19:32:40Z", "closed_at": "2016-12-09T17:43:37Z", "author_association": "NONE", "body_html": "<p><strong>My environment without Internet</strong><br>\nMy server can't access the Internet because my company's firewall blocks any external network or the Internet. To install Tensorflow on this server, I have to install TensorFlow offline. In other words, I have to correct tens of errors by myself. Upon this error, I had to submit an issue.</p>\n<p>I moved the template below because it's way too long. (I filled in some information.) I'd appreciate your feedback.</p>\n<p><strong>Questions</strong><br>\nMy question nails down to two core questions.<br>\nQ1. How can I manually fetch all the packages for tensorflow without using bazel command?<br>\nI took a closer look at the \"configure\" file and the following line causes the problem.<br>\n$bazel fetch //tensorflow/...</p>\n<pre><code>  This bazel command fetches all the packages in target \"tensorflow\". \n   No Internet connection in my server, so this command fails!. \n   I'll have to download all these packages in ANOTHER computer with Internet connection and   \n   move them to my server.\n\n   In another computer with Internet connection, how can I download them without bazel command? Alternative commands can be wget, git, apt-get, pip and so on.\n</code></pre>\n<p>Q2. Where should I place the downloaded packages?<br>\nSay all the packages for target \"tensorflow\" are downloaded.<br>\nWhere should I place them to run the next command successfully?</p>\n<pre><code> $ bazel build -c opt -config=cuda //tensorflow/cc:tutorials_example_trainer\n\nI'll have to move all the package to my server from another computer.\n</code></pre>\n<p>So I need some information about the directory that the above command refers to.</p>\n<h2>(This is all because of the security measure in my company. As a matter of fact, this process is more complex than using another computer, but this gives you an idea about my installation environment without the Internet)</h2>\n<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>\"How to make the ./configure find package in local place <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"187558886\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5428\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5428/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5428\">#5428</a>\"<br>\nGaofengCheng opened this issue on 6 Nov and there're 13 comments, but no solution is presented.</p>\n<h3>Environment info</h3>\n<ol>\n<li>\n<p>Operating System: Ubuntu Linux 14.04</p>\n</li>\n<li>\n<p>NO INTERNET CONNECTION.<br>\nMy company's firewall blocks my server from the Internet connection.  So no Internet connection is available. A comment in Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"183588321\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5029/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5029\">#5029</a> says \"Long story short, [...] a network access is required.\", but a network access on this server is not an option. I'll have to download necessary packages from another computer with Internet connection and upload them to my server via sftp.</p>\n</li>\n<li>\n<p>CUDA &amp; cuDNN are installed in ~/local/ because of the system admin asked me to do so.<br>\nWhen I run \" $ ./configure\", CUDA &amp; cuDNN installation was done manually.</p>\n</li>\n</ol>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\n~/local/cuda-8.0/lib64$ ls -l libcud*<br>\n-rw-r--r-- 1 root root   558720 Dec  9 01:00 libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 Dec  9 01:00 libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root       19 Dec  9 01:00 libcudart.so.8.0 -&gt; libcudart.so.8.0.44<br>\n-rwxr-xr-x 1 root root   415432 Dec  9 01:00 libcudart.so.8.0.44<br>\n-rw-r--r-- 1 root root   775162 Dec  9 01:00 libcudart_static.a<br>\nlrwxrwxrwx 1 root root       13 Dec  9 01:05 libcudnn.so -&gt; libcudnn.so.5<br>\nlrwxrwxrwx 1 root root       17 Dec  9 01:05 libcudnn.so.5 -&gt; libcudnn.so.5.1.5<br>\n-rwxr-xr-x 1 root root 79337624 Dec  9 01:05 libcudnn.so.5.1.5<br>\n-rw-r--r-- 1 root root 69756172 Dec  9 01:05 libcudnn_static.a</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)<br>\n$ git rev-parse HEAD<br>\nfatal: Not a git repository (or any parent up to mount point /home)<br>\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).</p>\n</li>\n<li>\n<p>The output of <code>bazel version</code><br>\n$ bazel version<br>\nBuild label: 0.4.0<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)<br>\nBuild timestamp: 1478109254<br>\nBuild timestamp as int: 1478109254</p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>$ ./configure<br>\n[...]<br>\nERROR: package contains errors: tensorflow/examples/android.<br>\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> : connect timed out.<br>\n(tensorflow) $</p>\n<p>(The following line within configure causes my problem.<br>\nMy server has no Internet connection, so download fails.)<br>\n$ bazel fetch //tensorflow/...<br>\nINFO: Downloading from <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85%5C\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\</a><br>\n5cb16db.tar.gz: 0B</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<p>the.kim@clover3:<del>/tensorflow/downloads/tensorflow$ source <del>/tensorflow/bin/activate<br>\n(tensorflow) the.kim@clover3:</del>/tensorflow/downloads/tensorflow$ ls<br>\n008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz  eigen.BUILD        LICENSE          tensorflow<br>\nACKNOWLEDGMENTS                                  farmhash.BUILD     linenoise.BUILD  third_party<br>\nADOPTERS.md                                      gif.BUILD          models.BUILD     tools<br>\nAUTHORS                                          gmock.BUILD        nanopb.BUILD     util<br>\nbower.BUILD                                      grpc.BUILD         png.BUILD        WORKSPACE<br>\nBUILD                                            ISSUE_TEMPLATE.md  README.md        zlib.BUILD<br>\nconfigure                                        jpeg.BUILD         RELEASE.md<br>\nCONTRIBUTING.md                                  jsoncpp.BUILD      six.BUILD<br>\n(tensorflow) the.kim@clover3:</del>/tensorflow/downloads/tensorflow$ ./configure<br>\n~/tensorflow/downloads/tensorflow ~/tensorflow/downloads/tensorflow<br>\nPlease specify the location of python. [Default is /home/the.kim/tensorflow/bin/python]: /home/the.kim/tensorflow/bin/python3<br>\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n<br>\nNo Google Cloud Platform support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] n<br>\nNo Hadoop File System support will be enabled for TensorFlow<br>\nFound possible Python library paths:<br>\n/home/the.kim/tensorflow/lib/python3.4/site-packages<br>\nPlease input the desired Python library path to use.  Default is [/home/the.kim/tensorflow/lib/python3.4/site-packages]</p>\n<p>Using python library path: /home/the.kim/tensorflow/lib/python3.4/site-packages<br>\nDo you wish to build TensorFlow with OpenCL support? [y/N] y<br>\nOpenCL support will be enabled for TensorFlow<br>\nDo you wish to build TensorFlow with CUDA support? [y/N] y<br>\nCUDA support will be enabled for TensorFlow<br>\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:<br>\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0<br>\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /home/the.kim/local/cuda-8.0<br>\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:<br>\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /home/the.kim/local/cuda-8.0]:<br>\nlibcudnn.so resolves to libcudnn.5<br>\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.<br>\nYou can find the compute capability of your device at: <a href=\"https://developer.nvidia.com/cuda-gpus\" rel=\"nofollow\">https://developer.nvidia.com/cuda-gpus</a>.<br>\nPlease note that each additional compute capability significantly increases your build time and binary size.<br>\n[Default is: \"3.5,5.2\"]: 3.7<br>\nPlease specify which C++ compiler should be used as the host C++ compiler. [Default is /usr/bin/g++]:<br>\nPlease specify which C compiler should be used as the host C compiler. [Default is /usr/bin/gcc]:<br>\nPlease specify the location where ComputeCpp 1.2 is installed. Refer to README.md for more details. [Default is /usr/local/computecpp]: /home/the.kim/local/ComputeCpp-CE-0.1.1-Linux<br>\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.<br>\n........<br>\nERROR: package contains errors: tensorflow/examples/android.<br>\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz</a> : connect timed out.<br>\n(tensorflow) the.kim@clover3:~/tensorflow/downloads/tensorflow$</p>\n<p>(Before the error, $ ./configure attempts this.)<br>\nINFO: Downloading from <a href=\"https://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85%5C\">http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\</a><br>\n5cb16db.tar.gz: 0B</p>", "body_text": "My environment without Internet\nMy server can't access the Internet because my company's firewall blocks any external network or the Internet. To install Tensorflow on this server, I have to install TensorFlow offline. In other words, I have to correct tens of errors by myself. Upon this error, I had to submit an issue.\nI moved the template below because it's way too long. (I filled in some information.) I'd appreciate your feedback.\nQuestions\nMy question nails down to two core questions.\nQ1. How can I manually fetch all the packages for tensorflow without using bazel command?\nI took a closer look at the \"configure\" file and the following line causes the problem.\n$bazel fetch //tensorflow/...\n  This bazel command fetches all the packages in target \"tensorflow\". \n   No Internet connection in my server, so this command fails!. \n   I'll have to download all these packages in ANOTHER computer with Internet connection and   \n   move them to my server.\n\n   In another computer with Internet connection, how can I download them without bazel command? Alternative commands can be wget, git, apt-get, pip and so on.\n\nQ2. Where should I place the downloaded packages?\nSay all the packages for target \"tensorflow\" are downloaded.\nWhere should I place them to run the next command successfully?\n $ bazel build -c opt -config=cuda //tensorflow/cc:tutorials_example_trainer\n\nI'll have to move all the package to my server from another computer.\n\nSo I need some information about the directory that the above command refers to.\n(This is all because of the security measure in my company. As a matter of fact, this process is more complex than using another computer, but this gives you an idea about my installation environment without the Internet)\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\n\"How to make the ./configure find package in local place #5428\"\nGaofengCheng opened this issue on 6 Nov and there're 13 comments, but no solution is presented.\nEnvironment info\n\n\nOperating System: Ubuntu Linux 14.04\n\n\nNO INTERNET CONNECTION.\nMy company's firewall blocks my server from the Internet connection.  So no Internet connection is available. A comment in Issue #5029 says \"Long story short, [...] a network access is required.\", but a network access on this server is not an option. I'll have to download necessary packages from another computer with Internet connection and upload them to my server via sftp.\n\n\nCUDA & cuDNN are installed in ~/local/ because of the system admin asked me to do so.\nWhen I run \" $ ./configure\", CUDA & cuDNN installation was done manually.\n\n\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n~/local/cuda-8.0/lib64$ ls -l libcud*\n-rw-r--r-- 1 root root   558720 Dec  9 01:00 libcudadevrt.a\nlrwxrwxrwx 1 root root       16 Dec  9 01:00 libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root       19 Dec  9 01:00 libcudart.so.8.0 -> libcudart.so.8.0.44\n-rwxr-xr-x 1 root root   415432 Dec  9 01:00 libcudart.so.8.0.44\n-rw-r--r-- 1 root root   775162 Dec  9 01:00 libcudart_static.a\nlrwxrwxrwx 1 root root       13 Dec  9 01:05 libcudnn.so -> libcudnn.so.5\nlrwxrwxrwx 1 root root       17 Dec  9 01:05 libcudnn.so.5 -> libcudnn.so.5.1.5\n-rwxr-xr-x 1 root root 79337624 Dec  9 01:05 libcudnn.so.5.1.5\n-rw-r--r-- 1 root root 69756172 Dec  9 01:05 libcudnn_static.a\nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\n$ git rev-parse HEAD\nfatal: Not a git repository (or any parent up to mount point /home)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\n\n\nThe output of bazel version\n$ bazel version\nBuild label: 0.4.0\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)\nBuild timestamp: 1478109254\nBuild timestamp as int: 1478109254\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n$ ./configure\n[...]\nERROR: package contains errors: tensorflow/examples/android.\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz : connect timed out.\n(tensorflow) $\n(The following line within configure causes my problem.\nMy server has no Internet connection, so download fails.)\n$ bazel fetch //tensorflow/...\nINFO: Downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\\n5cb16db.tar.gz: 0B\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\nthe.kim@clover3:/tensorflow/downloads/tensorflow$ source /tensorflow/bin/activate\n(tensorflow) the.kim@clover3:/tensorflow/downloads/tensorflow$ ls\n008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz  eigen.BUILD        LICENSE          tensorflow\nACKNOWLEDGMENTS                                  farmhash.BUILD     linenoise.BUILD  third_party\nADOPTERS.md                                      gif.BUILD          models.BUILD     tools\nAUTHORS                                          gmock.BUILD        nanopb.BUILD     util\nbower.BUILD                                      grpc.BUILD         png.BUILD        WORKSPACE\nBUILD                                            ISSUE_TEMPLATE.md  README.md        zlib.BUILD\nconfigure                                        jpeg.BUILD         RELEASE.md\nCONTRIBUTING.md                                  jsoncpp.BUILD      six.BUILD\n(tensorflow) the.kim@clover3:/tensorflow/downloads/tensorflow$ ./configure\n~/tensorflow/downloads/tensorflow ~/tensorflow/downloads/tensorflow\nPlease specify the location of python. [Default is /home/the.kim/tensorflow/bin/python]: /home/the.kim/tensorflow/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] n\nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n/home/the.kim/tensorflow/lib/python3.4/site-packages\nPlease input the desired Python library path to use.  Default is [/home/the.kim/tensorflow/lib/python3.4/site-packages]\nUsing python library path: /home/the.kim/tensorflow/lib/python3.4/site-packages\nDo you wish to build TensorFlow with OpenCL support? [y/N] y\nOpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with CUDA support? [y/N] y\nCUDA support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /home/the.kim/local/cuda-8.0\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /home/the.kim/local/cuda-8.0]:\nlibcudnn.so resolves to libcudnn.5\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 3.7\nPlease specify which C++ compiler should be used as the host C++ compiler. [Default is /usr/bin/g++]:\nPlease specify which C compiler should be used as the host C compiler. [Default is /usr/bin/gcc]:\nPlease specify the location where ComputeCpp 1.2 is installed. Refer to README.md for more details. [Default is /usr/local/computecpp]: /home/the.kim/local/ComputeCpp-CE-0.1.1-Linux\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n........\nERROR: package contains errors: tensorflow/examples/android.\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz : connect timed out.\n(tensorflow) the.kim@clover3:~/tensorflow/downloads/tensorflow$\n(Before the error, $ ./configure attempts this.)\nINFO: Downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\\n5cb16db.tar.gz: 0B", "body": "**My environment without Internet**\r\nMy server can't access the Internet because my company's firewall blocks any external network or the Internet. To install Tensorflow on this server, I have to install TensorFlow offline. In other words, I have to correct tens of errors by myself. Upon this error, I had to submit an issue. \r\n\r\nI moved the template below because it's way too long. (I filled in some information.) I'd appreciate your feedback.\r\n \r\n**Questions**\r\nMy question nails down to two core questions.\r\nQ1. How can I manually fetch all the packages for tensorflow without using bazel command?\r\n      I took a closer look at the \"configure\" file and the following line causes the problem.\r\n       $bazel fetch //tensorflow/...\r\n\r\n      This bazel command fetches all the packages in target \"tensorflow\". \r\n       No Internet connection in my server, so this command fails!. \r\n       I'll have to download all these packages in ANOTHER computer with Internet connection and   \r\n       move them to my server.\r\n \r\n       In another computer with Internet connection, how can I download them without bazel command? Alternative commands can be wget, git, apt-get, pip and so on.\r\n\r\nQ2. Where should I place the downloaded packages?\r\n    Say all the packages for target \"tensorflow\" are downloaded.\r\n    Where should I place them to run the next command successfully?\r\n \r\n     $ bazel build -c opt -config=cuda //tensorflow/cc:tutorials_example_trainer\r\n \r\n    I'll have to move all the package to my server from another computer.\r\n   So I need some information about the directory that the above command refers to.\r\n\r\n(This is all because of the security measure in my company. As a matter of fact, this process is more complex than using another computer, but this gives you an idea about my installation environment without the Internet)\r\n-----------------------------------------------------------------------------------\r\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n \r\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\r\nout of scope for GitHub Issues and point people to StackOverflow.\r\n \r\nFor bugs or installation issues, please provide the following information.\r\nThe more information you provide, the more easily we will be able to offer\r\nhelp and advice.\r\n \r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\"How to make the ./configure find package in local place #5428\"\r\nGaofengCheng opened this issue on 6 Nov and there're 13 comments, but no solution is presented.\r\n \r\n### Environment info\r\n1. Operating System: Ubuntu Linux 14.04\r\n2. NO INTERNET CONNECTION.\r\n    My company's firewall blocks my server from the Internet connection.  So no Internet connection is available. A comment in Issue #5029 says \"Long story short, [...] a network access is required.\", but a network access on this server is not an option. I'll have to download necessary packages from another computer with Internet connection and upload them to my server via sftp.\r\n \r\n3. CUDA & cuDNN are installed in ~/local/ because of the system admin asked me to do so.\r\n   When I run \" $ ./configure\", CUDA & cuDNN installation was done manually.  \r\n \r\nInstalled version of CUDA and cuDNN:\r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n~/local/cuda-8.0/lib64$ ls -l libcud*\r\n-rw-r--r-- 1 root root   558720 Dec  9 01:00 libcudadevrt.a\r\nlrwxrwxrwx 1 root root       16 Dec  9 01:00 libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root       19 Dec  9 01:00 libcudart.so.8.0 -> libcudart.so.8.0.44\r\n-rwxr-xr-x 1 root root   415432 Dec  9 01:00 libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root   775162 Dec  9 01:00 libcudart_static.a\r\nlrwxrwxrwx 1 root root       13 Dec  9 01:05 libcudnn.so -> libcudnn.so.5\r\nlrwxrwxrwx 1 root root       17 Dec  9 01:05 libcudnn.so.5 -> libcudnn.so.5.1.5\r\n-rwxr-xr-x 1 root root 79337624 Dec  9 01:05 libcudnn.so.5.1.5\r\n-rw-r--r-- 1 root root 69756172 Dec  9 01:05 libcudnn_static.a\r\n \r\nIf installed from source, provide\r\n1. The commit hash (`git rev-parse HEAD`)\r\n$ git rev-parse HEAD\r\nfatal: Not a git repository (or any parent up to mount point /home)\r\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n \r\n2. The output of `bazel version`\r\n$ bazel version\r\nBuild label: 0.4.0\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Wed Nov 2 17:54:14 2016 (1478109254)\r\nBuild timestamp: 1478109254\r\nBuild timestamp as int: 1478109254\r\n \r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n$ ./configure\r\n[...]\r\nERROR: package contains errors: tensorflow/examples/android.\r\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz : connect timed out.\r\n(tensorflow) $\r\n \r\n(The following line within configure causes my problem.\r\nMy server has no Internet connection, so download fails.)\r\n$ bazel fetch //tensorflow/...\r\nINFO: Downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\\r\n5cb16db.tar.gz: 0B\r\n \r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n \r\nthe.kim@clover3:~/tensorflow/downloads/tensorflow$ source ~/tensorflow/bin/activate\r\n(tensorflow) the.kim@clover3:~/tensorflow/downloads/tensorflow$ ls\r\n008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz  eigen.BUILD        LICENSE          tensorflow\r\nACKNOWLEDGMENTS                                  farmhash.BUILD     linenoise.BUILD  third_party\r\nADOPTERS.md                                      gif.BUILD          models.BUILD     tools\r\nAUTHORS                                          gmock.BUILD        nanopb.BUILD     util\r\nbower.BUILD                                      grpc.BUILD         png.BUILD        WORKSPACE\r\nBUILD                                            ISSUE_TEMPLATE.md  README.md        zlib.BUILD\r\nconfigure                                        jpeg.BUILD         RELEASE.md\r\nCONTRIBUTING.md                                  jsoncpp.BUILD      six.BUILD\r\n(tensorflow) the.kim@clover3:~/tensorflow/downloads/tensorflow$ ./configure\r\n~/tensorflow/downloads/tensorflow ~/tensorflow/downloads/tensorflow\r\nPlease specify the location of python. [Default is /home/the.kim/tensorflow/bin/python]: /home/the.kim/tensorflow/bin/python3\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] n\r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] n\r\nNo Hadoop File System support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /home/the.kim/tensorflow/lib/python3.4/site-packages\r\nPlease input the desired Python library path to use.  Default is [/home/the.kim/tensorflow/lib/python3.4/site-packages]\r\n \r\nUsing python library path: /home/the.kim/tensorflow/lib/python3.4/site-packages\r\nDo you wish to build TensorFlow with OpenCL support? [y/N] y\r\nOpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with CUDA support? [y/N] y\r\nCUDA support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]:\r\nPlease specify the CUDA SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 8.0\r\nPlease specify the location where CUDA 8.0 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /home/the.kim/local/cuda-8.0\r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]:\r\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /home/the.kim/local/cuda-8.0]:\r\nlibcudnn.so resolves to libcudnn.5\r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]: 3.7\r\nPlease specify which C++ compiler should be used as the host C++ compiler. [Default is /usr/bin/g++]:\r\nPlease specify which C compiler should be used as the host C compiler. [Default is /usr/bin/gcc]:\r\nPlease specify the location where ComputeCpp 1.2 is installed. Refer to README.md for more details. [Default is /usr/local/computecpp]: /home/the.kim/local/ComputeCpp-CE-0.1.1-Linux\r\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\r\n........\r\nERROR: package contains errors: tensorflow/examples/android.\r\nERROR: error loading package 'tensorflow/examples/android': Encountered error while reading extension file 'protobuf.bzl': no such package '@protobuf//': Error downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf: Error downloading http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz to /home/the.kim/.cache/bazel/_bazel_the.kim/e904ac0e4fbd2c03039cdbaeea674781/external/protobuf/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz: Timed out connecting to http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e855cb16db.tar.gz : connect timed out.\r\n(tensorflow) the.kim@clover3:~/tensorflow/downloads/tensorflow$\r\n \r\n(Before the error, $ ./configure attempts this.)\r\nINFO: Downloading from http://github.com/google/protobuf/archive/008b5a228b37c054f46ba478ccafa5e85\\\r\n5cb16db.tar.gz: 0B"}