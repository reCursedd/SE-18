{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/428796593", "html_url": "https://github.com/tensorflow/tensorflow/issues/22761#issuecomment-428796593", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22761", "id": 428796593, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODc5NjU5Mw==", "user": {"login": "twilightdema", "id": 11656659, "node_id": "MDQ6VXNlcjExNjU2NjU5", "avatar_url": "https://avatars0.githubusercontent.com/u/11656659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twilightdema", "html_url": "https://github.com/twilightdema", "followers_url": "https://api.github.com/users/twilightdema/followers", "following_url": "https://api.github.com/users/twilightdema/following{/other_user}", "gists_url": "https://api.github.com/users/twilightdema/gists{/gist_id}", "starred_url": "https://api.github.com/users/twilightdema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twilightdema/subscriptions", "organizations_url": "https://api.github.com/users/twilightdema/orgs", "repos_url": "https://api.github.com/users/twilightdema/repos", "events_url": "https://api.github.com/users/twilightdema/events{/privacy}", "received_events_url": "https://api.github.com/users/twilightdema/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-11T02:25:44Z", "updated_at": "2018-10-11T02:42:27Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=278746\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bjepson\">@bjepson</a> - In repo.bzl, you can try changing code in function: _wrap_bash_cmd<br>\nChange the line:<br>\n<code>cmd = [bazel_sh, \"-l\", \"-c\", \" \".join(cmd)]</code><br>\nTo be:<br>\n<code>cmd = [bazel_sh, \"-l\", \"-c\", '\"' + \" \".join(cmd) + '\"']</code></p>\n<p>I still ran into different issue anyway. May be what we see in output log is not accurate?</p>\n<p>The modification that seems to unblock my build is simply increasing timeout in function: _execute_and_check_ret_code<br>\nFrom:<br>\n<code>result = repo_ctx.execute(cmd_and_args, timeout = 10)</code><br>\nTo be:<br>\n<code>result = repo_ctx.execute(cmd_and_args, timeout = 100)</code></p>\n<p>Seem  like bazel is utilizing machine resource and shell execution cannot complete task on time in some machines. Increasing the timeout seems to help.</p>", "body_text": "@bjepson - In repo.bzl, you can try changing code in function: _wrap_bash_cmd\nChange the line:\ncmd = [bazel_sh, \"-l\", \"-c\", \" \".join(cmd)]\nTo be:\ncmd = [bazel_sh, \"-l\", \"-c\", '\"' + \" \".join(cmd) + '\"']\nI still ran into different issue anyway. May be what we see in output log is not accurate?\nThe modification that seems to unblock my build is simply increasing timeout in function: _execute_and_check_ret_code\nFrom:\nresult = repo_ctx.execute(cmd_and_args, timeout = 10)\nTo be:\nresult = repo_ctx.execute(cmd_and_args, timeout = 100)\nSeem  like bazel is utilizing machine resource and shell execution cannot complete task on time in some machines. Increasing the timeout seems to help.", "body": "@bjepson - In repo.bzl, you can try changing code in function: _wrap_bash_cmd\r\nChange the line:\r\n`\r\ncmd = [bazel_sh, \"-l\", \"-c\", \" \".join(cmd)]\r\n`\r\nTo be:\r\n`\r\ncmd = [bazel_sh, \"-l\", \"-c\", '\"' + \" \".join(cmd) + '\"']\r\n`\r\n\r\nI still ran into different issue anyway. May be what we see in output log is not accurate?\r\n\r\nThe modification that seems to unblock my build is simply increasing timeout in function: _execute_and_check_ret_code\r\nFrom:\r\n`\r\n    result = repo_ctx.execute(cmd_and_args, timeout = 10)\r\n`\r\nTo be:\r\n`\r\n    result = repo_ctx.execute(cmd_and_args, timeout = 100)\r\n`\r\n\r\nSeem  like bazel is utilizing machine resource and shell execution cannot complete task on time in some machines. Increasing the timeout seems to help.\r\n"}