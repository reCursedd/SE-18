{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1432", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1432/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1432/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1432/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1432", "id": 139299554, "node_id": "MDU6SXNzdWUxMzkyOTk1NTQ=", "number": 1432, "title": "seq2seq tutorial example not working for python 3.4", "user": {"login": "OlavHN", "id": 324645, "node_id": "MDQ6VXNlcjMyNDY0NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/324645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OlavHN", "html_url": "https://github.com/OlavHN", "followers_url": "https://api.github.com/users/OlavHN/followers", "following_url": "https://api.github.com/users/OlavHN/following{/other_user}", "gists_url": "https://api.github.com/users/OlavHN/gists{/gist_id}", "starred_url": "https://api.github.com/users/OlavHN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OlavHN/subscriptions", "organizations_url": "https://api.github.com/users/OlavHN/orgs", "repos_url": "https://api.github.com/users/OlavHN/repos", "events_url": "https://api.github.com/users/OlavHN/events{/privacy}", "received_events_url": "https://api.github.com/users/OlavHN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-03-08T15:02:24Z", "updated_at": "2017-02-09T22:02:19Z", "closed_at": "2016-06-06T23:25:42Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Environment info</h3>\n<p>Operating System:<br>\nUbuntu 14.04</p>\n<ol>\n<li>Which pip package you installed.<br>\nsudo pip3 install --upgrade /tmp/pip/tensorflow-*.whl</li>\n<li>The output from python -c \"import tensorflow; print(tensorflow.<strong>version</strong>)\".<br>\n0.7.1<br>\n(Built from commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/263d00d2710779d5c4ac66e335b2ba07d8385b6b/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/263d00d2710779d5c4ac66e335b2ba07d8385b6b\"><tt>263d00d</tt></a> with <code>TF_UNOFFICIAL_SETTING=1 ./configure</code> )</li>\n</ol>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Apply <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/cdd0e2b7c542a59322c054aa1a52b2753c1cf69e/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/cdd0e2b7c542a59322c054aa1a52b2753c1cf69e\"><tt>cdd0e2b</tt></a></li>\n<li>Run <code>python3 ../tensorflow/tensorflow/models/rnn/translate/translate.py --data_dir .</code></li>\n<li>Fail with trying to decode training data as ascii (see log at the end)</li>\n</ol>\n<h3>What have you tried?</h3>\n<p>Modified <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/default/_gfile.py#L63\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/default/_gfile.py#L63</a> to <code>self._fp = open(name, mode, encoding=\"latin-1\")</code></p>\n<p>This seems to fix this issue for python 3.4.</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>Creating vocabulary ./vocab40000.fr from data ./giga-fren.release2.fr<br>\nTraceback (most recent call last):<br>\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 276, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 273, in main<br>\ntrain()<br>\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 137, in train<br>\nFLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 268, in prepare_wmt_data<br>\ncreate_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size)<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 136, in create_vocabulary<br>\nfor line in f:<br>\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_gfile.py\", line 176, in <strong>next</strong><br>\nreturn next(self._fp)<br>\nFile \"/usr/lib/python3.4/encodings/ascii.py\", line 26, in decode<br>\nreturn codecs.ascii_decode(input, self.errors)[0]</p>", "body_text": "Environment info\nOperating System:\nUbuntu 14.04\n\nWhich pip package you installed.\nsudo pip3 install --upgrade /tmp/pip/tensorflow-*.whl\nThe output from python -c \"import tensorflow; print(tensorflow.version)\".\n0.7.1\n(Built from commit 263d00d with TF_UNOFFICIAL_SETTING=1 ./configure )\n\nSteps to reproduce\n\nApply cdd0e2b\nRun python3 ../tensorflow/tensorflow/models/rnn/translate/translate.py --data_dir .\nFail with trying to decode training data as ascii (see log at the end)\n\nWhat have you tried?\nModified https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/default/_gfile.py#L63 to self._fp = open(name, mode, encoding=\"latin-1\")\nThis seems to fix this issue for python 3.4.\nLogs or other output that would be helpful\nCreating vocabulary ./vocab40000.fr from data ./giga-fren.release2.fr\nTraceback (most recent call last):\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 276, in \ntf.app.run()\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 273, in main\ntrain()\nFile \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 137, in train\nFLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 268, in prepare_wmt_data\ncreate_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size)\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 136, in create_vocabulary\nfor line in f:\nFile \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_gfile.py\", line 176, in next\nreturn next(self._fp)\nFile \"/usr/lib/python3.4/encodings/ascii.py\", line 26, in decode\nreturn codecs.ascii_decode(input, self.errors)[0]", "body": "### Environment info\n\nOperating System:\nUbuntu 14.04\n1. Which pip package you installed.\n   sudo pip3 install --upgrade /tmp/pip/tensorflow-*.whl\n2. The output from python -c \"import tensorflow; print(tensorflow.**version**)\".\n   0.7.1\n   (Built from commit 263d00d271077 with `TF_UNOFFICIAL_SETTING=1 ./configure` )\n### Steps to reproduce\n1. Apply https://github.com/tensorflow/tensorflow/commit/cdd0e2b7c542a59322c054aa1a52b2753c1cf69e \n2. Run `python3 ../tensorflow/tensorflow/models/rnn/translate/translate.py --data_dir .`\n3. Fail with trying to decode training data as ascii (see log at the end)\n### What have you tried?\n\nModified https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/platform/default/_gfile.py#L63 to `self._fp = open(name, mode, encoding=\"latin-1\")`\n\nThis seems to fix this issue for python 3.4.\n### Logs or other output that would be helpful\n\nCreating vocabulary ./vocab40000.fr from data ./giga-fren.release2.fr\nTraceback (most recent call last):\n  File \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 276, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 273, in main\n    train()\n  File \"../../../tensorflow/tensorflow/models/rnn/translate/translate.py\", line 137, in train\n    FLAGS.data_dir, FLAGS.en_vocab_size, FLAGS.fr_vocab_size)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 268, in prepare_wmt_data\n    create_vocabulary(fr_vocab_path, train_path + \".fr\", fr_vocabulary_size)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/models/rnn/translate/data_utils.py\", line 136, in create_vocabulary\n    for line in f:\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/platform/default/_gfile.py\", line 176, in __next__\n    return next(self._fp)\n  File \"/usr/lib/python3.4/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\n"}