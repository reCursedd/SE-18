{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13862", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13862/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13862/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13862/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/13862", "id": 267263980, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ3ODY1NTc4", "number": 13862, "title": "Fix issues where int64 crops could not be passed to batch_to_space.", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-10-20T18:28:06Z", "updated_at": "2017-10-20T23:51:16Z", "closed_at": "2017-10-20T23:36:32Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/13862", "html_url": "https://github.com/tensorflow/tensorflow/pull/13862", "diff_url": "https://github.com/tensorflow/tensorflow/pull/13862.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/13862.patch"}, "body_html": "<p>This fix tries to address the issue where int64 <code>crops</code> could not be passed to <code>batch_to_space</code> even though both int32 and int64 are specified as supported in the docs (tf.batch_to_space.<strong>doc</strong>)</p>\n<p>The reason is that BatchToSpace kernel puts a constraint of int32 to crops data types.</p>\n<p>This fix removed the constraint so that int64 <code>crops</code> could be supported.</p>\n<p>NOTE: Just removing the constraint should work and it is not necessary to add specification to the kernel class template, as <code>SubtleMustCopyFlat</code> called in the class already correctly handled both int32 and int64 cases. Besides, other data types (e.g., float or double) will not be passed to the kernel as they are guarded by the specification in <code>array_ops.cc</code>.</p>\n<p>Signed-off-by: Yong Tang <a href=\"mailto:yong.tang.github@outlook.com\">yong.tang.github@outlook.com</a></p>", "body_text": "This fix tries to address the issue where int64 crops could not be passed to batch_to_space even though both int32 and int64 are specified as supported in the docs (tf.batch_to_space.doc)\nThe reason is that BatchToSpace kernel puts a constraint of int32 to crops data types.\nThis fix removed the constraint so that int64 crops could be supported.\nNOTE: Just removing the constraint should work and it is not necessary to add specification to the kernel class template, as SubtleMustCopyFlat called in the class already correctly handled both int32 and int64 cases. Besides, other data types (e.g., float or double) will not be passed to the kernel as they are guarded by the specification in array_ops.cc.\nSigned-off-by: Yong Tang yong.tang.github@outlook.com", "body": "This fix tries to address the issue where int64 `crops` could not be passed to `batch_to_space` even though both int32 and int64 are specified as supported in the docs (tf.batch_to_space.__doc__)\r\n\r\nThe reason is that BatchToSpace kernel puts a constraint of int32 to crops data types.\r\n\r\nThis fix removed the constraint so that int64 `crops` could be supported.\r\n\r\nNOTE: Just removing the constraint should work and it is not necessary to add specification to the kernel class template, as `SubtleMustCopyFlat` called in the class already correctly handled both int32 and int64 cases. Besides, other data types (e.g., float or double) will not be passed to the kernel as they are guarded by the specification in `array_ops.cc`.\r\n\r\nSigned-off-by: Yong Tang <yong.tang.github@outlook.com>"}