{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4026", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4026/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4026/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4026/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4026", "id": 173066960, "node_id": "MDU6SXNzdWUxNzMwNjY5NjA=", "number": 4026, "title": "TensorFlow SKFlow Estimators Fail when Using read_batch_examples", "user": {"login": "craymichael", "id": 20629897, "node_id": "MDQ6VXNlcjIwNjI5ODk3", "avatar_url": "https://avatars2.githubusercontent.com/u/20629897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craymichael", "html_url": "https://github.com/craymichael", "followers_url": "https://api.github.com/users/craymichael/followers", "following_url": "https://api.github.com/users/craymichael/following{/other_user}", "gists_url": "https://api.github.com/users/craymichael/gists{/gist_id}", "starred_url": "https://api.github.com/users/craymichael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craymichael/subscriptions", "organizations_url": "https://api.github.com/users/craymichael/orgs", "repos_url": "https://api.github.com/users/craymichael/repos", "events_url": "https://api.github.com/users/craymichael/events{/privacy}", "received_events_url": "https://api.github.com/users/craymichael/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilblackdragon", "id": 175486, "node_id": "MDQ6VXNlcjE3NTQ4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/175486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilblackdragon", "html_url": "https://github.com/ilblackdragon", "followers_url": "https://api.github.com/users/ilblackdragon/followers", "following_url": "https://api.github.com/users/ilblackdragon/following{/other_user}", "gists_url": "https://api.github.com/users/ilblackdragon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilblackdragon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilblackdragon/subscriptions", "organizations_url": "https://api.github.com/users/ilblackdragon/orgs", "repos_url": "https://api.github.com/users/ilblackdragon/repos", "events_url": "https://api.github.com/users/ilblackdragon/events{/privacy}", "received_events_url": "https://api.github.com/users/ilblackdragon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-08-24T21:52:20Z", "updated_at": "2016-08-26T19:35:46Z", "closed_at": "2016-08-26T19:35:46Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Ubuntu</p>\n<p>Package: <a href=\"https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl</a><br>\nVersion: 0.10.0rc0</p>\n<p>I'm currently trying to use <code>tf.contrib.learn.read_batch_examples</code> working while using a TensorFlow (SKFlow/tf.contrib) Estimator, specifically the <code>LinearClassifier</code>. I create a <code>read_batch_examples</code> op feeding in a CSV file with a <code>tf.decode_csv</code> for the <code>parse_fn</code> parameter with appropriate default records. I then feed that op to my <code>input_fn</code> for fitting the Estimator, but when that's run I receive the following error:</p>\n<h3>Error Message</h3>\n<pre><code>ValueError: Tensor(\"centered_bias_weight:0\", shape=(1,), dtype=float32_ref) must be from the same graph as Tensor(\"linear/linear/BiasAdd:0\", shape=(?, 1), dtype=float32).\n</code></pre>\n<h3>What I've Tried</h3>\n<p>The code works if I run the op beforehand and then feed the input instead as an array of values. While this workaround exists, it is unhelpful because I am working with large datasets in which I need to batch in my inputs. Currently going over <code>Estimator.fit</code> (currently equivalent to <code>Estimator.partial_fit</code> in iterations isn't nearly as fast as being able to feed in data as it trains, so having this working is ideal.  Additionally I've tried wrapping everything with <code>with tf.Graph().asdefault()</code>. Any ideas? The non-functioning code is below.</p>\n<h3>Shortened Source Code to Reproduce</h3>\n<p><a href=\"https://github.com/tensorflow/tensorflow/files/435736/read_batch_examples_fails_with_estimator.txt\">read_batch_examples_fails_with_estimator.txt</a></p>\n<p>Any alternatives for batching would be appreciated as well!</p>", "body_text": "Environment info\nOperating System: Ubuntu\nPackage: https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\nVersion: 0.10.0rc0\nI'm currently trying to use tf.contrib.learn.read_batch_examples working while using a TensorFlow (SKFlow/tf.contrib) Estimator, specifically the LinearClassifier. I create a read_batch_examples op feeding in a CSV file with a tf.decode_csv for the parse_fn parameter with appropriate default records. I then feed that op to my input_fn for fitting the Estimator, but when that's run I receive the following error:\nError Message\nValueError: Tensor(\"centered_bias_weight:0\", shape=(1,), dtype=float32_ref) must be from the same graph as Tensor(\"linear/linear/BiasAdd:0\", shape=(?, 1), dtype=float32).\n\nWhat I've Tried\nThe code works if I run the op beforehand and then feed the input instead as an array of values. While this workaround exists, it is unhelpful because I am working with large datasets in which I need to batch in my inputs. Currently going over Estimator.fit (currently equivalent to Estimator.partial_fit in iterations isn't nearly as fast as being able to feed in data as it trains, so having this working is ideal.  Additionally I've tried wrapping everything with with tf.Graph().asdefault(). Any ideas? The non-functioning code is below.\nShortened Source Code to Reproduce\nread_batch_examples_fails_with_estimator.txt\nAny alternatives for batching would be appreciated as well!", "body": "### Environment info\n\nOperating System: Ubuntu\n\nPackage: https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.10.0rc0-cp27-none-linux_x86_64.whl\nVersion: 0.10.0rc0\n\nI'm currently trying to use `tf.contrib.learn.read_batch_examples` working while using a TensorFlow (SKFlow/tf.contrib) Estimator, specifically the `LinearClassifier`. I create a `read_batch_examples` op feeding in a CSV file with a `tf.decode_csv` for the `parse_fn` parameter with appropriate default records. I then feed that op to my `input_fn` for fitting the Estimator, but when that's run I receive the following error:\n### Error Message\n\n```\nValueError: Tensor(\"centered_bias_weight:0\", shape=(1,), dtype=float32_ref) must be from the same graph as Tensor(\"linear/linear/BiasAdd:0\", shape=(?, 1), dtype=float32).\n```\n### What I've Tried\n\nThe code works if I run the op beforehand and then feed the input instead as an array of values. While this workaround exists, it is unhelpful because I am working with large datasets in which I need to batch in my inputs. Currently going over `Estimator.fit` (currently equivalent to `Estimator.partial_fit` in iterations isn't nearly as fast as being able to feed in data as it trains, so having this working is ideal.  Additionally I've tried wrapping everything with `with tf.Graph().asdefault()`. Any ideas? The non-functioning code is below.\n### Shortened Source Code to Reproduce\n\n[read_batch_examples_fails_with_estimator.txt](https://github.com/tensorflow/tensorflow/files/435736/read_batch_examples_fails_with_estimator.txt)\n\nAny alternatives for batching would be appreciated as well!\n"}