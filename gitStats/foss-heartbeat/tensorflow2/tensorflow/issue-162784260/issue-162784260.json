{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3086", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3086/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3086/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3086/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3086", "id": 162784260, "node_id": "MDU6SXNzdWUxNjI3ODQyNjA=", "number": 3086, "title": "from google.protobuf import descriptor as _descriptor ImportError: No module named google.protobuf", "user": {"login": "aerointern16", "id": 20194635, "node_id": "MDQ6VXNlcjIwMTk0NjM1", "avatar_url": "https://avatars0.githubusercontent.com/u/20194635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aerointern16", "html_url": "https://github.com/aerointern16", "followers_url": "https://api.github.com/users/aerointern16/followers", "following_url": "https://api.github.com/users/aerointern16/following{/other_user}", "gists_url": "https://api.github.com/users/aerointern16/gists{/gist_id}", "starred_url": "https://api.github.com/users/aerointern16/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aerointern16/subscriptions", "organizations_url": "https://api.github.com/users/aerointern16/orgs", "repos_url": "https://api.github.com/users/aerointern16/repos", "events_url": "https://api.github.com/users/aerointern16/events{/privacy}", "received_events_url": "https://api.github.com/users/aerointern16/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-28T20:51:23Z", "updated_at": "2017-03-09T13:27:40Z", "closed_at": "2016-06-30T20:23:39Z", "author_association": "NONE", "body_html": "<p>Hey guys I'm working on a project using tensorflow on the Amazon Web Services microservices platform and I've run into a few problems. I installed tensorflow using pip into a virtualenv. Then I took the contents of /env/lib/python2.7/site-packages/ and zipped it along with my source code into a development package for AWS Lambda (env is the name of my virtualenv). This is the process for using python libraries for an AWS Lambda process and I haven't run into any problems with other libraries. I've done this for numpy,scipy,Pillow, and a bunch of other far less supported libraries and they have all worked fine with Lambda.</p>\n<p>However when I attempt to use tensorflow it returns this:</p>\n<p>Unable to import module 'classify': Traceback (most recent call last): File <code>\"/var/task/tensorflow/python/__init__.py\",</code> line 52, in  from tensorflow.core.framework.graph_pb2 import * File \"/var/task/tensorflow/core/framework/graph_pb2.py\", line 6, in  from google.protobuf import descriptor as _descriptor ImportError: No module named google.protobuf   Error importing tensorflow. Unless you are using bazel, you should not try to import tensorflow from its source directory; please exit the tensorflow source tree, and relaunch your python interpreter from there.</p>\n<p>classify is the source script AWS Lambda calls when it is invoked and was zipped along with the contents of  /env/lib/python2.7/site-packages/  as I described.</p>\n<p>These errors have been addressed a couple of other places but none of the solutions I found on those pages have worked for me, probably because none of them were using lambda. Is it possible that tensorflow just will not work with lambda because of the way lambda imports libraries? If so is there anyway import the tensorflow package from just a source folder that I upload as a zip?</p>\n<p>Specific Steps to Reproduce:</p>\n<ul>\n<li>virtualenv env</li>\n<li>env/bin/pip install <a href=\"https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.9.0-cp27-none-linux_x86_64.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.9.0-cp27-none-linux_x86_64.whl</a></li>\n<li>zip contents of /env/lib/python2.7/site-packages with .py file classify</li>\n<li>upload to aws lambda function</li>\n<li>invoke aws lambda function which calls classify and runs into an issue with \"import tensorflow as tf\"</li>\n</ul>\n<p>It's occurred to me that this probably isn't something tensorflow is probably supporting given that most people aren't using tensorflow inside AWS containers but hopefully someone can help or at least give it their best shot even if they don't specifically have experience with AWS.</p>\n<p>Thanks!!</p>", "body_text": "Hey guys I'm working on a project using tensorflow on the Amazon Web Services microservices platform and I've run into a few problems. I installed tensorflow using pip into a virtualenv. Then I took the contents of /env/lib/python2.7/site-packages/ and zipped it along with my source code into a development package for AWS Lambda (env is the name of my virtualenv). This is the process for using python libraries for an AWS Lambda process and I haven't run into any problems with other libraries. I've done this for numpy,scipy,Pillow, and a bunch of other far less supported libraries and they have all worked fine with Lambda.\nHowever when I attempt to use tensorflow it returns this:\nUnable to import module 'classify': Traceback (most recent call last): File \"/var/task/tensorflow/python/__init__.py\", line 52, in  from tensorflow.core.framework.graph_pb2 import * File \"/var/task/tensorflow/core/framework/graph_pb2.py\", line 6, in  from google.protobuf import descriptor as _descriptor ImportError: No module named google.protobuf   Error importing tensorflow. Unless you are using bazel, you should not try to import tensorflow from its source directory; please exit the tensorflow source tree, and relaunch your python interpreter from there.\nclassify is the source script AWS Lambda calls when it is invoked and was zipped along with the contents of  /env/lib/python2.7/site-packages/  as I described.\nThese errors have been addressed a couple of other places but none of the solutions I found on those pages have worked for me, probably because none of them were using lambda. Is it possible that tensorflow just will not work with lambda because of the way lambda imports libraries? If so is there anyway import the tensorflow package from just a source folder that I upload as a zip?\nSpecific Steps to Reproduce:\n\nvirtualenv env\nenv/bin/pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.9.0-cp27-none-linux_x86_64.whl\nzip contents of /env/lib/python2.7/site-packages with .py file classify\nupload to aws lambda function\ninvoke aws lambda function which calls classify and runs into an issue with \"import tensorflow as tf\"\n\nIt's occurred to me that this probably isn't something tensorflow is probably supporting given that most people aren't using tensorflow inside AWS containers but hopefully someone can help or at least give it their best shot even if they don't specifically have experience with AWS.\nThanks!!", "body": "Hey guys I'm working on a project using tensorflow on the Amazon Web Services microservices platform and I've run into a few problems. I installed tensorflow using pip into a virtualenv. Then I took the contents of /env/lib/python2.7/site-packages/ and zipped it along with my source code into a development package for AWS Lambda (env is the name of my virtualenv). This is the process for using python libraries for an AWS Lambda process and I haven't run into any problems with other libraries. I've done this for numpy,scipy,Pillow, and a bunch of other far less supported libraries and they have all worked fine with Lambda.\n\nHowever when I attempt to use tensorflow it returns this:\n\nUnable to import module 'classify': Traceback (most recent call last): File `\"/var/task/tensorflow/python/__init__.py\",` line 52, in <module> from tensorflow.core.framework.graph_pb2 import \\* File \"/var/task/tensorflow/core/framework/graph_pb2.py\", line 6, in <module> from google.protobuf import descriptor as _descriptor ImportError: No module named google.protobuf   Error importing tensorflow. Unless you are using bazel, you should not try to import tensorflow from its source directory; please exit the tensorflow source tree, and relaunch your python interpreter from there.\n\nclassify is the source script AWS Lambda calls when it is invoked and was zipped along with the contents of  /env/lib/python2.7/site-packages/  as I described.\n\nThese errors have been addressed a couple of other places but none of the solutions I found on those pages have worked for me, probably because none of them were using lambda. Is it possible that tensorflow just will not work with lambda because of the way lambda imports libraries? If so is there anyway import the tensorflow package from just a source folder that I upload as a zip?\n\nSpecific Steps to Reproduce:\n- virtualenv env \n- env/bin/pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.9.0-cp27-none-linux_x86_64.whl\n- zip contents of /env/lib/python2.7/site-packages with .py file classify\n- upload to aws lambda function\n- invoke aws lambda function which calls classify and runs into an issue with \"import tensorflow as tf\"\n\nIt's occurred to me that this probably isn't something tensorflow is probably supporting given that most people aren't using tensorflow inside AWS containers but hopefully someone can help or at least give it their best shot even if they don't specifically have experience with AWS.\n\nThanks!!\n"}