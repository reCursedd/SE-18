{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/227183352", "html_url": "https://github.com/tensorflow/tensorflow/issues/1269#issuecomment-227183352", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1269", "id": 227183352, "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzE4MzM1Mg==", "user": {"login": "dmirk", "id": 4357323, "node_id": "MDQ6VXNlcjQzNTczMjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4357323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmirk", "html_url": "https://github.com/dmirk", "followers_url": "https://api.github.com/users/dmirk/followers", "following_url": "https://api.github.com/users/dmirk/following{/other_user}", "gists_url": "https://api.github.com/users/dmirk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmirk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmirk/subscriptions", "organizations_url": "https://api.github.com/users/dmirk/orgs", "repos_url": "https://api.github.com/users/dmirk/repos", "events_url": "https://api.github.com/users/dmirk/events{/privacy}", "received_events_url": "https://api.github.com/users/dmirk/received_events", "type": "User", "site_admin": false}, "created_at": "2016-06-20T15:50:02Z", "updated_at": "2016-06-20T16:51:46Z", "author_association": "NONE", "body_html": "<p>Hi, i have the same issue with a retrained v3 model</p>\n<p>06-20 15:00:28.597 3137-3162/org.tensorflow.demo A/native: tensorflow_jni.cc:316 Error during inference: Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs<br>\n[[Node: DecodeJpeg = DecodeJpeg<a href=\"DecodeJpeg/contents\">acceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false</a>]]</p>\n<ul>\n<li>i changed the things \"<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8906225\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/syed-ahmed\">@syed-ahmed</a> commented on 21 Mar\" mentioned,</li>\n<li>i tried stripping away this DecodeJpeg Layers using the \"strip_unused.py\", but nothing changed</li>\n</ul>\n<blockquote>\n<p>python strip_unused.py --input_graph=\"graphfile from inception retrain\" --output_graph=\"new graph name\" --input_node_names=\"Mul:0\" --output_node_names=\"final_result\" --input_binary=true</p>\n</blockquote>\n<p>then i copy and rename the new graph.pb + labels.txt to the examples/android/assets folder</p>\n<p>the model works fine on desktop by testing it with \"label_image\", but i cannot load this model in the android demo app without getting the 'DecodeJpeg' Error</p>\n<p>i hope someone has some hints how i can solve this problem.</p>", "body_text": "Hi, i have the same issue with a retrained v3 model\n06-20 15:00:28.597 3137-3162/org.tensorflow.demo A/native: tensorflow_jni.cc:316 Error during inference: Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs\n[[Node: DecodeJpeg = DecodeJpegacceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false]]\n\ni changed the things \"@syed-ahmed commented on 21 Mar\" mentioned,\ni tried stripping away this DecodeJpeg Layers using the \"strip_unused.py\", but nothing changed\n\n\npython strip_unused.py --input_graph=\"graphfile from inception retrain\" --output_graph=\"new graph name\" --input_node_names=\"Mul:0\" --output_node_names=\"final_result\" --input_binary=true\n\nthen i copy and rename the new graph.pb + labels.txt to the examples/android/assets folder\nthe model works fine on desktop by testing it with \"label_image\", but i cannot load this model in the android demo app without getting the 'DecodeJpeg' Error\ni hope someone has some hints how i can solve this problem.", "body": "Hi, i have the same issue with a retrained v3 model\n\n06-20 15:00:28.597 3137-3162/org.tensorflow.demo A/native: tensorflow_jni.cc:316 Error during inference: Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs\n                                                             [[Node: DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false](DecodeJpeg/contents)]]\n- i changed the things \"@syed-ahmed commented on 21 Mar\" mentioned,\n- i tried stripping away this DecodeJpeg Layers using the \"strip_unused.py\", but nothing changed\n\n> python strip_unused.py --input_graph=\"graphfile from inception retrain\" --output_graph=\"new graph name\" --input_node_names=\"Mul:0\" --output_node_names=\"final_result\" --input_binary=true\n\nthen i copy and rename the new graph.pb + labels.txt to the examples/android/assets folder\n\nthe model works fine on desktop by testing it with \"label_image\", but i cannot load this model in the android demo app without getting the 'DecodeJpeg' Error\n\ni hope someone has some hints how i can solve this problem.\n"}