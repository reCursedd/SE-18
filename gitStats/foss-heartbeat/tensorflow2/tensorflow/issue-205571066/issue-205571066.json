{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7287", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7287/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7287/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7287/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7287", "id": 205571066, "node_id": "MDU6SXNzdWUyMDU1NzEwNjY=", "number": 7287, "title": "SKFLOW/TFLearn SKCompat does not properly implement SKLearn predict and predict_proba", "user": {"login": "jeffheaton", "id": 462761, "node_id": "MDQ6VXNlcjQ2Mjc2MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/462761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffheaton", "html_url": "https://github.com/jeffheaton", "followers_url": "https://api.github.com/users/jeffheaton/followers", "following_url": "https://api.github.com/users/jeffheaton/following{/other_user}", "gists_url": "https://api.github.com/users/jeffheaton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffheaton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffheaton/subscriptions", "organizations_url": "https://api.github.com/users/jeffheaton/orgs", "repos_url": "https://api.github.com/users/jeffheaton/repos", "events_url": "https://api.github.com/users/jeffheaton/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffheaton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2017-02-06T12:36:20Z", "updated_at": "2017-12-18T05:05:32Z", "closed_at": "2017-03-09T23:40:29Z", "author_association": "NONE", "body_html": "<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>None seem to apply, this is a new issue just introduced with 1.0.0-rc1</p>\n<h3>Environment info</h3>\n<p>Operating System:<br>\nMac<br>\nInstalled version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:</li>\n</ol>\n<p>export TF_BINARY_URL=<a href=\"https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0rc1-py3-none-any.whl\" rel=\"nofollow\">https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0rc1-py3-none-any.whl</a></p>\n<ol start=\"2\">\n<li>\n<p>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\n1.0.0-rc1<br>\nIf installed from source, provide</p>\n</li>\n<li>\n<p>The commit hash (<code>git rev-parse HEAD</code>)</p>\n</li>\n<li>\n<p>The output of <code>bazel version</code></p>\n</li>\n</ol>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>TFLearn has incorrect implementations of <code>predict</code> and <code>predict_proba</code>, per the <a href=\"http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\" rel=\"nofollow\">sklearn developer's guide</a>.  The current (v1.0.0-rc1) version's <code>predict</code> actually performs as would be expected for <code>predict_proba</code> and <code>SKCompat</code> does not include a <code>predict_proba</code>.</p>\n<p>SKFLOW/TFLearn's compatibility with sklearn has been broken in various ways since when v0.8 (which worked) was refactored into SKCompat (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"198242109\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/6584\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/6584/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/6584\">#6584</a>).</p>\n<p>The following code shows how the accuracy function fails due to this issue.  This could be fixed with an argmax call, but the core problem is that SKCompat does not properly implement the sklearn functions.</p>\n<p>Note, this code is based on the Contrib TF Learn example here:  <a href=\"https://www.tensorflow.org/tutorials/tflearn/\" rel=\"nofollow\">https://www.tensorflow.org/tutorials/tflearn/</a></p>\n<pre><code>from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\nfrom sklearn import cross_validation\nfrom sklearn import metrics\nimport tensorflow as tf\n\ndef main(unused_argv):\n  # Load dataset.\n  iris = tf.contrib.learn.datasets.load_dataset('iris')\n  x_train, x_test, y_train, y_test = cross_validation.train_test_split(\n      iris.data, iris.target, test_size=0.2, random_state=42)\n\n  # Build 3 layer DNN with 10, 20, 10 units respectively.\n  feature_columns = tf.contrib.learn.infer_real_valued_columns_from_input(\n      x_train)\n  classifier = tf.contrib.learn.DNNClassifier(\n      feature_columns=feature_columns, hidden_units=[10, 20, 10], n_classes=3)\n  classifier = tf.contrib.learn.SKCompat(classifier)\n\n  # Fit and predict.\n  classifier.fit(x_train, y_train, steps=200)\n\n  # This outputs something with shape [30,3] should output single class predictions\n  # See http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\n  # See predict vs predict_proba\n  #predictions = classifier.predict(x_test)\n  #score = metrics.accuracy_score(y_test, predictions)\n  #print('Accuracy: {0:f}'.format(score))\n\n  # predict_proba does not work either:\n  classifier.predict_proba(x_test)\n  # Generates a: AttributeError: 'SKCompat' object has no attribute 'predict_proba'\n\nif __name__ == '__main__':\n  tf.app.run()\n</code></pre>\n<h3>What other attempted solutions have you tried?</h3>\n<p><a href=\"http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\" rel=\"nofollow\">http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines</a></p>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment or provide link).</p>\n<pre><code>/Users/jeff/anaconda/envs/tf-latest/bin/python /Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\n/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/cross_validation.py:44: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\n  \"This module will be removed in 0.20.\", DeprecationWarning)\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/bs/_w74fpx157v3vs82q0fwnflr0000gn/T/tmpl7bwdnzy\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nWARNING:tensorflow:From /Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/head.py:1362: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30.\nInstructions for updating:\nPlease switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nTraceback (most recent call last):\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 52, in &lt;module&gt;\n    tf.app.run()\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 44, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 44, in main\n    score = metrics.accuracy_score(y_test, predictions)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 172, in accuracy_score\n    y_type, y_true, y_pred = _check_targets(y_true, y_pred)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 72, in _check_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/utils/validation.py\", line 181, in check_consistent_length\n    \" samples: %r\" % [int(l) for l in lengths])\nValueError: Found input variables with inconsistent numbers of samples: [30, 3]\n\nProcess finished with exit code 1\n</code></pre>", "body_text": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNone seem to apply, this is a new issue just introduced with 1.0.0-rc1\nEnvironment info\nOperating System:\nMac\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\n\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0rc1-py3-none-any.whl\n\n\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n1.0.0-rc1\nIf installed from source, provide\n\n\nThe commit hash (git rev-parse HEAD)\n\n\nThe output of bazel version\n\n\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\nTFLearn has incorrect implementations of predict and predict_proba, per the sklearn developer's guide.  The current (v1.0.0-rc1) version's predict actually performs as would be expected for predict_proba and SKCompat does not include a predict_proba.\nSKFLOW/TFLearn's compatibility with sklearn has been broken in various ways since when v0.8 (which worked) was refactored into SKCompat (see #6584).\nThe following code shows how the accuracy function fails due to this issue.  This could be fixed with an argmax call, but the core problem is that SKCompat does not properly implement the sklearn functions.\nNote, this code is based on the Contrib TF Learn example here:  https://www.tensorflow.org/tutorials/tflearn/\nfrom __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\nfrom sklearn import cross_validation\nfrom sklearn import metrics\nimport tensorflow as tf\n\ndef main(unused_argv):\n  # Load dataset.\n  iris = tf.contrib.learn.datasets.load_dataset('iris')\n  x_train, x_test, y_train, y_test = cross_validation.train_test_split(\n      iris.data, iris.target, test_size=0.2, random_state=42)\n\n  # Build 3 layer DNN with 10, 20, 10 units respectively.\n  feature_columns = tf.contrib.learn.infer_real_valued_columns_from_input(\n      x_train)\n  classifier = tf.contrib.learn.DNNClassifier(\n      feature_columns=feature_columns, hidden_units=[10, 20, 10], n_classes=3)\n  classifier = tf.contrib.learn.SKCompat(classifier)\n\n  # Fit and predict.\n  classifier.fit(x_train, y_train, steps=200)\n\n  # This outputs something with shape [30,3] should output single class predictions\n  # See http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\n  # See predict vs predict_proba\n  #predictions = classifier.predict(x_test)\n  #score = metrics.accuracy_score(y_test, predictions)\n  #print('Accuracy: {0:f}'.format(score))\n\n  # predict_proba does not work either:\n  classifier.predict_proba(x_test)\n  # Generates a: AttributeError: 'SKCompat' object has no attribute 'predict_proba'\n\nif __name__ == '__main__':\n  tf.app.run()\n\nWhat other attempted solutions have you tried?\nhttp://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment or provide link).\n/Users/jeff/anaconda/envs/tf-latest/bin/python /Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\n/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/cross_validation.py:44: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\n  \"This module will be removed in 0.20.\", DeprecationWarning)\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/bs/_w74fpx157v3vs82q0fwnflr0000gn/T/tmpl7bwdnzy\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nWARNING:tensorflow:From /Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/head.py:1362: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30.\nInstructions for updating:\nPlease switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\nTraceback (most recent call last):\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 52, in <module>\n    tf.app.run()\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 44, in run\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 44, in main\n    score = metrics.accuracy_score(y_test, predictions)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 172, in accuracy_score\n    y_type, y_true, y_pred = _check_targets(y_true, y_pred)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 72, in _check_targets\n    check_consistent_length(y_true, y_pred)\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/utils/validation.py\", line 181, in check_consistent_length\n    \" samples: %r\" % [int(l) for l in lengths])\nValueError: Found input variables with inconsistent numbers of samples: [30, 3]\n\nProcess finished with exit code 1", "body": "NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n\r\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\r\nout of scope for GitHub Issues and point people to StackOverflow.\r\n\r\nFor bugs or installation issues, please provide the following information.\r\nThe more information you provide, the more easily we will be able to offer\r\nhelp and advice.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\nNone seem to apply, this is a new issue just introduced with 1.0.0-rc1\r\n\r\n### Environment info\r\nOperating System:\r\nMac\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\n\r\nexport TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.0.0rc1-py3-none-any.whl\r\n\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n1.0.0-rc1\r\nIf installed from source, provide \r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\n2. The output of `bazel version`\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\nTFLearn has incorrect implementations of ```predict``` and ```predict_proba```, per the [sklearn developer's guide](http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines).  The current (v1.0.0-rc1) version's ```predict``` actually performs as would be expected for ```predict_proba``` and ```SKCompat``` does not include a ```predict_proba```.\r\n\r\nSKFLOW/TFLearn's compatibility with sklearn has been broken in various ways since when v0.8 (which worked) was refactored into SKCompat (see #6584).  \r\n\r\nThe following code shows how the accuracy function fails due to this issue.  This could be fixed with an argmax call, but the core problem is that SKCompat does not properly implement the sklearn functions.\r\n\r\nNote, this code is based on the Contrib TF Learn example here:  [https://www.tensorflow.org/tutorials/tflearn/](https://www.tensorflow.org/tutorials/tflearn/)\r\n\r\n```\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\nfrom sklearn import cross_validation\r\nfrom sklearn import metrics\r\nimport tensorflow as tf\r\n\r\ndef main(unused_argv):\r\n  # Load dataset.\r\n  iris = tf.contrib.learn.datasets.load_dataset('iris')\r\n  x_train, x_test, y_train, y_test = cross_validation.train_test_split(\r\n      iris.data, iris.target, test_size=0.2, random_state=42)\r\n\r\n  # Build 3 layer DNN with 10, 20, 10 units respectively.\r\n  feature_columns = tf.contrib.learn.infer_real_valued_columns_from_input(\r\n      x_train)\r\n  classifier = tf.contrib.learn.DNNClassifier(\r\n      feature_columns=feature_columns, hidden_units=[10, 20, 10], n_classes=3)\r\n  classifier = tf.contrib.learn.SKCompat(classifier)\r\n\r\n  # Fit and predict.\r\n  classifier.fit(x_train, y_train, steps=200)\r\n\r\n  # This outputs something with shape [30,3] should output single class predictions\r\n  # See http://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\r\n  # See predict vs predict_proba\r\n  #predictions = classifier.predict(x_test)\r\n  #score = metrics.accuracy_score(y_test, predictions)\r\n  #print('Accuracy: {0:f}'.format(score))\r\n\r\n  # predict_proba does not work either:\r\n  classifier.predict_proba(x_test)\r\n  # Generates a: AttributeError: 'SKCompat' object has no attribute 'predict_proba'\r\n\r\nif __name__ == '__main__':\r\n  tf.app.run()\r\n```\r\n\r\n### What other attempted solutions have you tried?\r\n\r\nhttp://scikit-learn.org/stable/developers/contributing.html#coding-guidelines\r\n\r\n### Logs or other output that would be helpful\r\n(If logs are large, please upload as attachment or provide link).\r\n\r\n```\r\n/Users/jeff/anaconda/envs/tf-latest/bin/python /Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\r\n/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/cross_validation.py:44: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.\r\n  \"This module will be removed in 0.20.\", DeprecationWarning)\r\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\r\nWARNING:tensorflow:Using temporary folder as model directory: /var/folders/bs/_w74fpx157v3vs82q0fwnflr0000gn/T/tmpl7bwdnzy\r\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\r\nWARNING:tensorflow:From /Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/contrib/learn/python/learn/estimators/head.py:1362: scalar_summary (from tensorflow.python.ops.logging_ops) is deprecated and will be removed after 2016-11-30.\r\nInstructions for updating:\r\nPlease switch to tf.summary.scalar. Note that tf.summary.scalar uses the node name instead of the tag. This means that TensorFlow will automatically de-duplicate summary names based on the scope they are created in. Also, passing a tensor or list of tags to a scalar summary op is no longer supported.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\nW tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\nWARNING:tensorflow:float64 is not supported by many models, consider casting to float32.\r\nTraceback (most recent call last):\r\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 52, in <module>\r\n    tf.app.run()\r\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 44, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/Users/jeff/Dropbox/school/teaching/wustl/classes/T81_558_deep_learning/code/test3.py\", line 44, in main\r\n    score = metrics.accuracy_score(y_test, predictions)\r\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 172, in accuracy_score\r\n    y_type, y_true, y_pred = _check_targets(y_true, y_pred)\r\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/metrics/classification.py\", line 72, in _check_targets\r\n    check_consistent_length(y_true, y_pred)\r\n  File \"/Users/jeff/anaconda/envs/tf-latest/lib/python3.5/site-packages/sklearn/utils/validation.py\", line 181, in check_consistent_length\r\n    \" samples: %r\" % [int(l) for l in lengths])\r\nValueError: Found input variables with inconsistent numbers of samples: [30, 3]\r\n\r\nProcess finished with exit code 1\r\n```"}