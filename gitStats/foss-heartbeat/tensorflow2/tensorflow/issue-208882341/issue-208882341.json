{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7696", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7696/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7696/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7696/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7696", "id": 208882341, "node_id": "MDU6SXNzdWUyMDg4ODIzNDE=", "number": 7696, "title": "freeze_graph inspect_checkpoint,  Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-02-20T13:39:10Z", "updated_at": "2018-11-21T07:53:23Z", "closed_at": "2017-03-03T23:38:53Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p>Nothing directly applicable to the observed error.</p>\n<h3>Environment info</h3>\n<p>TF 0.12.1, Windows 10/64, Python 3.5/64</p>\n<p>Installed version of CUDA and cuDNN:<br>\n8.0, 5.1</p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p><strong>inspect_checkpoint</strong></p>\n<p>lib\\python\\python lib\\tensorflow_cpu\\tensorflow\\python\\tools\\inspect_checkpoint.py --file_name model.ckpt-250514.data-00000-of-00001 --tensor_name-''</p>\n<p>2017-02-20 08:23:19.291800: W c:\\tf_jenkins\\home\\workspace\\nightly-win\\device\\cpu\\os\\windows\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?<br>\nUnable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?</p>\n<p><strong>freeze_graph</strong></p>\n<p>Similar error<br>\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?<br>\n[[Node: save/RestoreV2_445 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_445/tensor_names, save/RestoreV2_445/shape_and_slices)]]</p>\n<p>DataLossError (see above for traceback): Unable to open table file C:\\g\\vx\\data\\jhole\\model\\model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?<br>\n[[Node: save/RestoreV2_780 = RestoreV2[dtypes=[DT_INT64], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_780/tensor_names, save/RestoreV2_780/shape_and_slices)]]</p>\n<h3>What other attempted solutions have you tried?</h3>\n<ol>\n<li>A few different checkpoint files.</li>\n<li>Tried freeze_graph using TF 1.0, same result</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>Messages similar \"Similar error\" above is repeated many times.</p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nNothing directly applicable to the observed error.\nEnvironment info\nTF 0.12.1, Windows 10/64, Python 3.5/64\nInstalled version of CUDA and cuDNN:\n8.0, 5.1\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\ninspect_checkpoint\nlib\\python\\python lib\\tensorflow_cpu\\tensorflow\\python\\tools\\inspect_checkpoint.py --file_name model.ckpt-250514.data-00000-of-00001 --tensor_name-''\n2017-02-20 08:23:19.291800: W c:\\tf_jenkins\\home\\workspace\\nightly-win\\device\\cpu\\os\\windows\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\nUnable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\nfreeze_graph\nSimilar error\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\n[[Node: save/RestoreV2_445 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_445/tensor_names, save/RestoreV2_445/shape_and_slices)]]\nDataLossError (see above for traceback): Unable to open table file C:\\g\\vx\\data\\jhole\\model\\model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\n[[Node: save/RestoreV2_780 = RestoreV2[dtypes=[DT_INT64], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_780/tensor_names, save/RestoreV2_780/shape_and_slices)]]\nWhat other attempted solutions have you tried?\n\nA few different checkpoint files.\nTried freeze_graph using TF 1.0, same result\n\nLogs or other output that would be helpful\nMessages similar \"Similar error\" above is repeated many times.", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nNothing directly applicable to the observed error.\r\n\r\n### Environment info\r\nTF 0.12.1, Windows 10/64, Python 3.5/64\r\n\r\nInstalled version of CUDA and cuDNN: \r\n8.0, 5.1\r\n\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n\r\n**inspect_checkpoint**\r\n\r\nlib\\python\\python lib\\tensorflow_cpu\\tensorflow\\python\\tools\\inspect_checkpoint.py --file_name model.ckpt-250514.data-00000-of-00001 --tensor_name-''\r\n\r\n2017-02-20 08:23:19.291800: W c:\\tf_jenkins\\home\\workspace\\nightly-win\\device\\cpu\\os\\windows\\tensorflow\\core\\util\\tensor_slice_reader.cc:95] Could not open model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\nUnable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\n\r\n\r\n\r\n**freeze_graph**\r\n\r\nSimilar error\r\ntensorflow.python.framework.errors_impl.DataLossError: Unable to open table file model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\n         [[Node: save/RestoreV2_445 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_445/tensor_names, save/RestoreV2_445/shape_and_slices)]]\r\n\r\nDataLossError (see above for traceback): Unable to open table file C:\\g\\vx\\data\\jhole\\model\\model.ckpt-250514.data-00000-of-00001: Data loss: not an sstable (bad magic number): perhaps your file is in a different file format and you need to use a different restore operator?\r\n         [[Node: save/RestoreV2_780 = RestoreV2[dtypes=[DT_INT64], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_780/tensor_names, save/RestoreV2_780/shape_and_slices)]]\r\n\r\n### What other attempted solutions have you tried?\r\n1. A few different checkpoint files.\r\n2. Tried freeze_graph using TF 1.0, same result\r\n\r\n### Logs or other output that would be helpful\r\nMessages similar \"Similar error\" above is repeated many times.\r\n"}