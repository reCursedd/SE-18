{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/275335774", "html_url": "https://github.com/tensorflow/tensorflow/issues/7059#issuecomment-275335774", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059", "id": 275335774, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTMzNTc3NA==", "user": {"login": "jplu", "id": 959590, "node_id": "MDQ6VXNlcjk1OTU5MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/959590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplu", "html_url": "https://github.com/jplu", "followers_url": "https://api.github.com/users/jplu/followers", "following_url": "https://api.github.com/users/jplu/following{/other_user}", "gists_url": "https://api.github.com/users/jplu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplu/subscriptions", "organizations_url": "https://api.github.com/users/jplu/orgs", "repos_url": "https://api.github.com/users/jplu/repos", "events_url": "https://api.github.com/users/jplu/events{/privacy}", "received_events_url": "https://api.github.com/users/jplu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-26T08:47:37Z", "updated_at": "2017-01-26T08:47:37Z", "author_association": "NONE", "body_html": "<p>Here the output I get:</p>\n<pre><code>gcc -v -c -xc++ /dev/null -o /dev/null\nUsing built-in specs.\nCOLLECT_GCC=gcc\nTarget: x86_64-apple-darwin16\nConfigured with: /opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc6/gcc6/work/gcc-6.3.0/configure --prefix=/opt/local --build=x86_64-apple-darwin16 --enable-languages=c,c++,objc,obj-c++,lto,fortran --libdir=/opt/local/lib/gcc6 --includedir=/opt/local/include/gcc6 --infodir=/opt/local/share/info --mandir=/opt/local/share/man --datarootdir=/opt/local/share/gcc-6 --with-local-prefix=/opt/local --with-system-zlib --disable-nls --program-suffix=-mp-6 --with-gxx-include-dir=/opt/local/include/gcc6/c++/ --with-gmp=/opt/local --with-mpfr=/opt/local --with-mpc=/opt/local --with-isl=/opt/local --enable-stage1-checking --disable-multilib --enable-lto --enable-libstdcxx-time --with-build-config=bootstrap-debug --with-as=/opt/local/bin/as --with-ld=/opt/local/bin/ld --with-ar=/opt/local/bin/ar --with-bugurl=https://trac.macports.org/newticket --with-pkgversion='MacPorts gcc6 6.3.0_0'\nThread model: posix\ngcc version 6.3.0 (MacPorts gcc6 6.3.0_0) \nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3' '-asm_macosx_version_min=10.12' '-mtune=core2'\n /opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/cc1plus -quiet -v -D__DYNAMIC__ /dev/null -fPIC -quiet -dumpbase null -mmacosx-version-min=10.12.3 -mtune=core2 -auxbase-strip /dev/null -version -o /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory \"/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../../../x86_64-apple-darwin16/include\"\n#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /opt/local/include/gcc6/c++/\n /opt/local/include/gcc6/c++//x86_64-apple-darwin16\n /opt/local/include/gcc6/c++//backward\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include\n /opt/local/include\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include-fixed\n /usr/include\n /System/Library/Frameworks\n /Library/Frameworks\nEnd of search list.\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 7f53308891a2e11385f319c4215fc083\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\n /opt/local/bin/as -v -arch x86_64 -force_cpusubtype_ALL -o /dev/null /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\nApple Inc version cctools-895, GNU assembler version 1.38\nCOMPILER_PATH=/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/\nLIBRARY_PATH=/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\n</code></pre>\n<p>Next, if I comment the two involved lines in the file you mention, it fails with the same error, but, because of an another file:</p>\n<pre><code>bazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\nINFO: Found 2 targets...\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/farmhash_archive/BUILD:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 36 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\nINFO: Elapsed time: 17,390s, Critical Path: 0,31s\n</code></pre>", "body_text": "Here the output I get:\ngcc -v -c -xc++ /dev/null -o /dev/null\nUsing built-in specs.\nCOLLECT_GCC=gcc\nTarget: x86_64-apple-darwin16\nConfigured with: /opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc6/gcc6/work/gcc-6.3.0/configure --prefix=/opt/local --build=x86_64-apple-darwin16 --enable-languages=c,c++,objc,obj-c++,lto,fortran --libdir=/opt/local/lib/gcc6 --includedir=/opt/local/include/gcc6 --infodir=/opt/local/share/info --mandir=/opt/local/share/man --datarootdir=/opt/local/share/gcc-6 --with-local-prefix=/opt/local --with-system-zlib --disable-nls --program-suffix=-mp-6 --with-gxx-include-dir=/opt/local/include/gcc6/c++/ --with-gmp=/opt/local --with-mpfr=/opt/local --with-mpc=/opt/local --with-isl=/opt/local --enable-stage1-checking --disable-multilib --enable-lto --enable-libstdcxx-time --with-build-config=bootstrap-debug --with-as=/opt/local/bin/as --with-ld=/opt/local/bin/ld --with-ar=/opt/local/bin/ar --with-bugurl=https://trac.macports.org/newticket --with-pkgversion='MacPorts gcc6 6.3.0_0'\nThread model: posix\ngcc version 6.3.0 (MacPorts gcc6 6.3.0_0) \nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3' '-asm_macosx_version_min=10.12' '-mtune=core2'\n /opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/cc1plus -quiet -v -D__DYNAMIC__ /dev/null -fPIC -quiet -dumpbase null -mmacosx-version-min=10.12.3 -mtune=core2 -auxbase-strip /dev/null -version -o /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory \"/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../../../x86_64-apple-darwin16/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n /opt/local/include/gcc6/c++/\n /opt/local/include/gcc6/c++//x86_64-apple-darwin16\n /opt/local/include/gcc6/c++//backward\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include\n /opt/local/include\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include-fixed\n /usr/include\n /System/Library/Frameworks\n /Library/Frameworks\nEnd of search list.\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 7f53308891a2e11385f319c4215fc083\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\n /opt/local/bin/as -v -arch x86_64 -force_cpusubtype_ALL -o /dev/null /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\nApple Inc version cctools-895, GNU assembler version 1.38\nCOMPILER_PATH=/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/\nLIBRARY_PATH=/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\n\nNext, if I comment the two involved lines in the file you mention, it fails with the same error, but, because of an another file:\nbazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\nINFO: Found 2 targets...\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/farmhash_archive/BUILD:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 36 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\nINFO: Elapsed time: 17,390s, Critical Path: 0,31s", "body": "Here the output I get:\r\n\r\n```\r\ngcc -v -c -xc++ /dev/null -o /dev/null\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nTarget: x86_64-apple-darwin16\r\nConfigured with: /opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc6/gcc6/work/gcc-6.3.0/configure --prefix=/opt/local --build=x86_64-apple-darwin16 --enable-languages=c,c++,objc,obj-c++,lto,fortran --libdir=/opt/local/lib/gcc6 --includedir=/opt/local/include/gcc6 --infodir=/opt/local/share/info --mandir=/opt/local/share/man --datarootdir=/opt/local/share/gcc-6 --with-local-prefix=/opt/local --with-system-zlib --disable-nls --program-suffix=-mp-6 --with-gxx-include-dir=/opt/local/include/gcc6/c++/ --with-gmp=/opt/local --with-mpfr=/opt/local --with-mpc=/opt/local --with-isl=/opt/local --enable-stage1-checking --disable-multilib --enable-lto --enable-libstdcxx-time --with-build-config=bootstrap-debug --with-as=/opt/local/bin/as --with-ld=/opt/local/bin/ld --with-ar=/opt/local/bin/ar --with-bugurl=https://trac.macports.org/newticket --with-pkgversion='MacPorts gcc6 6.3.0_0'\r\nThread model: posix\r\ngcc version 6.3.0 (MacPorts gcc6 6.3.0_0) \r\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3' '-asm_macosx_version_min=10.12' '-mtune=core2'\r\n /opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/cc1plus -quiet -v -D__DYNAMIC__ /dev/null -fPIC -quiet -dumpbase null -mmacosx-version-min=10.12.3 -mtune=core2 -auxbase-strip /dev/null -version -o /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\r\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\r\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\r\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\nignoring nonexistent directory \"/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../../../x86_64-apple-darwin16/include\"\r\n#include \"...\" search starts here:\r\n#include <...> search starts here:\r\n /opt/local/include/gcc6/c++/\r\n /opt/local/include/gcc6/c++//x86_64-apple-darwin16\r\n /opt/local/include/gcc6/c++//backward\r\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include\r\n /opt/local/include\r\n /opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/include-fixed\r\n /usr/include\r\n /System/Library/Frameworks\r\n /Library/Frameworks\r\nEnd of search list.\r\nGNU C++14 (MacPorts gcc6 6.3.0_0) version 6.3.0 (x86_64-apple-darwin16)\r\n\tcompiled by GNU C version 6.3.0, GMP version 6.1.2, MPFR version 3.1.4, MPC version 1.0.3, isl version 0.14 or 0.13\r\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\nCompiler executable checksum: 7f53308891a2e11385f319c4215fc083\r\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\r\n /opt/local/bin/as -v -arch x86_64 -force_cpusubtype_ALL -o /dev/null /var/folders/gc/mpn9gjgs2c9dxwmjm0xzkqg00000gn/T//cc2tp8Av.s\r\nApple Inc version cctools-895, GNU assembler version 1.38\r\nCOMPILER_PATH=/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/libexec/gcc/x86_64-apple-darwin16/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/\r\nLIBRARY_PATH=/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/:/opt/local/lib/gcc6/gcc/x86_64-apple-darwin16/6.3.0/../../../\r\nCOLLECT_GCC_OPTIONS='-v' '-c' '-o' '/dev/null' '-mmacosx-version-min=10.12.3'  '-mtune=core2'\r\n```\r\n\r\nNext, if I comment the two involved lines in the file you mention, it fails with the same error, but, because of an another file:\r\n\r\n```\r\nbazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\r\nINFO: Found 2 targets...\r\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/farmhash_archive/BUILD:12:1: C++ compilation of rule '@farmhash_archive//:farmhash' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 36 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\r\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\r\nINFO: Elapsed time: 17,390s, Critical Path: 0,31s\r\n```"}