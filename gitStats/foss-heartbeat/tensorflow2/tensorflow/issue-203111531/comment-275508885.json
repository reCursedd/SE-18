{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/275508885", "html_url": "https://github.com/tensorflow/tensorflow/issues/7059#issuecomment-275508885", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059", "id": 275508885, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTUwODg4NQ==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-26T20:47:47Z", "updated_at": "2017-01-26T20:47:47Z", "author_association": "MEMBER", "body_html": "<p>I suspect that this happening because you're actually using <code>gcc</code> as opposed to <code>clang</code> which is the compiler that ships with xcode and is aliased to <code>gcc</code> on OS X. For example, on my Mac:</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ gcc --version\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/c++/4.2.1\nApple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.3.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</pre></div>\n<p>Shows that <code>/usr/bin/gcc</code> is actually clang. The toolchain configuration that <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a> linked to is also <a href=\"https://github.com/tensorflow/tensorflow/blob/master/third_party/gpus/crosstool/CROSSTOOL.tpl#L172\">designed for clang and not gcc on OS X</a>.</p>\n<p>Getting things to work with <code>gcc</code> on OS X will be some work, involving a review of the toolchain configuration in CROSSTOOL.tpl.</p>\n<p>Is it possible for you to use the default C compiler that ships with xcode? Or to put it differently, mind shedding some light on why you need to use a <code>gcc</code> from MacPorts instead of using the toolchain installed by xcode?</p>", "body_text": "I suspect that this happening because you're actually using gcc as opposed to clang which is the compiler that ships with xcode and is aliased to gcc on OS X. For example, on my Mac:\n$ gcc --version\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/c++/4.2.1\nApple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.3.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\nShows that /usr/bin/gcc is actually clang. The toolchain configuration that @drpngx linked to is also designed for clang and not gcc on OS X.\nGetting things to work with gcc on OS X will be some work, involving a review of the toolchain configuration in CROSSTOOL.tpl.\nIs it possible for you to use the default C compiler that ships with xcode? Or to put it differently, mind shedding some light on why you need to use a gcc from MacPorts instead of using the toolchain installed by xcode?", "body": "I suspect that this happening because you're actually using `gcc` as opposed to `clang` which is the compiler that ships with xcode and is aliased to `gcc` on OS X. For example, on my Mac:\r\n\r\n```sh\r\n$ gcc --version\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/c++/4.2.1\r\nApple LLVM version 8.0.0 (clang-800.0.42.1)\r\nTarget: x86_64-apple-darwin16.3.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n\r\nShows that `/usr/bin/gcc` is actually clang. The toolchain configuration that @drpngx linked to is also [designed for clang and not gcc on OS X](https://github.com/tensorflow/tensorflow/blob/master/third_party/gpus/crosstool/CROSSTOOL.tpl#L172).\r\n\r\nGetting things to work with `gcc` on OS X will be some work, involving a review of the toolchain configuration in CROSSTOOL.tpl.\r\n\r\nIs it possible for you to use the default C compiler that ships with xcode? Or to put it differently, mind shedding some light on why you need to use a `gcc` from MacPorts instead of using the toolchain installed by xcode?"}