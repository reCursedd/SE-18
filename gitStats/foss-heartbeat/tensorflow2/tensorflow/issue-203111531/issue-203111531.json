{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7059/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7059", "id": 203111531, "node_id": "MDU6SXNzdWUyMDMxMTE1MzE=", "number": 7059, "title": "Issue to compile on macOS with unrecognized command line option", "user": {"login": "jplu", "id": 959590, "node_id": "MDQ6VXNlcjk1OTU5MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/959590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jplu", "html_url": "https://github.com/jplu", "followers_url": "https://api.github.com/users/jplu/followers", "following_url": "https://api.github.com/users/jplu/following{/other_user}", "gists_url": "https://api.github.com/users/jplu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jplu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jplu/subscriptions", "organizations_url": "https://api.github.com/users/jplu/orgs", "repos_url": "https://api.github.com/users/jplu/repos", "events_url": "https://api.github.com/users/jplu/events{/privacy}", "received_events_url": "https://api.github.com/users/jplu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-01-25T14:06:09Z", "updated_at": "2018-03-27T19:52:48Z", "closed_at": "2017-01-27T10:13:34Z", "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>I do have issues to compile Tensorflow on my mac in order to use the Java version. Here some useful information about my environment:</p>\n<ul>\n<li>macOS 10.12.3</li>\n<li>gcc 6.3.0 (from MacPorts)</li>\n<li>Bazel 4.3.0</li>\n<li>Python 2.7</li>\n<li>Tensorflow commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/a12c7dc3d83049e10c1dca8903d73cc71d3cb7b2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/a12c7dc3d83049e10c1dca8903d73cc71d3cb7b2\"><tt>a12c7dc</tt></a></li>\n<li>CPU only</li>\n</ul>\n<p>Once I have done the <code>./configure</code> I'm trying to compile the Java version and here the log I get:</p>\n<pre><code>bazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\nINFO: Found 2 targets...\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/nanopb_git/BUILD:8:1: C++ compilation of rule '@nanopb_git//:nanopb' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\nINFO: Elapsed time: 6,013s, Critical Path: 0,05s\n</code></pre>\n<p>I also tried with a GCC 5.4 version and I get the exact same error.</p>\n<p>Did anyone have an idea of what is going wrong? Am I using a wrong version of GCC?</p>\n<p>Thanks in advance.</p>", "body_text": "Hello,\nI do have issues to compile Tensorflow on my mac in order to use the Java version. Here some useful information about my environment:\n\nmacOS 10.12.3\ngcc 6.3.0 (from MacPorts)\nBazel 4.3.0\nPython 2.7\nTensorflow commit a12c7dc\nCPU only\n\nOnce I have done the ./configure I'm trying to compile the Java version and here the log I get:\nbazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\nINFO: Found 2 targets...\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/nanopb_git/BUILD:8:1: C++ compilation of rule '@nanopb_git//:nanopb' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\nINFO: Elapsed time: 6,013s, Critical Path: 0,05s\n\nI also tried with a GCC 5.4 version and I get the exact same error.\nDid anyone have an idea of what is going wrong? Am I using a wrong version of GCC?\nThanks in advance.", "body": "Hello,\r\n\r\nI do have issues to compile Tensorflow on my mac in order to use the Java version. Here some useful information about my environment:\r\n\r\n* macOS 10.12.3\r\n* gcc 6.3.0 (from MacPorts)\r\n* Bazel 4.3.0\r\n* Python 2.7\r\n* Tensorflow commit a12c7dc3d83049e10c1dca8903d73cc71d3cb7b2\r\n* CPU only\r\n\r\nOnce I have done the ```./configure``` I'm trying to compile the Java version and here the log I get:\r\n\r\n```\r\nbazel build -c opt //tensorflow/java:tensorflow //tensorflow/java:libtensorflow_jni\r\nINFO: Found 2 targets...\r\nERROR: /private/var/tmp/_bazel_jplu/00c84c0db16fb633b58c75ed37aef199/external/nanopb_git/BUILD:8:1: C++ compilation of rule '@nanopb_git//:nanopb' failed: cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -Wthread-safety -Wself-assign -Wunused-but-set-parameter -Wno-free-nonheap-object ... (remaining 34 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\ngcc: error: unrecognized command line option '-Wthread-safety'; did you mean '-fthread-jumps'?\r\ngcc: error: unrecognized command line option '-Wself-assign'; did you mean '-Wparam-assign'?\r\nINFO: Elapsed time: 6,013s, Critical Path: 0,05s\r\n```\r\n\r\nI also tried with a GCC 5.4 version and I get the exact same error.\r\n\r\nDid anyone have an idea of what is going wrong? Am I using a wrong version of GCC?\r\n\r\nThanks in advance."}