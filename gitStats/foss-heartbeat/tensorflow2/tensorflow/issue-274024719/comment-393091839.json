{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/393091839", "html_url": "https://github.com/tensorflow/tensorflow/issues/14567#issuecomment-393091839", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14567", "id": 393091839, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzA5MTgzOQ==", "user": {"login": "alexandrubalotescu", "id": 24482802, "node_id": "MDQ6VXNlcjI0NDgyODAy", "avatar_url": "https://avatars1.githubusercontent.com/u/24482802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexandrubalotescu", "html_url": "https://github.com/alexandrubalotescu", "followers_url": "https://api.github.com/users/alexandrubalotescu/followers", "following_url": "https://api.github.com/users/alexandrubalotescu/following{/other_user}", "gists_url": "https://api.github.com/users/alexandrubalotescu/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexandrubalotescu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexandrubalotescu/subscriptions", "organizations_url": "https://api.github.com/users/alexandrubalotescu/orgs", "repos_url": "https://api.github.com/users/alexandrubalotescu/repos", "events_url": "https://api.github.com/users/alexandrubalotescu/events{/privacy}", "received_events_url": "https://api.github.com/users/alexandrubalotescu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-30T09:21:03Z", "updated_at": "2018-05-30T12:31:27Z", "author_association": "NONE", "body_html": "<p>Thank you for your quick replies, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1900612\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gargn\">@gargn</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=16018\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asimshankar\">@asimshankar</a>. My actual problem is I'm trying to export a model very similar to the iris classification model described <a href=\"https://www.tensorflow.org/get_started/premade_estimators\" rel=\"nofollow\">here</a> but the <a href=\"https://github.com/tensorflow/models/blob/master/research/slim/README.md\">tutorial provided by TensorFlow</a> only seems to work for image classification models.</p>\n<p>I have also <a href=\"https://stackoverflow.com/questions/50581883/how-do-i-export-a-tensorflow-model-as-a-tflite-file\" rel=\"nofollow\">posted a more detailed question</a> on Stackoverflow, but nobody seems to have an answer to this. I would really appreciate it if you could take a look at it and maybe suggest a way in which I could make this work. Thanks!</p>\n<p>** UPDATE **<br>\nOk I think I have finally found the code snippet I needed! It was right <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/toco/g3doc/python_api.md\">here</a>:</p>\n<pre><code>import tensorflow as tf\n\nimg = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 64, 64, 3))\nval = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])\nout = tf.identity(val, name=\"out\")\nwith tf.Session() as sess:\n  tflite_model = tf.contrib.lite.toco_convert(sess.graph_def, [img], [out])\n  open(\"test.tflite\", \"wb\").write(tflite_model)\n</code></pre>\n<p>But how do I convert, say, the iris classification model mentioned above to a TensorFlow Lite Model using this piece of code?</p>", "body_text": "Thank you for your quick replies, @gargn and @asimshankar. My actual problem is I'm trying to export a model very similar to the iris classification model described here but the tutorial provided by TensorFlow only seems to work for image classification models.\nI have also posted a more detailed question on Stackoverflow, but nobody seems to have an answer to this. I would really appreciate it if you could take a look at it and maybe suggest a way in which I could make this work. Thanks!\n** UPDATE **\nOk I think I have finally found the code snippet I needed! It was right here:\nimport tensorflow as tf\n\nimg = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 64, 64, 3))\nval = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])\nout = tf.identity(val, name=\"out\")\nwith tf.Session() as sess:\n  tflite_model = tf.contrib.lite.toco_convert(sess.graph_def, [img], [out])\n  open(\"test.tflite\", \"wb\").write(tflite_model)\n\nBut how do I convert, say, the iris classification model mentioned above to a TensorFlow Lite Model using this piece of code?", "body": "Thank you for your quick replies, @gargn and @asimshankar. My actual problem is I'm trying to export a model very similar to the iris classification model described [here](https://www.tensorflow.org/get_started/premade_estimators) but the [tutorial provided by TensorFlow](https://github.com/tensorflow/models/blob/master/research/slim/README.md) only seems to work for image classification models. \r\n\r\nI have also [posted a more detailed question](https://stackoverflow.com/questions/50581883/how-do-i-export-a-tensorflow-model-as-a-tflite-file) on Stackoverflow, but nobody seems to have an answer to this. I would really appreciate it if you could take a look at it and maybe suggest a way in which I could make this work. Thanks!\r\n\r\n\r\n** UPDATE **\r\nOk I think I have finally found the code snippet I needed! It was right [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/toco/g3doc/python_api.md):\r\n```\r\nimport tensorflow as tf\r\n\r\nimg = tf.placeholder(name=\"img\", dtype=tf.float32, shape=(1, 64, 64, 3))\r\nval = img + tf.constant([1., 2., 3.]) + tf.constant([1., 4., 4.])\r\nout = tf.identity(val, name=\"out\")\r\nwith tf.Session() as sess:\r\n  tflite_model = tf.contrib.lite.toco_convert(sess.graph_def, [img], [out])\r\n  open(\"test.tflite\", \"wb\").write(tflite_model)\r\n```\r\nBut how do I convert, say, the iris classification model mentioned above to a TensorFlow Lite Model using this piece of code?"}