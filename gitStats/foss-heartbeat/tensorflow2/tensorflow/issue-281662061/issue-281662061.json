{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15334", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15334/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15334/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15334/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/15334", "id": 281662061, "node_id": "MDU6SXNzdWUyODE2NjIwNjE=", "number": 15334, "title": "Quantized graph on ssd mobilenet fails with InvalidArgumentError", "user": {"login": "linux-devil", "id": 307810, "node_id": "MDQ6VXNlcjMwNzgxMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/307810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linux-devil", "html_url": "https://github.com/linux-devil", "followers_url": "https://api.github.com/users/linux-devil/followers", "following_url": "https://api.github.com/users/linux-devil/following{/other_user}", "gists_url": "https://api.github.com/users/linux-devil/gists{/gist_id}", "starred_url": "https://api.github.com/users/linux-devil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linux-devil/subscriptions", "organizations_url": "https://api.github.com/users/linux-devil/orgs", "repos_url": "https://api.github.com/users/linux-devil/repos", "events_url": "https://api.github.com/users/linux-devil/events{/privacy}", "received_events_url": "https://api.github.com/users/linux-devil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-13T08:24:37Z", "updated_at": "2018-01-24T08:52:28Z", "closed_at": "2018-01-24T08:52:28Z", "author_association": "NONE", "body_html": "<p>I am using ssd_mobilenet_v1_coco_2017_11_17 and quantized it using following command:</p>\n<p>bazel-bin/tensorflow/tools/graph_transforms/transform_graph <br>\n--in_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_inference_graph.pb <br>\n--out_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_quant.pb <br>\n--inputs='image_tensor' <br>\n--outputs='detection_boxes,detection_scores,detection_classes' <br>\n--transforms='add_default_attributes strip_unused_nodes(type=float, shape=\"1,299,299,3\")<br>\nremove_nodes(op=Identity, op=CheckNumerics) fold_constants(ignore_errors=true)<br>\nfold_batch_norms fold_old_batch_norms quantize_weights quantize_nodes<br>\nstrip_unused_nodes sort_by_execution_order'</p>\n<p>I am using tensorflow v 1.4.1 for detecting bounding box and it throws following error:</p>\n<p>InvalidArgumentError: The node 'Preprocessor/map/while/ResizeImage/ResizeBilinear/eightbit' has inputs from different frames. The input 'Preprocessor/map/while/ResizeImage/size' is in frame 'Preprocessor/map/while/while_context'. The input 'Preprocessor/map/while/ResizeImage/ResizeBilinear_eightbit/Preprocessor/map/while/ResizeImage/ExpandDims/quantize' is in frame ''.</p>", "body_text": "I am using ssd_mobilenet_v1_coco_2017_11_17 and quantized it using following command:\nbazel-bin/tensorflow/tools/graph_transforms/transform_graph \n--in_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_inference_graph.pb \n--out_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_quant.pb \n--inputs='image_tensor' \n--outputs='detection_boxes,detection_scores,detection_classes' \n--transforms='add_default_attributes strip_unused_nodes(type=float, shape=\"1,299,299,3\")\nremove_nodes(op=Identity, op=CheckNumerics) fold_constants(ignore_errors=true)\nfold_batch_norms fold_old_batch_norms quantize_weights quantize_nodes\nstrip_unused_nodes sort_by_execution_order'\nI am using tensorflow v 1.4.1 for detecting bounding box and it throws following error:\nInvalidArgumentError: The node 'Preprocessor/map/while/ResizeImage/ResizeBilinear/eightbit' has inputs from different frames. The input 'Preprocessor/map/while/ResizeImage/size' is in frame 'Preprocessor/map/while/while_context'. The input 'Preprocessor/map/while/ResizeImage/ResizeBilinear_eightbit/Preprocessor/map/while/ResizeImage/ExpandDims/quantize' is in frame ''.", "body": "I am using ssd_mobilenet_v1_coco_2017_11_17 and quantized it using following command:\r\n\r\nbazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\r\n  --in_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_inference_graph.pb \\\r\n  --out_graph=ssd_mobilenet_v1_coco_2017_11_17/frozen_quant.pb \\\r\n  --inputs='image_tensor' \\\r\n  --outputs='detection_boxes,detection_scores,detection_classes' \\\r\n  --transforms='add_default_attributes strip_unused_nodes(type=float, shape=\"1,299,299,3\")\r\n    remove_nodes(op=Identity, op=CheckNumerics) fold_constants(ignore_errors=true)\r\n    fold_batch_norms fold_old_batch_norms quantize_weights quantize_nodes\r\n    strip_unused_nodes sort_by_execution_order'\r\n\r\nI am using tensorflow v 1.4.1 for detecting bounding box and it throws following error:\r\n\r\nInvalidArgumentError: The node 'Preprocessor/map/while/ResizeImage/ResizeBilinear/eightbit' has inputs from different frames. The input 'Preprocessor/map/while/ResizeImage/size' is in frame 'Preprocessor/map/while/while_context'. The input 'Preprocessor/map/while/ResizeImage/ResizeBilinear_eightbit/Preprocessor/map/while/ResizeImage/ExpandDims/quantize' is in frame ''."}