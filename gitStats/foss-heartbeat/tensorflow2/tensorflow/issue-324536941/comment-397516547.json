{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/397516547", "html_url": "https://github.com/tensorflow/tensorflow/issues/19397#issuecomment-397516547", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19397", "id": 397516547, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzUxNjU0Nw==", "user": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-15T05:20:26Z", "updated_at": "2018-06-15T05:20:26Z", "author_association": "MEMBER", "body_html": "<p>Thanks for reporting this bug. I can reproduce. Maybe turn off graph rewriting to see if it's the cause.<br>\nrewriter_config = rewriter_config_pb2.RewriterConfig(<br>\ndisable_model_pruning=True,<br>\nconstant_folding=rewriter_config_pb2.RewriterConfig.OFF,<br>\narithmetic_optimization=rewriter_config_pb2.RewriterConfig.OFF,<br>\ndependency_optimization=rewriter_config_pb2.RewriterConfig.OFF,<br>\nfunction_optimization=rewriter_config_pb2.RewriterConfig.OFF,<br>\nlayout_optimizer=rewriter_config_pb2.RewriterConfig.OFF,<br>\nloop_optimization=rewriter_config_pb2.RewriterConfig.OFF,<br>\nmemory_optimization=rewriter_config_pb2.RewriterConfig.NO_MEM_OPT)<br>\nconfig = tf.ConfigProto(<br>\nallow_soft_placement=True,<br>\ngraph_options=tf.GraphOptions(rewrite_options=rewriter_config)<br>\n)<br>\nsess = tf.Session(config=config)</p>", "body_text": "Thanks for reporting this bug. I can reproduce. Maybe turn off graph rewriting to see if it's the cause.\nrewriter_config = rewriter_config_pb2.RewriterConfig(\ndisable_model_pruning=True,\nconstant_folding=rewriter_config_pb2.RewriterConfig.OFF,\narithmetic_optimization=rewriter_config_pb2.RewriterConfig.OFF,\ndependency_optimization=rewriter_config_pb2.RewriterConfig.OFF,\nfunction_optimization=rewriter_config_pb2.RewriterConfig.OFF,\nlayout_optimizer=rewriter_config_pb2.RewriterConfig.OFF,\nloop_optimization=rewriter_config_pb2.RewriterConfig.OFF,\nmemory_optimization=rewriter_config_pb2.RewriterConfig.NO_MEM_OPT)\nconfig = tf.ConfigProto(\nallow_soft_placement=True,\ngraph_options=tf.GraphOptions(rewrite_options=rewriter_config)\n)\nsess = tf.Session(config=config)", "body": "Thanks for reporting this bug. I can reproduce. Maybe turn off graph rewriting to see if it's the cause.\r\n      rewriter_config = rewriter_config_pb2.RewriterConfig(\r\n          disable_model_pruning=True,\r\n          constant_folding=rewriter_config_pb2.RewriterConfig.OFF,\r\n          arithmetic_optimization=rewriter_config_pb2.RewriterConfig.OFF,\r\n          dependency_optimization=rewriter_config_pb2.RewriterConfig.OFF,\r\n          function_optimization=rewriter_config_pb2.RewriterConfig.OFF,\r\n          layout_optimizer=rewriter_config_pb2.RewriterConfig.OFF,\r\n          loop_optimization=rewriter_config_pb2.RewriterConfig.OFF,\r\n          memory_optimization=rewriter_config_pb2.RewriterConfig.NO_MEM_OPT)\r\n      config = tf.ConfigProto(\r\n          allow_soft_placement=True,\r\n          graph_options=tf.GraphOptions(rewrite_options=rewriter_config)\r\n      )\r\n      sess = tf.Session(config=config)"}