{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/420776760", "html_url": "https://github.com/tensorflow/tensorflow/issues/20679#issuecomment-420776760", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20679", "id": 420776760, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDc3Njc2MA==", "user": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-12T19:56:20Z", "updated_at": "2018-09-12T19:56:20Z", "author_association": "MEMBER", "body_html": "<p>I reproduced the steps mentioned above. When I use the TensorFlow 1.10 install, I get the <code>dim &gt;= 1</code> error mentioned above. However, when I use the most recent tf-nightly I get the following error indicating there are ops in the model that are not currently supported by TensorFlow Lite:</p>\n<blockquote>\n<p>tensorflow/contrib/lite/toco/tflite/export.cc:386] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.contrib.lite.TocoConverter(). Here is a list of operators for which  you will need custom implementations: Abs, All, BatchMatMul, Cos, DatasetToSingleElement, Enter, Exit, Fill, FloorMod, GatherNd, IsFinite, ListDiff, LoopCond, MapDataset, MatrixBandPart, Merge, PaddedBatchDatasetV2, Range, RefEnter, ScatterNd, Switch, TensorSliceDataset, Where, ZerosLike, convert_gradient_to_tensor_HBc3xYw22Mw.</p>\n</blockquote>\n<p>The list of supported ops are available <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/tf_ops_compatibility.md\">here</a>. The two recommended solutions are:</p>\n<ol>\n<li>Add a custom op as described <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md\">here</a>.</li>\n<li>Only use the ops that are currently supported by TFLite in your model.</li>\n</ol>\n<p>Given how many operations are not implemented, I imagine it would be difficult to go either route. We are actively working on adding support for a broader set of TensorFlow ops. We are tracking operation requests here: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"349285250\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/21526\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/21526/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/21526\">#21526</a> to help with prioritizing.</p>\n<p>For that reason, I am closing this issue. Thanks for reporting that the model is not supported and working through the issues. Additionally, please let me know if you get a different error when running your model against the most recent tf-nightly and I can reopen the issue.</p>", "body_text": "I reproduced the steps mentioned above. When I use the TensorFlow 1.10 install, I get the dim >= 1 error mentioned above. However, when I use the most recent tf-nightly I get the following error indicating there are ops in the model that are not currently supported by TensorFlow Lite:\n\ntensorflow/contrib/lite/toco/tflite/export.cc:386] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.contrib.lite.TocoConverter(). Here is a list of operators for which  you will need custom implementations: Abs, All, BatchMatMul, Cos, DatasetToSingleElement, Enter, Exit, Fill, FloorMod, GatherNd, IsFinite, ListDiff, LoopCond, MapDataset, MatrixBandPart, Merge, PaddedBatchDatasetV2, Range, RefEnter, ScatterNd, Switch, TensorSliceDataset, Where, ZerosLike, convert_gradient_to_tensor_HBc3xYw22Mw.\n\nThe list of supported ops are available here. The two recommended solutions are:\n\nAdd a custom op as described here.\nOnly use the ops that are currently supported by TFLite in your model.\n\nGiven how many operations are not implemented, I imagine it would be difficult to go either route. We are actively working on adding support for a broader set of TensorFlow ops. We are tracking operation requests here: #21526 to help with prioritizing.\nFor that reason, I am closing this issue. Thanks for reporting that the model is not supported and working through the issues. Additionally, please let me know if you get a different error when running your model against the most recent tf-nightly and I can reopen the issue.", "body": "I reproduced the steps mentioned above. When I use the TensorFlow 1.10 install, I get the `dim >= 1` error mentioned above. However, when I use the most recent tf-nightly I get the following error indicating there are ops in the model that are not currently supported by TensorFlow Lite:\r\n\r\n> tensorflow/contrib/lite/toco/tflite/export.cc:386] Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.contrib.lite.TocoConverter(). Here is a list of operators for which  you will need custom implementations: Abs, All, BatchMatMul, Cos, DatasetToSingleElement, Enter, Exit, Fill, FloorMod, GatherNd, IsFinite, ListDiff, LoopCond, MapDataset, MatrixBandPart, Merge, PaddedBatchDatasetV2, Range, RefEnter, ScatterNd, Switch, TensorSliceDataset, Where, ZerosLike, convert_gradient_to_tensor_HBc3xYw22Mw.\r\n\r\nThe list of supported ops are available [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/tf_ops_compatibility.md). The two recommended solutions are:\r\n1. Add a custom op as described [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/lite/g3doc/custom_operators.md).\r\n2. Only use the ops that are currently supported by TFLite in your model.\r\n\r\nGiven how many operations are not implemented, I imagine it would be difficult to go either route. We are actively working on adding support for a broader set of TensorFlow ops. We are tracking operation requests here: https://github.com/tensorflow/tensorflow/issues/21526 to help with prioritizing.\r\n\r\nFor that reason, I am closing this issue. Thanks for reporting that the model is not supported and working through the issues. Additionally, please let me know if you get a different error when running your model against the most recent tf-nightly and I can reopen the issue."}