{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/156140874", "html_url": "https://github.com/tensorflow/tensorflow/issues/136#issuecomment-156140874", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/136", "id": 156140874, "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjE0MDg3NA==", "user": {"login": "luong-vinh", "id": 6581806, "node_id": "MDQ6VXNlcjY1ODE4MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/6581806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luong-vinh", "html_url": "https://github.com/luong-vinh", "followers_url": "https://api.github.com/users/luong-vinh/followers", "following_url": "https://api.github.com/users/luong-vinh/following{/other_user}", "gists_url": "https://api.github.com/users/luong-vinh/gists{/gist_id}", "starred_url": "https://api.github.com/users/luong-vinh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luong-vinh/subscriptions", "organizations_url": "https://api.github.com/users/luong-vinh/orgs", "repos_url": "https://api.github.com/users/luong-vinh/repos", "events_url": "https://api.github.com/users/luong-vinh/events{/privacy}", "received_events_url": "https://api.github.com/users/luong-vinh/received_events", "type": "User", "site_admin": false}, "created_at": "2015-11-12T15:38:04Z", "updated_at": "2015-11-12T15:38:04Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=214840\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mtourne\">@mtourne</a> Thanks a lot for the fix. It works for my GPU (previously I also had Resource Exhausted error).</p>\n<p>Another way following <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a> 's advice from <a href=\"https://github.com/soumith/convnet-benchmarks/issues/66\" data-hovercard-type=\"issue\" data-hovercard-url=\"/soumith/convnet-benchmarks/issues/66/hovercard\">this discussion</a> is to install tensorflow from the latest source and configure your session to use BFC allocator before running it like this:</p>\n<p>config = tf.ConfigProto()<br>\nconfig.gpu_options.allocator_type = 'BFC'<br>\nwith tf.Session(config = config) as s:</p>\n<p>The original example from <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a>  is <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/models/image/alexnet/alexnet_benchmark.py#L201\">here</a>. My GPU has 6 GB though. This allocator seems to dynamically allocate memory according to GPU's memory so it will probably work with cards having less memory as well.</p>", "body_text": "@mtourne Thanks a lot for the fix. It works for my GPU (previously I also had Resource Exhausted error).\nAnother way following @vrv 's advice from this discussion is to install tensorflow from the latest source and configure your session to use BFC allocator before running it like this:\nconfig = tf.ConfigProto()\nconfig.gpu_options.allocator_type = 'BFC'\nwith tf.Session(config = config) as s:\nThe original example from @vrv  is here. My GPU has 6 GB though. This allocator seems to dynamically allocate memory according to GPU's memory so it will probably work with cards having less memory as well.", "body": "@mtourne Thanks a lot for the fix. It works for my GPU (previously I also had Resource Exhausted error).\n\nAnother way following @vrv 's advice from [this discussion](https://github.com/soumith/convnet-benchmarks/issues/66) is to install tensorflow from the latest source and configure your session to use BFC allocator before running it like this:\n\nconfig = tf.ConfigProto()\nconfig.gpu_options.allocator_type = 'BFC'\nwith tf.Session(config = config) as s:\n\nThe original example from @vrv  is [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/models/image/alexnet/alexnet_benchmark.py#L201). My GPU has 6 GB though. This allocator seems to dynamically allocate memory according to GPU's memory so it will probably work with cards having less memory as well.\n"}