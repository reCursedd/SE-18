{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1162", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1162/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1162/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1162/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1162", "id": 134498034, "node_id": "MDU6SXNzdWUxMzQ0OTgwMzQ=", "number": 1162, "title": "Inconsistent Naming with different input shapes", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-02-18T07:04:10Z", "updated_at": "2016-10-04T16:46:13Z", "closed_at": "2016-02-25T00:29:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Install from binary pip package</p>\n<ol>\n<li>Which pip package you installed. CPU only for Linux</li>\n<li>The output from python -c \"import tensorflow; print(tensorflow.<strong>version</strong>)\": 0.7.0</li>\n</ol>\n<h3>Steps to reproduce</h3>\n<p>Run the following code:</p>\n<pre><code>import tensorflow as tf\n\na = tf.placeholder(tf.float32, name='haha', shape=[128, 20, 20, 20])\nc = tf.nn.moments(a, axes=[0])[0]\nprint c.name\n\nwith tf.Graph().as_default():\n    a = tf.placeholder(tf.float32, name='haha', shape=[None, 20, 20, 20])\n    c = tf.nn.moments(a, axes=[0])[0]\n    print c.name\n</code></pre>\n<p>It prints:</p>\n<pre><code>moments/Squeeze:0\nmoments/Squeeze_1:0\n</code></pre>\n<p>In short, with different input shapes, the op returns a variable with different names.<br>\nI'm not sure whether this is expected to happen, or something to be fixed. IMHO, this could cause some problems because one may use a fixed batch size for training, and a <code>None</code> batch size for inference. Getting a different name make it harder to manage variable load &amp; restore.</p>", "body_text": "Install from binary pip package\n\nWhich pip package you installed. CPU only for Linux\nThe output from python -c \"import tensorflow; print(tensorflow.version)\": 0.7.0\n\nSteps to reproduce\nRun the following code:\nimport tensorflow as tf\n\na = tf.placeholder(tf.float32, name='haha', shape=[128, 20, 20, 20])\nc = tf.nn.moments(a, axes=[0])[0]\nprint c.name\n\nwith tf.Graph().as_default():\n    a = tf.placeholder(tf.float32, name='haha', shape=[None, 20, 20, 20])\n    c = tf.nn.moments(a, axes=[0])[0]\n    print c.name\n\nIt prints:\nmoments/Squeeze:0\nmoments/Squeeze_1:0\n\nIn short, with different input shapes, the op returns a variable with different names.\nI'm not sure whether this is expected to happen, or something to be fixed. IMHO, this could cause some problems because one may use a fixed batch size for training, and a None batch size for inference. Getting a different name make it harder to manage variable load & restore.", "body": "Install from binary pip package\n1. Which pip package you installed. CPU only for Linux\n2. The output from python -c \"import tensorflow; print(tensorflow.**version**)\": 0.7.0\n### Steps to reproduce\n\nRun the following code:\n\n```\nimport tensorflow as tf\n\na = tf.placeholder(tf.float32, name='haha', shape=[128, 20, 20, 20])\nc = tf.nn.moments(a, axes=[0])[0]\nprint c.name\n\nwith tf.Graph().as_default():\n    a = tf.placeholder(tf.float32, name='haha', shape=[None, 20, 20, 20])\n    c = tf.nn.moments(a, axes=[0])[0]\n    print c.name\n```\n\nIt prints:\n\n```\nmoments/Squeeze:0\nmoments/Squeeze_1:0\n```\n\nIn short, with different input shapes, the op returns a variable with different names.\nI'm not sure whether this is expected to happen, or something to be fixed. IMHO, this could cause some problems because one may use a fixed batch size for training, and a `None` batch size for inference. Getting a different name make it harder to manage variable load & restore.\n"}