{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7260", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7260/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7260/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7260/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7260", "id": 205374828, "node_id": "MDU6SXNzdWUyMDUzNzQ4Mjg=", "number": 7260, "title": "load_op_library don't see Ops", "user": {"login": "IvanBudnikov", "id": 25554854, "node_id": "MDQ6VXNlcjI1NTU0ODU0", "avatar_url": "https://avatars0.githubusercontent.com/u/25554854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IvanBudnikov", "html_url": "https://github.com/IvanBudnikov", "followers_url": "https://api.github.com/users/IvanBudnikov/followers", "following_url": "https://api.github.com/users/IvanBudnikov/following{/other_user}", "gists_url": "https://api.github.com/users/IvanBudnikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/IvanBudnikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IvanBudnikov/subscriptions", "organizations_url": "https://api.github.com/users/IvanBudnikov/orgs", "repos_url": "https://api.github.com/users/IvanBudnikov/repos", "events_url": "https://api.github.com/users/IvanBudnikov/events{/privacy}", "received_events_url": "https://api.github.com/users/IvanBudnikov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-04T20:24:11Z", "updated_at": "2017-06-16T18:26:26Z", "closed_at": "2017-06-16T18:26:26Z", "author_association": "NONE", "body_html": "<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<p><a href=\"http://stackoverflow.com/questions/42019818/tensorflow-load-op-library-load-incorrectly?noredirect=1#comment71258436_42019818\" rel=\"nofollow\">http://stackoverflow.com/questions/42019818/tensorflow-load-op-library-load-incorrectly?noredirect=1#comment71258436_42019818</a></p>\n<h3>Environment info</h3>\n<p>Operating System: Linux Gentoo</p>\n<p>Installed version of CUDA and cuDNN:<br>\n-rw-r--r-- 1 root root 558632 Dec 28 08:08 /opt/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root     16 Dec 28 08:08 /opt/cuda/lib64/libcudart.so -&gt; libcudart.so.8.0<br>\nlrwxrwxrwx 1 root root     19 Dec 28 08:08 /opt/cuda/lib64/libcudart.so.8.0 -&gt; libcudart.so.8.0.44<br>\n-rwxr-xr-x 1 root root 415432 Sep 15 00:05 /opt/cuda/lib64/libcudart.so.8.0.44<br>\n-rw-r--r-- 1 root root 774168 Dec 28 08:08 /opt/cuda/lib64/libcudart_static.a</p>\n<p>If installed from binary pip package, provide:<br>\nv 0.12.0</p>\n<h3>If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)</h3>\n<p>_actv_module = tf.load_op_library('/actv.so')<br>\nprint(_actv_module.OP_LIST)</p>\n<p>When act.so situated in some directories I see the list of Ops in it (as it should be).<br>\nWhen I copy it to another directories list of Ops is empty. I can't find any reason why some directories are different from other. In both cases path is correct -- load_op_library is able to find file.</p>\n<h3>What other attempted solutions have you tried?</h3>\n<p>I tried to copy source files to \"problem\" directories and compile it there (according to Adding new Op manual, compile with GPU support) -- with same results.<br>\nMore strange -- I made a copy of all source files with another names, compiled it in \"normal\" directory, and load_op_library can't find Ops in it!</p>\n<h3>Logs or other output that would be helpful</h3>\n<p>Attached: sources -- actv.cc, actv_kernel.cu.cc<br>\nNormal libs -- actv.so, actv_kernel.cu.o<br>\n\"Corrupted\" libs (in which load_op_library can't see any ops) -- actv_corrupted.so, actv_kernel_corrupted.cu.o<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/752539/Archive.zip\">Archive.zip</a></p>", "body_text": "What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nhttp://stackoverflow.com/questions/42019818/tensorflow-load-op-library-load-incorrectly?noredirect=1#comment71258436_42019818\nEnvironment info\nOperating System: Linux Gentoo\nInstalled version of CUDA and cuDNN:\n-rw-r--r-- 1 root root 558632 Dec 28 08:08 /opt/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root     16 Dec 28 08:08 /opt/cuda/lib64/libcudart.so -> libcudart.so.8.0\nlrwxrwxrwx 1 root root     19 Dec 28 08:08 /opt/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\n-rwxr-xr-x 1 root root 415432 Sep 15 00:05 /opt/cuda/lib64/libcudart.so.8.0.44\n-rw-r--r-- 1 root root 774168 Dec 28 08:08 /opt/cuda/lib64/libcudart_static.a\nIf installed from binary pip package, provide:\nv 0.12.0\nIf possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\n_actv_module = tf.load_op_library('/actv.so')\nprint(_actv_module.OP_LIST)\nWhen act.so situated in some directories I see the list of Ops in it (as it should be).\nWhen I copy it to another directories list of Ops is empty. I can't find any reason why some directories are different from other. In both cases path is correct -- load_op_library is able to find file.\nWhat other attempted solutions have you tried?\nI tried to copy source files to \"problem\" directories and compile it there (according to Adding new Op manual, compile with GPU support) -- with same results.\nMore strange -- I made a copy of all source files with another names, compiled it in \"normal\" directory, and load_op_library can't find Ops in it!\nLogs or other output that would be helpful\nAttached: sources -- actv.cc, actv_kernel.cu.cc\nNormal libs -- actv.so, actv_kernel.cu.o\n\"Corrupted\" libs (in which load_op_library can't see any ops) -- actv_corrupted.so, actv_kernel_corrupted.cu.o\nArchive.zip", "body": "### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\nhttp://stackoverflow.com/questions/42019818/tensorflow-load-op-library-load-incorrectly?noredirect=1#comment71258436_42019818\r\n### Environment info\r\nOperating System: Linux Gentoo\r\n\r\nInstalled version of CUDA and cuDNN: \r\n-rw-r--r-- 1 root root 558632 Dec 28 08:08 /opt/cuda/lib64/libcudadevrt.a\r\nlrwxrwxrwx 1 root root     16 Dec 28 08:08 /opt/cuda/lib64/libcudart.so -> libcudart.so.8.0\r\nlrwxrwxrwx 1 root root     19 Dec 28 08:08 /opt/cuda/lib64/libcudart.so.8.0 -> libcudart.so.8.0.44\r\n-rwxr-xr-x 1 root root 415432 Sep 15 00:05 /opt/cuda/lib64/libcudart.so.8.0.44\r\n-rw-r--r-- 1 root root 774168 Dec 28 08:08 /opt/cuda/lib64/libcudart_static.a\r\n\r\nIf installed from binary pip package, provide:\r\nv 0.12.0\r\n\r\n### If possible, provide a minimal reproducible example (We usually don't have time to read hundreds of lines of your code)\r\n_actv_module = tf.load_op_library('<path>/actv.so')\r\nprint(_actv_module.OP_LIST)\r\n\r\nWhen act.so situated in some directories I see the list of Ops in it (as it should be).\r\nWhen I copy it to another directories list of Ops is empty. I can't find any reason why some directories are different from other. In both cases path is correct -- load_op_library is able to find file.\r\n\r\n### What other attempted solutions have you tried?\r\nI tried to copy source files to \"problem\" directories and compile it there (according to Adding new Op manual, compile with GPU support) -- with same results.\r\nMore strange -- I made a copy of all source files with another names, compiled it in \"normal\" directory, and load_op_library can't find Ops in it!\r\n\r\n### Logs or other output that would be helpful\r\nAttached: sources -- actv.cc, actv_kernel.cu.cc\r\nNormal libs -- actv.so, actv_kernel.cu.o\r\n\"Corrupted\" libs (in which load_op_library can't see any ops) -- actv_corrupted.so, actv_kernel_corrupted.cu.o\r\n[Archive.zip](https://github.com/tensorflow/tensorflow/files/752539/Archive.zip)\r\n\r\n\r\n\r\n\r\n\r\n"}