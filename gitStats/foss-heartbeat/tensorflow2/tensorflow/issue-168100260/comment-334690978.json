{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/334690978", "html_url": "https://github.com/tensorflow/tensorflow/issues/3549#issuecomment-334690978", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3549", "id": 334690978, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDY5MDk3OA==", "user": {"login": "bobeo", "id": 4453739, "node_id": "MDQ6VXNlcjQ0NTM3Mzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/4453739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobeo", "html_url": "https://github.com/bobeo", "followers_url": "https://api.github.com/users/bobeo/followers", "following_url": "https://api.github.com/users/bobeo/following{/other_user}", "gists_url": "https://api.github.com/users/bobeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobeo/subscriptions", "organizations_url": "https://api.github.com/users/bobeo/orgs", "repos_url": "https://api.github.com/users/bobeo/repos", "events_url": "https://api.github.com/users/bobeo/events{/privacy}", "received_events_url": "https://api.github.com/users/bobeo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-06T08:23:01Z", "updated_at": "2017-10-06T08:23:01Z", "author_association": "NONE", "body_html": "<p>hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a></p>\n<p>I tried to use print_selective_registration_header.py to write ops to ops_to_register.h. I follow instructions and run:</p>\n<p><code>bazel build tensorflow/python/tools:print_selective_registration_header &amp;&amp; bazel-bin/tensorflow/python/tools/print_selective_registration_header --graphs=path/to/graph.pb &gt; ops_to_register.h</code></p>\n<p>Then</p>\n<pre><code>bazel build -c opt --copt=\"-DSELECTIVE_REGISTRATION\" \\\n    --copt=\"-DSUPPORT_SELECTIVE_REGISTRATION\" \\\n    //tensorflow/contrib/android:libtensorflow_inference.so \\\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n    --crosstool_top=//external:android/crosstool --cpu=armeabi-v7a\n</code></pre>\n<p>Everything went well, so I use the libtensorflow_inference.so in my Android project. Still when I run the model resnet_101_coco from the model zoo, I get the error:<br>\n<code> java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Round' with these attrs.  Registered devices: [CPU], Registered kernels:  &lt;no registered kernels&gt;</code></p>\n<p>How to overcome this? Thanks.</p>", "body_text": "hi @andrewharp\nI tried to use print_selective_registration_header.py to write ops to ops_to_register.h. I follow instructions and run:\nbazel build tensorflow/python/tools:print_selective_registration_header && bazel-bin/tensorflow/python/tools/print_selective_registration_header --graphs=path/to/graph.pb > ops_to_register.h\nThen\nbazel build -c opt --copt=\"-DSELECTIVE_REGISTRATION\" \\\n    --copt=\"-DSUPPORT_SELECTIVE_REGISTRATION\" \\\n    //tensorflow/contrib/android:libtensorflow_inference.so \\\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n    --crosstool_top=//external:android/crosstool --cpu=armeabi-v7a\n\nEverything went well, so I use the libtensorflow_inference.so in my Android project. Still when I run the model resnet_101_coco from the model zoo, I get the error:\n java.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Round' with these attrs.  Registered devices: [CPU], Registered kernels:  <no registered kernels>\nHow to overcome this? Thanks.", "body": "hi @andrewharp \r\n\r\nI tried to use print_selective_registration_header.py to write ops to ops_to_register.h. I follow instructions and run:\r\n\r\n`bazel build tensorflow/python/tools:print_selective_registration_header && bazel-bin/tensorflow/python/tools/print_selective_registration_header --graphs=path/to/graph.pb > ops_to_register.h`\r\n\r\nThen \r\n\r\n```\r\nbazel build -c opt --copt=\"-DSELECTIVE_REGISTRATION\" \\\r\n    --copt=\"-DSUPPORT_SELECTIVE_REGISTRATION\" \\\r\n    //tensorflow/contrib/android:libtensorflow_inference.so \\\r\n    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n    --crosstool_top=//external:android/crosstool --cpu=armeabi-v7a\r\n```\r\n\r\nEverything went well, so I use the libtensorflow_inference.so in my Android project. Still when I run the model resnet_101_coco from the model zoo, I get the error:\r\n`\r\njava.lang.IllegalArgumentException: No OpKernel was registered to support Op 'Round' with these attrs.  Registered devices: [CPU], Registered kernels:  <no registered kernels>`\r\n\r\nHow to overcome this? Thanks."}