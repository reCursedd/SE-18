{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17892", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17892/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17892/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17892/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/17892", "id": 307190967, "node_id": "MDU6SXNzdWUzMDcxOTA5Njc=", "number": 17892, "title": "Inconsistency in the accepted shape/data_format of Input Tensor to Conv2D in documentation.", "user": {"login": "YashalShakti", "id": 6383721, "node_id": "MDQ6VXNlcjYzODM3MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6383721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YashalShakti", "html_url": "https://github.com/YashalShakti", "followers_url": "https://api.github.com/users/YashalShakti/followers", "following_url": "https://api.github.com/users/YashalShakti/following{/other_user}", "gists_url": "https://api.github.com/users/YashalShakti/gists{/gist_id}", "starred_url": "https://api.github.com/users/YashalShakti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YashalShakti/subscriptions", "organizations_url": "https://api.github.com/users/YashalShakti/orgs", "repos_url": "https://api.github.com/users/YashalShakti/repos", "events_url": "https://api.github.com/users/YashalShakti/events{/privacy}", "received_events_url": "https://api.github.com/users/YashalShakti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-21T10:35:08Z", "updated_at": "2018-03-22T11:55:36Z", "closed_at": "2018-03-22T11:55:36Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Problem</h3>\n<p>The Tensorflow Layers Guide at <a href=\"https://www.tensorflow.org/tutorials/layers\" rel=\"nofollow\">https://www.tensorflow.org/tutorials/layers</a> specifies:</p>\n<blockquote>\n<p>The methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]</p>\n</blockquote>\n<p>While, the inline documentation specified for conv2D (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444</a>) mentions the following valid data_formats:</p>\n<blockquote>\n<p>data_format: A string, one of <code>channels_last</code> (default) or <code>channels_first</code>.<br>\nThe ordering of the dimensions in the inputs.<br>\n<code>channels_last</code> corresponds to inputs with shape<br>\n<code>(batch, height, width, channels)</code> while <code>channels_first</code> corresponds to<br>\ninputs with shape <code>(batch, channels, height, width)</code></p>\n</blockquote>\n<p>Moreover, nn.bias_add, avg_pool2d (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99</a>) etc. also accept [...,height, width...] but using different strings/methodology.</p>\n<blockquote>\n<p>inputs: A 4-D tensor of shape <code>[batch_size, height, width, channels]</code> if<br>\n<code>data_format</code> is <code>NHWC</code>, and <code>[batch_size, channels, height, width]</code> if<br>\n<code>data_format</code> is <code>NCHW</code>.</p>\n</blockquote>\n<p>Thus; shouldn't <a href=\"https://www.tensorflow.org/tutorials/layers\" rel=\"nofollow\">https://www.tensorflow.org/tutorials/layers</a> be updated and the valid data_format values for Convolutional Layers be changed?</p>", "body_text": "Problem\nThe Tensorflow Layers Guide at https://www.tensorflow.org/tutorials/layers specifies:\n\nThe methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]\n\nWhile, the inline documentation specified for conv2D (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444) mentions the following valid data_formats:\n\ndata_format: A string, one of channels_last (default) or channels_first.\nThe ordering of the dimensions in the inputs.\nchannels_last corresponds to inputs with shape\n(batch, height, width, channels) while channels_first corresponds to\ninputs with shape (batch, channels, height, width)\n\nMoreover, nn.bias_add, avg_pool2d (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99) etc. also accept [...,height, width...] but using different strings/methodology.\n\ninputs: A 4-D tensor of shape [batch_size, height, width, channels] if\ndata_format is NHWC, and [batch_size, channels, height, width] if\ndata_format is NCHW.\n\nThus; shouldn't https://www.tensorflow.org/tutorials/layers be updated and the valid data_format values for Convolutional Layers be changed?", "body": "### Problem\r\nThe Tensorflow Layers Guide at https://www.tensorflow.org/tutorials/layers specifies:\r\n\r\n> The methods in the layers module for creating convolutional and pooling layers for two-dimensional image data expect input tensors to have a shape of [batch_size, image_width, image_height, channels]\r\n\r\nWhile, the inline documentation specified for conv2D (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/layers/convolutional.py#L444) mentions the following valid data_formats:\r\n\r\n> data_format: A string, one of `channels_last` (default) or `channels_first`.\r\n      The ordering of the dimensions in the inputs.\r\n      `channels_last` corresponds to inputs with shape\r\n      `(batch, height, width, channels)` while `channels_first` corresponds to\r\n      inputs with shape `(batch, channels, height, width)`\r\n\r\nMoreover, nn.bias_add, avg_pool2d (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/contrib/layers/python/layers/layers.py#L99) etc. also accept [...,height, width...] but using different strings/methodology.\r\n\r\n> inputs: A 4-D tensor of shape `[batch_size, height, width, channels]` if\r\n      `data_format` is `NHWC`, and `[batch_size, channels, height, width]` if\r\n      `data_format` is `NCHW`.\r\n\r\nThus; shouldn't https://www.tensorflow.org/tutorials/layers be updated and the valid data_format values for Convolutional Layers be changed?"}