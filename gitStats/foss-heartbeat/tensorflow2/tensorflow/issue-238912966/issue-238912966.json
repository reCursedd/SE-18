{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11086", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11086/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11086/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11086/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11086", "id": 238912966, "node_id": "MDU6SXNzdWUyMzg5MTI5NjY=", "number": 11086, "title": "KMeansClustering fail with Assertion Error", "user": {"login": "GearFear", "id": 23522900, "node_id": "MDQ6VXNlcjIzNTIyOTAw", "avatar_url": "https://avatars2.githubusercontent.com/u/23522900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GearFear", "html_url": "https://github.com/GearFear", "followers_url": "https://api.github.com/users/GearFear/followers", "following_url": "https://api.github.com/users/GearFear/following{/other_user}", "gists_url": "https://api.github.com/users/GearFear/gists{/gist_id}", "starred_url": "https://api.github.com/users/GearFear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GearFear/subscriptions", "organizations_url": "https://api.github.com/users/GearFear/orgs", "repos_url": "https://api.github.com/users/GearFear/repos", "events_url": "https://api.github.com/users/GearFear/events{/privacy}", "received_events_url": "https://api.github.com/users/GearFear/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-27T16:40:13Z", "updated_at": "2017-12-01T07:07:18Z", "closed_at": "2017-12-01T07:03:52Z", "author_association": "NONE", "body_html": "<p>I try to use KMeansClustering on letter recognition dataset (<a href=\"http://archive.ics.uci.edu/ml/datasets/Letter+Recognition\" rel=\"nofollow\">http://archive.ics.uci.edu/ml/datasets/Letter+Recognition</a>). I use first 16000 rows. I use this code:</p>\n<p>import tensorflow as tf<br>\nkmeans = tf.contrib.learn.KMeansClustering(10)<br>\ntraining_set = pd.read_csv(\"letter_train.csv\", header=None, dtype=np.float64)<br>\nFEATURES = [\"V\" + str(i) for i in range(16)]<br>\ntraining_set.columns = [\"V\" + str(i) for i in range(17)]<br>\nLABEL = \"V\" + str(16)<br>\ndef input_fn(data_set):<br>\nfeature_cols = {k: tf.constant(data_set[k].values)<br>\nfor k in FEATURES}<br>\nlabels = tf.constant(data_set[LABEL].values)<br>\nreturn feature_cols, labels</p>\n<p>kmeans = tf.contrib.learn.KMeansClustering(10).fit(input_fn=lambda: input_fn(training_set), steps=100)</p>\n<p>But I have following error:</p>\n<p>AssertionError: Tensor(\"Const_16:0\", shape=(16000,), dtype=float64)</p>\n<p>For target Variable, I have &lt;tf.Tensor 'Const_7883:0' shape=(16000,) dtype=float64&gt;)</p>\n<p>input_fn is built like here: <a href=\"https://www.tensorflow.org/get_started/input_fn\" rel=\"nofollow\">https://www.tensorflow.org/get_started/input_fn</a><br>\nHow to make KMeans work?</p>", "body_text": "I try to use KMeansClustering on letter recognition dataset (http://archive.ics.uci.edu/ml/datasets/Letter+Recognition). I use first 16000 rows. I use this code:\nimport tensorflow as tf\nkmeans = tf.contrib.learn.KMeansClustering(10)\ntraining_set = pd.read_csv(\"letter_train.csv\", header=None, dtype=np.float64)\nFEATURES = [\"V\" + str(i) for i in range(16)]\ntraining_set.columns = [\"V\" + str(i) for i in range(17)]\nLABEL = \"V\" + str(16)\ndef input_fn(data_set):\nfeature_cols = {k: tf.constant(data_set[k].values)\nfor k in FEATURES}\nlabels = tf.constant(data_set[LABEL].values)\nreturn feature_cols, labels\nkmeans = tf.contrib.learn.KMeansClustering(10).fit(input_fn=lambda: input_fn(training_set), steps=100)\nBut I have following error:\nAssertionError: Tensor(\"Const_16:0\", shape=(16000,), dtype=float64)\nFor target Variable, I have <tf.Tensor 'Const_7883:0' shape=(16000,) dtype=float64>)\ninput_fn is built like here: https://www.tensorflow.org/get_started/input_fn\nHow to make KMeans work?", "body": "I try to use KMeansClustering on letter recognition dataset (http://archive.ics.uci.edu/ml/datasets/Letter+Recognition). I use first 16000 rows. I use this code:\r\n\r\nimport tensorflow as tf\r\nkmeans = tf.contrib.learn.KMeansClustering(10)\r\ntraining_set = pd.read_csv(\"letter_train.csv\", header=None, dtype=np.float64)\r\nFEATURES = [\"V\" + str(i) for i in range(16)]\r\ntraining_set.columns = [\"V\" + str(i) for i in range(17)]\r\nLABEL = \"V\" + str(16)\r\ndef input_fn(data_set):\r\n    feature_cols = {k: tf.constant(data_set[k].values)\r\n                    for k in FEATURES}\r\n    labels = tf.constant(data_set[LABEL].values)\r\n    return feature_cols, labels\r\n\r\nkmeans = tf.contrib.learn.KMeansClustering(10).fit(input_fn=lambda: input_fn(training_set), steps=100)\r\n\r\nBut I have following error:\r\n\r\nAssertionError: Tensor(\"Const_16:0\", shape=(16000,), dtype=float64)\r\n\r\nFor target Variable, I have <tf.Tensor 'Const_7883:0' shape=(16000,) dtype=float64>)\r\n\r\ninput_fn is built like here: https://www.tensorflow.org/get_started/input_fn\r\nHow to make KMeans work?\r\n\r\n"}