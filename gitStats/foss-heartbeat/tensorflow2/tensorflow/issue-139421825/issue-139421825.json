{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1438", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1438/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1438/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1438/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1438", "id": 139421825, "node_id": "MDU6SXNzdWUxMzk0MjE4MjU=", "number": 1438, "title": "Tensorflow missing symbol in compilation", "user": {"login": "daveh86", "id": 909151, "node_id": "MDQ6VXNlcjkwOTE1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/909151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daveh86", "html_url": "https://github.com/daveh86", "followers_url": "https://api.github.com/users/daveh86/followers", "following_url": "https://api.github.com/users/daveh86/following{/other_user}", "gists_url": "https://api.github.com/users/daveh86/gists{/gist_id}", "starred_url": "https://api.github.com/users/daveh86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daveh86/subscriptions", "organizations_url": "https://api.github.com/users/daveh86/orgs", "repos_url": "https://api.github.com/users/daveh86/repos", "events_url": "https://api.github.com/users/daveh86/events{/privacy}", "received_events_url": "https://api.github.com/users/daveh86/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-03-08T23:09:49Z", "updated_at": "2016-03-08T23:10:48Z", "closed_at": "2016-03-08T23:10:48Z", "author_association": "NONE", "body_html": "<p>Running on ArchLinux and compiling with the 2 suggested changes in <a href=\"https://github.com/tensorflow/tensorflow/issues/1346\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1346/hovercard\">Issue 1346</a> -  GCC4.9 and -D_FORCE_INLINES.</p>\n<p><em>Env</em><br>\nGCC 4.9.3<br>\nBazel version states \"from-head\" - build taken from <a href=\"https://github.com/bazelbuild/bazel/archive/0.2.0.tar.gz\">https://github.com/bazelbuild/bazel/archive/0.2.0.tar.gz</a><br>\nBuilding with Cuda and cudnn</p>\n<p>I'm running into an issue where the linking step for the tutorials_example_trainer, where the CheckOpMessageBuilder::NewString() symbol is missing:</p>\n<pre><code>ERROR: /mnt/work/work/tensorflow/tensorflow/cc/BUILD:61:1: Linking of rule '//tensorflow/cc:tutorials_example_trainer' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/local_linux-opt/bin/tensorflow/cc/tutorials_example_trainer ... (remaining 627 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString&lt;int, int&gt;(int const&amp;, int const&amp;, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString&lt;int, unsigned long&gt;(int const&amp;, unsigned long const&amp;, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc]+0x41): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString&lt;tensorflow::DataType, tensorflow::DataType&gt;(tensorflow::DataType const&amp;, tensorflow::DataType const&amp;, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString&lt;long long, int&gt;(long long const&amp;, int const&amp;, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\n</code></pre>\n<p>I have followed the tutorial thus far and am unsure why</p>", "body_text": "Running on ArchLinux and compiling with the 2 suggested changes in Issue 1346 -  GCC4.9 and -D_FORCE_INLINES.\nEnv\nGCC 4.9.3\nBazel version states \"from-head\" - build taken from https://github.com/bazelbuild/bazel/archive/0.2.0.tar.gz\nBuilding with Cuda and cudnn\nI'm running into an issue where the linking step for the tutorials_example_trainer, where the CheckOpMessageBuilder::NewString() symbol is missing:\nERROR: /mnt/work/work/tensorflow/tensorflow/cc/BUILD:61:1: Linking of rule '//tensorflow/cc:tutorials_example_trainer' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/local_linux-opt/bin/tensorflow/cc/tutorials_example_trainer ... (remaining 627 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<int, int>(int const&, int const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<int, unsigned long>(int const&, unsigned long const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc]+0x41): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<tensorflow::DataType, tensorflow::DataType>(tensorflow::DataType const&, tensorflow::DataType const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<long long, int>(long long const&, int const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\n\nI have followed the tutorial thus far and am unsure why", "body": "Running on ArchLinux and compiling with the 2 suggested changes in [Issue 1346](https://github.com/tensorflow/tensorflow/issues/1346) -  GCC4.9 and -D_FORCE_INLINES.\n\n_Env_\nGCC 4.9.3\nBazel version states \"from-head\" - build taken from https://github.com/bazelbuild/bazel/archive/0.2.0.tar.gz\nBuilding with Cuda and cudnn\n\nI'm running into an issue where the linking step for the tutorials_example_trainer, where the CheckOpMessageBuilder::NewString() symbol is missing:\n\n```\nERROR: /mnt/work/work/tensorflow/tensorflow/cc/BUILD:61:1: Linking of rule '//tensorflow/cc:tutorials_example_trainer' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/local_linux-opt/bin/tensorflow/cc/tutorials_example_trainer ... (remaining 627 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<int, int>(int const&, int const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIiiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<int, unsigned long>(int const&, unsigned long const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIimEEPSsRKT_RKT0_PKc]+0x41): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<tensorflow::DataType, tensorflow::DataType>(tensorflow::DataType const&, tensorflow::DataType const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringINS_8DataTypeES2_EEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\nbazel-out/local_linux-opt/bin/tensorflow/core/kernels/libtranspose_functor_gpu.lo(transpose_functor_gpu.cu.o): In function `std::string* tensorflow::internal::MakeCheckOpString<long long, int>(long long const&, int const&, char const*)':\ntmpxft_000060ce_00000000-7_transpose_functor_gpu.cu.compute_35.cudafe1.cpp:(.text._ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal17MakeCheckOpStringIxiEEPSsRKT_RKT0_PKc]+0x40): undefined reference to `tensorflow::internal::CheckOpMessageBuilder::NewString()'\n```\n\nI have followed the tutorial thus far and am unsure why\n"}