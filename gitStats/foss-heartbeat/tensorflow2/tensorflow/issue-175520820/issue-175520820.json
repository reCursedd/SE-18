{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4252", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4252/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4252/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4252/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/4252", "id": 175520820, "node_id": "MDU6SXNzdWUxNzU1MjA4MjA=", "number": 4252, "title": "make -f tensorflow/contrib/makefile/Makefile for iOS is failing", "user": {"login": "shrnjad", "id": 2298493, "node_id": "MDQ6VXNlcjIyOTg0OTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2298493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shrnjad", "html_url": "https://github.com/shrnjad", "followers_url": "https://api.github.com/users/shrnjad/followers", "following_url": "https://api.github.com/users/shrnjad/following{/other_user}", "gists_url": "https://api.github.com/users/shrnjad/gists{/gist_id}", "starred_url": "https://api.github.com/users/shrnjad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shrnjad/subscriptions", "organizations_url": "https://api.github.com/users/shrnjad/orgs", "repos_url": "https://api.github.com/users/shrnjad/repos", "events_url": "https://api.github.com/users/shrnjad/events{/privacy}", "received_events_url": "https://api.github.com/users/shrnjad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-09-07T14:42:16Z", "updated_at": "2016-09-09T23:03:17Z", "closed_at": "2016-09-09T23:03:09Z", "author_association": "NONE", "body_html": "<p>Probably related to <a href=\"https://github.com/tensorflow/tensorflow/issues/2896\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2896/hovercard\">issue 2896</a></p>\n<p>I am trying to build tensorflow on a mac for iOS. The first two commands work well:<br>\n<code>tensorflow/contrib/makefile/download_dependencies.sh</code><br>\nand<br>\n<code>compile_ios_protobuf.sh</code></p>\n<p>However, when I call<br>\n<code>make -f tensorflow/contrib/makefile/Makefile \\ TARGET=IOS \\ IOS_ARCH=ARM64</code></p>\n<p>I receive a linker error:</p>\n<blockquote>\n<p>Undefined symbols for architecture x86_64:<br>\n\"tensorflow::io::InputStreamInterface::SkipNBytes(long long)\", referenced from:<br>\nvtable for tensorflow::io::ZlibInputStream in zlib_inputstream.o<br>\n\"tensorflow::io::RandomAccessInputStream::RandomAccessInputStream(tensorflow::RandomAccessFile_)\", referenced from:<br>\ntensorflow::io::RecordReader::RecordReader(tensorflow::RandomAccessFile_, tensorflow::io::RecordReaderOptions const&amp;) in record_reader.o<br>\n\"typeinfo for tensorflow::io::InputStreamInterface\", referenced from:<br>\ntypeinfo for tensorflow::io::ZlibInputStream in zlib_inputstream.o<br>\n\"vtable for tensorflow::io::InputStreamInterface\", referenced from:<br>\ntensorflow::io::InputStreamInterface::InputStreamInterface() in zlib_inputstream.o<br>\nNOTE: a missing vtable usually means the first non-inline virtual member function has no definition.<br>\nld: symbol(s) not found for architecture x86_64<br>\nclang: error: linker command failed with exit code 1 (use -v to see invocation)<br>\nmake: *** [/Users/senad/repos/tensorflow2/tensorflow/contrib/makefile/gen/host_bin/proto_text] Error 1</p>\n<ul>\n<li>'[' 2 -ne 0 ']'</li>\n<li>echo 'armv7 compilation failed.'<br>\narmv7 compilation failed.</li>\n<li>exit 1</li>\n</ul>\n</blockquote>\n<p>I tried it with the current master commit <code>f71cc62f71cc62</code>. After reading the discussion of issue 2896, I also tried it with the commit <code>582e6c8582e6c8</code>. This is the one that supposedly fixed the issue in the other ticket.</p>", "body_text": "Probably related to issue 2896\nI am trying to build tensorflow on a mac for iOS. The first two commands work well:\ntensorflow/contrib/makefile/download_dependencies.sh\nand\ncompile_ios_protobuf.sh\nHowever, when I call\nmake -f tensorflow/contrib/makefile/Makefile \\ TARGET=IOS \\ IOS_ARCH=ARM64\nI receive a linker error:\n\nUndefined symbols for architecture x86_64:\n\"tensorflow::io::InputStreamInterface::SkipNBytes(long long)\", referenced from:\nvtable for tensorflow::io::ZlibInputStream in zlib_inputstream.o\n\"tensorflow::io::RandomAccessInputStream::RandomAccessInputStream(tensorflow::RandomAccessFile_)\", referenced from:\ntensorflow::io::RecordReader::RecordReader(tensorflow::RandomAccessFile_, tensorflow::io::RecordReaderOptions const&) in record_reader.o\n\"typeinfo for tensorflow::io::InputStreamInterface\", referenced from:\ntypeinfo for tensorflow::io::ZlibInputStream in zlib_inputstream.o\n\"vtable for tensorflow::io::InputStreamInterface\", referenced from:\ntensorflow::io::InputStreamInterface::InputStreamInterface() in zlib_inputstream.o\nNOTE: a missing vtable usually means the first non-inline virtual member function has no definition.\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [/Users/senad/repos/tensorflow2/tensorflow/contrib/makefile/gen/host_bin/proto_text] Error 1\n\n'[' 2 -ne 0 ']'\necho 'armv7 compilation failed.'\narmv7 compilation failed.\nexit 1\n\n\nI tried it with the current master commit f71cc62f71cc62. After reading the discussion of issue 2896, I also tried it with the commit 582e6c8582e6c8. This is the one that supposedly fixed the issue in the other ticket.", "body": "Probably related to [issue 2896](https://github.com/tensorflow/tensorflow/issues/2896)\n\nI am trying to build tensorflow on a mac for iOS. The first two commands work well:\n`tensorflow/contrib/makefile/download_dependencies.sh`\nand\n`compile_ios_protobuf.sh`\n\nHowever, when I call\n`make -f tensorflow/contrib/makefile/Makefile \\\n TARGET=IOS \\\n IOS_ARCH=ARM64`\n\nI receive a linker error:\n\n> Undefined symbols for architecture x86_64:\n>   \"tensorflow::io::InputStreamInterface::SkipNBytes(long long)\", referenced from:\n>       vtable for tensorflow::io::ZlibInputStream in zlib_inputstream.o\n>   \"tensorflow::io::RandomAccessInputStream::RandomAccessInputStream(tensorflow::RandomAccessFile_)\", referenced from:\n>       tensorflow::io::RecordReader::RecordReader(tensorflow::RandomAccessFile_, tensorflow::io::RecordReaderOptions const&) in record_reader.o\n>   \"typeinfo for tensorflow::io::InputStreamInterface\", referenced from:\n>       typeinfo for tensorflow::io::ZlibInputStream in zlib_inputstream.o\n>   \"vtable for tensorflow::io::InputStreamInterface\", referenced from:\n>       tensorflow::io::InputStreamInterface::InputStreamInterface() in zlib_inputstream.o\n>   NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.\n> ld: symbol(s) not found for architecture x86_64\n> clang: error: linker command failed with exit code 1 (use -v to see invocation)\n> make: **\\* [/Users/senad/repos/tensorflow2/tensorflow/contrib/makefile/gen/host_bin/proto_text] Error 1\n> - '[' 2 -ne 0 ']'\n> - echo 'armv7 compilation failed.'\n>   armv7 compilation failed.\n> - exit 1\n\nI tried it with the current master commit `f71cc62f71cc62`. After reading the discussion of issue 2896, I also tried it with the commit `582e6c8582e6c8`. This is the one that supposedly fixed the issue in the other ticket.\n"}