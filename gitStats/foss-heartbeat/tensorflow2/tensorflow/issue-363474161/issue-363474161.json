{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22496", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22496/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22496/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22496/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22496", "id": 363474161, "node_id": "MDU6SXNzdWUzNjM0NzQxNjE=", "number": 22496, "title": "I met the error:__init__() missing 2 required positional arguments: 'message' and 'code' when I tried to run the exact same code on image_captioning_with_attention ", "user": {"login": "LongForCMU", "id": 34177816, "node_id": "MDQ6VXNlcjM0MTc3ODE2", "avatar_url": "https://avatars2.githubusercontent.com/u/34177816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LongForCMU", "html_url": "https://github.com/LongForCMU", "followers_url": "https://api.github.com/users/LongForCMU/followers", "following_url": "https://api.github.com/users/LongForCMU/following{/other_user}", "gists_url": "https://api.github.com/users/LongForCMU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LongForCMU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LongForCMU/subscriptions", "organizations_url": "https://api.github.com/users/LongForCMU/orgs", "repos_url": "https://api.github.com/users/LongForCMU/repos", "events_url": "https://api.github.com/users/LongForCMU/events{/privacy}", "received_events_url": "https://api.github.com/users/LongForCMU/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wt-huang", "id": 42785337, "node_id": "MDQ6VXNlcjQyNzg1MzM3", "avatar_url": "https://avatars0.githubusercontent.com/u/42785337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wt-huang", "html_url": "https://github.com/wt-huang", "followers_url": "https://api.github.com/users/wt-huang/followers", "following_url": "https://api.github.com/users/wt-huang/following{/other_user}", "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions", "organizations_url": "https://api.github.com/users/wt-huang/orgs", "repos_url": "https://api.github.com/users/wt-huang/repos", "events_url": "https://api.github.com/users/wt-huang/events{/privacy}", "received_events_url": "https://api.github.com/users/wt-huang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-09-25T08:55:56Z", "updated_at": "2018-10-06T01:50:02Z", "closed_at": "2018-10-06T01:50:02Z", "author_association": "NONE", "body_html": "<p>The details are as follows:<br>\ncode:<br>\nfor img, path in image_dataset:<br>\nbatch_features = image_features_extract_model(img)<br>\nbatch_features = tf.reshape(batch_features,<br>\n(batch_features.shape[0], -1, batch_features.shape[3]))</p>\n<pre><code>for bf, p in zip(batch_features, path):\n    path_of_feature = p.numpy().decode(\"utf-8\")\n    np.save(path_of_feature, bf.numpy())\n</code></pre>\n<p>error:<br>\n_FallbackException                        Traceback (most recent call last)<br>\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)<br>\n1600         \"IteratorGetNextSync\", name, _ctx._post_execution_callbacks, iterator,<br>\n-&gt; 1601         \"output_types\", output_types, \"output_shapes\", output_shapes)<br>\n1602       return _result</p>\n<p>_FallbackException: Expecting int64_t value for attr output_shapes, got NoneType</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>TypeError                                 Traceback (most recent call last)<br>\n in ()<br>\n----&gt; 1 for img, path in image_dataset:<br>\n2     batch_features = image_features_extract_model(img)<br>\n3     batch_features = tf.reshape(batch_features,<br>\n4                               (batch_features.shape[0], -1, batch_features.shape[3]))<br>\n5</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in <strong>next</strong>(self)<br>\n484<br>\n485   def <strong>next</strong>(self):  # For Python 3 compatibility<br>\n--&gt; 486     return self.next()<br>\n487<br>\n488   def _next_internal(self):</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in next(self)<br>\n515     \"\"\"<br>\n516     try:<br>\n--&gt; 517       return self._next_internal()<br>\n518     except errors.OutOfRangeError:<br>\n519       raise StopIteration</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in _next_internal(self)<br>\n505             self._resource,<br>\n506             output_types=self._flat_output_types,<br>\n--&gt; 507             output_shapes=self._flat_output_shapes)<br>\n508<br>\n509       return sparse.deserialize_sparse_tensors(</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)<br>\n1604       return iterator_get_next_sync_eager_fallback(<br>\n1605           iterator, output_types=output_types, output_shapes=output_shapes,<br>\n-&gt; 1606           name=name, ctx=_ctx)<br>\n1607     except _core._NotOkStatusException as e:<br>\n1608       if name is not None:</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync_eager_fallback(iterator, output_types, output_shapes, name, ctx)<br>\n1633   _result = _execute.execute(b\"IteratorGetNextSync\", len(output_types),<br>\n1634                              inputs=_inputs_flat, attrs=_attrs, ctx=_ctx,<br>\n-&gt; 1635                              name=name)<br>\n1636   _execute.record_gradient(<br>\n1637       \"IteratorGetNextSync\", _inputs_flat, _attrs, _result, name)</p>\n<p>E:\\anaconda\\lib\\site-packages\\tensorflow\\python\\eager\\execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)<br>\n58     tensors = pywrap_tensorflow.TFE_Py_Execute(ctx._handle, device_name,<br>\n59                                                op_name, inputs, attrs,<br>\n---&gt; 60                                                num_outputs)<br>\n61   except core._NotOkStatusException as e:<br>\n62     if name is not None:</p>\n<p>TypeError: <strong>init</strong>() missing 2 required positional arguments: 'message' and 'code</p>", "body_text": "The details are as follows:\ncode:\nfor img, path in image_dataset:\nbatch_features = image_features_extract_model(img)\nbatch_features = tf.reshape(batch_features,\n(batch_features.shape[0], -1, batch_features.shape[3]))\nfor bf, p in zip(batch_features, path):\n    path_of_feature = p.numpy().decode(\"utf-8\")\n    np.save(path_of_feature, bf.numpy())\n\nerror:\n_FallbackException                        Traceback (most recent call last)\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)\n1600         \"IteratorGetNextSync\", name, _ctx._post_execution_callbacks, iterator,\n-> 1601         \"output_types\", output_types, \"output_shapes\", output_shapes)\n1602       return _result\n_FallbackException: Expecting int64_t value for attr output_shapes, got NoneType\nDuring handling of the above exception, another exception occurred:\nTypeError                                 Traceback (most recent call last)\n in ()\n----> 1 for img, path in image_dataset:\n2     batch_features = image_features_extract_model(img)\n3     batch_features = tf.reshape(batch_features,\n4                               (batch_features.shape[0], -1, batch_features.shape[3]))\n5\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in next(self)\n484\n485   def next(self):  # For Python 3 compatibility\n--> 486     return self.next()\n487\n488   def _next_internal(self):\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in next(self)\n515     \"\"\"\n516     try:\n--> 517       return self._next_internal()\n518     except errors.OutOfRangeError:\n519       raise StopIteration\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in _next_internal(self)\n505             self._resource,\n506             output_types=self._flat_output_types,\n--> 507             output_shapes=self._flat_output_shapes)\n508\n509       return sparse.deserialize_sparse_tensors(\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)\n1604       return iterator_get_next_sync_eager_fallback(\n1605           iterator, output_types=output_types, output_shapes=output_shapes,\n-> 1606           name=name, ctx=_ctx)\n1607     except _core._NotOkStatusException as e:\n1608       if name is not None:\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync_eager_fallback(iterator, output_types, output_shapes, name, ctx)\n1633   _result = _execute.execute(b\"IteratorGetNextSync\", len(output_types),\n1634                              inputs=_inputs_flat, attrs=_attrs, ctx=_ctx,\n-> 1635                              name=name)\n1636   _execute.record_gradient(\n1637       \"IteratorGetNextSync\", _inputs_flat, _attrs, _result, name)\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\eager\\execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)\n58     tensors = pywrap_tensorflow.TFE_Py_Execute(ctx._handle, device_name,\n59                                                op_name, inputs, attrs,\n---> 60                                                num_outputs)\n61   except core._NotOkStatusException as e:\n62     if name is not None:\nTypeError: init() missing 2 required positional arguments: 'message' and 'code", "body": "The details are as follows:\r\ncode:\r\nfor img, path in image_dataset:\r\n    batch_features = image_features_extract_model(img)\r\n    batch_features = tf.reshape(batch_features, \r\n                              (batch_features.shape[0], -1, batch_features.shape[3]))\r\n\r\n    for bf, p in zip(batch_features, path):\r\n        path_of_feature = p.numpy().decode(\"utf-8\")\r\n        np.save(path_of_feature, bf.numpy())\r\nerror:\r\n_FallbackException                        Traceback (most recent call last)\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)\r\n   1600         \"IteratorGetNextSync\", name, _ctx._post_execution_callbacks, iterator,\r\n-> 1601         \"output_types\", output_types, \"output_shapes\", output_shapes)\r\n   1602       return _result\r\n\r\n_FallbackException: Expecting int64_t value for attr output_shapes, got NoneType\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-17-266d7ad17ef7> in <module>()\r\n----> 1 for img, path in image_dataset:\r\n      2     batch_features = image_features_extract_model(img)\r\n      3     batch_features = tf.reshape(batch_features, \r\n      4                               (batch_features.shape[0], -1, batch_features.shape[3]))\r\n      5 \r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in __next__(self)\r\n    484 \r\n    485   def __next__(self):  # For Python 3 compatibility\r\n--> 486     return self.next()\r\n    487 \r\n    488   def _next_internal(self):\r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in next(self)\r\n    515     \"\"\"\r\n    516     try:\r\n--> 517       return self._next_internal()\r\n    518     except errors.OutOfRangeError:\r\n    519       raise StopIteration\r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\data\\ops\\iterator_ops.py in _next_internal(self)\r\n    505             self._resource,\r\n    506             output_types=self._flat_output_types,\r\n--> 507             output_shapes=self._flat_output_shapes)\r\n    508 \r\n    509       return sparse.deserialize_sparse_tensors(\r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync(iterator, output_types, output_shapes, name)\r\n   1604       return iterator_get_next_sync_eager_fallback(\r\n   1605           iterator, output_types=output_types, output_shapes=output_shapes,\r\n-> 1606           name=name, ctx=_ctx)\r\n   1607     except _core._NotOkStatusException as e:\r\n   1608       if name is not None:\r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\ops\\gen_dataset_ops.py in iterator_get_next_sync_eager_fallback(iterator, output_types, output_shapes, name, ctx)\r\n   1633   _result = _execute.execute(b\"IteratorGetNextSync\", len(output_types),\r\n   1634                              inputs=_inputs_flat, attrs=_attrs, ctx=_ctx,\r\n-> 1635                              name=name)\r\n   1636   _execute.record_gradient(\r\n   1637       \"IteratorGetNextSync\", _inputs_flat, _attrs, _result, name)\r\n\r\nE:\\anaconda\\lib\\site-packages\\tensorflow\\python\\eager\\execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)\r\n     58     tensors = pywrap_tensorflow.TFE_Py_Execute(ctx._handle, device_name,\r\n     59                                                op_name, inputs, attrs,\r\n---> 60                                                num_outputs)\r\n     61   except core._NotOkStatusException as e:\r\n     62     if name is not None:\r\n\r\nTypeError: __init__() missing 2 required positional arguments: 'message' and 'code"}