{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/410348145", "html_url": "https://github.com/tensorflow/tensorflow/issues/19679#issuecomment-410348145", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19679", "id": 410348145, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDM0ODE0NQ==", "user": {"login": "jimfcarroll", "id": 372696, "node_id": "MDQ6VXNlcjM3MjY5Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/372696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimfcarroll", "html_url": "https://github.com/jimfcarroll", "followers_url": "https://api.github.com/users/jimfcarroll/followers", "following_url": "https://api.github.com/users/jimfcarroll/following{/other_user}", "gists_url": "https://api.github.com/users/jimfcarroll/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimfcarroll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimfcarroll/subscriptions", "organizations_url": "https://api.github.com/users/jimfcarroll/orgs", "repos_url": "https://api.github.com/users/jimfcarroll/repos", "events_url": "https://api.github.com/users/jimfcarroll/events{/privacy}", "received_events_url": "https://api.github.com/users/jimfcarroll/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-03T19:06:42Z", "updated_at": "2018-08-03T19:06:42Z", "author_association": "NONE", "body_html": "<p>That looks like what I did. I've scripted this build to run inside of a docker container and then export the final results. I run it in nvidia/cuda:9.2-cudnn7-devel-ubuntu18.04 and set it up exactly like you have.</p>\n<p>If it helps, and while it's a work in progress, the project is here: <a href=\"https://github.com/jimfcarroll/tensorflow-packaging\">https://github.com/jimfcarroll/tensorflow-packaging</a> . The script that runs inside of the container to do the build is: <a href=\"https://github.com/jimfcarroll/tensorflow-packaging/blob/master/container-files/build-tensorflow.sh\">https://github.com/jimfcarroll/tensorflow-packaging/blob/master/container-files/build-tensorflow.sh</a></p>\n<p>Notice the few lines starting at 71. That sets up the NCCL hack to get the build to find the files, including <code>NCCL-SLA.txt</code></p>", "body_text": "That looks like what I did. I've scripted this build to run inside of a docker container and then export the final results. I run it in nvidia/cuda:9.2-cudnn7-devel-ubuntu18.04 and set it up exactly like you have.\nIf it helps, and while it's a work in progress, the project is here: https://github.com/jimfcarroll/tensorflow-packaging . The script that runs inside of the container to do the build is: https://github.com/jimfcarroll/tensorflow-packaging/blob/master/container-files/build-tensorflow.sh\nNotice the few lines starting at 71. That sets up the NCCL hack to get the build to find the files, including NCCL-SLA.txt", "body": "That looks like what I did. I've scripted this build to run inside of a docker container and then export the final results. I run it in nvidia/cuda:9.2-cudnn7-devel-ubuntu18.04 and set it up exactly like you have.\r\n\r\nIf it helps, and while it's a work in progress, the project is here: https://github.com/jimfcarroll/tensorflow-packaging . The script that runs inside of the container to do the build is: https://github.com/jimfcarroll/tensorflow-packaging/blob/master/container-files/build-tensorflow.sh\r\n\r\nNotice the few lines starting at 71. That sets up the NCCL hack to get the build to find the files, including `NCCL-SLA.txt`\r\n\r\n"}