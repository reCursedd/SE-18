{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/427413204", "html_url": "https://github.com/tensorflow/tensorflow/issues/22069#issuecomment-427413204", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22069", "id": 427413204, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzQxMzIwNA==", "user": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-05T15:53:35Z", "updated_at": "2018-10-05T15:53:35Z", "author_association": "MEMBER", "body_html": "<p>In order to freeze a graph, you need to provide either a SavedModel or a non-frozen GraphDef (i.e. a GraphDef with variables) and the checkpoints. Freeze graph can then produce a GraphDef with all of the weights represented as constants.</p>\n<p>In your case you might be able to freeze the graph with a command such as the following:</p>\n<pre><code>bazel build tensorflow/python/tools:freeze_graph &amp;&amp; \\\nbazel-bin/tensorflow/python/tools/freeze_graph \\\n--input_graph=${PATH_TO_TRAIN_DIR}/graph.pbtxt \\\n--input_binary=false \\\n--input_checkpoint=${PATH_TO_TRAIN_DIR}/checkpoint/model.ckpt-100 \\\n--output_graph=${PATH_TO_TRAIN_DIR}/frozen_graph.pb \\\n--output_node_names=MobilenetV2/expanded_conv_16/output\n</code></pre>", "body_text": "In order to freeze a graph, you need to provide either a SavedModel or a non-frozen GraphDef (i.e. a GraphDef with variables) and the checkpoints. Freeze graph can then produce a GraphDef with all of the weights represented as constants.\nIn your case you might be able to freeze the graph with a command such as the following:\nbazel build tensorflow/python/tools:freeze_graph && \\\nbazel-bin/tensorflow/python/tools/freeze_graph \\\n--input_graph=${PATH_TO_TRAIN_DIR}/graph.pbtxt \\\n--input_binary=false \\\n--input_checkpoint=${PATH_TO_TRAIN_DIR}/checkpoint/model.ckpt-100 \\\n--output_graph=${PATH_TO_TRAIN_DIR}/frozen_graph.pb \\\n--output_node_names=MobilenetV2/expanded_conv_16/output", "body": "In order to freeze a graph, you need to provide either a SavedModel or a non-frozen GraphDef (i.e. a GraphDef with variables) and the checkpoints. Freeze graph can then produce a GraphDef with all of the weights represented as constants.\r\n\r\nIn your case you might be able to freeze the graph with a command such as the following:\r\n```\r\nbazel build tensorflow/python/tools:freeze_graph && \\\r\nbazel-bin/tensorflow/python/tools/freeze_graph \\\r\n--input_graph=${PATH_TO_TRAIN_DIR}/graph.pbtxt \\\r\n--input_binary=false \\\r\n--input_checkpoint=${PATH_TO_TRAIN_DIR}/checkpoint/model.ckpt-100 \\\r\n--output_graph=${PATH_TO_TRAIN_DIR}/frozen_graph.pb \\\r\n--output_node_names=MobilenetV2/expanded_conv_16/output\r\n```"}