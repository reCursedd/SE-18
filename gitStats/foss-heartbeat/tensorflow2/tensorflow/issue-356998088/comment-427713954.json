{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/427713954", "html_url": "https://github.com/tensorflow/tensorflow/issues/22069#issuecomment-427713954", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22069", "id": 427713954, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzcxMzk1NA==", "user": {"login": "chrisrapson", "id": 4982550, "node_id": "MDQ6VXNlcjQ5ODI1NTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4982550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisrapson", "html_url": "https://github.com/chrisrapson", "followers_url": "https://api.github.com/users/chrisrapson/followers", "following_url": "https://api.github.com/users/chrisrapson/following{/other_user}", "gists_url": "https://api.github.com/users/chrisrapson/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisrapson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisrapson/subscriptions", "organizations_url": "https://api.github.com/users/chrisrapson/orgs", "repos_url": "https://api.github.com/users/chrisrapson/repos", "events_url": "https://api.github.com/users/chrisrapson/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisrapson/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T03:28:58Z", "updated_at": "2018-10-08T03:29:55Z", "author_association": "NONE", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1900612\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gargn\">@gargn</a>, that solves the second problem I referred to, and allows me to successfully generate a frozen graph from my checkpoint. Unfortunately, when I try to use the frozen graph, it tells me</p>\n<p><code>TypeError: Cannot interpret feed_dict key as Tensor: the name 'ImageTensor:0' refers to a Tensor which does not exist. The operation, 'ImageTensor', does not exist in the graph.</code></p>\n<p>So the first problem still persists. I expected my checkpoint graph to have the same input/output nodes as the <code>tf_initial_checkpoint</code>, and for this checkpoint to have the same input/output nodes as the frozen graph which was bundled with it in a tar file. (Specifically, <a href=\"http://download.tensorflow.org/models/deeplabv3_mnv2_pascal_train_aug_2018_01_29.tar.gz\" rel=\"nofollow\">this tar file</a>.)</p>\n<p>Is that expectation correct? If not, how do I take a downloaded model (pb or ckpt) and retrain it? When I testedt the downloaded pb file, I found that it is already very good at image segmentation. I am looking to modify it slightly to segment only 4 classes instead of 30, and to teach it these classes by training it on my own data.</p>", "body_text": "Thanks @gargn, that solves the second problem I referred to, and allows me to successfully generate a frozen graph from my checkpoint. Unfortunately, when I try to use the frozen graph, it tells me\nTypeError: Cannot interpret feed_dict key as Tensor: the name 'ImageTensor:0' refers to a Tensor which does not exist. The operation, 'ImageTensor', does not exist in the graph.\nSo the first problem still persists. I expected my checkpoint graph to have the same input/output nodes as the tf_initial_checkpoint, and for this checkpoint to have the same input/output nodes as the frozen graph which was bundled with it in a tar file. (Specifically, this tar file.)\nIs that expectation correct? If not, how do I take a downloaded model (pb or ckpt) and retrain it? When I testedt the downloaded pb file, I found that it is already very good at image segmentation. I am looking to modify it slightly to segment only 4 classes instead of 30, and to teach it these classes by training it on my own data.", "body": "Thanks @gargn, that solves the second problem I referred to, and allows me to successfully generate a frozen graph from my checkpoint. Unfortunately, when I try to use the frozen graph, it tells me\r\n\r\n`TypeError: Cannot interpret feed_dict key as Tensor: the name 'ImageTensor:0' refers to a Tensor which does not exist. The operation, 'ImageTensor', does not exist in the graph.`\r\n\r\nSo the first problem still persists. I expected my checkpoint graph to have the same input/output nodes as the `tf_initial_checkpoint`, and for this checkpoint to have the same input/output nodes as the frozen graph which was bundled with it in a tar file. (Specifically, [this tar file](http://download.tensorflow.org/models/deeplabv3_mnv2_pascal_train_aug_2018_01_29.tar.gz).)\r\n\r\nIs that expectation correct? If not, how do I take a downloaded model (pb or ckpt) and retrain it? When I testedt the downloaded pb file, I found that it is already very good at image segmentation. I am looking to modify it slightly to segment only 4 classes instead of 30, and to teach it these classes by training it on my own data."}