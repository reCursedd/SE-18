{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18917", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18917/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18917/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18917/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/18917", "id": 318295683, "node_id": "MDU6SXNzdWUzMTgyOTU2ODM=", "number": 18917, "title": "tf.contrib.image.connected_components works incorrectly with 3D numpy arrays", "user": {"login": "dpaniukov", "id": 16146198, "node_id": "MDQ6VXNlcjE2MTQ2MTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/16146198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpaniukov", "html_url": "https://github.com/dpaniukov", "followers_url": "https://api.github.com/users/dpaniukov/followers", "following_url": "https://api.github.com/users/dpaniukov/following{/other_user}", "gists_url": "https://api.github.com/users/dpaniukov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpaniukov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpaniukov/subscriptions", "organizations_url": "https://api.github.com/users/dpaniukov/orgs", "repos_url": "https://api.github.com/users/dpaniukov/repos", "events_url": "https://api.github.com/users/dpaniukov/events{/privacy}", "received_events_url": "https://api.github.com/users/dpaniukov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bignamehyp", "id": 3474655, "node_id": "MDQ6VXNlcjM0NzQ2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3474655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignamehyp", "html_url": "https://github.com/bignamehyp", "followers_url": "https://api.github.com/users/bignamehyp/followers", "following_url": "https://api.github.com/users/bignamehyp/following{/other_user}", "gists_url": "https://api.github.com/users/bignamehyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignamehyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignamehyp/subscriptions", "organizations_url": "https://api.github.com/users/bignamehyp/orgs", "repos_url": "https://api.github.com/users/bignamehyp/repos", "events_url": "https://api.github.com/users/bignamehyp/events{/privacy}", "received_events_url": "https://api.github.com/users/bignamehyp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-04-27T06:46:07Z", "updated_at": "2018-10-09T18:41:28Z", "closed_at": "2018-10-09T18:41:28Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<p>Have I written custom code: N/A<br>\nOS Platform and Distribution: Linux Ubuntu 16.04<br>\nBazel version: N/A<br>\nTensorFlow installed from binary<br>\nTensorFlow version: v1.7.0-3-g024aecf414 1.7.0<br>\nPython version: 3.6<br>\nCUDA/cuDNN version: CUDA 9.0 / cuDNN 7.1.1<br>\nGPU model and memory: GeForce GTX 1060 6GB</p>\n<h3>Exact command to reproduce:</h3>\n<p><code>import numpy as np</code><br>\n<code>from tensorflow.contrib.image import connected_components</code><br>\n<code>a = np.zeros((2,3,4))</code><br>\n<code>a[0,0,0]=1</code><br>\n<code>a[0,0,1]=1</code><br>\n<code>a[1,0,1]=1</code><br>\n<code>print((tf.Session().run(connected_components(a))))</code></p>\n<blockquote>\n<p>[[[1 1 0 0]<br>\n[0 0 0 0]<br>\n[0 0 0 0]]<br>\n[[0 2 0 0]<br>\n[0 0 0 0]<br>\n[0 0 0 0]]]</p>\n</blockquote>\n<p>It gives two components instead of one.</p>", "body_text": "System information\nHave I written custom code: N/A\nOS Platform and Distribution: Linux Ubuntu 16.04\nBazel version: N/A\nTensorFlow installed from binary\nTensorFlow version: v1.7.0-3-g024aecf414 1.7.0\nPython version: 3.6\nCUDA/cuDNN version: CUDA 9.0 / cuDNN 7.1.1\nGPU model and memory: GeForce GTX 1060 6GB\nExact command to reproduce:\nimport numpy as np\nfrom tensorflow.contrib.image import connected_components\na = np.zeros((2,3,4))\na[0,0,0]=1\na[0,0,1]=1\na[1,0,1]=1\nprint((tf.Session().run(connected_components(a))))\n\n[[[1 1 0 0]\n[0 0 0 0]\n[0 0 0 0]]\n[[0 2 0 0]\n[0 0 0 0]\n[0 0 0 0]]]\n\nIt gives two components instead of one.", "body": "### System information\r\nHave I written custom code: N/A\r\nOS Platform and Distribution: Linux Ubuntu 16.04\r\nBazel version: N/A\r\nTensorFlow installed from binary\r\nTensorFlow version: v1.7.0-3-g024aecf414 1.7.0\r\nPython version: 3.6\r\nCUDA/cuDNN version: CUDA 9.0 / cuDNN 7.1.1\r\nGPU model and memory: GeForce GTX 1060 6GB\r\n\r\n### Exact command to reproduce:\r\n`import numpy as np`\r\n`from tensorflow.contrib.image import connected_components`\r\n`a = np.zeros((2,3,4))`\r\n`a[0,0,0]=1`\r\n`a[0,0,1]=1`\r\n`a[1,0,1]=1`\r\n`print((tf.Session().run(connected_components(a))))`\r\n\r\n> [[[1 1 0 0]\r\n  [0 0 0 0]\r\n  [0 0 0 0]]\r\n [[0 2 0 0]\r\n  [0 0 0 0]\r\n  [0 0 0 0]]]\r\n\r\nIt gives two components instead of one. "}