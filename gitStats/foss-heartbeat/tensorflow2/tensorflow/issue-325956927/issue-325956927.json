{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19517", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19517/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19517/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19517/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19517", "id": 325956927, "node_id": "MDU6SXNzdWUzMjU5NTY5Mjc=", "number": 19517, "title": "Support on TPU for tf.contrib.framework.sort", "user": {"login": "1vn", "id": 7690074, "node_id": "MDQ6VXNlcjc2OTAwNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/7690074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1vn", "html_url": "https://github.com/1vn", "followers_url": "https://api.github.com/users/1vn/followers", "following_url": "https://api.github.com/users/1vn/following{/other_user}", "gists_url": "https://api.github.com/users/1vn/gists{/gist_id}", "starred_url": "https://api.github.com/users/1vn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1vn/subscriptions", "organizations_url": "https://api.github.com/users/1vn/orgs", "repos_url": "https://api.github.com/users/1vn/repos", "events_url": "https://api.github.com/users/1vn/events{/privacy}", "received_events_url": "https://api.github.com/users/1vn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-05-24T04:08:11Z", "updated_at": "2018-11-14T19:19:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>We tried to train with TPU on our model which needs to sort a tensor along an axis. Using  tf.contrib.framework.sort results in the following error:</p>\n<pre><code>NotFoundError (see above for traceback): No registered 'TopKV2' OpKernel for XLA_TPU_JIT devices compatible with node TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/TopKV2 = TopKV2[T=DT_FLOAT, sorted=true, _device=\"/device:TPU_REPLICATED_CORE\"](TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/transpose, TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/strided_slice)\n</code></pre>\n<p>Are there any alternatives?</p>\n<p>Have I written custom code: N/A<br>\nOS Platform and Distribution: ubuntu<br>\nTensorFlow installed from: official<br>\nTensorFlow version: N/A<br>\nBazel version: N/A<br>\nCUDA/cuDNN version: N/A<br>\nGPU model and memory: TPU on gcloud<br>\nExact command to reproduce: any training script using tf.contrib.framework.sort</p>", "body_text": "We tried to train with TPU on our model which needs to sort a tensor along an axis. Using  tf.contrib.framework.sort results in the following error:\nNotFoundError (see above for traceback): No registered 'TopKV2' OpKernel for XLA_TPU_JIT devices compatible with node TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/TopKV2 = TopKV2[T=DT_FLOAT, sorted=true, _device=\"/device:TPU_REPLICATED_CORE\"](TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/transpose, TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/strided_slice)\n\nAre there any alternatives?\nHave I written custom code: N/A\nOS Platform and Distribution: ubuntu\nTensorFlow installed from: official\nTensorFlow version: N/A\nBazel version: N/A\nCUDA/cuDNN version: N/A\nGPU model and memory: TPU on gcloud\nExact command to reproduce: any training script using tf.contrib.framework.sort", "body": "We tried to train with TPU on our model which needs to sort a tensor along an axis. Using  tf.contrib.framework.sort results in the following error:\r\n```\r\nNotFoundError (see above for traceback): No registered 'TopKV2' OpKernel for XLA_TPU_JIT devices compatible with node TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/TopKV2 = TopKV2[T=DT_FLOAT, sorted=true, _device=\"/device:TPU_REPLICATED_CORE\"](TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/transpose, TPUReplicate/loop/resnet/unit_2_4/sub1/conv1/sort/strided_slice)\r\n```\r\n\r\nAre there any alternatives? \r\n\r\nHave I written custom code: N/A\r\nOS Platform and Distribution: ubuntu\r\nTensorFlow installed from: official\r\nTensorFlow version: N/A\r\nBazel version: N/A\r\nCUDA/cuDNN version: N/A\r\nGPU model and memory: TPU on gcloud\r\nExact command to reproduce: any training script using tf.contrib.framework.sort"}