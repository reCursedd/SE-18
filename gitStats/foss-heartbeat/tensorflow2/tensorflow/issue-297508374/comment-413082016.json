{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413082016", "html_url": "https://github.com/tensorflow/tensorflow/issues/17048#issuecomment-413082016", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17048", "id": 413082016, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzA4MjAxNg==", "user": {"login": "TanLingxiao", "id": 8078355, "node_id": "MDQ6VXNlcjgwNzgzNTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/8078355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TanLingxiao", "html_url": "https://github.com/TanLingxiao", "followers_url": "https://api.github.com/users/TanLingxiao/followers", "following_url": "https://api.github.com/users/TanLingxiao/following{/other_user}", "gists_url": "https://api.github.com/users/TanLingxiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/TanLingxiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TanLingxiao/subscriptions", "organizations_url": "https://api.github.com/users/TanLingxiao/orgs", "repos_url": "https://api.github.com/users/TanLingxiao/repos", "events_url": "https://api.github.com/users/TanLingxiao/events{/privacy}", "received_events_url": "https://api.github.com/users/TanLingxiao/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-15T03:16:22Z", "updated_at": "2018-08-15T03:16:22Z", "author_association": "NONE", "body_html": "<pre><code>import tensorflow as tf\nfrom numba import cuda\n\na = tf.constant([1.0,2.0,3.0],shape=[3],name='a')\nb = tf.constant([1.0,2.0,3.0],shape=[3],name='b')\nwith tf.device('/gpu:1'):\n    c = a+b\n\nTF_CONFIG = tf.ConfigProto(\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.1),\n  allow_soft_placement=True)\n\nsess = tf.Session(config=TF_CONFIG)\nsess.run(tf.global_variables_initializer())\ni=1\nwhile(i&lt;1000):\n        i=i+1\n        print(sess.run(c))\n\nsess.close()\ncuda.select_device(1)\ncuda.close()\nwith tf.device('/gpu:1'):\n    c = a+b\n\nTF_CONFIG = tf.ConfigProto(\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.5),\n  allow_soft_placement=True)\n\nsess = tf.Session(config=TF_CONFIG)\n\nsess.run(tf.global_variables_initializer())\nwhile(1):\n        print(sess.run(c))\n</code></pre>", "body_text": "import tensorflow as tf\nfrom numba import cuda\n\na = tf.constant([1.0,2.0,3.0],shape=[3],name='a')\nb = tf.constant([1.0,2.0,3.0],shape=[3],name='b')\nwith tf.device('/gpu:1'):\n    c = a+b\n\nTF_CONFIG = tf.ConfigProto(\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.1),\n  allow_soft_placement=True)\n\nsess = tf.Session(config=TF_CONFIG)\nsess.run(tf.global_variables_initializer())\ni=1\nwhile(i<1000):\n        i=i+1\n        print(sess.run(c))\n\nsess.close()\ncuda.select_device(1)\ncuda.close()\nwith tf.device('/gpu:1'):\n    c = a+b\n\nTF_CONFIG = tf.ConfigProto(\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.5),\n  allow_soft_placement=True)\n\nsess = tf.Session(config=TF_CONFIG)\n\nsess.run(tf.global_variables_initializer())\nwhile(1):\n        print(sess.run(c))", "body": "```\r\nimport tensorflow as tf\r\nfrom numba import cuda\r\n\r\na = tf.constant([1.0,2.0,3.0],shape=[3],name='a')\r\nb = tf.constant([1.0,2.0,3.0],shape=[3],name='b')\r\nwith tf.device('/gpu:1'):\r\n    c = a+b\r\n\r\nTF_CONFIG = tf.ConfigProto(\r\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.1),\r\n  allow_soft_placement=True)\r\n\r\nsess = tf.Session(config=TF_CONFIG)\r\nsess.run(tf.global_variables_initializer())\r\ni=1\r\nwhile(i<1000):\r\n        i=i+1\r\n        print(sess.run(c))\r\n\r\nsess.close()\r\ncuda.select_device(1)\r\ncuda.close()\r\nwith tf.device('/gpu:1'):\r\n    c = a+b\r\n\r\nTF_CONFIG = tf.ConfigProto(\r\ngpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.5),\r\n  allow_soft_placement=True)\r\n\r\nsess = tf.Session(config=TF_CONFIG)\r\n\r\nsess.run(tf.global_variables_initializer())\r\nwhile(1):\r\n        print(sess.run(c))\r\n```"}