{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/234830737", "html_url": "https://github.com/tensorflow/tensorflow/issues/3457#issuecomment-234830737", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3457", "id": 234830737, "node_id": "MDEyOklzc3VlQ29tbWVudDIzNDgzMDczNw==", "user": {"login": "perhapszzy", "id": 7953637, "node_id": "MDQ6VXNlcjc5NTM2Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/7953637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/perhapszzy", "html_url": "https://github.com/perhapszzy", "followers_url": "https://api.github.com/users/perhapszzy/followers", "following_url": "https://api.github.com/users/perhapszzy/following{/other_user}", "gists_url": "https://api.github.com/users/perhapszzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/perhapszzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/perhapszzy/subscriptions", "organizations_url": "https://api.github.com/users/perhapszzy/orgs", "repos_url": "https://api.github.com/users/perhapszzy/repos", "events_url": "https://api.github.com/users/perhapszzy/events{/privacy}", "received_events_url": "https://api.github.com/users/perhapszzy/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-25T03:52:13Z", "updated_at": "2016-07-25T03:52:13Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Way to repeat the problem:<br>\nOn my own laptop run the following three cmd:</p>\n<pre><code>python mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30001\" --worker_index=0 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30002\" --worker_index=1 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30003\" --worker_index=2 --sync_replicas\n</code></pre>\n<p>The log for worker1 is:</p>\n<pre><code>Worker GRPC URL: grpc://43.254.53.118:30001\nWorker index = 0\nNumber of workers = 3\nWorker 0: Initializing session...\nWorker 0: Session initialization complete.\nStarting chief queue runner and running init_tokens_op\nTraining begins @ 1469418277.317969\n1469418277.659315: Worker 0: training step 1 done (global step: 0)\n1469418277.961008: Worker 0: training step 2 done (global step: 0)\n1469418278.261021: Worker 0: training step 3 done (global step: 0)\n1469418292.345302: Worker 0: training step 4 done (global step: 0)\n</code></pre>\n<p>The log for worker2 is:</p>\n<pre><code>Worker GRPC URL: grpc://43.254.53.118:30002\nWorker index = 1\nNumber of workers = 3\nWorker 1: Waiting for session to be initialized...\nWorker 1: Session initialization complete.\nTraining begins @ 1469418290.118592\n1469418292.332708: Worker 1: training step 1 done (global step: 0)\n1469418292.865696: Worker 1: training step 2 done (global step: 1)\n</code></pre>\n<p>And log for worker 3 is:</p>\n<pre><code>Worker GRPC URL: grpc://43.254.53.118:30003\nWorker index = 2\nNumber of workers = 3\nWorker 2: Waiting for session to be initialized...\nWorker 2: Session initialization complete.\nTraining begins @ 1469418298.766421\n</code></pre>\n<p>They stuck there forever. I'm keeping the server alive so that anybody should be able to repeat this problem. The mnist_replica.py is <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/dist_test/python/mnist_replica.py\">here</a> and I also updated the file:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/380746/mnist_replica.py.txt\">mnist_replica.py.txt</a></p>", "body_text": "Way to repeat the problem:\nOn my own laptop run the following three cmd:\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30001\" --worker_index=0 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30002\" --worker_index=1 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30003\" --worker_index=2 --sync_replicas\n\nThe log for worker1 is:\nWorker GRPC URL: grpc://43.254.53.118:30001\nWorker index = 0\nNumber of workers = 3\nWorker 0: Initializing session...\nWorker 0: Session initialization complete.\nStarting chief queue runner and running init_tokens_op\nTraining begins @ 1469418277.317969\n1469418277.659315: Worker 0: training step 1 done (global step: 0)\n1469418277.961008: Worker 0: training step 2 done (global step: 0)\n1469418278.261021: Worker 0: training step 3 done (global step: 0)\n1469418292.345302: Worker 0: training step 4 done (global step: 0)\n\nThe log for worker2 is:\nWorker GRPC URL: grpc://43.254.53.118:30002\nWorker index = 1\nNumber of workers = 3\nWorker 1: Waiting for session to be initialized...\nWorker 1: Session initialization complete.\nTraining begins @ 1469418290.118592\n1469418292.332708: Worker 1: training step 1 done (global step: 0)\n1469418292.865696: Worker 1: training step 2 done (global step: 1)\n\nAnd log for worker 3 is:\nWorker GRPC URL: grpc://43.254.53.118:30003\nWorker index = 2\nNumber of workers = 3\nWorker 2: Waiting for session to be initialized...\nWorker 2: Session initialization complete.\nTraining begins @ 1469418298.766421\n\nThey stuck there forever. I'm keeping the server alive so that anybody should be able to repeat this problem. The mnist_replica.py is here and I also updated the file:\nmnist_replica.py.txt", "body": "Way to repeat the problem:\nOn my own laptop run the following three cmd:\n\n```\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30001\" --worker_index=0 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30002\" --worker_index=1 --sync_replicas\npython mnist_replica.py --worker_grpc_url=\"grpc://43.254.53.118:30003\" --worker_index=2 --sync_replicas\n```\n\nThe log for worker1 is:\n\n```\nWorker GRPC URL: grpc://43.254.53.118:30001\nWorker index = 0\nNumber of workers = 3\nWorker 0: Initializing session...\nWorker 0: Session initialization complete.\nStarting chief queue runner and running init_tokens_op\nTraining begins @ 1469418277.317969\n1469418277.659315: Worker 0: training step 1 done (global step: 0)\n1469418277.961008: Worker 0: training step 2 done (global step: 0)\n1469418278.261021: Worker 0: training step 3 done (global step: 0)\n1469418292.345302: Worker 0: training step 4 done (global step: 0)\n```\n\nThe log for worker2 is:\n\n```\nWorker GRPC URL: grpc://43.254.53.118:30002\nWorker index = 1\nNumber of workers = 3\nWorker 1: Waiting for session to be initialized...\nWorker 1: Session initialization complete.\nTraining begins @ 1469418290.118592\n1469418292.332708: Worker 1: training step 1 done (global step: 0)\n1469418292.865696: Worker 1: training step 2 done (global step: 1)\n```\n\nAnd log for worker 3 is:\n\n```\nWorker GRPC URL: grpc://43.254.53.118:30003\nWorker index = 2\nNumber of workers = 3\nWorker 2: Waiting for session to be initialized...\nWorker 2: Session initialization complete.\nTraining begins @ 1469418298.766421\n```\n\nThey stuck there forever. I'm keeping the server alive so that anybody should be able to repeat this problem. The mnist_replica.py is [here](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/dist_test/python/mnist_replica.py) and I also updated the file:\n[mnist_replica.py.txt](https://github.com/tensorflow/tensorflow/files/380746/mnist_replica.py.txt)\n"}