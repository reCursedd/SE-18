{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/348611311", "html_url": "https://github.com/tensorflow/tensorflow/issues/15019#issuecomment-348611311", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15019", "id": 348611311, "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODYxMTMxMQ==", "user": {"login": "suryasumukh", "id": 7255741, "node_id": "MDQ6VXNlcjcyNTU3NDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/7255741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suryasumukh", "html_url": "https://github.com/suryasumukh", "followers_url": "https://api.github.com/users/suryasumukh/followers", "following_url": "https://api.github.com/users/suryasumukh/following{/other_user}", "gists_url": "https://api.github.com/users/suryasumukh/gists{/gist_id}", "starred_url": "https://api.github.com/users/suryasumukh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suryasumukh/subscriptions", "organizations_url": "https://api.github.com/users/suryasumukh/orgs", "repos_url": "https://api.github.com/users/suryasumukh/repos", "events_url": "https://api.github.com/users/suryasumukh/events{/privacy}", "received_events_url": "https://api.github.com/users/suryasumukh/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-01T20:52:09Z", "updated_at": "2017-12-01T20:52:09Z", "author_association": "NONE", "body_html": "<p>I have a similar issue -<br>\nI'm trying to load a trained model for inference. In the code snippet below, <code>features:0</code> is the name of one of the tensors returned by dataset iterator. Is it possible to directly feed the tensor without having to initialize the iterator ?</p>\n<p>Code</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.Session(<span class=\"pl-v\">graph</span><span class=\"pl-k\">=</span>tf.Graph()) <span class=\"pl-k\">as</span> session:\n    graph_meta <span class=\"pl-k\">=</span> tf.train.latest_checkpoint(model_dir) <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>.meta<span class=\"pl-pds\">'</span></span>\n    saver <span class=\"pl-k\">=</span> tf.train.import_meta_graph(os.path.join(model_dir, graph_meta))\n    saver.restore(session, tf.train.latest_checkpoint(model_dir))\n    feed_dict <span class=\"pl-k\">=</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>features:0<span class=\"pl-pds\">'</span></span>: x_test <span class=\"pl-c\"><span class=\"pl-c\">#</span> shape 102x13</span>\n    }\n    predictions <span class=\"pl-k\">=</span> session.run(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>logits:0<span class=\"pl-pds\">'</span></span>, feed_dict)\n    <span class=\"pl-c1\">print</span>(predictions.shape)</pre></div>\n<p>Error</p>\n<pre><code>FailedPreconditionError: GetNext() failed because the iterator has not been initialized. Ensure that you have run the initializer operation for this iterator before getting the next element.\n\t [[Node: IteratorGetNext = IteratorGetNext[output_shapes=[[?,13], [?], [?]], output_types=[DT_DOUBLE, DT_DOUBLE, DT_DOUBLE], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Iterator)]]\n</code></pre>", "body_text": "I have a similar issue -\nI'm trying to load a trained model for inference. In the code snippet below, features:0 is the name of one of the tensors returned by dataset iterator. Is it possible to directly feed the tensor without having to initialize the iterator ?\nCode\nwith tf.Session(graph=tf.Graph()) as session:\n    graph_meta = tf.train.latest_checkpoint(model_dir) + '.meta'\n    saver = tf.train.import_meta_graph(os.path.join(model_dir, graph_meta))\n    saver.restore(session, tf.train.latest_checkpoint(model_dir))\n    feed_dict = {\n        'features:0': x_test # shape 102x13\n    }\n    predictions = session.run('logits:0', feed_dict)\n    print(predictions.shape)\nError\nFailedPreconditionError: GetNext() failed because the iterator has not been initialized. Ensure that you have run the initializer operation for this iterator before getting the next element.\n\t [[Node: IteratorGetNext = IteratorGetNext[output_shapes=[[?,13], [?], [?]], output_types=[DT_DOUBLE, DT_DOUBLE, DT_DOUBLE], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Iterator)]]", "body": "I have a similar issue - \r\nI'm trying to load a trained model for inference. In the code snippet below, `features:0` is the name of one of the tensors returned by dataset iterator. Is it possible to directly feed the tensor without having to initialize the iterator ?\r\n\r\nCode \r\n```python\r\nwith tf.Session(graph=tf.Graph()) as session:\r\n    graph_meta = tf.train.latest_checkpoint(model_dir) + '.meta'\r\n    saver = tf.train.import_meta_graph(os.path.join(model_dir, graph_meta))\r\n    saver.restore(session, tf.train.latest_checkpoint(model_dir))\r\n    feed_dict = {\r\n        'features:0': x_test # shape 102x13\r\n    }\r\n    predictions = session.run('logits:0', feed_dict)\r\n    print(predictions.shape)\r\n```\r\nError\r\n```\r\nFailedPreconditionError: GetNext() failed because the iterator has not been initialized. Ensure that you have run the initializer operation for this iterator before getting the next element.\r\n\t [[Node: IteratorGetNext = IteratorGetNext[output_shapes=[[?,13], [?], [?]], output_types=[DT_DOUBLE, DT_DOUBLE, DT_DOUBLE], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](Iterator)]]\r\n```\r\n"}