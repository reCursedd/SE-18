{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/242793904", "html_url": "https://github.com/tensorflow/tensorflow/issues/3816#issuecomment-242793904", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3816", "id": 242793904, "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mjc5MzkwNA==", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-26T17:10:21Z", "updated_at": "2016-08-26T17:10:21Z", "author_association": "MEMBER", "body_html": "<p>These do not necessarily look wrong to me. You are asking for contrast. The contrast formula outputs for each channel c at each pixel i,j<br>\nmean =sum(x(i,j,c),i,j)/(N*M)<br>\nx(i,j,c) = contrast * (x(i,j,c)-mean) + mean<br>\nThis formula can produce values that are greater than 1.  This contrast formula is more general histogram equalization than what a paint program does. A paint program turns contrast into a pointwise operation typically by assuming a 0.5 mean on every channel. So the contrast behavior looks like what I would expect.  To see if you are getting a proper contrast adjustment, try doing contrast and then plotting a histogram of each channel before and after the contrast adjustment.</p>\n<p>Try doing maximum contrast on a color photo in gimp, you'll see the same extreme pixels. The standard contrast there is limited to 127 (which is because they go [0,255] by default). That is equivalent to 0.5 contrast in the [0,1] image scale. So cifar is doing way more, so the extreme pixels will be even more extreme.</p>", "body_text": "These do not necessarily look wrong to me. You are asking for contrast. The contrast formula outputs for each channel c at each pixel i,j\nmean =sum(x(i,j,c),i,j)/(N*M)\nx(i,j,c) = contrast * (x(i,j,c)-mean) + mean\nThis formula can produce values that are greater than 1.  This contrast formula is more general histogram equalization than what a paint program does. A paint program turns contrast into a pointwise operation typically by assuming a 0.5 mean on every channel. So the contrast behavior looks like what I would expect.  To see if you are getting a proper contrast adjustment, try doing contrast and then plotting a histogram of each channel before and after the contrast adjustment.\nTry doing maximum contrast on a color photo in gimp, you'll see the same extreme pixels. The standard contrast there is limited to 127 (which is because they go [0,255] by default). That is equivalent to 0.5 contrast in the [0,1] image scale. So cifar is doing way more, so the extreme pixels will be even more extreme.", "body": "These do not necessarily look wrong to me. You are asking for contrast. The contrast formula outputs for each channel c at each pixel i,j\nmean =sum(x(i,j,c),i,j)/(N*M)\nx(i,j,c) = contrast \\* (x(i,j,c)-mean) + mean\nThis formula can produce values that are greater than 1.  This contrast formula is more general histogram equalization than what a paint program does. A paint program turns contrast into a pointwise operation typically by assuming a 0.5 mean on every channel. So the contrast behavior looks like what I would expect.  To see if you are getting a proper contrast adjustment, try doing contrast and then plotting a histogram of each channel before and after the contrast adjustment.\n\nTry doing maximum contrast on a color photo in gimp, you'll see the same extreme pixels. The standard contrast there is limited to 127 (which is because they go [0,255] by default). That is equivalent to 0.5 contrast in the [0,1] image scale. So cifar is doing way more, so the extreme pixels will be even more extreme.\n"}