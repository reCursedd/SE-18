{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8975", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8975/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8975/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8975/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8975", "id": 219551010, "node_id": "MDU6SXNzdWUyMTk1NTEwMTA=", "number": 8975, "title": "Tensorflow build fails with bazel 0.3.2", "user": {"login": "madhutummi", "id": 26626325, "node_id": "MDQ6VXNlcjI2NjI2MzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/26626325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madhutummi", "html_url": "https://github.com/madhutummi", "followers_url": "https://api.github.com/users/madhutummi/followers", "following_url": "https://api.github.com/users/madhutummi/following{/other_user}", "gists_url": "https://api.github.com/users/madhutummi/gists{/gist_id}", "starred_url": "https://api.github.com/users/madhutummi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madhutummi/subscriptions", "organizations_url": "https://api.github.com/users/madhutummi/orgs", "repos_url": "https://api.github.com/users/madhutummi/repos", "events_url": "https://api.github.com/users/madhutummi/events{/privacy}", "received_events_url": "https://api.github.com/users/madhutummi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-05T11:24:51Z", "updated_at": "2017-04-10T12:01:31Z", "closed_at": "2017-04-05T15:43:53Z", "author_association": "NONE", "body_html": "<p><strong>i am getting include file issue, have installed latest zlib1g-dev, but no luck</strong> any help will be appreciated</p>\n<p><strong>Bazel binaries built from source V0.3.2,</strong><br>\n<strong>TF command:  bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package</strong></p>\n<p>ERROR is ERROR: tensorflow/core/BUILD:853:1: undeclared inclusion(s) in rule '//tensorflow/core:lib_internal':<br>\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/lib/png/png_io.cc':<br>\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zlib.h'<br>\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zconf.h'.\"</p>\n<p>**output from echo | gcc -E -xc++ - -v **</p>\n<p>Using built-in specs.<br>\nCOLLECT_GCC=gcc<br>\nTarget: x86_64-linux-gnu<br>\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1<del>16.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu<br>\nThread model: posix<br>\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1</del>16.04.4)<br>\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'<br>\n/usr/lib/gcc/x86_64-linux-gnu/5/cc1plus -E -quiet -v -imultiarch x86_64-linux-gnu -D_GNU_SOURCE - -mtune=generic -march=x86-64 -fstack-protector-strong -Wformat -Wformat-security<br>\nignoring duplicate directory \"/usr/include/x86_64-linux-gnu/c++/5\"<br>\nignoring nonexistent directory \"/usr/local/include/x86_64-linux-gnu\"<br>\nignoring nonexistent directory \"/usr/lib/gcc/x86_64-linux-gnu/5/../../../../x86_64-linux-gnu/include\"<br>\n#include \"...\" search starts here:<br>\n#include &lt;...&gt; search starts here:<br>\n/usr/include/c++/5<br>\n/usr/include/x86_64-linux-gnu/c++/5<br>\n/usr/include/c++/5/backward<br>\n/usr/lib/gcc/x86_64-linux-gnu/5/include<br>\n/usr/local/include<br>\n/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed<br>\n/usr/include/x86_64-linux-gnu<br>\n/usr/include<br>\nEnd of search list.</p>\n<h1>1 \"\"</h1>\n<h1>1 \"\"</h1>\n<h1>1 \"\"</h1>\n<h1>1 \"/usr/include/stdc-predef.h\" 1 3 4</h1>\n<h1>1 \"\" 2</h1>\n<h1>1 \"\"</h1>\n<p>COMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/<br>\nLIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../:/lib/:/usr/lib/<br>\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'</p>", "body_text": "i am getting include file issue, have installed latest zlib1g-dev, but no luck any help will be appreciated\nBazel binaries built from source V0.3.2,\nTF command:  bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\nERROR is ERROR: tensorflow/core/BUILD:853:1: undeclared inclusion(s) in rule '//tensorflow/core:lib_internal':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/lib/png/png_io.cc':\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zlib.h'\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zconf.h'.\"\n**output from echo | gcc -E -xc++ - -v **\nUsing built-in specs.\nCOLLECT_GCC=gcc\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu116.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu116.04.4)\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\n/usr/lib/gcc/x86_64-linux-gnu/5/cc1plus -E -quiet -v -imultiarch x86_64-linux-gnu -D_GNU_SOURCE - -mtune=generic -march=x86-64 -fstack-protector-strong -Wformat -Wformat-security\nignoring duplicate directory \"/usr/include/x86_64-linux-gnu/c++/5\"\nignoring nonexistent directory \"/usr/local/include/x86_64-linux-gnu\"\nignoring nonexistent directory \"/usr/lib/gcc/x86_64-linux-gnu/5/../../../../x86_64-linux-gnu/include\"\n#include \"...\" search starts here:\n#include <...> search starts here:\n/usr/include/c++/5\n/usr/include/x86_64-linux-gnu/c++/5\n/usr/include/c++/5/backward\n/usr/lib/gcc/x86_64-linux-gnu/5/include\n/usr/local/include\n/usr/lib/gcc/x86_64-linux-gnu/5/include-fixed\n/usr/include/x86_64-linux-gnu\n/usr/include\nEnd of search list.\n1 \"\"\n1 \"\"\n1 \"\"\n1 \"/usr/include/stdc-predef.h\" 1 3 4\n1 \"\" 2\n1 \"\"\nCOMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/\nLIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'", "body": "**i am getting include file issue, have installed latest zlib1g-dev, but no luck** any help will be appreciated \r\n\r\n**Bazel binaries built from source V0.3.2,**\r\n**TF command:  bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package**\r\n\r\nERROR is ERROR: tensorflow/core/BUILD:853:1: undeclared inclusion(s) in rule '//tensorflow/core:lib_internal':\r\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/lib/png/png_io.cc':\r\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zlib.h'\r\n~/.cache/bazel/_bazel_madhu/a9aabe45cf3d94341ef4fb777deb58c5/external/zlib_archive/zconf.h'.\"\r\n\r\n**output from echo | gcc -E -xc++ - -v ** \r\n\r\n\r\n\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.4.0-6ubuntu1~16.04.4' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4)\r\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\r\n /usr/lib/gcc/x86_64-linux-gnu/5/cc1plus -E -quiet -v -imultiarch x86_64-linux-gnu -D_GNU_SOURCE - -mtune=generic -march=x86-64 -fstack-protector-strong -Wformat -Wformat-security\r\nignoring duplicate directory \"/usr/include/x86_64-linux-gnu/c++/5\"\r\nignoring nonexistent directory \"/usr/local/include/x86_64-linux-gnu\"\r\nignoring nonexistent directory \"/usr/lib/gcc/x86_64-linux-gnu/5/../../../../x86_64-linux-gnu/include\"\r\n#include \"...\" search starts here:\r\n#include <...> search starts here:\r\n /usr/include/c++/5\r\n /usr/include/x86_64-linux-gnu/c++/5\r\n /usr/include/c++/5/backward\r\n /usr/lib/gcc/x86_64-linux-gnu/5/include\r\n /usr/local/include\r\n /usr/lib/gcc/x86_64-linux-gnu/5/include-fixed\r\n /usr/include/x86_64-linux-gnu\r\n /usr/include\r\nEnd of search list.\r\n# 1 \"<stdin>\"\r\n# 1 \"<built-in>\"\r\n# 1 \"<command-line>\"\r\n# 1 \"/usr/include/stdc-predef.h\" 1 3 4\r\n# 1 \"<command-line>\" 2\r\n# 1 \"<stdin>\"\r\nCOMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/\r\nLIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/5/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/5/../../../:/lib/:/usr/lib/\r\nCOLLECT_GCC_OPTIONS='-E' '-v' '-mtune=generic' '-march=x86-64'\r\n"}