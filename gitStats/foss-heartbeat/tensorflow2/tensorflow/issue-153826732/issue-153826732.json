{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2294", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2294/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2294/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2294/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2294", "id": 153826732, "node_id": "MDU6SXNzdWUxNTM4MjY3MzI=", "number": 2294, "title": "Feature Request: Let tf.scan accept/return tuples of Tensors in addition to just Tensors", "user": {"login": "rdipietro", "id": 5150559, "node_id": "MDQ6VXNlcjUxNTA1NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5150559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdipietro", "html_url": "https://github.com/rdipietro", "followers_url": "https://api.github.com/users/rdipietro/followers", "following_url": "https://api.github.com/users/rdipietro/following{/other_user}", "gists_url": "https://api.github.com/users/rdipietro/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdipietro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdipietro/subscriptions", "organizations_url": "https://api.github.com/users/rdipietro/orgs", "repos_url": "https://api.github.com/users/rdipietro/repos", "events_url": "https://api.github.com/users/rdipietro/events{/privacy}", "received_events_url": "https://api.github.com/users/rdipietro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2016-05-09T17:24:05Z", "updated_at": "2017-02-09T22:37:20Z", "closed_at": "2017-01-24T00:29:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Right now, <code>tf.scan</code> splits <code>Tensors</code> along dimension 0, and to process multiple state/input <code>Tensors</code> with <code>tf.scan</code>, we need to concatenate/split. For example, to create an LSTM block using <code>tf.scan</code>, we might have something like</p>\n<pre><code>def lstm_block(c_prev_and_m_prev, x):\n    c_prev, m_prev = tf.split(1, 2, c_prev_and_m_prev)\n    # Compute new c, m\n    c_and_m = tf.concat(1, [c, m])\n    return c_and_m\n</code></pre>\n<p>This has been asked about by others in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"144938276\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1725\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1725/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1725\">#1725</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"150685969\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rdipietro/jupyter-notebooks/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rdipietro/jupyter-notebooks/issues/2/hovercard\" href=\"https://github.com/rdipietro/jupyter-notebooks/issues/2\">rdipietro/jupyter-notebooks#2</a></p>\n<p>Also, if we hope to process multiple <code>Tensors</code> with significantly different shapes, then the current solution will become even less concise, as we'd probably have to do something like flatten, maintain shape info, unflatten, etc.</p>\n<p>I can probably make this change if it's something that'd be accepted.</p>", "body_text": "Right now, tf.scan splits Tensors along dimension 0, and to process multiple state/input Tensors with tf.scan, we need to concatenate/split. For example, to create an LSTM block using tf.scan, we might have something like\ndef lstm_block(c_prev_and_m_prev, x):\n    c_prev, m_prev = tf.split(1, 2, c_prev_and_m_prev)\n    # Compute new c, m\n    c_and_m = tf.concat(1, [c, m])\n    return c_and_m\n\nThis has been asked about by others in #1725 and rdipietro/jupyter-notebooks#2\nAlso, if we hope to process multiple Tensors with significantly different shapes, then the current solution will become even less concise, as we'd probably have to do something like flatten, maintain shape info, unflatten, etc.\nI can probably make this change if it's something that'd be accepted.", "body": "Right now, `tf.scan` splits `Tensors` along dimension 0, and to process multiple state/input `Tensors` with `tf.scan`, we need to concatenate/split. For example, to create an LSTM block using `tf.scan`, we might have something like\n\n```\ndef lstm_block(c_prev_and_m_prev, x):\n    c_prev, m_prev = tf.split(1, 2, c_prev_and_m_prev)\n    # Compute new c, m\n    c_and_m = tf.concat(1, [c, m])\n    return c_and_m\n```\n\nThis has been asked about by others in https://github.com/tensorflow/tensorflow/issues/1725 and https://github.com/rdipietro/jupyter-notebooks/issues/2\n\nAlso, if we hope to process multiple `Tensors` with significantly different shapes, then the current solution will become even less concise, as we'd probably have to do something like flatten, maintain shape info, unflatten, etc.\n\nI can probably make this change if it's something that'd be accepted.\n"}