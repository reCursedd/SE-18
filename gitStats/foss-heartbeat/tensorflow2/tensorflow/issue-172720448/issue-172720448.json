{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3985", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3985/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3985/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3985/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3985", "id": 172720448, "node_id": "MDU6SXNzdWUxNzI3MjA0NDg=", "number": 3985, "title": "Refactored GPU installation from source issue (Ubuntu 16.04) ", "user": {"login": "Mazecreator", "id": 18412448, "node_id": "MDQ6VXNlcjE4NDEyNDQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/18412448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mazecreator", "html_url": "https://github.com/Mazecreator", "followers_url": "https://api.github.com/users/Mazecreator/followers", "following_url": "https://api.github.com/users/Mazecreator/following{/other_user}", "gists_url": "https://api.github.com/users/Mazecreator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mazecreator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mazecreator/subscriptions", "organizations_url": "https://api.github.com/users/Mazecreator/orgs", "repos_url": "https://api.github.com/users/Mazecreator/repos", "events_url": "https://api.github.com/users/Mazecreator/events{/privacy}", "received_events_url": "https://api.github.com/users/Mazecreator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284463744, "node_id": "MDU6TGFiZWwyODQ0NjM3NDQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cuda", "name": "cuda", "color": "f7c6c7", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidzchen", "id": 5283042, "node_id": "MDQ6VXNlcjUyODMwNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidzchen", "html_url": "https://github.com/davidzchen", "followers_url": "https://api.github.com/users/davidzchen/followers", "following_url": "https://api.github.com/users/davidzchen/following{/other_user}", "gists_url": "https://api.github.com/users/davidzchen/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidzchen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidzchen/subscriptions", "organizations_url": "https://api.github.com/users/davidzchen/orgs", "repos_url": "https://api.github.com/users/davidzchen/repos", "events_url": "https://api.github.com/users/davidzchen/events{/privacy}", "received_events_url": "https://api.github.com/users/davidzchen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2016-08-23T14:51:14Z", "updated_at": "2017-02-09T22:02:09Z", "closed_at": "2016-10-31T16:15:24Z", "author_association": "CONTRIBUTOR", "body_html": "<p>It looks like the GPU installation from source got refactored and is failing to compile on my Ubuntu 16.04, CUDA 8.0, cuDNN 5.0, with GTX 1080 GPU.</p>\n<p>I had the GTX 1080 working with the build from a few days ago, but just pulled from the head and now cannot compile so I am not sure if this is the auto_configure for the GPU or not I saw going though.</p>\n<p>$ git rev-parse HEAD<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/6d04d601e9e8758ec4642fa9d548b7321d804d63/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/6d04d601e9e8758ec4642fa9d548b7321d804d63\"><tt>6d04d60</tt></a></p>\n<p>$ bazel version<br>\nBuild label: 0.3.1<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)<br>\nBuild timestamp: 1469783392<br>\nBuild timestamp as int: 1469783392</p>\n<p>$ ./configure</p>\n<p>GPU configured</p>\n<p>INFO: All external dependencies fetch successfully.<br>\nConfiguration finished</p>\n<p>$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1&gt;~/initial_output.txt 2&gt;&amp;1<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/432724/initial_output.txt\">initial_output.txt</a></p>\n<p>GPU CUDA includes were not found so I added line to new file: CROSSTOOL.tpl @ line 66</p>\n<p>cxx_builtin_include_directory: \"/usr/local/cuda-8.0/include\"</p>\n<p>$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1&gt;~/second_output.txt 2&gt;&amp;1<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/432726/second_output.txt\">second_output.txt</a></p>\n<p>I think it is complaining about not finding \"crosstool_wrapper_driver_is_not_gcc\".</p>\n<p>I did a \"locate\" and my version seems to be at the following:<br>\n$ locate crosstool_wrapper_driver_is_not_gcc<br>\n/home/greg/serving/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc<br>\n/home/greg/serving/tf_models/syntaxnet/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc<br>\n/home/greg/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl</p>\n<p>Let me know where the file is that has the path to the crosstool_wrapper.... and I can update the path to test that as a fix unless you know the root cause...</p>\n<p>EDIT: BTW, the build works fine without the GPU configuration</p>", "body_text": "It looks like the GPU installation from source got refactored and is failing to compile on my Ubuntu 16.04, CUDA 8.0, cuDNN 5.0, with GTX 1080 GPU.\nI had the GTX 1080 working with the build from a few days ago, but just pulled from the head and now cannot compile so I am not sure if this is the auto_configure for the GPU or not I saw going though.\n$ git rev-parse HEAD\n6d04d60\n$ bazel version\nBuild label: 0.3.1\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\nBuild timestamp: 1469783392\nBuild timestamp as int: 1469783392\n$ ./configure\nGPU configured\nINFO: All external dependencies fetch successfully.\nConfiguration finished\n$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1>~/initial_output.txt 2>&1\ninitial_output.txt\nGPU CUDA includes were not found so I added line to new file: CROSSTOOL.tpl @ line 66\ncxx_builtin_include_directory: \"/usr/local/cuda-8.0/include\"\n$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1>~/second_output.txt 2>&1\nsecond_output.txt\nI think it is complaining about not finding \"crosstool_wrapper_driver_is_not_gcc\".\nI did a \"locate\" and my version seems to be at the following:\n$ locate crosstool_wrapper_driver_is_not_gcc\n/home/greg/serving/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\n/home/greg/serving/tf_models/syntaxnet/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\n/home/greg/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\nLet me know where the file is that has the path to the crosstool_wrapper.... and I can update the path to test that as a fix unless you know the root cause...\nEDIT: BTW, the build works fine without the GPU configuration", "body": "It looks like the GPU installation from source got refactored and is failing to compile on my Ubuntu 16.04, CUDA 8.0, cuDNN 5.0, with GTX 1080 GPU.\n\nI had the GTX 1080 working with the build from a few days ago, but just pulled from the head and now cannot compile so I am not sure if this is the auto_configure for the GPU or not I saw going though.\n\n$ git rev-parse HEAD\n6d04d601e9e8758ec4642fa9d548b7321d804d63\n\n$ bazel version\nBuild label: 0.3.1\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\nBuild timestamp: 1469783392\nBuild timestamp as int: 1469783392\n\n$ ./configure\n\nGPU configured\n\nINFO: All external dependencies fetch successfully.\nConfiguration finished\n\n$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1>~/initial_output.txt 2>&1 \n[initial_output.txt](https://github.com/tensorflow/tensorflow/files/432724/initial_output.txt)\n\nGPU CUDA includes were not found so I added line to new file: CROSSTOOL.tpl @ line 66\n\n  cxx_builtin_include_directory: \"/usr/local/cuda-8.0/include\"\n\n$ bazel build -c opt --config=cuda --verbose_failures //tensorflow/tools/pip_package:build_pip_package  1>~/second_output.txt 2>&1 \n[second_output.txt](https://github.com/tensorflow/tensorflow/files/432726/second_output.txt)\n\nI think it is complaining about not finding \"crosstool_wrapper_driver_is_not_gcc\".\n\nI did a \"locate\" and my version seems to be at the following:\n$ locate crosstool_wrapper_driver_is_not_gcc\n/home/greg/serving/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\n/home/greg/serving/tf_models/syntaxnet/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc\n/home/greg/tensorflow/third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc.tpl\n\nLet me know where the file is that has the path to the crosstool_wrapper.... and I can update the path to test that as a fix unless you know the root cause...\n\nEDIT: BTW, the build works fine without the GPU configuration\n"}