{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/322406221", "html_url": "https://github.com/tensorflow/tensorflow/issues/5396#issuecomment-322406221", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5396", "id": 322406221, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjQwNjIyMQ==", "user": {"login": "Rojina99", "id": 13509437, "node_id": "MDQ6VXNlcjEzNTA5NDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/13509437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rojina99", "html_url": "https://github.com/Rojina99", "followers_url": "https://api.github.com/users/Rojina99/followers", "following_url": "https://api.github.com/users/Rojina99/following{/other_user}", "gists_url": "https://api.github.com/users/Rojina99/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rojina99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rojina99/subscriptions", "organizations_url": "https://api.github.com/users/Rojina99/orgs", "repos_url": "https://api.github.com/users/Rojina99/repos", "events_url": "https://api.github.com/users/Rojina99/events{/privacy}", "received_events_url": "https://api.github.com/users/Rojina99/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-15T08:11:19Z", "updated_at": "2017-08-15T08:21:56Z", "author_association": "NONE", "body_html": "<p>Can you help me understand this problem.I am also having the same problem, I am checking the function values with Interactive session as</p>\n<pre><code>def ptb_producer(raw_data, batch_size, num_steps, name=None):\n  session = tf.InteractiveSession()\n  with tf.name_scope(name, \"PTBProducer\", [raw_data, batch_size, num_steps]):\n    raw_data = tf.convert_to_tensor(raw_data, name=\"raw_data\", dtype=tf.int32)\n    data_len = tf.size(raw_data)\n    print(\"Data Len\", data_len.eval())\n    batch_len = data_len // batch_size\n    print(\"Batch Len\", batch_len.eval())\n    data = tf.reshape(raw_data[0 : batch_size * batch_len],\n                      [batch_size, batch_len])\n    print(\"Data\", data.eval())\n    a = tf.shape(data)\n    print(\"Data Size\", a.eval())\n    epoch_size = (batch_len - 1) // num_steps\n    print(\"Epoch_Size\", epoch_size.eval())\n    assertion = tf.assert_positive(\n        epoch_size,\n        message=\"epoch_size == 0, decrease batch_size or num_steps\")\n    with tf.control_dependencies([assertion]):\n      epoch_size = tf.identity(epoch_size, name=\"epoch_size\")\n    # session.run(tf.global_variables_initializer())\n    threads = tf.train.start_queue_runners()\n    # session.run(threads)\n    i = tf.train.range_input_producer(epoch_size, shuffle=False).dequeue()\n    print(\"i\", i.eval())\n    x = tf.strided_slice(data, [0, i * num_steps],\n                         [batch_size, (i + 1) * num_steps])\n    print(\"x\", x.eval())\n    x.set_shape([batch_size, num_steps])\n    print(\"x\", x.eval())\n    y = tf.strided_slice(data, [0, i * num_steps + 1],\n                         [batch_size, (i + 1) * num_steps + 1])\n    print(\"y\", y.eval())\n    y.set_shape([batch_size, num_steps])\n    print(\"y\", y.eval())\n    return x, y\n\nraw_data = ptb_raw_data(\"DataPath\")\nptb_producer(raw_data[0], batch_size=25, num_steps=7)\n</code></pre>\n<p>But I could not get any output at print(\"i\", i.eval()) and the process also kept running</p>", "body_text": "Can you help me understand this problem.I am also having the same problem, I am checking the function values with Interactive session as\ndef ptb_producer(raw_data, batch_size, num_steps, name=None):\n  session = tf.InteractiveSession()\n  with tf.name_scope(name, \"PTBProducer\", [raw_data, batch_size, num_steps]):\n    raw_data = tf.convert_to_tensor(raw_data, name=\"raw_data\", dtype=tf.int32)\n    data_len = tf.size(raw_data)\n    print(\"Data Len\", data_len.eval())\n    batch_len = data_len // batch_size\n    print(\"Batch Len\", batch_len.eval())\n    data = tf.reshape(raw_data[0 : batch_size * batch_len],\n                      [batch_size, batch_len])\n    print(\"Data\", data.eval())\n    a = tf.shape(data)\n    print(\"Data Size\", a.eval())\n    epoch_size = (batch_len - 1) // num_steps\n    print(\"Epoch_Size\", epoch_size.eval())\n    assertion = tf.assert_positive(\n        epoch_size,\n        message=\"epoch_size == 0, decrease batch_size or num_steps\")\n    with tf.control_dependencies([assertion]):\n      epoch_size = tf.identity(epoch_size, name=\"epoch_size\")\n    # session.run(tf.global_variables_initializer())\n    threads = tf.train.start_queue_runners()\n    # session.run(threads)\n    i = tf.train.range_input_producer(epoch_size, shuffle=False).dequeue()\n    print(\"i\", i.eval())\n    x = tf.strided_slice(data, [0, i * num_steps],\n                         [batch_size, (i + 1) * num_steps])\n    print(\"x\", x.eval())\n    x.set_shape([batch_size, num_steps])\n    print(\"x\", x.eval())\n    y = tf.strided_slice(data, [0, i * num_steps + 1],\n                         [batch_size, (i + 1) * num_steps + 1])\n    print(\"y\", y.eval())\n    y.set_shape([batch_size, num_steps])\n    print(\"y\", y.eval())\n    return x, y\n\nraw_data = ptb_raw_data(\"DataPath\")\nptb_producer(raw_data[0], batch_size=25, num_steps=7)\n\nBut I could not get any output at print(\"i\", i.eval()) and the process also kept running", "body": "Can you help me understand this problem.I am also having the same problem, I am checking the function values with Interactive session as\r\n\r\n```\r\ndef ptb_producer(raw_data, batch_size, num_steps, name=None):\r\n  session = tf.InteractiveSession()\r\n  with tf.name_scope(name, \"PTBProducer\", [raw_data, batch_size, num_steps]):\r\n    raw_data = tf.convert_to_tensor(raw_data, name=\"raw_data\", dtype=tf.int32)\r\n    data_len = tf.size(raw_data)\r\n    print(\"Data Len\", data_len.eval())\r\n    batch_len = data_len // batch_size\r\n    print(\"Batch Len\", batch_len.eval())\r\n    data = tf.reshape(raw_data[0 : batch_size * batch_len],\r\n                      [batch_size, batch_len])\r\n    print(\"Data\", data.eval())\r\n    a = tf.shape(data)\r\n    print(\"Data Size\", a.eval())\r\n    epoch_size = (batch_len - 1) // num_steps\r\n    print(\"Epoch_Size\", epoch_size.eval())\r\n    assertion = tf.assert_positive(\r\n        epoch_size,\r\n        message=\"epoch_size == 0, decrease batch_size or num_steps\")\r\n    with tf.control_dependencies([assertion]):\r\n      epoch_size = tf.identity(epoch_size, name=\"epoch_size\")\r\n    # session.run(tf.global_variables_initializer())\r\n    threads = tf.train.start_queue_runners()\r\n    # session.run(threads)\r\n    i = tf.train.range_input_producer(epoch_size, shuffle=False).dequeue()\r\n    print(\"i\", i.eval())\r\n    x = tf.strided_slice(data, [0, i * num_steps],\r\n                         [batch_size, (i + 1) * num_steps])\r\n    print(\"x\", x.eval())\r\n    x.set_shape([batch_size, num_steps])\r\n    print(\"x\", x.eval())\r\n    y = tf.strided_slice(data, [0, i * num_steps + 1],\r\n                         [batch_size, (i + 1) * num_steps + 1])\r\n    print(\"y\", y.eval())\r\n    y.set_shape([batch_size, num_steps])\r\n    print(\"y\", y.eval())\r\n    return x, y\r\n\r\nraw_data = ptb_raw_data(\"DataPath\")\r\nptb_producer(raw_data[0], batch_size=25, num_steps=7)\r\n```\r\n\r\nBut I could not get any output at print(\"i\", i.eval()) and the process also kept running"}