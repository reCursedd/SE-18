{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/233501077", "html_url": "https://github.com/tensorflow/tensorflow/issues/3356#issuecomment-233501077", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3356", "id": 233501077, "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzUwMTA3Nw==", "user": {"login": "whdc", "id": 1276847, "node_id": "MDQ6VXNlcjEyNzY4NDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1276847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whdc", "html_url": "https://github.com/whdc", "followers_url": "https://api.github.com/users/whdc/followers", "following_url": "https://api.github.com/users/whdc/following{/other_user}", "gists_url": "https://api.github.com/users/whdc/gists{/gist_id}", "starred_url": "https://api.github.com/users/whdc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whdc/subscriptions", "organizations_url": "https://api.github.com/users/whdc/orgs", "repos_url": "https://api.github.com/users/whdc/repos", "events_url": "https://api.github.com/users/whdc/events{/privacy}", "received_events_url": "https://api.github.com/users/whdc/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-19T00:48:12Z", "updated_at": "2016-07-19T00:48:12Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a>, <code>xx</code> is a tensor of reals, so <code>g</code> is a gradient of a real w.r.t. reals.  Supporting this is the fact that the expression <code>tf.real(tf.reduce_sum(g))</code> produces the following error:</p>\n<pre><code>&gt;&gt;&gt; tf.real(tf.reduce_sum(g))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.py\", line 398, in real\n    return gen_math_ops.real(input, Tout=input.dtype.real_dtype, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.py\", line 1516, in real\n    result = _op_def_lib.apply_op(\"Real\", input=input, Tout=Tout, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 530, in apply_op\n    _Attr(op_def, input_arg.type_attr))\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 61, in _SatisfiesTypeConstraint\n    \", \".join(dtypes.as_dtype(x).name for x in allowed_list)))\nTypeError: DataType float32 for attr 'T' not in list of allowed values: complex64, complex128\n</code></pre>", "body_text": "@girving, xx is a tensor of reals, so g is a gradient of a real w.r.t. reals.  Supporting this is the fact that the expression tf.real(tf.reduce_sum(g)) produces the following error:\n>>> tf.real(tf.reduce_sum(g))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.py\", line 398, in real\n    return gen_math_ops.real(input, Tout=input.dtype.real_dtype, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.py\", line 1516, in real\n    result = _op_def_lib.apply_op(\"Real\", input=input, Tout=Tout, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 530, in apply_op\n    _Attr(op_def, input_arg.type_attr))\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 61, in _SatisfiesTypeConstraint\n    \", \".join(dtypes.as_dtype(x).name for x in allowed_list)))\nTypeError: DataType float32 for attr 'T' not in list of allowed values: complex64, complex128", "body": "@girving, `xx` is a tensor of reals, so `g` is a gradient of a real w.r.t. reals.  Supporting this is the fact that the expression `tf.real(tf.reduce_sum(g))` produces the following error:\n\n```\n>>> tf.real(tf.reduce_sum(g))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/math_ops.py\", line 398, in real\n    return gen_math_ops.real(input, Tout=input.dtype.real_dtype, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_math_ops.py\", line 1516, in real\n    result = _op_def_lib.apply_op(\"Real\", input=input, Tout=Tout, name=name)\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 530, in apply_op\n    _Attr(op_def, input_arg.type_attr))\n  File \"/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 61, in _SatisfiesTypeConstraint\n    \", \".join(dtypes.as_dtype(x).name for x in allowed_list)))\nTypeError: DataType float32 for attr 'T' not in list of allowed values: complex64, complex128\n```\n"}