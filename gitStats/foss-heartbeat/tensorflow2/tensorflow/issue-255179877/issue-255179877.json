{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12813", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12813/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12813/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12813/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12813", "id": 255179877, "node_id": "MDU6SXNzdWUyNTUxNzk4Nzc=", "number": 12813, "title": "How to add a user_ops to android .so file ?", "user": {"login": "scucheri", "id": 10495849, "node_id": "MDQ6VXNlcjEwNDk1ODQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/10495849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scucheri", "html_url": "https://github.com/scucheri", "followers_url": "https://api.github.com/users/scucheri/followers", "following_url": "https://api.github.com/users/scucheri/following{/other_user}", "gists_url": "https://api.github.com/users/scucheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/scucheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scucheri/subscriptions", "organizations_url": "https://api.github.com/users/scucheri/orgs", "repos_url": "https://api.github.com/users/scucheri/repos", "events_url": "https://api.github.com/users/scucheri/events{/privacy}", "received_events_url": "https://api.github.com/users/scucheri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-09-05T07:11:15Z", "updated_at": "2018-07-20T12:07:31Z", "closed_at": "2018-03-08T06:04:06Z", "author_association": "NONE", "body_html": "<h3>Discription</h3>\n<p>I want to add a custom op for tensorflow and use it in android app. But I find it only tell us how to add an op in python . I put my own .cc file witch contains register code into the user_ops folder and bazel build again to generate a new .so file . But when I test this .so in android code, It says the custom op is not registered and crashed. How can I succeed to register a new op and build it into the android .so file?</p>\n<p>And I found that there are two folder named \"user_ops\" : tensorflow/tensorflow/user_ops ; and tensorflow/tensorflow/core/user_ops;  witch folder should I put my ops in ?</p>\n<p>Hope for your answer. Thank you so much!</p>\n<hr>\n<h3>System information</h3>\n<p>Tensorflow r1.2</p>\n<h3>Source code / logs</h3>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/10495849/30049205-4bb48d28-924c-11e7-828e-62e14ba2e9a6.png\"><img src=\"https://user-images.githubusercontent.com/10495849/30049205-4bb48d28-924c-11e7-828e-62e14ba2e9a6.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/10495849/30049227-658ed708-924c-11e7-8a77-0fa3cb4a1105.png\"><img src=\"https://user-images.githubusercontent.com/10495849/30049227-658ed708-924c-11e7-8a77-0fa3cb4a1105.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/10495849/30049236-6cfa6b06-924c-11e7-8384-6de337db0807.png\"><img src=\"https://user-images.githubusercontent.com/10495849/30049236-6cfa6b06-924c-11e7-8384-6de337db0807.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>", "body_text": "Discription\nI want to add a custom op for tensorflow and use it in android app. But I find it only tell us how to add an op in python . I put my own .cc file witch contains register code into the user_ops folder and bazel build again to generate a new .so file . But when I test this .so in android code, It says the custom op is not registered and crashed. How can I succeed to register a new op and build it into the android .so file?\nAnd I found that there are two folder named \"user_ops\" : tensorflow/tensorflow/user_ops ; and tensorflow/tensorflow/core/user_ops;  witch folder should I put my ops in ?\nHope for your answer. Thank you so much!\n\nSystem information\nTensorflow r1.2\nSource code / logs", "body": "### Discription\r\nI want to add a custom op for tensorflow and use it in android app. But I find it only tell us how to add an op in python . I put my own .cc file witch contains register code into the user_ops folder and bazel build again to generate a new .so file . But when I test this .so in android code, It says the custom op is not registered and crashed. How can I succeed to register a new op and build it into the android .so file? \r\n\r\nAnd I found that there are two folder named \"user_ops\" : tensorflow/tensorflow/user_ops ; and tensorflow/tensorflow/core/user_ops;  witch folder should I put my ops in ?  \r\n\r\nHope for your answer. Thank you so much!\r\n\r\n------------------------\r\n\r\n### System information\r\nTensorflow r1.2\r\n\r\n### Source code / logs\r\n![image](https://user-images.githubusercontent.com/10495849/30049205-4bb48d28-924c-11e7-828e-62e14ba2e9a6.png)\r\n\r\n![image](https://user-images.githubusercontent.com/10495849/30049227-658ed708-924c-11e7-8a77-0fa3cb4a1105.png)\r\n\r\n![image](https://user-images.githubusercontent.com/10495849/30049236-6cfa6b06-924c-11e7-8384-6de337db0807.png)\r\n\r\n\r\n\r\n\r\n"}