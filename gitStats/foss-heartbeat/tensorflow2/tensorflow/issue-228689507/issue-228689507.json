{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9912", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9912/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9912/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9912/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9912", "id": 228689507, "node_id": "MDU6SXNzdWUyMjg2ODk1MDc=", "number": 9912, "title": "Bazel Build fails with missing input file error @grpc", "user": {"login": "YadavKapil", "id": 3341076, "node_id": "MDQ6VXNlcjMzNDEwNzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3341076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YadavKapil", "html_url": "https://github.com/YadavKapil", "followers_url": "https://api.github.com/users/YadavKapil/followers", "following_url": "https://api.github.com/users/YadavKapil/following{/other_user}", "gists_url": "https://api.github.com/users/YadavKapil/gists{/gist_id}", "starred_url": "https://api.github.com/users/YadavKapil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YadavKapil/subscriptions", "organizations_url": "https://api.github.com/users/YadavKapil/orgs", "repos_url": "https://api.github.com/users/YadavKapil/repos", "events_url": "https://api.github.com/users/YadavKapil/events{/privacy}", "received_events_url": "https://api.github.com/users/YadavKapil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-15T11:50:50Z", "updated_at": "2017-05-15T14:31:11Z", "closed_at": "2017-05-15T14:31:11Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: No. Stock script is used.</li>\n<li><strong>OS Platform and Distribution</strong>: CentOS Linux release 7.2.1511.</li>\n<li><strong>TensorFlow installed from</strong> : Source.</li>\n<li><strong>Bazel version</strong>: 0.4.5</li>\n<li><strong>CUDA/cuDNN version</strong>: 7.5</li>\n<li><strong>Exact command to reproduce</strong>:<br>\n./bazel build --config=opt --config=cuda --spawn_strategy=standalone --genrule_strategy=standalone //tensorflow/tools/pip_package:build_pip_package</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>I am installing Tensorflow 1.1 on a system where I do not have root priviliges. Upon running Bazel command (mentioned above), I get the following error -</p>\n<p><strong>missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'.</strong></p>\n<p>I need to include the path of gprc to the Bazel. However, I do not know how to find the location of these files and how to refer them to Bazel. I have tried to find these files in the filesystem and bazel downloads, but couldnt find them.</p>\n<h4>Another insteresting thing that is happening is -</h4>\n<p>Everytime I run the bazel command again, it gives me different error each time ( However, they all are related to \"@grpc//: \". Some of the other errors I got were -</p>\n<p>ERROR: missing input file '@grpc//:include/grpc++/impl/service_type.h'.<br>\nERROR: missing input file '@grpc//:LICENSE'.<br>\nERROR: missing input file '@grpc//:include/grpc++/server_builder.h'.<br>\netc.</p>\n<h3>Error Log</h3>\n<p><code>ERROR: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'. ERROR: /home_dir/xxxxx/nn/installation/tensorflow/tensorflow/core/BUILD:1308:1: C++ compilation of rule '//tensorflow/core:lib_hash_crc32c_accelerate_internal' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15. ERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1: @grpc//:grpc++_unsecure: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'. Target //tensorflow/tools/pip_package:build_pip_package failed to build Use --verbose_failures to see the command lines of failed build steps. ERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1 1 input file(s) do not exist. INFO: Elapsed time: 13.184s, Critical Path: 2.25s</code></p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): No. Stock script is used.\nOS Platform and Distribution: CentOS Linux release 7.2.1511.\nTensorFlow installed from : Source.\nBazel version: 0.4.5\nCUDA/cuDNN version: 7.5\nExact command to reproduce:\n./bazel build --config=opt --config=cuda --spawn_strategy=standalone --genrule_strategy=standalone //tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nI am installing Tensorflow 1.1 on a system where I do not have root priviliges. Upon running Bazel command (mentioned above), I get the following error -\nmissing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'.\nI need to include the path of gprc to the Bazel. However, I do not know how to find the location of these files and how to refer them to Bazel. I have tried to find these files in the filesystem and bazel downloads, but couldnt find them.\nAnother insteresting thing that is happening is -\nEverytime I run the bazel command again, it gives me different error each time ( However, they all are related to \"@grpc//: \". Some of the other errors I got were -\nERROR: missing input file '@grpc//:include/grpc++/impl/service_type.h'.\nERROR: missing input file '@grpc//:LICENSE'.\nERROR: missing input file '@grpc//:include/grpc++/server_builder.h'.\netc.\nError Log\nERROR: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'. ERROR: /home_dir/xxxxx/nn/installation/tensorflow/tensorflow/core/BUILD:1308:1: C++ compilation of rule '//tensorflow/core:lib_hash_crc32c_accelerate_internal' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15. ERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1: @grpc//:grpc++_unsecure: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'. Target //tensorflow/tools/pip_package:build_pip_package failed to build Use --verbose_failures to see the command lines of failed build steps. ERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1 1 input file(s) do not exist. INFO: Elapsed time: 13.184s, Critical Path: 2.25s", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No. Stock script is used.\r\n- **OS Platform and Distribution**: CentOS Linux release 7.2.1511. \r\n- **TensorFlow installed from** : Source.\r\n- **Bazel version**: 0.4.5\r\n- **CUDA/cuDNN version**: 7.5\r\n- **Exact command to reproduce**:\r\n./bazel build --config=opt --config=cuda --spawn_strategy=standalone --genrule_strategy=standalone //tensorflow/tools/pip_package:build_pip_package\r\n\r\n### Describe the problem\r\nI am installing Tensorflow 1.1 on a system where I do not have root priviliges. Upon running Bazel command (mentioned above), I get the following error - \r\n\r\n**missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'.**\r\n\r\nI need to include the path of gprc to the Bazel. However, I do not know how to find the location of these files and how to refer them to Bazel. I have tried to find these files in the filesystem and bazel downloads, but couldnt find them.\r\n\r\n#### Another insteresting thing that is happening is - \r\nEverytime I run the bazel command again, it gives me different error each time ( However, they all are related to \"@grpc//: \". Some of the other errors I got were - \r\n\r\nERROR: missing input file '@grpc//:include/grpc++/impl/service_type.h'.\r\nERROR: missing input file '@grpc//:LICENSE'.\r\nERROR: missing input file '@grpc//:include/grpc++/server_builder.h'.\r\netc.\r\n\r\n### Error Log\r\n`\r\nERROR: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'.\r\nERROR: /home_dir/xxxxx/nn/installation/tensorflow/tensorflow/core/BUILD:1308:1: C++ compilation of rule '//tensorflow/core:lib_hash_crc32c_accelerate_internal' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -fPIE -Wall -Wunused-but-set-parameter ... (remaining 43 argument(s) skipped): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 15.\r\nERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1: @grpc//:grpc++_unsecure: missing input file '@grpc//:include/grpc++/impl/codegen/string_ref.h'.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nERROR: /home_dir/xxxxx/.cache/bazel/_bazel_xxxxx/feba725fe17da6f4082aa7bd94139644/external/grpc/BUILD.bazel:1664:1 1 input file(s) do not exist.\r\nINFO: Elapsed time: 13.184s, Critical Path: 2.25s\r\n`"}