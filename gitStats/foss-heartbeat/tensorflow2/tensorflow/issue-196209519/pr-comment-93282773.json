{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93282773", "pull_request_review_id": 13805857, "id": 93282773, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzMjgyNzcz", "diff_hunk": "@@ -117,6 +127,8 @@ LogMessage::~LogMessage() {\n   if (TF_PREDICT_TRUE(severity_ >= min_log_level)) GenerateLogMessage();\n }\n \n+int LogMessage::min_lvl_ = MinVLogLevel();", "path": "tensorflow/core/platform/default/logging.cc", "position": null, "original_position": 32, "commit_id": "6952e9fcbecf4f620b2e424066db6f3c8f399731", "original_commit_id": "bc9b59d8091412700a4ab195d4ea1c73d0fe2714", "user": {"login": "vrv", "id": 463737, "node_id": "MDQ6VXNlcjQ2MzczNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/463737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrv", "html_url": "https://github.com/vrv", "followers_url": "https://api.github.com/users/vrv/followers", "following_url": "https://api.github.com/users/vrv/following{/other_user}", "gists_url": "https://api.github.com/users/vrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrv/subscriptions", "organizations_url": "https://api.github.com/users/vrv/orgs", "repos_url": "https://api.github.com/users/vrv/repos", "events_url": "https://api.github.com/users/vrv/events{/privacy}", "received_events_url": "https://api.github.com/users/vrv/received_events", "type": "User", "site_admin": false}, "body": "The way this is written, this is called during binary initialization.  It might be nice to have the semantics match the existing normal log behavior, which is that the environment variable is read only the first time you call VLOG.\r\n\r\nSo what do you think about doing the following: make min_lvl_ a function in LogMessage():\r\n\r\nint64 LogMessage::min_vlog_level() {\r\n  static int64 min_vlog_level = MinLogLevel();\r\n  return min_vlog_level;\r\n}\r\n\r\nand then call LogMessage::min_vlog_level() in VLOG_IS_ON ?\r\n", "created_at": "2016-12-20T17:14:15Z", "updated_at": "2016-12-21T04:34:53Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/6375#discussion_r93282773", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6375", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/93282773"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/6375#discussion_r93282773"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/6375"}}, "body_html": "<p>The way this is written, this is called during binary initialization.  It might be nice to have the semantics match the existing normal log behavior, which is that the environment variable is read only the first time you call VLOG.</p>\n<p>So what do you think about doing the following: make min_lvl_ a function in LogMessage():</p>\n<p>int64 LogMessage::min_vlog_level() {<br>\nstatic int64 min_vlog_level = MinLogLevel();<br>\nreturn min_vlog_level;<br>\n}</p>\n<p>and then call LogMessage::min_vlog_level() in VLOG_IS_ON ?</p>", "body_text": "The way this is written, this is called during binary initialization.  It might be nice to have the semantics match the existing normal log behavior, which is that the environment variable is read only the first time you call VLOG.\nSo what do you think about doing the following: make min_lvl_ a function in LogMessage():\nint64 LogMessage::min_vlog_level() {\nstatic int64 min_vlog_level = MinLogLevel();\nreturn min_vlog_level;\n}\nand then call LogMessage::min_vlog_level() in VLOG_IS_ON ?"}