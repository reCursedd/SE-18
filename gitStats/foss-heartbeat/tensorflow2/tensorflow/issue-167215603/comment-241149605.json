{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/241149605", "html_url": "https://github.com/tensorflow/tensorflow/issues/3480#issuecomment-241149605", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3480", "id": 241149605, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTE0OTYwNQ==", "user": {"login": "shrutisharmavsco", "id": 8355265, "node_id": "MDQ6VXNlcjgzNTUyNjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/8355265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shrutisharmavsco", "html_url": "https://github.com/shrutisharmavsco", "followers_url": "https://api.github.com/users/shrutisharmavsco/followers", "following_url": "https://api.github.com/users/shrutisharmavsco/following{/other_user}", "gists_url": "https://api.github.com/users/shrutisharmavsco/gists{/gist_id}", "starred_url": "https://api.github.com/users/shrutisharmavsco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shrutisharmavsco/subscriptions", "organizations_url": "https://api.github.com/users/shrutisharmavsco/orgs", "repos_url": "https://api.github.com/users/shrutisharmavsco/repos", "events_url": "https://api.github.com/users/shrutisharmavsco/events{/privacy}", "received_events_url": "https://api.github.com/users/shrutisharmavsco/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-19T22:19:11Z", "updated_at": "2016-08-19T22:19:55Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1590587\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Piso\">@Piso</a> try running this from the root of your tensorflow repo:</p>\n<pre><code>bazel build tensorflow/python/tools:strip_unused &amp;&amp; \\\nbazel-bin/tensorflow/python/tools/strip_unused \\\n--input_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph.pb \\\n--output_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph_stripped.pb \\\n--input_node_names=Mul \\\n--output_node_names=softmax \\\n--input_binary=true\n</code></pre>\n<p>Then change the name of the graph being loaded in <code>CameraExampleViewController.mm</code><br>\nSpecifically, change this line:</p>\n<pre><code>tensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph\", @\"pb\", &amp;tf_session);\n</code></pre>\n<p>to</p>\n<pre><code>tensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph_stripped\", @\"pb\", &amp;tf_session);\n</code></pre>", "body_text": "@Piso try running this from the root of your tensorflow repo:\nbazel build tensorflow/python/tools:strip_unused && \\\nbazel-bin/tensorflow/python/tools/strip_unused \\\n--input_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph.pb \\\n--output_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph_stripped.pb \\\n--input_node_names=Mul \\\n--output_node_names=softmax \\\n--input_binary=true\n\nThen change the name of the graph being loaded in CameraExampleViewController.mm\nSpecifically, change this line:\ntensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph\", @\"pb\", &tf_session);\n\nto\ntensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph_stripped\", @\"pb\", &tf_session);", "body": "@piso try running this from the root of your tensorflow repo: \n\n```\nbazel build tensorflow/python/tools:strip_unused && \\\nbazel-bin/tensorflow/python/tools/strip_unused \\\n--input_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph.pb \\\n--output_graph=tensorflow/contrib/ios_examples/camera/data/tensorflow_inception_graph_stripped.pb \\\n--input_node_names=Mul \\\n--output_node_names=softmax \\\n--input_binary=true\n```\n\nThen change the name of the graph being loaded in `CameraExampleViewController.mm`\nSpecifically, change this line:\n\n```\ntensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph\", @\"pb\", &tf_session);\n```\n\nto\n\n```\ntensorflow::Status load_status =\n      LoadModel(@\"tensorflow_inception_graph_stripped\", @\"pb\", &tf_session);\n```\n"}