{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3480", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3480/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3480/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/3480/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/3480", "id": 167215603, "node_id": "MDU6SXNzdWUxNjcyMTU2MDM=", "number": 3480, "title": "Errors loading inception v3 in iOS example", "user": {"login": "Piso", "id": 1590587, "node_id": "MDQ6VXNlcjE1OTA1ODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1590587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Piso", "html_url": "https://github.com/Piso", "followers_url": "https://api.github.com/users/Piso/followers", "following_url": "https://api.github.com/users/Piso/following{/other_user}", "gists_url": "https://api.github.com/users/Piso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Piso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Piso/subscriptions", "organizations_url": "https://api.github.com/users/Piso/orgs", "repos_url": "https://api.github.com/users/Piso/repos", "events_url": "https://api.github.com/users/Piso/events{/privacy}", "received_events_url": "https://api.github.com/users/Piso/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2016-07-24T03:54:24Z", "updated_at": "2016-09-28T21:44:37Z", "closed_at": "2016-09-28T19:55:36Z", "author_association": "NONE", "body_html": "<h3>Environment info</h3>\n<p>Operating System: Mac OS X / iOS</p>\n<p>If installed from source, provide</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>) : <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/fc9162975e52978d3af38549b570cc3cc5f0ab66/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/fc9162975e52978d3af38549b570cc3cc5f0ab66\"><tt>fc91629</tt></a></li>\n<li>The output of <code>bazel version</code>: Build label: 0.3.0-homebrew</li>\n</ol>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Download the .pb file from  <a href=\"https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\" rel=\"nofollow\">https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip</a></li>\n<li>Insert the .pb file in the data folder of the <code>camera</code> iOS project</li>\n<li>Launch the project from Xcode, console outputs following errors:</li>\n</ol>\n<p><code>Running model failed:Invalid argument: Session was not created with a graph before Run()!</code></p>\n<p><code>Running model failed:Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs [[Node: DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false](DecodeJpeg/contents)]]</code></p>\n<h3>What have you tried?</h3>\n<ol>\n<li>ran the following script referenced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160436607\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2883\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2883/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2883\">#2883</a>:</li>\n</ol>\n<p><code>bazel build tensorflow/python/tools:strip_unused &amp;&amp; \\ bazel-bin/tensorflow/python/tools/strip_unused \\ --input_graph=your_retrained_graph.pb \\ --output_graph=stripped_graph.pb \\ --input_node_names=Mul \\ --output_node_names=final_result \\ --input_binary=true</code></p>\n<p>However, I receive the following error:</p>\n<p><code>/tensorflow/bazel-bin/tensorflow/python/tools/strip_unused.runfiles/org_tensorflow/tensorflow/python/framework/graph_util.py\", line 156, in extract_sub_graph assert d in name_to_node_map, \"%s is not in graph\" % d AssertionError: final_result is not in graph</code></p>", "body_text": "Environment info\nOperating System: Mac OS X / iOS\nIf installed from source, provide\n\nThe commit hash (git rev-parse HEAD) : fc91629\nThe output of bazel version: Build label: 0.3.0-homebrew\n\nSteps to reproduce\n\nDownload the .pb file from  https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\nInsert the .pb file in the data folder of the camera iOS project\nLaunch the project from Xcode, console outputs following errors:\n\nRunning model failed:Invalid argument: Session was not created with a graph before Run()!\nRunning model failed:Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs [[Node: DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false](DecodeJpeg/contents)]]\nWhat have you tried?\n\nran the following script referenced in #2883:\n\nbazel build tensorflow/python/tools:strip_unused && \\ bazel-bin/tensorflow/python/tools/strip_unused \\ --input_graph=your_retrained_graph.pb \\ --output_graph=stripped_graph.pb \\ --input_node_names=Mul \\ --output_node_names=final_result \\ --input_binary=true\nHowever, I receive the following error:\n/tensorflow/bazel-bin/tensorflow/python/tools/strip_unused.runfiles/org_tensorflow/tensorflow/python/framework/graph_util.py\", line 156, in extract_sub_graph assert d in name_to_node_map, \"%s is not in graph\" % d AssertionError: final_result is not in graph", "body": "### Environment info\n\nOperating System: Mac OS X / iOS\n\nIf installed from source, provide \n1. The commit hash (`git rev-parse HEAD`) : fc9162975e52978d3af38549b570cc3cc5f0ab66\n2. The output of `bazel version`: Build label: 0.3.0-homebrew\n### Steps to reproduce\n1. Download the .pb file from  https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip\n2. Insert the .pb file in the data folder of the `camera` iOS project\n3. Launch the project from Xcode, console outputs following errors:\n\n`Running model failed:Invalid argument: Session was not created with a graph before Run()!`\n\n`Running model failed:Invalid argument: No OpKernel was registered to support Op 'DecodeJpeg' with these attrs\n     [[Node: DecodeJpeg = DecodeJpeg[acceptable_fraction=1, channels=3, fancy_upscaling=true, ratio=1, try_recover_truncated=false](DecodeJpeg/contents)]]`\n### What have you tried?\n1. ran the following script referenced in #2883:\n\n`bazel build tensorflow/python/tools:strip_unused && \\\nbazel-bin/tensorflow/python/tools/strip_unused \\\n--input_graph=your_retrained_graph.pb \\\n--output_graph=stripped_graph.pb \\\n--input_node_names=Mul \\\n--output_node_names=final_result \\\n--input_binary=true`\n\nHowever, I receive the following error:\n\n`/tensorflow/bazel-bin/tensorflow/python/tools/strip_unused.runfiles/org_tensorflow/tensorflow/python/framework/graph_util.py\", line 156, in extract_sub_graph\n    assert d in name_to_node_map, \"%s is not in graph\" % d\nAssertionError: final_result is not in graph`\n"}