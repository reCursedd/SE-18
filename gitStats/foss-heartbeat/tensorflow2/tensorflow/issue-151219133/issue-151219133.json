{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2117", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2117/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2117/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2117/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2117", "id": 151219133, "node_id": "MDU6SXNzdWUxNTEyMTkxMzM=", "number": 2117, "title": "Failed to memcpy from device to host: CUDA_ERROR_LAUNCH_TIMEOUT when running CIFAR10 after 113K steps", "user": {"login": "hamidb", "id": 4418982, "node_id": "MDQ6VXNlcjQ0MTg5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4418982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamidb", "html_url": "https://github.com/hamidb", "followers_url": "https://api.github.com/users/hamidb/followers", "following_url": "https://api.github.com/users/hamidb/following{/other_user}", "gists_url": "https://api.github.com/users/hamidb/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamidb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamidb/subscriptions", "organizations_url": "https://api.github.com/users/hamidb/orgs", "repos_url": "https://api.github.com/users/hamidb/repos", "events_url": "https://api.github.com/users/hamidb/events{/privacy}", "received_events_url": "https://api.github.com/users/hamidb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-04-26T19:28:07Z", "updated_at": "2017-07-14T02:06:54Z", "closed_at": "2016-06-07T04:37:02Z", "author_association": "NONE", "body_html": "<p>I tried to run the cifar10 model provided from TF with GPU support. I was able to successfully install Tensorflow from source (with GPU) and also was able to run the <code>cifar10_train.py</code> with utilizing my GPU. However, after step=113330, I encountered the following error which is probably related to async memcpy from device to host. As my graphic card compute capability is 5.2, I thought it should not be due to compute capability conflicts.</p>\n<h3>Similar issues</h3>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"140410385\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1477\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1477/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1477\">#1477</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"133034406\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1060\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1060/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1060\">#1060</a></p>\n<p>But my error is slightly different</p>\n<h3>Environment info</h3>\n<p>Operating System: Ubuntu 14.04<br>\nGPU:  GM200 - GeForce GTX TITAN X (rev a1)<br>\nTensorflow 0.8 (installed from source)<br>\nInstalled version of CUDA and cuDNN:<br>\ncuda 7.5<br>\ncudnn 7.0 (v4)<br>\nusing Anaconda virtual env</p>\n<h3>Logs</h3>\n<pre><code>2016-04-25 22:10:14.937118: step 113330, loss = 0.74 (1276.4 examples/sec; 0.100 sec/batch)\n\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1197] failed to enqueue async memcpy from device to host: CUDA_ERROR_LAUNCH_TIMEOUT; host dst: 0x7fbdd0001680; GPU src: 0xb06c84600; size: 3=0x3\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/stream.cc:272] Error recording event in stream: error recording CUDA event on stream 0x1efe980: CUDA_ERROR_LAUNCH_TIMEOUT; not marking stream as bad, as the Event object may be at fault. Monitor for further errors.\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nI tensorflow/stream_executor/stream.cc:826] stream 0x1efe860 did not wait for stream: 0x1efd340\nAborted (core dumped)\n\n</code></pre>", "body_text": "I tried to run the cifar10 model provided from TF with GPU support. I was able to successfully install Tensorflow from source (with GPU) and also was able to run the cifar10_train.py with utilizing my GPU. However, after step=113330, I encountered the following error which is probably related to async memcpy from device to host. As my graphic card compute capability is 5.2, I thought it should not be due to compute capability conflicts.\nSimilar issues\n#1477\n#1060\nBut my error is slightly different\nEnvironment info\nOperating System: Ubuntu 14.04\nGPU:  GM200 - GeForce GTX TITAN X (rev a1)\nTensorflow 0.8 (installed from source)\nInstalled version of CUDA and cuDNN:\ncuda 7.5\ncudnn 7.0 (v4)\nusing Anaconda virtual env\nLogs\n2016-04-25 22:10:14.937118: step 113330, loss = 0.74 (1276.4 examples/sec; 0.100 sec/batch)\n\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1197] failed to enqueue async memcpy from device to host: CUDA_ERROR_LAUNCH_TIMEOUT; host dst: 0x7fbdd0001680; GPU src: 0xb06c84600; size: 3=0x3\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/stream.cc:272] Error recording event in stream: error recording CUDA event on stream 0x1efe980: CUDA_ERROR_LAUNCH_TIMEOUT; not marking stream as bad, as the Event object may be at fault. Monitor for further errors.\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nI tensorflow/stream_executor/stream.cc:826] stream 0x1efe860 did not wait for stream: 0x1efd340\nAborted (core dumped)", "body": "I tried to run the cifar10 model provided from TF with GPU support. I was able to successfully install Tensorflow from source (with GPU) and also was able to run the `cifar10_train.py` with utilizing my GPU. However, after step=113330, I encountered the following error which is probably related to async memcpy from device to host. As my graphic card compute capability is 5.2, I thought it should not be due to compute capability conflicts. \n### Similar issues\n#1477\n#1060\n\nBut my error is slightly different\n### Environment info\n\nOperating System: Ubuntu 14.04\nGPU:  GM200 - GeForce GTX TITAN X (rev a1)\nTensorflow 0.8 (installed from source)\nInstalled version of CUDA and cuDNN: \ncuda 7.5\ncudnn 7.0 (v4)\nusing Anaconda virtual env\n### Logs\n\n```\n2016-04-25 22:10:14.937118: step 113330, loss = 0.74 (1276.4 examples/sec; 0.100 sec/batch)\n\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1197] failed to enqueue async memcpy from device to host: CUDA_ERROR_LAUNCH_TIMEOUT; host dst: 0x7fbdd0001680; GPU src: 0xb06c84600; size: 3=0x3\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/stream.cc:272] Error recording event in stream: error recording CUDA event on stream 0x1efe980: CUDA_ERROR_LAUNCH_TIMEOUT; not marking stream as bad, as the Event object may be at fault. Monitor for further errors.\nE tensorflow/stream_executor/cuda/cuda_event.cc:49] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT\nF tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:198] Unexpected Event status: 1\nF tensorflow/core/common_runtime/gpu/gpu_util.cc:370] GPU sync failed\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nE tensorflow/stream_executor/cuda/cuda_driver.cc:1099] could not synchronize on CUDA context: CUDA_ERROR_LAUNCH_TIMEOUT :: No stack trace available\nI tensorflow/stream_executor/stream.cc:826] stream 0x1efe860 did not wait for stream: 0x1efd340\nAborted (core dumped)\n\n```\n"}