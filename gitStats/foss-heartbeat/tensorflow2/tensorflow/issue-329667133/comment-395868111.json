{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/395868111", "html_url": "https://github.com/tensorflow/tensorflow/pull/19792#issuecomment-395868111", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19792", "id": 395868111, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTg2ODExMQ==", "user": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-08T19:41:51Z", "updated_at": "2018-06-08T19:41:51Z", "author_association": "MEMBER", "body_html": "<p>XLA error: (<code>binary_ops_test</code>)</p>\n<pre><code>2018-06-08 18:22:19.585682: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 4B (4 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\n</code></pre>\n<p>MacOS error:</p>\n<pre><code>==================Model Analysis Report======================\nDoc:\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\nrequested bytes: The memory requested by the operation, accumulatively.\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\npeak bytes: The peak amount of memory that the operation is holding at some point.\nresidual bytes: The memory not de-allocated after the operation finishes.\nProfile:\nnode name | requested bytes | peak bytes | residual bytes | output bytes\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\n======================End of Report==========================\nParsing Inputs...\n=========================Options=============================\n-max_depth                  10000\n-min_bytes                  0\n-min_peak_bytes             0\n-min_residual_bytes         0\n-min_output_bytes           0\n-min_micros                 1\n-min_accelerator_micros     0\n-min_cpu_micros             0\n-min_params                 0\n-min_float_ops              0\n-min_occurrence             0\n-step                       -1\n-order_by                   micros\n-account_type_regexes       .*\n-start_name_regexes         .*\n-trim_name_regexes\n-show_name_regexes          .*\n-hide_name_regexes\n-account_displayed_op_only  true\n-select                     bytes,output_bytes,peak_bytes,residual_bytes\n-output                     stdout:\n==================Model Analysis Report======================\nDoc:\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\nrequested bytes: The memory requested by the operation, accumulatively.\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\npeak bytes: The peak amount of memory that the operation is holding at some point.\nresidual bytes: The memory not de-allocated after the operation finishes.\nProfile:\nnode name | requested bytes | peak bytes | residual bytes | output bytes\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\n======================End of Report==========================\n..\n======================================================================\nFAIL: testComplexCodeView (__main__.PrintModelAnalysisTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Volumes/BuildData/tmpfs/bazel_output/_bazel_kbuilder/d1b2600cd78e76a92812a06683f5de10/execroot/org_tensorflow/bazel-out/darwin-opt/bin/tensorflow/python/profiler/model_analyzer_test.runfiles/org_tensorflow/tensorflow/python/profiler/model_analyzer_test.py\", line 240, in testComplexCodeView\n    self.assertLess(145660, tfprof_node.total_float_ops)\nAssertionError: 145660 not less than 140929L\n----------------------------------------------------------------------\n</code></pre>\n<p>Are the stats used to make memory projections?</p>", "body_text": "XLA error: (binary_ops_test)\n2018-06-08 18:22:19.585682: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 4B (4 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\n\nMacOS error:\n==================Model Analysis Report======================\nDoc:\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\nrequested bytes: The memory requested by the operation, accumulatively.\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\npeak bytes: The peak amount of memory that the operation is holding at some point.\nresidual bytes: The memory not de-allocated after the operation finishes.\nProfile:\nnode name | requested bytes | peak bytes | residual bytes | output bytes\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\n======================End of Report==========================\nParsing Inputs...\n=========================Options=============================\n-max_depth                  10000\n-min_bytes                  0\n-min_peak_bytes             0\n-min_residual_bytes         0\n-min_output_bytes           0\n-min_micros                 1\n-min_accelerator_micros     0\n-min_cpu_micros             0\n-min_params                 0\n-min_float_ops              0\n-min_occurrence             0\n-step                       -1\n-order_by                   micros\n-account_type_regexes       .*\n-start_name_regexes         .*\n-trim_name_regexes\n-show_name_regexes          .*\n-hide_name_regexes\n-account_displayed_op_only  true\n-select                     bytes,output_bytes,peak_bytes,residual_bytes\n-output                     stdout:\n==================Model Analysis Report======================\nDoc:\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\nrequested bytes: The memory requested by the operation, accumulatively.\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\npeak bytes: The peak amount of memory that the operation is holding at some point.\nresidual bytes: The memory not de-allocated after the operation finishes.\nProfile:\nnode name | requested bytes | peak bytes | residual bytes | output bytes\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\n======================End of Report==========================\n..\n======================================================================\nFAIL: testComplexCodeView (__main__.PrintModelAnalysisTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Volumes/BuildData/tmpfs/bazel_output/_bazel_kbuilder/d1b2600cd78e76a92812a06683f5de10/execroot/org_tensorflow/bazel-out/darwin-opt/bin/tensorflow/python/profiler/model_analyzer_test.runfiles/org_tensorflow/tensorflow/python/profiler/model_analyzer_test.py\", line 240, in testComplexCodeView\n    self.assertLess(145660, tfprof_node.total_float_ops)\nAssertionError: 145660 not less than 140929L\n----------------------------------------------------------------------\n\nAre the stats used to make memory projections?", "body": "XLA error: (`binary_ops_test`)\r\n```\r\n2018-06-08 18:22:19.585682: E tensorflow/stream_executor/cuda/cuda_driver.cc:903] failed to allocate 4B (4 bytes) from device: CUDA_ERROR_OUT_OF_MEMORY\r\n```\r\n\r\nMacOS error:\r\n```\r\n==================Model Analysis Report======================\r\nDoc:\r\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\r\nrequested bytes: The memory requested by the operation, accumulatively.\r\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\r\npeak bytes: The peak amount of memory that the operation is holding at some point.\r\nresidual bytes: The memory not de-allocated after the operation finishes.\r\nProfile:\r\nnode name | requested bytes | peak bytes | residual bytes | output bytes\r\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\r\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\r\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\r\n======================End of Report==========================\r\nParsing Inputs...\r\n=========================Options=============================\r\n-max_depth                  10000\r\n-min_bytes                  0\r\n-min_peak_bytes             0\r\n-min_residual_bytes         0\r\n-min_output_bytes           0\r\n-min_micros                 1\r\n-min_accelerator_micros     0\r\n-min_cpu_micros             0\r\n-min_params                 0\r\n-min_float_ops              0\r\n-min_occurrence             0\r\n-step                       -1\r\n-order_by                   micros\r\n-account_type_regexes       .*\r\n-start_name_regexes         .*\r\n-trim_name_regexes\r\n-show_name_regexes          .*\r\n-hide_name_regexes\r\n-account_displayed_op_only  true\r\n-select                     bytes,output_bytes,peak_bytes,residual_bytes\r\n-output                     stdout:\r\n==================Model Analysis Report======================\r\nDoc:\r\nscope: The nodes in the model graph are organized by their names, which is hierarchical like filesystem.\r\nrequested bytes: The memory requested by the operation, accumulatively.\r\noutput bytes: The memory that is output from the operation (not necessarilty allocated by the operation)\r\npeak bytes: The peak amount of memory that the operation is holding at some point.\r\nresidual bytes: The memory not de-allocated after the operation finishes.\r\nProfile:\r\nnode name | requested bytes | peak bytes | residual bytes | output bytes\r\n_TFProfRoot (--/80.00KB, --/80.00KB, --/80.00KB, --/80.00KB)\r\n  mul (80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB, 80.00KB/80.00KB)\r\n  _retval_mul_0_0 (0B/0B, 0B/0B, 0B/0B, 0B/0B)\r\n======================End of Report==========================\r\n..\r\n======================================================================\r\nFAIL: testComplexCodeView (__main__.PrintModelAnalysisTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Volumes/BuildData/tmpfs/bazel_output/_bazel_kbuilder/d1b2600cd78e76a92812a06683f5de10/execroot/org_tensorflow/bazel-out/darwin-opt/bin/tensorflow/python/profiler/model_analyzer_test.runfiles/org_tensorflow/tensorflow/python/profiler/model_analyzer_test.py\", line 240, in testComplexCodeView\r\n    self.assertLess(145660, tfprof_node.total_float_ops)\r\nAssertionError: 145660 not less than 140929L\r\n----------------------------------------------------------------------\r\n```\r\n\r\nAre the stats used to make memory projections?"}