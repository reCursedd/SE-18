{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16268", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16268/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16268/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16268/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16268", "id": 290268078, "node_id": "MDU6SXNzdWUyOTAyNjgwNzg=", "number": 16268, "title": "ValueError: Protocol message RewriterConfig has no \"layout_optimizer\" field.", "user": {"login": "jimo123", "id": 30773402, "node_id": "MDQ6VXNlcjMwNzczNDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/30773402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimo123", "html_url": "https://github.com/jimo123", "followers_url": "https://api.github.com/users/jimo123/followers", "following_url": "https://api.github.com/users/jimo123/following{/other_user}", "gists_url": "https://api.github.com/users/jimo123/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimo123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimo123/subscriptions", "organizations_url": "https://api.github.com/users/jimo123/orgs", "repos_url": "https://api.github.com/users/jimo123/repos", "events_url": "https://api.github.com/users/jimo123/events{/privacy}", "received_events_url": "https://api.github.com/users/jimo123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-01-21T12:16:20Z", "updated_at": "2018-04-25T18:59:26Z", "closed_at": "2018-01-25T01:36:38Z", "author_association": "NONE", "body_html": "<p>I just start learning tensorflow object detection API.And now,I can use the train.py script to train my model,and use the eval.py script to evaluate normally,but when I use the export_inference_graph.py script to export .pb file,the following error occurred.my tf version is 1.4 and python version is 3.5,ubuntu14.04.thank you very much.</p>\n<p>Traceback (most recent call last):<br>\nFile \"export_inference_graph.py\", line 110, in <br>\ntf.app.run()<br>\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/lib/python3.4/site-packages/tensorflow/python/platform/app.py\", line 48, in run<br>\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))<br>\nFile \"export_inference_graph.py\", line 106, in main<br>\nFLAGS.output_directory)<br>\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 427, in export_inference_graph<br>\ninput_shape, optimize_graph, output_collection_name)<br>\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 391, in _export_inference_graph<br>\ninitializer_nodes='')<br>\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 72, in freeze_graph_with_def_protos<br>\nlayout_optimizer=rewriter_config_pb2.RewriterConfig.ON)<br>\nValueError: Protocol message RewriterConfig has no \"layout_optimizer\" field.</p>\n<p>I guess I installed a wrong protobuf version,but I tried 2.6.0 2.6.1 3.5.1,and the same error occured.</p>", "body_text": "I just start learning tensorflow object detection API.And now,I can use the train.py script to train my model,and use the eval.py script to evaluate normally,but when I use the export_inference_graph.py script to export .pb file,the following error occurred.my tf version is 1.4 and python version is 3.5,ubuntu14.04.thank you very much.\nTraceback (most recent call last):\nFile \"export_inference_graph.py\", line 110, in \ntf.app.run()\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/lib/python3.4/site-packages/tensorflow/python/platform/app.py\", line 48, in run\n_sys.exit(main(_sys.argv[:1] + flags_passthrough))\nFile \"export_inference_graph.py\", line 106, in main\nFLAGS.output_directory)\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 427, in export_inference_graph\ninput_shape, optimize_graph, output_collection_name)\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 391, in _export_inference_graph\ninitializer_nodes='')\nFile \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 72, in freeze_graph_with_def_protos\nlayout_optimizer=rewriter_config_pb2.RewriterConfig.ON)\nValueError: Protocol message RewriterConfig has no \"layout_optimizer\" field.\nI guess I installed a wrong protobuf version,but I tried 2.6.0 2.6.1 3.5.1,and the same error occured.", "body": "I just start learning tensorflow object detection API.And now,I can use the train.py script to train my model,and use the eval.py script to evaluate normally,but when I use the export_inference_graph.py script to export .pb file,the following error occurred.my tf version is 1.4 and python version is 3.5,ubuntu14.04.thank you very much.\r\n\r\nTraceback (most recent call last):\r\n  File \"export_inference_graph.py\", line 110, in <module>\r\n    tf.app.run()\r\n  File \"/home/yj/anaconda3/envs/tensorflow3.4/lib/python3.4/site-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"export_inference_graph.py\", line 106, in main\r\n    FLAGS.output_directory)\r\n  File \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 427, in export_inference_graph\r\n    input_shape, optimize_graph, output_collection_name)\r\n  File \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 391, in _export_inference_graph\r\n    initializer_nodes='')\r\n  File \"/home/yj/anaconda3/envs/tensorflow3.4/models/research/object_detection/exporter.py\", line 72, in freeze_graph_with_def_protos\r\n    layout_optimizer=rewriter_config_pb2.RewriterConfig.ON)\r\nValueError: Protocol message RewriterConfig has no \"layout_optimizer\" field.\r\n\r\nI guess I installed a wrong protobuf version,but I tried 2.6.0 2.6.1 3.5.1,and the same error occured."}