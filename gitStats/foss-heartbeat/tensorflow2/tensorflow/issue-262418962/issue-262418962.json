{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13466", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13466/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13466/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13466/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13466", "id": 262418962, "node_id": "MDU6SXNzdWUyNjI0MTg5NjI=", "number": 13466, "title": "contrib/verbs only works on GPU", "user": {"login": "dariavel", "id": 32033101, "node_id": "MDQ6VXNlcjMyMDMzMTAx", "avatar_url": "https://avatars3.githubusercontent.com/u/32033101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dariavel", "html_url": "https://github.com/dariavel", "followers_url": "https://api.github.com/users/dariavel/followers", "following_url": "https://api.github.com/users/dariavel/following{/other_user}", "gists_url": "https://api.github.com/users/dariavel/gists{/gist_id}", "starred_url": "https://api.github.com/users/dariavel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dariavel/subscriptions", "organizations_url": "https://api.github.com/users/dariavel/orgs", "repos_url": "https://api.github.com/users/dariavel/repos", "events_url": "https://api.github.com/users/dariavel/events{/privacy}", "received_events_url": "https://api.github.com/users/dariavel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-03T13:03:36Z", "updated_at": "2017-11-30T07:28:07Z", "closed_at": "2017-11-30T07:28:06Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>System information</h3>\n<ul>\n<li>\n<p><strong>OS Linux readhat</strong> 7.3</p>\n</li>\n<li>\n<p><strong>TensorFlow</strong> installed from source</p>\n</li>\n<li>\n<p><strong>TensorFlow version</strong> 1.3.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>:  2.7.5</p>\n</li>\n<li>\n<p><strong>Bazel version</strong>:<br>\nBuild label: 0.5.4<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Aug 25 10:00:00 2017 (1503655200)<br>\nBuild timestamp: 1503655200<br>\nBuild timestamp as int: 1503655200</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>: no CUDA</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>: no GPU</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>: Compilation with the following command fails:</p>\n</li>\n</ul>\n<p>bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package</p>\n<p>ERROR: /root/tensorflow/tensorflow/contrib/verbs/BUILD:133:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed (Exit 1).<br>\nIn file included from ./tensorflow/core/platform/stream_executor.h:26:0,<br>\nfrom ./tensorflow/core/common_runtime/gpu/gpu_util.h:23,<br>\nfrom tensorflow/contrib/verbs/rdma.cc:24:<br>\n./tensorflow/stream_executor/dso_loader.h:32:30: fatal error: cuda/cuda_config.h: No such file or directory<br>\n#include \"cuda/cuda_config.h\"<br>\n^<br>\ncompilation terminated.</p>\n<p>The ./configure is done with all the defaults except enabling verbs.</p>\n<p>Reverting the following commit fixes compilation:<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/0d864630161d9f3b9eaef0b7c6ce7443654df97a/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/0d864630161d9f3b9eaef0b7c6ce7443654df97a\"><tt>0d86463</tt></a><br>\nAuthor: A. Unique TensorFlower <a href=\"mailto:gardener@tensorflow.org\">gardener@tensorflow.org</a><br>\nDate:   Fri Sep 22 13:48:33 2017 -0700</p>\n<pre><code>Move GPU-specific dependencies of core/grappler:devices into\ncuda_deps.\n\nFix #includes and deps of contrib/verbs:verbs_util, in particular\nremoving an unnecessary #include of gpu_util.h that relied on a\ntransitive dependency through :devices.\n\nPiperOrigin-RevId: 169732234\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12075848\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/junshi15\">@junshi15</a></p>", "body_text": "System information\n\n\nOS Linux readhat 7.3\n\n\nTensorFlow installed from source\n\n\nTensorFlow version 1.3.0\n\n\nPython version:  2.7.5\n\n\nBazel version:\nBuild label: 0.5.4\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Aug 25 10:00:00 2017 (1503655200)\nBuild timestamp: 1503655200\nBuild timestamp as int: 1503655200\n\n\nCUDA/cuDNN version: no CUDA\n\n\nGPU model and memory: no GPU\n\n\nExact command to reproduce: Compilation with the following command fails:\n\n\nbazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\nERROR: /root/tensorflow/tensorflow/contrib/verbs/BUILD:133:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed (Exit 1).\nIn file included from ./tensorflow/core/platform/stream_executor.h:26:0,\nfrom ./tensorflow/core/common_runtime/gpu/gpu_util.h:23,\nfrom tensorflow/contrib/verbs/rdma.cc:24:\n./tensorflow/stream_executor/dso_loader.h:32:30: fatal error: cuda/cuda_config.h: No such file or directory\n#include \"cuda/cuda_config.h\"\n^\ncompilation terminated.\nThe ./configure is done with all the defaults except enabling verbs.\nReverting the following commit fixes compilation:\ncommit 0d86463\nAuthor: A. Unique TensorFlower gardener@tensorflow.org\nDate:   Fri Sep 22 13:48:33 2017 -0700\nMove GPU-specific dependencies of core/grappler:devices into\ncuda_deps.\n\nFix #includes and deps of contrib/verbs:verbs_util, in particular\nremoving an unnecessary #include of gpu_util.h that relied on a\ntransitive dependency through :devices.\n\nPiperOrigin-RevId: 169732234\n\n@junshi15", "body": "### System information\r\n- **OS Linux readhat** 7.3\r\n- **TensorFlow** installed from source\r\n- **TensorFlow version** 1.3.0\r\n- **Python version**:  2.7.5\r\n- **Bazel version**:\r\nBuild label: 0.5.4\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Aug 25 10:00:00 2017 (1503655200)\r\nBuild timestamp: 1503655200\r\nBuild timestamp as int: 1503655200\r\n\r\n- **CUDA/cuDNN version**: no CUDA\r\n- **GPU model and memory**: no GPU\r\n- **Exact command to reproduce**: Compilation with the following command fails:\r\n\r\n bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\nERROR: /root/tensorflow/tensorflow/contrib/verbs/BUILD:133:1: C++ compilation of rule '//tensorflow/contrib/verbs:rdma' failed (Exit 1).\r\nIn file included from ./tensorflow/core/platform/stream_executor.h:26:0,\r\n                 from ./tensorflow/core/common_runtime/gpu/gpu_util.h:23,\r\n                 from tensorflow/contrib/verbs/rdma.cc:24:\r\n./tensorflow/stream_executor/dso_loader.h:32:30: fatal error: cuda/cuda_config.h: No such file or directory\r\n #include \"cuda/cuda_config.h\"\r\n                              ^\r\ncompilation terminated.\r\n\r\nThe ./configure is done with all the defaults except enabling verbs.\r\n\r\nReverting the following commit fixes compilation:\r\ncommit 0d864630161d9f3b9eaef0b7c6ce7443654df97a\r\nAuthor: A. Unique TensorFlower <gardener@tensorflow.org>\r\nDate:   Fri Sep 22 13:48:33 2017 -0700\r\n\r\n    Move GPU-specific dependencies of core/grappler:devices into\r\n    cuda_deps.\r\n\r\n    Fix #includes and deps of contrib/verbs:verbs_util, in particular\r\n    removing an unnecessary #include of gpu_util.h that relied on a\r\n    transitive dependency through :devices.\r\n\r\n    PiperOrigin-RevId: 169732234\r\n\r\n@junshi15 "}