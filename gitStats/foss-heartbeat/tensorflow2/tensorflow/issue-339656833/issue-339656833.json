{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20656", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20656/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20656/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20656/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20656", "id": 339656833, "node_id": "MDU6SXNzdWUzMzk2NTY4MzM=", "number": 20656, "title": "please change allocation.cc line 102 copied_buffer_ = std::move(buffer);", "user": {"login": "einzigsue", "id": 31023742, "node_id": "MDQ6VXNlcjMxMDIzNzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/31023742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einzigsue", "html_url": "https://github.com/einzigsue", "followers_url": "https://api.github.com/users/einzigsue/followers", "following_url": "https://api.github.com/users/einzigsue/following{/other_user}", "gists_url": "https://api.github.com/users/einzigsue/gists{/gist_id}", "starred_url": "https://api.github.com/users/einzigsue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einzigsue/subscriptions", "organizations_url": "https://api.github.com/users/einzigsue/orgs", "repos_url": "https://api.github.com/users/einzigsue/repos", "events_url": "https://api.github.com/users/einzigsue/events{/privacy}", "received_events_url": "https://api.github.com/users/einzigsue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "einzigsue", "id": 31023742, "node_id": "MDQ6VXNlcjMxMDIzNzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/31023742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einzigsue", "html_url": "https://github.com/einzigsue", "followers_url": "https://api.github.com/users/einzigsue/followers", "following_url": "https://api.github.com/users/einzigsue/following{/other_user}", "gists_url": "https://api.github.com/users/einzigsue/gists{/gist_id}", "starred_url": "https://api.github.com/users/einzigsue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einzigsue/subscriptions", "organizations_url": "https://api.github.com/users/einzigsue/orgs", "repos_url": "https://api.github.com/users/einzigsue/repos", "events_url": "https://api.github.com/users/einzigsue/events{/privacy}", "received_events_url": "https://api.github.com/users/einzigsue/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "einzigsue", "id": 31023742, "node_id": "MDQ6VXNlcjMxMDIzNzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/31023742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einzigsue", "html_url": "https://github.com/einzigsue", "followers_url": "https://api.github.com/users/einzigsue/followers", "following_url": "https://api.github.com/users/einzigsue/following{/other_user}", "gists_url": "https://api.github.com/users/einzigsue/gists{/gist_id}", "starred_url": "https://api.github.com/users/einzigsue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einzigsue/subscriptions", "organizations_url": "https://api.github.com/users/einzigsue/orgs", "repos_url": "https://api.github.com/users/einzigsue/repos", "events_url": "https://api.github.com/users/einzigsue/events{/privacy}", "received_events_url": "https://api.github.com/users/einzigsue/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-10T01:00:31Z", "updated_at": "2018-07-27T15:57:48Z", "closed_at": "2018-07-27T15:57:48Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:<br>\nCentOS 6.9</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:<br>\nsource</li>\n<li><strong>TensorFlow version (use command below)</strong>:<br>\n1.9.0-rc2</li>\n<li><strong>Python version</strong>:<br>\n3.6.2</li>\n<li><strong>Bazel version (if compiling from source)</strong>:<br>\n0.14.1</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>:<br>\ngcc 6.2.0</li>\n<li><strong>CUDA/cuDNN version</strong>:<br>\ncuda 9.0 and cudnn 7.1.1</li>\n<li><strong>GPU model and memory</strong>:<br>\nNVIDIA K80 (12GB/GPU) and P100(16GB/GPU)</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<blockquote>\n<p>exec env - <br>\nCUDA_TOOLKIT_PATH=/apps/cuda/9.0 <br>\nCUDNN_INSTALL_PATH=/apps/cudnn/7.1.1-cuda9.0 <br>\nGCC_HOST_COMPILER_PATH=/apps/gcc/6.2.0/wrapper/gcc <br>\nLD_LIBRARY_PATH=/apps/gcc/6.2.0/lib/gcc/x86_64-pc-linux-gnu/6.2.0:/apps/gcc/6.2.0/lib64:/apps/nccl/2.2.13-cuda9.0/lib:/apps/openmpi/3.1.0/lib:/apps/openmpi/3.1.0/lib/profilers:/apps/intel-ct/17.0.1.132/mkl/lib/intel64:/apps/python3/3.6.2/lib:/apps/binutils/2.25/lib:/apps/java/jdk1.8.0_60/lib:/apps/cudnn/7.1.1-cuda9.0/lib64:/apps/cuda/9.0/extras/CUPTI/lib64:/apps/cuda/9.0/lib64 <br>\nNCCL_INSTALL_PATH=/apps/nccl/2.2.13-cuda9.0 <br>\nPATH=/apps/gcc/6.2.0/wrapper:/apps/gcc/6.2.0/bin:/apps/openmpi/wrapper/fortran:/apps/openmpi/3.1.0/bin:/apps/python3/3.6.2/bin:/apps/binutils/2.25/bin:/apps/bazel/0.14.1/bin:/apps/java/jdk1.8.0_60/bin:/apps/cuda/9.0/bin:/home/900/yxs900/.local/bin:/opt/bin:/bin:/usr/bin <br>\nPWD=/proc/self/cwd <br>\nPYTHON_BIN_PATH=/apps/python3/3.6.2/bin/python3 <br>\nPYTHON_LIB_PATH=/apps/python3/3.6.2/lib/python3.6/site-packages <br>\nTF_CUDA_CLANG=0 <br>\nTF_CUDA_COMPUTE_CAPABILITIES=3.7,6.0 <br>\nTF_CUDA_VERSION=9.0 <br>\nTF_CUDNN_VERSION=7 <br>\nTF_NCCL_VERSION=2 <br>\nTF_NEED_CUDA=1 <br>\nTF_NEED_OPENCL_SYCL=0 <br>\nexternal/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/contrib/lite/<em>objs/framework/tensorflow/contrib/lite/allocation.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/contrib/lite/<em>objs/framework/tensorflow/contrib/lite/allocation.pic.o' -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' -iquote . -iquote bazel-out/k8-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/k8-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote external/gemmlowp -iquote bazel-out/k8-opt/genfiles/external/gemmlowp -iquote external/flatbuffers -iquote bazel-out/k8-opt/genfiles/external/flatbuffers -isystem third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/genfiles/third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/bin/third_party/eigen3/mkl_include -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/genfiles/tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/bin/tensorflow/contrib/lite/schema -isystem external/flatbuffers/include -isystem bazel-out/k8-opt/genfiles/external/flatbuffers/include -isystem bazel-out/k8-opt/bin/external/flatbuffers/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE</em></em>=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections '-D_GLIBCXX_USE_CXX11_ABI=0' '-march=native' -DFARMHASH_NO_CXX_STRING -c tensorflow/contrib/lite/allocation.cc -o bazel-out/k8-opt/bin/tensorflow/contrib/lite/_objs/framework/tensorflow/contrib/lite/allocation.pic.o</p>\n</blockquote>\n<h3>Describe the problem</h3>\n<p>Describe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.</p>\n<p>The build stops because the variables buffer and copied_buffer have different types,  char*&amp; and const char*&amp;, respectively, and std::swap expects identical types of their inputs and code found no candidate for std::swap, see details in the error message below. Simply change line 102 in tensorflow/contrib/lite/allocation.cc {{ copied_buffer_ = std::move(buffer); }} to {{copied_buffer_.reset(const_cast&lt;char const *&gt;(buffer.release()));}} fix the bug.</p>\n<h3>Source code / logs</h3>\n<p>tensorflow/contrib/lite/allocation.cc:102:36:   required from here<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: error: no matching function for call to 'swap(const char*&amp;, char*&amp;)'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,<br>\nfrom tensorflow/contrib/lite/allocation.cc:27:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note: candidate: template typename std::enable_if&lt;std::_<em>and</em>&lt;std::is_move_constructible&lt;_Tp&gt;, std::is_move_assignable&lt;_Tp&gt; &gt;::value&gt;::type std::swap(_Tp&amp;, _Tp&amp;)<br>\nswap(_Tp&amp; __a, _Tp&amp; __b)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   deduced conflicting types for parameter '_Tp' ('const char*' and 'char*')<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,<br>\nfrom tensorflow/contrib/lite/allocation.cc:27:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note: candidate: template&lt;class _Tp, long unsigned int _Nm&gt; typename std::enable_if&lt;std::__is_swappable&lt;_Tp&gt;::value&gt;::type std::swap(_Tp (&amp;)[_Nm], _Tp (&amp;)[_Nm])<br>\nswap(_Tp (&amp;__a)[_Nm], _Tp (&amp;__b)[_Nm])<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types '_Tp [_Nm]' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/utility:70:0,<br>\nfrom tensorflow/contrib/lite/allocation.cc:27:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note: candidate: template&lt;class _T1, class _T2&gt; void std::swap(std::pair&lt;_T1, _T2&gt;&amp;, std::pair&lt;_T1, _T2&gt;&amp;)<br>\nswap(pair&lt;_T1, _T2&gt;&amp; __x, pair&lt;_T1, _T2&gt;&amp; __y)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::pair&lt;_T1, _T2&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:64:0,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:22,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note: candidate: template&lt;class _Tp, class _Alloc&gt; void std::swap(std::vector&lt;_Tp, _Alloc&gt;&amp;, std::vector&lt;_Tp, _Alloc&gt;&amp;)<br>\nswap(vector&lt;_Tp, _Alloc&gt;&amp; __x, vector&lt;_Tp, _Alloc&gt;&amp; __y)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::vector&lt;_Tp, _Alloc&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:65:0,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:22,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note: candidate: void std::swap(std::_Bit_reference, std::_Bit_reference)<br>\nswap(_Bit_reference __x, _Bit_reference __y) noexcept<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}' to 'std::_Bit_reference'<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note: candidate: void std::swap(std::_Bit_reference, bool&amp;)<br>\nswap(_Bit_reference __x, bool&amp; __y) noexcept<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}' to 'std::_Bit_reference'<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note: candidate: void std::swap(bool&amp;, std::_Bit_reference)<br>\nswap(bool&amp; __x, _Bit_reference __y) noexcept<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note:   no known conversion for argument 2 from 'char*' to 'std::_Bit_reference'<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/list:63:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:18,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note: candidate: template&lt;class _Tp, class _Alloc&gt; void std::swap(std::list&lt;_Tp, _Alloc&gt;&amp;, std::list&lt;_Tp, _Alloc&gt;&amp;)<br>\nswap(list&lt;_Tp, _Alloc&gt;&amp; __x, list&lt;_Tp, _Alloc&gt;&amp; __y)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::list&lt;_Tp, _Alloc&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/string:52:0,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/stdexcept:39,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/array:39,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note: candidate: template&lt;class _CharT, class _Traits, class _Alloc&gt; void std::swap(std::basic_string&lt;_CharT, _Traits, _Alloc&gt;&amp;, std::basic_string&lt;_CharT, _Traits, _Alloc&gt;&amp;)<br>\nswap(basic_string&lt;_CharT, _Traits, _Alloc&gt;&amp; __lhs,<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::basic_string&lt;_CharT, _Traits, _Alloc&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39:0,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note: candidate: template&lt;class _Tp, long unsigned int _Nm&gt; void std::swap(std::array&lt;_Tp, _Nm&gt;&amp;, std::array&lt;_Tp, _Nm&gt;&amp;)<br>\nswap(array&lt;_Tp, _Nm&gt;&amp; __one, array&lt;_Tp, _Nm&gt;&amp; __two)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::array&lt;_Tp, _Nm&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/functional:55:0,<br>\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note: candidate: template&lt;class ... _Elements&gt; void std::swap(std::tuple&lt;_Elements ...&gt;&amp;, std::tuple&lt;_Elements ...&gt;&amp;)<br>\nswap(tuple&lt;_Elements...&gt;&amp; __x, tuple&lt;_Elements...&gt;&amp; __y)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::tuple&lt;_Elements ...&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note: candidate: template&lt;class _Res, class ... _Args&gt; void std::swap(std::function&lt;_Res(_ArgTypes ...)&gt;&amp;, std::function&lt;_Res(_ArgTypes ...)&gt;&amp;)<br>\nswap(function&lt;_Res(_Args...)&gt;&amp; __x, function&lt;_Res(_Args...)&gt;&amp; __y)<br>\n^~~~<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note:   template argument deduction/substitution failed:<br>\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,<br>\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,<br>\nfrom ./tensorflow/contrib/lite/allocation.h:25,<br>\nfrom tensorflow/contrib/lite/allocation.cc:29:<br>\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::function&lt;_Res(_ArgTypes ...)&gt;' and 'std::__tuple_element_t&lt;0ul, std::tuple&lt;const char*, std::default_delete&lt;const char []&gt; &gt; &gt; {aka const char*}'<br>\nswap(std::get&lt;0&gt;(_M_t), __p);<br>\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nCentOS 6.9\nTensorFlow installed from (source or binary):\nsource\nTensorFlow version (use command below):\n1.9.0-rc2\nPython version:\n3.6.2\nBazel version (if compiling from source):\n0.14.1\nGCC/Compiler version (if compiling from source):\ngcc 6.2.0\nCUDA/cuDNN version:\ncuda 9.0 and cudnn 7.1.1\nGPU model and memory:\nNVIDIA K80 (12GB/GPU) and P100(16GB/GPU)\nExact command to reproduce:\n\n\nexec env - \nCUDA_TOOLKIT_PATH=/apps/cuda/9.0 \nCUDNN_INSTALL_PATH=/apps/cudnn/7.1.1-cuda9.0 \nGCC_HOST_COMPILER_PATH=/apps/gcc/6.2.0/wrapper/gcc \nLD_LIBRARY_PATH=/apps/gcc/6.2.0/lib/gcc/x86_64-pc-linux-gnu/6.2.0:/apps/gcc/6.2.0/lib64:/apps/nccl/2.2.13-cuda9.0/lib:/apps/openmpi/3.1.0/lib:/apps/openmpi/3.1.0/lib/profilers:/apps/intel-ct/17.0.1.132/mkl/lib/intel64:/apps/python3/3.6.2/lib:/apps/binutils/2.25/lib:/apps/java/jdk1.8.0_60/lib:/apps/cudnn/7.1.1-cuda9.0/lib64:/apps/cuda/9.0/extras/CUPTI/lib64:/apps/cuda/9.0/lib64 \nNCCL_INSTALL_PATH=/apps/nccl/2.2.13-cuda9.0 \nPATH=/apps/gcc/6.2.0/wrapper:/apps/gcc/6.2.0/bin:/apps/openmpi/wrapper/fortran:/apps/openmpi/3.1.0/bin:/apps/python3/3.6.2/bin:/apps/binutils/2.25/bin:/apps/bazel/0.14.1/bin:/apps/java/jdk1.8.0_60/bin:/apps/cuda/9.0/bin:/home/900/yxs900/.local/bin:/opt/bin:/bin:/usr/bin \nPWD=/proc/self/cwd \nPYTHON_BIN_PATH=/apps/python3/3.6.2/bin/python3 \nPYTHON_LIB_PATH=/apps/python3/3.6.2/lib/python3.6/site-packages \nTF_CUDA_CLANG=0 \nTF_CUDA_COMPUTE_CAPABILITIES=3.7,6.0 \nTF_CUDA_VERSION=9.0 \nTF_CUDNN_VERSION=7 \nTF_NCCL_VERSION=2 \nTF_NEED_CUDA=1 \nTF_NEED_OPENCL_SYCL=0 \nexternal/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/contrib/lite/objs/framework/tensorflow/contrib/lite/allocation.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/contrib/lite/objs/framework/tensorflow/contrib/lite/allocation.pic.o' -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' -iquote . -iquote bazel-out/k8-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/k8-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote external/gemmlowp -iquote bazel-out/k8-opt/genfiles/external/gemmlowp -iquote external/flatbuffers -iquote bazel-out/k8-opt/genfiles/external/flatbuffers -isystem third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/genfiles/third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/bin/third_party/eigen3/mkl_include -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/genfiles/tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/bin/tensorflow/contrib/lite/schema -isystem external/flatbuffers/include -isystem bazel-out/k8-opt/genfiles/external/flatbuffers/include -isystem bazel-out/k8-opt/bin/external/flatbuffers/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections '-D_GLIBCXX_USE_CXX11_ABI=0' '-march=native' -DFARMHASH_NO_CXX_STRING -c tensorflow/contrib/lite/allocation.cc -o bazel-out/k8-opt/bin/tensorflow/contrib/lite/_objs/framework/tensorflow/contrib/lite/allocation.pic.o\n\nDescribe the problem\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\nThe build stops because the variables buffer and copied_buffer have different types,  char*& and const char*&, respectively, and std::swap expects identical types of their inputs and code found no candidate for std::swap, see details in the error message below. Simply change line 102 in tensorflow/contrib/lite/allocation.cc {{ copied_buffer_ = std::move(buffer); }} to {{copied_buffer_.reset(const_cast<char const *>(buffer.release()));}} fix the bug.\nSource code / logs\ntensorflow/contrib/lite/allocation.cc:102:36:   required from here\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: error: no matching function for call to 'swap(const char*&, char*&)'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,\nfrom tensorflow/contrib/lite/allocation.cc:27:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note: candidate: template typename std::enable_if<std::_and<std::is_move_constructible<_Tp>, std::is_move_assignable<_Tp> >::value>::type std::swap(_Tp&, _Tp&)\nswap(_Tp& __a, _Tp& __b)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   deduced conflicting types for parameter '_Tp' ('const char*' and 'char*')\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,\nfrom tensorflow/contrib/lite/allocation.cc:27:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note: candidate: template<class _Tp, long unsigned int _Nm> typename std::enable_if<std::__is_swappable<_Tp>::value>::type std::swap(_Tp (&)[_Nm], _Tp (&)[_Nm])\nswap(_Tp (&__a)[_Nm], _Tp (&__b)[_Nm])\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types '_Tp [_Nm]' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/utility:70:0,\nfrom tensorflow/contrib/lite/allocation.cc:27:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note: candidate: template<class _T1, class _T2> void std::swap(std::pair<_T1, _T2>&, std::pair<_T1, _T2>&)\nswap(pair<_T1, _T2>& __x, pair<_T1, _T2>& __y)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::pair<_T1, _T2>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:64:0,\nfrom ./tensorflow/contrib/lite/allocation.h:22,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note: candidate: template<class _Tp, class _Alloc> void std::swap(std::vector<_Tp, _Alloc>&, std::vector<_Tp, _Alloc>&)\nswap(vector<_Tp, _Alloc>& __x, vector<_Tp, _Alloc>& __y)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::vector<_Tp, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:65:0,\nfrom ./tensorflow/contrib/lite/allocation.h:22,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note: candidate: void std::swap(std::_Bit_reference, std::_Bit_reference)\nswap(_Bit_reference __x, _Bit_reference __y) noexcept\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}' to 'std::_Bit_reference'\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note: candidate: void std::swap(std::_Bit_reference, bool&)\nswap(_Bit_reference __x, bool& __y) noexcept\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}' to 'std::_Bit_reference'\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note: candidate: void std::swap(bool&, std::_Bit_reference)\nswap(bool& __x, _Bit_reference __y) noexcept\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note:   no known conversion for argument 2 from 'char*' to 'std::_Bit_reference'\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/list:63:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:18,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note: candidate: template<class _Tp, class _Alloc> void std::swap(std::list<_Tp, _Alloc>&, std::list<_Tp, _Alloc>&)\nswap(list<_Tp, _Alloc>& __x, list<_Tp, _Alloc>& __y)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::list<_Tp, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/string:52:0,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/stdexcept:39,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/array:39,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note: candidate: template<class _CharT, class _Traits, class _Alloc> void std::swap(std::basic_string<_CharT, _Traits, _Alloc>&, std::basic_string<_CharT, _Traits, _Alloc>&)\nswap(basic_string<_CharT, _Traits, _Alloc>& __lhs,\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::basic_string<_CharT, _Traits, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39:0,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note: candidate: template<class _Tp, long unsigned int _Nm> void std::swap(std::array<_Tp, _Nm>&, std::array<_Tp, _Nm>&)\nswap(array<_Tp, _Nm>& __one, array<_Tp, _Nm>& __two)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::array<_Tp, _Nm>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/functional:55:0,\nfrom /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note: candidate: template<class ... _Elements> void std::swap(std::tuple<_Elements ...>&, std::tuple<_Elements ...>&)\nswap(tuple<_Elements...>& __x, tuple<_Elements...>& __y)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::tuple<_Elements ...>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note: candidate: template<class _Res, class ... _Args> void std::swap(std::function<_Res(_ArgTypes ...)>&, std::function<_Res(_ArgTypes ...)>&)\nswap(function<_Res(_Args...)>& __x, function<_Res(_Args...)>& __y)\n^~~~\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note:   template argument deduction/substitution failed:\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\nfrom ./tensorflow/contrib/lite/simple_memory_arena.h:19,\nfrom ./tensorflow/contrib/lite/allocation.h:25,\nfrom tensorflow/contrib/lite/allocation.cc:29:\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::function<_Res(_ArgTypes ...)>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\nswap(std::get<0>(_M_t), __p);\n~~~~^~~~~~~~~~~~~~~~~~~~~~~~", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nCentOS 6.9 \r\n- **TensorFlow installed from (source or binary)**:\r\nsource\r\n- **TensorFlow version (use command below)**:\r\n1.9.0-rc2\r\n- **Python version**: \r\n3.6.2\r\n- **Bazel version (if compiling from source)**:\r\n0.14.1\r\n- **GCC/Compiler version (if compiling from source)**:\r\ngcc 6.2.0\r\n- **CUDA/cuDNN version**:\r\ncuda 9.0 and cudnn 7.1.1\r\n- **GPU model and memory**:\r\nNVIDIA K80 (12GB/GPU) and P100(16GB/GPU)\r\n- **Exact command to reproduce**:\r\n>   exec env - \\\r\n>     CUDA_TOOLKIT_PATH=/apps/cuda/9.0 \\\r\n>     CUDNN_INSTALL_PATH=/apps/cudnn/7.1.1-cuda9.0 \\\r\n>     GCC_HOST_COMPILER_PATH=/apps/gcc/6.2.0/wrapper/gcc \\\r\n>     LD_LIBRARY_PATH=/apps/gcc/6.2.0/lib/gcc/x86_64-pc-linux-gnu/6.2.0:/apps/gcc/6.2.0/lib64:/apps/nccl/2.2.13-cuda9.0/lib:/apps/openmpi/3.1.0/lib:/apps/openmpi/3.1.0/lib/profilers:/apps/intel-ct/17.0.1.132/mkl/lib/intel64:/apps/python3/3.6.2/lib:/apps/binutils/2.25/lib:/apps/java/jdk1.8.0_60/lib:/apps/cudnn/7.1.1-cuda9.0/lib64:/apps/cuda/9.0/extras/CUPTI/lib64:/apps/cuda/9.0/lib64 \\\r\n>     NCCL_INSTALL_PATH=/apps/nccl/2.2.13-cuda9.0 \\\r\n>     PATH=/apps/gcc/6.2.0/wrapper:/apps/gcc/6.2.0/bin:/apps/openmpi/wrapper/fortran:/apps/openmpi/3.1.0/bin:/apps/python3/3.6.2/bin:/apps/binutils/2.25/bin:/apps/bazel/0.14.1/bin:/apps/java/jdk1.8.0_60/bin:/apps/cuda/9.0/bin:/home/900/yxs900/.local/bin:/opt/bin:/bin:/usr/bin \\\r\n>     PWD=/proc/self/cwd \\\r\n>     PYTHON_BIN_PATH=/apps/python3/3.6.2/bin/python3 \\\r\n>     PYTHON_LIB_PATH=/apps/python3/3.6.2/lib/python3.6/site-packages \\\r\n>     TF_CUDA_CLANG=0 \\\r\n>     TF_CUDA_COMPUTE_CAPABILITIES=3.7,6.0 \\\r\n>     TF_CUDA_VERSION=9.0 \\\r\n>     TF_CUDNN_VERSION=7 \\\r\n>     TF_NCCL_VERSION=2 \\\r\n>     TF_NEED_CUDA=1 \\\r\n>     TF_NEED_OPENCL_SYCL=0 \\\r\n>   external/local_config_cuda/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -MD -MF bazel-out/k8-opt/bin/tensorflow/contrib/lite/_objs/framework/tensorflow/contrib/lite/allocation.pic.d '-frandom-seed=bazel-out/k8-opt/bin/tensorflow/contrib/lite/_objs/framework/tensorflow/contrib/lite/allocation.pic.o' -DEIGEN_MPL2_ONLY '-DEIGEN_MAX_ALIGN_BYTES=64' -iquote . -iquote bazel-out/k8-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/k8-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/k8-opt/genfiles/external/eigen_archive -iquote external/local_config_sycl -iquote bazel-out/k8-opt/genfiles/external/local_config_sycl -iquote external/gemmlowp -iquote bazel-out/k8-opt/genfiles/external/gemmlowp -iquote external/flatbuffers -iquote bazel-out/k8-opt/genfiles/external/flatbuffers -isystem third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/genfiles/third_party/eigen3/mkl_include -isystem bazel-out/k8-opt/bin/third_party/eigen3/mkl_include -isystem external/eigen_archive -isystem bazel-out/k8-opt/genfiles/external/eigen_archive -isystem bazel-out/k8-opt/bin/external/eigen_archive -isystem tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/genfiles/tensorflow/contrib/lite/schema -isystem bazel-out/k8-opt/bin/tensorflow/contrib/lite/schema -isystem external/flatbuffers/include -isystem bazel-out/k8-opt/genfiles/external/flatbuffers/include -isystem bazel-out/k8-opt/bin/external/flatbuffers/include '-std=c++11' -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -fPIC -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -Wall -fno-omit-frame-pointer -no-canonical-prefixes -DNDEBUG -g0 -O2 -ffunction-sections -fdata-sections '-D_GLIBCXX_USE_CXX11_ABI=0' '-march=native' -DFARMHASH_NO_CXX_STRING -c tensorflow/contrib/lite/allocation.cc -o bazel-out/k8-opt/bin/tensorflow/contrib/lite/_objs/framework/tensorflow/contrib/lite/allocation.pic.o\r\n\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nThe build stops because the variables buffer and copied_buffer have different types,  char*& and const char*&, respectively, and std::swap expects identical types of their inputs and code found no candidate for std::swap, see details in the error message below. Simply change line 102 in tensorflow/contrib/lite/allocation.cc {{ copied_buffer_ = std::move(buffer); }} to {{copied_buffer_.reset(const_cast<char const *>(buffer.release()));}} fix the bug.\r\n\r\n### Source code / logs\r\ntensorflow/contrib/lite/allocation.cc:102:36:   required from here\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: error: no matching function for call to 'swap(const char*&, char*&)'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,\r\n                 from tensorflow/contrib/lite/allocation.cc:27:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note: candidate: template<class _Tp> typename std::enable_if<std::__and_<std::is_move_constructible<_Tp>, std::is_move_assignable<_Tp> >::value>::type std::swap(_Tp&, _Tp&)\r\n     swap(_Tp& __a, _Tp& __b)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:179:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   deduced conflicting types for parameter '_Tp' ('const char*' and 'char*')\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:59:0,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/utility:70,\r\n                 from tensorflow/contrib/lite/allocation.cc:27:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note: candidate: template<class _Tp, long unsigned int _Nm> typename std::enable_if<std::__is_swappable<_Tp>::value>::type std::swap(_Tp (&)[_Nm], _Tp (&)[_Nm])\r\n     swap(_Tp (&__a)[_Nm], _Tp (&__b)[_Nm])\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/move.h:202:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types '_Tp [_Nm]' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/utility:70:0,\r\n                 from tensorflow/contrib/lite/allocation.cc:27:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note: candidate: template<class _T1, class _T2> void std::swap(std::pair<_T1, _T2>&, std::pair<_T1, _T2>&)\r\n     swap(pair<_T1, _T2>& __x, pair<_T1, _T2>& __y)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_pair.h:403:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::pair<_T1, _T2>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:64:0,\r\n                 from ./tensorflow/contrib/lite/allocation.h:22,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note: candidate: template<class _Tp, class _Alloc> void std::swap(std::vector<_Tp, _Alloc>&, std::vector<_Tp, _Alloc>&)\r\n     swap(vector<_Tp, _Alloc>& __x, vector<_Tp, _Alloc>& __y)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_vector.h:1557:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::vector<_Tp, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/vector:65:0,\r\n                 from ./tensorflow/contrib/lite/allocation.h:22,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note: candidate: void std::swap(std::_Bit_reference, std::_Bit_reference)\r\n   swap(_Bit_reference __x, _Bit_reference __y) noexcept\r\n   ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:112:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}' to 'std::_Bit_reference'\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note: candidate: void std::swap(std::_Bit_reference, bool&)\r\n   swap(_Bit_reference __x, bool& __y) noexcept\r\n   ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:120:3: note:   no known conversion for argument 1 from 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}' to 'std::_Bit_reference'\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note: candidate: void std::swap(bool&, std::_Bit_reference)\r\n   swap(bool& __x, _Bit_reference __y) noexcept\r\n   ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_bvector.h:128:3: note:   no known conversion for argument 2 from 'char*' to 'std::_Bit_reference'\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/list:63:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:18,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note: candidate: template<class _Tp, class _Alloc> void std::swap(std::list<_Tp, _Alloc>&, std::list<_Tp, _Alloc>&)\r\n     swap(list<_Tp, _Alloc>& __x, list<_Tp, _Alloc>& __y)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/stl_list.h:1918:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::list<_Tp, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/string:52:0,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/stdexcept:39,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/array:39,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note: candidate: template<class _CharT, class _Traits, class _Alloc> void std::swap(std::basic_string<_CharT, _Traits, _Alloc>&, std::basic_string<_CharT, _Traits, _Alloc>&)\r\n     swap(basic_string<_CharT, _Traits, _Alloc>& __lhs,\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/basic_string.h:5287:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::basic_string<_CharT, _Traits, _Alloc>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/tuple:39:0,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/functional:55,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note: candidate: template<class _Tp, long unsigned int _Nm> void std::swap(std::array<_Tp, _Nm>&, std::array<_Tp, _Nm>&)\r\n     swap(array<_Tp, _Nm>& __one, array<_Tp, _Nm>& __two)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/array:275:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::array<_Tp, _Nm>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/functional:55:0,\r\n                 from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note: candidate: template<class ... _Elements> void std::swap(std::tuple<_Elements ...>&, std::tuple<_Elements ...>&)\r\n     swap(tuple<_Elements...>& __x, tuple<_Elements...>& __y)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/tuple:1546:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::tuple<_Elements ...>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:79:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note: candidate: template<class _Res, class ... _Args> void std::swap(std::function<_Res(_ArgTypes ...)>&, std::function<_Res(_ArgTypes ...)>&)\r\n     swap(function<_Res(_Args...)>& __x, function<_Res(_Args...)>& __y)\r\n     ^~~~\r\n/apps/gcc/6.2.0/include/c++/6.2.0/functional:2238:5: note:   template argument deduction/substitution failed:\r\nIn file included from /apps/gcc/6.2.0/include/c++/6.2.0/memory:81:0,\r\n                 from ./tensorflow/contrib/lite/simple_memory_arena.h:19,\r\n                 from ./tensorflow/contrib/lite/allocation.h:25,\r\n                 from tensorflow/contrib/lite/allocation.cc:29:\r\n/apps/gcc/6.2.0/include/c++/6.2.0/bits/unique_ptr.h:614:6: note:   mismatched types 'std::function<_Res(_ArgTypes ...)>' and 'std::__tuple_element_t<0ul, std::tuple<const char*, std::default_delete<const char []> > > {aka const char*}'\r\n  swap(std::get<0>(_M_t), __p);\r\n  ~~~~^~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\r\n"}