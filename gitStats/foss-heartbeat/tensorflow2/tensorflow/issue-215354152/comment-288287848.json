{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/288287848", "html_url": "https://github.com/tensorflow/tensorflow/issues/8550#issuecomment-288287848", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8550", "id": 288287848, "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODI4Nzg0OA==", "user": {"login": "BrianOn99", "id": 8319689, "node_id": "MDQ6VXNlcjgzMTk2ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/8319689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BrianOn99", "html_url": "https://github.com/BrianOn99", "followers_url": "https://api.github.com/users/BrianOn99/followers", "following_url": "https://api.github.com/users/BrianOn99/following{/other_user}", "gists_url": "https://api.github.com/users/BrianOn99/gists{/gist_id}", "starred_url": "https://api.github.com/users/BrianOn99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BrianOn99/subscriptions", "organizations_url": "https://api.github.com/users/BrianOn99/orgs", "repos_url": "https://api.github.com/users/BrianOn99/repos", "events_url": "https://api.github.com/users/BrianOn99/events{/privacy}", "received_events_url": "https://api.github.com/users/BrianOn99/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-22T03:25:04Z", "updated_at": "2017-03-22T03:25:04Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3376817\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewharp\">@andrewharp</a> thanks for looking into this issue.  Actually the other demo has some non-fatal problems (I thought they were unrelated).</p>\n<h2>TF classify</h2>\n<ul>\n<li>Sometimes a Toast \"Failed\" is shown, then there is no camera preview.</li>\n<li>In case problem 1 does not happen, the camera preview is widened.</li>\n</ul>\n<h2>TF Detect</h2>\n<ul>\n<li>Same issues as TF classify</li>\n<li>I have not yet success in using it to detect any people</li>\n</ul>\n<p>I can reproduce all of these problems, except \"Failed\" Toast, in another phone (LG G4c, also android 5).  So could it be android 5 specific problem.  I have no more phones on my hand for testing so could somebody here try it out?</p>\n<p>Here is the full log from the LG phone captured from AndroidStudiio:</p>\n<pre><code>03-22 11:01:10.090 9698-9698/? I/art: Late-enabling -Xcheck:jni\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/ContextHelper: convertTheme. context-&gt;name=org.tensorflow.demo themeResourceId=2131165185\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [generateLayout] setColorNavigationBar =&gt; color=0x ff000001\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo D/PhoneWindowEx: [PWEx][generateLayout] setNavigationBarColor2 : colors=0xff000000\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [setNavigationBarColor2] color=0x ff000000\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo I/Activity: Activity.onPostResume() called \n03-22 11:01:10.270 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Render dirty regions requested: true\n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/Adreno-EGL: &lt;qeglDrvAPI_eglInitialize:379&gt;: EGL 1.4 QUALCOMM build:  (I68fa98814b)\n                                                               OpenGL ES Shader Compiler Version: E031.25.03.01\n                                                               Build Date: 07/17/15 Fri\n                                                               Local Branch: LA.BR.1.1.2_RB1-AU010-1169358\n                                                               Remote Branch: \n                                                               Local Patches: \n                                                               Reconstruct Branch: \n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/OpenGLRenderer: Initialized EGL, version 1.4\n03-22 11:01:10.290 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Enabling debug mode 0\n03-22 11:01:10.310 9698-9698/org.tensorflow.demo D/Atlas: Validating map...\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1440\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1080\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1600x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1468x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x960\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x800\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x720\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 960x720\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 864x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 854x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 848x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 800x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 720x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 768x432\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 640x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 576x432\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 480x320\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 384x288\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 352x288\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 320x240\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 240x160\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 176x144\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 144x176\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 160x120\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Chosen size: 1468x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Loading tensorflow_inference.\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took -496ms, TensorFlow version: 1.0.0\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/tensorflow: StylizeActivity: Sensor orientation: 90, Screen orientation: 0\n03-22 11:01:11.110 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7e9a3d8\n03-22 11:01:11.120 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7c21750\n03-22 11:01:11.130 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb8187ab0\n03-22 11:01:11.140 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7ed5610\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo I/CameraManager: Using legacy camera HAL.\n03-22 11:01:11.560 9698-9708/org.tensorflow.demo W/art: Suspending all threads took: 19.075ms\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:11.630 9698-9717/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Opening camera preview: 1468x1200\n03-22 11:01:11.640 9698-9698/org.tensorflow.demo I/Choreographer: Skipped 73 frames!  The application may be doing too much work on its main thread.\n03-22 11:01:11.650 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CONFIGURING\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo I/RequestThread-0: Configure outputs: 2 surfaces configured.\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo D/Camera: app passed NULL surface\n03-22 11:01:11.710 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state IDLE\n03-22 11:01:11.710 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.720 9698-9717/org.tensorflow.demo I/RequestQueue: Repeating capture request set.\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\n03-22 11:01:11.720 9698-9698/org.tensorflow.demo E/MediaProfilesEx-JNI: register_com_lge_media_MediaProfilesEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaRecorderEx-JNI: register_com_lge_media_MediaRecorderEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/AudioSystemEx: register_com_lge_media_LGAudioSystem\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/SurfaceControlEx: register_com_lge_view_SurfaceControlEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpDatabaseJNI: register_android_mtp_LGMtpDatabase\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpServerJNI: register_android_mtp_LGMtpServer\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaPlayerEx-jni: register_com_lge_view_MediaPlayerEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n                                                        \n                                                        [ 03-22 11:01:11.730  9698: 9698 D/         ]\n                                                        register_com_lge_emoji_EmojiUtil\n03-22 11:01:11.900 9698-9698/org.tensorflow.demo I/Timeline: Timeline: Activity_idle id: android.os.BinderProxy@b0a0dc1 time:128717133\n03-22 11:01:11.970 9698-9778/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/ImageReader_JNI: ImageReader_imageSetup: Overriding buffer format YUV_420_888 to 32315659.\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo I/tensorflow: StylizeActivity: Initializing at size preview size 1468x1200, stylize size 256\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 0 at size 1766400\n03-22 11:01:12.210 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 1 at size 441600\n03-22 11:01:12.220 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 2 at size 441600\n03-22 11:01:13.420 9698-9716/org.tensorflow.demo E/TensorFlowInferenceInterface: Failed to run TensorFlow session: java.lang.IllegalArgumentException: input_max_range must be larger than input_min_range.\n                                                                                 \t [[Node: transformer/contract/conv1/Relu_eightbit_quantize_transformer/contract/conv1/InstanceNorm/batchnorm/add_1 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\", _device=\"/job:localhost/replica:0/task:0/cpu:0\"](transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_min_transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_max_transformer/contract/conv1/InstanceNorm/batchnorm/add_1)]]\n03-22 11:01:13.460 9698-9716/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: inference\n                                                                   Process: org.tensorflow.demo, PID: 9698\n                                                                   java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n                                                                       at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\n                                                                       at java.util.ArrayList.get(ArrayList.java:308)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.getTensor(TensorFlowInferenceInterface.java:473)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeIntoFloatBuffer(TensorFlowInferenceInterface.java:320)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeFloat(TensorFlowInferenceInterface.java:275)\n                                                                       at org.tensorflow.demo.StylizeActivity.stylizeImage(StylizeActivity.java:591)\n                                                                       at org.tensorflow.demo.StylizeActivity.access$1400(StylizeActivity.java:66)\n                                                                       at org.tensorflow.demo.StylizeActivity$3.run(StylizeActivity.java:543)\n                                                                       at android.os.Handler.handleCallback(Handler.java:739)\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                       at android.os.Looper.loop(Looper.java:135)\n                                                                       at android.os.HandlerThread.run(HandlerThread.java:61)\n03-22 11:01:13.480 9698-9698/org.tensorflow.demo I/RequestQueue: Repeating capture request cancelled.\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.710 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:19.370 9698-9710/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\n                                                                 java.lang.IllegalStateException: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\n                                                                     at android.os.MessageQueue.enqueueMessage(MessageQueue.java:325)\n                                                                     at android.os.Handler.enqueueMessage(Handler.java:631)\n                                                                     at android.os.Handler.sendMessageAtFrontOfQueue(Handler.java:623)\n                                                                     at android.hardware.camera2.legacy.RequestThreadManager.quit(RequestThreadManager.java:941)\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.close(LegacyCameraDevice.java:444)\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.finalize(LegacyCameraDevice.java:468)\n                                                                     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:190)\n                                                                     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\n                                                                     at java.lang.Thread.run(Thread.java:818)\n</code></pre>", "body_text": "@andrewharp thanks for looking into this issue.  Actually the other demo has some non-fatal problems (I thought they were unrelated).\nTF classify\n\nSometimes a Toast \"Failed\" is shown, then there is no camera preview.\nIn case problem 1 does not happen, the camera preview is widened.\n\nTF Detect\n\nSame issues as TF classify\nI have not yet success in using it to detect any people\n\nI can reproduce all of these problems, except \"Failed\" Toast, in another phone (LG G4c, also android 5).  So could it be android 5 specific problem.  I have no more phones on my hand for testing so could somebody here try it out?\nHere is the full log from the LG phone captured from AndroidStudiio:\n03-22 11:01:10.090 9698-9698/? I/art: Late-enabling -Xcheck:jni\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/ContextHelper: convertTheme. context->name=org.tensorflow.demo themeResourceId=2131165185\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [generateLayout] setColorNavigationBar => color=0x ff000001\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo D/PhoneWindowEx: [PWEx][generateLayout] setNavigationBarColor2 : colors=0xff000000\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [setNavigationBarColor2] color=0x ff000000\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo I/Activity: Activity.onPostResume() called \n03-22 11:01:10.270 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Render dirty regions requested: true\n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: EGL 1.4 QUALCOMM build:  (I68fa98814b)\n                                                               OpenGL ES Shader Compiler Version: E031.25.03.01\n                                                               Build Date: 07/17/15 Fri\n                                                               Local Branch: LA.BR.1.1.2_RB1-AU010-1169358\n                                                               Remote Branch: \n                                                               Local Patches: \n                                                               Reconstruct Branch: \n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/OpenGLRenderer: Initialized EGL, version 1.4\n03-22 11:01:10.290 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Enabling debug mode 0\n03-22 11:01:10.310 9698-9698/org.tensorflow.demo D/Atlas: Validating map...\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1440\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1080\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1600x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1468x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x960\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x800\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x720\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 960x720\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 864x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 854x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 848x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 800x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 720x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 768x432\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 640x480\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 576x432\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 480x320\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 384x288\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 352x288\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 320x240\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 240x160\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 176x144\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 144x176\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 160x120\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Chosen size: 1468x1200\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Loading tensorflow_inference.\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took -496ms, TensorFlow version: 1.0.0\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/tensorflow: StylizeActivity: Sensor orientation: 90, Screen orientation: 0\n03-22 11:01:11.110 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7e9a3d8\n03-22 11:01:11.120 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7c21750\n03-22 11:01:11.130 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb8187ab0\n03-22 11:01:11.140 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7ed5610\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo I/CameraManager: Using legacy camera HAL.\n03-22 11:01:11.560 9698-9708/org.tensorflow.demo W/art: Suspending all threads took: 19.075ms\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\n03-22 11:01:11.630 9698-9717/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Opening camera preview: 1468x1200\n03-22 11:01:11.640 9698-9698/org.tensorflow.demo I/Choreographer: Skipped 73 frames!  The application may be doing too much work on its main thread.\n03-22 11:01:11.650 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CONFIGURING\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo I/RequestThread-0: Configure outputs: 2 surfaces configured.\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo D/Camera: app passed NULL surface\n03-22 11:01:11.710 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state IDLE\n03-22 11:01:11.710 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.720 9698-9717/org.tensorflow.demo I/RequestQueue: Repeating capture request set.\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\n03-22 11:01:11.720 9698-9698/org.tensorflow.demo E/MediaProfilesEx-JNI: register_com_lge_media_MediaProfilesEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaRecorderEx-JNI: register_com_lge_media_MediaRecorderEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/AudioSystemEx: register_com_lge_media_LGAudioSystem\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/SurfaceControlEx: register_com_lge_view_SurfaceControlEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpDatabaseJNI: register_android_mtp_LGMtpDatabase\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpServerJNI: register_android_mtp_LGMtpServer\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaPlayerEx-jni: register_com_lge_view_MediaPlayerEx\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\n                                                        \n                                                        [ 03-22 11:01:11.730  9698: 9698 D/         ]\n                                                        register_com_lge_emoji_EmojiUtil\n03-22 11:01:11.900 9698-9698/org.tensorflow.demo I/Timeline: Timeline: Activity_idle id: android.os.BinderProxy@b0a0dc1 time:128717133\n03-22 11:01:11.970 9698-9778/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/ImageReader_JNI: ImageReader_imageSetup: Overriding buffer format YUV_420_888 to 32315659.\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo I/tensorflow: StylizeActivity: Initializing at size preview size 1468x1200, stylize size 256\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 0 at size 1766400\n03-22 11:01:12.210 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 1 at size 441600\n03-22 11:01:12.220 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 2 at size 441600\n03-22 11:01:13.420 9698-9716/org.tensorflow.demo E/TensorFlowInferenceInterface: Failed to run TensorFlow session: java.lang.IllegalArgumentException: input_max_range must be larger than input_min_range.\n                                                                                 \t [[Node: transformer/contract/conv1/Relu_eightbit_quantize_transformer/contract/conv1/InstanceNorm/batchnorm/add_1 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\", _device=\"/job:localhost/replica:0/task:0/cpu:0\"](transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_min_transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_max_transformer/contract/conv1/InstanceNorm/batchnorm/add_1)]]\n03-22 11:01:13.460 9698-9716/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: inference\n                                                                   Process: org.tensorflow.demo, PID: 9698\n                                                                   java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n                                                                       at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\n                                                                       at java.util.ArrayList.get(ArrayList.java:308)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.getTensor(TensorFlowInferenceInterface.java:473)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeIntoFloatBuffer(TensorFlowInferenceInterface.java:320)\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeFloat(TensorFlowInferenceInterface.java:275)\n                                                                       at org.tensorflow.demo.StylizeActivity.stylizeImage(StylizeActivity.java:591)\n                                                                       at org.tensorflow.demo.StylizeActivity.access$1400(StylizeActivity.java:66)\n                                                                       at org.tensorflow.demo.StylizeActivity$3.run(StylizeActivity.java:543)\n                                                                       at android.os.Handler.handleCallback(Handler.java:739)\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                       at android.os.Looper.loop(Looper.java:135)\n                                                                       at android.os.HandlerThread.run(HandlerThread.java:61)\n03-22 11:01:13.480 9698-9698/org.tensorflow.demo I/RequestQueue: Repeating capture request cancelled.\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\n03-22 11:01:13.710 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.StylizeActivity@35597053\n03-22 11:01:19.370 9698-9710/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\n                                                                 java.lang.IllegalStateException: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\n                                                                     at android.os.MessageQueue.enqueueMessage(MessageQueue.java:325)\n                                                                     at android.os.Handler.enqueueMessage(Handler.java:631)\n                                                                     at android.os.Handler.sendMessageAtFrontOfQueue(Handler.java:623)\n                                                                     at android.hardware.camera2.legacy.RequestThreadManager.quit(RequestThreadManager.java:941)\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.close(LegacyCameraDevice.java:444)\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.finalize(LegacyCameraDevice.java:468)\n                                                                     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:190)\n                                                                     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\n                                                                     at java.lang.Thread.run(Thread.java:818)", "body": "@andrewharp thanks for looking into this issue.  Actually the other demo has some non-fatal problems (I thought they were unrelated).\r\n\r\n## TF classify\r\n- Sometimes a Toast \"Failed\" is shown, then there is no camera preview.\r\n- In case problem 1 does not happen, the camera preview is widened.\r\n## TF Detect\r\n- Same issues as TF classify\r\n- I have not yet success in using it to detect any people\r\n\r\nI can reproduce all of these problems, except \"Failed\" Toast, in another phone (LG G4c, also android 5).  So could it be android 5 specific problem.  I have no more phones on my hand for testing so could somebody here try it out?\r\n\r\nHere is the full log from the LG phone captured from AndroidStudiio:\r\n```\r\n03-22 11:01:10.090 9698-9698/? I/art: Late-enabling -Xcheck:jni\r\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/ContextHelper: convertTheme. context->name=org.tensorflow.demo themeResourceId=2131165185\r\n03-22 11:01:10.230 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onCreate org.tensorflow.demo.StylizeActivity@35597053\r\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [generateLayout] setColorNavigationBar => color=0x ff000001\r\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo D/PhoneWindowEx: [PWEx][generateLayout] setNavigationBarColor2 : colors=0xff000000\r\n03-22 11:01:10.240 9698-9698/org.tensorflow.demo I/PhoneWindow: [setNavigationBarColor2] color=0x ff000000\r\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onStart org.tensorflow.demo.StylizeActivity@35597053\r\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onResume org.tensorflow.demo.StylizeActivity@35597053\r\n03-22 11:01:10.260 9698-9698/org.tensorflow.demo I/Activity: Activity.onPostResume() called \r\n03-22 11:01:10.270 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Render dirty regions requested: true\r\n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/Adreno-EGL: <qeglDrvAPI_eglInitialize:379>: EGL 1.4 QUALCOMM build:  (I68fa98814b)\r\n                                                               OpenGL ES Shader Compiler Version: E031.25.03.01\r\n                                                               Build Date: 07/17/15 Fri\r\n                                                               Local Branch: LA.BR.1.1.2_RB1-AU010-1169358\r\n                                                               Remote Branch: \r\n                                                               Local Patches: \r\n                                                               Reconstruct Branch: \r\n03-22 11:01:10.270 9698-9718/org.tensorflow.demo I/OpenGLRenderer: Initialized EGL, version 1.4\r\n03-22 11:01:10.290 9698-9718/org.tensorflow.demo D/OpenGLRenderer: Enabling debug mode 0\r\n03-22 11:01:10.310 9698-9698/org.tensorflow.demo D/Atlas: Validating map...\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\r\n03-22 11:01:10.390 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1440\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1200\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1920x1080\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1600x1200\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Adding size: 1468x1200\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x960\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x800\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 1280x720\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 960x720\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 864x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 854x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 848x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 800x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 720x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 768x432\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 640x480\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 576x432\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 480x320\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 384x288\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 352x288\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 320x240\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 240x160\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 176x144\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 144x176\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Not adding size: 160x120\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Chosen size: 1468x1200\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo E/art: No implementation found for long org.tensorflow.contrib.android.RunStats.allocate() (tried Java_org_tensorflow_contrib_android_RunStats_allocate and Java_org_tensorflow_contrib_android_RunStats_allocate__)\r\n03-22 11:01:10.400 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Loading tensorflow_inference.\r\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/TensorFlowInferenceInterface: Model load took -496ms, TensorFlow version: 1.0.0\r\n03-22 11:01:11.000 9698-9698/org.tensorflow.demo I/tensorflow: StylizeActivity: Sensor orientation: 90, Screen orientation: 0\r\n03-22 11:01:11.110 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7e9a3d8\r\n03-22 11:01:11.120 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7c21750\r\n03-22 11:01:11.130 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb8187ab0\r\n03-22 11:01:11.140 9698-9713/org.tensorflow.demo I/art: CheckpointMarkThreadRoots callback created = 0xb7ed5610\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\r\n03-22 11:01:11.420 9698-9698/org.tensorflow.demo I/CameraManager: Using legacy camera HAL.\r\n03-22 11:01:11.560 9698-9708/org.tensorflow.demo W/art: Suspending all threads took: 19.075ms\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value mw_continuous-picture\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value manual\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value emboss\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value sketch\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value neon\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value asd\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value backlight\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value flowers\r\n03-22 11:01:11.610 9698-9698/org.tensorflow.demo W/ArrayUtils: Ignoring invalid value AR\r\n03-22 11:01:11.630 9698-9717/org.tensorflow.demo I/tensorflow: CameraConnectionFragment: Opening camera preview: 1468x1200\r\n03-22 11:01:11.640 9698-9698/org.tensorflow.demo I/Choreographer: Skipped 73 frames!  The application may be doing too much work on its main thread.\r\n03-22 11:01:11.650 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CONFIGURING\r\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo I/RequestThread-0: Configure outputs: 2 surfaces configured.\r\n03-22 11:01:11.650 9698-9777/org.tensorflow.demo D/Camera: app passed NULL surface\r\n03-22 11:01:11.710 9698-9717/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state IDLE\r\n03-22 11:01:11.710 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\r\n03-22 11:01:11.720 9698-9717/org.tensorflow.demo I/RequestQueue: Repeating capture request set.\r\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: convertRequestMetadata - control.awbRegions setting is not supported, ignoring value\r\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\r\n03-22 11:01:11.720 9698-9777/org.tensorflow.demo W/LegacyRequestMapper: Only received metering rectangles with weight 0.\r\n03-22 11:01:11.720 9698-9698/org.tensorflow.demo E/MediaProfilesEx-JNI: register_com_lge_media_MediaProfilesEx\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaRecorderEx-JNI: register_com_lge_media_MediaRecorderEx\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/AudioSystemEx: register_com_lge_media_LGAudioSystem\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/SurfaceControlEx: register_com_lge_view_SurfaceControlEx\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpDatabaseJNI: register_android_mtp_LGMtpDatabase\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo D/LGMtpServerJNI: register_android_mtp_LGMtpServer\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo E/MediaPlayerEx-jni: register_com_lge_view_MediaPlayerEx\r\n03-22 11:01:11.730 9698-9698/org.tensorflow.demo I/art: Thread[1,tid=9698,WaitingForJniOnLoad,Thread*=0xb752c300,peer=0x766c3328,\"main\"] recursive attempt to load library \"/system/lib/libhook_jni.so\"\r\n                                                        \r\n                                                        [ 03-22 11:01:11.730  9698: 9698 D/         ]\r\n                                                        register_com_lge_emoji_EmojiUtil\r\n03-22 11:01:11.900 9698-9698/org.tensorflow.demo I/Timeline: Timeline: Activity_idle id: android.os.BinderProxy@b0a0dc1 time:128717133\r\n03-22 11:01:11.970 9698-9778/org.tensorflow.demo I/CameraDeviceState: Legacy camera service transitioning to state CAPTURING\r\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/ImageReader_JNI: ImageReader_imageSetup: Overriding buffer format YUV_420_888 to 32315659.\r\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo I/tensorflow: StylizeActivity: Initializing at size preview size 1468x1200, stylize size 256\r\n03-22 11:01:12.200 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 0 at size 1766400\r\n03-22 11:01:12.210 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 1 at size 441600\r\n03-22 11:01:12.220 9698-9717/org.tensorflow.demo D/tensorflow: CameraActivity: Initializing buffer 2 at size 441600\r\n03-22 11:01:13.420 9698-9716/org.tensorflow.demo E/TensorFlowInferenceInterface: Failed to run TensorFlow session: java.lang.IllegalArgumentException: input_max_range must be larger than input_min_range.\r\n                                                                                 \t [[Node: transformer/contract/conv1/Relu_eightbit_quantize_transformer/contract/conv1/InstanceNorm/batchnorm/add_1 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\", _device=\"/job:localhost/replica:0/task:0/cpu:0\"](transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_min_transformer/contract/conv1/InstanceNorm/batchnorm/add_1, transformer/contract/conv1/Relu_eightbit_max_transformer/contract/conv1/InstanceNorm/batchnorm/add_1)]]\r\n03-22 11:01:13.460 9698-9716/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: inference\r\n                                                                   Process: org.tensorflow.demo, PID: 9698\r\n                                                                   java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\r\n                                                                       at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)\r\n                                                                       at java.util.ArrayList.get(ArrayList.java:308)\r\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.getTensor(TensorFlowInferenceInterface.java:473)\r\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeIntoFloatBuffer(TensorFlowInferenceInterface.java:320)\r\n                                                                       at org.tensorflow.contrib.android.TensorFlowInferenceInterface.readNodeFloat(TensorFlowInferenceInterface.java:275)\r\n                                                                       at org.tensorflow.demo.StylizeActivity.stylizeImage(StylizeActivity.java:591)\r\n                                                                       at org.tensorflow.demo.StylizeActivity.access$1400(StylizeActivity.java:66)\r\n                                                                       at org.tensorflow.demo.StylizeActivity$3.run(StylizeActivity.java:543)\r\n                                                                       at android.os.Handler.handleCallback(Handler.java:739)\r\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                                                                       at android.os.Looper.loop(Looper.java:135)\r\n                                                                       at android.os.HandlerThread.run(HandlerThread.java:61)\r\n03-22 11:01:13.480 9698-9698/org.tensorflow.demo I/RequestQueue: Repeating capture request cancelled.\r\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\r\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\r\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\r\n03-22 11:01:13.640 9698-9714/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\r\n03-22 11:01:13.640 9698-9715/org.tensorflow.demo E/BufferQueueProducer: [unnamed-9698-2] cancelBuffer: BufferQueue has been abandoned\r\n03-22 11:01:13.710 9698-9698/org.tensorflow.demo D/tensorflow: CameraActivity: onPause org.tensorflow.demo.StylizeActivity@35597053\r\n03-22 11:01:19.370 9698-9710/org.tensorflow.demo W/MessageQueue: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\r\n                                                                 java.lang.IllegalStateException: Handler (android.os.Handler) {eaa714e} sending message to a Handler on a dead thread\r\n                                                                     at android.os.MessageQueue.enqueueMessage(MessageQueue.java:325)\r\n                                                                     at android.os.Handler.enqueueMessage(Handler.java:631)\r\n                                                                     at android.os.Handler.sendMessageAtFrontOfQueue(Handler.java:623)\r\n                                                                     at android.hardware.camera2.legacy.RequestThreadManager.quit(RequestThreadManager.java:941)\r\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.close(LegacyCameraDevice.java:444)\r\n                                                                     at android.hardware.camera2.legacy.LegacyCameraDevice.finalize(LegacyCameraDevice.java:468)\r\n                                                                     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:190)\r\n                                                                     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\r\n                                                                     at java.lang.Thread.run(Thread.java:818)\r\n```"}