{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22595", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22595/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22595/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22595/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/22595", "id": 364854385, "node_id": "MDU6SXNzdWUzNjQ4NTQzODU=", "number": 22595, "title": "is it tensorflow example bug ?", "user": {"login": "Q82822", "id": 36806042, "node_id": "MDQ6VXNlcjM2ODA2MDQy", "avatar_url": "https://avatars2.githubusercontent.com/u/36806042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Q82822", "html_url": "https://github.com/Q82822", "followers_url": "https://api.github.com/users/Q82822/followers", "following_url": "https://api.github.com/users/Q82822/following{/other_user}", "gists_url": "https://api.github.com/users/Q82822/gists{/gist_id}", "starred_url": "https://api.github.com/users/Q82822/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Q82822/subscriptions", "organizations_url": "https://api.github.com/users/Q82822/orgs", "repos_url": "https://api.github.com/users/Q82822/repos", "events_url": "https://api.github.com/users/Q82822/events{/privacy}", "received_events_url": "https://api.github.com/users/Q82822/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-09-28T11:42:06Z", "updated_at": "2018-11-09T17:09:13Z", "closed_at": null, "author_association": "NONE", "body_html": "<h3>System information</h3>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): window10 and jupyter<br>\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: iPhone X<br>\nTensorFlow installed from (source or binary): source<br>\nTensorFlow version (use command below): 1.11<br>\nPython version: 3.6<br>\nBazel version (if compiling from source):<br>\nGCC/Compiler version (if compiling from source):<br>\nCUDA/cuDNN version: 9.1 / 7.1<br>\nGPU model and memory:<br>\nExact command to reproduce:</p>\n<h3>Describe the problem</h3>\n<p>I used the tensorflow github example form <a href=\"https://colab.research.google.com/github/tensorflow/tensorflow/blob/master/tensorflow/contrib/eager/python/examples/generative_examples/image_captioning_with_attention.ipynb#scrollTo=Cffg2i257iMS\" rel=\"nofollow\">here</a> change the CNN model<br>\n<code>img = tf.keras.applications.inception_v3.preprocess_input(img) ---&gt;img = tf.keras.applications.inception_resnet_v2.preprocess_input(img)</code></p>\n<p><code>image_model = tf.keras.applications.InceptionV3(include_top=False, weights='imagenet') ----&gt;image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')</code></p>\n<p>the output</p>\n<pre><code>Epoch 1 Batch 0 Loss nan\nEpoch 1 Batch 100 Loss nan\nEpoch 1 Batch 200 Loss nan\nEpoch 1 Batch 300 Loss nan\nEpoch 1 Loss nan\n</code></pre>\n<p>i have tried to change the learning rate and loss function,even others CNN model (vgg19,vgg16) but it was same</p>\n<h3>Source code / logs</h3>\n<p>the Source code is tensorflow example <a href=\"https://colab.research.google.com/github/tensorflow/tensorflow/blob/master/tensorflow/contrib/eager/python/examples/generative_examples/image_captioning_with_attention.ipynb#scrollTo=Cffg2i257iMS\" rel=\"nofollow\">from here</a><br>\nyou just need to change the CNN model and wait a few minute  run it.</p>", "body_text": "System information\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): window10 and jupyter\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: iPhone X\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below): 1.11\nPython version: 3.6\nBazel version (if compiling from source):\nGCC/Compiler version (if compiling from source):\nCUDA/cuDNN version: 9.1 / 7.1\nGPU model and memory:\nExact command to reproduce:\nDescribe the problem\nI used the tensorflow github example form here change the CNN model\nimg = tf.keras.applications.inception_v3.preprocess_input(img) --->img = tf.keras.applications.inception_resnet_v2.preprocess_input(img)\nimage_model = tf.keras.applications.InceptionV3(include_top=False, weights='imagenet') ---->image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')\nthe output\nEpoch 1 Batch 0 Loss nan\nEpoch 1 Batch 100 Loss nan\nEpoch 1 Batch 200 Loss nan\nEpoch 1 Batch 300 Loss nan\nEpoch 1 Loss nan\n\ni have tried to change the learning rate and loss function,even others CNN model (vgg19,vgg16) but it was same\nSource code / logs\nthe Source code is tensorflow example from here\nyou just need to change the CNN model and wait a few minute  run it.", "body": "\r\n\r\n### System information\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): window10 and jupyter\r\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: iPhone X\r\nTensorFlow installed from (source or binary): source\r\nTensorFlow version (use command below): 1.11\r\nPython version: 3.6\r\nBazel version (if compiling from source):\r\nGCC/Compiler version (if compiling from source):\r\nCUDA/cuDNN version: 9.1 / 7.1\r\nGPU model and memory:\r\nExact command to reproduce:\r\n\r\n\r\n### Describe the problem\r\nI used the tensorflow github example form [here](https://colab.research.google.com/github/tensorflow/tensorflow/blob/master/tensorflow/contrib/eager/python/examples/generative_examples/image_captioning_with_attention.ipynb#scrollTo=Cffg2i257iMS) change the CNN model \r\n`img = tf.keras.applications.inception_v3.preprocess_input(img)\r\n--->img = tf.keras.applications.inception_resnet_v2.preprocess_input(img)`\r\n\r\n`image_model = tf.keras.applications.InceptionV3(include_top=False, weights='imagenet')\r\n---->image_model =tf.keras.applications.InceptionResNetV2(include_top=False, weights='imagenet')`\r\n\r\nthe output\r\n```\r\nEpoch 1 Batch 0 Loss nan\r\nEpoch 1 Batch 100 Loss nan\r\nEpoch 1 Batch 200 Loss nan\r\nEpoch 1 Batch 300 Loss nan\r\nEpoch 1 Loss nan\r\n```\r\ni have tried to change the learning rate and loss function,even others CNN model (vgg19,vgg16) but it was same \r\n\r\n### Source code / logs\r\nthe Source code is tensorflow example [from here](https://colab.research.google.com/github/tensorflow/tensorflow/blob/master/tensorflow/contrib/eager/python/examples/generative_examples/image_captioning_with_attention.ipynb#scrollTo=Cffg2i257iMS)\r\nyou just need to change the CNN model and wait a few minute  run it."}