{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/313311438", "html_url": "https://github.com/tensorflow/tensorflow/issues/11122#issuecomment-313311438", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11122", "id": 313311438, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzMxMTQzOA==", "user": {"login": "JeremyCCHsu", "id": 16027371, "node_id": "MDQ6VXNlcjE2MDI3Mzcx", "avatar_url": "https://avatars2.githubusercontent.com/u/16027371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeremyCCHsu", "html_url": "https://github.com/JeremyCCHsu", "followers_url": "https://api.github.com/users/JeremyCCHsu/followers", "following_url": "https://api.github.com/users/JeremyCCHsu/following{/other_user}", "gists_url": "https://api.github.com/users/JeremyCCHsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeremyCCHsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeremyCCHsu/subscriptions", "organizations_url": "https://api.github.com/users/JeremyCCHsu/orgs", "repos_url": "https://api.github.com/users/JeremyCCHsu/repos", "events_url": "https://api.github.com/users/JeremyCCHsu/events{/privacy}", "received_events_url": "https://api.github.com/users/JeremyCCHsu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-06T06:50:25Z", "updated_at": "2017-07-06T07:25:42Z", "author_association": "NONE", "body_html": "<p>I have the same problem (built from source, XLA and GPU enabled).<br>\n(Note that this error doesn't occur in the binary version from the official website.)</p>\n<h3>Code to reproduce the issue:</h3>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nx <span class=\"pl-k\">=</span> tf.ones([<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">1</span>])\ny <span class=\"pl-k\">=</span> tf.layers.dense(x, <span class=\"pl-c1\">3</span>)\n\nsv <span class=\"pl-k\">=</span> tf.train.Supervisor()\nsess <span class=\"pl-k\">=</span> sv.prepare_or_wait_for_session()  <span class=\"pl-c\"><span class=\"pl-c\">#</span> this triggers error</span></pre></div>\n<p>The error message:</p>\n<pre><code>2017-07-06 14:41:11.341941: F tensorflow/compiler/xla/statusor.cc:41] Attempting to fetch value instead of handling error Not found: could not find registered computation placer for platform Executor -- check target linkage\nAborted (core dumped)\n</code></pre>\n<p>However, replacing the last 2 lines with the following won't trigger the error.</p>\n<div class=\"highlight highlight-source-python\"><pre>sess <span class=\"pl-k\">=</span> tf.Session()\nsess.run(tf.initialize_all_variables())\nsess.run(y)</pre></div>\n<p>This yielded normal output and did not trigger core dump.</p>\n<p>Unlike what <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12480405\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ramanishka\">@ramanishka</a> mentioned, using <code>with tf.device('/cpu')</code> cannot prevent the error in my case.</p>\n<h3>System Info</h3>\n<p>OS: Ubuntu 16.04<br>\nTensorflow: 1.2.1, built from source<br>\ncommit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/ee4259a271f56a32f046cb840215f1370acaf186/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/ee4259a271f56a32f046cb840215f1370acaf186\"><tt>ee4259a</tt></a><br>\n(and commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/43a819e1386195f7010f8ca9c74ed96ab81913d8/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/43a819e1386195f7010f8ca9c74ed96ab81913d8\"><tt>43a819e</tt></a>)<br>\nPython: 3.5.3<br>\nBazel: release 0.5.2<br>\nCUDA/cuDNN: 8.0/6.0<br>\nGPU: GeForce GTX TITAN X</p>", "body_text": "I have the same problem (built from source, XLA and GPU enabled).\n(Note that this error doesn't occur in the binary version from the official website.)\nCode to reproduce the issue:\nimport tensorflow as tf\n\nx = tf.ones([2, 1])\ny = tf.layers.dense(x, 3)\n\nsv = tf.train.Supervisor()\nsess = sv.prepare_or_wait_for_session()  # this triggers error\nThe error message:\n2017-07-06 14:41:11.341941: F tensorflow/compiler/xla/statusor.cc:41] Attempting to fetch value instead of handling error Not found: could not find registered computation placer for platform Executor -- check target linkage\nAborted (core dumped)\n\nHowever, replacing the last 2 lines with the following won't trigger the error.\nsess = tf.Session()\nsess.run(tf.initialize_all_variables())\nsess.run(y)\nThis yielded normal output and did not trigger core dump.\nUnlike what @ramanishka mentioned, using with tf.device('/cpu') cannot prevent the error in my case.\nSystem Info\nOS: Ubuntu 16.04\nTensorflow: 1.2.1, built from source\ncommit ee4259a\n(and commit 43a819e)\nPython: 3.5.3\nBazel: release 0.5.2\nCUDA/cuDNN: 8.0/6.0\nGPU: GeForce GTX TITAN X", "body": "I have the same problem (built from source, XLA and GPU enabled).    \r\n(Note that this error doesn't occur in the binary version from the official website.)\r\n\r\n### Code to reproduce the issue:\r\n```python\r\nimport tensorflow as tf\r\n\r\nx = tf.ones([2, 1])\r\ny = tf.layers.dense(x, 3)\r\n\r\nsv = tf.train.Supervisor()\r\nsess = sv.prepare_or_wait_for_session()  # this triggers error\r\n```\r\n\r\nThe error message:\r\n```\r\n2017-07-06 14:41:11.341941: F tensorflow/compiler/xla/statusor.cc:41] Attempting to fetch value instead of handling error Not found: could not find registered computation placer for platform Executor -- check target linkage\r\nAborted (core dumped)\r\n```\r\n\r\nHowever, replacing the last 2 lines with the following won't trigger the error.\r\n```python\r\nsess = tf.Session()\r\nsess.run(tf.initialize_all_variables())\r\nsess.run(y)\r\n```\r\nThis yielded normal output and did not trigger core dump. \r\n\r\n\r\nUnlike what @ramanishka mentioned, using `with tf.device('/cpu')` cannot prevent the error in my case.\r\n\r\n\r\n### System Info\r\nOS: Ubuntu 16.04\r\nTensorflow: 1.2.1, built from source  \r\n  commit ee4259a271f56a32f046cb840215f1370acaf186\r\n  (and commit 43a819e1386195f7010f8ca9c74ed96ab81913d8)\r\nPython: 3.5.3\r\nBazel: release 0.5.2\r\nCUDA/cuDNN: 8.0/6.0\r\nGPU: GeForce GTX TITAN X\r\n"}