{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10275", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10275/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10275/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10275/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10275", "id": 232012846, "node_id": "MDU6SXNzdWUyMzIwMTI4NDY=", "number": 10275, "title": "TF 1.2.0-rc1: Build with MKL failed", "user": {"login": "untom", "id": 3627551, "node_id": "MDQ6VXNlcjM2Mjc1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3627551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/untom", "html_url": "https://github.com/untom", "followers_url": "https://api.github.com/users/untom/followers", "following_url": "https://api.github.com/users/untom/following{/other_user}", "gists_url": "https://api.github.com/users/untom/gists{/gist_id}", "starred_url": "https://api.github.com/users/untom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/untom/subscriptions", "organizations_url": "https://api.github.com/users/untom/orgs", "repos_url": "https://api.github.com/users/untom/repos", "events_url": "https://api.github.com/users/untom/events{/privacy}", "received_events_url": "https://api.github.com/users/untom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-29T12:42:27Z", "updated_at": "2017-06-07T10:58:18Z", "closed_at": "2017-06-07T10:58:18Z", "author_association": "NONE", "body_html": "<p>Hi!<br>\nI just tried building TF 1.2.0-rc1 with MKL, using:</p>\n<pre><code>bazel build --config=opt --config=cuda --config=mkl --copt=\"-DEIGEN_USE_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\n</code></pre>\n<p>Where, in the <code>'./configure</code> step I said \"yes\" to both using MKL and to downloading it from the web. I get the following error:</p>\n<pre><code>ERROR: /dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/BUILD:1544:1: undeclared inclusion(s) in rule '//tensorflow/core:core_cpu_base':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/graph/mkl_tfconversion_pass.cc':\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/function.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_mgr.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/optimization_registry.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_set.h'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n</code></pre>\n<p>EDIT: I used bazel 0.4.5 and Python 3.6.1</p>", "body_text": "Hi!\nI just tried building TF 1.2.0-rc1 with MKL, using:\nbazel build --config=opt --config=cuda --config=mkl --copt=\"-DEIGEN_USE_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\n\nWhere, in the './configure step I said \"yes\" to both using MKL and to downloading it from the web. I get the following error:\nERROR: /dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/BUILD:1544:1: undeclared inclusion(s) in rule '//tensorflow/core:core_cpu_base':\nthis rule is missing dependency declarations for the following files included by 'tensorflow/core/graph/mkl_tfconversion_pass.cc':\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/function.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_mgr.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/optimization_registry.h'\n  '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_set.h'.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n\nEDIT: I used bazel 0.4.5 and Python 3.6.1", "body": "Hi!\r\nI just tried building TF 1.2.0-rc1 with MKL, using:\r\n\r\n    bazel build --config=opt --config=cuda --config=mkl --copt=\"-DEIGEN_USE_VML\" -c opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\nWhere, in the `'./configure` step I said \"yes\" to both using MKL and to downloading it from the web. I get the following error:\r\n\r\n    ERROR: /dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/BUILD:1544:1: undeclared inclusion(s) in rule '//tensorflow/core:core_cpu_base':\r\n    this rule is missing dependency declarations for the following files included by 'tensorflow/core/graph/mkl_tfconversion_pass.cc':\r\n      '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/function.h'\r\n      '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_mgr.h'\r\n      '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/optimization_registry.h'\r\n      '/dataSSD/untom/tmp/tensorflow-1.2.0-rc1/tensorflow/core/common_runtime/device_set.h'.\r\n    Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n    Use --verbose_failures to see the command lines of failed build steps.\r\n\r\n\r\nEDIT: I used bazel 0.4.5 and Python 3.6.1\r\n"}