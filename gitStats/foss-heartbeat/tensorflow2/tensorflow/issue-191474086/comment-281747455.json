{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/281747455", "html_url": "https://github.com/tensorflow/tensorflow/issues/5827#issuecomment-281747455", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5827", "id": 281747455, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTc0NzQ1NQ==", "user": {"login": "kvrd18", "id": 10166968, "node_id": "MDQ6VXNlcjEwMTY2OTY4", "avatar_url": "https://avatars3.githubusercontent.com/u/10166968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvrd18", "html_url": "https://github.com/kvrd18", "followers_url": "https://api.github.com/users/kvrd18/followers", "following_url": "https://api.github.com/users/kvrd18/following{/other_user}", "gists_url": "https://api.github.com/users/kvrd18/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvrd18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvrd18/subscriptions", "organizations_url": "https://api.github.com/users/kvrd18/orgs", "repos_url": "https://api.github.com/users/kvrd18/repos", "events_url": "https://api.github.com/users/kvrd18/events{/privacy}", "received_events_url": "https://api.github.com/users/kvrd18/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-22T17:52:29Z", "updated_at": "2017-02-22T17:52:29Z", "author_association": "NONE", "body_html": "<p>I get the following error when I use <code>tf.train.ExponentialMovingAverage</code> to update <code>batch_mean</code> and <code>batch_var</code> in batch normalization. This error pops up specifically when I try to restore a checkpoint.</p>\n<div class=\"highlight highlight-source-shell\"><pre>NotFoundError (see above <span class=\"pl-k\">for</span> <span class=\"pl-smi\">traceback): Key D4/cond/D4/moments/moments_1/mean/ExponentialMovingAverage not found</span> <span class=\"pl-k\">in</span> checkpoint \n[[Node: save/RestoreV2_36 <span class=\"pl-k\">=</span> RestoreV2[dtypes<span class=\"pl-k\">=</span>[DT_FLOAT], _device<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/cpu:0<span class=\"pl-pds\">\"</span></span>](_recv_save/Const_0, save/RestoreV2_36/tensor_names, save/RestoreV2_36/shape_and_slices)]] \n[[Node: save/RestoreV2_117/_105 <span class=\"pl-k\">=</span> _Recv[client_terminated<span class=\"pl-k\">=</span>false, recv_device<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/gpu:0<span class=\"pl-pds\">\"</span></span>, send_device<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/cpu:0<span class=\"pl-pds\">\"</span></span>, send_device_incarnation<span class=\"pl-k\">=</span>1, tensor_name<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>edge_561_save/RestoreV2_117<span class=\"pl-pds\">\"</span></span>, tensor_type<span class=\"pl-k\">=</span>DT_FLOAT, _device<span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/job:localhost/replica:0/task:0/gpu:0<span class=\"pl-pds\">\"</span></span>]()]]</pre></div>\n<p>Do I have to update TensorFlow to the latest version to solve this problem?</p>", "body_text": "I get the following error when I use tf.train.ExponentialMovingAverage to update batch_mean and batch_var in batch normalization. This error pops up specifically when I try to restore a checkpoint.\nNotFoundError (see above for traceback): Key D4/cond/D4/moments/moments_1/mean/ExponentialMovingAverage not found in checkpoint \n[[Node: save/RestoreV2_36 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_36/tensor_names, save/RestoreV2_36/shape_and_slices)]] \n[[Node: save/RestoreV2_117/_105 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_561_save/RestoreV2_117\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\nDo I have to update TensorFlow to the latest version to solve this problem?", "body": "I get the following error when I use `tf.train.ExponentialMovingAverage` to update `batch_mean` and `batch_var` in batch normalization. This error pops up specifically when I try to restore a checkpoint.\r\n\r\n```bash\r\nNotFoundError (see above for traceback): Key D4/cond/D4/moments/moments_1/mean/ExponentialMovingAverage not found in checkpoint \r\n[[Node: save/RestoreV2_36 = RestoreV2[dtypes=[DT_FLOAT], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](_recv_save/Const_0, save/RestoreV2_36/tensor_names, save/RestoreV2_36/shape_and_slices)]] \r\n[[Node: save/RestoreV2_117/_105 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_561_save/RestoreV2_117\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n```\r\n\r\nDo I have to update TensorFlow to the latest version to solve this problem?"}