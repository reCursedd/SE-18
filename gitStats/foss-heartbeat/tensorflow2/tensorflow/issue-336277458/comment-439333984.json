{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/439333984", "html_url": "https://github.com/tensorflow/tensorflow/issues/20346#issuecomment-439333984", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20346", "id": 439333984, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTMzMzk4NA==", "user": {"login": "formath", "id": 6040127, "node_id": "MDQ6VXNlcjYwNDAxMjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/6040127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/formath", "html_url": "https://github.com/formath", "followers_url": "https://api.github.com/users/formath/followers", "following_url": "https://api.github.com/users/formath/following{/other_user}", "gists_url": "https://api.github.com/users/formath/gists{/gist_id}", "starred_url": "https://api.github.com/users/formath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/formath/subscriptions", "organizations_url": "https://api.github.com/users/formath/orgs", "repos_url": "https://api.github.com/users/formath/repos", "events_url": "https://api.github.com/users/formath/events{/privacy}", "received_events_url": "https://api.github.com/users/formath/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-16T09:28:38Z", "updated_at": "2018-11-16T11:28:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> The similar problem occurs at the end of an iteration when using <code>DataSet</code> api, while the old <code>Queue</code> based data api is fine.</p>\n<p>TF version: 1.12 build from source<br>\nLinux kernel: 3.10.0<br>\nDistributed running on yarn, only cpu. Every time, several random nodes will hang forever.</p>\n<pre><code>Thread 217 (Thread 0x7fce01b3e700 (LWP 100195)):\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\n#1  0x00007fcdf8b3082c in std::condition_variable::wait(std::unique_lock&lt;std::mutex&gt;&amp;) () from /lib64/libstdc++.so.6\n#2  0x00007fce5be86d30 in Eigen::NonBlockingThreadPoolTempl&lt;tensorflow::thread::EigenEnvironment&gt;::WaitForWork(Eigen::EventCount::Waiter*, tensorflow::thread::EigenEnvironment::Task*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#3  0x00007fce5be87784 in Eigen::NonBlockingThreadPoolTempl&lt;tensorflow::thread::EigenEnvironment&gt;::WorkerLoop(int) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#4  0x00007fce5be86482 in std::_Function_handler&lt;void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function&lt;void ()&gt;)::{lambda()#1}&gt;::_M_invoke(std::_Any_data const&amp;) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tar.gz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#5  0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\n#6  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#7  0x00007fce7e031bad in clone () from /lib64/libc.so.6\nThread 3 (Thread 0x7fc99ffff700 (LWP 104238)):\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\n#1  0x00007fcd7b5aa187 in gpr_cv_wait () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#2  0x00007fcd7b58680c in executor_thread(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fcd7b5aae8c in grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*)::{lambda(void*)#1}::_FUN(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#5  0x00007fce7e031bad in clone () from /lib64/libc.so.6\nThread 2 (Thread 0x7fc99f7fe700 (LWP 119076)):\n#0  0x00007fce7e02bec9 in syscall () from /lib64/libc.so.6\n#1  0x00007fcd7b4625d4 in nsync::nsync_mu_semaphore_p_with_deadline(nsync::nsync_semaphore_s_*, timespec) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#2  0x00007fcd7b461db1 in nsync::nsync_sem_wait_with_cancel_(nsync::waiter*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fcd7b45f2e4 in nsync::nsync_cv_wait_with_deadline_generic(nsync::nsync_cv_s_*, void*, void (*)(void*), void (*)(void*), timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fcd7b45f805 in nsync::nsync_cv_wait_with_deadline(nsync::nsync_cv_s_*, nsync::nsync_mu_s_*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#5  0x00007fcd78af538b in tensorflow::BlockingCounter::Wait() () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#6  0x00007fcd78b02a66 in tensorflow::Status tensorflow::MasterSession::ReffedClientGraph::RunPartitionsHelper&lt;std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt;, tensorflow::RunStepRequestWrapper, tensorflow::MutableRunStepResponseWrapper&gt;(std::unordered_map&lt;absl::string_view, unsigned long, tensorflow::hash&lt;absl::string_view, void&gt;, std::equal_to&lt;absl::string_view&gt;, std::allocator&lt;std::pair&lt;absl::string_view const, unsigned long&gt; &gt; &gt; const&amp;, std::vector&lt;std::string, std::allocator&lt;std::string&gt; &gt; const&amp;, tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&amp;, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#7  0x00007fcd78b03a5b in tensorflow::MasterSession::ReffedClientGraph::RunPartitions(tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&amp;, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#8  0x00007fcd78b0c530 in tensorflow::MasterSession::DoRunWithLocalExecution(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&amp;, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#9  0x00007fcd78b0d93e in tensorflow::MasterSession::Run(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&amp;, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#10 0x00007fcd78ae88ec in std::_Function_handler&lt;void (), tensorflow::Master::RunStep(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const*, tensorflow::MutableRunStepResponseWrapper*, std::function&lt;void (tensorflow::Status const&amp;)&gt;)::{lambda()#1}&gt;::_M_invoke(std::_Any_data const&amp;) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#11 0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\n#12 0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#13 0x00007fce7e031bad in clone () from /lib64/libc.so.6\n</code></pre>", "body_text": "@mrry The similar problem occurs at the end of an iteration when using DataSet api, while the old Queue based data api is fine.\nTF version: 1.12 build from source\nLinux kernel: 3.10.0\nDistributed running on yarn, only cpu. Every time, several random nodes will hang forever.\nThread 217 (Thread 0x7fce01b3e700 (LWP 100195)):\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\n#1  0x00007fcdf8b3082c in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /lib64/libstdc++.so.6\n#2  0x00007fce5be86d30 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WaitForWork(Eigen::EventCount::Waiter*, tensorflow::thread::EigenEnvironment::Task*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#3  0x00007fce5be87784 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop(int) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#4  0x00007fce5be86482 in std::_Function_handler<void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function<void ()>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tar.gz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\n#5  0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\n#6  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#7  0x00007fce7e031bad in clone () from /lib64/libc.so.6\nThread 3 (Thread 0x7fc99ffff700 (LWP 104238)):\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\n#1  0x00007fcd7b5aa187 in gpr_cv_wait () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#2  0x00007fcd7b58680c in executor_thread(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fcd7b5aae8c in grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*)::{lambda(void*)#1}::_FUN(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#5  0x00007fce7e031bad in clone () from /lib64/libc.so.6\nThread 2 (Thread 0x7fc99f7fe700 (LWP 119076)):\n#0  0x00007fce7e02bec9 in syscall () from /lib64/libc.so.6\n#1  0x00007fcd7b4625d4 in nsync::nsync_mu_semaphore_p_with_deadline(nsync::nsync_semaphore_s_*, timespec) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#2  0x00007fcd7b461db1 in nsync::nsync_sem_wait_with_cancel_(nsync::waiter*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#3  0x00007fcd7b45f2e4 in nsync::nsync_cv_wait_with_deadline_generic(nsync::nsync_cv_s_*, void*, void (*)(void*), void (*)(void*), timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#4  0x00007fcd7b45f805 in nsync::nsync_cv_wait_with_deadline(nsync::nsync_cv_s_*, nsync::nsync_mu_s_*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#5  0x00007fcd78af538b in tensorflow::BlockingCounter::Wait() () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#6  0x00007fcd78b02a66 in tensorflow::Status tensorflow::MasterSession::ReffedClientGraph::RunPartitionsHelper<std::vector<std::string, std::allocator<std::string> >, tensorflow::RunStepRequestWrapper, tensorflow::MutableRunStepResponseWrapper>(std::unordered_map<absl::string_view, unsigned long, tensorflow::hash<absl::string_view, void>, std::equal_to<absl::string_view>, std::allocator<std::pair<absl::string_view const, unsigned long> > > const&, std::vector<std::string, std::allocator<std::string> > const&, tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#7  0x00007fcd78b03a5b in tensorflow::MasterSession::ReffedClientGraph::RunPartitions(tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#8  0x00007fcd78b0c530 in tensorflow::MasterSession::DoRunWithLocalExecution(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#9  0x00007fcd78b0d93e in tensorflow::MasterSession::Run(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#10 0x00007fcd78ae88ec in std::_Function_handler<void (), tensorflow::Master::RunStep(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const*, tensorflow::MutableRunStepResponseWrapper*, std::function<void (tensorflow::Status const&)>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\n#11 0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\n#12 0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\n#13 0x00007fce7e031bad in clone () from /lib64/libc.so.6", "body": "@mrry The similar problem occurs at the end of an iteration when using `DataSet` api, while the old `Queue` based data api is fine. \r\n\r\n  TF version: 1.12 build from source\r\n  Linux kernel: 3.10.0\r\n  Distributed running on yarn, only cpu. Every time, several random nodes will hang forever.\r\n  \r\n```\r\nThread 217 (Thread 0x7fce01b3e700 (LWP 100195)):\r\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\r\n#1  0x00007fcdf8b3082c in std::condition_variable::wait(std::unique_lock<std::mutex>&) () from /lib64/libstdc++.so.6\r\n#2  0x00007fce5be86d30 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WaitForWork(Eigen::EventCount::Waiter*, tensorflow::thread::EigenEnvironment::Task*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\r\n#3  0x00007fce5be87784 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop(int) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\r\n#4  0x00007fce5be86482 in std::_Function_handler<void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function<void ()>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tar.gz/tf/lib/python2.7/site-packages/tensorflow/python/../libtensorflow_framework.so\r\n#5  0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\r\n#6  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\r\n#7  0x00007fce7e031bad in clone () from /lib64/libc.so.6\r\nThread 3 (Thread 0x7fc99ffff700 (LWP 104238)):\r\n#0  0x00007fce7ea14995 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\r\n#1  0x00007fcd7b5aa187 in gpr_cv_wait () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007fcd7b58680c in executor_thread(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007fcd7b5aae8c in grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*)::{lambda(void*)#1}::_FUN(void*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\r\n#5  0x00007fce7e031bad in clone () from /lib64/libc.so.6\r\nThread 2 (Thread 0x7fc99f7fe700 (LWP 119076)):\r\n#0  0x00007fce7e02bec9 in syscall () from /lib64/libc.so.6\r\n#1  0x00007fcd7b4625d4 in nsync::nsync_mu_semaphore_p_with_deadline(nsync::nsync_semaphore_s_*, timespec) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007fcd7b461db1 in nsync::nsync_sem_wait_with_cancel_(nsync::waiter*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007fcd7b45f2e4 in nsync::nsync_cv_wait_with_deadline_generic(nsync::nsync_cv_s_*, void*, void (*)(void*), void (*)(void*), timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007fcd7b45f805 in nsync::nsync_cv_wait_with_deadline(nsync::nsync_cv_s_*, nsync::nsync_mu_s_*, timespec, nsync::nsync_note_s_*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007fcd78af538b in tensorflow::BlockingCounter::Wait() () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00007fcd78b02a66 in tensorflow::Status tensorflow::MasterSession::ReffedClientGraph::RunPartitionsHelper<std::vector<std::string, std::allocator<std::string> >, tensorflow::RunStepRequestWrapper, tensorflow::MutableRunStepResponseWrapper>(std::unordered_map<absl::string_view, unsigned long, tensorflow::hash<absl::string_view, void>, std::equal_to<absl::string_view>, std::allocator<std::pair<absl::string_view const, unsigned long> > > const&, std::vector<std::string, std::allocator<std::string> > const&, tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#7  0x00007fcd78b03a5b in tensorflow::MasterSession::ReffedClientGraph::RunPartitions(tensorflow::MasterEnv const*, long long, long long, tensorflow::MasterSession::PerStepState*, tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*, tensorflow::CancellationManager*, bool) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#8  0x00007fcd78b0c530 in tensorflow::MasterSession::DoRunWithLocalExecution(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#9  0x00007fcd78b0d93e in tensorflow::MasterSession::Run(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const&, tensorflow::MutableRunStepResponseWrapper*) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#10 0x00007fcd78ae88ec in std::_Function_handler<void (), tensorflow::Master::RunStep(tensorflow::CallOptions*, tensorflow::RunStepRequestWrapper const*, tensorflow::MutableRunStepResponseWrapper*, std::function<void (tensorflow::Status const&)>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) () from /data9/hadoop/yarn/nm-local-dir/usercache/hadoop-user/appcache/application_1538038835235_2238029/container_e10_1538038835235_2238029_01_000361/tf.tgz/tf/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#11 0x00007fcdf8b34070 in ?? () from /lib64/libstdc++.so.6\r\n#12 0x00007fce7ea10e25 in start_thread () from /lib64/libpthread.so.0\r\n#13 0x00007fce7e031bad in clone () from /lib64/libc.so.6\r\n```"}