{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23131", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23131/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23131/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23131/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23131", "id": 372248419, "node_id": "MDU6SXNzdWUzNzIyNDg0MTk=", "number": 23131, "title": "Failed to achieve MobileNet V2 reported latency on Pixel Phone", "user": {"login": "Lyken17", "id": 7783214, "node_id": "MDQ6VXNlcjc3ODMyMTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7783214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lyken17", "html_url": "https://github.com/Lyken17", "followers_url": "https://api.github.com/users/Lyken17/followers", "following_url": "https://api.github.com/users/Lyken17/following{/other_user}", "gists_url": "https://api.github.com/users/Lyken17/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lyken17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lyken17/subscriptions", "organizations_url": "https://api.github.com/users/Lyken17/orgs", "repos_url": "https://api.github.com/users/Lyken17/repos", "events_url": "https://api.github.com/users/Lyken17/events{/privacy}", "received_events_url": "https://api.github.com/users/Lyken17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": {"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-20T20:10:27Z", "updated_at": "2018-11-13T19:19:17Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><em>Please make sure that this is a bug. As per our <a href=\"https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md\">GitHub Policy</a>, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em></p>\n<p><strong>System information</strong><br>\nHost: Mac OS High Sierra / Ubuntu 16.04<br>\nPhone: Google Pixel, Android 9.0<br>\nMeasure tool: build from <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/tools/benchmark\">TF-Benchmark</a><br>\nModel: <a href=\"https://github.com/tensorflow/models/tree/master/research/slim/nets/mobilenet\">mobilenet_v2_1.0_224 from TF-Slim</a></p>\n<p><strong>Describe the current behavior</strong></p>\n<table>\n<thead>\n<tr>\n<th>Net</th>\n<th>Paper Report</th>\n<th>Measured</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>MobileNet v2 1.0 224</td>\n<td>73.8ms</td>\n<td>93.9ms</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Code to reproduce the issue</strong></p>\n<pre><code>adb push $bin /data/local/tmp\nadb shell chmod +x /data/local/tmp/$bin\n\nbin=benchmark_tflite_model\nmodel=model.tflite\nadb shell rm /data/local/tmp/$model\nadb push $model /data/local/tmp\n\nadb shell /data/local/tmp/$bin \\\n    --graph=/data/local/tmp/$model \\\n    --input_layer=\"input\" \\\n    --input_layer_shape=\"1,224,224,3\" \\\n    --input_layer_type=\"float\" \\\n    --num_runs=200 --warmup_runs=50\n</code></pre>\n<p><strong>Other info / logs</strong></p>\n<pre><code>\u279c  mobilenet_v2_1.0_224 adb shell\nsailfish:/ $ getprop | grep -e 'model' -e 'version.sdk' -e 'manufacturer' -e 'hardware' -e 'platform' -e 'revision' -e 'serialno' -e 'product.name' -e 'brand'\n[media.recorder.show_manufacturer_and_model]: [true]\n[ro.board.platform]: [msm8996]\n[ro.boot.hardware]: [sailfish]\n[ro.boot.hardware.color]: [SLV00]\n[ro.boot.hardware.ddr]: [4096MB,Samsung,LPDDR4]\n[ro.boot.hardware.revision]: [PVT]\n[ro.boot.hardware.ufs]: [32GB,Samsung]\n[ro.boot.serialno]: [FA68X0302645]\n[ro.build.version.sdk]: [28]\n[ro.frp.pst]: [/dev/block/platform/soc/624000.ufshc/by-name/frp]\n[ro.hardware]: [sailfish]\n[ro.hardware.power]: [marlin]\n[ro.product.brand]: [google]\n[ro.product.manufacturer]: [Google]\n[ro.product.model]: [Pixel]\n[ro.product.name]: [sailfish]\n[ro.product.vendor.brand]: [google]\n[ro.product.vendor.manufacturer]: [Google]\n[ro.product.vendor.model]: [Pixel]\n[ro.revision]: [0]\n[ro.serialno]: [FA68X0302645]\n\n\n\n\u279c  mobilenet_v2_1.0_224 bin=benchmark_tflite_model\nmodel=model.tflite\nadb push $model /data/local/tmp\nadb shell /data/local/tmp/$bin \\\n    --graph=/data/local/tmp/$model \\\n    --input_layer=\"input\" \\\n    --input_layer_shape=\"1,224,224,3\" \\\n    --input_layer_type=\"float\" \\\n    --num_runs=200 --warmup_runs=50\nmodel.tflite: 1 file pushed. 27.7 MB/s (13978596 bytes in 0.481s)\nSTARTING!\nNum runs: [200]\nInter-run delay (seconds): [-1]\nNum threads: [1]\nBenchmark name: []\nOutput prefix: []\nWarmup runs: [50]\nGraph: [/data/local/tmp/model.tflite]\nInput layers: [input]\nInput shapes: [1,224,224,3]\nUse nnapi : [0]\nLoaded model /data/local/tmp/model.tflite\nresolved reporter\nInitialized session in 34.432ms\nRunning benchmark for 50 iterations\ncount=50 first=117086 curr=93140 min=93027 max=117086 avg=94640.8 std=3362\n\nRunning benchmark for 200 iterations\ncount=200 first=93564 curr=93170 min=92931 max=96389 avg=93925 std=963\n\n============================== Run Order ==============================\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t  4.601%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\n\t       DEPTHWISE_CONV_2D\t    4.321\t    2.222\t    2.304\t  2.455%\t  7.056%\t     0.000\t        1\t[MobilenetV2/expanded_conv/depthwise/Relu6]\n\t                 CONV_2D\t    6.626\t    2.075\t    2.017\t  2.148%\t  9.204%\t     0.000\t        1\t[MobilenetV2/expanded_conv/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t 15.758%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 19.704%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\n\t                 CONV_2D\t   18.503\t    1.865\t    1.898\t  2.021%\t 21.725%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 25.126%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   23.595\t    2.271\t    2.255\t  2.402%\t 27.528%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/depthwise/Relu6]\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 30.591%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   28.728\t    0.068\t    0.052\t  0.056%\t 30.647%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/add]\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 34.034%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   31.961\t    0.811\t    0.837\t  0.891%\t 34.925%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/depthwise/Relu6]\n\t                 CONV_2D\t   32.799\t    1.275\t    1.261\t  1.343%\t 36.268%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   34.060\t    1.281\t    1.243\t  1.324%\t 37.592%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   35.303\t    0.708\t    0.723\t  0.770%\t 38.362%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/depthwise/Relu6]\n\t                 CONV_2D\t   36.027\t    1.714\t    1.642\t  1.749%\t 40.110%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   37.669\t    0.022\t    0.022\t  0.023%\t 40.133%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/add]\n\t                 CONV_2D\t   37.691\t    1.229\t    1.260\t  1.343%\t 41.476%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   38.952\t    0.723\t    0.738\t  0.786%\t 42.262%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/depthwise/Relu6]\n\t                 CONV_2D\t   39.690\t    1.719\t    1.633\t  1.739%\t 44.001%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   41.325\t    0.026\t    0.021\t  0.023%\t 44.024%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/add]\n\t                 CONV_2D\t   41.346\t    1.223\t    1.258\t  1.340%\t 45.364%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   42.604\t    0.221\t    0.225\t  0.240%\t 45.604%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/depthwise/Relu6]\n\t                 CONV_2D\t   42.829\t    0.695\t    0.693\t  0.738%\t 46.342%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   43.523\t    1.173\t    1.135\t  1.208%\t 47.550%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   44.658\t    0.328\t    0.334\t  0.356%\t 47.906%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/depthwise/Relu6]\n\t                 CONV_2D\t   44.992\t    1.253\t    1.258\t  1.340%\t 49.246%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   46.251\t    0.014\t    0.013\t  0.014%\t 49.260%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/add]\n\t                 CONV_2D\t   46.264\t    1.104\t    1.123\t  1.196%\t 50.456%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   47.387\t    0.407\t    0.352\t  0.375%\t 50.831%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/depthwise/Relu6]\n\t                 CONV_2D\t   47.740\t    1.249\t    1.252\t  1.334%\t 52.164%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   48.993\t    0.010\t    0.012\t  0.012%\t 52.177%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/add]\n\t                 CONV_2D\t   49.004\t    1.103\t    1.127\t  1.200%\t 53.377%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   50.131\t    0.336\t    0.344\t  0.366%\t 53.743%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/depthwise/Relu6]\n\t                 CONV_2D\t   50.475\t    1.295\t    1.250\t  1.331%\t 55.074%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   51.726\t    0.013\t    0.013\t  0.014%\t 55.088%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/add]\n\t                 CONV_2D\t   51.739\t    1.107\t    1.128\t  1.201%\t 56.289%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   52.867\t    0.333\t    0.340\t  0.362%\t 56.652%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/depthwise/Relu6]\n\t                 CONV_2D\t   53.208\t    1.818\t    1.780\t  1.896%\t 58.548%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   54.989\t    2.735\t    2.701\t  2.877%\t 61.424%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   57.690\t    0.539\t    0.547\t  0.582%\t 62.007%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/depthwise/Relu6]\n\t                 CONV_2D\t   58.238\t    2.642\t    2.653\t  2.825%\t 64.832%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   60.891\t    0.015\t    0.015\t  0.016%\t 64.848%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/add]\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 67.737%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   63.620\t    0.502\t    0.513\t  0.546%\t 68.284%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/depthwise/Relu6]\n\t                 CONV_2D\t   64.133\t    2.640\t    2.648\t  2.820%\t 71.104%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   66.782\t    0.016\t    0.019\t  0.020%\t 71.124%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/add]\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 74.022%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   69.523\t    0.146\t    0.149\t  0.159%\t 74.181%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/depthwise/Relu6]\n\t                 CONV_2D\t   69.672\t    1.130\t    1.156\t  1.231%\t 75.412%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   70.829\t    2.117\t    2.120\t  2.258%\t 77.670%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   72.950\t    0.201\t    0.207\t  0.221%\t 77.891%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/depthwise/Relu6]\n\t                 CONV_2D\t   73.157\t    2.105\t    2.092\t  2.228%\t 80.119%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   75.250\t    0.007\t    0.008\t  0.009%\t 80.128%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/add]\n\t                 CONV_2D\t   75.258\t    2.048\t    2.100\t  2.237%\t 82.365%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   77.360\t    0.201\t    0.204\t  0.217%\t 82.583%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/depthwise/Relu6]\n\t                 CONV_2D\t   77.564\t    2.113\t    2.094\t  2.231%\t 84.813%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   79.659\t    0.007\t    0.008\t  0.008%\t 84.821%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/add]\n\t                 CONV_2D\t   79.667\t    2.118\t    2.096\t  2.232%\t 87.054%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   81.764\t    0.196\t    0.199\t  0.212%\t 87.266%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/depthwise/Relu6]\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 91.792%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 98.299%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\n\t         AVERAGE_POOL_2D\t   92.324\t    0.034\t    0.035\t  0.037%\t 98.336%\t     0.000\t        1\t[MobilenetV2/Logits/AvgPool]\n\t                 CONV_2D\t   92.359\t    1.408\t    1.524\t  1.623%\t 99.960%\t     0.000\t        1\t[MobilenetV2/Logits/Conv2d_1c_1x1/BiasAdd]\n\t                 RESHAPE\t   93.884\t    0.003\t    0.003\t  0.003%\t 99.963%\t     0.000\t        1\t[MobilenetV2/Logits/Squeeze]\n\t                 SOFTMAX\t   93.887\t    0.034\t    0.035\t  0.037%\t100.000%\t     0.000\t        1\t[MobilenetV2/Predictions/Reshape_1]\n\n============================== Top by Computation Time ==============================\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t  6.554%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 13.061%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t 17.663%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 22.189%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 26.135%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 29.536%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 32.923%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 35.985%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 38.884%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 41.773%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\n\nNumber of nodes executed: 66\n============================== Summary by node type ==============================\n\t             [Node type]\t  [count]\t  [avg ms]\t    [avg %]\t    [cdf %]\t  [mem KB]\t[times called]\n\t                 CONV_2D\t       36\t    79.637\t    84.851%\t    84.851%\t     0.000\t       36\n\t       DEPTHWISE_CONV_2D\t       17\t    13.970\t    14.885%\t    99.736%\t     0.000\t       17\n\t                     ADD\t       10\t     0.177\t     0.189%\t    99.924%\t     0.000\t       10\n\t                 SOFTMAX\t        1\t     0.035\t     0.037%\t    99.962%\t     0.000\t        1\n\t         AVERAGE_POOL_2D\t        1\t     0.034\t     0.036%\t    99.998%\t     0.000\t        1\n\t                 RESHAPE\t        1\t     0.002\t     0.002%\t   100.000%\t     0.000\t        1\n\nTimings (microseconds): count=200 first=93531 curr=93135 min=92902 max=96356 avg=93888.1 std=962\nMemory (bytes): count=0\n66 nodes observed\n\n\nAverage inference timings in us: Warmup: 94640.8, Init: 34432, no stats: 93925\n</code></pre>", "body_text": "Please make sure that this is a bug. As per our GitHub Policy, we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template\nSystem information\nHost: Mac OS High Sierra / Ubuntu 16.04\nPhone: Google Pixel, Android 9.0\nMeasure tool: build from TF-Benchmark\nModel: mobilenet_v2_1.0_224 from TF-Slim\nDescribe the current behavior\n\n\n\nNet\nPaper Report\nMeasured\n\n\n\n\nMobileNet v2 1.0 224\n73.8ms\n93.9ms\n\n\n\nCode to reproduce the issue\nadb push $bin /data/local/tmp\nadb shell chmod +x /data/local/tmp/$bin\n\nbin=benchmark_tflite_model\nmodel=model.tflite\nadb shell rm /data/local/tmp/$model\nadb push $model /data/local/tmp\n\nadb shell /data/local/tmp/$bin \\\n    --graph=/data/local/tmp/$model \\\n    --input_layer=\"input\" \\\n    --input_layer_shape=\"1,224,224,3\" \\\n    --input_layer_type=\"float\" \\\n    --num_runs=200 --warmup_runs=50\n\nOther info / logs\n\u279c  mobilenet_v2_1.0_224 adb shell\nsailfish:/ $ getprop | grep -e 'model' -e 'version.sdk' -e 'manufacturer' -e 'hardware' -e 'platform' -e 'revision' -e 'serialno' -e 'product.name' -e 'brand'\n[media.recorder.show_manufacturer_and_model]: [true]\n[ro.board.platform]: [msm8996]\n[ro.boot.hardware]: [sailfish]\n[ro.boot.hardware.color]: [SLV00]\n[ro.boot.hardware.ddr]: [4096MB,Samsung,LPDDR4]\n[ro.boot.hardware.revision]: [PVT]\n[ro.boot.hardware.ufs]: [32GB,Samsung]\n[ro.boot.serialno]: [FA68X0302645]\n[ro.build.version.sdk]: [28]\n[ro.frp.pst]: [/dev/block/platform/soc/624000.ufshc/by-name/frp]\n[ro.hardware]: [sailfish]\n[ro.hardware.power]: [marlin]\n[ro.product.brand]: [google]\n[ro.product.manufacturer]: [Google]\n[ro.product.model]: [Pixel]\n[ro.product.name]: [sailfish]\n[ro.product.vendor.brand]: [google]\n[ro.product.vendor.manufacturer]: [Google]\n[ro.product.vendor.model]: [Pixel]\n[ro.revision]: [0]\n[ro.serialno]: [FA68X0302645]\n\n\n\n\u279c  mobilenet_v2_1.0_224 bin=benchmark_tflite_model\nmodel=model.tflite\nadb push $model /data/local/tmp\nadb shell /data/local/tmp/$bin \\\n    --graph=/data/local/tmp/$model \\\n    --input_layer=\"input\" \\\n    --input_layer_shape=\"1,224,224,3\" \\\n    --input_layer_type=\"float\" \\\n    --num_runs=200 --warmup_runs=50\nmodel.tflite: 1 file pushed. 27.7 MB/s (13978596 bytes in 0.481s)\nSTARTING!\nNum runs: [200]\nInter-run delay (seconds): [-1]\nNum threads: [1]\nBenchmark name: []\nOutput prefix: []\nWarmup runs: [50]\nGraph: [/data/local/tmp/model.tflite]\nInput layers: [input]\nInput shapes: [1,224,224,3]\nUse nnapi : [0]\nLoaded model /data/local/tmp/model.tflite\nresolved reporter\nInitialized session in 34.432ms\nRunning benchmark for 50 iterations\ncount=50 first=117086 curr=93140 min=93027 max=117086 avg=94640.8 std=3362\n\nRunning benchmark for 200 iterations\ncount=200 first=93564 curr=93170 min=92931 max=96389 avg=93925 std=963\n\n============================== Run Order ==============================\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t  4.601%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\n\t       DEPTHWISE_CONV_2D\t    4.321\t    2.222\t    2.304\t  2.455%\t  7.056%\t     0.000\t        1\t[MobilenetV2/expanded_conv/depthwise/Relu6]\n\t                 CONV_2D\t    6.626\t    2.075\t    2.017\t  2.148%\t  9.204%\t     0.000\t        1\t[MobilenetV2/expanded_conv/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t 15.758%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 19.704%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\n\t                 CONV_2D\t   18.503\t    1.865\t    1.898\t  2.021%\t 21.725%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 25.126%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   23.595\t    2.271\t    2.255\t  2.402%\t 27.528%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/depthwise/Relu6]\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 30.591%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   28.728\t    0.068\t    0.052\t  0.056%\t 30.647%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/add]\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 34.034%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   31.961\t    0.811\t    0.837\t  0.891%\t 34.925%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/depthwise/Relu6]\n\t                 CONV_2D\t   32.799\t    1.275\t    1.261\t  1.343%\t 36.268%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   34.060\t    1.281\t    1.243\t  1.324%\t 37.592%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   35.303\t    0.708\t    0.723\t  0.770%\t 38.362%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/depthwise/Relu6]\n\t                 CONV_2D\t   36.027\t    1.714\t    1.642\t  1.749%\t 40.110%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   37.669\t    0.022\t    0.022\t  0.023%\t 40.133%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/add]\n\t                 CONV_2D\t   37.691\t    1.229\t    1.260\t  1.343%\t 41.476%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   38.952\t    0.723\t    0.738\t  0.786%\t 42.262%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/depthwise/Relu6]\n\t                 CONV_2D\t   39.690\t    1.719\t    1.633\t  1.739%\t 44.001%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   41.325\t    0.026\t    0.021\t  0.023%\t 44.024%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/add]\n\t                 CONV_2D\t   41.346\t    1.223\t    1.258\t  1.340%\t 45.364%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   42.604\t    0.221\t    0.225\t  0.240%\t 45.604%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/depthwise/Relu6]\n\t                 CONV_2D\t   42.829\t    0.695\t    0.693\t  0.738%\t 46.342%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   43.523\t    1.173\t    1.135\t  1.208%\t 47.550%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   44.658\t    0.328\t    0.334\t  0.356%\t 47.906%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/depthwise/Relu6]\n\t                 CONV_2D\t   44.992\t    1.253\t    1.258\t  1.340%\t 49.246%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   46.251\t    0.014\t    0.013\t  0.014%\t 49.260%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/add]\n\t                 CONV_2D\t   46.264\t    1.104\t    1.123\t  1.196%\t 50.456%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   47.387\t    0.407\t    0.352\t  0.375%\t 50.831%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/depthwise/Relu6]\n\t                 CONV_2D\t   47.740\t    1.249\t    1.252\t  1.334%\t 52.164%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   48.993\t    0.010\t    0.012\t  0.012%\t 52.177%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/add]\n\t                 CONV_2D\t   49.004\t    1.103\t    1.127\t  1.200%\t 53.377%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   50.131\t    0.336\t    0.344\t  0.366%\t 53.743%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/depthwise/Relu6]\n\t                 CONV_2D\t   50.475\t    1.295\t    1.250\t  1.331%\t 55.074%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   51.726\t    0.013\t    0.013\t  0.014%\t 55.088%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/add]\n\t                 CONV_2D\t   51.739\t    1.107\t    1.128\t  1.201%\t 56.289%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   52.867\t    0.333\t    0.340\t  0.362%\t 56.652%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/depthwise/Relu6]\n\t                 CONV_2D\t   53.208\t    1.818\t    1.780\t  1.896%\t 58.548%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   54.989\t    2.735\t    2.701\t  2.877%\t 61.424%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   57.690\t    0.539\t    0.547\t  0.582%\t 62.007%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/depthwise/Relu6]\n\t                 CONV_2D\t   58.238\t    2.642\t    2.653\t  2.825%\t 64.832%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   60.891\t    0.015\t    0.015\t  0.016%\t 64.848%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/add]\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 67.737%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   63.620\t    0.502\t    0.513\t  0.546%\t 68.284%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/depthwise/Relu6]\n\t                 CONV_2D\t   64.133\t    2.640\t    2.648\t  2.820%\t 71.104%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   66.782\t    0.016\t    0.019\t  0.020%\t 71.124%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/add]\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 74.022%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   69.523\t    0.146\t    0.149\t  0.159%\t 74.181%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/depthwise/Relu6]\n\t                 CONV_2D\t   69.672\t    1.130\t    1.156\t  1.231%\t 75.412%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   70.829\t    2.117\t    2.120\t  2.258%\t 77.670%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   72.950\t    0.201\t    0.207\t  0.221%\t 77.891%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/depthwise/Relu6]\n\t                 CONV_2D\t   73.157\t    2.105\t    2.092\t  2.228%\t 80.119%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   75.250\t    0.007\t    0.008\t  0.009%\t 80.128%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/add]\n\t                 CONV_2D\t   75.258\t    2.048\t    2.100\t  2.237%\t 82.365%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   77.360\t    0.201\t    0.204\t  0.217%\t 82.583%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/depthwise/Relu6]\n\t                 CONV_2D\t   77.564\t    2.113\t    2.094\t  2.231%\t 84.813%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/project/BatchNorm/FusedBatchNorm]\n\t                     ADD\t   79.659\t    0.007\t    0.008\t  0.008%\t 84.821%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/add]\n\t                 CONV_2D\t   79.667\t    2.118\t    2.096\t  2.232%\t 87.054%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/expand/Relu6]\n\t       DEPTHWISE_CONV_2D\t   81.764\t    0.196\t    0.199\t  0.212%\t 87.266%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/depthwise/Relu6]\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 91.792%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 98.299%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\n\t         AVERAGE_POOL_2D\t   92.324\t    0.034\t    0.035\t  0.037%\t 98.336%\t     0.000\t        1\t[MobilenetV2/Logits/AvgPool]\n\t                 CONV_2D\t   92.359\t    1.408\t    1.524\t  1.623%\t 99.960%\t     0.000\t        1\t[MobilenetV2/Logits/Conv2d_1c_1x1/BiasAdd]\n\t                 RESHAPE\t   93.884\t    0.003\t    0.003\t  0.003%\t 99.963%\t     0.000\t        1\t[MobilenetV2/Logits/Squeeze]\n\t                 SOFTMAX\t   93.887\t    0.034\t    0.035\t  0.037%\t100.000%\t     0.000\t        1\t[MobilenetV2/Predictions/Reshape_1]\n\n============================== Top by Computation Time ==============================\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t  6.554%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 13.061%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t 17.663%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 22.189%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 26.135%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 29.536%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 32.923%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 35.985%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 38.884%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 41.773%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\n\nNumber of nodes executed: 66\n============================== Summary by node type ==============================\n\t             [Node type]\t  [count]\t  [avg ms]\t    [avg %]\t    [cdf %]\t  [mem KB]\t[times called]\n\t                 CONV_2D\t       36\t    79.637\t    84.851%\t    84.851%\t     0.000\t       36\n\t       DEPTHWISE_CONV_2D\t       17\t    13.970\t    14.885%\t    99.736%\t     0.000\t       17\n\t                     ADD\t       10\t     0.177\t     0.189%\t    99.924%\t     0.000\t       10\n\t                 SOFTMAX\t        1\t     0.035\t     0.037%\t    99.962%\t     0.000\t        1\n\t         AVERAGE_POOL_2D\t        1\t     0.034\t     0.036%\t    99.998%\t     0.000\t        1\n\t                 RESHAPE\t        1\t     0.002\t     0.002%\t   100.000%\t     0.000\t        1\n\nTimings (microseconds): count=200 first=93531 curr=93135 min=92902 max=96356 avg=93888.1 std=962\nMemory (bytes): count=0\n66 nodes observed\n\n\nAverage inference timings in us: Warmup: 94640.8, Init: 34432, no stats: 93925", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\nHost: Mac OS High Sierra / Ubuntu 16.04\r\nPhone: Google Pixel, Android 9.0\r\nMeasure tool: build from [TF-Benchmark](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/lite/tools/benchmark)\r\nModel: [mobilenet_v2_1.0_224 from TF-Slim](https://github.com/tensorflow/models/tree/master/research/slim/nets/mobilenet)\r\n  \r\n**Describe the current behavior**\r\n\r\nNet   | Paper Report | Measured\r\n--- | --- | ---\r\nMobileNet v2 1.0 224 | 73.8ms | 93.9ms\r\n\r\n\r\n\r\n**Code to reproduce the issue**\r\n```\r\nadb push $bin /data/local/tmp\r\nadb shell chmod +x /data/local/tmp/$bin\r\n\r\nbin=benchmark_tflite_model\r\nmodel=model.tflite\r\nadb shell rm /data/local/tmp/$model\r\nadb push $model /data/local/tmp\r\n\r\nadb shell /data/local/tmp/$bin \\\r\n    --graph=/data/local/tmp/$model \\\r\n    --input_layer=\"input\" \\\r\n    --input_layer_shape=\"1,224,224,3\" \\\r\n    --input_layer_type=\"float\" \\\r\n    --num_runs=200 --warmup_runs=50\r\n```\r\n\r\n**Other info / logs**\r\n```\r\n\u279c  mobilenet_v2_1.0_224 adb shell\r\nsailfish:/ $ getprop | grep -e 'model' -e 'version.sdk' -e 'manufacturer' -e 'hardware' -e 'platform' -e 'revision' -e 'serialno' -e 'product.name' -e 'brand'\r\n[media.recorder.show_manufacturer_and_model]: [true]\r\n[ro.board.platform]: [msm8996]\r\n[ro.boot.hardware]: [sailfish]\r\n[ro.boot.hardware.color]: [SLV00]\r\n[ro.boot.hardware.ddr]: [4096MB,Samsung,LPDDR4]\r\n[ro.boot.hardware.revision]: [PVT]\r\n[ro.boot.hardware.ufs]: [32GB,Samsung]\r\n[ro.boot.serialno]: [FA68X0302645]\r\n[ro.build.version.sdk]: [28]\r\n[ro.frp.pst]: [/dev/block/platform/soc/624000.ufshc/by-name/frp]\r\n[ro.hardware]: [sailfish]\r\n[ro.hardware.power]: [marlin]\r\n[ro.product.brand]: [google]\r\n[ro.product.manufacturer]: [Google]\r\n[ro.product.model]: [Pixel]\r\n[ro.product.name]: [sailfish]\r\n[ro.product.vendor.brand]: [google]\r\n[ro.product.vendor.manufacturer]: [Google]\r\n[ro.product.vendor.model]: [Pixel]\r\n[ro.revision]: [0]\r\n[ro.serialno]: [FA68X0302645]\r\n\r\n\r\n\r\n\u279c  mobilenet_v2_1.0_224 bin=benchmark_tflite_model\r\nmodel=model.tflite\r\nadb push $model /data/local/tmp\r\nadb shell /data/local/tmp/$bin \\\r\n    --graph=/data/local/tmp/$model \\\r\n    --input_layer=\"input\" \\\r\n    --input_layer_shape=\"1,224,224,3\" \\\r\n    --input_layer_type=\"float\" \\\r\n    --num_runs=200 --warmup_runs=50\r\nmodel.tflite: 1 file pushed. 27.7 MB/s (13978596 bytes in 0.481s)\r\nSTARTING!\r\nNum runs: [200]\r\nInter-run delay (seconds): [-1]\r\nNum threads: [1]\r\nBenchmark name: []\r\nOutput prefix: []\r\nWarmup runs: [50]\r\nGraph: [/data/local/tmp/model.tflite]\r\nInput layers: [input]\r\nInput shapes: [1,224,224,3]\r\nUse nnapi : [0]\r\nLoaded model /data/local/tmp/model.tflite\r\nresolved reporter\r\nInitialized session in 34.432ms\r\nRunning benchmark for 50 iterations\r\ncount=50 first=117086 curr=93140 min=93027 max=117086 avg=94640.8 std=3362\r\n\r\nRunning benchmark for 200 iterations\r\ncount=200 first=93564 curr=93170 min=92931 max=96389 avg=93925 std=963\r\n\r\n============================== Run Order ==============================\r\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\r\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t  4.601%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t    4.321\t    2.222\t    2.304\t  2.455%\t  7.056%\t     0.000\t        1\t[MobilenetV2/expanded_conv/depthwise/Relu6]\r\n\t                 CONV_2D\t    6.626\t    2.075\t    2.017\t  2.148%\t  9.204%\t     0.000\t        1\t[MobilenetV2/expanded_conv/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t 15.758%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 19.704%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\r\n\t                 CONV_2D\t   18.503\t    1.865\t    1.898\t  2.021%\t 21.725%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 25.126%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   23.595\t    2.271\t    2.255\t  2.402%\t 27.528%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/depthwise/Relu6]\r\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 30.591%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   28.728\t    0.068\t    0.052\t  0.056%\t 30.647%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/add]\r\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 34.034%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   31.961\t    0.811\t    0.837\t  0.891%\t 34.925%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/depthwise/Relu6]\r\n\t                 CONV_2D\t   32.799\t    1.275\t    1.261\t  1.343%\t 36.268%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   34.060\t    1.281\t    1.243\t  1.324%\t 37.592%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   35.303\t    0.708\t    0.723\t  0.770%\t 38.362%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/depthwise/Relu6]\r\n\t                 CONV_2D\t   36.027\t    1.714\t    1.642\t  1.749%\t 40.110%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   37.669\t    0.022\t    0.022\t  0.023%\t 40.133%\t     0.000\t        1\t[MobilenetV2/expanded_conv_4/add]\r\n\t                 CONV_2D\t   37.691\t    1.229\t    1.260\t  1.343%\t 41.476%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   38.952\t    0.723\t    0.738\t  0.786%\t 42.262%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/depthwise/Relu6]\r\n\t                 CONV_2D\t   39.690\t    1.719\t    1.633\t  1.739%\t 44.001%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   41.325\t    0.026\t    0.021\t  0.023%\t 44.024%\t     0.000\t        1\t[MobilenetV2/expanded_conv_5/add]\r\n\t                 CONV_2D\t   41.346\t    1.223\t    1.258\t  1.340%\t 45.364%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   42.604\t    0.221\t    0.225\t  0.240%\t 45.604%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/depthwise/Relu6]\r\n\t                 CONV_2D\t   42.829\t    0.695\t    0.693\t  0.738%\t 46.342%\t     0.000\t        1\t[MobilenetV2/expanded_conv_6/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   43.523\t    1.173\t    1.135\t  1.208%\t 47.550%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   44.658\t    0.328\t    0.334\t  0.356%\t 47.906%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/depthwise/Relu6]\r\n\t                 CONV_2D\t   44.992\t    1.253\t    1.258\t  1.340%\t 49.246%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   46.251\t    0.014\t    0.013\t  0.014%\t 49.260%\t     0.000\t        1\t[MobilenetV2/expanded_conv_7/add]\r\n\t                 CONV_2D\t   46.264\t    1.104\t    1.123\t  1.196%\t 50.456%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   47.387\t    0.407\t    0.352\t  0.375%\t 50.831%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/depthwise/Relu6]\r\n\t                 CONV_2D\t   47.740\t    1.249\t    1.252\t  1.334%\t 52.164%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   48.993\t    0.010\t    0.012\t  0.012%\t 52.177%\t     0.000\t        1\t[MobilenetV2/expanded_conv_8/add]\r\n\t                 CONV_2D\t   49.004\t    1.103\t    1.127\t  1.200%\t 53.377%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   50.131\t    0.336\t    0.344\t  0.366%\t 53.743%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/depthwise/Relu6]\r\n\t                 CONV_2D\t   50.475\t    1.295\t    1.250\t  1.331%\t 55.074%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   51.726\t    0.013\t    0.013\t  0.014%\t 55.088%\t     0.000\t        1\t[MobilenetV2/expanded_conv_9/add]\r\n\t                 CONV_2D\t   51.739\t    1.107\t    1.128\t  1.201%\t 56.289%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   52.867\t    0.333\t    0.340\t  0.362%\t 56.652%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/depthwise/Relu6]\r\n\t                 CONV_2D\t   53.208\t    1.818\t    1.780\t  1.896%\t 58.548%\t     0.000\t        1\t[MobilenetV2/expanded_conv_10/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   54.989\t    2.735\t    2.701\t  2.877%\t 61.424%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   57.690\t    0.539\t    0.547\t  0.582%\t 62.007%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/depthwise/Relu6]\r\n\t                 CONV_2D\t   58.238\t    2.642\t    2.653\t  2.825%\t 64.832%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   60.891\t    0.015\t    0.015\t  0.016%\t 64.848%\t     0.000\t        1\t[MobilenetV2/expanded_conv_11/add]\r\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 67.737%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   63.620\t    0.502\t    0.513\t  0.546%\t 68.284%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/depthwise/Relu6]\r\n\t                 CONV_2D\t   64.133\t    2.640\t    2.648\t  2.820%\t 71.104%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   66.782\t    0.016\t    0.019\t  0.020%\t 71.124%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/add]\r\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 74.022%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   69.523\t    0.146\t    0.149\t  0.159%\t 74.181%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/depthwise/Relu6]\r\n\t                 CONV_2D\t   69.672\t    1.130\t    1.156\t  1.231%\t 75.412%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   70.829\t    2.117\t    2.120\t  2.258%\t 77.670%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   72.950\t    0.201\t    0.207\t  0.221%\t 77.891%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/depthwise/Relu6]\r\n\t                 CONV_2D\t   73.157\t    2.105\t    2.092\t  2.228%\t 80.119%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   75.250\t    0.007\t    0.008\t  0.009%\t 80.128%\t     0.000\t        1\t[MobilenetV2/expanded_conv_14/add]\r\n\t                 CONV_2D\t   75.258\t    2.048\t    2.100\t  2.237%\t 82.365%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   77.360\t    0.201\t    0.204\t  0.217%\t 82.583%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/depthwise/Relu6]\r\n\t                 CONV_2D\t   77.564\t    2.113\t    2.094\t  2.231%\t 84.813%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/project/BatchNorm/FusedBatchNorm]\r\n\t                     ADD\t   79.659\t    0.007\t    0.008\t  0.008%\t 84.821%\t     0.000\t        1\t[MobilenetV2/expanded_conv_15/add]\r\n\t                 CONV_2D\t   79.667\t    2.118\t    2.096\t  2.232%\t 87.054%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/expand/Relu6]\r\n\t       DEPTHWISE_CONV_2D\t   81.764\t    0.196\t    0.199\t  0.212%\t 87.266%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/depthwise/Relu6]\r\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 91.792%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 98.299%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\r\n\t         AVERAGE_POOL_2D\t   92.324\t    0.034\t    0.035\t  0.037%\t 98.336%\t     0.000\t        1\t[MobilenetV2/Logits/AvgPool]\r\n\t                 CONV_2D\t   92.359\t    1.408\t    1.524\t  1.623%\t 99.960%\t     0.000\t        1\t[MobilenetV2/Logits/Conv2d_1c_1x1/BiasAdd]\r\n\t                 RESHAPE\t   93.884\t    0.003\t    0.003\t  0.003%\t 99.963%\t     0.000\t        1\t[MobilenetV2/Logits/Squeeze]\r\n\t                 SOFTMAX\t   93.887\t    0.034\t    0.035\t  0.037%\t100.000%\t     0.000\t        1\t[MobilenetV2/Predictions/Reshape_1]\r\n\r\n============================== Top by Computation Time ==============================\r\n\t             [node type]\t  [start]\t  [first]\t [avg ms]\t     [%]\t  [cdf%]\t  [mem KB]\t[times called]\t[Name]\r\n\t                 CONV_2D\t    8.643\t    6.103\t    6.153\t  6.554%\t  6.554%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/expand/Relu6]\r\n\t                 CONV_2D\t   86.213\t    6.016\t    6.110\t  6.507%\t 13.061%\t     0.000\t        1\t[MobilenetV2/Conv_1/Relu6]\r\n\t                 CONV_2D\t    0.000\t    4.325\t    4.320\t  4.601%\t 17.663%\t     0.000\t        1\t[MobilenetV2/Conv/Relu6]\r\n\t                 CONV_2D\t   81.963\t    4.196\t    4.249\t  4.526%\t 22.189%\t     0.000\t        1\t[MobilenetV2/expanded_conv_16/project/BatchNorm/FusedBatchNorm]\r\n\t       DEPTHWISE_CONV_2D\t   14.798\t    3.621\t    3.705\t  3.946%\t 26.135%\t     0.000\t        1\t[MobilenetV2/expanded_conv_1/depthwise/Relu6]\r\n\t                 CONV_2D\t   20.402\t    3.190\t    3.193\t  3.401%\t 29.536%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/expand/Relu6]\r\n\t                 CONV_2D\t   28.780\t    3.169\t    3.180\t  3.387%\t 32.923%\t     0.000\t        1\t[MobilenetV2/expanded_conv_3/expand/Relu6]\r\n\t                 CONV_2D\t   25.851\t    2.882\t    2.875\t  3.062%\t 35.985%\t     0.000\t        1\t[MobilenetV2/expanded_conv_2/project/BatchNorm/FusedBatchNorm]\r\n\t                 CONV_2D\t   66.801\t    2.710\t    2.721\t  2.898%\t 38.884%\t     0.000\t        1\t[MobilenetV2/expanded_conv_13/expand/Relu6]\r\n\t                 CONV_2D\t   60.906\t    2.671\t    2.713\t  2.889%\t 41.773%\t     0.000\t        1\t[MobilenetV2/expanded_conv_12/expand/Relu6]\r\n\r\nNumber of nodes executed: 66\r\n============================== Summary by node type ==============================\r\n\t             [Node type]\t  [count]\t  [avg ms]\t    [avg %]\t    [cdf %]\t  [mem KB]\t[times called]\r\n\t                 CONV_2D\t       36\t    79.637\t    84.851%\t    84.851%\t     0.000\t       36\r\n\t       DEPTHWISE_CONV_2D\t       17\t    13.970\t    14.885%\t    99.736%\t     0.000\t       17\r\n\t                     ADD\t       10\t     0.177\t     0.189%\t    99.924%\t     0.000\t       10\r\n\t                 SOFTMAX\t        1\t     0.035\t     0.037%\t    99.962%\t     0.000\t        1\r\n\t         AVERAGE_POOL_2D\t        1\t     0.034\t     0.036%\t    99.998%\t     0.000\t        1\r\n\t                 RESHAPE\t        1\t     0.002\t     0.002%\t   100.000%\t     0.000\t        1\r\n\r\nTimings (microseconds): count=200 first=93531 curr=93135 min=92902 max=96356 avg=93888.1 std=962\r\nMemory (bytes): count=0\r\n66 nodes observed\r\n\r\n\r\nAverage inference timings in us: Warmup: 94640.8, Init: 34432, no stats: 93925\r\n```"}