{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16586", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16586/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16586/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16586/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/16586", "id": 292800129, "node_id": "MDExOlB1bGxSZXF1ZXN0MTY1OTk0MDc2", "number": 16586, "title": "Force sorting of CUDA/Python headers to avoid spurious rebuilds", "user": {"login": "lissyx", "id": 1645737, "node_id": "MDQ6VXNlcjE2NDU3Mzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1645737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lissyx", "html_url": "https://github.com/lissyx", "followers_url": "https://api.github.com/users/lissyx/followers", "following_url": "https://api.github.com/users/lissyx/following{/other_user}", "gists_url": "https://api.github.com/users/lissyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/lissyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lissyx/subscriptions", "organizations_url": "https://api.github.com/users/lissyx/orgs", "repos_url": "https://api.github.com/users/lissyx/repos", "events_url": "https://api.github.com/users/lissyx/events{/privacy}", "received_events_url": "https://api.github.com/users/lissyx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-30T14:22:12Z", "updated_at": "2018-10-04T13:31:38Z", "closed_at": "2018-02-02T02:03:32Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/16586", "html_url": "https://github.com/tensorflow/tensorflow/pull/16586", "diff_url": "https://github.com/tensorflow/tensorflow/pull/16586.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/16586.patch"}, "body_html": "<p>If one does try to re-use Bazel cache of a TensorFlow CUDA-enabled<br>\nbuild, then it might happen that readdir() syscall behind the use of<br>\nfind in _read_dir() will generate a different ordering of the very same<br>\nlist of headers. This will make new genrules for symlinking the CUDA<br>\nheaders and in the end it will result in different actionKey computed by<br>\nBazel, hence invalidating the action cache.</p>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #16585.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"292798307\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/16585\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/16585/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/16585\">#16585</a></p>", "body_text": "If one does try to re-use Bazel cache of a TensorFlow CUDA-enabled\nbuild, then it might happen that readdir() syscall behind the use of\nfind in _read_dir() will generate a different ordering of the very same\nlist of headers. This will make new genrules for symlinking the CUDA\nheaders and in the end it will result in different actionKey computed by\nBazel, hence invalidating the action cache.\nFixes #16585", "body": "If one does try to re-use Bazel cache of a TensorFlow CUDA-enabled\r\nbuild, then it might happen that readdir() syscall behind the use of\r\nfind in _read_dir() will generate a different ordering of the very same\r\nlist of headers. This will make new genrules for symlinking the CUDA\r\nheaders and in the end it will result in different actionKey computed by\r\nBazel, hence invalidating the action cache.\r\n\r\nFixes #16585"}