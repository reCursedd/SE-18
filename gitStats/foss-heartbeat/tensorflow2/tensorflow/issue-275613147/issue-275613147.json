{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14744", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14744/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14744/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14744/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14744", "id": 275613147, "node_id": "MDU6SXNzdWUyNzU2MTMxNDc=", "number": 14744, "title": "Quantization: error during quantizing inception v3 model", "user": {"login": "bikongyouran", "id": 5894489, "node_id": "MDQ6VXNlcjU4OTQ0ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5894489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bikongyouran", "html_url": "https://github.com/bikongyouran", "followers_url": "https://api.github.com/users/bikongyouran/followers", "following_url": "https://api.github.com/users/bikongyouran/following{/other_user}", "gists_url": "https://api.github.com/users/bikongyouran/gists{/gist_id}", "starred_url": "https://api.github.com/users/bikongyouran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bikongyouran/subscriptions", "organizations_url": "https://api.github.com/users/bikongyouran/orgs", "repos_url": "https://api.github.com/users/bikongyouran/repos", "events_url": "https://api.github.com/users/bikongyouran/events{/privacy}", "received_events_url": "https://api.github.com/users/bikongyouran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-11-21T07:36:48Z", "updated_at": "2018-10-11T15:15:20Z", "closed_at": "2018-04-02T06:36:27Z", "author_association": "NONE", "body_html": "<p>Hi experts,</p>\n<p>I met issues during quantizing retained inception v3 model. could someone help take a look? Thanks!</p>\n<p><strong>Environment:</strong> tensorflow-1.4.0, python 3.5.2(Anaconda 4.2.0)<br>\n<strong>Issue description:</strong><br>\nI am using the downloaded inception v3 model, and try to follow the guide written by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=161459\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/petewarden\">@petewarden</a> <a href=\"https://petewarden.com/2016/05/03/how-to-quantize-neural-networks-with-tensorflow/\" rel=\"nofollow\">,</a>. always met the error below:</p>\n<pre><code>ValueError: No inputs to quantize for op: name: \"conv/Conv2D\"\nop: \"Conv2D\"\ninput: \"Mul\"\ninput: \"conv/conv2d_params\"\n...\n</code></pre>\n<p>my python script is as below:</p>\n<pre><code>from tensorflow.contrib.quantize.python import quantize_graph\nfrom tensorflow import gfile, GraphDef,import_graph_def,get_default_graph\n\nmodel_file=\"classify_image_graph_def.pb\"\nwith gfile.FastGFile(model_file,'rb') as f:\n    graph_def = GraphDef()\n    graph_def.ParseFromString(f.read())\n    import_graph_def(graph_def,name='')\n\n    graph=get_default_graph()\n    q_graph=quantize_graph.create_eval_graph(graph)\n    with gfile.FastGFile(\"output.pb\",'wb') as f1:\n        f1.write(q_graph.as_graph_def().SerializeToString())\n</code></pre>", "body_text": "Hi experts,\nI met issues during quantizing retained inception v3 model. could someone help take a look? Thanks!\nEnvironment: tensorflow-1.4.0, python 3.5.2(Anaconda 4.2.0)\nIssue description:\nI am using the downloaded inception v3 model, and try to follow the guide written by @petewarden ,. always met the error below:\nValueError: No inputs to quantize for op: name: \"conv/Conv2D\"\nop: \"Conv2D\"\ninput: \"Mul\"\ninput: \"conv/conv2d_params\"\n...\n\nmy python script is as below:\nfrom tensorflow.contrib.quantize.python import quantize_graph\nfrom tensorflow import gfile, GraphDef,import_graph_def,get_default_graph\n\nmodel_file=\"classify_image_graph_def.pb\"\nwith gfile.FastGFile(model_file,'rb') as f:\n    graph_def = GraphDef()\n    graph_def.ParseFromString(f.read())\n    import_graph_def(graph_def,name='')\n\n    graph=get_default_graph()\n    q_graph=quantize_graph.create_eval_graph(graph)\n    with gfile.FastGFile(\"output.pb\",'wb') as f1:\n        f1.write(q_graph.as_graph_def().SerializeToString())", "body": "Hi experts,\r\n\r\nI met issues during quantizing retained inception v3 model. could someone help take a look? Thanks!\r\n\r\n**Environment:** tensorflow-1.4.0, python 3.5.2(Anaconda 4.2.0)\r\n**Issue description:**\r\nI am using the downloaded inception v3 model, and try to follow the guide written by @petewarden [,](https://petewarden.com/2016/05/03/how-to-quantize-neural-networks-with-tensorflow/). always met the error below:\r\n```\r\nValueError: No inputs to quantize for op: name: \"conv/Conv2D\"\r\nop: \"Conv2D\"\r\ninput: \"Mul\"\r\ninput: \"conv/conv2d_params\"\r\n...\r\n```\r\nmy python script is as below:\r\n```\r\nfrom tensorflow.contrib.quantize.python import quantize_graph\r\nfrom tensorflow import gfile, GraphDef,import_graph_def,get_default_graph\r\n\r\nmodel_file=\"classify_image_graph_def.pb\"\r\nwith gfile.FastGFile(model_file,'rb') as f:\r\n    graph_def = GraphDef()\r\n    graph_def.ParseFromString(f.read())\r\n    import_graph_def(graph_def,name='')\r\n\r\n    graph=get_default_graph()\r\n    q_graph=quantize_graph.create_eval_graph(graph)\r\n    with gfile.FastGFile(\"output.pb\",'wb') as f1:\r\n        f1.write(q_graph.as_graph_def().SerializeToString())\r\n```\r\n\r\n"}