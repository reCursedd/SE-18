{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/342390910", "html_url": "https://github.com/tensorflow/tensorflow/issues/13429#issuecomment-342390910", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13429", "id": 342390910, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjM5MDkxMA==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T06:46:03Z", "updated_at": "2017-11-07T06:46:03Z", "author_association": "MEMBER", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=684901\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lukaszkaiser\">@lukaszkaiser</a> How about adding a new parameter, say <code>auxiliary_name_scope</code>, for <code> tf.variable_scope</code>:</p>\n<ul>\n<li><code>auxiliary_name_scope=True</code>, create new name scope as before by default.</li>\n<li><code>auxiliary_name_scope=None</code> or <code>auxiliary_name_scope=False</code>, don't create any name scope.</li>\n<li><code>auxiliary_name_scope=some_name_scope</code>, reuse it if <code>some_name_scope</code>  is <code>name_scope</code>.</li>\n</ul>\n<p>If so, we can write one line code to reuse both variable_scope and its name_scope:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.variable_scope(s, <span class=\"pl-v\">auxiliary_name_scope</span><span class=\"pl-k\">=</span>s.original_name_scope) <span class=\"pl-k\">as</span> ss:\n        <span class=\"pl-c\"><span class=\"pl-c\">#</span> do something</span></pre></div>\n<p>or</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">with</span> tf.variable_scope(s, <span class=\"pl-v\">auxiliary_name_scope</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">None</span>) <span class=\"pl-k\">as</span> ss:\n     <span class=\"pl-k\">with</span> tf.name_scope(ss.original_name_scope) <span class=\"pl-k\">as</span> n:\n          <span class=\"pl-c\"><span class=\"pl-c\">#</span> do something</span></pre></div>", "body_text": "@lukaszkaiser How about adding a new parameter, say auxiliary_name_scope, for  tf.variable_scope:\n\nauxiliary_name_scope=True, create new name scope as before by default.\nauxiliary_name_scope=None or auxiliary_name_scope=False, don't create any name scope.\nauxiliary_name_scope=some_name_scope, reuse it if some_name_scope  is name_scope.\n\nIf so, we can write one line code to reuse both variable_scope and its name_scope:\nwith tf.variable_scope(s, auxiliary_name_scope=s.original_name_scope) as ss:\n        # do something\nor\nwith tf.variable_scope(s, auxiliary_name_scope=None) as ss:\n     with tf.name_scope(ss.original_name_scope) as n:\n          # do something", "body": "@lukaszkaiser How about adding a new parameter, say `auxiliary_name_scope`, for ` tf.variable_scope`:\r\n+ `auxiliary_name_scope=True`, create new name scope as before by default.\r\n+ `auxiliary_name_scope=None` or `auxiliary_name_scope=False`, don't create any name scope.\r\n+ `auxiliary_name_scope=some_name_scope`, reuse it if `some_name_scope`  is `name_scope`.\r\n\r\nIf so, we can write one line code to reuse both variable_scope and its name_scope:\r\n\r\n```python\r\nwith tf.variable_scope(s, auxiliary_name_scope=s.original_name_scope) as ss:\r\n        # do something\r\n```\r\nor\r\n```python\r\nwith tf.variable_scope(s, auxiliary_name_scope=None) as ss:\r\n     with tf.name_scope(ss.original_name_scope) as n:\r\n          # do something\r\n```"}