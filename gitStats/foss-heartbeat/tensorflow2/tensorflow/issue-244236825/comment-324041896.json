{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/324041896", "html_url": "https://github.com/tensorflow/tensorflow/pull/11630#issuecomment-324041896", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11630", "id": 324041896, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDA0MTg5Ng==", "user": {"login": "tjingrant", "id": 6410074, "node_id": "MDQ6VXNlcjY0MTAwNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6410074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjingrant", "html_url": "https://github.com/tjingrant", "followers_url": "https://api.github.com/users/tjingrant/followers", "following_url": "https://api.github.com/users/tjingrant/following{/other_user}", "gists_url": "https://api.github.com/users/tjingrant/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjingrant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjingrant/subscriptions", "organizations_url": "https://api.github.com/users/tjingrant/orgs", "repos_url": "https://api.github.com/users/tjingrant/repos", "events_url": "https://api.github.com/users/tjingrant/events{/privacy}", "received_events_url": "https://api.github.com/users/tjingrant/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T14:21:54Z", "updated_at": "2017-08-22T14:21:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30223680\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nolanliou\">@nolanliou</a> , thanks for checking out my code! As for your observation, as you probably know, there are a lot of factors that could affect the performance and after all, your ratio of reductions performed to your total data footprint is quite low and therefore in this case I do not expect my code to perform well. I encourage you to explore more problem sizes and reduction to data footprint ratio. Apart from that, the <strong>main reason</strong> you are seeing such a dramatic performance discrepancy is that you are not using the unsorted segment reductions correctly and probably it's not producing the correct results. Try placing it on a CPU device and you will see the error messages.</p>", "body_text": "Hi @nolanliou , thanks for checking out my code! As for your observation, as you probably know, there are a lot of factors that could affect the performance and after all, your ratio of reductions performed to your total data footprint is quite low and therefore in this case I do not expect my code to perform well. I encourage you to explore more problem sizes and reduction to data footprint ratio. Apart from that, the main reason you are seeing such a dramatic performance discrepancy is that you are not using the unsorted segment reductions correctly and probably it's not producing the correct results. Try placing it on a CPU device and you will see the error messages.", "body": "Hi @nolanliou , thanks for checking out my code! As for your observation, as you probably know, there are a lot of factors that could affect the performance and after all, your ratio of reductions performed to your total data footprint is quite low and therefore in this case I do not expect my code to perform well. I encourage you to explore more problem sizes and reduction to data footprint ratio. Apart from that, the **main reason** you are seeing such a dramatic performance discrepancy is that you are not using the unsorted segment reductions correctly and probably it's not producing the correct results. Try placing it on a CPU device and you will see the error messages."}