{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7524", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7524/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7524/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7524/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7524", "id": 207776738, "node_id": "MDU6SXNzdWUyMDc3NzY3Mzg=", "number": 7524, "title": "[Bug] TypeError: Input 'points' of 'NearestNeighbors' Op has type float64 that does not match expected type of float32.", "user": {"login": "mahatosourav91", "id": 25343161, "node_id": "MDQ6VXNlcjI1MzQzMTYx", "avatar_url": "https://avatars0.githubusercontent.com/u/25343161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahatosourav91", "html_url": "https://github.com/mahatosourav91", "followers_url": "https://api.github.com/users/mahatosourav91/followers", "following_url": "https://api.github.com/users/mahatosourav91/following{/other_user}", "gists_url": "https://api.github.com/users/mahatosourav91/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahatosourav91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahatosourav91/subscriptions", "organizations_url": "https://api.github.com/users/mahatosourav91/orgs", "repos_url": "https://api.github.com/users/mahatosourav91/repos", "events_url": "https://api.github.com/users/mahatosourav91/events{/privacy}", "received_events_url": "https://api.github.com/users/mahatosourav91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-02-15T11:22:36Z", "updated_at": "2017-03-08T00:24:51Z", "closed_at": "2017-03-08T00:24:51Z", "author_association": "NONE", "body_html": "<p>Hi, I am trying to implement KMeansClustering using tensorflow.contrib.learn.python.learn.estimators.kmeans</p>\n<p>But I am getting the following error while using the code :-<br>\ndef cluster_data(X, num_clusters) :<br>\nkmeans = KMeansClustering(num_clusters=num_clusters)<br>\nkmeans.fit(X)<br>\ny = kmeans.predict(X)</p>\n<p>During handling of the above exception, another exception occurred:<br>\nTraceback (most recent call last):<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code<br>\nexec(code_obj, self.user_global_ns, self.user_ns)<br>\nFile \"\", line 1, in <br>\nkmeans.fit(X)<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 191, in new_func<br>\narg_spec: Output from inspect.getargspec on the called function.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 355, in fit<br>\n\"\"\"Initializes a BaseEstimator instance.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 699, in _train_model<br>\n'2016-09-23',<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1052, in _get_train_ops<br>\ntraining hooks.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1021, in _call_model_fn<br>\ndef <strong>init</strong>(self,<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\kmeans.py\", line 201, in _model_fn<br>\nkmeans_plus_plus_num_retries=self.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 295, in training_graph<br>\n# Implementation of kmeans.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 195, in _infer_graph<br>\n# nearest_neighbors op.<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\gen_clustering_ops.py\", line 90, in nearest_neighbors<br>\ncenters=centers, k=k, name=name)<br>\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 508, in apply_op<br>\nraise TypeError(\"%s expected type of %s.\" %<br>\nTypeError: Input 'points' of 'NearestNeighbors' Op has type float64 that does not match expected type of float32.</p>", "body_text": "Hi, I am trying to implement KMeansClustering using tensorflow.contrib.learn.python.learn.estimators.kmeans\nBut I am getting the following error while using the code :-\ndef cluster_data(X, num_clusters) :\nkmeans = KMeansClustering(num_clusters=num_clusters)\nkmeans.fit(X)\ny = kmeans.predict(X)\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code\nexec(code_obj, self.user_global_ns, self.user_ns)\nFile \"\", line 1, in \nkmeans.fit(X)\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 191, in new_func\narg_spec: Output from inspect.getargspec on the called function.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 355, in fit\n\"\"\"Initializes a BaseEstimator instance.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 699, in _train_model\n'2016-09-23',\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1052, in _get_train_ops\ntraining hooks.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1021, in _call_model_fn\ndef init(self,\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\kmeans.py\", line 201, in _model_fn\nkmeans_plus_plus_num_retries=self.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 295, in training_graph\n# Implementation of kmeans.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 195, in _infer_graph\n# nearest_neighbors op.\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\gen_clustering_ops.py\", line 90, in nearest_neighbors\ncenters=centers, k=k, name=name)\nFile \"C:\\Users#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 508, in apply_op\nraise TypeError(\"%s expected type of %s.\" %\nTypeError: Input 'points' of 'NearestNeighbors' Op has type float64 that does not match expected type of float32.", "body": "Hi, I am trying to implement KMeansClustering using tensorflow.contrib.learn.python.learn.estimators.kmeans\r\n\r\nBut I am getting the following error while using the code :-\r\ndef cluster_data(X, num_clusters) :\r\n    kmeans = KMeansClustering(num_clusters=num_clusters)\r\n    kmeans.fit(X)\r\n    y = kmeans.predict(X)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2881, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-57-5df4c7e34540>\", line 1, in <module>\r\n    kmeans.fit(X)\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 191, in new_func\r\n    arg_spec: Output from inspect.getargspec on the called function.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 355, in fit\r\n    \"\"\"Initializes a BaseEstimator instance.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 699, in _train_model\r\n    '2016-09-23',\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1052, in _get_train_ops\r\n    training hooks.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\estimator.py\", line 1021, in _call_model_fn\r\n    def __init__(self,\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\learn\\python\\learn\\estimators\\kmeans.py\", line 201, in _model_fn\r\n    kmeans_plus_plus_num_retries=self.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 295, in training_graph\r\n    # Implementation of kmeans.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\clustering_ops.py\", line 195, in _infer_graph\r\n    # nearest_neighbors op.\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\contrib\\factorization\\python\\ops\\gen_clustering_ops.py\", line 90, in nearest_neighbors\r\n    centers=centers, k=k, name=name)\r\n  File \"C:\\Users\\#####\\Anaconda3\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 508, in apply_op\r\n    raise TypeError(\"%s expected type of %s.\" %\r\nTypeError: Input 'points' of 'NearestNeighbors' Op has type float64 that does not match expected type of float32.\r\n"}