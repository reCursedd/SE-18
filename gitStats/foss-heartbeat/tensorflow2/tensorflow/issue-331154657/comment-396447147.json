{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/396447147", "html_url": "https://github.com/tensorflow/tensorflow/issues/19907#issuecomment-396447147", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19907", "id": 396447147, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjQ0NzE0Nw==", "user": {"login": "liuningw", "id": 40168780, "node_id": "MDQ6VXNlcjQwMTY4Nzgw", "avatar_url": "https://avatars1.githubusercontent.com/u/40168780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuningw", "html_url": "https://github.com/liuningw", "followers_url": "https://api.github.com/users/liuningw/followers", "following_url": "https://api.github.com/users/liuningw/following{/other_user}", "gists_url": "https://api.github.com/users/liuningw/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuningw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuningw/subscriptions", "organizations_url": "https://api.github.com/users/liuningw/orgs", "repos_url": "https://api.github.com/users/liuningw/repos", "events_url": "https://api.github.com/users/liuningw/events{/privacy}", "received_events_url": "https://api.github.com/users/liuningw/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-12T02:38:13Z", "updated_at": "2018-06-12T02:40:19Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=29663194\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cy89\">@cy89</a>  i update the information,i didnot written custom code</p>\n<p>OS Platform and Distribution : CentOS7.4<br>\nTensorFlow installed from : source code tensorflow-base:1.4.0<br>\nTensorFlow version: 1.4.0<br>\nCUDA/cuDNN version:1.8<br>\nGPU model and memory:nvidia_geforce_gtx_1080_ti<br>\nNVIDIA-SMI 384.90 Driver Version: 384.90 |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC |<br>\n| Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. |<br>\n|===============================+======================|<br>\n| 0 GeForce GTX 108... Off | 00000000:02:00.0 Off | N/A |<br>\n| 23% 29C P8 16W / 250W | 10623MiB / 11172MiB | 0% Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n| 1 GeForce GTX 108... Off | 00000000:04:00.0 Off | N/A |<br>\n| 25% 26C P8 16W / 250W | 10MiB / 11172MiB | 0% Default |</p>\n<p>the pods are as below\uff1a<br>\n[root@k8s-node1 ~]# kubectl --namespace=liuning get pod -owide<br>\nNAME READY STATUS RESTARTS AGE IP NODE<br>\ntensorfenbus-ps-0 1/1 Running 0 27m 10.10.36.111 k8s-node1<br>\ntensorfenbus-session-fh65h 1/1 Running 0 26m 10.10.169.152 k8s-node2<br>\ntensorfenbus-tf-board-n6d28 2/2 Running 0 26m 10.10.169.151 k8s-node2<br>\ntensorfenbus-worker-0 1/1 Running 0 27m 10.10.169.150 k8s-node2<br>\ntensorfenbus-worker-1 1/1 Running 0 27m 10.10.36.112 k8s-node1</p>\n<p>In tensorfenbus-worker-1 i run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1<br>\n--batch_size=32 --model=resnet50<br>\n--job_name=worker --ps_hosts=k8s-node1:2225<br>\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0</p>\n<p>and then in tensorfenbus-ps-0 run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1<br>\n--batch_size=32 --model=resnet50<br>\n--job_name=ps --ps_hosts=k8s-node1:2225<br>\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0</p>", "body_text": "@cy89  i update the information,i didnot written custom code\nOS Platform and Distribution : CentOS7.4\nTensorFlow installed from : source code tensorflow-base:1.4.0\nTensorFlow version: 1.4.0\nCUDA/cuDNN version:1.8\nGPU model and memory:nvidia_geforce_gtx_1080_ti\nNVIDIA-SMI 384.90 Driver Version: 384.90 |\n|-------------------------------+----------------------+----------------------+\n| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC |\n| Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. |\n|===============================+======================|\n| 0 GeForce GTX 108... Off | 00000000:02:00.0 Off | N/A |\n| 23% 29C P8 16W / 250W | 10623MiB / 11172MiB | 0% Default |\n+-------------------------------+----------------------+----------------------+\n| 1 GeForce GTX 108... Off | 00000000:04:00.0 Off | N/A |\n| 25% 26C P8 16W / 250W | 10MiB / 11172MiB | 0% Default |\nthe pods are as below\uff1a\n[root@k8s-node1 ~]# kubectl --namespace=liuning get pod -owide\nNAME READY STATUS RESTARTS AGE IP NODE\ntensorfenbus-ps-0 1/1 Running 0 27m 10.10.36.111 k8s-node1\ntensorfenbus-session-fh65h 1/1 Running 0 26m 10.10.169.152 k8s-node2\ntensorfenbus-tf-board-n6d28 2/2 Running 0 26m 10.10.169.151 k8s-node2\ntensorfenbus-worker-0 1/1 Running 0 27m 10.10.169.150 k8s-node2\ntensorfenbus-worker-1 1/1 Running 0 27m 10.10.36.112 k8s-node1\nIn tensorfenbus-worker-1 i run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1\n--batch_size=32 --model=resnet50\n--job_name=worker --ps_hosts=k8s-node1:2225\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0\nand then in tensorfenbus-ps-0 run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1\n--batch_size=32 --model=resnet50\n--job_name=ps --ps_hosts=k8s-node1:2225\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0", "body": "@cy89  i update the information,i didnot written custom code\r\n\r\nOS Platform and Distribution : CentOS7.4\r\nTensorFlow installed from : source code tensorflow-base:1.4.0\r\nTensorFlow version: 1.4.0\r\nCUDA/cuDNN version:1.8\r\nGPU model and memory:nvidia_geforce_gtx_1080_ti\r\nNVIDIA-SMI 384.90 Driver Version: 384.90 |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC |\r\n| Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. |\r\n|===============================+======================|\r\n| 0 GeForce GTX 108... Off | 00000000:02:00.0 Off | N/A |\r\n| 23% 29C P8 16W / 250W | 10623MiB / 11172MiB | 0% Default |\r\n+-------------------------------+----------------------+----------------------+\r\n| 1 GeForce GTX 108... Off | 00000000:04:00.0 Off | N/A |\r\n| 25% 26C P8 16W / 250W | 10MiB / 11172MiB | 0% Default |\r\n\r\nthe pods are as below\uff1a\r\n[root@k8s-node1 ~]# kubectl --namespace=liuning get pod -owide\r\nNAME READY STATUS RESTARTS AGE IP NODE\r\ntensorfenbus-ps-0 1/1 Running 0 27m 10.10.36.111 k8s-node1\r\ntensorfenbus-session-fh65h 1/1 Running 0 26m 10.10.169.152 k8s-node2\r\ntensorfenbus-tf-board-n6d28 2/2 Running 0 26m 10.10.169.151 k8s-node2\r\ntensorfenbus-worker-0 1/1 Running 0 27m 10.10.169.150 k8s-node2\r\ntensorfenbus-worker-1 1/1 Running 0 27m 10.10.36.112 k8s-node1\r\n\r\nIn tensorfenbus-worker-1 i run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1 \r\n--batch_size=32 --model=resnet50 \r\n--job_name=worker --ps_hosts=k8s-node1:2225 \r\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0\r\n\r\nand then in tensorfenbus-ps-0 run python tf_cnn_benchmarks.py --local_parameter_device=gpu --num_gpus=1 \r\n--batch_size=32 --model=resnet50 \r\n--job_name=ps --ps_hosts=k8s-node1:2225 \r\n--worker_hosts=k8s-node1:2225,k8s-node2:2225 --task_index=0"}