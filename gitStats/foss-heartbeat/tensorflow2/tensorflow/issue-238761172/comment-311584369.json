{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/311584369", "html_url": "https://github.com/tensorflow/tensorflow/issues/11077#issuecomment-311584369", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11077", "id": 311584369, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTU4NDM2OQ==", "user": {"login": "Songweiping", "id": 11703156, "node_id": "MDQ6VXNlcjExNzAzMTU2", "avatar_url": "https://avatars2.githubusercontent.com/u/11703156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Songweiping", "html_url": "https://github.com/Songweiping", "followers_url": "https://api.github.com/users/Songweiping/followers", "following_url": "https://api.github.com/users/Songweiping/following{/other_user}", "gists_url": "https://api.github.com/users/Songweiping/gists{/gist_id}", "starred_url": "https://api.github.com/users/Songweiping/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Songweiping/subscriptions", "organizations_url": "https://api.github.com/users/Songweiping/orgs", "repos_url": "https://api.github.com/users/Songweiping/repos", "events_url": "https://api.github.com/users/Songweiping/events{/privacy}", "received_events_url": "https://api.github.com/users/Songweiping/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-28T07:50:04Z", "updated_at": "2017-06-28T07:50:04Z", "author_association": "CONTRIBUTOR", "body_html": "<p>You provide wrong initial state while constructing the decoder in:</p>\n<pre><code>decoder = tf.contrib.seq2seq.BasicDecoder(\n                cell = attn_cell,\n                helper = helper, # A Helper instance\n                initial_state = encoder_state, # initial state of decoder\n                output_layer = None) # instance of tf.layers.Layer, like Dense\n)\n</code></pre>\n<p><code>encoder_state</code> is not an instance of the AttentionWrapperState,  and naturally it has no attribute named \"attention\". You should provide an instance of AttentionWrapperState as initial_state, such as <code>attn_cell.zero_state(...)</code>.</p>", "body_text": "You provide wrong initial state while constructing the decoder in:\ndecoder = tf.contrib.seq2seq.BasicDecoder(\n                cell = attn_cell,\n                helper = helper, # A Helper instance\n                initial_state = encoder_state, # initial state of decoder\n                output_layer = None) # instance of tf.layers.Layer, like Dense\n)\n\nencoder_state is not an instance of the AttentionWrapperState,  and naturally it has no attribute named \"attention\". You should provide an instance of AttentionWrapperState as initial_state, such as attn_cell.zero_state(...).", "body": "You provide wrong initial state while constructing the decoder in: \r\n\r\n```\r\ndecoder = tf.contrib.seq2seq.BasicDecoder(\r\n                cell = attn_cell,\r\n                helper = helper, # A Helper instance\r\n                initial_state = encoder_state, # initial state of decoder\r\n                output_layer = None) # instance of tf.layers.Layer, like Dense\r\n)\r\n```\r\n`encoder_state` is not an instance of the AttentionWrapperState,  and naturally it has no attribute named \"attention\". You should provide an instance of AttentionWrapperState as initial_state, such as `attn_cell.zero_state(...)`."}