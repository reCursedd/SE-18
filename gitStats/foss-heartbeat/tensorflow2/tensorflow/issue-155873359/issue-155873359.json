{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2437", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2437/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2437/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2437/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2437", "id": 155873359, "node_id": "MDU6SXNzdWUxNTU4NzMzNTk=", "number": 2437, "title": "Loaded cudnn library: 4007 but source was compiled against 4004", "user": {"login": "DLDarwin", "id": 18651425, "node_id": "MDQ6VXNlcjE4NjUxNDI1", "avatar_url": "https://avatars0.githubusercontent.com/u/18651425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DLDarwin", "html_url": "https://github.com/DLDarwin", "followers_url": "https://api.github.com/users/DLDarwin/followers", "following_url": "https://api.github.com/users/DLDarwin/following{/other_user}", "gists_url": "https://api.github.com/users/DLDarwin/gists{/gist_id}", "starred_url": "https://api.github.com/users/DLDarwin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DLDarwin/subscriptions", "organizations_url": "https://api.github.com/users/DLDarwin/orgs", "repos_url": "https://api.github.com/users/DLDarwin/repos", "events_url": "https://api.github.com/users/DLDarwin/events{/privacy}", "received_events_url": "https://api.github.com/users/DLDarwin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zheng-xq", "id": 15736910, "node_id": "MDQ6VXNlcjE1NzM2OTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/15736910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zheng-xq", "html_url": "https://github.com/zheng-xq", "followers_url": "https://api.github.com/users/zheng-xq/followers", "following_url": "https://api.github.com/users/zheng-xq/following{/other_user}", "gists_url": "https://api.github.com/users/zheng-xq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zheng-xq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zheng-xq/subscriptions", "organizations_url": "https://api.github.com/users/zheng-xq/orgs", "repos_url": "https://api.github.com/users/zheng-xq/repos", "events_url": "https://api.github.com/users/zheng-xq/events{/privacy}", "received_events_url": "https://api.github.com/users/zheng-xq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2016-05-20T02:10:13Z", "updated_at": "2016-09-28T17:39:50Z", "closed_at": "2016-05-23T07:01:27Z", "author_association": "NONE", "body_html": "<p>when I install the tensorflow from souces in my ubuntu14.04 system, a cudnn version does not match  problem happened.<br>\nOmit some fine steps, the following is my installation steps:</p>\n<h3>1.Configure the cuda installation,  CUDA 7.5 and cudnn v4.0.7  have been chosen:</h3>\n<p>root@node4:/home/zhouzhiqiang/tensor_5_9/tensorflow# ./configure<br>\nPlease specify the location of python. [Default is /usr/bin/python]:<br>\nDo you wish to build TensorFlow with GPU support? [y/N] y<br>\nGPU support will be enabled for TensorFlow<br>\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]:<br>\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5<br>\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 4.0.7<br>\nPlease specify the location where cuDNN 4.0.7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:<br>\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.<br>\nYou can find the compute capability of your device at: <a href=\"https://developer.nvidia.com/cuda-gpus\" rel=\"nofollow\">https://developer.nvidia.com/cuda-gpus</a>.<br>\nPlease note that each additional compute capability significantly increases your build time and binary size.<br>\n[Default is: \"3.5,5.2\"]:<br>\nSetting up Cuda include<br>\nSetting up Cuda lib64<br>\nSetting up Cuda bin<br>\nSetting up Cuda nvvm<br>\nSetting up CUPTI include<br>\nSetting up CUPTI lib64<br>\nConfiguration finished</p>\n<h3>2. Create the pip package and install</h3>\n<p>bazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</p>\n<p>bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</p>\n<p>sudo pip install /tmp/tensorflow_pkg/tensorflow-0.8.0-py2-none-any.whl</p>\n<h3>After the installation, The following example was carried out:</h3>\n<p>python tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py</p>\n<h3>Log for printing:</h3>\n<p>E tensorflow/stream_executor/cuda/cuda_dnn.cc:286] Loaded cudnn library: 4007 but source was compiled against 4004.  If using a binary install, upgrade your cudnn library to match.  If building from sources, make sure the library loaded matches the version you specified during compile configuration.<br>\nW tensorflow/stream_executor/stream.cc:301] attempting to perform DNN operation using StreamExecutor without DNN support<br>\nTraceback (most recent call last):<br>\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 236, in <br>\ntf.app.run()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run<br>\nsys.exit(main(sys.argv))<br>\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 232, in main<br>\nrun_benchmark()<br>\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 221, in run_benchmark<br>\ntime_tensorflow_run(sess, pool5, \"Forward\")<br>\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 177, in time_tensorflow_run<br>\n_ = session.run(target)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 332, in run<br>\nrun_metadata_ptr)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 572, in _run<br>\nfeed_dict_string, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 652, in _do_run<br>\ntarget_list, options, run_metadata)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 672, in _do_call<br>\nraise type(e)(node_def, op, message)<br>\ntensorflow.python.framework.errors.InternalError: cuDNN launch failure : input shape([128,3,225,225]) filter shape([11,11,3,64])<br>\n[[Node: conv1/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Variable/read, conv1/weights/read)]]</p>\n<h3>Print notes that cudnn version  does not match, but in reality,  I haven't installed cudnn v4.0.4\uff0c and  cudnn v4.0.7 is configured  at installation time. Does anyone know why?</h3>", "body_text": "when I install the tensorflow from souces in my ubuntu14.04 system, a cudnn version does not match  problem happened.\nOmit some fine steps, the following is my installation steps:\n1.Configure the cuda installation,  CUDA 7.5 and cudnn v4.0.7  have been chosen:\nroot@node4:/home/zhouzhiqiang/tensor_5_9/tensorflow# ./configure\nPlease specify the location of python. [Default is /usr/bin/python]:\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]:\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 4.0.7\nPlease specify the location where cuDNN 4.0.7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]:\nSetting up Cuda include\nSetting up Cuda lib64\nSetting up Cuda bin\nSetting up Cuda nvvm\nSetting up CUPTI include\nSetting up CUPTI lib64\nConfiguration finished\n2. Create the pip package and install\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\nsudo pip install /tmp/tensorflow_pkg/tensorflow-0.8.0-py2-none-any.whl\nAfter the installation, The following example was carried out:\npython tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\nLog for printing:\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:286] Loaded cudnn library: 4007 but source was compiled against 4004.  If using a binary install, upgrade your cudnn library to match.  If building from sources, make sure the library loaded matches the version you specified during compile configuration.\nW tensorflow/stream_executor/stream.cc:301] attempting to perform DNN operation using StreamExecutor without DNN support\nTraceback (most recent call last):\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 236, in \ntf.app.run()\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\nsys.exit(main(sys.argv))\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 232, in main\nrun_benchmark()\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 221, in run_benchmark\ntime_tensorflow_run(sess, pool5, \"Forward\")\nFile \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 177, in time_tensorflow_run\n_ = session.run(target)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 332, in run\nrun_metadata_ptr)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 572, in _run\nfeed_dict_string, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 652, in _do_run\ntarget_list, options, run_metadata)\nFile \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 672, in _do_call\nraise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InternalError: cuDNN launch failure : input shape([128,3,225,225]) filter shape([11,11,3,64])\n[[Node: conv1/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Variable/read, conv1/weights/read)]]\nPrint notes that cudnn version  does not match, but in reality,  I haven't installed cudnn v4.0.4\uff0c and  cudnn v4.0.7 is configured  at installation time. Does anyone know why?", "body": "when I install the tensorflow from souces in my ubuntu14.04 system, a cudnn version does not match  problem happened.\nOmit some fine steps, the following is my installation steps:\n### 1.Configure the cuda installation,  CUDA 7.5 and cudnn v4.0.7  have been chosen:\n\nroot@node4:/home/zhouzhiqiang/tensor_5_9/tensorflow# ./configure \nPlease specify the location of python. [Default is /usr/bin/python]: \nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc nvcc should use as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: 7.5\nPlease specify the location where CUDA 7.5 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: 4.0.7\nPlease specify the location where cuDNN 4.0.7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: \nSetting up Cuda include\nSetting up Cuda lib64\nSetting up Cuda bin\nSetting up Cuda nvvm\nSetting up CUPTI include\nSetting up CUPTI lib64\nConfiguration finished\n### 2. Create the pip package and install\n\nbazel build -c opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\n\nbazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\n\nsudo pip install /tmp/tensorflow_pkg/tensorflow-0.8.0-py2-none-any.whl\n### After the installation, The following example was carried out:\n\npython tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\n### Log for printing:\n\nE tensorflow/stream_executor/cuda/cuda_dnn.cc:286] Loaded cudnn library: 4007 but source was compiled against 4004.  If using a binary install, upgrade your cudnn library to match.  If building from sources, make sure the library loaded matches the version you specified during compile configuration.\nW tensorflow/stream_executor/stream.cc:301] attempting to perform DNN operation using StreamExecutor without DNN support\nTraceback (most recent call last):\n  File \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 236, in <module>\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 232, in main\n    run_benchmark()\n  File \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 221, in run_benchmark\n    time_tensorflow_run(sess, pool5, \"Forward\")\n  File \"tensor_5_9/tensorflow/tensorflow/models/image/alexnet/alexnet_benchmark.py\", line 177, in time_tensorflow_run\n    _ = session.run(target)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 332, in run\n    run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 572, in _run\n    feed_dict_string, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 652, in _do_run\n    target_list, options, run_metadata)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 672, in _do_call\n    raise type(e)(node_def, op, message)\ntensorflow.python.framework.errors.InternalError: cuDNN launch failure : input shape([128,3,225,225]) filter shape([11,11,3,64])\n         [[Node: conv1/Conv2D = Conv2D[T=DT_FLOAT, data_format=\"NHWC\", padding=\"SAME\", strides=[1, 4, 4, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Variable/read, conv1/weights/read)]]\n### Print notes that cudnn version  does not match, but in reality,  I haven't installed cudnn v4.0.4\uff0c and  cudnn v4.0.7 is configured  at installation time. Does anyone know why?\n"}