{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/294221910", "html_url": "https://github.com/tensorflow/tensorflow/pull/9214#issuecomment-294221910", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9214", "id": 294221910, "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDIyMTkxMA==", "user": {"login": "jart", "id": 49262, "node_id": "MDQ6VXNlcjQ5MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/49262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jart", "html_url": "https://github.com/jart", "followers_url": "https://api.github.com/users/jart/followers", "following_url": "https://api.github.com/users/jart/following{/other_user}", "gists_url": "https://api.github.com/users/jart/gists{/gist_id}", "starred_url": "https://api.github.com/users/jart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jart/subscriptions", "organizations_url": "https://api.github.com/users/jart/orgs", "repos_url": "https://api.github.com/users/jart/repos", "events_url": "https://api.github.com/users/jart/events{/privacy}", "received_events_url": "https://api.github.com/users/jart/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-14T19:41:08Z", "updated_at": "2017-04-14T19:41:08Z", "author_association": "MEMBER", "body_html": "<p>In that case I'd recommend one of the following:</p>\n<ol>\n<li>\n<p>Keep current approach and rename <code>with_jemalloc</code> to <code>with_jemalloc_on_linux_x86_64</code> and rename <code>linux_ppc64le</code> to <code>with_jemalloc_on_linux_ppc64le</code>.</p>\n</li>\n<li>\n<p>Investigate if jemalloc can just be enabled for all platforms if <code>with_jemalloc</code> is <code>true</code>. When I coded it this way IIRC I was erring on the side of caution and inheriting previous decisions. I haven't investigated what platforms jemalloc does and does not support.</p>\n</li>\n</ol>\n<p>I would prefer (2) but it's probably more work.</p>", "body_text": "In that case I'd recommend one of the following:\n\n\nKeep current approach and rename with_jemalloc to with_jemalloc_on_linux_x86_64 and rename linux_ppc64le to with_jemalloc_on_linux_ppc64le.\n\n\nInvestigate if jemalloc can just be enabled for all platforms if with_jemalloc is true. When I coded it this way IIRC I was erring on the side of caution and inheriting previous decisions. I haven't investigated what platforms jemalloc does and does not support.\n\n\nI would prefer (2) but it's probably more work.", "body": "In that case I'd recommend one of the following:\r\n\r\n1. Keep current approach and rename `with_jemalloc` to `with_jemalloc_on_linux_x86_64` and rename `linux_ppc64le` to `with_jemalloc_on_linux_ppc64le`.\r\n\r\n2. Investigate if jemalloc can just be enabled for all platforms if `with_jemalloc` is `true`. When I coded it this way IIRC I was erring on the side of caution and inheriting previous decisions. I haven't investigated what platforms jemalloc does and does not support.\r\n\r\nI would prefer (2) but it's probably more work."}