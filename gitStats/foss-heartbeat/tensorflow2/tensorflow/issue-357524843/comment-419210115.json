{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/419210115", "html_url": "https://github.com/tensorflow/tensorflow/issues/22106#issuecomment-419210115", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22106", "id": 419210115, "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTIxMDExNQ==", "user": {"login": "BryanRansil", "id": 1517013, "node_id": "MDQ6VXNlcjE1MTcwMTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1517013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanRansil", "html_url": "https://github.com/BryanRansil", "followers_url": "https://api.github.com/users/BryanRansil/followers", "following_url": "https://api.github.com/users/BryanRansil/following{/other_user}", "gists_url": "https://api.github.com/users/BryanRansil/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanRansil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanRansil/subscriptions", "organizations_url": "https://api.github.com/users/BryanRansil/orgs", "repos_url": "https://api.github.com/users/BryanRansil/repos", "events_url": "https://api.github.com/users/BryanRansil/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanRansil/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-06T19:16:08Z", "updated_at": "2018-09-06T19:16:40Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4723042\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/achowdhery\">@achowdhery</a> Good to know they should work - tried the toco command in the blog post on <code>ssd_mobilenet_v2_coco_2018_03_29/frozen_inference_graph.pb</code> and got the error</p>\n<pre><code>2018-09-06 11:21:59.289737: F tensorflow/contrib/lite/toco/tooling_util.cc:807] Check failed: model.HasArray(output_array) Output array not found: TFLite_Detection_PostProcess\n</code></pre>\n<p>I then tried substituting the output array with <code>concat,concat_1</code> and got the error</p>\n<pre><code>2018-09-06 12:04:52.844845: F tensorflow/contrib/lite/toco/tooling_util.cc:1613] Array Preprocessor/map/while/NextIteration, which is an input to the Merge operator producing the output array Preprocessor/map/while/Merge, is lacking min/max data, which is necessary for quantization. Either target a non-quantized output format, or change the input graph to contain min/max information, or pass --default_ranges_min= and --default_ranges_max= if you do not care about the accuracy of results.\n</code></pre>\n<p>This matches the error in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"319393111\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/19014\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/19014/hovercard?comment_id=405696749&amp;comment_type=issue_comment\" href=\"https://github.com/tensorflow/tensorflow/issues/19014#issuecomment-405696749\">#19014 (comment)</a>, but that thread is on custom graphs.</p>\n<p>I then put in values for the two params, getting the following error</p>\n<pre><code>Unimplemented: this graph contains an operator of type (Unsupported TensorFlow op: Enter) for which the quantized form is not yet implemented. Sorry, and patches welcome (that's a relatively fun patch to write, mostly providing the actual quantized arithmetic code for this op).\nAborted (core dumped)\n</code></pre>\n<p>Again, this is all on r1.9. Is quantization unsupported on that release?</p>", "body_text": "@achowdhery Good to know they should work - tried the toco command in the blog post on ssd_mobilenet_v2_coco_2018_03_29/frozen_inference_graph.pb and got the error\n2018-09-06 11:21:59.289737: F tensorflow/contrib/lite/toco/tooling_util.cc:807] Check failed: model.HasArray(output_array) Output array not found: TFLite_Detection_PostProcess\n\nI then tried substituting the output array with concat,concat_1 and got the error\n2018-09-06 12:04:52.844845: F tensorflow/contrib/lite/toco/tooling_util.cc:1613] Array Preprocessor/map/while/NextIteration, which is an input to the Merge operator producing the output array Preprocessor/map/while/Merge, is lacking min/max data, which is necessary for quantization. Either target a non-quantized output format, or change the input graph to contain min/max information, or pass --default_ranges_min= and --default_ranges_max= if you do not care about the accuracy of results.\n\nThis matches the error in #19014 (comment), but that thread is on custom graphs.\nI then put in values for the two params, getting the following error\nUnimplemented: this graph contains an operator of type (Unsupported TensorFlow op: Enter) for which the quantized form is not yet implemented. Sorry, and patches welcome (that's a relatively fun patch to write, mostly providing the actual quantized arithmetic code for this op).\nAborted (core dumped)\n\nAgain, this is all on r1.9. Is quantization unsupported on that release?", "body": "@achowdhery Good to know they should work - tried the toco command in the blog post on `ssd_mobilenet_v2_coco_2018_03_29/frozen_inference_graph.pb` and got the error\r\n```\r\n2018-09-06 11:21:59.289737: F tensorflow/contrib/lite/toco/tooling_util.cc:807] Check failed: model.HasArray(output_array) Output array not found: TFLite_Detection_PostProcess\r\n```\r\nI then tried substituting the output array with `concat,concat_1` and got the error\r\n```\r\n2018-09-06 12:04:52.844845: F tensorflow/contrib/lite/toco/tooling_util.cc:1613] Array Preprocessor/map/while/NextIteration, which is an input to the Merge operator producing the output array Preprocessor/map/while/Merge, is lacking min/max data, which is necessary for quantization. Either target a non-quantized output format, or change the input graph to contain min/max information, or pass --default_ranges_min= and --default_ranges_max= if you do not care about the accuracy of results.\r\n```\r\nThis matches the error in https://github.com/tensorflow/tensorflow/issues/19014#issuecomment-405696749, but that thread is on custom graphs.\r\n\r\nI then put in values for the two params, getting the following error\r\n```\r\nUnimplemented: this graph contains an operator of type (Unsupported TensorFlow op: Enter) for which the quantized form is not yet implemented. Sorry, and patches welcome (that's a relatively fun patch to write, mostly providing the actual quantized arithmetic code for this op).\r\nAborted (core dumped)\r\n```\r\nAgain, this is all on r1.9. Is quantization unsupported on that release?"}