{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/428612032", "html_url": "https://github.com/tensorflow/tensorflow/pull/22429#issuecomment-428612032", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22429", "id": 428612032, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODYxMjAzMg==", "user": {"login": "feihugis", "id": 5057740, "node_id": "MDQ6VXNlcjUwNTc3NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5057740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feihugis", "html_url": "https://github.com/feihugis", "followers_url": "https://api.github.com/users/feihugis/followers", "following_url": "https://api.github.com/users/feihugis/following{/other_user}", "gists_url": "https://api.github.com/users/feihugis/gists{/gist_id}", "starred_url": "https://api.github.com/users/feihugis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feihugis/subscriptions", "organizations_url": "https://api.github.com/users/feihugis/orgs", "repos_url": "https://api.github.com/users/feihugis/repos", "events_url": "https://api.github.com/users/feihugis/events{/privacy}", "received_events_url": "https://api.github.com/users/feihugis/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-10T15:13:38Z", "updated_at": "2018-10-10T15:32:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1072079\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jsimsa\">@jsimsa</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a> Thanks for running the test! Several tests passed on Windows (e.g.<code>testSimpleDirectory</code> and <code>testFileMiddles</code>), but <code>testNestedDirectories</code> and <code>MatchingFilesDatasetSerializationTest</code> still failed. It seems to be caused by the different behaviors of Windows and Linux on the search pattern with nested directories. For example,</p>\n<ul>\n<li>for the input pattern <code>TMP_DIR/*/*.txt</code> and the file <code>TMP_DIR/a/b/c.txt</code>, Windows will treat this file as a match, but Linux will not;</li>\n<li>for the input pattern <code>TMP_DIR/*/*/*/*.txt</code> and the file <code>TMP_DIR/a/b/c/d.txt</code>, both Windows and Linux will treat them as the match.</li>\n</ul>", "body_text": "@jsimsa @mrry Thanks for running the test! Several tests passed on Windows (e.g.testSimpleDirectory and testFileMiddles), but testNestedDirectories and MatchingFilesDatasetSerializationTest still failed. It seems to be caused by the different behaviors of Windows and Linux on the search pattern with nested directories. For example,\n\nfor the input pattern TMP_DIR/*/*.txt and the file TMP_DIR/a/b/c.txt, Windows will treat this file as a match, but Linux will not;\nfor the input pattern TMP_DIR/*/*/*/*.txt and the file TMP_DIR/a/b/c/d.txt, both Windows and Linux will treat them as the match.", "body": "@jsimsa @mrry Thanks for running the test! Several tests passed on Windows (e.g.`testSimpleDirectory` and `testFileMiddles`), but `testNestedDirectories` and `MatchingFilesDatasetSerializationTest` still failed. It seems to be caused by the different behaviors of Windows and Linux on the search pattern with nested directories. For example, \r\n- for the input pattern `TMP_DIR/*/*.txt` and the file `TMP_DIR/a/b/c.txt`, Windows will treat this file as a match, but Linux will not; \r\n- for the input pattern `TMP_DIR/*/*/*/*.txt` and the file `TMP_DIR/a/b/c/d.txt`, both Windows and Linux will treat them as the match.    "}