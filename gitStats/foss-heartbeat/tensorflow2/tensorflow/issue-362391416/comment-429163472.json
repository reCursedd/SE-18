{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/429163472", "html_url": "https://github.com/tensorflow/tensorflow/pull/22429#issuecomment-429163472", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22429", "id": 429163472, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTE2MzQ3Mg==", "user": {"login": "feihugis", "id": 5057740, "node_id": "MDQ6VXNlcjUwNTc3NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5057740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feihugis", "html_url": "https://github.com/feihugis", "followers_url": "https://api.github.com/users/feihugis/followers", "following_url": "https://api.github.com/users/feihugis/following{/other_user}", "gists_url": "https://api.github.com/users/feihugis/gists{/gist_id}", "starred_url": "https://api.github.com/users/feihugis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feihugis/subscriptions", "organizations_url": "https://api.github.com/users/feihugis/orgs", "repos_url": "https://api.github.com/users/feihugis/repos", "events_url": "https://api.github.com/users/feihugis/events{/privacy}", "received_events_url": "https://api.github.com/users/feihugis/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-12T00:19:13Z", "updated_at": "2018-10-12T00:26:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1072079\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jsimsa\">@jsimsa</a> Based on the log, there is no <code>Status: Not found</code> (one should be there for <code>testNonExistingDirectory</code>), and only two records with <code>Children Num: 0</code> in below:</p>\n<pre><code>Children Num: 0; Status: OK; Current dir: /tmp/tmp4eu2yriu\n.......\nChildren Num: 0; Status: OK; Current dir: /tmp/tmpoltn3n5n\n.\n</code></pre>\n<ul>\n<li>The first one comes from <code>MatchingFilesDatasetTest.testEmptyDirectory</code>. We can ignore it.</li>\n<li>The second one comes from <code>MatchingFilesDatasetTest.testNonExistingDirectory </code>. It is expected to be <code>Status: Not found</code>. There will be two possible scenarios: 1) <a href=\"https://github.com/tensorflow/tensorflow/blob/879a5020f0b05026951d463bad47c00d94da6879/tensorflow/python/data/kernel_tests/matching_files_dataset_op_test.py#L51\">self.tearDown()</a> did not sucessfully delete the tmp dir; 2) if the tmp dir is removed, that means the filesystem return <code>Status::OK()</code> for the non-exisiting path (Will it be possible?).</li>\n</ul>\n<p>Will add more logs. Do you know which filesystem is used in the internal check?</p>", "body_text": "@jsimsa Based on the log, there is no Status: Not found (one should be there for testNonExistingDirectory), and only two records with Children Num: 0 in below:\nChildren Num: 0; Status: OK; Current dir: /tmp/tmp4eu2yriu\n.......\nChildren Num: 0; Status: OK; Current dir: /tmp/tmpoltn3n5n\n.\n\n\nThe first one comes from MatchingFilesDatasetTest.testEmptyDirectory. We can ignore it.\nThe second one comes from MatchingFilesDatasetTest.testNonExistingDirectory . It is expected to be Status: Not found. There will be two possible scenarios: 1) self.tearDown() did not sucessfully delete the tmp dir; 2) if the tmp dir is removed, that means the filesystem return Status::OK() for the non-exisiting path (Will it be possible?).\n\nWill add more logs. Do you know which filesystem is used in the internal check?", "body": "@jsimsa Based on the log, there is no `Status: Not found` (one should be there for `testNonExistingDirectory`), and only two records with `Children Num: 0` in below:\r\n```\r\nChildren Num: 0; Status: OK; Current dir: /tmp/tmp4eu2yriu\r\n.......\r\nChildren Num: 0; Status: OK; Current dir: /tmp/tmpoltn3n5n\r\n.\r\n```\r\n- The first one comes from `MatchingFilesDatasetTest.testEmptyDirectory`. We can ignore it.\r\n- The second one comes from `MatchingFilesDatasetTest.testNonExistingDirectory `. It is expected to be `Status: Not found`. There will be two possible scenarios: 1) [self.tearDown()](https://github.com/tensorflow/tensorflow/blob/879a5020f0b05026951d463bad47c00d94da6879/tensorflow/python/data/kernel_tests/matching_files_dataset_op_test.py#L51) did not sucessfully delete the tmp dir; 2) if the tmp dir is removed, that means the filesystem return `Status::OK()` for the non-exisiting path (Will it be possible?). \r\n\r\nWill add more logs. Do you know which filesystem is used in the internal check?  "}