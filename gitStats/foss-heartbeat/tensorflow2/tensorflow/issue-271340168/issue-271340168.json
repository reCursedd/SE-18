{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14267", "id": 271340168, "node_id": "MDU6SXNzdWUyNzEzNDAxNjg=", "number": 14267, "title": "opencv cannot read any image with tensorflow", "user": {"login": "stereomatchingkiss", "id": 1801914, "node_id": "MDQ6VXNlcjE4MDE5MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1801914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stereomatchingkiss", "html_url": "https://github.com/stereomatchingkiss", "followers_url": "https://api.github.com/users/stereomatchingkiss/followers", "following_url": "https://api.github.com/users/stereomatchingkiss/following{/other_user}", "gists_url": "https://api.github.com/users/stereomatchingkiss/gists{/gist_id}", "starred_url": "https://api.github.com/users/stereomatchingkiss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stereomatchingkiss/subscriptions", "organizations_url": "https://api.github.com/users/stereomatchingkiss/orgs", "repos_url": "https://api.github.com/users/stereomatchingkiss/repos", "events_url": "https://api.github.com/users/stereomatchingkiss/events{/privacy}", "received_events_url": "https://api.github.com/users/stereomatchingkiss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 39, "created_at": "2017-11-06T02:14:50Z", "updated_at": "2018-07-16T16:13:08Z", "closed_at": "2017-12-15T05:04:56Z", "author_association": "NONE", "body_html": "<p>It is the same issue as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"148131185\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1924\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1924/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1924\">#1924</a>, since the bug is closed, I open a new one, because this bug haven't been solved yet.</p>\n<p>From subashp</p>\n<blockquote>\n<p>I am using the TF 1.4 and linking against C++ code. Below code always says it failed to read the file. I have incorporated above suggestions and it doesnt make any difference. Thoughts/suggestions?</p>\n</blockquote>\n<pre><code>cv::String pathImg = argv[1];\ncv::Mat img = cv::imread(pathImg, CV_LOAD_IMAGE_COLOR | CV_LOAD_IMAGE_ANYDEPTH);\nif (img.empty()) {\nerror(\"Failed to read the file {}\", argv[1]);\nreturn -1;\n}\n\n</code></pre>\n<p>From rmmal</p>\n<blockquote>\n<p>we cloned the latest version of tensorflow and still there is a problem of reading images using opencv , everytime i initiate a TENSOR object the opencv doesn't work.</p>\n</blockquote>\n<p>From me, using tensor1.4, build from source</p>\n<pre><code>#include &lt;opencv2/core.hpp&gt;\n#include &lt;opencv2/highgui.hpp&gt;\n\n//unable to read any image if I include this header, no matter\n//it before or after opencv\n#include &lt;tensorflow/cc/ops/const_op.h&gt;\n\n#include &lt;iostream&gt;\n\nint main(int argc, char *argv[])\n{\n    cv::Mat input_mat = cv::imread(argv[1], cv::IMREAD_COLOR);\n    std::cout&lt;&lt;argv[1]&lt;&lt;\", size:\"&lt;&lt;input_mat.size()&lt;&lt;std::endl;    \n}\n\n</code></pre>", "body_text": "It is the same issue as #1924, since the bug is closed, I open a new one, because this bug haven't been solved yet.\nFrom subashp\n\nI am using the TF 1.4 and linking against C++ code. Below code always says it failed to read the file. I have incorporated above suggestions and it doesnt make any difference. Thoughts/suggestions?\n\ncv::String pathImg = argv[1];\ncv::Mat img = cv::imread(pathImg, CV_LOAD_IMAGE_COLOR | CV_LOAD_IMAGE_ANYDEPTH);\nif (img.empty()) {\nerror(\"Failed to read the file {}\", argv[1]);\nreturn -1;\n}\n\n\nFrom rmmal\n\nwe cloned the latest version of tensorflow and still there is a problem of reading images using opencv , everytime i initiate a TENSOR object the opencv doesn't work.\n\nFrom me, using tensor1.4, build from source\n#include <opencv2/core.hpp>\n#include <opencv2/highgui.hpp>\n\n//unable to read any image if I include this header, no matter\n//it before or after opencv\n#include <tensorflow/cc/ops/const_op.h>\n\n#include <iostream>\n\nint main(int argc, char *argv[])\n{\n    cv::Mat input_mat = cv::imread(argv[1], cv::IMREAD_COLOR);\n    std::cout<<argv[1]<<\", size:\"<<input_mat.size()<<std::endl;    \n}", "body": "It is the same issue as #1924, since the bug is closed, I open a new one, because this bug haven't been solved yet.\r\n\r\nFrom subashp\r\n\r\n> I am using the TF 1.4 and linking against C++ code. Below code always says it failed to read the file. I have incorporated above suggestions and it doesnt make any difference. Thoughts/suggestions?\r\n\r\n\r\n```\r\ncv::String pathImg = argv[1];\r\ncv::Mat img = cv::imread(pathImg, CV_LOAD_IMAGE_COLOR | CV_LOAD_IMAGE_ANYDEPTH);\r\nif (img.empty()) {\r\nerror(\"Failed to read the file {}\", argv[1]);\r\nreturn -1;\r\n}\r\n\r\n```\r\n\r\nFrom rmmal\r\n\r\n> we cloned the latest version of tensorflow and still there is a problem of reading images using opencv , everytime i initiate a TENSOR object the opencv doesn't work.\r\n\r\nFrom me, using tensor1.4, build from source\r\n\r\n```\r\n#include <opencv2/core.hpp>\r\n#include <opencv2/highgui.hpp>\r\n\r\n//unable to read any image if I include this header, no matter\r\n//it before or after opencv\r\n#include <tensorflow/cc/ops/const_op.h>\r\n\r\n#include <iostream>\r\n\r\nint main(int argc, char *argv[])\r\n{\r\n    cv::Mat input_mat = cv::imread(argv[1], cv::IMREAD_COLOR);\r\n    std::cout<<argv[1]<<\", size:\"<<input_mat.size()<<std::endl;    \r\n}\r\n\r\n```"}