{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/342344115", "html_url": "https://github.com/tensorflow/tensorflow/issues/14267#issuecomment-342344115", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267", "id": 342344115, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjM0NDExNQ==", "user": {"login": "stereomatchingkiss", "id": 1801914, "node_id": "MDQ6VXNlcjE4MDE5MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1801914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stereomatchingkiss", "html_url": "https://github.com/stereomatchingkiss", "followers_url": "https://api.github.com/users/stereomatchingkiss/followers", "following_url": "https://api.github.com/users/stereomatchingkiss/following{/other_user}", "gists_url": "https://api.github.com/users/stereomatchingkiss/gists{/gist_id}", "starred_url": "https://api.github.com/users/stereomatchingkiss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stereomatchingkiss/subscriptions", "organizations_url": "https://api.github.com/users/stereomatchingkiss/orgs", "repos_url": "https://api.github.com/users/stereomatchingkiss/repos", "events_url": "https://api.github.com/users/stereomatchingkiss/events{/privacy}", "received_events_url": "https://api.github.com/users/stereomatchingkiss/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T01:20:45Z", "updated_at": "2017-11-07T01:20:45Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3731025\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/allenlavoie\">@allenlavoie</a></p>\n<blockquote>\n<p>how you're building (Bazel? Linking against libtensorflow_framework.so? Linking against the C++ API .so?)?</p>\n</blockquote>\n<p>I build tensorflow libs by Bazel</p>\n<ol>\n<li>Clone tensorflow from <a href=\"https://github.com/tensorflow\">https://github.com/tensorflow</a></li>\n<li>Install require dependencies</li>\n<li>bazel build //tensorflow:libtensorflow.so</li>\n<li>Link to cuda, -L/usr/local/cuda-8.0/lib64 -lcuda -lcudart -lcurand -lcublas -lcudnn -lcusolver -lcufft</li>\n<li>Link to protof and tensorflow, -L/usr/local -lprotobuf -ltensorflow_framework -ltensorflow_cc</li>\n<li>Link to opencv, -L/usr/local/lib -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_imgcodecs -lopencv_video -lopencv_videoio</li>\n<li>Compile and run, images always empty</li>\n</ol>\n<blockquote>\n<p>TensorFlow needs to use image libraries, but it's possible we can hide the symbols in some cases.</p>\n</blockquote>\n<p>Could we separate images loading part as another module, make it as an independent lib? Let the users select they want to build it or not.</p>", "body_text": "@allenlavoie\n\nhow you're building (Bazel? Linking against libtensorflow_framework.so? Linking against the C++ API .so?)?\n\nI build tensorflow libs by Bazel\n\nClone tensorflow from https://github.com/tensorflow\nInstall require dependencies\nbazel build //tensorflow:libtensorflow.so\nLink to cuda, -L/usr/local/cuda-8.0/lib64 -lcuda -lcudart -lcurand -lcublas -lcudnn -lcusolver -lcufft\nLink to protof and tensorflow, -L/usr/local -lprotobuf -ltensorflow_framework -ltensorflow_cc\nLink to opencv, -L/usr/local/lib -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_imgcodecs -lopencv_video -lopencv_videoio\nCompile and run, images always empty\n\n\nTensorFlow needs to use image libraries, but it's possible we can hide the symbols in some cases.\n\nCould we separate images loading part as another module, make it as an independent lib? Let the users select they want to build it or not.", "body": "@allenlavoie \r\n\r\n>how you're building (Bazel? Linking against libtensorflow_framework.so? Linking against the C++ API .so?)?\r\n\r\nI build tensorflow libs by Bazel\r\n\r\n1. Clone tensorflow from https://github.com/tensorflow\r\n2. Install require dependencies\r\n3. bazel build //tensorflow:libtensorflow.so\r\n4. Link to cuda, -L/usr/local/cuda-8.0/lib64 -lcuda -lcudart -lcurand -lcublas -lcudnn -lcusolver -lcufft\r\n5. Link to protof and tensorflow, -L/usr/local -lprotobuf -ltensorflow_framework -ltensorflow_cc\r\n6. Link to opencv, -L/usr/local/lib -lopencv_core -lopencv_imgproc -lopencv_highgui -lopencv_imgcodecs -lopencv_video -lopencv_videoio\r\n6. Compile and run, images always empty\r\n\r\n> TensorFlow needs to use image libraries, but it's possible we can hide the symbols in some cases.\r\n\r\nCould we separate images loading part as another module, make it as an independent lib? Let the users select they want to build it or not. "}