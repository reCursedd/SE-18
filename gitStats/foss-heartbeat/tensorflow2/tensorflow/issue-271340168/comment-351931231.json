{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/351931231", "html_url": "https://github.com/tensorflow/tensorflow/issues/14267#issuecomment-351931231", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14267", "id": 351931231, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTkzMTIzMQ==", "user": {"login": "kxhit", "id": 16812362, "node_id": "MDQ6VXNlcjE2ODEyMzYy", "avatar_url": "https://avatars2.githubusercontent.com/u/16812362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kxhit", "html_url": "https://github.com/kxhit", "followers_url": "https://api.github.com/users/kxhit/followers", "following_url": "https://api.github.com/users/kxhit/following{/other_user}", "gists_url": "https://api.github.com/users/kxhit/gists{/gist_id}", "starred_url": "https://api.github.com/users/kxhit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kxhit/subscriptions", "organizations_url": "https://api.github.com/users/kxhit/orgs", "repos_url": "https://api.github.com/users/kxhit/repos", "events_url": "https://api.github.com/users/kxhit/events{/privacy}", "received_events_url": "https://api.github.com/users/kxhit/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-15T07:12:28Z", "updated_at": "2017-12-15T09:02:18Z", "author_association": "NONE", "body_html": "<p>Hi! I meet the same problem.<br>\nI'm using opencv3.1 tensorflow1.4 in ubuntu14.04. When I included tensorflow headers like #include &lt;tensorflow/core/public/session.h&gt; or #include \"tensorflow/cc/ops/standard_ops.h\", cv::imread can not read images encoded by JPEG, but can read other encoding images like Uncompressed 8-bit RGB. When I commented TF headers, I can read any images by cv::imread. Is there any solution? Thanks a lot!!!  <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3731025\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/allenlavoie\">@allenlavoie</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4647734\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bitzy\">@bitzy</a></p>\n<p>update:<br>\nI rebuild libtensorflow_cc.so using command  <code>bazel build --config=monolithic :libtensorflow_cc.so </code> , and can read any images successfully. Thank you <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3731025\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/allenlavoie\">@allenlavoie</a> .<br>\nThough the problem appear to have been solved, I have some questions below\uff1a<br>\n1.What is the root cause of this problem?(libjpeg version in opencv and tensorflow conficts? or other reason? )<br>\n2.Since there is no libtensorflow_framework, are there some functions that I can't use?<br>\n3.Could we get a new TF version in the future, which can solve this problem?</p>", "body_text": "Hi! I meet the same problem.\nI'm using opencv3.1 tensorflow1.4 in ubuntu14.04. When I included tensorflow headers like #include <tensorflow/core/public/session.h> or #include \"tensorflow/cc/ops/standard_ops.h\", cv::imread can not read images encoded by JPEG, but can read other encoding images like Uncompressed 8-bit RGB. When I commented TF headers, I can read any images by cv::imread. Is there any solution? Thanks a lot!!!  @allenlavoie @bitzy\nupdate:\nI rebuild libtensorflow_cc.so using command  bazel build --config=monolithic :libtensorflow_cc.so  , and can read any images successfully. Thank you @allenlavoie .\nThough the problem appear to have been solved, I have some questions below\uff1a\n1.What is the root cause of this problem?(libjpeg version in opencv and tensorflow conficts? or other reason? )\n2.Since there is no libtensorflow_framework, are there some functions that I can't use?\n3.Could we get a new TF version in the future, which can solve this problem?", "body": "Hi! I meet the same problem.\r\nI'm using opencv3.1 tensorflow1.4 in ubuntu14.04. When I included tensorflow headers like #include <tensorflow/core/public/session.h> or #include \"tensorflow/cc/ops/standard_ops.h\", cv::imread can not read images encoded by JPEG, but can read other encoding images like Uncompressed 8-bit RGB. When I commented TF headers, I can read any images by cv::imread. Is there any solution? Thanks a lot!!!  @allenlavoie @bitzy \r\n\r\nupdate:\r\nI rebuild libtensorflow_cc.so using command  `bazel build --config=monolithic :libtensorflow_cc.so ` , and can read any images successfully. Thank you @allenlavoie . \r\nThough the problem appear to have been solved, I have some questions below\uff1a\r\n1.What is the root cause of this problem?(libjpeg version in opencv and tensorflow conficts? or other reason? ) \r\n2.Since there is no libtensorflow_framework, are there some functions that I can't use?\r\n3.Could we get a new TF version in the future, which can solve this problem? \r\n"}