{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5615", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5615/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5615/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5615/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5615", "id": 189331144, "node_id": "MDU6SXNzdWUxODkzMzExNDQ=", "number": 5615, "title": "Fails to configure with \"Object of type 'path' has no field \"realpath\"\" (BuildFileContainsErrorsException)", "user": {"login": "wjaskowski", "id": 4952605, "node_id": "MDQ6VXNlcjQ5NTI2MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/4952605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wjaskowski", "html_url": "https://github.com/wjaskowski", "followers_url": "https://api.github.com/users/wjaskowski/followers", "following_url": "https://api.github.com/users/wjaskowski/following{/other_user}", "gists_url": "https://api.github.com/users/wjaskowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/wjaskowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wjaskowski/subscriptions", "organizations_url": "https://api.github.com/users/wjaskowski/orgs", "repos_url": "https://api.github.com/users/wjaskowski/repos", "events_url": "https://api.github.com/users/wjaskowski/events{/privacy}", "received_events_url": "https://api.github.com/users/wjaskowski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-15T08:42:46Z", "updated_at": "2016-11-15T15:49:31Z", "closed_at": "2016-11-15T15:49:31Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-shell\"><pre>\u00bb ./configure \n<span class=\"pl-k\">~</span>/tmp/tensorflow <span class=\"pl-k\">~</span>/tmp/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support<span class=\"pl-k\">?</span> [y/N] \nNo Google Cloud Platform support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support<span class=\"pl-k\">?</span> [y/N] \nNo Hadoop File System support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nFound possible Python library paths:\n  /usr/lib/python3/dist-packages\n  /usr/local/lib/python3.5/dist-packages\n  <span class=\"pl-c1\">.</span>\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3/dist-packages]\n/home/wojciech/.local/lib/python3.5/site-packages\nDo you wish to build TensorFlow with OpenCL support<span class=\"pl-k\">?</span> [y/N] \nNo OpenCL support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nDo you wish to build TensorFlow with GPU support<span class=\"pl-k\">?</span> [y/N] y\nGPU support will be enabled <span class=\"pl-k\">for</span> TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md <span class=\"pl-k\">for</span> more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md <span class=\"pl-k\">for</span> more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build <span class=\"pl-k\">time</span> and binary size.\n[Default is: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>3.5,5.2<span class=\"pl-pds\">\"</span></span>]: 6.1\n<span class=\"pl-c1\">.</span>\nINFO: Starting clean (this may take a while). Consider using --expunge_async <span class=\"pl-k\">if</span> the clean takes more than several minutes.\n<span class=\"pl-c1\">.</span>\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>: Encountered error <span class=\"pl-k\">while</span> reading extension file <span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda/build_defs.bzl<span class=\"pl-pds\">'</span></span>: no such package <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@local_config_cuda//cuda<span class=\"pl-pds\">'</span></span>: Traceback (most recent call last):\n\tFile <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl<span class=\"pl-pds\">\"</span></span>, line 517\n\t\t_create_cuda_repository(repository_ctx)\n\tFile <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl<span class=\"pl-pds\">\"</span></span>, line 432, <span class=\"pl-k\">in</span> _create_cuda_repository\n\t\t_cuda_toolkit_path(repository_ctx, cuda_version)\n\tFile <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl<span class=\"pl-pds\">\"</span></span>, line 148, <span class=\"pl-k\">in</span> _cuda_toolkit_path\n\t\tstr(repository_ctx.path(cuda_toolkit...)\n\tFile <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl<span class=\"pl-pds\">\"</span></span>, line 148, <span class=\"pl-k\">in</span> str\n\t\trepository_ctx.path(cuda_toolkit_path).realpath\nObject of <span class=\"pl-c1\">type</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>path<span class=\"pl-pds\">'</span></span> has no field <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>realpath<span class=\"pl-pds\">\"</span></span>.</pre></div>\n<p>git hash: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/7f3d8e1f8736f4c812e4a0a96154af3bd3750180/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/7f3d8e1f8736f4c812e4a0a96154af3bd3750180\"><tt>7f3d8e1</tt></a></p>\n<div class=\"highlight highlight-source-shell\"><pre> \u00bb bazel version                                                                                   \nBuild label: 0.3.1\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\nBuild timestamp: 1469783392\nBuild timestamp as int: 1469783392</pre></div>\n<p>python 3.5.2</p>\n<p>Works fine on the r0.11 branch</p>", "body_text": "\u00bb ./configure \n~/tmp/tensorflow ~/tmp/tensorflow\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \nNo Google Cloud Platform support will be enabled for TensorFlow\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \nNo Hadoop File System support will be enabled for TensorFlow\nFound possible Python library paths:\n  /usr/lib/python3/dist-packages\n  /usr/local/lib/python3.5/dist-packages\n  .\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3/dist-packages]\n/home/wojciech/.local/lib/python3.5/site-packages\nDo you wish to build TensorFlow with OpenCL support? [y/N] \nNo OpenCL support will be enabled for TensorFlow\nDo you wish to build TensorFlow with GPU support? [y/N] y\nGPU support will be enabled for TensorFlow\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size.\n[Default is: \"3.5,5.2\"]: 6.1\n.\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\n.\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 517\n\t\t_create_cuda_repository(repository_ctx)\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 432, in _create_cuda_repository\n\t\t_cuda_toolkit_path(repository_ctx, cuda_version)\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 148, in _cuda_toolkit_path\n\t\tstr(repository_ctx.path(cuda_toolkit...)\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 148, in str\n\t\trepository_ctx.path(cuda_toolkit_path).realpath\nObject of type 'path' has no field \"realpath\".\ngit hash: 7f3d8e1\n \u00bb bazel version                                                                                   \nBuild label: 0.3.1\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\nBuild timestamp: 1469783392\nBuild timestamp as int: 1469783392\npython 3.5.2\nWorks fine on the r0.11 branch", "body": "```bash\r\n\u00bb ./configure \r\n~/tmp/tensorflow ~/tmp/tensorflow\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\r\nDo you wish to build TensorFlow with Google Cloud Platform support? [y/N] \r\nNo Google Cloud Platform support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with Hadoop File System support? [y/N] \r\nNo Hadoop File System support will be enabled for TensorFlow\r\nFound possible Python library paths:\r\n  /usr/lib/python3/dist-packages\r\n  /usr/local/lib/python3.5/dist-packages\r\n  .\r\nPlease input the desired Python library path to use.  Default is [/usr/lib/python3/dist-packages]\r\n/home/wojciech/.local/lib/python3.5/site-packages\r\nDo you wish to build TensorFlow with OpenCL support? [y/N] \r\nNo OpenCL support will be enabled for TensorFlow\r\nDo you wish to build TensorFlow with GPU support? [y/N] y\r\nGPU support will be enabled for TensorFlow\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \r\nPlease specify the Cuda SDK version you want to use, e.g. 7.0. [Leave empty to use system default]: \r\nPlease specify the location where CUDA  toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \r\nPlease specify the Cudnn version you want to use. [Leave empty to use system default]: \r\nPlease specify the location where cuDNN  library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: \r\nPlease specify a list of comma-separated Cuda compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size.\r\n[Default is: \"3.5,5.2\"]: 6.1\r\n.\r\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\r\n.\r\nERROR: com.google.devtools.build.lib.packages.BuildFileContainsErrorsException: error loading package '': Encountered error while reading extension file 'cuda/build_defs.bzl': no such package '@local_config_cuda//cuda': Traceback (most recent call last):\r\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 517\r\n\t\t_create_cuda_repository(repository_ctx)\r\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 432, in _create_cuda_repository\r\n\t\t_cuda_toolkit_path(repository_ctx, cuda_version)\r\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 148, in _cuda_toolkit_path\r\n\t\tstr(repository_ctx.path(cuda_toolkit...)\r\n\tFile \"/home/wojciech/tmp/tensorflow/third_party/gpus/cuda_configure.bzl\", line 148, in str\r\n\t\trepository_ctx.path(cuda_toolkit_path).realpath\r\nObject of type 'path' has no field \"realpath\".\r\n```\r\n\r\ngit hash: 7f3d8e1f8736f4c812e4a0a96154af3bd3750180\r\n```bash\r\n \u00bb bazel version                                                                                   \r\nBuild label: 0.3.1\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Jul 29 09:09:52 2016 (1469783392)\r\nBuild timestamp: 1469783392\r\nBuild timestamp as int: 1469783392\r\n```\r\npython 3.5.2\r\n\r\nWorks fine on the r0.11 branch"}