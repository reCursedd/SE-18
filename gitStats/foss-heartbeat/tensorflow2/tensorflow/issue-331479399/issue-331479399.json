{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19931", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19931/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19931/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19931/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19931", "id": 331479399, "node_id": "MDU6SXNzdWUzMzE0NzkzOTk=", "number": 19931, "title": "pd Convert tflite to error", "user": {"login": "baihualinxin", "id": 13042809, "node_id": "MDQ6VXNlcjEzMDQyODA5", "avatar_url": "https://avatars1.githubusercontent.com/u/13042809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baihualinxin", "html_url": "https://github.com/baihualinxin", "followers_url": "https://api.github.com/users/baihualinxin/followers", "following_url": "https://api.github.com/users/baihualinxin/following{/other_user}", "gists_url": "https://api.github.com/users/baihualinxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/baihualinxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baihualinxin/subscriptions", "organizations_url": "https://api.github.com/users/baihualinxin/orgs", "repos_url": "https://api.github.com/users/baihualinxin/repos", "events_url": "https://api.github.com/users/baihualinxin/events{/privacy}", "received_events_url": "https://api.github.com/users/baihualinxin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-06-12T08:02:53Z", "updated_at": "2018-07-06T18:46:42Z", "closed_at": "2018-07-06T18:46:42Z", "author_association": "NONE", "body_html": "<p>Download the network model</p>\n<p>MobileNet_v1_1.0_224_quant</p>\n<p><a href=\"https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\">https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md</a><br>\nTurn tflite error</p>\n<p>bazel run toco -- <br>\n--input_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenet_v1_1.0_224_quant_frozen.pb <br>\n--output_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenetnew.tflite <br>\n--input_format=TENSORFLOW_GRAPHDEF <br>\n--inference_type=FLOAT <br>\n--output_format=TFLITE <br>\n--input_type=FLOAT <br>\n--input_shapes=1,224,224,3 <br>\n--input_arrays=input <br>\n--output_arrays=MobilenetV1/Predictions/Reshape_1</p>\n<hr>\n<h3>System information</h3>\n<ul>\n<li>\n<p><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>:NO</p>\n</li>\n<li>\n<p><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>:mac os 10.13.5</p>\n</li>\n<li>\n<p><strong>TensorFlow installed from (source or binary)</strong>:pip</p>\n</li>\n<li>\n<p><strong>TensorFlow version (use command below)</strong>:'1.8.0</p>\n</li>\n<li>\n<p><strong>Python version</strong>: 3.6.4</p>\n</li>\n<li>\n<p><strong>Bazel version (if compiling from source)</strong>:<br>\nBuild label: 0.14.0-homebrew<br>\nBuild target: bazel-out/darwin-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Jun 1 14:26:58 2018 (1527863218)<br>\nBuild timestamp: 1527863218<br>\nBuild timestamp as int: 1527863218</p>\n</li>\n<li>\n<p><strong>GCC/Compiler version (if compiling from source)</strong>:no</p>\n</li>\n<li>\n<p><strong>CUDA/cuDNN version</strong>:no</p>\n</li>\n<li>\n<p><strong>GPU model and memory</strong>:no</p>\n</li>\n<li>\n<p><strong>Exact command to reproduce</strong>:no</p>\n</li>\n</ul>\n<p>2018-06-12 15:29:13.254673: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 598 operators, 889 arrays (0 quantized)<br>\n2018-06-12 15:29:13.272912: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 598 operators, 889 arrays (0 quantized)<br>\n2018-06-12 15:29:13.994779: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 59 operators, 117 arrays (0 quantized)<br>\n2018-06-12 15:29:13.996069: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 59 operators, 117 arrays (0 quantized)<br>\n2018-06-12 15:29:13.997304: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893\"><tt>6422528</tt></a> bytes, theoretical optimal value: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/642252829cccf56627749c3c3b8dc65cc0099893\"><tt>6422528</tt></a> bytes.<br>\n2018-06-12 15:29:13.997580: I tensorflow/contrib/lite/toco/toco_tooling.cc:373] Estimated count of arithmetic ops: 1.14264 billion (note that a multiply-add is counted as 2 ops).<br>\n2018-06-12 15:29:13.998014: E tensorflow/contrib/lite/toco/tflite/export.cc:320] FAKE_QUANT operation was not converted. If running quantized make sure you are passing --inference_type=QUANTIZED_UINT8 and values for --std_values and --mean_values.</p>\n<p>Xcode runs an error:<br>\nLoaded model 1resolved reporterDidn't find custom op for name 'FAKE_QUANT'</p>\n<p>Registration failed.</p>\n<p>Failed to construct interpreter(lldb)</p>", "body_text": "Download the network model\nMobileNet_v1_1.0_224_quant\nhttps://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\nTurn tflite error\nbazel run toco -- \n--input_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenet_v1_1.0_224_quant_frozen.pb \n--output_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenetnew.tflite \n--input_format=TENSORFLOW_GRAPHDEF \n--inference_type=FLOAT \n--output_format=TFLITE \n--input_type=FLOAT \n--input_shapes=1,224,224,3 \n--input_arrays=input \n--output_arrays=MobilenetV1/Predictions/Reshape_1\n\nSystem information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):NO\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):mac os 10.13.5\n\n\nTensorFlow installed from (source or binary):pip\n\n\nTensorFlow version (use command below):'1.8.0\n\n\nPython version: 3.6.4\n\n\nBazel version (if compiling from source):\nBuild label: 0.14.0-homebrew\nBuild target: bazel-out/darwin-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jun 1 14:26:58 2018 (1527863218)\nBuild timestamp: 1527863218\nBuild timestamp as int: 1527863218\n\n\nGCC/Compiler version (if compiling from source):no\n\n\nCUDA/cuDNN version:no\n\n\nGPU model and memory:no\n\n\nExact command to reproduce:no\n\n\n2018-06-12 15:29:13.254673: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 598 operators, 889 arrays (0 quantized)\n2018-06-12 15:29:13.272912: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 598 operators, 889 arrays (0 quantized)\n2018-06-12 15:29:13.994779: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 59 operators, 117 arrays (0 quantized)\n2018-06-12 15:29:13.996069: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 59 operators, 117 arrays (0 quantized)\n2018-06-12 15:29:13.997304: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: 6422528 bytes, theoretical optimal value: 6422528 bytes.\n2018-06-12 15:29:13.997580: I tensorflow/contrib/lite/toco/toco_tooling.cc:373] Estimated count of arithmetic ops: 1.14264 billion (note that a multiply-add is counted as 2 ops).\n2018-06-12 15:29:13.998014: E tensorflow/contrib/lite/toco/tflite/export.cc:320] FAKE_QUANT operation was not converted. If running quantized make sure you are passing --inference_type=QUANTIZED_UINT8 and values for --std_values and --mean_values.\nXcode runs an error:\nLoaded model 1resolved reporterDidn't find custom op for name 'FAKE_QUANT'\nRegistration failed.\nFailed to construct interpreter(lldb)", "body": "Download the network model\r\n\r\nMobileNet_v1_1.0_224_quant\r\n\r\nhttps://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet_v1.md\r\nTurn tflite error\r\n\r\nbazel run toco -- \\\r\n  --input_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenet_v1_1.0_224_quant_frozen.pb \\\r\n  --output_file=/Users/dchealth/Desktop/mobilenet_v1_1.0_224_quant/mobilenetnew.tflite \\\r\n  --input_format=TENSORFLOW_GRAPHDEF \\\r\n  --inference_type=FLOAT \\\r\n  --output_format=TFLITE \\\r\n  --input_type=FLOAT \\\r\n  --input_shapes=1,224,224,3 \\\r\n  --input_arrays=input \\\r\n  --output_arrays=MobilenetV1/Predictions/Reshape_1\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:NO\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:mac os 10.13.5\r\n- **TensorFlow installed from (source or binary)**:pip\r\n- **TensorFlow version (use command below)**:'1.8.0\r\n- **Python version**: 3.6.4\r\n- **Bazel version (if compiling from source)**:\r\nBuild label: 0.14.0-homebrew\r\nBuild target: bazel-out/darwin-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Jun 1 14:26:58 2018 (1527863218)\r\nBuild timestamp: 1527863218\r\nBuild timestamp as int: 1527863218\r\n\r\n- **GCC/Compiler version (if compiling from source)**:no\r\n- **CUDA/cuDNN version**:no\r\n- **GPU model and memory**:no\r\n- **Exact command to reproduce**:no\r\n\r\n2018-06-12 15:29:13.254673: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 598 operators, 889 arrays (0 quantized)\r\n2018-06-12 15:29:13.272912: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 598 operators, 889 arrays (0 quantized)\r\n2018-06-12 15:29:13.994779: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 59 operators, 117 arrays (0 quantized)\r\n2018-06-12 15:29:13.996069: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 59 operators, 117 arrays (0 quantized)\r\n2018-06-12 15:29:13.997304: I tensorflow/contrib/lite/toco/allocate_transient_arrays.cc:329] Total transient array allocated size: 6422528 bytes, theoretical optimal value: 6422528 bytes.\r\n2018-06-12 15:29:13.997580: I tensorflow/contrib/lite/toco/toco_tooling.cc:373] Estimated count of arithmetic ops: 1.14264 billion (note that a multiply-add is counted as 2 ops).\r\n2018-06-12 15:29:13.998014: E tensorflow/contrib/lite/toco/tflite/export.cc:320] FAKE_QUANT operation was not converted. If running quantized make sure you are passing --inference_type=QUANTIZED_UINT8 and values for --std_values and --mean_values.\r\n\r\n\r\n\r\nXcode runs an error:\r\nLoaded model 1resolved reporterDidn't find custom op for name 'FAKE_QUANT'\r\n\r\nRegistration failed.\r\n\r\nFailed to construct interpreter(lldb) "}