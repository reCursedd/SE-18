{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/379041022", "html_url": "https://github.com/tensorflow/tensorflow/pull/18269#issuecomment-379041022", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/18269", "id": 379041022, "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTA0MTAyMg==", "user": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-05T18:55:15Z", "updated_at": "2018-04-05T18:55:15Z", "author_association": "MEMBER", "body_html": "<p>Unfortunately this is equivalent to converting all of the Numpy arrays with tf.constant and embedding them in the graph (which wouldn't require the use of a Datasets at all and would be more memory efficient).</p>\n<p>So we may end up with tf.constants here in order to get rid of <code>numpy_input_fn</code>, but I don't think this change makes sense as is. If you want to get rid of <code>numpy_input_fn</code> completely, we can use <code>tf.constant</code> without a <code>Dataset</code> in <code>read_full</code>, then use <code>from_tensor_slices</code> in <code>read()</code>.</p>", "body_text": "Unfortunately this is equivalent to converting all of the Numpy arrays with tf.constant and embedding them in the graph (which wouldn't require the use of a Datasets at all and would be more memory efficient).\nSo we may end up with tf.constants here in order to get rid of numpy_input_fn, but I don't think this change makes sense as is. If you want to get rid of numpy_input_fn completely, we can use tf.constant without a Dataset in read_full, then use from_tensor_slices in read().", "body": "Unfortunately this is equivalent to converting all of the Numpy arrays with tf.constant and embedding them in the graph (which wouldn't require the use of a Datasets at all and would be more memory efficient).\r\n\r\nSo we may end up with tf.constants here in order to get rid of `numpy_input_fn`, but I don't think this change makes sense as is. If you want to get rid of `numpy_input_fn` completely, we can use `tf.constant` without a `Dataset` in `read_full`, then use `from_tensor_slices` in `read()`."}