{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/173837062", "html_url": "https://github.com/tensorflow/tensorflow/issues/817#issuecomment-173837062", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/817", "id": 173837062, "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzgzNzA2Mg==", "user": {"login": "fancyerii", "id": 5372812, "node_id": "MDQ6VXNlcjUzNzI4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5372812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fancyerii", "html_url": "https://github.com/fancyerii", "followers_url": "https://api.github.com/users/fancyerii/followers", "following_url": "https://api.github.com/users/fancyerii/following{/other_user}", "gists_url": "https://api.github.com/users/fancyerii/gists{/gist_id}", "starred_url": "https://api.github.com/users/fancyerii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fancyerii/subscriptions", "organizations_url": "https://api.github.com/users/fancyerii/orgs", "repos_url": "https://api.github.com/users/fancyerii/repos", "events_url": "https://api.github.com/users/fancyerii/events{/privacy}", "received_events_url": "https://api.github.com/users/fancyerii/received_events", "type": "User", "site_admin": false}, "created_at": "2016-01-22T07:52:33Z", "updated_at": "2016-01-22T07:52:33Z", "author_association": "NONE", "body_html": "<p>I tried but no luck. BTW, I can't use verbose_failure with my built bazel. Unrecognized option: --verbose_failure<br>\nlli@mobvoi-rhea-01:<del>/jdk1.8.0_65$ /home/lli/bazel/output/bazel clean --expunge<br>\nThe 'clean' command is only supported from within a workspace.<br>\nlli@mobvoi-rhea-01:</del>/jdk1.8.0_65$ cd<br>\nlli@mobvoi-rhea-01:<del>$ cd tensorflow/<br>\nlli@mobvoi-rhea-01:</del>/tensorflow$ /home/lli/bazel/output/bazel clean --expunge<br>\n................<br>\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.<br>\nlli@mobvoi-rhea-01:<del>/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone --verbose_failure //tensorflow/cc:tutorials_example_trainer<br>\n.............<br>\nUnrecognized option: --verbose_failure<br>\nlli@mobvoi-rhea-01:</del>/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone //tensorflow/cc:tutorials_example_trainer<br>\nINFO: Found 1 target...<br>\nERROR: /home/lli/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/google/protobuf/protoc ... (remaining 15 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.<br>\n/usr/bin/ld: bazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC<br>\nbazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: error adding symbols: Bad value<br>\ncollect2: error: ld returned 1 exit status<br>\nTarget //tensorflow/cc:tutorials_example_trainer failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 166.539s, Critical Path: 18.48s</p>", "body_text": "I tried but no luck. BTW, I can't use verbose_failure with my built bazel. Unrecognized option: --verbose_failure\nlli@mobvoi-rhea-01:/jdk1.8.0_65$ /home/lli/bazel/output/bazel clean --expunge\nThe 'clean' command is only supported from within a workspace.\nlli@mobvoi-rhea-01:/jdk1.8.0_65$ cd\nlli@mobvoi-rhea-01:$ cd tensorflow/\nlli@mobvoi-rhea-01:/tensorflow$ /home/lli/bazel/output/bazel clean --expunge\n................\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nlli@mobvoi-rhea-01:/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone --verbose_failure //tensorflow/cc:tutorials_example_trainer\n.............\nUnrecognized option: --verbose_failure\nlli@mobvoi-rhea-01:/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone //tensorflow/cc:tutorials_example_trainer\nINFO: Found 1 target...\nERROR: /home/lli/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/google/protobuf/protoc ... (remaining 15 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC\nbazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 166.539s, Critical Path: 18.48s", "body": "I tried but no luck. BTW, I can't use verbose_failure with my built bazel. Unrecognized option: --verbose_failure\nlli@mobvoi-rhea-01:~/jdk1.8.0_65$ /home/lli/bazel/output/bazel clean --expunge\nThe 'clean' command is only supported from within a workspace.\nlli@mobvoi-rhea-01:~/jdk1.8.0_65$ cd \nlli@mobvoi-rhea-01:~$ cd tensorflow/\nlli@mobvoi-rhea-01:~/tensorflow$ /home/lli/bazel/output/bazel clean --expunge\n................\nINFO: Starting clean (this may take a while). Consider using --expunge_async if the clean takes more than several minutes.\nlli@mobvoi-rhea-01:~/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone --verbose_failure //tensorflow/cc:tutorials_example_trainer\n.............\nUnrecognized option: --verbose_failure\nlli@mobvoi-rhea-01:~/tensorflow$ /home/lli/bazel/output/bazel build -c opt --config=cuda --spawn_strategy=standalone //tensorflow/cc:tutorials_example_trainer\nINFO: Found 1 target...\nERROR: /home/lli/tensorflow/google/protobuf/BUILD:270:1: Linking of rule '//google/protobuf:protoc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/google/protobuf/protoc ... (remaining 15 argument(s) skipped): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\n/usr/bin/ld: bazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC\nbazel-out/host/bin/google/protobuf/_objs/protoc/google/protobuf/src/google/protobuf/compiler/main.o: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\nTarget //tensorflow/cc:tutorials_example_trainer failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 166.539s, Critical Path: 18.48s\n"}