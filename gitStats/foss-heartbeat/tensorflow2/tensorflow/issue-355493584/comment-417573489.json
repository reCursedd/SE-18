{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/417573489", "html_url": "https://github.com/tensorflow/tensorflow/issues/21968#issuecomment-417573489", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21968", "id": 417573489, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzU3MzQ4OQ==", "user": {"login": "honeytidy", "id": 1021165, "node_id": "MDQ6VXNlcjEwMjExNjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1021165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/honeytidy", "html_url": "https://github.com/honeytidy", "followers_url": "https://api.github.com/users/honeytidy/followers", "following_url": "https://api.github.com/users/honeytidy/following{/other_user}", "gists_url": "https://api.github.com/users/honeytidy/gists{/gist_id}", "starred_url": "https://api.github.com/users/honeytidy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/honeytidy/subscriptions", "organizations_url": "https://api.github.com/users/honeytidy/orgs", "repos_url": "https://api.github.com/users/honeytidy/repos", "events_url": "https://api.github.com/users/honeytidy/events{/privacy}", "received_events_url": "https://api.github.com/users/honeytidy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-31T07:08:30Z", "updated_at": "2018-08-31T07:09:23Z", "author_association": "NONE", "body_html": "<p>if I change the model net from resnet to my custom net, it works fine. Is there something special on <code>resnet_v2_50</code> net?</p>\n<pre><code>#with slim.arg_scope(resnet_v2.resnet_arg_scope()):\n#    logits, endpoints = resnet_v2.resnet_v2_50(features, \n#            num_classes=cls_num,\n#            is_training=training)\n#logits = tf.squeeze(logits, [1, 2])\n#preds = tf.argmax(logits, 1)\n\nnet = tf.layers.conv2d(inputs=features, filters=8, kernel_size=3,\n                strides=1, activation=tf.nn.relu, padding='same')\nnet = tf.layers.batch_normalization(net, training=training)\nnet = tf.layers.max_pooling2d(inputs=net, pool_size=2,\n                strides=2, name=\"maxpool1\")\n\nnet = tf.layers.flatten(net)\nlogits = tf.layers.dense(net, cls_num)\npreds = tf.argmax(logits, 1)\n</code></pre>", "body_text": "if I change the model net from resnet to my custom net, it works fine. Is there something special on resnet_v2_50 net?\n#with slim.arg_scope(resnet_v2.resnet_arg_scope()):\n#    logits, endpoints = resnet_v2.resnet_v2_50(features, \n#            num_classes=cls_num,\n#            is_training=training)\n#logits = tf.squeeze(logits, [1, 2])\n#preds = tf.argmax(logits, 1)\n\nnet = tf.layers.conv2d(inputs=features, filters=8, kernel_size=3,\n                strides=1, activation=tf.nn.relu, padding='same')\nnet = tf.layers.batch_normalization(net, training=training)\nnet = tf.layers.max_pooling2d(inputs=net, pool_size=2,\n                strides=2, name=\"maxpool1\")\n\nnet = tf.layers.flatten(net)\nlogits = tf.layers.dense(net, cls_num)\npreds = tf.argmax(logits, 1)", "body": "if I change the model net from resnet to my custom net, it works fine. Is there something special on `resnet_v2_50` net?\r\n```\r\n#with slim.arg_scope(resnet_v2.resnet_arg_scope()):\r\n#    logits, endpoints = resnet_v2.resnet_v2_50(features, \r\n#            num_classes=cls_num,\r\n#            is_training=training)\r\n#logits = tf.squeeze(logits, [1, 2])\r\n#preds = tf.argmax(logits, 1)\r\n\r\nnet = tf.layers.conv2d(inputs=features, filters=8, kernel_size=3,\r\n                strides=1, activation=tf.nn.relu, padding='same')\r\nnet = tf.layers.batch_normalization(net, training=training)\r\nnet = tf.layers.max_pooling2d(inputs=net, pool_size=2,\r\n                strides=2, name=\"maxpool1\")\r\n\r\nnet = tf.layers.flatten(net)\r\nlogits = tf.layers.dense(net, cls_num)\r\npreds = tf.argmax(logits, 1)\r\n```"}