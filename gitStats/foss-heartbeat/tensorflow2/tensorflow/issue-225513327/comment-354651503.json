{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354651503", "html_url": "https://github.com/tensorflow/tensorflow/issues/9579#issuecomment-354651503", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9579", "id": 354651503, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDY1MTUwMw==", "user": {"login": "MarkSonn", "id": 7654904, "node_id": "MDQ6VXNlcjc2NTQ5MDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/7654904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkSonn", "html_url": "https://github.com/MarkSonn", "followers_url": "https://api.github.com/users/MarkSonn/followers", "following_url": "https://api.github.com/users/MarkSonn/following{/other_user}", "gists_url": "https://api.github.com/users/MarkSonn/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkSonn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkSonn/subscriptions", "organizations_url": "https://api.github.com/users/MarkSonn/orgs", "repos_url": "https://api.github.com/users/MarkSonn/repos", "events_url": "https://api.github.com/users/MarkSonn/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkSonn/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-01T12:43:15Z", "updated_at": "2018-01-01T12:53:51Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=326106\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/aselle\">@aselle</a>  <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=348932\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/hawkinsp\">@hawkinsp</a> I have followed the above instructions, what's next? Any help would be really appreciated <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f44d.png\">\ud83d\udc4d</g-emoji></p>\n<p>Below is the output when I run both with and without XLA.</p>\n<hr>\n<p><strong>Output</strong></p>\n<p>\u279c  mnist git:(r1.4) \u2717 python mnist_softmax_xla.py --xla=\"\"<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz<br>\n2018-01-01 14:45:23.553389: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA<br>\n2018-01-01 14:45:23.781647: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:<br>\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 10.91GiB freeMemory: 10.61GiB<br>\n2018-01-01 14:45:23.978426: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties:<br>\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645<br>\npciBusID: 0000:02:00.0<br>\ntotalMemory: 10.91GiB freeMemory: 10.75GiB<br>\n2018-01-01 14:45:23.979139: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix<br>\n2018-01-01 14:45:23.979175: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1<br>\n2018-01-01 14:45:23.979185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y<br>\n2018-01-01 14:45:23.979192: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y<br>\n2018-01-01 14:45:23.979203: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)<br>\n2018-01-01 14:45:23.979211: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -&gt; (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)<br>\n2018-01-01 14:45:25.534197: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally<br>\n0.9198</p>\n<p>\u279c  mnist git:(r1.4) \u2717 TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz<br>\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz<br>\n2018-01-01 14:45:30.756407: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA<br>\n2018-01-01 14:45:30.988718: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:<br>\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645<br>\npciBusID: 0000:01:00.0<br>\ntotalMemory: 10.91GiB freeMemory: 10.61GiB<br>\n2018-01-01 14:45:31.171956: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties:<br>\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645<br>\npciBusID: 0000:02:00.0<br>\ntotalMemory: 10.91GiB freeMemory: 10.75GiB<br>\n2018-01-01 14:45:31.172457: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix<br>\n2018-01-01 14:45:31.172480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1<br>\n2018-01-01 14:45:31.172486: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y<br>\n2018-01-01 14:45:31.172489: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y<br>\n2018-01-01 14:45:31.172495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)<br>\n2018-01-01 14:45:31.172501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -&gt; (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)<br>\n2018-01-01 14:45:32.471294: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally<br>\n0.9151</p>", "body_text": "@aselle  @hawkinsp I have followed the above instructions, what's next? Any help would be really appreciated \ud83d\udc4d\nBelow is the output when I run both with and without XLA.\n\nOutput\n\u279c  mnist git:(r1.4) \u2717 python mnist_softmax_xla.py --xla=\"\"\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\n2018-01-01 14:45:23.553389: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2018-01-01 14:45:23.781647: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\npciBusID: 0000:01:00.0\ntotalMemory: 10.91GiB freeMemory: 10.61GiB\n2018-01-01 14:45:23.978426: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties:\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\npciBusID: 0000:02:00.0\ntotalMemory: 10.91GiB freeMemory: 10.75GiB\n2018-01-01 14:45:23.979139: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix\n2018-01-01 14:45:23.979175: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1\n2018-01-01 14:45:23.979185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y\n2018-01-01 14:45:23.979192: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y\n2018-01-01 14:45:23.979203: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-01-01 14:45:23.979211: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)\n2018-01-01 14:45:25.534197: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally\n0.9198\n\u279c  mnist git:(r1.4) \u2717 TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\n2018-01-01 14:45:30.756407: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\n2018-01-01 14:45:30.988718: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\npciBusID: 0000:01:00.0\ntotalMemory: 10.91GiB freeMemory: 10.61GiB\n2018-01-01 14:45:31.171956: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties:\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\npciBusID: 0000:02:00.0\ntotalMemory: 10.91GiB freeMemory: 10.75GiB\n2018-01-01 14:45:31.172457: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix\n2018-01-01 14:45:31.172480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1\n2018-01-01 14:45:31.172486: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y\n2018-01-01 14:45:31.172489: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y\n2018-01-01 14:45:31.172495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\n2018-01-01 14:45:31.172501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)\n2018-01-01 14:45:32.471294: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally\n0.9151", "body": "@aselle  @hawkinsp I have followed the above instructions, what's next? Any help would be really appreciated \ud83d\udc4d \r\n\r\nBelow is the output when I run both with and without XLA.\r\n\r\n---\r\n**Output**\r\n\r\n\u279c  mnist git:(r1.4) \u2717 python mnist_softmax_xla.py --xla=\"\"                           \r\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\r\n2018-01-01 14:45:23.553389: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2018-01-01 14:45:23.781647: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 10.91GiB freeMemory: 10.61GiB\r\n2018-01-01 14:45:23.978426: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\r\npciBusID: 0000:02:00.0\r\ntotalMemory: 10.91GiB freeMemory: 10.75GiB\r\n2018-01-01 14:45:23.979139: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix\r\n2018-01-01 14:45:23.979175: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 \r\n2018-01-01 14:45:23.979185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y \r\n2018-01-01 14:45:23.979192: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y \r\n2018-01-01 14:45:23.979203: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n2018-01-01 14:45:23.979211: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)\r\n2018-01-01 14:45:25.534197: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally\r\n0.9198\r\n\r\n\u279c  mnist git:(r1.4) \u2717 TF_XLA_FLAGS=--xla_generate_hlo_graph=.* python mnist_softmax_xla.py    \r\nExtracting /tmp/tensorflow/mnist/input_data/train-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/train-labels-idx1-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-images-idx3-ubyte.gz\r\nExtracting /tmp/tensorflow/mnist/input_data/t10k-labels-idx1-ubyte.gz\r\n2018-01-01 14:45:30.756407: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2018-01-01 14:45:30.988718: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 10.91GiB freeMemory: 10.61GiB\r\n2018-01-01 14:45:31.171956: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 1 with properties: \r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.645\r\npciBusID: 0000:02:00.0\r\ntotalMemory: 10.91GiB freeMemory: 10.75GiB\r\n2018-01-01 14:45:31.172457: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1045] Device peer to peer matrix\r\n2018-01-01 14:45:31.172480: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1051] DMA: 0 1 \r\n2018-01-01 14:45:31.172486: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 0:   Y Y \r\n2018-01-01 14:45:31.172489: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1061] 1:   Y Y \r\n2018-01-01 14:45:31.172495: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n2018-01-01 14:45:31.172501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:1) -> (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:02:00.0, compute capability: 6.1)\r\n2018-01-01 14:45:32.471294: I tensorflow/stream_executor/dso_loader.cc:139] successfully opened CUDA library libcupti.so.8.0 locally\r\n0.9151\r\n"}