{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/345754178", "html_url": "https://github.com/tensorflow/tensorflow/issues/14663#issuecomment-345754178", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14663", "id": 345754178, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTc1NDE3OA==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-20T16:43:29Z", "updated_at": "2017-11-20T16:43:29Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">I think the main remaining source of nondeterminism may be Eigen's float32\nmatmuls.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Mon, Nov 20, 2017 at 8:06 AM, ekelsen ***@***.***&gt; wrote:\n I think it is unlikely that I'll get to this. There exists a WAR (use\n parallel_iterations = 1). Higher priority is non-determinism in individual\n ops.\n\n Also to the original poster's comment \"when setting the random seed, all\n TensorFlow operations should be deterministic and reproducible (or the\n non-determinism should at least be documented).\" This would be a nice state\n of the world, but far from the world that we live in today. Many TF\n operations are not deterministic and there is generally no documentation\n describing that. Doing this now for all the ops that exist on the CPU and\n GPU is a rather daunting task. I've done work on fixing the most common GPU\n cases.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"274966639\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/14663\" href=\"https://github.com/tensorflow/tensorflow/issues/14663#issuecomment-345741575\">#14663 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ABtimyOeGkn9Axdx0v1Puc4gcY7PM41cks5s4aNogaJpZM4QifZ-\">https://github.com/notifications/unsubscribe-auth/ABtimyOeGkn9Axdx0v1Puc4gcY7PM41cks5s4aNogaJpZM4QifZ-</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I think the main remaining source of nondeterminism may be Eigen's float32\nmatmuls.\n\u2026\nOn Mon, Nov 20, 2017 at 8:06 AM, ekelsen ***@***.***> wrote:\n I think it is unlikely that I'll get to this. There exists a WAR (use\n parallel_iterations = 1). Higher priority is non-determinism in individual\n ops.\n\n Also to the original poster's comment \"when setting the random seed, all\n TensorFlow operations should be deterministic and reproducible (or the\n non-determinism should at least be documented).\" This would be a nice state\n of the world, but far from the world that we live in today. Many TF\n operations are not deterministic and there is generally no documentation\n describing that. Doing this now for all the ops that exist on the CPU and\n GPU is a rather daunting task. I've done work on fixing the most common GPU\n cases.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#14663 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ABtimyOeGkn9Axdx0v1Puc4gcY7PM41cks5s4aNogaJpZM4QifZ->\n .", "body": "I think the main remaining source of nondeterminism may be Eigen's float32\nmatmuls.\n\nOn Mon, Nov 20, 2017 at 8:06 AM, ekelsen <notifications@github.com> wrote:\n\n> I think it is unlikely that I'll get to this. There exists a WAR (use\n> parallel_iterations = 1). Higher priority is non-determinism in individual\n> ops.\n>\n> Also to the original poster's comment \"when setting the random seed, all\n> TensorFlow operations should be deterministic and reproducible (or the\n> non-determinism should at least be documented).\" This would be a nice state\n> of the world, but far from the world that we live in today. Many TF\n> operations are not deterministic and there is generally no documentation\n> describing that. Doing this now for all the ops that exist on the CPU and\n> GPU is a rather daunting task. I've done work on fixing the most common GPU\n> cases.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/tensorflow/tensorflow/issues/14663#issuecomment-345741575>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABtimyOeGkn9Axdx0v1Puc4gcY7PM41cks5s4aNogaJpZM4QifZ->\n> .\n>\n"}