{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/339789050", "html_url": "https://github.com/tensorflow/tensorflow/pull/13867#issuecomment-339789050", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13867", "id": 339789050, "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTc4OTA1MA==", "user": {"login": "Slonegg", "id": 2404864, "node_id": "MDQ6VXNlcjI0MDQ4NjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2404864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Slonegg", "html_url": "https://github.com/Slonegg", "followers_url": "https://api.github.com/users/Slonegg/followers", "following_url": "https://api.github.com/users/Slonegg/following{/other_user}", "gists_url": "https://api.github.com/users/Slonegg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Slonegg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Slonegg/subscriptions", "organizations_url": "https://api.github.com/users/Slonegg/orgs", "repos_url": "https://api.github.com/users/Slonegg/repos", "events_url": "https://api.github.com/users/Slonegg/events{/privacy}", "received_events_url": "https://api.github.com/users/Slonegg/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-26T20:20:36Z", "updated_at": "2017-10-26T20:20:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=25133849\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/PinkySan\">@PinkySan</a> I need to fix few things in tensorflow, so we can use it in our application.</p>\n<ol>\n<li>Add ability to use external GRPC, zlib, Eigen and mb some other packages. Because right now it is impossible to compile your project with tensorflow if you're using different version of GRPC. I did something similar to GRPC package whether you specify tensorflow__PROVIDER variable. It will determine if tensorflow needs to download dependency and use it as a module or use find_package() to find  package.</li>\n<li>Add tensorflow_BUILD_STATIC_LIB variable to create static library. With all kernels and no extra functionality tensorflow is several gigs in size. It's too heavy to deploy it as a shared library in microservice application. While if we link static tensorflow library, our final executable hopefully will be smaller.</li>\n</ol>\n<p>As for what you are suggesting, I think tensorflow config will suffice. You will need to specify tensorflow_DIR variable to use find_package(tensorflow). We don't use find_package functionality in our projects a lot, since we're using conan package manager. And in conan recipe you can specify all necessary include dirs, libraries, etc. But in general, yes, package config or find module is desired.</p>", "body_text": "@PinkySan I need to fix few things in tensorflow, so we can use it in our application.\n\nAdd ability to use external GRPC, zlib, Eigen and mb some other packages. Because right now it is impossible to compile your project with tensorflow if you're using different version of GRPC. I did something similar to GRPC package whether you specify tensorflow__PROVIDER variable. It will determine if tensorflow needs to download dependency and use it as a module or use find_package() to find  package.\nAdd tensorflow_BUILD_STATIC_LIB variable to create static library. With all kernels and no extra functionality tensorflow is several gigs in size. It's too heavy to deploy it as a shared library in microservice application. While if we link static tensorflow library, our final executable hopefully will be smaller.\n\nAs for what you are suggesting, I think tensorflow config will suffice. You will need to specify tensorflow_DIR variable to use find_package(tensorflow). We don't use find_package functionality in our projects a lot, since we're using conan package manager. And in conan recipe you can specify all necessary include dirs, libraries, etc. But in general, yes, package config or find module is desired.", "body": "@PinkySan I need to fix few things in tensorflow, so we can use it in our application.\r\n1. Add ability to use external GRPC, zlib, Eigen and mb some other packages. Because right now it is impossible to compile your project with tensorflow if you're using different version of GRPC. I did something similar to GRPC package whether you specify tensorflow_<LIB>_PROVIDER variable. It will determine if tensorflow needs to download dependency and use it as a module or use find_package(<LIB>) to find <LIB> package.\r\n2. Add tensorflow_BUILD_STATIC_LIB variable to create static library. With all kernels and no extra functionality tensorflow is several gigs in size. It's too heavy to deploy it as a shared library in microservice application. While if we link static tensorflow library, our final executable hopefully will be smaller.\r\n\r\nAs for what you are suggesting, I think tensorflow config will suffice. You will need to specify tensorflow_DIR variable to use find_package(tensorflow). We don't use find_package functionality in our projects a lot, since we're using conan package manager. And in conan recipe you can specify all necessary include dirs, libraries, etc. But in general, yes, package config or find module is desired."}