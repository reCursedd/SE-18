{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16381", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16381/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16381/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16381/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16381", "id": 291402215, "node_id": "MDU6SXNzdWUyOTE0MDIyMTU=", "number": 16381, "title": "Distributed TensorFlow without shared directory", "user": {"login": "mas-dse-greina", "id": 22306322, "node_id": "MDQ6VXNlcjIyMzA2MzIy", "avatar_url": "https://avatars0.githubusercontent.com/u/22306322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mas-dse-greina", "html_url": "https://github.com/mas-dse-greina", "followers_url": "https://api.github.com/users/mas-dse-greina/followers", "following_url": "https://api.github.com/users/mas-dse-greina/following{/other_user}", "gists_url": "https://api.github.com/users/mas-dse-greina/gists{/gist_id}", "starred_url": "https://api.github.com/users/mas-dse-greina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mas-dse-greina/subscriptions", "organizations_url": "https://api.github.com/users/mas-dse-greina/orgs", "repos_url": "https://api.github.com/users/mas-dse-greina/repos", "events_url": "https://api.github.com/users/mas-dse-greina/events{/privacy}", "received_events_url": "https://api.github.com/users/mas-dse-greina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2018-01-24T23:49:37Z", "updated_at": "2018-07-11T00:04:32Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>It seems like there is an inherent assumption in Distributed TensorFlow that all nodes must share a common file system, such as google cloud or NFS.</p>\n<p>I've found in testing that models will train just fine without a common file system, but the final trained model doesn't save properly when you try something like:<br>\n<code>builder = tf.saved_model_builder.SavedModelBuilder(export_dir)  ... builder.save()</code></p>\n<p>The issue seems to be that the parameter server has the variables and the chief node has the graph.</p>\n<p>It'd be great if TensorFlow added a function to allow us to consolidate the graph and variables at the end of training onto the chief node in order to save the trained model. Right now there doesn't seem to be an easy way to do this.</p>\n<p>Thanks.</p>", "body_text": "It seems like there is an inherent assumption in Distributed TensorFlow that all nodes must share a common file system, such as google cloud or NFS.\nI've found in testing that models will train just fine without a common file system, but the final trained model doesn't save properly when you try something like:\nbuilder = tf.saved_model_builder.SavedModelBuilder(export_dir)  ... builder.save()\nThe issue seems to be that the parameter server has the variables and the chief node has the graph.\nIt'd be great if TensorFlow added a function to allow us to consolidate the graph and variables at the end of training onto the chief node in order to save the trained model. Right now there doesn't seem to be an easy way to do this.\nThanks.", "body": "It seems like there is an inherent assumption in Distributed TensorFlow that all nodes must share a common file system, such as google cloud or NFS. \r\n\r\nI've found in testing that models will train just fine without a common file system, but the final trained model doesn't save properly when you try something like: \r\n`builder = tf.saved_model_builder.SavedModelBuilder(export_dir) \r\n...\r\nbuilder.save()`\r\n\r\nThe issue seems to be that the parameter server has the variables and the chief node has the graph. \r\n\r\nIt'd be great if TensorFlow added a function to allow us to consolidate the graph and variables at the end of training onto the chief node in order to save the trained model. Right now there doesn't seem to be an easy way to do this.\r\n\r\nThanks."}