{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/212162434", "pull_request_review_id": 148733969, "id": 212162434, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjE2MjQzNA==", "diff_hunk": "@@ -2549,6 +2549,109 @@ REGISTER_OP(\"ExtractImagePatches\")\n \n // --------------------------------------------------------------------------\n \n+// To enable rates, uncomment all lines commented below and use ksize_*_eff\n+// as the second parameter of all GetWindowedOutputSizeVerbose calls instead\n+// of ksize_*.\n+REGISTER_OP(\"ExtractVolumePatches\")\n+    .Input(\"images: T\")\n+    .Output(\"patches: T\")\n+    .Attr(\"ksizes: list(int) >= 5\")\n+    .Attr(\"strides: list(int) >= 5\")\n+    /* .Attr(\"rates: list(int) >= 5\") */\n+    .Attr(\"T: realnumbertype\")\n+    .Attr(GetPaddingAttrString())\n+    .SetShapeFn([](InferenceContext* c) {\n+      ShapeHandle input_shape;\n+      TF_RETURN_IF_ERROR(c->WithRank(c->input(0), 5, &input_shape));\n+\n+      std::vector<int32> ksizes;\n+      TF_RETURN_IF_ERROR(c->GetAttr(\"ksizes\", &ksizes));\n+      if (ksizes.size() != 5) {\n+        return errors::InvalidArgument(\n+            \"ExtractVolumePatches requires the ksizes attribute to contain 5 \"\n+            \"values, but got: \",\n+            ksizes.size());\n+      }\n+\n+      std::vector<int32> strides;\n+      TF_RETURN_IF_ERROR(c->GetAttr(\"strides\", &strides));\n+      if (strides.size() != 5) {\n+        return errors::InvalidArgument(\n+            \"ExtractVolumePatches requires the stride attribute to contain 5 \"\n+            \"values, but got: \",\n+            strides.size());\n+      }\n+\n+      /*\n+      std::vector<int32> rates;", "path": "tensorflow/core/ops/array_ops.cc", "position": null, "original_position": 38, "commit_id": "33f57bd1311df97a25cd70784dfaafc8e44d07c4", "original_commit_id": "ad18b2dd923329ef598ee12b9bafd7fc63d7013d", "user": {"login": "ezhulenev", "id": 1174378, "node_id": "MDQ6VXNlcjExNzQzNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1174378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezhulenev", "html_url": "https://github.com/ezhulenev", "followers_url": "https://api.github.com/users/ezhulenev/followers", "following_url": "https://api.github.com/users/ezhulenev/following{/other_user}", "gists_url": "https://api.github.com/users/ezhulenev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezhulenev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezhulenev/subscriptions", "organizations_url": "https://api.github.com/users/ezhulenev/orgs", "repos_url": "https://api.github.com/users/ezhulenev/repos", "events_url": "https://api.github.com/users/ezhulenev/events{/privacy}", "received_events_url": "https://api.github.com/users/ezhulenev/received_events", "type": "User", "site_admin": false}, "body": "+a note here, maybe just a reference to the op.cc ", "created_at": "2018-08-23T01:56:36Z", "updated_at": "2018-09-15T03:47:37Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/21715#discussion_r212162434", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21715", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/212162434"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/21715#discussion_r212162434"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21715"}}, "body_html": "<p>+a note here, maybe just a reference to the op.cc</p>", "body_text": "+a note here, maybe just a reference to the op.cc"}