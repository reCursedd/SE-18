{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/181438287", "html_url": "https://github.com/tensorflow/tensorflow/pull/1005#issuecomment-181438287", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1005", "id": 181438287, "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTQzODI4Nw==", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-08T15:57:15Z", "updated_at": "2016-02-08T15:57:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=567848\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jendap\">@jendap</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a> Regarding the test failure, I've seen this a number of times in the past couple of weeks. It looks sporadic. Oftentimes it goes away if you run exactly the same build again. The error message suggest that it has to do with protobuf version (see below). We should figure out the cause and solution to it because it'll most likely show up again and slow us down during release builds.</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"/tensorflow/pip_test/tests/in_topk_op_test.py\", line 21, in <br>\nimport tensorflow.python.platform<br>\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/<strong>init</strong>.py\", line 23, in <br>\nfrom tensorflow.python import *<br>\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/python/<strong>init</strong>.py\", line 37, in <br>\nfrom tensorflow.core.framework.graph_pb2 import *<br>\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 10, in <br>\nfrom google.protobuf import descriptor_pb2<br>\nFile \"/root/.local/lib/python2.7/site-packages/google/protobuf/descriptor_pb2.py\", line 1533, in <br>\n<strong>module</strong> = 'google.protobuf.descriptor_pb2'<br>\nFile \"/root/.local/lib/python2.7/site-packages/google/protobuf/reflection.py\", line 123, in <strong>new</strong><br>\nnew_class = superclass.<strong>new</strong>(cls, name, bases, dictionary)<br>\nTypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases</p>\n</blockquote>", "body_text": "@jendap @martinwicke @vrv Regarding the test failure, I've seen this a number of times in the past couple of weeks. It looks sporadic. Oftentimes it goes away if you run exactly the same build again. The error message suggest that it has to do with protobuf version (see below). We should figure out the cause and solution to it because it'll most likely show up again and slow us down during release builds.\n\nTraceback (most recent call last):\nFile \"/tensorflow/pip_test/tests/in_topk_op_test.py\", line 21, in \nimport tensorflow.python.platform\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/init.py\", line 23, in \nfrom tensorflow.python import *\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/python/init.py\", line 37, in \nfrom tensorflow.core.framework.graph_pb2 import *\nFile \"/root/.local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 10, in \nfrom google.protobuf import descriptor_pb2\nFile \"/root/.local/lib/python2.7/site-packages/google/protobuf/descriptor_pb2.py\", line 1533, in \nmodule = 'google.protobuf.descriptor_pb2'\nFile \"/root/.local/lib/python2.7/site-packages/google/protobuf/reflection.py\", line 123, in new\nnew_class = superclass.new(cls, name, bases, dictionary)\nTypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases", "body": "@jendap @martinwicke @vrv Regarding the test failure, I've seen this a number of times in the past couple of weeks. It looks sporadic. Oftentimes it goes away if you run exactly the same build again. The error message suggest that it has to do with protobuf version (see below). We should figure out the cause and solution to it because it'll most likely show up again and slow us down during release builds. \n\n> Traceback (most recent call last):\n>   File \"/tensorflow/pip_test/tests/in_topk_op_test.py\", line 21, in <module>\n>     import tensorflow.python.platform\n>   File \"/root/.local/lib/python2.7/site-packages/tensorflow/**init**.py\", line 23, in <module>\n>     from tensorflow.python import *\n>   File \"/root/.local/lib/python2.7/site-packages/tensorflow/python/**init**.py\", line 37, in <module>\n>     from tensorflow.core.framework.graph_pb2 import *\n>   File \"/root/.local/lib/python2.7/site-packages/tensorflow/core/framework/graph_pb2.py\", line 10, in <module>\n>     from google.protobuf import descriptor_pb2\n>   File \"/root/.local/lib/python2.7/site-packages/google/protobuf/descriptor_pb2.py\", line 1533, in <module>\n>     **module** = 'google.protobuf.descriptor_pb2'\n>   File \"/root/.local/lib/python2.7/site-packages/google/protobuf/reflection.py\", line 123, in **new**\n>     new_class = superclass.**new**(cls, name, bases, dictionary)\n> TypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases\n"}