{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/283347790", "html_url": "https://github.com/tensorflow/tensorflow/issues/7784#issuecomment-283347790", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7784", "id": 283347790, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MzM0Nzc5MA==", "user": {"login": "mahatosourav91", "id": 25343161, "node_id": "MDQ6VXNlcjI1MzQzMTYx", "avatar_url": "https://avatars0.githubusercontent.com/u/25343161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahatosourav91", "html_url": "https://github.com/mahatosourav91", "followers_url": "https://api.github.com/users/mahatosourav91/followers", "following_url": "https://api.github.com/users/mahatosourav91/following{/other_user}", "gists_url": "https://api.github.com/users/mahatosourav91/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahatosourav91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahatosourav91/subscriptions", "organizations_url": "https://api.github.com/users/mahatosourav91/orgs", "repos_url": "https://api.github.com/users/mahatosourav91/repos", "events_url": "https://api.github.com/users/mahatosourav91/events{/privacy}", "received_events_url": "https://api.github.com/users/mahatosourav91/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-01T14:03:21Z", "updated_at": "2017-03-01T14:03:21Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15676913\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/poxvoculi\">@poxvoculi</a> , <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4549793\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/xavigonzalvo\">@xavigonzalvo</a> , Please note that if the data is increased a new error is raised</p>\n<pre><code>from tensorflow.contrib.factorization.python.ops import gmm as gmm_lib\nfrom tensorflow.python.framework import constant_op\nimport random\nimport numpy as np\n\n\ndef input_fn(x):\n    \"\"\"Returns an input_fn that randomly selects batches from given points.\"\"\"\n    def _fn():\n      return constant_op.constant(x.astype('float32')), None\n    return _fn\n\nx = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)\ngmm = gmm_lib.GMM(200, random_seed=0)\ngmm.fit(input_fn=input_fn(x), max_steps=300)\n\ny = gmm.predict_assignments(input_fn=input_fn(x))\n</code></pre>\n<p>I have modified the line<br>\n<code>x = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)</code><br>\nfrom<br>\n<code>x = np.array([[random.random() for i in range(10)] for j in range(2384)], dtype=np.float32)</code></p>\n<p>The new error is :-</p>\n<pre><code>tensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\n\t [[Node: Diag_186/_317 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_1909_Diag_186\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\t [[Node: Pow_146/_939 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3690_Pow_146\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n</code></pre>", "body_text": "Hi @poxvoculi , @xavigonzalvo , Please note that if the data is increased a new error is raised\nfrom tensorflow.contrib.factorization.python.ops import gmm as gmm_lib\nfrom tensorflow.python.framework import constant_op\nimport random\nimport numpy as np\n\n\ndef input_fn(x):\n    \"\"\"Returns an input_fn that randomly selects batches from given points.\"\"\"\n    def _fn():\n      return constant_op.constant(x.astype('float32')), None\n    return _fn\n\nx = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)\ngmm = gmm_lib.GMM(200, random_seed=0)\ngmm.fit(input_fn=input_fn(x), max_steps=300)\n\ny = gmm.predict_assignments(input_fn=input_fn(x))\n\nI have modified the line\nx = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)\nfrom\nx = np.array([[random.random() for i in range(10)] for j in range(2384)], dtype=np.float32)\nThe new error is :-\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\n\t [[Node: Diag_186/_317 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_1909_Diag_186\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n\t [[Node: Pow_146/_939 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3690_Pow_146\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]", "body": "Hi @poxvoculi , @xavigonzalvo , Please note that if the data is increased a new error is raised\r\n\r\n```\r\nfrom tensorflow.contrib.factorization.python.ops import gmm as gmm_lib\r\nfrom tensorflow.python.framework import constant_op\r\nimport random\r\nimport numpy as np\r\n\r\n\r\ndef input_fn(x):\r\n    \"\"\"Returns an input_fn that randomly selects batches from given points.\"\"\"\r\n    def _fn():\r\n      return constant_op.constant(x.astype('float32')), None\r\n    return _fn\r\n\r\nx = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)\r\ngmm = gmm_lib.GMM(200, random_seed=0)\r\ngmm.fit(input_fn=input_fn(x), max_steps=300)\r\n\r\ny = gmm.predict_assignments(input_fn=input_fn(x))\r\n```\r\n\r\nI have modified the line \r\n`x = np.array([[random.random() for i in range(198)] for j in range(2384)], dtype=np.float32)`\r\nfrom \r\n`x = np.array([[random.random() for i in range(10)] for j in range(2384)], dtype=np.float32)`\r\n\r\nThe new error is :- \r\n```\r\ntensorflow.python.framework.errors_impl.InternalError: Dst tensor is not initialized.\r\n\t [[Node: Diag_186/_317 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device_incarnation=1, tensor_name=\"edge_1909_Diag_186\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\r\n\t [[Node: Pow_146/_939 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_3690_Pow_146\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\r\n```\r\n\r\n"}