{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12752", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12752/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12752/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12752/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/12752", "id": 254611582, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM4ODY5MTYz", "number": 12752, "title": "Avoid gcc7 memcpy build error by updating BoringSSL", "user": {"login": "louiehelm", "id": 381635, "node_id": "MDQ6VXNlcjM4MTYzNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/381635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louiehelm", "html_url": "https://github.com/louiehelm", "followers_url": "https://api.github.com/users/louiehelm/followers", "following_url": "https://api.github.com/users/louiehelm/following{/other_user}", "gists_url": "https://api.github.com/users/louiehelm/gists{/gist_id}", "starred_url": "https://api.github.com/users/louiehelm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louiehelm/subscriptions", "organizations_url": "https://api.github.com/users/louiehelm/orgs", "repos_url": "https://api.github.com/users/louiehelm/repos", "events_url": "https://api.github.com/users/louiehelm/events{/privacy}", "received_events_url": "https://api.github.com/users/louiehelm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 419840263, "node_id": "MDU6TGFiZWw0MTk4NDAyNjM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20testing%20(then%20merge)", "name": "awaiting testing (then merge)", "color": "c2e0c6", "default": false}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-09-01T11:20:35Z", "updated_at": "2017-09-12T08:58:46Z", "closed_at": "2017-09-02T19:21:08Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12752", "html_url": "https://github.com/tensorflow/tensorflow/pull/12752", "diff_url": "https://github.com/tensorflow/tensorflow/pull/12752.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/12752.patch"}, "body_html": "<p>Tensorflow produces this build error with gcc7 due to ambiguous memcpy inlining in all versions of BoringSSL prior to <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/google/boringssl/commit/17cf2cb1d226b0ba2401304242df7ddd3b6f1ff2/hovercard\" href=\"https://github.com/google/boringssl/commit/17cf2cb1d226b0ba2401304242df7ddd3b6f1ff2\">google/boringssl@<tt>17cf2cb</tt></a>  on Dec 12, 2016:</p>\n<pre><code>In file included from /usr/include/string.h:639:0,\n                 from external/boringssl/src/crypto/asn1/a_bitstr.c:59:\nIn function 'memcpy',\n    inlined from 'i2c_ASN1_BIT_STRING' at external/boringssl/src/crypto/asn1/a_bitstr.c:118:5:\n/usr/include/bits/string3.h:53:10: error: '__builtin_memcpy': specified size between 18446744071562067968 and 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Werror=stringop-overflow=]\n   return __builtin___memcpy_chk (__dest, __src, __len, __bos0 (__dest));\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncc1: all warnings being treated as errors\n</code></pre>\n<p>Updating BoringSSL snapshot from 7-11-16 to 7-7-17 fixes this.</p>\n<p>July 7 snapshot was picked because this is the stable build that Apollo uses:<br>\n<a href=\"https://github.com/ApolloAuto/apollo/pull/185/files\">https://github.com/ApolloAuto/apollo/pull/185/files</a></p>\n<p>Reliance on older snapshots of BoringSSL with this same memcpy bug is also breaking GRPC and Tensorflow Serving on modern gcc toolchains in the same way:</p>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"224101185\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/grpc/grpc/issues/10843\" data-hovercard-type=\"issue\" data-hovercard-url=\"/grpc/grpc/issues/10843/hovercard\" href=\"https://github.com/grpc/grpc/issues/10843\">grpc/grpc#10843</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"242273510\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/grpc/grpc/issues/11765\" data-hovercard-type=\"issue\" data-hovercard-url=\"/grpc/grpc/issues/11765/hovercard\" href=\"https://github.com/grpc/grpc/issues/11765\">grpc/grpc#11765</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"234229471\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/serving/issues/475\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/serving/issues/475/hovercard\" href=\"https://github.com/tensorflow/serving/issues/475\">tensorflow/serving#475</a></p>\n<p>Note: This build error is ubiquitous since bazel's primary workspace.bzl downloads and builds BoringSSL regardless of whether it is required (i.e., even when Google Cloud Storage support is disabled and when SSL support is not enabled).</p>", "body_text": "Tensorflow produces this build error with gcc7 due to ambiguous memcpy inlining in all versions of BoringSSL prior to google/boringssl@17cf2cb  on Dec 12, 2016:\nIn file included from /usr/include/string.h:639:0,\n                 from external/boringssl/src/crypto/asn1/a_bitstr.c:59:\nIn function 'memcpy',\n    inlined from 'i2c_ASN1_BIT_STRING' at external/boringssl/src/crypto/asn1/a_bitstr.c:118:5:\n/usr/include/bits/string3.h:53:10: error: '__builtin_memcpy': specified size between 18446744071562067968 and 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Werror=stringop-overflow=]\n   return __builtin___memcpy_chk (__dest, __src, __len, __bos0 (__dest));\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncc1: all warnings being treated as errors\n\nUpdating BoringSSL snapshot from 7-11-16 to 7-7-17 fixes this.\nJuly 7 snapshot was picked because this is the stable build that Apollo uses:\nhttps://github.com/ApolloAuto/apollo/pull/185/files\nReliance on older snapshots of BoringSSL with this same memcpy bug is also breaking GRPC and Tensorflow Serving on modern gcc toolchains in the same way:\ngrpc/grpc#10843\ngrpc/grpc#11765\ntensorflow/serving#475\nNote: This build error is ubiquitous since bazel's primary workspace.bzl downloads and builds BoringSSL regardless of whether it is required (i.e., even when Google Cloud Storage support is disabled and when SSL support is not enabled).", "body": "Tensorflow produces this build error with gcc7 due to ambiguous memcpy inlining in all versions of BoringSSL prior to https://github.com/google/boringssl/commit/17cf2cb1d226b0ba2401304242df7ddd3b6f1ff2  on Dec 12, 2016:\r\n\r\n```\r\nIn file included from /usr/include/string.h:639:0,\r\n                 from external/boringssl/src/crypto/asn1/a_bitstr.c:59:\r\nIn function 'memcpy',\r\n    inlined from 'i2c_ASN1_BIT_STRING' at external/boringssl/src/crypto/asn1/a_bitstr.c:118:5:\r\n/usr/include/bits/string3.h:53:10: error: '__builtin_memcpy': specified size between 18446744071562067968 and 18446744073709551615 exceeds maximum object size 9223372036854775807 [-Werror=stringop-overflow=]\r\n   return __builtin___memcpy_chk (__dest, __src, __len, __bos0 (__dest));\r\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\ncc1: all warnings being treated as errors\r\n```\r\n\r\n\r\nUpdating BoringSSL snapshot from 7-11-16 to 7-7-17 fixes this.\r\n\r\nJuly 7 snapshot was picked because this is the stable build that Apollo uses:\r\nhttps://github.com/ApolloAuto/apollo/pull/185/files\r\n\r\n\r\nReliance on older snapshots of BoringSSL with this same memcpy bug is also breaking GRPC and Tensorflow Serving on modern gcc toolchains in the same way:\r\n\r\nhttps://github.com/grpc/grpc/issues/10843\r\nhttps://github.com/grpc/grpc/issues/11765\r\nhttps://github.com/tensorflow/serving/issues/475\r\n\r\n\r\nNote: This build error is ubiquitous since bazel's primary workspace.bzl downloads and builds BoringSSL regardless of whether it is required (i.e., even when Google Cloud Storage support is disabled and when SSL support is not enabled)."}