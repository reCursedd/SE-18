{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/183081828", "html_url": "https://github.com/tensorflow/tensorflow/issues/942#issuecomment-183081828", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/942", "id": 183081828, "node_id": "MDEyOklzc3VlQ29tbWVudDE4MzA4MTgyOA==", "user": {"login": "nlgranger", "id": 3764009, "node_id": "MDQ6VXNlcjM3NjQwMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3764009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlgranger", "html_url": "https://github.com/nlgranger", "followers_url": "https://api.github.com/users/nlgranger/followers", "following_url": "https://api.github.com/users/nlgranger/following{/other_user}", "gists_url": "https://api.github.com/users/nlgranger/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlgranger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlgranger/subscriptions", "organizations_url": "https://api.github.com/users/nlgranger/orgs", "repos_url": "https://api.github.com/users/nlgranger/repos", "events_url": "https://api.github.com/users/nlgranger/events{/privacy}", "received_events_url": "https://api.github.com/users/nlgranger/received_events", "type": "User", "site_admin": false}, "created_at": "2016-02-11T22:16:18Z", "updated_at": "2016-02-11T22:16:18Z", "author_association": "NONE", "body_html": "<p>Indeed...<br>\nThank you very much for this indication.<br>\nThe following patch seems to fix the issue, althought I am honestly not quite sure about what these flags exactly do:</p>\n<div class=\"highlight highlight-source-diff\"><pre><span class=\"pl-c1\">diff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL</span>\nindex dfde7cd..547441f 100644\n<span class=\"pl-md\">--- a/third_party/gpus/crosstool/CROSSTOOL</span>\n<span class=\"pl-mi1\">+++ b/third_party/gpus/crosstool/CROSSTOOL</span>\n<span class=\"pl-mdr\">@@ -46,6 +46,8 @@</span> toolchain {\n   # Use \"-std=c++11\" for nvcc. For consistency, force both the host compiler\n   # and the device compiler to use \"-std=c++11\".\n   cxx_flag: \"-std=c++11\"\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  cxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>  cxx_flag: \"-D__STRICT_ANSI__\"</span>\n   linker_flag: \"-lstdc++\"\n   linker_flag: \"-B/usr/bin/\"</pre></div>\n<p>Could anyone kindly reopen this bug until this patch gets reviewed, and integrated (or not) please?</p>", "body_text": "Indeed...\nThank you very much for this indication.\nThe following patch seems to fix the issue, althought I am honestly not quite sure about what these flags exactly do:\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL\nindex dfde7cd..547441f 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL\n+++ b/third_party/gpus/crosstool/CROSSTOOL\n@@ -46,6 +46,8 @@ toolchain {\n   # Use \"-std=c++11\" for nvcc. For consistency, force both the host compiler\n   # and the device compiler to use \"-std=c++11\".\n   cxx_flag: \"-std=c++11\"\n+  cxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"\n+  cxx_flag: \"-D__STRICT_ANSI__\"\n   linker_flag: \"-lstdc++\"\n   linker_flag: \"-B/usr/bin/\"\nCould anyone kindly reopen this bug until this patch gets reviewed, and integrated (or not) please?", "body": "Indeed...\nThank you very much for this indication.\nThe following patch seems to fix the issue, althought I am honestly not quite sure about what these flags exactly do:\n\n``` diff\ndiff --git a/third_party/gpus/crosstool/CROSSTOOL b/third_party/gpus/crosstool/CROSSTOOL\nindex dfde7cd..547441f 100644\n--- a/third_party/gpus/crosstool/CROSSTOOL\n+++ b/third_party/gpus/crosstool/CROSSTOOL\n@@ -46,6 +46,8 @@ toolchain {\n   # Use \"-std=c++11\" for nvcc. For consistency, force both the host compiler\n   # and the device compiler to use \"-std=c++11\".\n   cxx_flag: \"-std=c++11\"\n+  cxx_flag: \"-D_MWAITXINTRIN_H_INCLUDED\"\n+  cxx_flag: \"-D__STRICT_ANSI__\"\n   linker_flag: \"-lstdc++\"\n   linker_flag: \"-B/usr/bin/\"\n```\n\nCould anyone kindly reopen this bug until this patch gets reviewed, and integrated (or not) please?\n"}