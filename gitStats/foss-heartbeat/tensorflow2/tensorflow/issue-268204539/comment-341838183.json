{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/341838183", "html_url": "https://github.com/tensorflow/tensorflow/pull/13958#issuecomment-341838183", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13958", "id": 341838183, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTgzODE4Mw==", "user": {"login": "vjpai", "id": 8864912, "node_id": "MDQ6VXNlcjg4NjQ5MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8864912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vjpai", "html_url": "https://github.com/vjpai", "followers_url": "https://api.github.com/users/vjpai/followers", "following_url": "https://api.github.com/users/vjpai/following{/other_user}", "gists_url": "https://api.github.com/users/vjpai/gists{/gist_id}", "starred_url": "https://api.github.com/users/vjpai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vjpai/subscriptions", "organizations_url": "https://api.github.com/users/vjpai/orgs", "repos_url": "https://api.github.com/users/vjpai/repos", "events_url": "https://api.github.com/users/vjpai/events{/privacy}", "received_events_url": "https://api.github.com/users/vjpai/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-03T22:02:11Z", "updated_at": "2017-11-03T22:03:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Ok, I now know the problem. gRPC depends on protobuf as does TF. We need to change to make gRPC depend on protobuf_headers only (which we wanted to do anyway for other reasons). Otherwise there's some sort of diamond-dependence problem which is destroying serialization. I have tested this by bringing in my own branch and confirmed that this is an issue (and hopefully the only issue) and will now get this resolved at gRPC master and then revisit this PR. Thanks for the help!</p>", "body_text": "Ok, I now know the problem. gRPC depends on protobuf as does TF. We need to change to make gRPC depend on protobuf_headers only (which we wanted to do anyway for other reasons). Otherwise there's some sort of diamond-dependence problem which is destroying serialization. I have tested this by bringing in my own branch and confirmed that this is an issue (and hopefully the only issue) and will now get this resolved at gRPC master and then revisit this PR. Thanks for the help!", "body": "Ok, I now know the problem. gRPC depends on protobuf as does TF. We need to change to make gRPC depend on protobuf_headers only (which we wanted to do anyway for other reasons). Otherwise there's some sort of diamond-dependence problem which is destroying serialization. I have tested this by bringing in my own branch and confirmed that this is an issue (and hopefully the only issue) and will now get this resolved at gRPC master and then revisit this PR. Thanks for the help!\r\n"}