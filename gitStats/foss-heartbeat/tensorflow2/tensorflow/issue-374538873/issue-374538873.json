{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23302", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23302/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23302/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23302/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23302", "id": 374538873, "node_id": "MDU6SXNzdWUzNzQ1Mzg4NzM=", "number": 23302, "title": "Autotune seems to be \"forgetting\" after a short delay within the same session.", "user": {"login": "MindMusic", "id": 2808190, "node_id": "MDQ6VXNlcjI4MDgxOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2808190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MindMusic", "html_url": "https://github.com/MindMusic", "followers_url": "https://api.github.com/users/MindMusic/followers", "following_url": "https://api.github.com/users/MindMusic/following{/other_user}", "gists_url": "https://api.github.com/users/MindMusic/gists{/gist_id}", "starred_url": "https://api.github.com/users/MindMusic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MindMusic/subscriptions", "organizations_url": "https://api.github.com/users/MindMusic/orgs", "repos_url": "https://api.github.com/users/MindMusic/repos", "events_url": "https://api.github.com/users/MindMusic/events{/privacy}", "received_events_url": "https://api.github.com/users/MindMusic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-10-26T20:36:55Z", "updated_at": "2018-11-14T21:53:33Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><strong>System information</strong></p>\n<ul>\n<li>I have written custom code in Microsoft Visual Studio Pro 2017 - C# (using TensorFlowSharp v1.11 wrapper classes).</li>\n<li>Windows 7.</li>\n<li>TensorFlow installed from binary.</li>\n<li>TensorFlow version:  I think Nuget automatically gives me v1.4 with TensorFlowSharp v1.11?</li>\n<li>Python version: Not using Python.  C# instead.</li>\n<li>Laptop CPU only, no GPU used.</li>\n</ul>\n<p><strong>Describe the current behavior</strong><br>\nI'm trying to process 128x128 pixel images real-time on a low-powered PC.  I've been profiling my code by programmatically recording millisecond timings.  We've created a CAE.pb file and it seems to run properly, and the time that the session.run() call is made in rapid succession (using the same session each time), the time it takes decreases (up to a certain point).  Specifically, when I process the first image takes 1400ms, second image 1150ms, third image 900ms... at the 7th our 8th image it levels off at 350ms per image processing.  The problem is that this speed increase only increases if I push images to TensorFlow in rapid succession.  If I pause for more than approx 350ms, then the time it takes to process the next image (with the <em>same session</em> being reused the whole time), jumps back up to 1400ms.  I'm assuming that the decreasing time is due to autotune running.  However, autotune seems to \"forget\" it's session values if I don't keep it running and fed with new data constantly.  Am I doing something wrong or is this a bug?  Is there a RunOption or SessionOption that I'm unaware of that controls how long until autotune (or what I'm presuming is autotune) \"forgets\"? :P</p>\n<p><strong>Describe the expected behavior</strong><br>\nI would have expected that autotune could pause and not \"start from scratch\" (and would stay running quickly) so long as I kept the session object around.</p>\n<p><strong>Code to reproduce the issue</strong><br>\nThis is tricky as I'm using C#, and the code is large.  Seeing as TensorFlowSharp is a pretty thin wrapper class, this seemed to be more related to the internals/usage of TensorFlow itself.</p>", "body_text": "System information\n\nI have written custom code in Microsoft Visual Studio Pro 2017 - C# (using TensorFlowSharp v1.11 wrapper classes).\nWindows 7.\nTensorFlow installed from binary.\nTensorFlow version:  I think Nuget automatically gives me v1.4 with TensorFlowSharp v1.11?\nPython version: Not using Python.  C# instead.\nLaptop CPU only, no GPU used.\n\nDescribe the current behavior\nI'm trying to process 128x128 pixel images real-time on a low-powered PC.  I've been profiling my code by programmatically recording millisecond timings.  We've created a CAE.pb file and it seems to run properly, and the time that the session.run() call is made in rapid succession (using the same session each time), the time it takes decreases (up to a certain point).  Specifically, when I process the first image takes 1400ms, second image 1150ms, third image 900ms... at the 7th our 8th image it levels off at 350ms per image processing.  The problem is that this speed increase only increases if I push images to TensorFlow in rapid succession.  If I pause for more than approx 350ms, then the time it takes to process the next image (with the same session being reused the whole time), jumps back up to 1400ms.  I'm assuming that the decreasing time is due to autotune running.  However, autotune seems to \"forget\" it's session values if I don't keep it running and fed with new data constantly.  Am I doing something wrong or is this a bug?  Is there a RunOption or SessionOption that I'm unaware of that controls how long until autotune (or what I'm presuming is autotune) \"forgets\"? :P\nDescribe the expected behavior\nI would have expected that autotune could pause and not \"start from scratch\" (and would stay running quickly) so long as I kept the session object around.\nCode to reproduce the issue\nThis is tricky as I'm using C#, and the code is large.  Seeing as TensorFlowSharp is a pretty thin wrapper class, this seemed to be more related to the internals/usage of TensorFlow itself.", "body": "**System information**\r\n- I have written custom code in Microsoft Visual Studio Pro 2017 - C# (using TensorFlowSharp v1.11 wrapper classes).\r\n- Windows 7.\r\n- TensorFlow installed from binary.\r\n- TensorFlow version:  I think Nuget automatically gives me v1.4 with TensorFlowSharp v1.11?\r\n- Python version: Not using Python.  C# instead.\r\n- Laptop CPU only, no GPU used.\r\n\r\n**Describe the current behavior**\r\nI'm trying to process 128x128 pixel images real-time on a low-powered PC.  I've been profiling my code by programmatically recording millisecond timings.  We've created a CAE.pb file and it seems to run properly, and the time that the session.run() call is made in rapid succession (using the same session each time), the time it takes decreases (up to a certain point).  Specifically, when I process the first image takes 1400ms, second image 1150ms, third image 900ms... at the 7th our 8th image it levels off at 350ms per image processing.  The problem is that this speed increase only increases if I push images to TensorFlow in rapid succession.  If I pause for more than approx 350ms, then the time it takes to process the next image (with the *same session* being reused the whole time), jumps back up to 1400ms.  I'm assuming that the decreasing time is due to autotune running.  However, autotune seems to \"forget\" it's session values if I don't keep it running and fed with new data constantly.  Am I doing something wrong or is this a bug?  Is there a RunOption or SessionOption that I'm unaware of that controls how long until autotune (or what I'm presuming is autotune) \"forgets\"? :P\r\n\r\n**Describe the expected behavior**\r\nI would have expected that autotune could pause and not \"start from scratch\" (and would stay running quickly) so long as I kept the session object around.\r\n\r\n**Code to reproduce the issue**\r\nThis is tricky as I'm using C#, and the code is large.  Seeing as TensorFlowSharp is a pretty thin wrapper class, this seemed to be more related to the internals/usage of TensorFlow itself.\r\n"}