{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/408642762", "html_url": "https://github.com/tensorflow/tensorflow/issues/1941#issuecomment-408642762", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1941", "id": 408642762, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODY0Mjc2Mg==", "user": {"login": "psxpa3", "id": 6524554, "node_id": "MDQ6VXNlcjY1MjQ1NTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6524554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psxpa3", "html_url": "https://github.com/psxpa3", "followers_url": "https://api.github.com/users/psxpa3/followers", "following_url": "https://api.github.com/users/psxpa3/following{/other_user}", "gists_url": "https://api.github.com/users/psxpa3/gists{/gist_id}", "starred_url": "https://api.github.com/users/psxpa3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psxpa3/subscriptions", "organizations_url": "https://api.github.com/users/psxpa3/orgs", "repos_url": "https://api.github.com/users/psxpa3/repos", "events_url": "https://api.github.com/users/psxpa3/events{/privacy}", "received_events_url": "https://api.github.com/users/psxpa3/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-29T00:06:56Z", "updated_at": "2018-07-29T00:06:56Z", "author_association": "NONE", "body_html": "<p>Howdy!!</p>\n<p>Can anyone please help me out in resolving this error. Have been trying resolving it for such a long time.<br>\nSeems, Keras is literally made for a good reason since tensor flow kills time. Any help would be highly appreaciated.</p>\n<p>Here I am trying to convert x4 (tf.tensor object -- intermediate layer from Keras model) into numpy array so I can perform some operation on it as highlighted in the section \"A\" below. I tried almost everything that is mentioned on the internet, but to avail.</p>\n<p><strong>The code snippet is as below:</strong></p>\n<p>print(\"x4: \", x4) &lt;&lt;--- here x4 is the output of any intermediate layer from model built using keras.<br>\nwith tf.Session() as sess:<br>\nprint(\"sess: \", sess)<br>\narr = x4.eval(sess)<br>\n#arr = sess.run(x4)</p>\n<pre><code>  print(\"arr: \", arr)\n  print(\"len(arr): \", len(arr))\n</code></pre>\n<p>==== A =====<br>\nfor x_axis in range(len(arr)):<br>\nif arr[x_axis] &lt; 0.35:<br>\nrg_train[x_axis]=a1<em>np.exp(-b1</em>np.exp(-c1*(11*(arr[x_axis]+0.6-0.13)-5)))<br>\nelse:<br>\nrg_train[x_axis]=a<em>np.exp(-b</em>np.exp(-c*(11*(arr[x_axis]-0.13)-5)))+0.5<br>\nreturn rg_train<br>\n==== A ====</p>\n<p><strong>The error log is:</strong><br>\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/nest.pyc in flatten_dict_items(dictionary)<br>\n214   \"\"\"<br>\n215   if not isinstance(dictionary, dict):<br>\n--&gt; 216     raise TypeError(\"input must be a dictionary\")<br>\n217   flat_dictionary = {}<br>\n218   for i, v in _six.iteritems(dictionary):</p>\n<p>TypeError: input must be a dictionary</p>\n<p>** When I feed a dictionary into it then it says placeholder shoudl be fed, when I do that then it gives me some another error. really fed up with this issue **</p>\n<p>Regards,<br>\nPriya Arora</p>", "body_text": "Howdy!!\nCan anyone please help me out in resolving this error. Have been trying resolving it for such a long time.\nSeems, Keras is literally made for a good reason since tensor flow kills time. Any help would be highly appreaciated.\nHere I am trying to convert x4 (tf.tensor object -- intermediate layer from Keras model) into numpy array so I can perform some operation on it as highlighted in the section \"A\" below. I tried almost everything that is mentioned on the internet, but to avail.\nThe code snippet is as below:\nprint(\"x4: \", x4) <<--- here x4 is the output of any intermediate layer from model built using keras.\nwith tf.Session() as sess:\nprint(\"sess: \", sess)\narr = x4.eval(sess)\n#arr = sess.run(x4)\n  print(\"arr: \", arr)\n  print(\"len(arr): \", len(arr))\n\n==== A =====\nfor x_axis in range(len(arr)):\nif arr[x_axis] < 0.35:\nrg_train[x_axis]=a1np.exp(-b1np.exp(-c1*(11*(arr[x_axis]+0.6-0.13)-5)))\nelse:\nrg_train[x_axis]=anp.exp(-bnp.exp(-c*(11*(arr[x_axis]-0.13)-5)))+0.5\nreturn rg_train\n==== A ====\nThe error log is:\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/nest.pyc in flatten_dict_items(dictionary)\n214   \"\"\"\n215   if not isinstance(dictionary, dict):\n--> 216     raise TypeError(\"input must be a dictionary\")\n217   flat_dictionary = {}\n218   for i, v in _six.iteritems(dictionary):\nTypeError: input must be a dictionary\n** When I feed a dictionary into it then it says placeholder shoudl be fed, when I do that then it gives me some another error. really fed up with this issue **\nRegards,\nPriya Arora", "body": "Howdy!!\r\n\r\nCan anyone please help me out in resolving this error. Have been trying resolving it for such a long time.\r\nSeems, Keras is literally made for a good reason since tensor flow kills time. Any help would be highly appreaciated.\r\n\r\nHere I am trying to convert x4 (tf.tensor object -- intermediate layer from Keras model) into numpy array so I can perform some operation on it as highlighted in the section \"A\" below. I tried almost everything that is mentioned on the internet, but to avail.\r\n\r\n**The code snippet is as below:**\r\n\r\nprint(\"x4: \", x4) <<--- here x4 is the output of any intermediate layer from model built using keras.\r\n    with tf.Session() as sess:\r\n      print(\"sess: \", sess)\r\n      arr = x4.eval(sess)\r\n      #arr = sess.run(x4)\r\n      \r\n      print(\"arr: \", arr)\r\n      print(\"len(arr): \", len(arr))\r\n      \r\n==== A =====\r\n      for x_axis in range(len(arr)):\r\n        if arr[x_axis] < 0.35:\r\n          rg_train[x_axis]=a1*np.exp(-b1*np.exp(-c1*(11*(arr[x_axis]+0.6-0.13)-5)))\r\n        else:\r\n          rg_train[x_axis]=a*np.exp(-b*np.exp(-c*(11*(arr[x_axis]-0.13)-5)))+0.5  \r\n      return rg_train\r\n==== A ====\r\n\r\n**The error log is:**\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/nest.pyc in flatten_dict_items(dictionary)\r\n    214   \"\"\"\r\n    215   if not isinstance(dictionary, dict):\r\n--> 216     raise TypeError(\"input must be a dictionary\")\r\n    217   flat_dictionary = {}\r\n    218   for i, v in _six.iteritems(dictionary):\r\n\r\nTypeError: input must be a dictionary\r\n\r\n** When I feed a dictionary into it then it says placeholder shoudl be fed, when I do that then it gives me some another error. really fed up with this issue **\r\n\r\nRegards,\r\nPriya Arora\r\n"}