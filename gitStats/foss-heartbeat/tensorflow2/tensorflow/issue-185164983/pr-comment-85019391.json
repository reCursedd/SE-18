{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/85019391", "pull_request_review_id": 5760618, "id": 85019391, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDg1MDE5Mzkx", "diff_hunk": "@@ -584,7 +587,8 @@ bool DeviceOptionsToContextFlags(DeviceOptions device_options, int *flags) {\n     // TODO(leary) Need to see if NVIDIA can expunge the leakiness in their\n     // context creation: see http://b/13248943\n \n-    res = dynload::cuCtxCreate_v2(&new_context, flags, device);\n+    res = dynload::cuDevicePrimaryCtxSetFlags(device, flags);", "path": "tensorflow/stream_executor/cuda/cuda_driver.cc", "position": null, "original_position": 15, "commit_id": "f79b59175929728f5bb737432081521b19a52d31", "original_commit_id": "ecc56668d5075dd0c7eefa564884335270376d82", "user": {"login": "henline", "id": 17771000, "node_id": "MDQ6VXNlcjE3NzcxMDAw", "avatar_url": "https://avatars2.githubusercontent.com/u/17771000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henline", "html_url": "https://github.com/henline", "followers_url": "https://api.github.com/users/henline/followers", "following_url": "https://api.github.com/users/henline/following{/other_user}", "gists_url": "https://api.github.com/users/henline/gists{/gist_id}", "starred_url": "https://api.github.com/users/henline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henline/subscriptions", "organizations_url": "https://api.github.com/users/henline/orgs", "repos_url": "https://api.github.com/users/henline/repos", "events_url": "https://api.github.com/users/henline/events{/privacy}", "received_events_url": "https://api.github.com/users/henline/received_events", "type": "User", "site_admin": false}, "body": "This looks great, but I think these primary context functions are only available in CUDA 7.5 and newer, and unfortunately one of the major TensorFlow users is currently stuck on CUDA 7.0. Could we check the libcuda version here and use the old calls for 7.0 and earlier?\n", "created_at": "2016-10-25T22:55:40Z", "updated_at": "2016-10-25T23:26:11Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/5196#discussion_r85019391", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5196", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/85019391"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/5196#discussion_r85019391"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/5196"}}, "body_html": "<p>This looks great, but I think these primary context functions are only available in CUDA 7.5 and newer, and unfortunately one of the major TensorFlow users is currently stuck on CUDA 7.0. Could we check the libcuda version here and use the old calls for 7.0 and earlier?</p>", "body_text": "This looks great, but I think these primary context functions are only available in CUDA 7.5 and newer, and unfortunately one of the major TensorFlow users is currently stuck on CUDA 7.0. Could we check the libcuda version here and use the old calls for 7.0 and earlier?"}