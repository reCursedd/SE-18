{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/350183125", "html_url": "https://github.com/tensorflow/tensorflow/issues/15165#issuecomment-350183125", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15165", "id": 350183125, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDE4MzEyNQ==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-08T06:20:00Z", "updated_at": "2017-12-08T07:10:27Z", "author_association": "MEMBER", "body_html": "<p>For keras, I think it uses its <code>_keras_shape</code>, which seems smarter for lstm layer.</p>\n<div class=\"highlight highlight-source-python\"><pre>conv1d_1: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-c1\">975</span>, <span class=\"pl-c1\">320</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">975</span>, <span class=\"pl-c1\">320</span>)\nmax_pooling1d_1: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-c1\">75</span>, <span class=\"pl-c1\">320</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">75</span>, <span class=\"pl-c1\">320</span>)\nlstm_1: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-ii\">?</span>, <span class=\"pl-c1\">320</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">75</span>, <span class=\"pl-c1\">320</span>)\nflatten_1: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-ii\">?</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">24000</span>)\ndense_1: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-c1\">925</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">925</span>)\ndense_2: output: (<span class=\"pl-ii\">?</span>, <span class=\"pl-c1\">919</span>), keras_shape: (<span class=\"pl-c1\">None</span>, <span class=\"pl-c1\">919</span>)</pre></div>", "body_text": "For keras, I think it uses its _keras_shape, which seems smarter for lstm layer.\nconv1d_1: output: (?, 975, 320), keras_shape: (None, 975, 320)\nmax_pooling1d_1: output: (?, 75, 320), keras_shape: (None, 75, 320)\nlstm_1: output: (?, ?, 320), keras_shape: (None, 75, 320)\nflatten_1: output: (?, ?), keras_shape: (None, 24000)\ndense_1: output: (?, 925), keras_shape: (None, 925)\ndense_2: output: (?, 919), keras_shape: (None, 919)", "body": "For keras, I think it uses its `_keras_shape`, which seems smarter for lstm layer.\r\n\r\n```python\r\nconv1d_1: output: (?, 975, 320), keras_shape: (None, 975, 320)\r\nmax_pooling1d_1: output: (?, 75, 320), keras_shape: (None, 75, 320)\r\nlstm_1: output: (?, ?, 320), keras_shape: (None, 75, 320)\r\nflatten_1: output: (?, ?), keras_shape: (None, 24000)\r\ndense_1: output: (?, 925), keras_shape: (None, 925)\r\ndense_2: output: (?, 919), keras_shape: (None, 919)\r\n```"}