{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16198", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16198/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16198/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/16198/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/16198", "id": 289441032, "node_id": "MDU6SXNzdWUyODk0NDEwMzI=", "number": 16198, "title": "Unable to build Tensorflow Benchmark model for Android", "user": {"login": "abhishek-sehgal", "id": 9486817, "node_id": "MDQ6VXNlcjk0ODY4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/9486817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhishek-sehgal", "html_url": "https://github.com/abhishek-sehgal", "followers_url": "https://api.github.com/users/abhishek-sehgal/followers", "following_url": "https://api.github.com/users/abhishek-sehgal/following{/other_user}", "gists_url": "https://api.github.com/users/abhishek-sehgal/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhishek-sehgal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhishek-sehgal/subscriptions", "organizations_url": "https://api.github.com/users/abhishek-sehgal/orgs", "repos_url": "https://api.github.com/users/abhishek-sehgal/repos", "events_url": "https://api.github.com/users/abhishek-sehgal/events{/privacy}", "received_events_url": "https://api.github.com/users/abhishek-sehgal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-17T22:45:21Z", "updated_at": "2018-01-23T23:02:25Z", "closed_at": "2018-01-19T20:32:12Z", "author_association": "NONE", "body_html": "<p>I've been trying to benchmark the model on mobile but I'm not able to build the model for Android. For desktop, I have been able to build and run the benchmark model.</p>\n<p>The machine I'm using is a MacBook pro 15 inch with High Sierra and tensorflow v.1.4</p>\n<p>I've been following the directions given at the following links:</p>\n<p>(<a href=\"https://www.tensorflow.org/mobile/optimizing#how_to_profile_your_model\" rel=\"nofollow\">https://www.tensorflow.org/mobile/optimizing#how_to_profile_your_model</a><br>\n<a href=\"https://github.com/tensorflow/tensorflow/tree/r1.4/tensorflow/tools/benchmark\">https://github.com/tensorflow/tensorflow/tree/r1.4/tensorflow/tools/benchmark</a>)</p>\n<p>Edit: Updated answer to the issue template</p>\n<p>Have I written custom code</p>\n<ul>\n<li>No custom code was written</li>\n</ul>\n<p>OS Platform and Distribution</p>\n<ul>\n<li>Mac OS High Sierra</li>\n</ul>\n<p>TensorFlow installed from</p>\n<ul>\n<li>Tensorflow installed from source</li>\n</ul>\n<p>TensorFlow version</p>\n<ul>\n<li>1.4</li>\n</ul>\n<p>Bazel version</p>\n<ul>\n<li>Bazel version 0.9.0</li>\n</ul>\n<p>CUDA/cuDNN version</p>\n<ul>\n<li>N/A</li>\n</ul>\n<p>GPU model and memory</p>\n<ul>\n<li>N/A</li>\n</ul>\n<p>Exact command to reproduce</p>\n<pre><code>bazel build -c opt --cpu=armeabi-v7a \\\n  --crosstool_top=//external:android/crosstool \\\n  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n  tensorflow/tools/benchmark:benchmark_model\n</code></pre>\n<p>Error message received</p>\n<pre><code>ERROR: /private/var/tmp/_bazel_abhisheksehgal/486c675b3107dc770b2281b905f670fe/external/highwayhash/BUILD:8:1: C++ compilation of rule '@highwayhash//:sip_hash' failed (Exit 1)\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\nIn file included from external/highwayhash/highwayhash/sip_hash.h:25:\nexternal/highwayhash/highwayhash/state_helpers.h:76:3: error: use of undeclared identifier 'static_assert'; did you mean 'static_cast'?\n  static_assert((kPacketSize &amp; (kPacketSize - 1)) == 0, \"Size must be 2^i.\");\n  ^\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\nexternal/highwayhash/highwayhash/sip_hash.h:33:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\n  using Key = HH_U64[2];\n              ^\nexternal/highwayhash/highwayhash/sip_hash.h:104:22: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing SipHashState = SipHashStateT&lt;2, 4&gt;;\n                     ^\nexternal/highwayhash/highwayhash/sip_hash.h:105:24: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing SipHash13State = SipHashStateT&lt;1, 3&gt;;\n                       ^\nexternal/highwayhash/highwayhash/sip_hash.cc:20:13: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing Key = highwayhash::SipHashState::Key;\n            ^\nexternal/highwayhash/highwayhash/sip_hash.cc:21:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing Key13 = highwayhash::SipHash13State::Key;\n              ^\n5 warnings and 1 error generated.\nTarget //tensorflow/tools/benchmark:benchmark_model failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.060s, Critical Path: 1.60s\nFAILED: Build did NOT complete successfully\n</code></pre>", "body_text": "I've been trying to benchmark the model on mobile but I'm not able to build the model for Android. For desktop, I have been able to build and run the benchmark model.\nThe machine I'm using is a MacBook pro 15 inch with High Sierra and tensorflow v.1.4\nI've been following the directions given at the following links:\n(https://www.tensorflow.org/mobile/optimizing#how_to_profile_your_model\nhttps://github.com/tensorflow/tensorflow/tree/r1.4/tensorflow/tools/benchmark)\nEdit: Updated answer to the issue template\nHave I written custom code\n\nNo custom code was written\n\nOS Platform and Distribution\n\nMac OS High Sierra\n\nTensorFlow installed from\n\nTensorflow installed from source\n\nTensorFlow version\n\n1.4\n\nBazel version\n\nBazel version 0.9.0\n\nCUDA/cuDNN version\n\nN/A\n\nGPU model and memory\n\nN/A\n\nExact command to reproduce\nbazel build -c opt --cpu=armeabi-v7a \\\n  --crosstool_top=//external:android/crosstool \\\n  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\n  tensorflow/tools/benchmark:benchmark_model\n\nError message received\nERROR: /private/var/tmp/_bazel_abhisheksehgal/486c675b3107dc770b2281b905f670fe/external/highwayhash/BUILD:8:1: C++ compilation of rule '@highwayhash//:sip_hash' failed (Exit 1)\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\nIn file included from external/highwayhash/highwayhash/sip_hash.h:25:\nexternal/highwayhash/highwayhash/state_helpers.h:76:3: error: use of undeclared identifier 'static_assert'; did you mean 'static_cast'?\n  static_assert((kPacketSize & (kPacketSize - 1)) == 0, \"Size must be 2^i.\");\n  ^\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\nexternal/highwayhash/highwayhash/sip_hash.h:33:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\n  using Key = HH_U64[2];\n              ^\nexternal/highwayhash/highwayhash/sip_hash.h:104:22: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing SipHashState = SipHashStateT<2, 4>;\n                     ^\nexternal/highwayhash/highwayhash/sip_hash.h:105:24: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing SipHash13State = SipHashStateT<1, 3>;\n                       ^\nexternal/highwayhash/highwayhash/sip_hash.cc:20:13: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing Key = highwayhash::SipHashState::Key;\n            ^\nexternal/highwayhash/highwayhash/sip_hash.cc:21:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\nusing Key13 = highwayhash::SipHash13State::Key;\n              ^\n5 warnings and 1 error generated.\nTarget //tensorflow/tools/benchmark:benchmark_model failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 2.060s, Critical Path: 1.60s\nFAILED: Build did NOT complete successfully", "body": "I've been trying to benchmark the model on mobile but I'm not able to build the model for Android. For desktop, I have been able to build and run the benchmark model.\r\n\r\nThe machine I'm using is a MacBook pro 15 inch with High Sierra and tensorflow v.1.4\r\n\r\nI've been following the directions given at the following links:\r\n\r\n(https://www.tensorflow.org/mobile/optimizing#how_to_profile_your_model\r\nhttps://github.com/tensorflow/tensorflow/tree/r1.4/tensorflow/tools/benchmark)\r\n\r\nEdit: Updated answer to the issue template\r\n\r\nHave I written custom code\r\n\r\n- No custom code was written\r\n\r\nOS Platform and Distribution\r\n\r\n- Mac OS High Sierra\r\n\r\nTensorFlow installed from\r\n\r\n- Tensorflow installed from source\r\n\r\nTensorFlow version\r\n\r\n- 1.4\r\n\r\nBazel version\r\n\r\n- Bazel version 0.9.0\r\n\r\nCUDA/cuDNN version\r\n\r\n- N/A\r\n\r\nGPU model and memory\r\n\r\n- N/A\r\n\r\nExact command to reproduce\r\n\r\n```\r\nbazel build -c opt --cpu=armeabi-v7a \\\r\n  --crosstool_top=//external:android/crosstool \\\r\n  --host_crosstool_top=@bazel_tools//tools/cpp:toolchain \\\r\n  tensorflow/tools/benchmark:benchmark_model\r\n```\r\n\r\nError message received\r\n\r\n```\r\nERROR: /private/var/tmp/_bazel_abhisheksehgal/486c675b3107dc770b2281b905f670fe/external/highwayhash/BUILD:8:1: C++ compilation of rule '@highwayhash//:sip_hash' failed (Exit 1)\r\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\r\nIn file included from external/highwayhash/highwayhash/sip_hash.h:25:\r\nexternal/highwayhash/highwayhash/state_helpers.h:76:3: error: use of undeclared identifier 'static_assert'; did you mean 'static_cast'?\r\n  static_assert((kPacketSize & (kPacketSize - 1)) == 0, \"Size must be 2^i.\");\r\n  ^\r\nIn file included from external/highwayhash/highwayhash/sip_hash.cc:15:\r\nexternal/highwayhash/highwayhash/sip_hash.h:33:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\r\n  using Key = HH_U64[2];\r\n              ^\r\nexternal/highwayhash/highwayhash/sip_hash.h:104:22: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\r\nusing SipHashState = SipHashStateT<2, 4>;\r\n                     ^\r\nexternal/highwayhash/highwayhash/sip_hash.h:105:24: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\r\nusing SipHash13State = SipHashStateT<1, 3>;\r\n                       ^\r\nexternal/highwayhash/highwayhash/sip_hash.cc:20:13: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\r\nusing Key = highwayhash::SipHashState::Key;\r\n            ^\r\nexternal/highwayhash/highwayhash/sip_hash.cc:21:15: warning: alias declarations are a C++11 extension [-Wc++11-extensions]\r\nusing Key13 = highwayhash::SipHash13State::Key;\r\n              ^\r\n5 warnings and 1 error generated.\r\nTarget //tensorflow/tools/benchmark:benchmark_model failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 2.060s, Critical Path: 1.60s\r\nFAILED: Build did NOT complete successfully\r\n```"}