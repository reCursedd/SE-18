{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/309219250", "html_url": "https://github.com/tensorflow/tensorflow/issues/10434#issuecomment-309219250", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10434", "id": 309219250, "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTIxOTI1MA==", "user": {"login": "kwotsin", "id": 11178344, "node_id": "MDQ6VXNlcjExMTc4MzQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/11178344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwotsin", "html_url": "https://github.com/kwotsin", "followers_url": "https://api.github.com/users/kwotsin/followers", "following_url": "https://api.github.com/users/kwotsin/following{/other_user}", "gists_url": "https://api.github.com/users/kwotsin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwotsin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwotsin/subscriptions", "organizations_url": "https://api.github.com/users/kwotsin/orgs", "repos_url": "https://api.github.com/users/kwotsin/repos", "events_url": "https://api.github.com/users/kwotsin/events{/privacy}", "received_events_url": "https://api.github.com/users/kwotsin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-17T14:44:35Z", "updated_at": "2017-06-17T14:46:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=11670670\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jeichel-miovision\">@jeichel-miovision</a> What is the full version of CUDA you're referring to? I installed my CUDA quite some time ago so I suspect it's an earlier version of CUDA 8.0. FYI my error is from building on a laptop, not the TX1.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a> I have tried to checkout with r1.2, and used <code>bazel clean</code> before I configured and built with bazel.</p>\n<p>I now have an error that goes like this:</p>\n<pre><code>ubuntu@host:~/tensorflow_official/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.\nINFO: Found 1 target...\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorBroadcasting.h(275): internal error: assertion failed at: \"/dvs/p4/build/sw/rel/gpu_drv/r361/r361_00/drivers/compiler/edg/EDG_4.10/src/folding.c\", line 9819\n\n\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001707_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\nCompilation aborted.\nAborted (core dumped)\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: output 'tensorflow/core/kernels/_objs/softmax_op_gpu/tensorflow/core/kernels/softmax_op_gpu.cu.pic.o' was not created.\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 115.511s, Critical Path: 114.86s\n`\n\n\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001223_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\nCompilation aborted.\nAborted (core dumped)\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3979096\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benbarsdell\">@benbarsdell</a> Here is the output of my <code>nvcc --version</code></p>\n<pre><code>nvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Fri_Jul_15_14:46:45_CDT_2016\nCuda compilation tools, release 8.0, V8.0.33\n\n</code></pre>\n<p>Also, how do you check the TF commit hash?</p>", "body_text": "@jeichel-miovision What is the full version of CUDA you're referring to? I installed my CUDA quite some time ago so I suspect it's an earlier version of CUDA 8.0. FYI my error is from building on a laptop, not the TX1.\n@martinwicke I have tried to checkout with r1.2, and used bazel clean before I configured and built with bazel.\nI now have an error that goes like this:\nubuntu@host:~/tensorflow_official/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.\nINFO: Found 1 target...\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorBroadcasting.h(275): internal error: assertion failed at: \"/dvs/p4/build/sw/rel/gpu_drv/r361/r361_00/drivers/compiler/edg/EDG_4.10/src/folding.c\", line 9819\n\n\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001707_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\nCompilation aborted.\nAborted (core dumped)\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: output 'tensorflow/core/kernels/_objs/softmax_op_gpu/tensorflow/core/kernels/softmax_op_gpu.cu.pic.o' was not created.\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: not all outputs were created or valid.\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nINFO: Elapsed time: 115.511s, Critical Path: 114.86s\n`\n\n\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001223_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\nCompilation aborted.\nAborted (core dumped)\n\n@benbarsdell Here is the output of my nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Fri_Jul_15_14:46:45_CDT_2016\nCuda compilation tools, release 8.0, V8.0.33\n\n\nAlso, how do you check the TF commit hash?", "body": "@jeichel-miovision What is the full version of CUDA you're referring to? I installed my CUDA quite some time ago so I suspect it's an earlier version of CUDA 8.0. FYI my error is from building on a laptop, not the TX1. \r\n\r\n@martinwicke I have tried to checkout with r1.2, and used `bazel clean` before I configured and built with bazel. \r\n\r\nI now have an error that goes like this:\r\n\r\n```\r\nubuntu@host:~/tensorflow_official/tensorflow$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package --verbose_failures\r\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': Use SavedModel Builder instead.\r\nWARNING: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': Use SavedModel instead.\r\nINFO: Found 1 target...\r\nINFO: From Compiling tensorflow/core/kernels/softmax_op_gpu.cu.cc:\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorBroadcasting.h(275): internal error: assertion failed at: \"/dvs/p4/build/sw/rel/gpu_drv/r361/r361_00/drivers/compiler/edg/EDG_4.10/src/folding.c\", line 9819\r\n\r\n\r\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001707_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\r\nCompilation aborted.\r\nAborted (core dumped)\r\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: output 'tensorflow/core/kernels/_objs/softmax_op_gpu/tensorflow/core/kernels/softmax_op_gpu.cu.pic.o' was not created.\r\nERROR: /home/kwotsin/tensorflow_official/tensorflow/tensorflow/core/kernels/BUILD:2749:1: not all outputs were created or valid.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 115.511s, Critical Path: 114.86s\r\n`\r\n\r\n\r\n1 catastrophic error detected in the compilation of \"/tmp/tmpxft_00001223_00000000-7_softmax_op_gpu.cu.cpp1.ii\".\r\nCompilation aborted.\r\nAborted (core dumped)\r\n```\r\n@benbarsdell Here is the output of my `nvcc --version`\r\n\r\n```\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2016 NVIDIA Corporation\r\nBuilt on Fri_Jul_15_14:46:45_CDT_2016\r\nCuda compilation tools, release 8.0, V8.0.33\r\n\r\n```\r\nAlso, how do you check the TF commit hash?\r\n"}