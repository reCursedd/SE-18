{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/315032301", "html_url": "https://github.com/tensorflow/tensorflow/issues/11411#issuecomment-315032301", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11411", "id": 315032301, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTAzMjMwMQ==", "user": {"login": "byronyi", "id": 2613663, "node_id": "MDQ6VXNlcjI2MTM2NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2613663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byronyi", "html_url": "https://github.com/byronyi", "followers_url": "https://api.github.com/users/byronyi/followers", "following_url": "https://api.github.com/users/byronyi/following{/other_user}", "gists_url": "https://api.github.com/users/byronyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/byronyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byronyi/subscriptions", "organizations_url": "https://api.github.com/users/byronyi/orgs", "repos_url": "https://api.github.com/users/byronyi/repos", "events_url": "https://api.github.com/users/byronyi/events{/privacy}", "received_events_url": "https://api.github.com/users/byronyi/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-13T09:58:36Z", "updated_at": "2017-07-13T10:36:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I just ran a <a href=\"https://gist.github.com/shamoya/731a81a1fe3d12a2b098f8163eaab7dd/\">similar script</a> in a 40Gbps RoCE setup for my GDR patch, and here's the result:</p>\n<pre><code>Adding data in 100 MB chunks\nLocal rate: 5243.48 MB per second\nDistributed rate: 2679.18 MB per second\n</code></pre>\n<p>Numbers for <code>grpc</code> and <code>grpc+verbs</code> are similar to what you got (~300 MB/s and ~1300MB/s).</p>\n<p>To try out the result in your own environment, do change the host to one of the IB interface address you actually use, as my patch will not work for <code>localhost</code> or <code>127.0.0.1</code>.</p>", "body_text": "I just ran a similar script in a 40Gbps RoCE setup for my GDR patch, and here's the result:\nAdding data in 100 MB chunks\nLocal rate: 5243.48 MB per second\nDistributed rate: 2679.18 MB per second\n\nNumbers for grpc and grpc+verbs are similar to what you got (~300 MB/s and ~1300MB/s).\nTo try out the result in your own environment, do change the host to one of the IB interface address you actually use, as my patch will not work for localhost or 127.0.0.1.", "body": "I just ran a [similar script](https://gist.github.com/shamoya/731a81a1fe3d12a2b098f8163eaab7dd/) in a 40Gbps RoCE setup for my GDR patch, and here's the result:\r\n\r\n```\r\nAdding data in 100 MB chunks\r\nLocal rate: 5243.48 MB per second\r\nDistributed rate: 2679.18 MB per second\r\n```\r\n\r\nNumbers for `grpc` and `grpc+verbs` are similar to what you got (~300 MB/s and ~1300MB/s).\r\n\r\nTo try out the result in your own environment, do change the host to one of the IB interface address you actually use, as my patch will not work for `localhost` or `127.0.0.1`."}