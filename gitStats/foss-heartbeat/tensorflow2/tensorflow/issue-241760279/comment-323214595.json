{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/323214595", "html_url": "https://github.com/tensorflow/tensorflow/issues/11411#issuecomment-323214595", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11411", "id": 323214595, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzIxNDU5NQ==", "user": {"login": "ahaider3", "id": 8320911, "node_id": "MDQ6VXNlcjgzMjA5MTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/8320911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahaider3", "html_url": "https://github.com/ahaider3", "followers_url": "https://api.github.com/users/ahaider3/followers", "following_url": "https://api.github.com/users/ahaider3/following{/other_user}", "gists_url": "https://api.github.com/users/ahaider3/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahaider3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahaider3/subscriptions", "organizations_url": "https://api.github.com/users/ahaider3/orgs", "repos_url": "https://api.github.com/users/ahaider3/repos", "events_url": "https://api.github.com/users/ahaider3/events{/privacy}", "received_events_url": "https://api.github.com/users/ahaider3/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-17T22:47:13Z", "updated_at": "2017-08-17T22:47:13Z", "author_association": "NONE", "body_html": "<p>I ran the tests again using TF 1.2 with the different extension protocols that I can run on my system. In my case, I can only use <code>grpc+verbs</code>.</p>\n<p>I found minimal to no benefit from using this protocol for my small model. I am measuring the throughput of fetching a parameter and then doing a GEMM.</p>\n<blockquote>\n<p>128 features; 32 batch size; 256 hidden layer size<br>\ngrpc:  192.81 MB/sec<br>\ngrpc+verbs: 179.18 MB/sec</p>\n</blockquote>\n<p>This was the average of three runs. I would conclude that these protocols are limited by GRPC because of the latency it introduces, as suggested by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=2613663\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byronyi\">@byronyi</a> .</p>\n<p>There has been interesting work by Uber to make communication all-around more efficient: <a href=\"https://github.com/uber/horovod\">https://github.com/uber/horovod</a></p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=49262\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jart\">@jart</a> what do you think about uber's method for distributed training.</p>", "body_text": "I ran the tests again using TF 1.2 with the different extension protocols that I can run on my system. In my case, I can only use grpc+verbs.\nI found minimal to no benefit from using this protocol for my small model. I am measuring the throughput of fetching a parameter and then doing a GEMM.\n\n128 features; 32 batch size; 256 hidden layer size\ngrpc:  192.81 MB/sec\ngrpc+verbs: 179.18 MB/sec\n\nThis was the average of three runs. I would conclude that these protocols are limited by GRPC because of the latency it introduces, as suggested by @byronyi .\nThere has been interesting work by Uber to make communication all-around more efficient: https://github.com/uber/horovod\n@jart what do you think about uber's method for distributed training.", "body": "I ran the tests again using TF 1.2 with the different extension protocols that I can run on my system. In my case, I can only use `grpc+verbs`.\r\n\r\nI found minimal to no benefit from using this protocol for my small model. I am measuring the throughput of fetching a parameter and then doing a GEMM. \r\n\r\n> 128 features; 32 batch size; 256 hidden layer size\r\ngrpc:  192.81 MB/sec\r\ngrpc+verbs: 179.18 MB/sec\r\n\r\nThis was the average of three runs. I would conclude that these protocols are limited by GRPC because of the latency it introduces, as suggested by @byronyi . \r\n\r\nThere has been interesting work by Uber to make communication all-around more efficient: https://github.com/uber/horovod\r\n\r\n@jart what do you think about uber's method for distributed training. "}