{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23902", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23902/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23902/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/23902/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/23902", "id": 383117897, "node_id": "MDU6SXNzdWUzODMxMTc4OTc=", "number": 23902, "title": "tensor.op.outputs is self-referential", "user": {"login": "shf3125", "id": 35732598, "node_id": "MDQ6VXNlcjM1NzMyNTk4", "avatar_url": "https://avatars1.githubusercontent.com/u/35732598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shf3125", "html_url": "https://github.com/shf3125", "followers_url": "https://api.github.com/users/shf3125/followers", "following_url": "https://api.github.com/users/shf3125/following{/other_user}", "gists_url": "https://api.github.com/users/shf3125/gists{/gist_id}", "starred_url": "https://api.github.com/users/shf3125/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shf3125/subscriptions", "organizations_url": "https://api.github.com/users/shf3125/orgs", "repos_url": "https://api.github.com/users/shf3125/repos", "events_url": "https://api.github.com/users/shf3125/events{/privacy}", "received_events_url": "https://api.github.com/users/shf3125/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-21T13:27:44Z", "updated_at": "2018-11-21T19:17:38Z", "closed_at": "2018-11-21T19:16:42Z", "author_association": "NONE", "body_html": "<p>To be honest, I don't know if this is a \"verified\" bug. But I've tried many things, narrowed it down to a really simple reproducible case, read the documentation, <a href=\"https://stackoverflow.com/questions/53409455/how-do-i-find-the-output-of-a-tensor-and-or-op-in-tensorflow-or-tensorflow-op\" rel=\"nofollow\">asked on SO</a>, and at this point think it's either a bug, or something so unapparent that it might as well be fixed as though it <em>were</em> a bug...So I'm thinking this belongs here as well, even if I do get an answer on SO.<br>\nThe issue is as follows (practically replicated from the SO version of my question):<br>\nI have a tensor, and I'd like to find \"where it leads\" for various reasons. The way to theoretically do this would be to just look at my_tensor.op.outputs, as per documentation and such, but this always seems to point back to my_tensor itself!<br>\nI've easily gone the other way before, meaning I can get the input tensor by using my_tensor.op.inputs, but for some reason \"outputs\" isn't doing the expected.<br>\nHere's a simple example:</p>\n<pre><code>import tensorflow as tf\n\na = tf.placeholder(tf.uint8, name='a')\nb = tf.placeholder(tf.uint8, name='b')\nmy_sum = tf.identity(a + b, name='my_sum')\ngraph = tf.get_default_graph()\n\n# I should have 4 ops at this point, as validated by:\nprint(graph.get_operations())\n&gt;&gt; [&lt;tf.Operation 'a' type=Placeholder&gt;, &lt;tf.Operation 'b' type=Placeholder&gt;, &lt;tf.Operation 'add' type=Add&gt;, &lt;tf.Operation 'my_sum' type=Identity&gt;]\n\n# So let's try get the output of 'a':\nprint(list(a.op.outputs))\n&gt;&gt; [&lt;tf.Tensor 'a:0' shape=&lt;unknown&gt; dtype=uint8&gt;]\n</code></pre>\n<p>If you tried the above, you'll see you got back to 'a'...<br>\nAgain, running my_sum.op.inputs gives the 'add' op, and running even further back get's us to 'a' and 'b' as expected:</p>\n<pre><code>input_to_my_sum = list(my_sum.op.inputs)[0]\nprint(input_to_my_sum)\n&gt;&gt; Tensor(\"add:0\", dtype=uint8)\n\nprint(list(input_to_my_sum.op.inputs))\n&gt;&gt; [&lt;tf.Tensor 'a:0' shape=&lt;unknown&gt; dtype=uint8&gt;, &lt;tf.Tensor 'b:0' shape=&lt;unknown&gt; dtype=uint8&gt;]\n</code></pre>\n<p>But the other way round? No such luck:</p>\n<pre><code>print(list(input_to_my_sum.op.outputs))\n&gt;&gt; [&lt;tf.Tensor 'add:0' shape=&lt;unknown&gt; dtype=uint8&gt;]\n\nprint('This is no fun at all')\n&gt;&gt; This is no fun at all\n</code></pre>\n<p>So what am I doing wrong?<br>\nI've also tried using the (deprecated) op.values() with no success, and I'm confused because the documentation explicitly states that this should give me the outputs of the op (from <a href=\"\">https://www.tensorflow.org/api_docs/python/tf/Operation</a>):</p>\n<blockquote>\n<p>outputs<br>\nThe list of Tensor objects representing the outputs of this op.</p>\n</blockquote>\n<p>(I checked that a.op.<strong>class</strong> is the right class and that I'm reading the correct documentation).</p>\n<p>And just to wrap things up, the node_def of the ops also shows no signs of an output field....<br>\nThanks in advance for any advice!</p>\n<p>BTW, this is my first post and I might be doing something wrong. Let me know if that's the case and I'll try and fix it.</p>\n<p>P.S: Using tf 1.8.0 for what it's worth.</p>", "body_text": "To be honest, I don't know if this is a \"verified\" bug. But I've tried many things, narrowed it down to a really simple reproducible case, read the documentation, asked on SO, and at this point think it's either a bug, or something so unapparent that it might as well be fixed as though it were a bug...So I'm thinking this belongs here as well, even if I do get an answer on SO.\nThe issue is as follows (practically replicated from the SO version of my question):\nI have a tensor, and I'd like to find \"where it leads\" for various reasons. The way to theoretically do this would be to just look at my_tensor.op.outputs, as per documentation and such, but this always seems to point back to my_tensor itself!\nI've easily gone the other way before, meaning I can get the input tensor by using my_tensor.op.inputs, but for some reason \"outputs\" isn't doing the expected.\nHere's a simple example:\nimport tensorflow as tf\n\na = tf.placeholder(tf.uint8, name='a')\nb = tf.placeholder(tf.uint8, name='b')\nmy_sum = tf.identity(a + b, name='my_sum')\ngraph = tf.get_default_graph()\n\n# I should have 4 ops at this point, as validated by:\nprint(graph.get_operations())\n>> [<tf.Operation 'a' type=Placeholder>, <tf.Operation 'b' type=Placeholder>, <tf.Operation 'add' type=Add>, <tf.Operation 'my_sum' type=Identity>]\n\n# So let's try get the output of 'a':\nprint(list(a.op.outputs))\n>> [<tf.Tensor 'a:0' shape=<unknown> dtype=uint8>]\n\nIf you tried the above, you'll see you got back to 'a'...\nAgain, running my_sum.op.inputs gives the 'add' op, and running even further back get's us to 'a' and 'b' as expected:\ninput_to_my_sum = list(my_sum.op.inputs)[0]\nprint(input_to_my_sum)\n>> Tensor(\"add:0\", dtype=uint8)\n\nprint(list(input_to_my_sum.op.inputs))\n>> [<tf.Tensor 'a:0' shape=<unknown> dtype=uint8>, <tf.Tensor 'b:0' shape=<unknown> dtype=uint8>]\n\nBut the other way round? No such luck:\nprint(list(input_to_my_sum.op.outputs))\n>> [<tf.Tensor 'add:0' shape=<unknown> dtype=uint8>]\n\nprint('This is no fun at all')\n>> This is no fun at all\n\nSo what am I doing wrong?\nI've also tried using the (deprecated) op.values() with no success, and I'm confused because the documentation explicitly states that this should give me the outputs of the op (from https://www.tensorflow.org/api_docs/python/tf/Operation):\n\noutputs\nThe list of Tensor objects representing the outputs of this op.\n\n(I checked that a.op.class is the right class and that I'm reading the correct documentation).\nAnd just to wrap things up, the node_def of the ops also shows no signs of an output field....\nThanks in advance for any advice!\nBTW, this is my first post and I might be doing something wrong. Let me know if that's the case and I'll try and fix it.\nP.S: Using tf 1.8.0 for what it's worth.", "body": "To be honest, I don't know if this is a \"verified\" bug. But I've tried many things, narrowed it down to a really simple reproducible case, read the documentation, [asked on SO](https://stackoverflow.com/questions/53409455/how-do-i-find-the-output-of-a-tensor-and-or-op-in-tensorflow-or-tensorflow-op), and at this point think it's either a bug, or something so unapparent that it might as well be fixed as though it _were_ a bug...So I'm thinking this belongs here as well, even if I do get an answer on SO.  \r\nThe issue is as follows (practically replicated from the SO version of my question):\r\nI have a tensor, and I'd like to find \"where it leads\" for various reasons. The way to theoretically do this would be to just look at my_tensor.op.outputs, as per documentation and such, but this always seems to point back to my_tensor itself!\r\nI've easily gone the other way before, meaning I can get the input tensor by using my_tensor.op.inputs, but for some reason \"outputs\" isn't doing the expected.\r\nHere's a simple example:\r\n\r\n    import tensorflow as tf\r\n    \r\n    a = tf.placeholder(tf.uint8, name='a')\r\n    b = tf.placeholder(tf.uint8, name='b')\r\n    my_sum = tf.identity(a + b, name='my_sum')\r\n    graph = tf.get_default_graph()\r\n    \r\n    # I should have 4 ops at this point, as validated by:\r\n    print(graph.get_operations())\r\n    >> [<tf.Operation 'a' type=Placeholder>, <tf.Operation 'b' type=Placeholder>, <tf.Operation 'add' type=Add>, <tf.Operation 'my_sum' type=Identity>]\r\n    \r\n    # So let's try get the output of 'a':\r\n    print(list(a.op.outputs))\r\n    >> [<tf.Tensor 'a:0' shape=<unknown> dtype=uint8>]\r\nIf you tried the above, you'll see you got back to 'a'...\r\nAgain, running my_sum.op.inputs gives the 'add' op, and running even further back get's us to 'a' and 'b' as expected:\r\n\r\n    input_to_my_sum = list(my_sum.op.inputs)[0]\r\n    print(input_to_my_sum)\r\n    >> Tensor(\"add:0\", dtype=uint8)\r\n    \r\n    print(list(input_to_my_sum.op.inputs))\r\n    >> [<tf.Tensor 'a:0' shape=<unknown> dtype=uint8>, <tf.Tensor 'b:0' shape=<unknown> dtype=uint8>]\r\nBut the other way round? No such luck:\r\n\r\n    print(list(input_to_my_sum.op.outputs))\r\n    >> [<tf.Tensor 'add:0' shape=<unknown> dtype=uint8>]\r\n    \r\n    print('This is no fun at all')\r\n    >> This is no fun at all\r\nSo what am I doing wrong?\r\nI've also tried using the (deprecated) op.values() with no success, and I'm confused because the documentation explicitly states that this should give me the outputs of the op (from [https://www.tensorflow.org/api_docs/python/tf/Operation]()):\r\n\r\n>outputs\r\n>The list of Tensor objects representing the outputs of this op.\r\n\r\n(I checked that a.op.__class__ is the right class and that I'm reading the correct documentation).\r\n\r\nAnd just to wrap things up, the node_def of the ops also shows no signs of an output field....\r\nThanks in advance for any advice!\r\n \r\nBTW, this is my first post and I might be doing something wrong. Let me know if that's the case and I'll try and fix it.\r\n\r\nP.S: Using tf 1.8.0 for what it's worth.\r\n"}