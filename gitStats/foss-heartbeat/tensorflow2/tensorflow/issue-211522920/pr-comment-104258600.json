{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/104258600", "pull_request_review_id": 25087663, "id": 104258600, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNDI1ODYwMA==", "diff_hunk": "@@ -441,5 +442,53 @@ def testTransposedStatistics(self):\n           self.assertEqual(7200, flops)\n \n \n+# @ operator supported since python 3.5.\n+if sys.version_info >= (3, 5):\n+  # Use eval() to avoid a compilation error on earlier versions.\n+  infix_matmul = lambda x, y: eval(\"x @ y\")", "path": "tensorflow/python/kernel_tests/matmul_op_test.py", "position": null, "original_position": 15, "commit_id": "203322faeaa0a1fa8ac900cc5cb3d21f8ec21036", "original_commit_id": "67d1ced18d223f2ec1a12f65845aee60af8f51ea", "user": {"login": "shoyer", "id": 1217238, "node_id": "MDQ6VXNlcjEyMTcyMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shoyer", "html_url": "https://github.com/shoyer", "followers_url": "https://api.github.com/users/shoyer/followers", "following_url": "https://api.github.com/users/shoyer/following{/other_user}", "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions", "organizations_url": "https://api.github.com/users/shoyer/orgs", "repos_url": "https://api.github.com/users/shoyer/repos", "events_url": "https://api.github.com/users/shoyer/events{/privacy}", "received_events_url": "https://api.github.com/users/shoyer/received_events", "type": "User", "site_admin": false}, "body": "Instead, try:\r\n```python\r\nimport operator\r\n\r\ntry:\r\n    infix_matmul = operator.matmul\r\nexcept AttributeError:\r\n    def infix_matmul(x, y):\r\n        ...\r\n```\r\n\r\nIt avoids eval and explicit sys.version_info checks", "created_at": "2017-03-03T22:50:09Z", "updated_at": "2017-03-07T10:31:30Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/8032#discussion_r104258600", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8032", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/104258600"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/8032#discussion_r104258600"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/8032"}}, "body_html": "<p>Instead, try:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> operator\n\n<span class=\"pl-k\">try</span>:\n    infix_matmul <span class=\"pl-k\">=</span> operator.matmul\n<span class=\"pl-k\">except</span> <span class=\"pl-c1\">AttributeError</span>:\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">infix_matmul</span>(<span class=\"pl-smi\">x</span>, <span class=\"pl-smi\">y</span>):\n        <span class=\"pl-c1\">...</span></pre></div>\n<p>It avoids eval and explicit sys.version_info checks</p>", "body_text": "Instead, try:\nimport operator\n\ntry:\n    infix_matmul = operator.matmul\nexcept AttributeError:\n    def infix_matmul(x, y):\n        ...\nIt avoids eval and explicit sys.version_info checks"}