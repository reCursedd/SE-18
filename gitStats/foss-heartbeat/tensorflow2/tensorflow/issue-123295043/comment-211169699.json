{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/211169699", "html_url": "https://github.com/tensorflow/tensorflow/issues/580#issuecomment-211169699", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/580", "id": 211169699, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTE2OTY5OQ==", "user": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-18T03:13:56Z", "updated_at": "2016-04-18T03:23:04Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6969686\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benoitsteiner\">@benoitsteiner</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=266731\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wicke\">@wicke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=463737\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vrv\">@vrv</a></p>\n<p>Update: The build agents have Xeon CPUs, which don't support AVX2. Perhaps that's the cause of the failures below. If this is confirmed, there is no action required on this issue.</p>\n<p>Not sure if a new issue should be created since it has been three months since this issue was closed. But today I noticed a large number of test errors while doing<br>\n<code>bazel test -c opt --copt=-mavx2 //tensorflow/...</code><br>\non the master branch, as a part of the effort to add mavx/mavx2 build to Jenkins.</p>\n<blockquote>\n<p>Executed 414 out of 416 tests: 356 tests pass and 60 fail locally.</p>\n</blockquote>\n<p>The logs from the individual failed test failures are not especially informative. For example:</p>\n<blockquote>\n<p>==================== Test output for //tensorflow/python:matmul_op_test:<br>\nexternal/bazel_tools/tools/test/test-setup.sh: line 52:  7125 Illegal instruction     (core dumped) \"$@\"</p>\n</blockquote>\n<p>Testing with --copt=-mavx or no AVX flag didn't see any failures.</p>", "body_text": "@benoitsteiner @wicke @vrv\nUpdate: The build agents have Xeon CPUs, which don't support AVX2. Perhaps that's the cause of the failures below. If this is confirmed, there is no action required on this issue.\nNot sure if a new issue should be created since it has been three months since this issue was closed. But today I noticed a large number of test errors while doing\nbazel test -c opt --copt=-mavx2 //tensorflow/...\non the master branch, as a part of the effort to add mavx/mavx2 build to Jenkins.\n\nExecuted 414 out of 416 tests: 356 tests pass and 60 fail locally.\n\nThe logs from the individual failed test failures are not especially informative. For example:\n\n==================== Test output for //tensorflow/python:matmul_op_test:\nexternal/bazel_tools/tools/test/test-setup.sh: line 52:  7125 Illegal instruction     (core dumped) \"$@\"\n\nTesting with --copt=-mavx or no AVX flag didn't see any failures.", "body": "@benoitsteiner @wicke @vrv \n\nUpdate: The build agents have Xeon CPUs, which don't support AVX2. Perhaps that's the cause of the failures below. If this is confirmed, there is no action required on this issue.\n\nNot sure if a new issue should be created since it has been three months since this issue was closed. But today I noticed a large number of test errors while doing \n`bazel test -c opt --copt=-mavx2 //tensorflow/...`\non the master branch, as a part of the effort to add mavx/mavx2 build to Jenkins.\n\n> Executed 414 out of 416 tests: 356 tests pass and 60 fail locally.\n\nThe logs from the individual failed test failures are not especially informative. For example: \n\n> ==================== Test output for //tensorflow/python:matmul_op_test:\n> external/bazel_tools/tools/test/test-setup.sh: line 52:  7125 Illegal instruction     (core dumped) \"$@\"\n\nTesting with --copt=-mavx or no AVX flag didn't see any failures.\n"}