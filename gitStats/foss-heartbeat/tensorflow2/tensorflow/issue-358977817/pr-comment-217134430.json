{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/217134430", "pull_request_review_id": 154776269, "id": 217134430, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzEzNDQzMA==", "diff_hunk": "@@ -0,0 +1,437 @@\n+/* Copyright 2018 The TensorFlow Authors. All Rights Reserved.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+==============================================================================*/\n+\n+#include \"ignite_dataset_iterator.h\"\n+\n+#include \"ignite_plain_client.h\"\n+#include \"ignite_ssl_wrapper.h\"\n+#include \"tensorflow/core/platform/logging.h\"\n+\n+#include <time.h>\n+#include <chrono>\n+\n+namespace tensorflow {\n+\n+IgniteDatasetIterator::IgniteDatasetIterator(\n+    const Params& params, std::string host, int32 port, std::string cache_name,\n+    bool local, int32 part, int32 page_size, std::string username,\n+    std::string password, std::string certfile, std::string keyfile,\n+    std::string cert_password, std::vector<int32> schema,\n+    std::vector<int32> permutation)\n+    : DatasetIterator<IgniteDataset>(params),\n+      cache_name_(cache_name),\n+      local_(local),\n+      part_(part),\n+      page_size_(page_size),\n+      username_(username),\n+      password_(password),\n+      schema_(schema),\n+      permutation_(permutation),\n+      remainder_(-1),\n+      cursor_id_(-1),\n+      last_page_(false) {\n+  Client* p_client = new PlainClient(host, port);\n+\n+  if (certfile.empty())\n+    client_ = std::unique_ptr<Client>(p_client);\n+  else\n+    client_ = std::unique_ptr<Client>(new SslWrapper(", "path": "tensorflow/contrib/ignite/kernels/ignite_dataset_iterator.cc", "position": null, "original_position": 50, "commit_id": "90c68770467701a23d23a85c5d769f6f4fa39f0f", "original_commit_id": "0b6654bc223f4f3807209043dc34ccb07b55474e", "user": {"login": "dmitrievanthony", "id": 1028969, "node_id": "MDQ6VXNlcjEwMjg5Njk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1028969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmitrievanthony", "html_url": "https://github.com/dmitrievanthony", "followers_url": "https://api.github.com/users/dmitrievanthony/followers", "following_url": "https://api.github.com/users/dmitrievanthony/following{/other_user}", "gists_url": "https://api.github.com/users/dmitrievanthony/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmitrievanthony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmitrievanthony/subscriptions", "organizations_url": "https://api.github.com/users/dmitrievanthony/orgs", "repos_url": "https://api.github.com/users/dmitrievanthony/repos", "events_url": "https://api.github.com/users/dmitrievanthony/events{/privacy}", "received_events_url": "https://api.github.com/users/dmitrievanthony/received_events", "type": "User", "site_admin": false}, "body": "All things that might fail are placed in `Connect` and `InitSslContext` methods (including access to files), so what you suggest is already implemented actually. `Status` will be returned from `Connect` from the place where this `Connect` is called (`IgniteDatasetIterator::GetNextInternal` generally speaking).", "created_at": "2018-09-12T18:07:18Z", "updated_at": "2018-09-24T09:16:00Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/22210#discussion_r217134430", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22210", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/217134430"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/22210#discussion_r217134430"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/22210"}}, "body_html": "<p>All things that might fail are placed in <code>Connect</code> and <code>InitSslContext</code> methods (including access to files), so what you suggest is already implemented actually. <code>Status</code> will be returned from <code>Connect</code> from the place where this <code>Connect</code> is called (<code>IgniteDatasetIterator::GetNextInternal</code> generally speaking).</p>", "body_text": "All things that might fail are placed in Connect and InitSslContext methods (including access to files), so what you suggest is already implemented actually. Status will be returned from Connect from the place where this Connect is called (IgniteDatasetIterator::GetNextInternal generally speaking).", "in_reply_to_id": 216697691}