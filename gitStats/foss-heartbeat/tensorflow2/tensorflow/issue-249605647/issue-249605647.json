{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12213", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12213/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12213/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12213/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12213", "id": 249605647, "node_id": "MDU6SXNzdWUyNDk2MDU2NDc=", "number": 12213, "title": "Including scatter_nd in android ops crashes.", "user": {"login": "anandcu3", "id": 13032916, "node_id": "MDQ6VXNlcjEzMDMyOTE2", "avatar_url": "https://avatars0.githubusercontent.com/u/13032916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anandcu3", "html_url": "https://github.com/anandcu3", "followers_url": "https://api.github.com/users/anandcu3/followers", "following_url": "https://api.github.com/users/anandcu3/following{/other_user}", "gists_url": "https://api.github.com/users/anandcu3/gists{/gist_id}", "starred_url": "https://api.github.com/users/anandcu3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anandcu3/subscriptions", "organizations_url": "https://api.github.com/users/anandcu3/orgs", "repos_url": "https://api.github.com/users/anandcu3/repos", "events_url": "https://api.github.com/users/anandcu3/events{/privacy}", "received_events_url": "https://api.github.com/users/anandcu3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-11T11:16:48Z", "updated_at": "2018-06-12T10:18:29Z", "closed_at": "2017-08-17T19:16:28Z", "author_association": "NONE", "body_html": "<p>System information</p>\n<ul>\n<li>\n<p>Have I written custom code (as opposed to using a stock example script provided in TensorFlow):<br>\nYes (as described below)</p>\n</li>\n<li>\n<p>OS Platform and Distribution (e.g., Linux Ubuntu 16.04):<br>\nUbuntu 16 64 bit</p>\n</li>\n<li>\n<p>TensorFlow installed from (source or binary):<br>\nSource</p>\n</li>\n<li>\n<p>TensorFlow version :<br>\n1.2.1 (Perhaps using a newer version may fix the issue)</p>\n</li>\n<li>\n<p>Bazel version (if compiling from source):<br>\nBuild label: 0.5.3</p>\n</li>\n<li>\n<p>Exact command to reproduce:</p>\n</li>\n</ul>\n<p><code>bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=armeabi-v7a --verbose_failures</code></p>\n<p>I'm trying to port a encoder-decoder net model to android and I was able to add all the required operations to the core_ops/ extended_ops and compile it.<br>\nThe last method that needs to be included in the scatter_nd Operation for unpooling (I'm using a custom implementation which uses scatter_nd from here <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"151878335\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2169\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2169/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2169\">#2169</a>).</p>\n<p>I included the</p>\n<p><code>\"scatter_nd_op.h\" in filegroup: \"mobile_srcs\" </code></p>\n<pre><code>\"scatter_nd_op.h\",\n\"scatter_nd_op.cc\", in filegroup: \"android_core_ops\"\n</code></pre>\n<p>I also commented out the line</p>\n<p><code>\"scatter_nd_op*\", in exclude[] filegroup : \"android_all_ops\"</code></p>\n<p>and tried to compile.</p>\n<p>Error Message:</p>\n<pre><code>tensorflow/core/kernels/scatter_nd_op.cc:373: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 5u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:372: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 4u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:371: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 3u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:370: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 2u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:369: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 1u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:255: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 5u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:254: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 4u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:253: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 3u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:252: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 2u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\ntensorflow/core/kernels/scatter_nd_op.cc:251: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor&lt;Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1&gt;::operator()(Eigen::ThreadPoolDevice const&amp;, int, Eigen::array&lt;int, 1u&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int const, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;, Eigen::TensorMap&lt;Eigen::Tensor&lt;int, 2, 1, int&gt;, 16, Eigen::MakePointer&gt;)'\n</code></pre>\n<p>Do I need to add any more dependencies to the BUILD file.</p>\n<p>Or are there any alternatives to scatter_nd which can be used in Android ?</p>\n<p>Thanks</p>", "body_text": "System information\n\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\nYes (as described below)\n\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04):\nUbuntu 16 64 bit\n\n\nTensorFlow installed from (source or binary):\nSource\n\n\nTensorFlow version :\n1.2.1 (Perhaps using a newer version may fix the issue)\n\n\nBazel version (if compiling from source):\nBuild label: 0.5.3\n\n\nExact command to reproduce:\n\n\nbazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=armeabi-v7a --verbose_failures\nI'm trying to port a encoder-decoder net model to android and I was able to add all the required operations to the core_ops/ extended_ops and compile it.\nThe last method that needs to be included in the scatter_nd Operation for unpooling (I'm using a custom implementation which uses scatter_nd from here #2169).\nI included the\n\"scatter_nd_op.h\" in filegroup: \"mobile_srcs\" \n\"scatter_nd_op.h\",\n\"scatter_nd_op.cc\", in filegroup: \"android_core_ops\"\n\nI also commented out the line\n\"scatter_nd_op*\", in exclude[] filegroup : \"android_all_ops\"\nand tried to compile.\nError Message:\ntensorflow/core/kernels/scatter_nd_op.cc:373: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 5u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:372: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 4u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:371: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 3u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:370: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 2u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:369: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 1u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:255: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 5u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:254: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 4u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:253: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 3u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:252: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 2u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\ntensorflow/core/kernels/scatter_nd_op.cc:251: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 1u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\n\nDo I need to add any more dependencies to the BUILD file.\nOr are there any alternatives to scatter_nd which can be used in Android ?\nThanks", "body": "System information\r\n \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): \r\nYes (as described below)\r\n \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): \r\nUbuntu 16 64 bit\r\n \r\n- TensorFlow installed from (source or binary): \r\nSource\r\n \r\n- TensorFlow version : \r\n1.2.1 (Perhaps using a newer version may fix the issue)\r\n \r\n- Bazel version (if compiling from source): \r\nBuild label: 0.5.3\r\n \r\n- Exact command to reproduce:\r\n\r\n`bazel build -c opt //tensorflow/contrib/android:libtensorflow_inference.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=armeabi-v7a --verbose_failures`\r\n\r\n\r\nI'm trying to port a encoder-decoder net model to android and I was able to add all the required operations to the core_ops/ extended_ops and compile it.\r\nThe last method that needs to be included in the scatter_nd Operation for unpooling (I'm using a custom implementation which uses scatter_nd from here https://github.com/tensorflow/tensorflow/issues/2169).\r\n\r\nI included the \r\n\r\n`\"scatter_nd_op.h\" in filegroup: \"mobile_srcs\" `\r\n\r\n```\r\n\"scatter_nd_op.h\",\r\n\"scatter_nd_op.cc\", in filegroup: \"android_core_ops\"\r\n```\r\n\r\nI also commented out the line \r\n\r\n`\"scatter_nd_op*\", in exclude[] filegroup : \"android_all_ops\"`\r\n\r\nand tried to compile.\r\n\r\nError Message:\r\n\r\n```\r\ntensorflow/core/kernels/scatter_nd_op.cc:373: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 5u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:372: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 4u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:371: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 3u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:370: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 2u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:369: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 1u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:255: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 5>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 5u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:254: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 4>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 4u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:253: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 3>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 3u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:252: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 2>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 2u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\ntensorflow/core/kernels/scatter_nd_op.cc:251: error: undefined reference to 'tensorflow::functor::ScatterNdFunctor<Eigen::ThreadPoolDevice, int, int, (tensorflow::scatter_nd_op::UpdateOp)1, 1>::operator()(Eigen::ThreadPoolDevice const&, int, Eigen::array<int, 1u>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int const, 2, 1, int>, 16, Eigen::MakePointer>, Eigen::TensorMap<Eigen::Tensor<int, 2, 1, int>, 16, Eigen::MakePointer>)'\r\n```\r\n\r\nDo I need to add any more dependencies to the BUILD file. \r\n\r\nOr are there any alternatives to scatter_nd which can be used in Android ?\r\n\r\nThanks"}