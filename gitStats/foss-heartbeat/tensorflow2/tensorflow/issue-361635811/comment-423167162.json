{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/423167162", "html_url": "https://github.com/tensorflow/tensorflow/issues/22374#issuecomment-423167162", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22374", "id": 423167162, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzE2NzE2Mg==", "user": {"login": "Yangxiu123321", "id": 29605999, "node_id": "MDQ6VXNlcjI5NjA1OTk5", "avatar_url": "https://avatars3.githubusercontent.com/u/29605999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yangxiu123321", "html_url": "https://github.com/Yangxiu123321", "followers_url": "https://api.github.com/users/Yangxiu123321/followers", "following_url": "https://api.github.com/users/Yangxiu123321/following{/other_user}", "gists_url": "https://api.github.com/users/Yangxiu123321/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yangxiu123321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yangxiu123321/subscriptions", "organizations_url": "https://api.github.com/users/Yangxiu123321/orgs", "repos_url": "https://api.github.com/users/Yangxiu123321/repos", "events_url": "https://api.github.com/users/Yangxiu123321/events{/privacy}", "received_events_url": "https://api.github.com/users/Yangxiu123321/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-20T12:38:02Z", "updated_at": "2018-09-20T12:38:02Z", "author_association": "NONE", "body_html": "<h3>OS platform:ubuntu:16.04</h3>\n<h3>ensorflow install from source code</h3>\n<h3>tensorflow version:1.11(master branch)</h3>\n<h3>Bazel version:0.17.1</h3>\n<h3>CPU</h3>\n<h2>1\u3001comand:</h2>\n<p>bazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_cc.so<br>\nbazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_framework.so</p>\n<p>sudo mkdir /usr/local/include/tf<br>\nsudo mkdir /usr/local/include/tf/tensorflow<br>\nsudo cp -r bazel-genfiles/ /usr/include/tf<br>\nsudo cp -r tensorflow/cc /usr/include/tf/tensorflow<br>\nsudo cp -r tensorflow/core /usr/include/tf/tensorflow<br>\nsudo cp -r third_party /usr/include/tf<br>\nsudo cp -r bazel-bin/tensorflow/libtensorflow_cc.so /usr/local/lib<br>\nsudo cp -r bazel-bin/tensorflow/libtensorflow_framework.so /usr/local/lib</p>\n<h2>2\u3001code:</h2>\n<p>#include \"tensorflow/core/public/session.h\"<br>\n#include \"tensorflow/core/platform/env.h\"</p>\n<p>using namespace std;<br>\nusing namespace chrono;<br>\nusing namespace tensorflow;<br>\nint main(int argc, char* argv[]) {<br>\n// SessionOptions options;<br>\n// std::unique_ptrtensorflow::Session session(tensorflow::NewSession(options));<br>\nSession *session = NewSession(SessionOptions());<br>\nif(session == nullptr)<br>\n{<br>\nthrow runtime_error(\"Could not create tensorflow session\");<br>\n}<br>\nStatus status = session-&gt;Close();<br>\nreturn 0;<br>\n}</p>\n<h2>3\u3001the status is status.ok() is right,but the error is \"*** stack smashing detected ***: terminated \u5df2\u653e\u5f03 (\u6838\u5fc3\u5df2\u8f6c\u50a8)\"</h2>", "body_text": "OS platform:ubuntu:16.04\nensorflow install from source code\ntensorflow version:1.11(master branch)\nBazel version:0.17.1\nCPU\n1\u3001comand:\nbazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_cc.so\nbazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_framework.so\nsudo mkdir /usr/local/include/tf\nsudo mkdir /usr/local/include/tf/tensorflow\nsudo cp -r bazel-genfiles/ /usr/include/tf\nsudo cp -r tensorflow/cc /usr/include/tf/tensorflow\nsudo cp -r tensorflow/core /usr/include/tf/tensorflow\nsudo cp -r third_party /usr/include/tf\nsudo cp -r bazel-bin/tensorflow/libtensorflow_cc.so /usr/local/lib\nsudo cp -r bazel-bin/tensorflow/libtensorflow_framework.so /usr/local/lib\n2\u3001code:\n#include \"tensorflow/core/public/session.h\"\n#include \"tensorflow/core/platform/env.h\"\nusing namespace std;\nusing namespace chrono;\nusing namespace tensorflow;\nint main(int argc, char* argv[]) {\n// SessionOptions options;\n// std::unique_ptrtensorflow::Session session(tensorflow::NewSession(options));\nSession *session = NewSession(SessionOptions());\nif(session == nullptr)\n{\nthrow runtime_error(\"Could not create tensorflow session\");\n}\nStatus status = session->Close();\nreturn 0;\n}\n3\u3001the status is status.ok() is right,but the error is \"*** stack smashing detected ***: terminated \u5df2\u653e\u5f03 (\u6838\u5fc3\u5df2\u8f6c\u50a8)\"", "body": "### OS platform:ubuntu:16.04\r\n### ensorflow install from source code\r\n### tensorflow version:1.11(master branch)\r\n### Bazel version:0.17.1\r\n### CPU\r\n## 1\u3001comand:\r\nbazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_cc.so\r\nbazel build --copt=-mavx --copt=-mavx2 --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --config=monolithic //tensorflow:libtensorflow_framework.so\r\n\r\nsudo mkdir /usr/local/include/tf\r\nsudo mkdir /usr/local/include/tf/tensorflow\r\nsudo cp -r bazel-genfiles/ /usr/include/tf\r\nsudo cp -r tensorflow/cc /usr/include/tf/tensorflow\r\nsudo cp -r tensorflow/core /usr/include/tf/tensorflow\r\nsudo cp -r third_party /usr/include/tf\r\nsudo cp -r bazel-bin/tensorflow/libtensorflow_cc.so /usr/local/lib\r\nsudo cp -r bazel-bin/tensorflow/libtensorflow_framework.so /usr/local/lib\r\n## 2\u3001code:\r\n#include \"tensorflow/core/public/session.h\"\r\n#include \"tensorflow/core/platform/env.h\"\r\n\r\nusing namespace std;\r\nusing namespace chrono;\r\nusing namespace tensorflow;\r\nint main(int argc, char* argv[]) {\r\n// SessionOptions options;\r\n// std::unique_ptrtensorflow::Session session(tensorflow::NewSession(options));\r\nSession *session = NewSession(SessionOptions());\r\nif(session == nullptr)\r\n{\r\nthrow runtime_error(\"Could not create tensorflow session\");\r\n}\r\nStatus status = session->Close();\r\nreturn 0;\r\n}\r\n## 3\u3001the status is status.ok() is right,but the error is \"*** stack smashing detected ***: terminated \u5df2\u653e\u5f03 (\u6838\u5fc3\u5df2\u8f6c\u50a8)\""}