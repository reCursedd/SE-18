{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/413959736", "html_url": "https://github.com/tensorflow/tensorflow/issues/21647#issuecomment-413959736", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21647", "id": 413959736, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzk1OTczNg==", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-17T19:00:09Z", "updated_at": "2018-08-17T19:00:09Z", "author_association": "MEMBER", "body_html": "<p>I'm not sure I fully understand what you're trying to do here - the code you have to manipulate the graph before writing it out seems curious (for example, why are  all the <code>RefSwitch</code> nodes being changed to <code>Switch</code>?).</p>\n<p>Perhaps you can describe the higher level objective here and we can figure out a more appropriate path to it - modifying individual nodes in the graph seems fishy.</p>\n<p>As for the error message itself, it is suggesting that there is no node named <code>input</code> in the the graph defined by <code>pb_frozen</code>.</p>\n<p>Also, perhaps some clarification around the SavedModel / frozen graph may be in order.<br>\nHere's a really quick summary:</p>\n<ul>\n<li>A GraphDef defines a computation, which may depend on parameters (<code>tf.Variable</code>s in Python). The GraphDef does not contain the value of those parameters.</li>\n<li>A checkpoint contains a map from variables referenced in a GraphDef to their values.</li>\n<li>A SavedModel packages the GraphDef and the checkpoint into a single bundle.</li>\n<li>A \"frozen\" graph is a term used to represent a graph that fully defines a model, i.e., there is no checkpoint needed since all the variables in the model have been \"frozen\" into constant tensors that can be included in the GraphDef.</li>\n</ul>\n<p>Actually, a SavedModel can package multiple graphs. Use the <code>saved_model_cli</code> command-line tool to inspect the contents of a SavedModel . See <a href=\"https://www.tensorflow.org/guide/saved_model#cli_to_inspect_and_execute_savedmodel\" rel=\"nofollow\">documentation</a>. Using that tool, you'll be able to determine which tag is appropriate, what the names of the input and output tensors are etc.</p>\n<p>Hope that helps.</p>", "body_text": "I'm not sure I fully understand what you're trying to do here - the code you have to manipulate the graph before writing it out seems curious (for example, why are  all the RefSwitch nodes being changed to Switch?).\nPerhaps you can describe the higher level objective here and we can figure out a more appropriate path to it - modifying individual nodes in the graph seems fishy.\nAs for the error message itself, it is suggesting that there is no node named input in the the graph defined by pb_frozen.\nAlso, perhaps some clarification around the SavedModel / frozen graph may be in order.\nHere's a really quick summary:\n\nA GraphDef defines a computation, which may depend on parameters (tf.Variables in Python). The GraphDef does not contain the value of those parameters.\nA checkpoint contains a map from variables referenced in a GraphDef to their values.\nA SavedModel packages the GraphDef and the checkpoint into a single bundle.\nA \"frozen\" graph is a term used to represent a graph that fully defines a model, i.e., there is no checkpoint needed since all the variables in the model have been \"frozen\" into constant tensors that can be included in the GraphDef.\n\nActually, a SavedModel can package multiple graphs. Use the saved_model_cli command-line tool to inspect the contents of a SavedModel . See documentation. Using that tool, you'll be able to determine which tag is appropriate, what the names of the input and output tensors are etc.\nHope that helps.", "body": "I'm not sure I fully understand what you're trying to do here - the code you have to manipulate the graph before writing it out seems curious (for example, why are  all the `RefSwitch` nodes being changed to `Switch`?). \r\n\r\nPerhaps you can describe the higher level objective here and we can figure out a more appropriate path to it - modifying individual nodes in the graph seems fishy.\r\n\r\nAs for the error message itself, it is suggesting that there is no node named `input` in the the graph defined by `pb_frozen`.\r\n\r\nAlso, perhaps some clarification around the SavedModel / frozen graph may be in order.\r\nHere's a really quick summary:\r\n\r\n- A GraphDef defines a computation, which may depend on parameters (`tf.Variable`s in Python). The GraphDef does not contain the value of those parameters.\r\n- A checkpoint contains a map from variables referenced in a GraphDef to their values.\r\n- A SavedModel packages the GraphDef and the checkpoint into a single bundle.\r\n- A \"frozen\" graph is a term used to represent a graph that fully defines a model, i.e., there is no checkpoint needed since all the variables in the model have been \"frozen\" into constant tensors that can be included in the GraphDef.\r\n\r\nActually, a SavedModel can package multiple graphs. Use the `saved_model_cli` command-line tool to inspect the contents of a SavedModel . See [documentation](https://www.tensorflow.org/guide/saved_model#cli_to_inspect_and_execute_savedmodel). Using that tool, you'll be able to determine which tag is appropriate, what the names of the input and output tensors are etc.\r\n\r\nHope that helps."}