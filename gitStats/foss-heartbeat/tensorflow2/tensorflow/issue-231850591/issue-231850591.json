{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10258", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10258/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10258/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10258/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10258", "id": 231850591, "node_id": "MDU6SXNzdWUyMzE4NTA1OTE=", "number": 10258, "title": "Compilation error: image_ops_gpu.cu.pic.o was not created.", "user": {"login": "zuxfoucault", "id": 3050531, "node_id": "MDQ6VXNlcjMwNTA1MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3050531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zuxfoucault", "html_url": "https://github.com/zuxfoucault", "followers_url": "https://api.github.com/users/zuxfoucault/followers", "following_url": "https://api.github.com/users/zuxfoucault/following{/other_user}", "gists_url": "https://api.github.com/users/zuxfoucault/gists{/gist_id}", "starred_url": "https://api.github.com/users/zuxfoucault/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zuxfoucault/subscriptions", "organizations_url": "https://api.github.com/users/zuxfoucault/orgs", "repos_url": "https://api.github.com/users/zuxfoucault/repos", "events_url": "https://api.github.com/users/zuxfoucault/events{/privacy}", "received_events_url": "https://api.github.com/users/zuxfoucault/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-05-28T06:47:22Z", "updated_at": "2017-08-17T19:32:54Z", "closed_at": "2017-08-17T19:32:54Z", "author_association": "NONE", "body_html": "<p>The issue is similar to <a href=\"https://stackoverflow.com/questions/44116381/error-when-install-tensorflow-from-source\" rel=\"nofollow\">https://stackoverflow.com/questions/44116381/error-when-install-tensorflow-from-source</a><br>\n/cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20959853\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/drpngx\">@drpngx</a></p>\n<pre><code>1 error detected in the compilation of \"/tmp/tmpxft_00004364_00000000-7_image_ops_gpu.cu.cpp1.ii\".\n ERROR:PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: output 'tensorflow/contrib/image/_objs/python/ops/_image_ops_gpu/tensorflow/contrib/image/kernels/image_ops_gpu.cu.pic.o' was not created.\n</code></pre>\n<pre><code>ERROR: PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: \nnot all outputs were created or valid.`\n</code></pre>\n<p>Selective logs before error:</p>\n<pre><code> ./tensorflow/contrib/image/kernels/image_ops.h(69): error: Within a __device__/__global__ function, only __shared__ variables may be marked \"static\"\n          detected during:                                                                                                                                                 instantiation of \"Eigen::TensorEvaluator&lt;const Eigen::TensorGeneratorOp&lt;Generator, ArgType&gt;, Device&gt;::CoeffReturnType Eigen::TensorEvaluator&lt;const Eigen::TensorGeneratorOp&lt;Generator, ArgType&gt;, Device&gt;::coeff(Eigen::TensorEvaluator&lt;const Eigen::TensorGeneratorOp&lt;Generator, ArgType&gt;, Device&gt;::Index) const [with Generator=tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::GPUDevice, tensorflow::uint8&gt;, ArgType=const Eigen::TensorMap&lt;Eigen::Tensor&lt;cons\nt tensorflow::uint8, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;, Device=Eigen::GpuDevice]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h(136): here                                                                                        instantiation of \"void Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LeftArgType, RightArgType&gt;, Device&gt;::evalScalar(Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;LeftArgType, RightArgType&gt;, Device&gt;::Index) [with LeftArgType=Eigen::TensorMap&lt;Eigen::Tensor&lt;tensorflow::uint8, 4, 1, Eigen::DenseInd\nex&gt;, 16, Eigen::MakePointer&gt;, RightArgType=const Eigen::TensorGeneratorOp&lt;tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::GPUDevice, tensorflow\n::uint8&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const tensorflow::uint8, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;&gt;, Device=Eigen::GpuDevice]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(210): here\n\n\n...... omit....\n\n           instantiation of \"void Eigen::internal::EigenMetaKernelEval&lt;Evaluator, Index, Vectorizable&gt;::run(Evaluator &amp;, Index, Index, Index) [with Evaluator=Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorGeneratorOp&lt;tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::GPUDevice, double&gt;, c\nonst Eigen::TensorMap&lt;Eigen::Tensor&lt;const double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;&gt;&gt;, E\nigen::GpuDevice&gt;, Index=Eigen::DenseIndex, Vectorizable=false]\"                                         external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(243): here                               instantiation of \"void Eigen::internal::EigenMetaKernel(Evaluator, Index) [with Evaluator=Eigen::TensorEvaluator&lt;const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;, const Eigen::TensorGeneratorOp&lt;tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::GPUDevice, double&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const double, 4, 1, E\nigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;&gt;&gt;, Eigen::GpuDevice&gt;, Index=Eigen::DenseIndex]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(260): here                               instantiation of \"void Eigen::internal::TensorExecutor&lt;Expression, Eigen::GpuDevice, Vectorizable&gt;::run(const Expression &amp;, const Eigen::GpuDevice &amp;) [with Expression=const Eigen::TensorAssignOp&lt;Eigen::TensorMap&lt;Eigen::Tensor&lt;double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;, const Eigen::Te\nnsorGeneratorOp&lt;tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::GPUDevice, double&gt;, cons\nt Eigen::TensorMap&lt;Eigen::Tensor&lt;const double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;&gt;&gt;, Vect\norizable=false]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h(35): here                                  instantiation of \"Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt; &amp;Eigen::TensorDevice&lt;ExpressionType, DeviceType&gt;::operator=(const OtherDerived &amp;) [with ExpressionType=Eigen::TensorMap&lt;Eigen::Ten\nsor&lt;double, 4, 1, Eigen::DenseIndex&gt;, 16, Eigen::MakePointer&gt;, DeviceType=tensorflow::functor::GPUDevice, OtherDerived=Eigen::TensorGeneratorOp&lt;tensorflow::generator::ProjectiveGenerator&lt;tensorflow::functor::\nGPUDevice, double&gt;, const Eigen::TensorMap&lt;Eigen::Tensor&lt;const double, 4, 1, Eigen::DenseIndex&gt;, 16, Eig\nen::MakePointer&gt;&gt;]\"\n(156): here\n            instantiation of \"void tensorflow::functor::FillProjectiveTransform&lt;Device, T&gt;::operator()(c\nonst Device &amp;, tensorflow::functor::FillProjectiveTransform&lt;Device, T&gt;::OutputType *, const tensorflow::\nfunctor::FillProjectiveTransform&lt;Device, T&gt;::InputType &amp;, const tensorflow::functor::FillProjectiveTrans\nform&lt;Device, T&gt;::TransformsType &amp;) const [with Device=tensorflow::functor::GPUDevice, T=double]\"\ntensorflow/contrib/image/kernels/image_ops_gpu.cu.cc(36): here\n</code></pre>\n<p>Environment: centos 6.8  devtoolset-3 cuda 7.5 cudnn v4. gcc-4.9 bazel 4.5 TF r1.2</p>\n<p>Any advice and suggestions will be appreciated!</p>", "body_text": "The issue is similar to https://stackoverflow.com/questions/44116381/error-when-install-tensorflow-from-source\n/cc @drpngx\n1 error detected in the compilation of \"/tmp/tmpxft_00004364_00000000-7_image_ops_gpu.cu.cpp1.ii\".\n ERROR:PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: output 'tensorflow/contrib/image/_objs/python/ops/_image_ops_gpu/tensorflow/contrib/image/kernels/image_ops_gpu.cu.pic.o' was not created.\n\nERROR: PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: \nnot all outputs were created or valid.`\n\nSelective logs before error:\n ./tensorflow/contrib/image/kernels/image_ops.h(69): error: Within a __device__/__global__ function, only __shared__ variables may be marked \"static\"\n          detected during:                                                                                                                                                 instantiation of \"Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::Index) const [with Generator=tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, tensorflow::uint8>, ArgType=const Eigen::TensorMap<Eigen::Tensor<cons\nt tensorflow::uint8, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, Device=Eigen::GpuDevice]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h(136): here                                                                                        instantiation of \"void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LeftArgType, RightArgType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LeftArgType, RightArgType>, Device>::Index) [with LeftArgType=Eigen::TensorMap<Eigen::Tensor<tensorflow::uint8, 4, 1, Eigen::DenseInd\nex>, 16, Eigen::MakePointer>, RightArgType=const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, tensorflow\n::uint8>, const Eigen::TensorMap<Eigen::Tensor<const tensorflow::uint8, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>, Device=Eigen::GpuDevice]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(210): here\n\n\n...... omit....\n\n           instantiation of \"void Eigen::internal::EigenMetaKernelEval<Evaluator, Index, Vectorizable>::run(Evaluator &, Index, Index, Index) [with Evaluator=Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, c\nonst Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>>, E\nigen::GpuDevice>, Index=Eigen::DenseIndex, Vectorizable=false]\"                                         external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(243): here                               instantiation of \"void Eigen::internal::EigenMetaKernel(Evaluator, Index) [with Evaluator=Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, const Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, E\nigen::DenseIndex>, 16, Eigen::MakePointer>>>, Eigen::GpuDevice>, Index=Eigen::DenseIndex]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(260): here                               instantiation of \"void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression &, const Eigen::GpuDevice &) [with Expression=const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::Te\nnsorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, cons\nt Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>>, Vect\norizable=false]\"\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h(35): here                                  instantiation of \"Eigen::TensorDevice<ExpressionType, DeviceType> &Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived &) [with ExpressionType=Eigen::TensorMap<Eigen::Ten\nsor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, DeviceType=tensorflow::functor::GPUDevice, OtherDerived=Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::\nGPUDevice, double>, const Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eig\nen::MakePointer>>]\"\n(156): here\n            instantiation of \"void tensorflow::functor::FillProjectiveTransform<Device, T>::operator()(c\nonst Device &, tensorflow::functor::FillProjectiveTransform<Device, T>::OutputType *, const tensorflow::\nfunctor::FillProjectiveTransform<Device, T>::InputType &, const tensorflow::functor::FillProjectiveTrans\nform<Device, T>::TransformsType &) const [with Device=tensorflow::functor::GPUDevice, T=double]\"\ntensorflow/contrib/image/kernels/image_ops_gpu.cu.cc(36): here\n\nEnvironment: centos 6.8  devtoolset-3 cuda 7.5 cudnn v4. gcc-4.9 bazel 4.5 TF r1.2\nAny advice and suggestions will be appreciated!", "body": "The issue is similar to https://stackoverflow.com/questions/44116381/error-when-install-tensorflow-from-source\r\n/cc @drpngx \r\n```\r\n1 error detected in the compilation of \"/tmp/tmpxft_00004364_00000000-7_image_ops_gpu.cu.cpp1.ii\".\r\n ERROR:PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: output 'tensorflow/contrib/image/_objs/python/ops/_image_ops_gpu/tensorflow/contrib/image/kernels/image_ops_gpu.cu.pic.o' was not created.\r\n```\r\n\r\n```\r\nERROR: PATH/tensorflow_cuda75/tensorflow/contrib/image/BUILD:20:1: \r\nnot all outputs were created or valid.`\r\n```\r\nSelective logs before error:\r\n```\r\n ./tensorflow/contrib/image/kernels/image_ops.h(69): error: Within a __device__/__global__ function, only __shared__ variables may be marked \"static\"\r\n          detected during:                                                                                                                                                 instantiation of \"Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::CoeffReturnType Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::coeff(Eigen::TensorEvaluator<const Eigen::TensorGeneratorOp<Generator, ArgType>, Device>::Index) const [with Generator=tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, tensorflow::uint8>, ArgType=const Eigen::TensorMap<Eigen::Tensor<cons\r\nt tensorflow::uint8, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, Device=Eigen::GpuDevice]\"\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorAssign.h(136): here                                                                                        instantiation of \"void Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LeftArgType, RightArgType>, Device>::evalScalar(Eigen::TensorEvaluator<const Eigen::TensorAssignOp<LeftArgType, RightArgType>, Device>::Index) [with LeftArgType=Eigen::TensorMap<Eigen::Tensor<tensorflow::uint8, 4, 1, Eigen::DenseInd\r\nex>, 16, Eigen::MakePointer>, RightArgType=const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, tensorflow\r\n::uint8>, const Eigen::TensorMap<Eigen::Tensor<const tensorflow::uint8, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>, Device=Eigen::GpuDevice]\"\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(210): here\r\n\r\n\r\n...... omit....\r\n\r\n           instantiation of \"void Eigen::internal::EigenMetaKernelEval<Evaluator, Index, Vectorizable>::run(Evaluator &, Index, Index, Index) [with Evaluator=Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, c\r\nonst Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>>, E\r\nigen::GpuDevice>, Index=Eigen::DenseIndex, Vectorizable=false]\"                                         external/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(243): here                               instantiation of \"void Eigen::internal::EigenMetaKernel(Evaluator, Index) [with Evaluator=Eigen::TensorEvaluator<const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, const Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, E\r\nigen::DenseIndex>, 16, Eigen::MakePointer>>>, Eigen::GpuDevice>, Index=Eigen::DenseIndex]\"\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorExecutor.h(260): here                               instantiation of \"void Eigen::internal::TensorExecutor<Expression, Eigen::GpuDevice, Vectorizable>::run(const Expression &, const Eigen::GpuDevice &) [with Expression=const Eigen::TensorAssignOp<Eigen::TensorMap<Eigen::Tensor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, const Eigen::Te\r\nnsorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::GPUDevice, double>, cons\r\nt Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>>>, Vect\r\norizable=false]\"\r\nexternal/eigen_archive/unsupported/Eigen/CXX11/src/Tensor/TensorDevice.h(35): here                                  instantiation of \"Eigen::TensorDevice<ExpressionType, DeviceType> &Eigen::TensorDevice<ExpressionType, DeviceType>::operator=(const OtherDerived &) [with ExpressionType=Eigen::TensorMap<Eigen::Ten\r\nsor<double, 4, 1, Eigen::DenseIndex>, 16, Eigen::MakePointer>, DeviceType=tensorflow::functor::GPUDevice, OtherDerived=Eigen::TensorGeneratorOp<tensorflow::generator::ProjectiveGenerator<tensorflow::functor::\r\nGPUDevice, double>, const Eigen::TensorMap<Eigen::Tensor<const double, 4, 1, Eigen::DenseIndex>, 16, Eig\r\nen::MakePointer>>]\"\r\n(156): here\r\n            instantiation of \"void tensorflow::functor::FillProjectiveTransform<Device, T>::operator()(c\r\nonst Device &, tensorflow::functor::FillProjectiveTransform<Device, T>::OutputType *, const tensorflow::\r\nfunctor::FillProjectiveTransform<Device, T>::InputType &, const tensorflow::functor::FillProjectiveTrans\r\nform<Device, T>::TransformsType &) const [with Device=tensorflow::functor::GPUDevice, T=double]\"\r\ntensorflow/contrib/image/kernels/image_ops_gpu.cu.cc(36): here\r\n``` \r\n\r\n\r\nEnvironment: centos 6.8  devtoolset-3 cuda 7.5 cudnn v4. gcc-4.9 bazel 4.5 TF r1.2\r\n\r\n\r\nAny advice and suggestions will be appreciated!"}