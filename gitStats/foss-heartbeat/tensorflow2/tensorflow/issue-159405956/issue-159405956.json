{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2758", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2758/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2758/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2758/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2758", "id": 159405956, "node_id": "MDU6SXNzdWUxNTk0MDU5NTY=", "number": 2758, "title": "cuDNN DSO loaded in command line, but not by apache", "user": {"login": "mostafachatillon", "id": 8183572, "node_id": "MDQ6VXNlcjgxODM1NzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8183572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mostafachatillon", "html_url": "https://github.com/mostafachatillon", "followers_url": "https://api.github.com/users/mostafachatillon/followers", "following_url": "https://api.github.com/users/mostafachatillon/following{/other_user}", "gists_url": "https://api.github.com/users/mostafachatillon/gists{/gist_id}", "starred_url": "https://api.github.com/users/mostafachatillon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mostafachatillon/subscriptions", "organizations_url": "https://api.github.com/users/mostafachatillon/orgs", "repos_url": "https://api.github.com/users/mostafachatillon/repos", "events_url": "https://api.github.com/users/mostafachatillon/events{/privacy}", "received_events_url": "https://api.github.com/users/mostafachatillon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-09T13:19:39Z", "updated_at": "2016-07-09T03:54:18Z", "closed_at": "2016-07-09T03:54:18Z", "author_association": "NONE", "body_html": "<p>GitHub issues are for bugs / installation problems / feature requests.<br>\nFor general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>Environment info</h3>\n<p>Operating System:</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):</p>\n<p>-rw-r--r-- 1 root root   322936 May 23 07:11 /usr/local/cuda/lib64/libcudadevrt.a<br>\nlrwxrwxrwx 1 root root       16 May 23 07:11 /usr/local/cuda/lib64/libcudart.so -&gt; libcudart.so.7.5<br>\nlrwxrwxrwx 1 root root       19 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5 -&gt; libcudart.so.7.5.18<br>\n-rwxr-xr-x 1 root root   383336 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5.18<br>\n-rw-r--r-- 1 root root   720192 May 23 07:11 /usr/local/cuda/lib64/libcudart_static.a<br>\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so<br>\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4<br>\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4.0.7<br>\n-rw-r--r-- 1 root root 62025862 May 24 06:29 /usr/local/cuda/lib64/libcudnn_static.a</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>Which pip package you installed.</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally</li>\n</ol>\n<p>Segmentation fault (core dumped)</p>\n<p>If installed from sources, provide the commit hash:</p>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Install a Flask app along this tutorial: <a href=\"http://www.datasciencebytes.com/bytes/2015/02/24/running-a-flask-app-on-aws-ec2/\" rel=\"nofollow\">http://www.datasciencebytes.com/bytes/2015/02/24/running-a-flask-app-on-aws-ec2/</a></li>\n<li>Install an image classification web app along this tutorial, but using tensorflow instead of caffe: <a href=\"https://clearsite.io/blog/2016/01/24/using-caffe-in-a-flask-application/\" rel=\"nofollow\">https://clearsite.io/blog/2016/01/24/using-caffe-in-a-flask-application/</a><br>\n3.</li>\n</ol>\n<h3>What have you tried?</h3>\n<ol>\n<li>I tried various AWS EC2 AMI with tensorflow installed, and always the same problem.</li>\n</ol>\n<h3>Logs or other output that would be helpful</h3>\n<p>(If logs are large, please upload as attachment).</p>\n<p>error.log of apache server:</p>\n<p>I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcudnn.so. LD_LIBRARY_PATH:<br>\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:1562] Unable to load cuDNN DSO<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally</p>\n<p>if I import tensorflow from command line:</p>\n<p>I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally<br>\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally</p>\n<p>echo $LD_LIBRARY_PATH<br>\n/usr/local/cuda/lib64</p>", "body_text": "GitHub issues are for bugs / installation problems / feature requests.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nEnvironment info\nOperating System:\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\n-rw-r--r-- 1 root root   322936 May 23 07:11 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 May 23 07:11 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 May 23 07:11 /usr/local/cuda/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4.0.7\n-rw-r--r-- 1 root root 62025862 May 24 06:29 /usr/local/cuda/lib64/libcudnn_static.a\nIf installed from binary pip package, provide:\n\nWhich pip package you installed.\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n\nSegmentation fault (core dumped)\nIf installed from sources, provide the commit hash:\nSteps to reproduce\n\nInstall a Flask app along this tutorial: http://www.datasciencebytes.com/bytes/2015/02/24/running-a-flask-app-on-aws-ec2/\nInstall an image classification web app along this tutorial, but using tensorflow instead of caffe: https://clearsite.io/blog/2016/01/24/using-caffe-in-a-flask-application/\n3.\n\nWhat have you tried?\n\nI tried various AWS EC2 AMI with tensorflow installed, and always the same problem.\n\nLogs or other output that would be helpful\n(If logs are large, please upload as attachment).\nerror.log of apache server:\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcudnn.so. LD_LIBRARY_PATH:\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:1562] Unable to load cuDNN DSO\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\nif I import tensorflow from command line:\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\necho $LD_LIBRARY_PATH\n/usr/local/cuda/lib64", "body": "GitHub issues are for bugs / installation problems / feature requests.  \nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\n\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\n### Environment info\n\nOperating System:\n\nInstalled version of CUDA and cuDNN: \n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\n\n-rw-r--r-- 1 root root   322936 May 23 07:11 /usr/local/cuda/lib64/libcudadevrt.a\nlrwxrwxrwx 1 root root       16 May 23 07:11 /usr/local/cuda/lib64/libcudart.so -> libcudart.so.7.5\nlrwxrwxrwx 1 root root       19 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5 -> libcudart.so.7.5.18\n-rwxr-xr-x 1 root root   383336 May 23 07:11 /usr/local/cuda/lib64/libcudart.so.7.5.18\n-rw-r--r-- 1 root root   720192 May 23 07:11 /usr/local/cuda/lib64/libcudart_static.a\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4\n-rwxr-xr-x 1 root root 61453024 May 24 06:29 /usr/local/cuda/lib64/libcudnn.so.4.0.7\n-rw-r--r-- 1 root root 62025862 May 24 06:29 /usr/local/cuda/lib64/libcudnn_static.a\n\nIf installed from binary pip package, provide:\n1. Which pip package you installed.\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\n   I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\n   I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\n   I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\n   I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\n   I tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n\nSegmentation fault (core dumped)\n\nIf installed from sources, provide the commit hash:\n### Steps to reproduce\n1. Install a Flask app along this tutorial: http://www.datasciencebytes.com/bytes/2015/02/24/running-a-flask-app-on-aws-ec2/\n2. Install an image classification web app along this tutorial, but using tensorflow instead of caffe: https://clearsite.io/blog/2016/01/24/using-caffe-in-a-flask-application/\n   3.\n### What have you tried?\n1. I tried various AWS EC2 AMI with tensorflow installed, and always the same problem. \n### Logs or other output that would be helpful\n\n(If logs are large, please upload as attachment).\n\nerror.log of apache server:\n\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:99] Couldn't open CUDA library libcudnn.so. LD_LIBRARY_PATH:\nI tensorflow/stream_executor/cuda/cuda_dnn.cc:1562] Unable to load cuDNN DSO\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n\nif I import tensorflow from command line:\n\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n\necho $LD_LIBRARY_PATH\n/usr/local/cuda/lib64\n"}