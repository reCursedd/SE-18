{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/243350821", "html_url": "https://github.com/tensorflow/tensorflow/issues/4033#issuecomment-243350821", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/4033", "id": 243350821, "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzM1MDgyMQ==", "user": {"login": "abhijayghildyal", "id": 11029633, "node_id": "MDQ6VXNlcjExMDI5NjMz", "avatar_url": "https://avatars2.githubusercontent.com/u/11029633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhijayghildyal", "html_url": "https://github.com/abhijayghildyal", "followers_url": "https://api.github.com/users/abhijayghildyal/followers", "following_url": "https://api.github.com/users/abhijayghildyal/following{/other_user}", "gists_url": "https://api.github.com/users/abhijayghildyal/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhijayghildyal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhijayghildyal/subscriptions", "organizations_url": "https://api.github.com/users/abhijayghildyal/orgs", "repos_url": "https://api.github.com/users/abhijayghildyal/repos", "events_url": "https://api.github.com/users/abhijayghildyal/events{/privacy}", "received_events_url": "https://api.github.com/users/abhijayghildyal/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-30T07:01:27Z", "updated_at": "2016-08-30T07:11:53Z", "author_association": "NONE", "body_html": "<p>Thank you for looking into this issue. For my actual work I change my code when I am running with more number of <code>ps_tasks</code> and use a different implementation with <code>cluster_spec</code>, but for that implementation I always run the ps on CPU-only configuration by masking my cuda device. I would surely post if I face the same error with it.</p>\n<p>There are some observations, which might be useful to you:</p>\n<ul>\n<li>This problem only occurred when ps was run on the same machine (GPU enabled configuration) as the worker, and was never seen when it was running on a different machine.</li>\n<li>There was one more condition when this error was not seen i.e. if  <code>CUDA_VISIBLE_DEVICES=''</code> is added while running the code, (eg: <code>CUDA_VISIBLE_DEVICES='' python dist_trai...</code>). This way my ps did not use the CUDA device and never ran into <code>CUDA_ERROR_OUT_OF_MEMORY</code>, hence avoiding the issue.</li>\n</ul>", "body_text": "Thank you for looking into this issue. For my actual work I change my code when I am running with more number of ps_tasks and use a different implementation with cluster_spec, but for that implementation I always run the ps on CPU-only configuration by masking my cuda device. I would surely post if I face the same error with it.\nThere are some observations, which might be useful to you:\n\nThis problem only occurred when ps was run on the same machine (GPU enabled configuration) as the worker, and was never seen when it was running on a different machine.\nThere was one more condition when this error was not seen i.e. if  CUDA_VISIBLE_DEVICES='' is added while running the code, (eg: CUDA_VISIBLE_DEVICES='' python dist_trai...). This way my ps did not use the CUDA device and never ran into CUDA_ERROR_OUT_OF_MEMORY, hence avoiding the issue.", "body": "Thank you for looking into this issue. For my actual work I change my code when I am running with more number of `ps_tasks` and use a different implementation with `cluster_spec`, but for that implementation I always run the ps on CPU-only configuration by masking my cuda device. I would surely post if I face the same error with it.\n\nThere are some observations, which might be useful to you:\n- This problem only occurred when ps was run on the same machine (GPU enabled configuration) as the worker, and was never seen when it was running on a different machine. \n- There was one more condition when this error was not seen i.e. if  `CUDA_VISIBLE_DEVICES=''` is added while running the code, (eg: `CUDA_VISIBLE_DEVICES='' python dist_trai...`). This way my ps did not use the CUDA device and never ran into `CUDA_ERROR_OUT_OF_MEMORY`, hence avoiding the issue.\n"}