{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5568", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5568/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5568/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/5568/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/5568", "id": 188942622, "node_id": "MDU6SXNzdWUxODg5NDI2MjI=", "number": 5568, "title": "Attempt to create quantized tf.constant results in a TypeError", "user": {"login": "b0noI", "id": 554101, "node_id": "MDQ6VXNlcjU1NDEwMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/554101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b0noI", "html_url": "https://github.com/b0noI", "followers_url": "https://api.github.com/users/b0noI/followers", "following_url": "https://api.github.com/users/b0noI/following{/other_user}", "gists_url": "https://api.github.com/users/b0noI/gists{/gist_id}", "starred_url": "https://api.github.com/users/b0noI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b0noI/subscriptions", "organizations_url": "https://api.github.com/users/b0noI/orgs", "repos_url": "https://api.github.com/users/b0noI/repos", "events_url": "https://api.github.com/users/b0noI/events{/privacy}", "received_events_url": "https://api.github.com/users/b0noI/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "b0noI", "id": 554101, "node_id": "MDQ6VXNlcjU1NDEwMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/554101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b0noI", "html_url": "https://github.com/b0noI", "followers_url": "https://api.github.com/users/b0noI/followers", "following_url": "https://api.github.com/users/b0noI/following{/other_user}", "gists_url": "https://api.github.com/users/b0noI/gists{/gist_id}", "starred_url": "https://api.github.com/users/b0noI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b0noI/subscriptions", "organizations_url": "https://api.github.com/users/b0noI/orgs", "repos_url": "https://api.github.com/users/b0noI/repos", "events_url": "https://api.github.com/users/b0noI/events{/privacy}", "received_events_url": "https://api.github.com/users/b0noI/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "b0noI", "id": 554101, "node_id": "MDQ6VXNlcjU1NDEwMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/554101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b0noI", "html_url": "https://github.com/b0noI", "followers_url": "https://api.github.com/users/b0noI/followers", "following_url": "https://api.github.com/users/b0noI/following{/other_user}", "gists_url": "https://api.github.com/users/b0noI/gists{/gist_id}", "starred_url": "https://api.github.com/users/b0noI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b0noI/subscriptions", "organizations_url": "https://api.github.com/users/b0noI/orgs", "repos_url": "https://api.github.com/users/b0noI/repos", "events_url": "https://api.github.com/users/b0noI/events{/privacy}", "received_events_url": "https://api.github.com/users/b0noI/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-11-13T00:06:47Z", "updated_at": "2016-11-18T21:55:24Z", "closed_at": "2016-11-18T21:55:24Z", "author_association": "CONTRIBUTOR", "body_html": "<h3>Environment info</h3>\n<p>Operating System:<br>\nMacOS 10.12.1</p>\n<ol>\n<li>The commit hash (<code>git rev-parse HEAD</code>)<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/f794cd393b1e7821fcc3cdcee9b6a4400f2540bf/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/f794cd393b1e7821fcc3cdcee9b6a4400f2540bf\"><tt>f794cd3</tt></a></li>\n<li>The output of <code>bazel version</code><br>\nBuild label: 0.3.1-homebrew<br>\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Tue Sep 27 03:15:13 2016 (1474946113)<br>\nBuild timestamp: 1474946113<br>\nBuild timestamp as int: 1474946113</li>\n</ol>\n<h3>Repro code</h3>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n\nsess <span class=\"pl-k\">=</span> tf.Session()\n<span class=\"pl-k\">with</span> sess.as_default():\n     m <span class=\"pl-k\">=</span> tf.constant(<span class=\"pl-c1\">3</span>, <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>tf.qint8)\n     <span class=\"pl-c1\">print</span>(m.eval())</pre></div>\n<h4>result:</h4>\n<div class=\"highlight highlight-source-shell\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&lt;stdin&gt;<span class=\"pl-pds\">\"</span></span>, line 2, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/constant_op.py<span class=\"pl-pds\">\"</span></span>, line 163, <span class=\"pl-k\">in</span> constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/tensor_util.py<span class=\"pl-pds\">\"</span></span>, line 354, <span class=\"pl-k\">in</span> make_tensor_proto\n    nparray = np.array(values, dtype=np_dt)\nTypeError: expected a readable buffer object</pre></div>", "body_text": "Environment info\nOperating System:\nMacOS 10.12.1\n\nThe commit hash (git rev-parse HEAD)\nf794cd3\nThe output of bazel version\nBuild label: 0.3.1-homebrew\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Tue Sep 27 03:15:13 2016 (1474946113)\nBuild timestamp: 1474946113\nBuild timestamp as int: 1474946113\n\nRepro code\nimport tensorflow as tf\n\nsess = tf.Session()\nwith sess.as_default():\n     m = tf.constant(3, dtype=tf.qint8)\n     print(m.eval())\nresult:\nTraceback (most recent call last):\n  File \"<stdin>\", line 2, in <module>\n  File \"/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/constant_op.py\", line 163, in constant\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n  File \"/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/tensor_util.py\", line 354, in make_tensor_proto\n    nparray = np.array(values, dtype=np_dt)\nTypeError: expected a readable buffer object", "body": "### Environment info\r\nOperating System:\r\nMacOS 10.12.1\r\n\r\n1. The commit hash (`git rev-parse HEAD`)\r\nf794cd393b1e7821fcc3cdcee9b6a4400f2540bf\r\n2. The output of `bazel version`\r\nBuild label: 0.3.1-homebrew\r\nBuild target: bazel-out/local-fastbuild/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Tue Sep 27 03:15:13 2016 (1474946113)\r\nBuild timestamp: 1474946113\r\nBuild timestamp as int: 1474946113\r\n\r\n### Repro code\r\n```python\r\nimport tensorflow as tf\r\n\r\nsess = tf.Session()\r\nwith sess.as_default():\r\n     m = tf.constant(3, dtype=tf.qint8)\r\n     print(m.eval())\r\n```\r\n#### result:\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/constant_op.py\", line 163, in constant\r\n    tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\r\n  File \"/Users/b0noI/src/tensorflow/_python_build/tensorflow/python/framework/tensor_util.py\", line 354, in make_tensor_proto\r\n    nparray = np.array(values, dtype=np_dt)\r\nTypeError: expected a readable buffer object\r\n```"}