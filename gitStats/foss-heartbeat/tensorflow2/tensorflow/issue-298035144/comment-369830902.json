{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/369830902", "html_url": "https://github.com/tensorflow/tensorflow/pull/17099#issuecomment-369830902", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17099", "id": 369830902, "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTgzMDkwMg==", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-02T06:08:05Z", "updated_at": "2018-03-02T06:08:05Z", "author_association": "NONE", "body_html": "<p>Right now, setting the environment variable to an empty string still causes the configure script to prompt for user input.</p>\n<p>get_from_env_or_user_or_default() could be alternatively changed as follows:</p>\n<ul>\n<li>If the environment variable is set, then don't prompt for user input.</li>\n<li>Also, if the environment variable is set to \"\", then assume the user wants to use the default value.</li>\n</ul>\n<p>This would accomplish basically the same thing of allowing default values for configure variables to be used through setting environment variables, and thus to allow a small shell script to be written which configures and builds TensorFlow without requiring user input. However, I personally think that <code>USE_DEFAULT_*=1</code> communicates the intention of using a default value a bit better than <code>*=\"\"</code>. Moreover, in the case of CC_OPT_FLAGS, what if someone actually wants to use no extra compiler flags in the opt build configuration. They might use something like <code>CC_OPT_FLAGS=\" \"</code>, but this is one character away from <code>CC_OPT_FLAGS=\"\"</code>. It's not clear unless one is familiar with the implementation of the configure script that this would mean something quite different from <code>CC_OPT_FLAGS=\" \"</code>.</p>", "body_text": "Right now, setting the environment variable to an empty string still causes the configure script to prompt for user input.\nget_from_env_or_user_or_default() could be alternatively changed as follows:\n\nIf the environment variable is set, then don't prompt for user input.\nAlso, if the environment variable is set to \"\", then assume the user wants to use the default value.\n\nThis would accomplish basically the same thing of allowing default values for configure variables to be used through setting environment variables, and thus to allow a small shell script to be written which configures and builds TensorFlow without requiring user input. However, I personally think that USE_DEFAULT_*=1 communicates the intention of using a default value a bit better than *=\"\". Moreover, in the case of CC_OPT_FLAGS, what if someone actually wants to use no extra compiler flags in the opt build configuration. They might use something like CC_OPT_FLAGS=\" \", but this is one character away from CC_OPT_FLAGS=\"\". It's not clear unless one is familiar with the implementation of the configure script that this would mean something quite different from CC_OPT_FLAGS=\" \".", "body": "Right now, setting the environment variable to an empty string still causes the configure script to prompt for user input.\r\n\r\nget_from_env_or_user_or_default() could be alternatively changed as follows:\r\n * If the environment variable is set, then don't prompt for user input.\r\n * Also, if the environment variable is set to \"\", then assume the user wants to use the default value.\r\n\r\nThis would accomplish basically the same thing of allowing default values for configure variables to be used through setting environment variables, and thus to allow a small shell script to be written which configures and builds TensorFlow without requiring user input. However, I personally think that `USE_DEFAULT_*=1` communicates the intention of using a default value a bit better than `*=\"\"`. Moreover, in the case of CC_OPT_FLAGS, what if someone actually wants to use no extra compiler flags in the opt build configuration. They might use something like `CC_OPT_FLAGS=\" \"`, but this is one character away from `CC_OPT_FLAGS=\"\"`. It's not clear unless one is familiar with the implementation of the configure script that this would mean something quite different from `CC_OPT_FLAGS=\" \"`."}