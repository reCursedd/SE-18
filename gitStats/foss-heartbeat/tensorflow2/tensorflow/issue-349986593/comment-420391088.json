{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/420391088", "html_url": "https://github.com/tensorflow/tensorflow/issues/21573#issuecomment-420391088", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21573", "id": 420391088, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDM5MTA4OA==", "user": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-11T19:20:31Z", "updated_at": "2018-09-11T19:20:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think it's nondeterministic on CPU (have to check).  On GPU we use <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/scatter_nd_op_gpu.cu.cc#L47\">atomic operations</a>.  So while the order of adds is not consistent, which may lead to numerical differences, at least we aren't overwriting values.</p>", "body_text": "I think it's nondeterministic on CPU (have to check).  On GPU we use atomic operations.  So while the order of adds is not consistent, which may lead to numerical differences, at least we aren't overwriting values.", "body": "I think it's nondeterministic on CPU (have to check).  On GPU we use [atomic operations](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/scatter_nd_op_gpu.cu.cc#L47).  So while the order of adds is not consistent, which may lead to numerical differences, at least we aren't overwriting values."}