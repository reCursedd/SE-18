{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21506", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21506/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21506/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21506/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/21506", "id": 348967207, "node_id": "MDU6SXNzdWUzNDg5NjcyMDc=", "number": 21506, "title": "export_tflite_ssd_graph_lib.py didn't work with 1.10.0-rc1 ?", "user": {"login": "MaeThird", "id": 14851411, "node_id": "MDQ6VXNlcjE0ODUxNDEx", "avatar_url": "https://avatars2.githubusercontent.com/u/14851411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaeThird", "html_url": "https://github.com/MaeThird", "followers_url": "https://api.github.com/users/MaeThird/followers", "following_url": "https://api.github.com/users/MaeThird/following{/other_user}", "gists_url": "https://api.github.com/users/MaeThird/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaeThird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaeThird/subscriptions", "organizations_url": "https://api.github.com/users/MaeThird/orgs", "repos_url": "https://api.github.com/users/MaeThird/repos", "events_url": "https://api.github.com/users/MaeThird/events{/privacy}", "received_events_url": "https://api.github.com/users/MaeThird/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-08-09T03:46:59Z", "updated_at": "2018-08-17T08:13:47Z", "closed_at": "2018-08-11T13:13:37Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Y</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux  4.17.11-arch1</li>\n<li><strong>Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device</strong>: None of them</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>:b'v1.9.0-rc2-1981-gb674f63ab1' 1.10.0-rc1</li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.15.2- (@non-git)</li>\n<li><strong>GCC/Compiler version (if compiling from source)</strong>: gcc-7</li>\n<li><strong>CUDA/cuDNN version</strong>: cuda-9.2 cudnn-7.1</li>\n<li><strong>GPU model and memory</strong>: 24G</li>\n<li><strong>Exact command to reproduce</strong>:</li>\n</ul>\n<p><strong>Everything works fine before I updated the newest source code ,compiled and installed it</strong>.<br>\nWith the installed version(1.10.0-rc1) the <strong>export_tflite_ssd_graph_lib.py</strong>  said</p>\n<p><code>2018-08-09 03:18:34.547212: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying strip_unused_nodes 2018-08-09 03:18:34.565931: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying fold_constants Traceback (most recent call last): File \"export_tflite_ssd_graph.py\", line 137, in &lt;module&gt; tf.app.run(main) File \"/usr/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"export_tflite_ssd_graph.py\", line 133, in main FLAGS.max_classes_per_detection) File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 280, in export_tflite_graph nms_score_threshold, nms_iou_threshold, num_classes, scale_values) File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 137, in append_postprocessing_op output_names, transforms) File \"/usr/lib/python3.6/site-packages/tensorflow/tools/graph_transforms/__init__.py\", line 51, in TransformGraph transforms_string, status) File \"/usr/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 519, in __exit__ c_api.TF_GetCode(self.status.status)) tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TFLite_Detection_PostProcess' in binary running on Mae. Make sure the Op and Kernel are registered in the binary running in this process. Note that if you are loading a saved graph which used ops from tf.contrib, accessing (e.g.)</code>tf.contrib.resampler<code>should be done before importing the graph, as contrib ops are lazily registered when the module is first accessed.</code></p>\n<p>Other scripts such as train and eval can work except the exporter.</p>", "body_text": "System information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Y\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux  4.17.11-arch1\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: None of them\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below):b'v1.9.0-rc2-1981-gb674f63ab1' 1.10.0-rc1\nPython version: 3.6\nBazel version (if compiling from source): 0.15.2- (@non-git)\nGCC/Compiler version (if compiling from source): gcc-7\nCUDA/cuDNN version: cuda-9.2 cudnn-7.1\nGPU model and memory: 24G\nExact command to reproduce:\n\nEverything works fine before I updated the newest source code ,compiled and installed it.\nWith the installed version(1.10.0-rc1) the export_tflite_ssd_graph_lib.py  said\n2018-08-09 03:18:34.547212: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying strip_unused_nodes 2018-08-09 03:18:34.565931: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying fold_constants Traceback (most recent call last): File \"export_tflite_ssd_graph.py\", line 137, in <module> tf.app.run(main) File \"/usr/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run _sys.exit(main(argv)) File \"export_tflite_ssd_graph.py\", line 133, in main FLAGS.max_classes_per_detection) File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 280, in export_tflite_graph nms_score_threshold, nms_iou_threshold, num_classes, scale_values) File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 137, in append_postprocessing_op output_names, transforms) File \"/usr/lib/python3.6/site-packages/tensorflow/tools/graph_transforms/__init__.py\", line 51, in TransformGraph transforms_string, status) File \"/usr/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 519, in __exit__ c_api.TF_GetCode(self.status.status)) tensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TFLite_Detection_PostProcess' in binary running on Mae. Make sure the Op and Kernel are registered in the binary running in this process. Note that if you are loading a saved graph which used ops from tf.contrib, accessing (e.g.)tf.contrib.resamplershould be done before importing the graph, as contrib ops are lazily registered when the module is first accessed.\nOther scripts such as train and eval can work except the exporter.", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Y\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux  4.17.11-arch1\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: None of them\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**:b'v1.9.0-rc2-1981-gb674f63ab1' 1.10.0-rc1\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: 0.15.2- (@non-git)\r\n- **GCC/Compiler version (if compiling from source)**: gcc-7\r\n- **CUDA/cuDNN version**: cuda-9.2 cudnn-7.1\r\n- **GPU model and memory**: 24G\r\n- **Exact command to reproduce**: \r\n\r\n**Everything works fine before I updated the newest source code ,compiled and installed it**.\r\nWith the installed version(1.10.0-rc1) the **export_tflite_ssd_graph_lib.py**  said \r\n\r\n`\r\n2018-08-09 03:18:34.547212: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying strip_unused_nodes\r\n2018-08-09 03:18:34.565931: I tensorflow/tools/graph_transforms/transform_graph.cc:318] Applying fold_constants\r\nTraceback (most recent call last):\r\n  File \"export_tflite_ssd_graph.py\", line 137, in <module>\r\n    tf.app.run(main)\r\n  File \"/usr/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"export_tflite_ssd_graph.py\", line 133, in main\r\n    FLAGS.max_classes_per_detection)\r\n  File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 280, in export_tflite_graph\r\n    nms_score_threshold, nms_iou_threshold, num_classes, scale_values)\r\n  File \"/home/mae/tf-newest-nightly/tensorflow/tensorflow/models/research/object_detection/export_tflite_ssd_graph_lib.py\", line 137, in append_postprocessing_op\r\n    output_names, transforms)\r\n  File \"/usr/lib/python3.6/site-packages/tensorflow/tools/graph_transforms/__init__.py\", line 51, in TransformGraph\r\n    transforms_string, status)\r\n  File \"/usr/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 519, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.NotFoundError: Op type not registered 'TFLite_Detection_PostProcess' in binary running on Mae. Make sure the Op and Kernel are registered in the binary running in this process. Note that if you are loading a saved graph which used ops from tf.contrib, accessing (e.g.) `tf.contrib.resampler` should be done before importing the graph, as contrib ops are lazily registered when the module is first accessed.\r\n`\r\n\r\nOther scripts such as train and eval can work except the exporter."}