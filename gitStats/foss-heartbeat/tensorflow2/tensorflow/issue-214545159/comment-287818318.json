{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/287818318", "html_url": "https://github.com/tensorflow/tensorflow/issues/8448#issuecomment-287818318", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8448", "id": 287818318, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzgxODMxOA==", "user": {"login": "cmertin", "id": 4504364, "node_id": "MDQ6VXNlcjQ1MDQzNjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4504364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmertin", "html_url": "https://github.com/cmertin", "followers_url": "https://api.github.com/users/cmertin/followers", "following_url": "https://api.github.com/users/cmertin/following{/other_user}", "gists_url": "https://api.github.com/users/cmertin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmertin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmertin/subscriptions", "organizations_url": "https://api.github.com/users/cmertin/orgs", "repos_url": "https://api.github.com/users/cmertin/repos", "events_url": "https://api.github.com/users/cmertin/events{/privacy}", "received_events_url": "https://api.github.com/users/cmertin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-20T16:36:52Z", "updated_at": "2017-03-20T16:42:40Z", "author_association": "NONE", "body_html": "<p>First of all Zongheng, I'd like to thank you for your help so far. But I'm still not able to get it working. The problem is still dealing with the same line, however it is a different error... I have posted the majority of my code as I believe it might have something to do with <code>tf.matmul()</code> being involved right before this process, yet I'm not 100% sure.</p>\n<pre><code>def My_Function(self, A):\n    dims = A.get_shape().as_list()\n    shape = [dims[0], self.m] # Defining shape of resulting tensor\n    with tf.Session() as sess:\n        X = tf.placeholder(tf.float32, shape=[shape[0], shape[1]])\n        result = tf.zeros(tf.shape(X), dtype=tf.float32)\n        for xyz in self.property:\n            # Computation is of the following form, where xyz.M is a tf.Variable() tensor\n            a = A[:, xyz.i:xyz.i + xyz.n] # Slice of A (the input tensor)\n            temp_H = tf.matmul(a, sub.M)\n            indices = [[i,j] for i in sess.run(tf.range(0, tf.shape(temp_H)[0])) for j in tf.sess(tf.range(xyz.k, xyz.k+tf.shape(temp_H)[1]))] # same but with sess.run, tf.range, tf.shape\n            # indices is a list of indices to update in \"result\"\n            values = tf.reshape(temp_H, [-1]) # Values in temp_H as 1D list\n            delta = tf.SparseTensor(indices, values, shape)\n            result += tf.sparse_tensor_to_dense(delta)\n    return result\n</code></pre>\n<p>I have attempted changing <code>tf.shape(temp_H)[0]</code> to <code>tf.shape(result)[0]</code> (as they have the same first dimension) in that line but I still get the same error. More than likely the same error is going to occur for <code>j</code> in the above for loop, but the solution should be similar.</p>\n<p>I did attempt removing the <code>j</code> to just trouble shoot the line, changing the indices line to <code>indices = [[i] for i in sess.run(tf.range(0, tf.shape(temp_H)[0]))]</code> but it still gives the same error, so the <em>current</em> error is not with <code>j</code> but with <code>i</code>.</p>\n<p>The traceback is the following, dealing with the <code>indices = </code> line still:</p>\n<pre><code>InvalidArgumentError: You must feed a value for placeholder tensor 'Placeholder' with dtype float\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n\nCaused by op 'Placeholder', defined at:\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 184, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/__main__.py\", line 3, in &lt;module&gt;\n    app.launch_new_instance()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/traitlets/config/application.py\", line 653, in launch_instance\n    app.start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelapp.py\", line 474, in start\n    ioloop.IOLoop.instance().start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/ioloop.py\", line 162, in start\n    super(ZMQIOLoop, self).start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/ioloop.py\", line 887, in start\n    handler_func(fd_obj, events)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 390, in execute_request\n    user_expressions, allow_stdin)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/zmqshell.py\", line 501, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-4-8452266bec9e&gt;\", line 3, in &lt;module&gt;\n    X = tf.placeholder(tf.float32, [None, 28, 28, 1])\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 1587, in placeholder\n    name=name)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2043, in _placeholder\n    name=name)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nInvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'Placeholder' with dtype float\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]```\n</code></pre>", "body_text": "First of all Zongheng, I'd like to thank you for your help so far. But I'm still not able to get it working. The problem is still dealing with the same line, however it is a different error... I have posted the majority of my code as I believe it might have something to do with tf.matmul() being involved right before this process, yet I'm not 100% sure.\ndef My_Function(self, A):\n    dims = A.get_shape().as_list()\n    shape = [dims[0], self.m] # Defining shape of resulting tensor\n    with tf.Session() as sess:\n        X = tf.placeholder(tf.float32, shape=[shape[0], shape[1]])\n        result = tf.zeros(tf.shape(X), dtype=tf.float32)\n        for xyz in self.property:\n            # Computation is of the following form, where xyz.M is a tf.Variable() tensor\n            a = A[:, xyz.i:xyz.i + xyz.n] # Slice of A (the input tensor)\n            temp_H = tf.matmul(a, sub.M)\n            indices = [[i,j] for i in sess.run(tf.range(0, tf.shape(temp_H)[0])) for j in tf.sess(tf.range(xyz.k, xyz.k+tf.shape(temp_H)[1]))] # same but with sess.run, tf.range, tf.shape\n            # indices is a list of indices to update in \"result\"\n            values = tf.reshape(temp_H, [-1]) # Values in temp_H as 1D list\n            delta = tf.SparseTensor(indices, values, shape)\n            result += tf.sparse_tensor_to_dense(delta)\n    return result\n\nI have attempted changing tf.shape(temp_H)[0] to tf.shape(result)[0] (as they have the same first dimension) in that line but I still get the same error. More than likely the same error is going to occur for j in the above for loop, but the solution should be similar.\nI did attempt removing the j to just trouble shoot the line, changing the indices line to indices = [[i] for i in sess.run(tf.range(0, tf.shape(temp_H)[0]))] but it still gives the same error, so the current error is not with j but with i.\nThe traceback is the following, dealing with the indices =  line still:\nInvalidArgumentError: You must feed a value for placeholder tensor 'Placeholder' with dtype float\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\n\nCaused by op 'Placeholder', defined at:\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 184, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/__main__.py\", line 3, in <module>\n    app.launch_new_instance()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/traitlets/config/application.py\", line 653, in launch_instance\n    app.start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelapp.py\", line 474, in start\n    ioloop.IOLoop.instance().start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/ioloop.py\", line 162, in start\n    super(ZMQIOLoop, self).start()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/ioloop.py\", line 887, in start\n    handler_func(fd_obj, events)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\n    self._handle_recv()\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\n    self._run_callback(callback, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\n    callback(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\n    return fn(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\n    return self.dispatch_shell(stream, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\n    handler(stream, idents, msg)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 390, in execute_request\n    user_expressions, allow_stdin)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/zmqshell.py\", line 501, in run_cell\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\n    interactivity=interactivity, compiler=compiler, result=result)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\n    if self.run_code(code, result):\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"<ipython-input-4-8452266bec9e>\", line 3, in <module>\n    X = tf.placeholder(tf.float32, [None, 28, 28, 1])\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 1587, in placeholder\n    name=name)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2043, in _placeholder\n    name=name)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\n    op_def=op_def)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\n    original_op=self._default_original_op, op_def=op_def)\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\n    self._traceback = _extract_stack()\n\nInvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'Placeholder' with dtype float\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]```", "body": "First of all Zongheng, I'd like to thank you for your help so far. But I'm still not able to get it working. The problem is still dealing with the same line, however it is a different error... I have posted the majority of my code as I believe it might have something to do with `tf.matmul()` being involved right before this process, yet I'm not 100% sure.\r\n\r\n    def My_Function(self, A):\r\n        dims = A.get_shape().as_list()\r\n        shape = [dims[0], self.m] # Defining shape of resulting tensor\r\n        with tf.Session() as sess:\r\n            X = tf.placeholder(tf.float32, shape=[shape[0], shape[1]])\r\n            result = tf.zeros(tf.shape(X), dtype=tf.float32)\r\n            for xyz in self.property:\r\n                # Computation is of the following form, where xyz.M is a tf.Variable() tensor\r\n                a = A[:, xyz.i:xyz.i + xyz.n] # Slice of A (the input tensor)\r\n                temp_H = tf.matmul(a, sub.M)\r\n                indices = [[i,j] for i in sess.run(tf.range(0, tf.shape(temp_H)[0])) for j in tf.sess(tf.range(xyz.k, xyz.k+tf.shape(temp_H)[1]))] # same but with sess.run, tf.range, tf.shape\r\n                # indices is a list of indices to update in \"result\"\r\n                values = tf.reshape(temp_H, [-1]) # Values in temp_H as 1D list\r\n                delta = tf.SparseTensor(indices, values, shape)\r\n                result += tf.sparse_tensor_to_dense(delta)\r\n        return result\r\n\r\n\r\nI have attempted changing `tf.shape(temp_H)[0]` to `tf.shape(result)[0]` (as they have the same first dimension) in that line but I still get the same error. More than likely the same error is going to occur for `j` in the above for loop, but the solution should be similar. \r\n\r\nI did attempt removing the `j` to just trouble shoot the line, changing the indices line to `indices = [[i] for i in sess.run(tf.range(0, tf.shape(temp_H)[0]))]` but it still gives the same error, so the _current_ error is not with `j` but with `i`.\r\n\r\nThe traceback is the following, dealing with the `indices = ` line still:\r\n\r\n```\r\nInvalidArgumentError: You must feed a value for placeholder tensor 'Placeholder' with dtype float\r\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\r\n\r\nCaused by op 'Placeholder', defined at:\r\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 184, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/__main__.py\", line 3, in <module>\r\n    app.launch_new_instance()\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/traitlets/config/application.py\", line 653, in launch_instance\r\n    app.start()\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelapp.py\", line 474, in start\r\n    ioloop.IOLoop.instance().start()\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/ioloop.py\", line 162, in start\r\n    super(ZMQIOLoop, self).start()\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/ioloop.py\", line 887, in start\r\n    handler_func(fd_obj, events)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 440, in _handle_events\r\n    self._handle_recv()\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 472, in _handle_recv\r\n    self._run_callback(callback, msg)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/zmq/eventloop/zmqstream.py\", line 414, in _run_callback\r\n    callback(*args, **kwargs)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tornado/stack_context.py\", line 275, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 276, in dispatcher\r\n    return self.dispatch_shell(stream, msg)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 228, in dispatch_shell\r\n    handler(stream, idents, msg)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 390, in execute_request\r\n    user_expressions, allow_stdin)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/ipkernel.py\", line 196, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/ipykernel/zmqshell.py\", line 501, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2717, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2821, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2881, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-4-8452266bec9e>\", line 3, in <module>\r\n    X = tf.placeholder(tf.float32, [None, 28, 28, 1])\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/array_ops.py\", line 1587, in placeholder\r\n    name=name)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 2043, in _placeholder\r\n    name=name)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 759, in apply_op\r\n    op_def=op_def)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2240, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/home/christopher/anaconda3/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1128, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'Placeholder' with dtype float\r\n[[Node: Placeholder = Placeholder[dtype=DT_FLOAT, shape=[], _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]```\r\n"}