{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/199636094", "html_url": "https://github.com/tensorflow/tensorflow/issues/1502#issuecomment-199636094", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1502", "id": 199636094, "node_id": "MDEyOklzc3VlQ29tbWVudDE5OTYzNjA5NA==", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "created_at": "2016-03-22T04:51:05Z", "updated_at": "2016-03-22T04:51:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm trying out <code>batch_norm_benchmark.py</code> with NCHW layout and the performance seems to drop significantly.<br>\nI might not test it in the right way: I ran <code>run_graph()</code> with <code>shape=[8,128,128,32],axes=[0,1,2]</code>(NHWC) and then<br>\n<code>shape=[8,32,128,128], axes=[0,2,3]</code>(NCHW), on GPU, with <code>mode=py</code>. I saw a 30x performance difference.<br>\nWill this be fixed?</p>", "body_text": "I'm trying out batch_norm_benchmark.py with NCHW layout and the performance seems to drop significantly.\nI might not test it in the right way: I ran run_graph() with shape=[8,128,128,32],axes=[0,1,2](NHWC) and then\nshape=[8,32,128,128], axes=[0,2,3](NCHW), on GPU, with mode=py. I saw a 30x performance difference.\nWill this be fixed?", "body": "I'm trying out `batch_norm_benchmark.py` with NCHW layout and the performance seems to drop significantly.\nI might not test it in the right way: I ran `run_graph()` with `shape=[8,128,128,32],axes=[0,1,2]`(NHWC) and then \n`shape=[8,32,128,128], axes=[0,2,3]`(NCHW), on GPU, with `mode=py`. I saw a 30x performance difference.\nWill this be fixed?\n"}