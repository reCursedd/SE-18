{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/243848844", "html_url": "https://github.com/tensorflow/tensorflow/issues/1502#issuecomment-243848844", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1502", "id": 243848844, "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mzg0ODg0NA==", "user": {"login": "vincentvanhoucke", "id": 15737127, "node_id": "MDQ6VXNlcjE1NzM3MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/15737127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentvanhoucke", "html_url": "https://github.com/vincentvanhoucke", "followers_url": "https://api.github.com/users/vincentvanhoucke/followers", "following_url": "https://api.github.com/users/vincentvanhoucke/following{/other_user}", "gists_url": "https://api.github.com/users/vincentvanhoucke/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentvanhoucke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentvanhoucke/subscriptions", "organizations_url": "https://api.github.com/users/vincentvanhoucke/orgs", "repos_url": "https://api.github.com/users/vincentvanhoucke/repos", "events_url": "https://api.github.com/users/vincentvanhoucke/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentvanhoucke/received_events", "type": "User", "site_admin": false}, "created_at": "2016-08-31T18:02:39Z", "updated_at": "2016-08-31T18:02:39Z", "author_association": "MEMBER", "body_html": "<p>Is this at the head of the tree? We recently changed:<br>\nmean, variance = nn.moments(inputs, axis, shift=moving_mean)<br>\nto:<br>\nshift = math_ops.add(moving_mean, 0)<br>\nmean, variance = nn.moments(inputs, axis, shift=shift)<br>\nto fix a race condition, and this slowed things a tiny bit in our benchmarks.<br>\nSince you're seeing a slow Sum, I wonder if it's related. What happens if you roll back that change?</p>", "body_text": "Is this at the head of the tree? We recently changed:\nmean, variance = nn.moments(inputs, axis, shift=moving_mean)\nto:\nshift = math_ops.add(moving_mean, 0)\nmean, variance = nn.moments(inputs, axis, shift=shift)\nto fix a race condition, and this slowed things a tiny bit in our benchmarks.\nSince you're seeing a slow Sum, I wonder if it's related. What happens if you roll back that change?", "body": "Is this at the head of the tree? We recently changed:\n          mean, variance = nn.moments(inputs, axis, shift=moving_mean)\nto:\n          shift = math_ops.add(moving_mean, 0)\n          mean, variance = nn.moments(inputs, axis, shift=shift)\nto fix a race condition, and this slowed things a tiny bit in our benchmarks.\nSince you're seeing a slow Sum, I wonder if it's related. What happens if you roll back that change?\n"}