{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/370839221", "html_url": "https://github.com/tensorflow/tensorflow/pull/17392#issuecomment-370839221", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/17392", "id": 370839221, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgzOTIyMQ==", "user": {"login": "claynerobison", "id": 23344461, "node_id": "MDQ6VXNlcjIzMzQ0NDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/23344461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claynerobison", "html_url": "https://github.com/claynerobison", "followers_url": "https://api.github.com/users/claynerobison/followers", "following_url": "https://api.github.com/users/claynerobison/following{/other_user}", "gists_url": "https://api.github.com/users/claynerobison/gists{/gist_id}", "starred_url": "https://api.github.com/users/claynerobison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claynerobison/subscriptions", "organizations_url": "https://api.github.com/users/claynerobison/orgs", "repos_url": "https://api.github.com/users/claynerobison/repos", "events_url": "https://api.github.com/users/claynerobison/events{/privacy}", "received_events_url": "https://api.github.com/users/claynerobison/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-06T16:24:43Z", "updated_at": "2018-03-06T16:24:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3339485\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/anton-matosov\">@anton-matosov</a> This PR and 17396 break the MKL Linux builds. Can you test on Linux? Here's the error that we're getting:</p>\n<blockquote>\n<p>bazel build --config=mkl --copt=-mavx2 --copt=-mfma --copt=-march=broadwell --copt=-O3 --copt=-L/opt/tensorflow/gcc6.3/lib64 -s -c opt //tensorflow/tools/pip_package:build_pip_package<br>\n++ grep 'ERROR: ' ../bazel_build.log<br>\n++ wc -l</p>\n<ul>\n<li>'[' 3 = 0 ']'</li>\n<li>RESULT=FAILURE</li>\n<li>ERROR=1</li>\n<li>grep 'ERROR: ' ../bazel_build.log<br>\nERROR: missing input file '//third_party/mkl:MKL_LICENSE'<br>\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '//third_party/mkl:MKL_LICENSE'<br>\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist</li>\n<li>tail -5 ../bazel_build.log<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist<br>\nINFO: Elapsed time: 16.226s, Critical Path: 0.27s<br>\nFAILED: Build did NOT complete successfully</li>\n<li>echo 'RESULT: FAILURE'<br>\nRESULT: FAILURE</li>\n</ul>\n</blockquote>", "body_text": "@anton-matosov This PR and 17396 break the MKL Linux builds. Can you test on Linux? Here's the error that we're getting:\n\nbazel build --config=mkl --copt=-mavx2 --copt=-mfma --copt=-march=broadwell --copt=-O3 --copt=-L/opt/tensorflow/gcc6.3/lib64 -s -c opt //tensorflow/tools/pip_package:build_pip_package\n++ grep 'ERROR: ' ../bazel_build.log\n++ wc -l\n\n'[' 3 = 0 ']'\nRESULT=FAILURE\nERROR=1\ngrep 'ERROR: ' ../bazel_build.log\nERROR: missing input file '//third_party/mkl:MKL_LICENSE'\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '//third_party/mkl:MKL_LICENSE'\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist\ntail -5 ../bazel_build.log\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist\nINFO: Elapsed time: 16.226s, Critical Path: 0.27s\nFAILED: Build did NOT complete successfully\necho 'RESULT: FAILURE'\nRESULT: FAILURE", "body": "@anton-matosov This PR and 17396 break the MKL Linux builds. Can you test on Linux? Here's the error that we're getting:\r\n \r\n> bazel build --config=mkl --copt=-mavx2 --copt=-mfma --copt=-march=broadwell --copt=-O3 --copt=-L/opt/tensorflow/gcc6.3/lib64 -s -c opt //tensorflow/tools/pip_package:build_pip_package\r\n> ++ grep 'ERROR: ' ../bazel_build.log\r\n> ++ wc -l\r\n> + '[' 3 = 0 ']'\r\n> + RESULT=FAILURE\r\n> + ERROR=1\r\n> + grep 'ERROR: ' ../bazel_build.log\r\n> ERROR: missing input file '//third_party/mkl:MKL_LICENSE'\r\n> ERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1: //tensorflow/tools/pip_package:build_pip_package: missing input file '//third_party/mkl:MKL_LICENSE'\r\n> ERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist\r\n> + tail -5 ../bazel_build.log\r\n> Target //tensorflow/tools/pip_package:build_pip_package failed to build\r\n> Use --verbose_failures to see the command lines of failed build steps.\r\n> ERROR: /dataset/cje/AIPG_TF/workspace/private-tensorflow-pr-mkldnn/private-tensorflow/tensorflow/tools/pip_package/BUILD:133:1 1 input file(s) do not exist\r\n> INFO: Elapsed time: 16.226s, Critical Path: 0.27s\r\n> FAILED: Build did NOT complete successfully\r\n> + echo 'RESULT: FAILURE'\r\n> RESULT: FAILURE"}