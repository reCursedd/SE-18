{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/155680018", "html_url": "https://github.com/tensorflow/tensorflow/pull/113#issuecomment-155680018", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/113", "id": 155680018, "node_id": "MDEyOklzc3VlQ29tbWVudDE1NTY4MDAxOA==", "user": {"login": "jeffdonahue", "id": 965190, "node_id": "MDQ6VXNlcjk2NTE5MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/965190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffdonahue", "html_url": "https://github.com/jeffdonahue", "followers_url": "https://api.github.com/users/jeffdonahue/followers", "following_url": "https://api.github.com/users/jeffdonahue/following{/other_user}", "gists_url": "https://api.github.com/users/jeffdonahue/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffdonahue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffdonahue/subscriptions", "organizations_url": "https://api.github.com/users/jeffdonahue/orgs", "repos_url": "https://api.github.com/users/jeffdonahue/repos", "events_url": "https://api.github.com/users/jeffdonahue/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffdonahue/received_events", "type": "User", "site_admin": false}, "created_at": "2015-11-11T06:22:09Z", "updated_at": "2015-11-11T06:45:52Z", "author_association": "NONE", "body_html": "<p>Seems likely that could be the issue.  Yangqing asked offline if I might have had busy CPUs at the time -- rerunning this again on the same machine now, with only a couple of processes with high CPU util. running (might have been building Caffe with <code>make -j</code> during the run I quoted originally...), I get much better forward-backward times (but still ~3x longer than Caffe's):</p>\n<pre><code>2015-11-10 22:11:35.540247: step 10, duration = 0.100\n2015-11-10 22:11:36.542970: step 20, duration = 0.101\n2015-11-10 22:11:37.546989: step 30, duration = 0.101\n2015-11-10 22:11:38.553355: step 40, duration = 0.101\n2015-11-10 22:11:39.560323: step 50, duration = 0.101\n2015-11-10 22:11:40.568854: step 60, duration = 0.101\n2015-11-10 22:11:41.575478: step 70, duration = 0.101\n2015-11-10 22:11:42.582592: step 80, duration = 0.100\n2015-11-10 22:11:43.587321: step 90, duration = 0.101\n2015-11-10 22:11:44.493066: Forward across 100 steps, 0.100 +/- 0.010 sec / batch\n2015-11-10 22:12:33.809496: step 10, duration = 1.616\n2015-11-10 22:12:47.661195: step 20, duration = 1.347\n2015-11-10 22:13:01.331951: step 30, duration = 1.385\n2015-11-10 22:13:15.189127: step 40, duration = 1.341\n2015-11-10 22:13:29.213192: step 50, duration = 1.633\n2015-11-10 22:13:42.824959: step 60, duration = 1.342\n2015-11-10 22:13:56.128193: step 70, duration = 1.317\n2015-11-10 22:14:09.408324: step 80, duration = 1.321\n2015-11-10 22:14:22.658480: step 90, duration = 1.321\n2015-11-10 22:14:37.811581: Forward-backward across 100 steps, 1.420 +/- 0.408 sec / batch\n</code></pre>", "body_text": "Seems likely that could be the issue.  Yangqing asked offline if I might have had busy CPUs at the time -- rerunning this again on the same machine now, with only a couple of processes with high CPU util. running (might have been building Caffe with make -j during the run I quoted originally...), I get much better forward-backward times (but still ~3x longer than Caffe's):\n2015-11-10 22:11:35.540247: step 10, duration = 0.100\n2015-11-10 22:11:36.542970: step 20, duration = 0.101\n2015-11-10 22:11:37.546989: step 30, duration = 0.101\n2015-11-10 22:11:38.553355: step 40, duration = 0.101\n2015-11-10 22:11:39.560323: step 50, duration = 0.101\n2015-11-10 22:11:40.568854: step 60, duration = 0.101\n2015-11-10 22:11:41.575478: step 70, duration = 0.101\n2015-11-10 22:11:42.582592: step 80, duration = 0.100\n2015-11-10 22:11:43.587321: step 90, duration = 0.101\n2015-11-10 22:11:44.493066: Forward across 100 steps, 0.100 +/- 0.010 sec / batch\n2015-11-10 22:12:33.809496: step 10, duration = 1.616\n2015-11-10 22:12:47.661195: step 20, duration = 1.347\n2015-11-10 22:13:01.331951: step 30, duration = 1.385\n2015-11-10 22:13:15.189127: step 40, duration = 1.341\n2015-11-10 22:13:29.213192: step 50, duration = 1.633\n2015-11-10 22:13:42.824959: step 60, duration = 1.342\n2015-11-10 22:13:56.128193: step 70, duration = 1.317\n2015-11-10 22:14:09.408324: step 80, duration = 1.321\n2015-11-10 22:14:22.658480: step 90, duration = 1.321\n2015-11-10 22:14:37.811581: Forward-backward across 100 steps, 1.420 +/- 0.408 sec / batch", "body": "Seems likely that could be the issue.  Yangqing asked offline if I might have had busy CPUs at the time -- rerunning this again on the same machine now, with only a couple of processes with high CPU util. running (might have been building Caffe with `make -j` during the run I quoted originally...), I get much better forward-backward times (but still ~3x longer than Caffe's):\n\n```\n2015-11-10 22:11:35.540247: step 10, duration = 0.100\n2015-11-10 22:11:36.542970: step 20, duration = 0.101\n2015-11-10 22:11:37.546989: step 30, duration = 0.101\n2015-11-10 22:11:38.553355: step 40, duration = 0.101\n2015-11-10 22:11:39.560323: step 50, duration = 0.101\n2015-11-10 22:11:40.568854: step 60, duration = 0.101\n2015-11-10 22:11:41.575478: step 70, duration = 0.101\n2015-11-10 22:11:42.582592: step 80, duration = 0.100\n2015-11-10 22:11:43.587321: step 90, duration = 0.101\n2015-11-10 22:11:44.493066: Forward across 100 steps, 0.100 +/- 0.010 sec / batch\n2015-11-10 22:12:33.809496: step 10, duration = 1.616\n2015-11-10 22:12:47.661195: step 20, duration = 1.347\n2015-11-10 22:13:01.331951: step 30, duration = 1.385\n2015-11-10 22:13:15.189127: step 40, duration = 1.341\n2015-11-10 22:13:29.213192: step 50, duration = 1.633\n2015-11-10 22:13:42.824959: step 60, duration = 1.342\n2015-11-10 22:13:56.128193: step 70, duration = 1.317\n2015-11-10 22:14:09.408324: step 80, duration = 1.321\n2015-11-10 22:14:22.658480: step 90, duration = 1.321\n2015-11-10 22:14:37.811581: Forward-backward across 100 steps, 1.420 +/- 0.408 sec / batch\n```\n"}