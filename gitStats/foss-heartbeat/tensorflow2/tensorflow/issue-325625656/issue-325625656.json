{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19492", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19492/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19492/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19492/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/19492", "id": 325625656, "node_id": "MDU6SXNzdWUzMjU2MjU2NTY=", "number": 19492, "title": "How to freeze the graph ? ", "user": {"login": "bibhu107", "id": 23478853, "node_id": "MDQ6VXNlcjIzNDc4ODUz", "avatar_url": "https://avatars0.githubusercontent.com/u/23478853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bibhu107", "html_url": "https://github.com/bibhu107", "followers_url": "https://api.github.com/users/bibhu107/followers", "following_url": "https://api.github.com/users/bibhu107/following{/other_user}", "gists_url": "https://api.github.com/users/bibhu107/gists{/gist_id}", "starred_url": "https://api.github.com/users/bibhu107/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bibhu107/subscriptions", "organizations_url": "https://api.github.com/users/bibhu107/orgs", "repos_url": "https://api.github.com/users/bibhu107/repos", "events_url": "https://api.github.com/users/bibhu107/events{/privacy}", "received_events_url": "https://api.github.com/users/bibhu107/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-23T09:36:41Z", "updated_at": "2018-05-24T05:15:43Z", "closed_at": "2018-05-24T05:15:43Z", "author_association": "NONE", "body_html": "<pre><code>sess = tf.Session()\nsess.run(tf.global_variables_initializer())\n\ntf.train.write_graph(sess.graph.as_graph_def(),'.','tensorflowModel.pbtxt', as_text=True)\n\nsaver.save(sess, './my_test_model.ckpt')\n\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")\n\n</code></pre>\n<p>Error:<br>\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")<br>\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph<br>\ncheckpoint_version=checkpoint_version)<br>\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 153, in freeze_graph_with_def_protos<br>\nvariable_names_blacklist=variable_names_blacklist)<br>\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 232, in convert_variables_to_constants<br>\ninference_graph = extract_sub_graph(input_graph_def, output_node_names)<br>\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 174, in extract_sub_graph<br>\n_assert_nodes_are_present(name_to_node, dest_nodes)<br>\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 133, in _assert_nodes_are_present<br>\n<strong>assert d in name_to_node, \"%s is not in graph\" % d<br>\nAssertionError: output/predictions is not in graph</strong></p>", "body_text": "sess = tf.Session()\nsess.run(tf.global_variables_initializer())\n\ntf.train.write_graph(sess.graph.as_graph_def(),'.','tensorflowModel.pbtxt', as_text=True)\n\nsaver.save(sess, './my_test_model.ckpt')\n\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")\n\n\nError:\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph\ncheckpoint_version=checkpoint_version)\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 153, in freeze_graph_with_def_protos\nvariable_names_blacklist=variable_names_blacklist)\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 232, in convert_variables_to_constants\ninference_graph = extract_sub_graph(input_graph_def, output_node_names)\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 174, in extract_sub_graph\n_assert_nodes_are_present(name_to_node, dest_nodes)\nFile \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 133, in _assert_nodes_are_present\nassert d in name_to_node, \"%s is not in graph\" % d\nAssertionError: output/predictions is not in graph", "body": "```\r\nsess = tf.Session()\r\nsess.run(tf.global_variables_initializer())\r\n\r\ntf.train.write_graph(sess.graph.as_graph_def(),'.','tensorflowModel.pbtxt', as_text=True)\r\n\r\nsaver.save(sess, './my_test_model.ckpt')\r\n\r\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")\r\n\r\n```\r\n\r\nError:\r\nfreeze_graph.freeze_graph('./tensorflowModel.pbtxt', \"\",False,'./my_test_model.ckpt', \"output/predictions\", \"save/restore_all\",  \"save/Const:0\",'frozen.pb', True,\"\")\r\n  File \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 254, in freeze_graph\r\n    checkpoint_version=checkpoint_version)\r\n  File \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/tools/freeze_graph.py\", line 153, in freeze_graph_with_def_protos\r\n    variable_names_blacklist=variable_names_blacklist)\r\n  File \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 232, in convert_variables_to_constants\r\n    inference_graph = extract_sub_graph(input_graph_def, output_node_names)\r\n  File \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 174, in extract_sub_graph\r\n    _assert_nodes_are_present(name_to_node, dest_nodes)\r\n  File \"/home/bibhu/anaconda2/lib/python2.7/site-packages/tensorflow/python/framework/graph_util_impl.py\", line 133, in _assert_nodes_are_present\r\n    **assert d in name_to_node, \"%s is not in graph\" % d\r\nAssertionError: output/predictions is not in graph**\r\n \r\n"}