{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/262493403", "html_url": "https://github.com/tensorflow/tensorflow/issues/22#issuecomment-262493403", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22", "id": 262493403, "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjQ5MzQwMw==", "user": {"login": "cathalgarvey", "id": 1167837, "node_id": "MDQ6VXNlcjExNjc4Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1167837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cathalgarvey", "html_url": "https://github.com/cathalgarvey", "followers_url": "https://api.github.com/users/cathalgarvey/followers", "following_url": "https://api.github.com/users/cathalgarvey/following{/other_user}", "gists_url": "https://api.github.com/users/cathalgarvey/gists{/gist_id}", "starred_url": "https://api.github.com/users/cathalgarvey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cathalgarvey/subscriptions", "organizations_url": "https://api.github.com/users/cathalgarvey/orgs", "repos_url": "https://api.github.com/users/cathalgarvey/repos", "events_url": "https://api.github.com/users/cathalgarvey/events{/privacy}", "received_events_url": "https://api.github.com/users/cathalgarvey/received_events", "type": "User", "site_admin": false}, "created_at": "2016-11-23T11:47:48Z", "updated_at": "2016-11-23T11:47:48Z", "author_association": "NONE", "body_html": "<p><code>py.test</code> is as good a solution as any; it's just a <code>pip</code> away and that's part of the process for installing <code>tensorflow</code> anyway.</p>\n<p>I've discovered a few interesting things since starting my tests, and they may not be debuggable using Python output alone, however:</p>\n<ul>\n<li>Different calls to the same script may crash early, or may \"hang\" (no output, no progress, no response to <code>Ctrl-C</code>, process needs to be <code>pkill -9</code>'d), or may crash late either at the validation part or after the script completes successfully. Crashes (segfaults) may take down Xorg.</li>\n<li>The results vary for seemingly no reason: I may call a script and have it segfault, then call it again and it will work.</li>\n<li>Hangs can occur in portions of code that were working literally moments ago, I've had one hang occur within or after a training batch, after several hundred batches just happened successfully.</li>\n</ul>\n<p>So, it might be that there's unresolved stuff on the GPU side, and that a good segfault is needed to clear it out? I don't know much about the GPU model or OpenCL yet, so I can't contribute much here. But, it might be that GPU debugging output is needed to properly explore what's happening.</p>", "body_text": "py.test is as good a solution as any; it's just a pip away and that's part of the process for installing tensorflow anyway.\nI've discovered a few interesting things since starting my tests, and they may not be debuggable using Python output alone, however:\n\nDifferent calls to the same script may crash early, or may \"hang\" (no output, no progress, no response to Ctrl-C, process needs to be pkill -9'd), or may crash late either at the validation part or after the script completes successfully. Crashes (segfaults) may take down Xorg.\nThe results vary for seemingly no reason: I may call a script and have it segfault, then call it again and it will work.\nHangs can occur in portions of code that were working literally moments ago, I've had one hang occur within or after a training batch, after several hundred batches just happened successfully.\n\nSo, it might be that there's unresolved stuff on the GPU side, and that a good segfault is needed to clear it out? I don't know much about the GPU model or OpenCL yet, so I can't contribute much here. But, it might be that GPU debugging output is needed to properly explore what's happening.", "body": "`py.test` is as good a solution as any; it's just a `pip` away and that's part of the process for installing `tensorflow` anyway.\r\n\r\nI've discovered a few interesting things since starting my tests, and they may not be debuggable using Python output alone, however:\r\n\r\n* Different calls to the same script may crash early, or may \"hang\" (no output, no progress, no response to `Ctrl-C`, process needs to be `pkill -9`'d), or may crash late either at the validation part or after the script completes successfully. Crashes (segfaults) may take down Xorg.\r\n* The results vary for seemingly no reason: I may call a script and have it segfault, then call it again and it will work.\r\n* Hangs can occur in portions of code that were working literally moments ago, I've had one hang occur within or after a training batch, after several hundred batches just happened successfully.\r\n\r\nSo, it might be that there's unresolved stuff on the GPU side, and that a good segfault is needed to clear it out? I don't know much about the GPU model or OpenCL yet, so I can't contribute much here. But, it might be that GPU debugging output is needed to properly explore what's happening."}