{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/256977050", "html_url": "https://github.com/tensorflow/tensorflow/issues/22#issuecomment-256977050", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22", "id": 256977050, "node_id": "MDEyOklzc3VlQ29tbWVudDI1Njk3NzA1MA==", "user": {"login": "inferrna", "id": 4245277, "node_id": "MDQ6VXNlcjQyNDUyNzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4245277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inferrna", "html_url": "https://github.com/inferrna", "followers_url": "https://api.github.com/users/inferrna/followers", "following_url": "https://api.github.com/users/inferrna/following{/other_user}", "gists_url": "https://api.github.com/users/inferrna/gists{/gist_id}", "starred_url": "https://api.github.com/users/inferrna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inferrna/subscriptions", "organizations_url": "https://api.github.com/users/inferrna/orgs", "repos_url": "https://api.github.com/users/inferrna/repos", "events_url": "https://api.github.com/users/inferrna/events{/privacy}", "received_events_url": "https://api.github.com/users/inferrna/received_events", "type": "User", "site_admin": false}, "created_at": "2016-10-28T17:16:08Z", "updated_at": "2016-10-28T17:16:08Z", "author_association": "NONE", "body_html": "<p>Got error while testing keras with tensorflow</p>\n<pre><code>keras$ KERAS_BACKEND=tensorflow pytest3\n</code></pre>\n<p>Output errors:</p>\n<pre><code>Invalid kernel name, code -46, kernel _ZN5Eigen8internal15EigenMetaKernelINS_15TensorEvaluatorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLi1ELi1EiEELi16ENS_11MakePointerEEEKNS_18TensorCwiseUnaryOpINS0_12scalar_rightIffNS0_17scalar_product_opIffEEEEKNS4_INS5_IKfLi1ELi1EiEELi16ES7_EEEEEENS_9GpuDeviceEEEiEEvT_T0_\n__internal__ build log: \n\"/tmp/OCL11307T1.cl\", line 3: error: variable with automatic storage duration\n          cannot be stored in the named address space\n      local float mem[1024];\n</code></pre>\n<p>Code:</p>\n<div class=\"highlight highlight-source-c\"><pre><span class=\"pl-k\">inline</span> <span class=\"pl-k\">float</span> <span class=\"pl-en\">__shfl_down_3</span>(<span class=\"pl-k\">float</span> v0, <span class=\"pl-k\">int</span> v1, <span class=\"pl-k\">int</span> v2) {\n    local <span class=\"pl-k\">float</span> mem[<span class=\"pl-c1\">1024</span>];\n    <span class=\"pl-k\">int</span> tid = <span class=\"pl-c1\">get_local_id</span>(<span class=\"pl-c1\">0</span>);\n    <span class=\"pl-k\">int</span> warpid = tid % <span class=\"pl-c1\">32</span>;\n    <span class=\"pl-k\">int</span> warpstart = tid - warpid;\n    mem[tid] = v0;\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span>barrier(CLK_LOCAL_MEM_FENCE);</span>\n    <span class=\"pl-k\">int</span> warpsrc = warpid + v1;\n    warpsrc = warpsrc &gt;= <span class=\"pl-c1\">32</span> ? warpid : warpsrc;\n    <span class=\"pl-k\">return</span> mem[warpstart + warpsrc];\n}</pre></div>", "body_text": "Got error while testing keras with tensorflow\nkeras$ KERAS_BACKEND=tensorflow pytest3\n\nOutput errors:\nInvalid kernel name, code -46, kernel _ZN5Eigen8internal15EigenMetaKernelINS_15TensorEvaluatorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLi1ELi1EiEELi16ENS_11MakePointerEEEKNS_18TensorCwiseUnaryOpINS0_12scalar_rightIffNS0_17scalar_product_opIffEEEEKNS4_INS5_IKfLi1ELi1EiEELi16ES7_EEEEEENS_9GpuDeviceEEEiEEvT_T0_\n__internal__ build log: \n\"/tmp/OCL11307T1.cl\", line 3: error: variable with automatic storage duration\n          cannot be stored in the named address space\n      local float mem[1024];\n\nCode:\ninline float __shfl_down_3(float v0, int v1, int v2) {\n    local float mem[1024];\n    int tid = get_local_id(0);\n    int warpid = tid % 32;\n    int warpstart = tid - warpid;\n    mem[tid] = v0;\n    //barrier(CLK_LOCAL_MEM_FENCE);\n    int warpsrc = warpid + v1;\n    warpsrc = warpsrc >= 32 ? warpid : warpsrc;\n    return mem[warpstart + warpsrc];\n}", "body": "Got error while testing keras with tensorflow\n\n```\nkeras$ KERAS_BACKEND=tensorflow pytest3\n```\n\nOutput errors:\n\n```\nInvalid kernel name, code -46, kernel _ZN5Eigen8internal15EigenMetaKernelINS_15TensorEvaluatorIKNS_14TensorAssignOpINS_9TensorMapINS_6TensorIfLi1ELi1EiEELi16ENS_11MakePointerEEEKNS_18TensorCwiseUnaryOpINS0_12scalar_rightIffNS0_17scalar_product_opIffEEEEKNS4_INS5_IKfLi1ELi1EiEELi16ES7_EEEEEENS_9GpuDeviceEEEiEEvT_T0_\n__internal__ build log: \n\"/tmp/OCL11307T1.cl\", line 3: error: variable with automatic storage duration\n          cannot be stored in the named address space\n      local float mem[1024];\n```\n\nCode:\n\n``` C\ninline float __shfl_down_3(float v0, int v1, int v2) {\n    local float mem[1024];\n    int tid = get_local_id(0);\n    int warpid = tid % 32;\n    int warpstart = tid - warpid;\n    mem[tid] = v0;\n    //barrier(CLK_LOCAL_MEM_FENCE);\n    int warpsrc = warpid + v1;\n    warpsrc = warpsrc >= 32 ? warpid : warpsrc;\n    return mem[warpstart + warpsrc];\n}\n```\n"}