{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/327737248", "html_url": "https://github.com/tensorflow/tensorflow/issues/22#issuecomment-327737248", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/22", "id": 327737248, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzczNzI0OA==", "user": {"login": "joe8086", "id": 28940671, "node_id": "MDQ6VXNlcjI4OTQwNjcx", "avatar_url": "https://avatars2.githubusercontent.com/u/28940671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joe8086", "html_url": "https://github.com/joe8086", "followers_url": "https://api.github.com/users/joe8086/followers", "following_url": "https://api.github.com/users/joe8086/following{/other_user}", "gists_url": "https://api.github.com/users/joe8086/gists{/gist_id}", "starred_url": "https://api.github.com/users/joe8086/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joe8086/subscriptions", "organizations_url": "https://api.github.com/users/joe8086/orgs", "repos_url": "https://api.github.com/users/joe8086/repos", "events_url": "https://api.github.com/users/joe8086/events{/privacy}", "received_events_url": "https://api.github.com/users/joe8086/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-07T08:59:03Z", "updated_at": "2017-09-07T08:59:03Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=800194\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rodburns\">@rodburns</a> Thanks.<br>\nMy err is build tensorflow miss config option --config=sycl<br>\nAfter add this option with this branch code <a href=\"https://github.com/lukeiwanski/tensorflow.git\">https://github.com/lukeiwanski/tensorflow.git</a><br>\nI can see tensorflow run with OpenCL backend.</p>\n<p>For Eigen guide, the main error is at:<br>\n1, not give correct include file.<br>\n2, for array, Tensor, TensorMap not give correct templet parameter.<br>\n3, for static_cast not give data type.</p>\n<p>add more information which maybe give this discuss topic some help.<br>\n1, Main tensorflow can't build tensorflow with --config=sycl correct.<br>\n2, With CPU OpenCL, the speed is about 4x~8x times spend than normal CPU implement in my environment.</p>\n<p>time python classify_image.py<br>\n2017-09-07 16:56:29.076054: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX<br>\n2017-09-07 16:56:29.077967: W ./tensorflow/core/common_runtime/sycl/sycl_device.h:49] No OpenCL GPU found that is supported by ComputeCpp, trying OpenCL CPU<br>\n2017-09-07 16:56:29.159775: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:66] Found following OpenCL devices:<br>\n2017-09-07 16:56:29.159825: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:68] id: 0, type: CPU, name: Intel(R) Core(TM) i7-6700HQ CPU @ 2.60GHz, vendor: Intel(R) Corporation, profile: FULL_PROFILE<br>\n2017-09-07 16:56:30.213375: W ./tensorflow/core/framework/op_def_util.cc:333] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().<br>\ngiant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca (score = 0.89107)<br>\nindri, indris, Indri indri, Indri brevicaudatus (score = 0.00779)<br>\nlesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens (score = 0.00296)<br>\ncustard apple (score = 0.00147)<br>\nearthstar (score = 0.00117)</p>\n<p>real\t1m44.473s<br>\nuser\t2m8.980s<br>\nsys\t1m20.024s</p>", "body_text": "@rodburns Thanks.\nMy err is build tensorflow miss config option --config=sycl\nAfter add this option with this branch code https://github.com/lukeiwanski/tensorflow.git\nI can see tensorflow run with OpenCL backend.\nFor Eigen guide, the main error is at:\n1, not give correct include file.\n2, for array, Tensor, TensorMap not give correct templet parameter.\n3, for static_cast not give data type.\nadd more information which maybe give this discuss topic some help.\n1, Main tensorflow can't build tensorflow with --config=sycl correct.\n2, With CPU OpenCL, the speed is about 4x~8x times spend than normal CPU implement in my environment.\ntime python classify_image.py\n2017-09-07 16:56:29.076054: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX\n2017-09-07 16:56:29.077967: W ./tensorflow/core/common_runtime/sycl/sycl_device.h:49] No OpenCL GPU found that is supported by ComputeCpp, trying OpenCL CPU\n2017-09-07 16:56:29.159775: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:66] Found following OpenCL devices:\n2017-09-07 16:56:29.159825: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:68] id: 0, type: CPU, name: Intel(R) Core(TM) i7-6700HQ CPU @ 2.60GHz, vendor: Intel(R) Corporation, profile: FULL_PROFILE\n2017-09-07 16:56:30.213375: W ./tensorflow/core/framework/op_def_util.cc:333] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\ngiant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca (score = 0.89107)\nindri, indris, Indri indri, Indri brevicaudatus (score = 0.00779)\nlesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens (score = 0.00296)\ncustard apple (score = 0.00147)\nearthstar (score = 0.00117)\nreal\t1m44.473s\nuser\t2m8.980s\nsys\t1m20.024s", "body": "@rodburns Thanks.\r\nMy err is build tensorflow miss config option --config=sycl\r\nAfter add this option with this branch code https://github.com/lukeiwanski/tensorflow.git\r\nI can see tensorflow run with OpenCL backend.\r\n\r\nFor Eigen guide, the main error is at:\r\n1, not give correct include file.\r\n2, for array, Tensor, TensorMap not give correct templet parameter.\r\n3, for static_cast not give data type.\r\n\r\nadd more information which maybe give this discuss topic some help.\r\n1, Main tensorflow can't build tensorflow with --config=sycl correct.\r\n2, With CPU OpenCL, the speed is about 4x~8x times spend than normal CPU implement in my environment. \r\n\r\n\r\ntime python classify_image.py \r\n2017-09-07 16:56:29.076054: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX\r\n2017-09-07 16:56:29.077967: W ./tensorflow/core/common_runtime/sycl/sycl_device.h:49] No OpenCL GPU found that is supported by ComputeCpp, trying OpenCL CPU\r\n2017-09-07 16:56:29.159775: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:66] Found following OpenCL devices:\r\n2017-09-07 16:56:29.159825: I ./tensorflow/core/common_runtime/sycl/sycl_device.h:68] id: 0, type: CPU, name: Intel(R) Core(TM) i7-6700HQ CPU @ 2.60GHz, vendor: Intel(R) Corporation, profile: FULL_PROFILE\r\n2017-09-07 16:56:30.213375: W ./tensorflow/core/framework/op_def_util.cc:333] Op BatchNormWithGlobalNormalization is deprecated. It will cease to work in GraphDef version 9. Use tf.nn.batch_normalization().\r\ngiant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca (score = 0.89107)\r\nindri, indris, Indri indri, Indri brevicaudatus (score = 0.00779)\r\nlesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens (score = 0.00296)\r\ncustard apple (score = 0.00147)\r\nearthstar (score = 0.00117)\r\n\r\nreal\t1m44.473s\r\nuser\t2m8.980s\r\nsys\t1m20.024s\r\n"}