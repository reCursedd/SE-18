{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13931", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13931/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13931/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13931/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13931", "id": 267849309, "node_id": "MDU6SXNzdWUyNjc4NDkzMDk=", "number": 13931, "title": "TF 1.4 (CUDA 9/CUDNN7) Chrome Tracing Timeline broken", "user": {"login": "axeln31459", "id": 24719485, "node_id": "MDQ6VXNlcjI0NzE5NDg1", "avatar_url": "https://avatars2.githubusercontent.com/u/24719485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/axeln31459", "html_url": "https://github.com/axeln31459", "followers_url": "https://api.github.com/users/axeln31459/followers", "following_url": "https://api.github.com/users/axeln31459/following{/other_user}", "gists_url": "https://api.github.com/users/axeln31459/gists{/gist_id}", "starred_url": "https://api.github.com/users/axeln31459/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/axeln31459/subscriptions", "organizations_url": "https://api.github.com/users/axeln31459/orgs", "repos_url": "https://api.github.com/users/axeln31459/repos", "events_url": "https://api.github.com/users/axeln31459/events{/privacy}", "received_events_url": "https://api.github.com/users/axeln31459/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "prb12", "id": 11547801, "node_id": "MDQ6VXNlcjExNTQ3ODAx", "avatar_url": "https://avatars1.githubusercontent.com/u/11547801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prb12", "html_url": "https://github.com/prb12", "followers_url": "https://api.github.com/users/prb12/followers", "following_url": "https://api.github.com/users/prb12/following{/other_user}", "gists_url": "https://api.github.com/users/prb12/gists{/gist_id}", "starred_url": "https://api.github.com/users/prb12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prb12/subscriptions", "organizations_url": "https://api.github.com/users/prb12/orgs", "repos_url": "https://api.github.com/users/prb12/repos", "events_url": "https://api.github.com/users/prb12/events{/privacy}", "received_events_url": "https://api.github.com/users/prb12/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-10-23T23:29:50Z", "updated_at": "2018-04-24T22:47:30Z", "closed_at": "2018-04-24T22:47:30Z", "author_association": "NONE", "body_html": "<p>Please go to Stack Overflow for help and support:</p>\n<p><a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">https://stackoverflow.com/questions/tagged/tensorflow</a></p>\n<hr>\n<h3>System information</h3>\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: ArchLinux Latest</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>:Source</li>\n<li><strong>TensorFlow version (use command below)</strong>: 1.4</li>\n<li><strong>Python version</strong>: 3.6</li>\n<li><strong>Bazel version (if compiling from source)</strong>: 0.7</li>\n<li><strong>CUDA/cuDNN version</strong>: 9 /7</li>\n<li><strong>GPU model and memory</strong>: 2* Nvidia1080ti (11GB)</li>\n<li><strong>Exact command to reproduce</strong>:<br>\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)<br>\nrun_metadata = tf.RunMetadata()<br>\ntraining_loss_, _ = sess.run(op_list,<br>\nfeed_dict=feed_dict,<br>\noptions=run_options,run_metadata=run_metadata)<br>\ntl=timeline.Timeline(run_metadata.step_stats)<br>\nchrome_trace = tl.generate_chrome_trace_format()<br>\nwith open(filename, 'w') as f:<br>\nf.write(chrome_trace)</li>\n</ul>\n<h3>Describe the problem</h3>\n<p>After switching to TF 1.4 compiled with CUDA 9 /CUDNN7 from TF 1.3 with CUDA 8 and CUDNN 6, chrome trace timeline stopped working, otherwise the code runs as before. See the attached screenshots (TF1.4 / TF1.3).</p>\n<h3>Source code / logs</h3>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24719485/31917426-7a1b3828-b84f-11e7-8352-b82088b353bb.png\"><img src=\"https://user-images.githubusercontent.com/24719485/31917426-7a1b3828-b84f-11e7-8352-b82088b353bb.png\" alt=\"image\" style=\"max-width:100%;\"></a><br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24719485/31917461-9f9dd3d0-b84f-11e7-874d-c9c6dadf3bc8.png\"><img src=\"https://user-images.githubusercontent.com/24719485/31917461-9f9dd3d0-b84f-11e7-874d-c9c6dadf3bc8.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>", "body_text": "Please go to Stack Overflow for help and support:\nhttps://stackoverflow.com/questions/tagged/tensorflow\n\nSystem information\n\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): ArchLinux Latest\nTensorFlow installed from (source or binary):Source\nTensorFlow version (use command below): 1.4\nPython version: 3.6\nBazel version (if compiling from source): 0.7\nCUDA/cuDNN version: 9 /7\nGPU model and memory: 2* Nvidia1080ti (11GB)\nExact command to reproduce:\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\nrun_metadata = tf.RunMetadata()\ntraining_loss_, _ = sess.run(op_list,\nfeed_dict=feed_dict,\noptions=run_options,run_metadata=run_metadata)\ntl=timeline.Timeline(run_metadata.step_stats)\nchrome_trace = tl.generate_chrome_trace_format()\nwith open(filename, 'w') as f:\nf.write(chrome_trace)\n\nDescribe the problem\nAfter switching to TF 1.4 compiled with CUDA 9 /CUDNN7 from TF 1.3 with CUDA 8 and CUDNN 6, chrome trace timeline stopped working, otherwise the code runs as before. See the attached screenshots (TF1.4 / TF1.3).\nSource code / logs", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: ArchLinux Latest\r\n- **TensorFlow installed from (source or binary)**:Source\r\n- **TensorFlow version (use command below)**: 1.4\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: 0.7\r\n- **CUDA/cuDNN version**: 9 /7\r\n- **GPU model and memory**: 2* Nvidia1080ti (11GB)\r\n- **Exact command to reproduce**: \r\nrun_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)\r\nrun_metadata = tf.RunMetadata()\r\ntraining_loss_, _ = sess.run(op_list,                                          \r\n      feed_dict=feed_dict,\r\n      options=run_options,run_metadata=run_metadata)\r\ntl=timeline.Timeline(run_metadata.step_stats)\r\nchrome_trace = tl.generate_chrome_trace_format()\r\nwith open(filename, 'w') as f:\r\n              f.write(chrome_trace)\r\n\r\n\r\n### Describe the problem\r\nAfter switching to TF 1.4 compiled with CUDA 9 /CUDNN7 from TF 1.3 with CUDA 8 and CUDNN 6, chrome trace timeline stopped working, otherwise the code runs as before. See the attached screenshots (TF1.4 / TF1.3).\r\n\r\n### Source code / logs\r\n![image](https://user-images.githubusercontent.com/24719485/31917426-7a1b3828-b84f-11e7-8352-b82088b353bb.png)\r\n![image](https://user-images.githubusercontent.com/24719485/31917461-9f9dd3d0-b84f-11e7-874d-c9c6dadf3bc8.png)\r\n"}