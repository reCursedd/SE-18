{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2741", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2741/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2741/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/2741/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/2741", "id": 159286028, "node_id": "MDU6SXNzdWUxNTkyODYwMjg=", "number": 2741, "title": "Does max_pooling3d support strides that are not same along height, width and depth?", "user": {"login": "nrahul", "id": 10476664, "node_id": "MDQ6VXNlcjEwNDc2NjY0", "avatar_url": "https://avatars0.githubusercontent.com/u/10476664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrahul", "html_url": "https://github.com/nrahul", "followers_url": "https://api.github.com/users/nrahul/followers", "following_url": "https://api.github.com/users/nrahul/following{/other_user}", "gists_url": "https://api.github.com/users/nrahul/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrahul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrahul/subscriptions", "organizations_url": "https://api.github.com/users/nrahul/orgs", "repos_url": "https://api.github.com/users/nrahul/repos", "events_url": "https://api.github.com/users/nrahul/events{/privacy}", "received_events_url": "https://api.github.com/users/nrahul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-08T22:10:00Z", "updated_at": "2016-06-09T16:59:48Z", "closed_at": "2016-06-09T16:59:48Z", "author_association": "NONE", "body_html": "<p>I am using tensorflow to train a network that has 3D convolutions and 3D max-pooling layers. Some of the 3D max-pooling layers use a stride of 1 along the depth and strides of 2 along height and depth. This seems to be causing issues.</p>\n<p>For example: The following script should print a tensor with values of '82' but somehow some of the values turn out to be -3.40282347e+38</p>\n<p>**import tensorflow as tf</p>\n<p>sess = tf.InteractiveSession()<br>\nX = tf.Variable(tf.ones([8,16,112,112,3]))<br>\nW = tf.Variable(tf.ones([3,3,3,3,64]))<br>\nb = tf.Variable(tf.ones([64]))<br>\nout = tf.nn.relu(tf.nn.bias_add(tf.nn.conv3d(X, W, strides=[1,1,2,2,1], padding='VALID'),b))<br>\nout1 = tf.nn.max_pool3d(out, [1,2,3,3,1], strides=[1,1,2,2,1], padding='VALID')<br>\nsess.run(tf.initialize_all_variables())</p>\n<p>print out1.eval()**</p>\n<p>Additional notes:</p>\n<ul>\n<li>I looked into the tensorflow/python/kernel_tests/pooling_ops_3d_test.py file and all the test cases seem to have the same stride across all dimensions.</li>\n</ul>", "body_text": "I am using tensorflow to train a network that has 3D convolutions and 3D max-pooling layers. Some of the 3D max-pooling layers use a stride of 1 along the depth and strides of 2 along height and depth. This seems to be causing issues.\nFor example: The following script should print a tensor with values of '82' but somehow some of the values turn out to be -3.40282347e+38\n**import tensorflow as tf\nsess = tf.InteractiveSession()\nX = tf.Variable(tf.ones([8,16,112,112,3]))\nW = tf.Variable(tf.ones([3,3,3,3,64]))\nb = tf.Variable(tf.ones([64]))\nout = tf.nn.relu(tf.nn.bias_add(tf.nn.conv3d(X, W, strides=[1,1,2,2,1], padding='VALID'),b))\nout1 = tf.nn.max_pool3d(out, [1,2,3,3,1], strides=[1,1,2,2,1], padding='VALID')\nsess.run(tf.initialize_all_variables())\nprint out1.eval()**\nAdditional notes:\n\nI looked into the tensorflow/python/kernel_tests/pooling_ops_3d_test.py file and all the test cases seem to have the same stride across all dimensions.", "body": "I am using tensorflow to train a network that has 3D convolutions and 3D max-pooling layers. Some of the 3D max-pooling layers use a stride of 1 along the depth and strides of 2 along height and depth. This seems to be causing issues.\n\nFor example: The following script should print a tensor with values of '82' but somehow some of the values turn out to be -3.40282347e+38 \n\n**import tensorflow as tf\n\nsess = tf.InteractiveSession()\nX = tf.Variable(tf.ones([8,16,112,112,3]))\nW = tf.Variable(tf.ones([3,3,3,3,64]))\nb = tf.Variable(tf.ones([64]))\nout = tf.nn.relu(tf.nn.bias_add(tf.nn.conv3d(X, W, strides=[1,1,2,2,1], padding='VALID'),b))\nout1 = tf.nn.max_pool3d(out, [1,2,3,3,1], strides=[1,1,2,2,1], padding='VALID')\nsess.run(tf.initialize_all_variables())\n\nprint out1.eval()**\n\nAdditional notes:\n- I looked into the tensorflow/python/kernel_tests/pooling_ops_3d_test.py file and all the test cases seem to have the same stride across all dimensions. \n"}