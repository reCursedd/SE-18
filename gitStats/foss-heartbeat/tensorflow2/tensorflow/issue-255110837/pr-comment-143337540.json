{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/143337540", "pull_request_review_id": 67839974, "id": 143337540, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMzNzU0MA==", "diff_hunk": "@@ -633,7 +635,7 @@ def cosine_distance(\n   Args:\n     predictions: An arbitrary matrix.\n     labels: A `Tensor` whose shape matches 'predictions'\n-    dim: The dimension along which the cosine distance is computed.\n+    axis: The dimension along which the cosine distance is computed.\n     weights: Coefficients for the loss a scalar, a tensor of shape\n       [batch_size] or a tensor whose shape matches `predictions`.\n     scope: The scope for the operations performed in computing the loss.", "path": "tensorflow/contrib/losses/python/losses/loss_ops.py", "position": 27, "original_position": 27, "commit_id": "0cfaa4350dbb6b78ce1e2a6adc5ffa1b528fb799", "original_commit_id": "66937bb31cf224bd4e6de6785982fbe1aade77e8", "user": {"login": "yongtang", "id": 6932348, "node_id": "MDQ6VXNlcjY5MzIzNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6932348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yongtang", "html_url": "https://github.com/yongtang", "followers_url": "https://api.github.com/users/yongtang/followers", "following_url": "https://api.github.com/users/yongtang/following{/other_user}", "gists_url": "https://api.github.com/users/yongtang/gists{/gist_id}", "starred_url": "https://api.github.com/users/yongtang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yongtang/subscriptions", "organizations_url": "https://api.github.com/users/yongtang/orgs", "repos_url": "https://api.github.com/users/yongtang/repos", "events_url": "https://api.github.com/users/yongtang/events{/privacy}", "received_events_url": "https://api.github.com/users/yongtang/received_events", "type": "User", "site_admin": false}, "body": "Thanks @martinwicke. The docstring has been updated with `dim` at the last line (match order of the API). Also dim is marked as deprecated correctly:\r\n```\r\nubuntu@ubuntu:~$ python\r\nPython 2.7.12 (default, Nov 19 2016, 06:48:10) \r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n>>> print tf.losses.cosine_distance.__doc__\r\nAdds a cosine-distance loss to the training procedure. (deprecated arguments)\r\n\r\nSOME ARGUMENTS ARE DEPRECATED. They will be removed in a future version.\r\nInstructions for updating:\r\ndim is deprecated, use axis instead\r\n\r\nNote that the function assumes that `predictions` and `labels` are already\r\nunit-normalized.\r\n\r\nArgs:\r\n  labels: `Tensor` whose shape matches 'predictions'\r\n  predictions: An arbitrary matrix.\r\n  axis: The dimension along which the cosine distance is computed.\r\n  weights: Optional `Tensor` whose rank is either 0, or the same rank as\r\n    `labels`, and must be broadcastable to `labels` (i.e., all dimensions must\r\n    be either `1`, or the same as the corresponding `losses` dimension).\r\n  scope: The scope for the operations performed in computing the loss.\r\n  loss_collection: collection to which this loss will be added.\r\n  reduction: Type of reduction to apply to loss.\r\n  dim: The old (deprecated) name for `axis`.\r\n\r\nReturns:\r\n  Weighted loss float `Tensor`. If `reduction` is `NONE`, this has the same\r\n  shape as `labels`; otherwise, it is scalar.\r\n\r\nRaises:\r\n  ValueError: If `predictions` shape doesn't match `labels` shape, or\r\n    `axis`, `labels`, `predictions` or `weights` is `None`.\r\n>>> exit()\r\nubuntu@ubuntu:~$ \r\n```", "created_at": "2017-10-07T18:36:19Z", "updated_at": "2017-10-07T18:36:19Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/12801#discussion_r143337540", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12801", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/143337540"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/12801#discussion_r143337540"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/12801"}}, "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=577277\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/martinwicke\">@martinwicke</a>. The docstring has been updated with <code>dim</code> at the last line (match order of the API). Also dim is marked as deprecated correctly:</p>\n<pre><code>ubuntu@ubuntu:~$ python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10) \n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; print tf.losses.cosine_distance.__doc__\nAdds a cosine-distance loss to the training procedure. (deprecated arguments)\n\nSOME ARGUMENTS ARE DEPRECATED. They will be removed in a future version.\nInstructions for updating:\ndim is deprecated, use axis instead\n\nNote that the function assumes that `predictions` and `labels` are already\nunit-normalized.\n\nArgs:\n  labels: `Tensor` whose shape matches 'predictions'\n  predictions: An arbitrary matrix.\n  axis: The dimension along which the cosine distance is computed.\n  weights: Optional `Tensor` whose rank is either 0, or the same rank as\n    `labels`, and must be broadcastable to `labels` (i.e., all dimensions must\n    be either `1`, or the same as the corresponding `losses` dimension).\n  scope: The scope for the operations performed in computing the loss.\n  loss_collection: collection to which this loss will be added.\n  reduction: Type of reduction to apply to loss.\n  dim: The old (deprecated) name for `axis`.\n\nReturns:\n  Weighted loss float `Tensor`. If `reduction` is `NONE`, this has the same\n  shape as `labels`; otherwise, it is scalar.\n\nRaises:\n  ValueError: If `predictions` shape doesn't match `labels` shape, or\n    `axis`, `labels`, `predictions` or `weights` is `None`.\n&gt;&gt;&gt; exit()\nubuntu@ubuntu:~$ \n</code></pre>", "body_text": "Thanks @martinwicke. The docstring has been updated with dim at the last line (match order of the API). Also dim is marked as deprecated correctly:\nubuntu@ubuntu:~$ python\nPython 2.7.12 (default, Nov 19 2016, 06:48:10) \n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tensorflow as tf\n>>> print tf.losses.cosine_distance.__doc__\nAdds a cosine-distance loss to the training procedure. (deprecated arguments)\n\nSOME ARGUMENTS ARE DEPRECATED. They will be removed in a future version.\nInstructions for updating:\ndim is deprecated, use axis instead\n\nNote that the function assumes that `predictions` and `labels` are already\nunit-normalized.\n\nArgs:\n  labels: `Tensor` whose shape matches 'predictions'\n  predictions: An arbitrary matrix.\n  axis: The dimension along which the cosine distance is computed.\n  weights: Optional `Tensor` whose rank is either 0, or the same rank as\n    `labels`, and must be broadcastable to `labels` (i.e., all dimensions must\n    be either `1`, or the same as the corresponding `losses` dimension).\n  scope: The scope for the operations performed in computing the loss.\n  loss_collection: collection to which this loss will be added.\n  reduction: Type of reduction to apply to loss.\n  dim: The old (deprecated) name for `axis`.\n\nReturns:\n  Weighted loss float `Tensor`. If `reduction` is `NONE`, this has the same\n  shape as `labels`; otherwise, it is scalar.\n\nRaises:\n  ValueError: If `predictions` shape doesn't match `labels` shape, or\n    `axis`, `labels`, `predictions` or `weights` is `None`.\n>>> exit()\nubuntu@ubuntu:~$", "in_reply_to_id": 141107021}