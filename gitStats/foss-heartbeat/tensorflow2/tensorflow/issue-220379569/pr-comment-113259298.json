{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/113259298", "pull_request_review_id": 34632177, "id": 113259298, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMzI1OTI5OA==", "diff_hunk": "@@ -2365,4 +2365,132 @@ output_max: the computed max output.\n \n )doc\");\n \n+// --------------------------------------------------------------------------\n+\n+namespace {\n+\n+Status ParticalReductionShapeFn(InferenceContext* c) {\n+  ShapeHandle handle;\n+  DimensionHandle dimhandle;\n+  // \"indices\" must have rank 2 and the number of columns must be 2\n+  TF_RETURN_IF_ERROR(c->WithRank(c->input(1), 2, &handle));\n+  TF_RETURN_IF_ERROR(c->Merge(c->Dim(c->input(1),1), c->MakeDim(2), &dimhandle));\n+  // \"data\" must have rank at least 1\n+  TF_RETURN_IF_ERROR(c->WithRankAtLeast(c->input(0), 1, &handle));\n+  // shape of output tensor\n+  TF_RETURN_IF_ERROR(c->ReplaceDim(handle, 0, c->Dim(c->input(1),0), &handle));\n+  c->set_output(0, handle);\n+  return Status::OK();\n+}\n+\n+} // namespace\n+\n+REGISTER_OP(\"PartialSum\")", "path": "tensorflow/core/ops/math_ops.cc", "position": null, "original_position": 24, "commit_id": "686d7fffa42ca0e78268fa2b94ca480da2f22368", "original_commit_id": "5e34a4fccdd28af7f89a2840b0a8731bfcd86787", "user": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "body": "It almost is a ReduceSliceSum becaue it's like you are taking a slice in one dimension and reducing along it? no?", "created_at": "2017-04-25T17:27:56Z", "updated_at": "2017-08-10T00:09:10Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/9063#discussion_r113259298", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9063", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/113259298"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/9063#discussion_r113259298"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9063"}}, "body_html": "<p>It almost is a ReduceSliceSum becaue it's like you are taking a slice in one dimension and reducing along it? no?</p>", "body_text": "It almost is a ReduceSliceSum becaue it's like you are taking a slice in one dimension and reducing along it? no?", "in_reply_to_id": 112804090}