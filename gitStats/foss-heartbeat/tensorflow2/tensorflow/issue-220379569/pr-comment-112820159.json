{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/112820159", "pull_request_review_id": 34167323, "id": 112820159, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMjgyMDE1OQ==", "diff_hunk": "@@ -2365,4 +2365,132 @@ output_max: the computed max output.\n \n )doc\");\n \n+// --------------------------------------------------------------------------\n+\n+namespace {\n+\n+Status ParticalReductionShapeFn(InferenceContext* c) {\n+  ShapeHandle handle;\n+  DimensionHandle dimhandle;\n+  // \"indices\" must have rank 2 and the number of columns must be 2\n+  TF_RETURN_IF_ERROR(c->WithRank(c->input(1), 2, &handle));\n+  TF_RETURN_IF_ERROR(c->Merge(c->Dim(c->input(1),1), c->MakeDim(2), &dimhandle));\n+  // \"data\" must have rank at least 1\n+  TF_RETURN_IF_ERROR(c->WithRankAtLeast(c->input(0), 1, &handle));\n+  // shape of output tensor\n+  TF_RETURN_IF_ERROR(c->ReplaceDim(handle, 0, c->Dim(c->input(1),0), &handle));\n+  c->set_output(0, handle);\n+  return Status::OK();\n+}\n+\n+} // namespace\n+\n+REGISTER_OP(\"PartialSum\")", "path": "tensorflow/core/ops/math_ops.cc", "position": null, "original_position": 24, "commit_id": "686d7fffa42ca0e78268fa2b94ca480da2f22368", "original_commit_id": "5e34a4fccdd28af7f89a2840b0a8731bfcd86787", "user": {"login": "zasdfgbnm", "id": 1032377, "node_id": "MDQ6VXNlcjEwMzIzNzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1032377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zasdfgbnm", "html_url": "https://github.com/zasdfgbnm", "followers_url": "https://api.github.com/users/zasdfgbnm/followers", "following_url": "https://api.github.com/users/zasdfgbnm/following{/other_user}", "gists_url": "https://api.github.com/users/zasdfgbnm/gists{/gist_id}", "starred_url": "https://api.github.com/users/zasdfgbnm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zasdfgbnm/subscriptions", "organizations_url": "https://api.github.com/users/zasdfgbnm/orgs", "repos_url": "https://api.github.com/users/zasdfgbnm/repos", "events_url": "https://api.github.com/users/zasdfgbnm/events{/privacy}", "received_events_url": "https://api.github.com/users/zasdfgbnm/received_events", "type": "User", "site_admin": false}, "body": "Yes, I didn't think too much when naming this. Do you think naming them as RangedReduceSum, RangedReduceProd, RangedReduceMin, RangedReduceMax would be even better? The word \"partial\" is too general and the ops I'm adding can not do all types of \"partial\" reduction (for example adding all elements with odd index)", "created_at": "2017-04-22T22:26:08Z", "updated_at": "2017-08-10T00:09:10Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/9063#discussion_r112820159", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9063", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/112820159"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/9063#discussion_r112820159"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/9063"}}, "body_html": "<p>Yes, I didn't think too much when naming this. Do you think naming them as RangedReduceSum, RangedReduceProd, RangedReduceMin, RangedReduceMax would be even better? The word \"partial\" is too general and the ops I'm adding can not do all types of \"partial\" reduction (for example adding all elements with odd index)</p>", "body_text": "Yes, I didn't think too much when naming this. Do you think naming them as RangedReduceSum, RangedReduceProd, RangedReduceMin, RangedReduceMax would be even better? The word \"partial\" is too general and the ops I'm adding can not do all types of \"partial\" reduction (for example adding all elements with odd index)", "in_reply_to_id": 112804090}