{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/355606456", "html_url": "https://github.com/tensorflow/tensorflow/issues/12405#issuecomment-355606456", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12405", "id": 355606456, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTYwNjQ1Ng==", "user": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-05T16:57:16Z", "updated_at": "2018-01-05T16:57:16Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>tf.boolean_mask calls tf.gather, which has the same problem:</p>\n</blockquote>\n<p>On GPU this is unfortunately expected behavior, since <code>Gather</code> does not currently propagate errors back to the host from the GPU (for performance reasons). This should produce an error on CPU though (and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1381301\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ppwwyyxx\">@ppwwyyxx</a>'s example does produce an error for me on CPU).</p>\n<p>Relevant TODO:<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L56-L60\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L56-L60</a></p>", "body_text": "tf.boolean_mask calls tf.gather, which has the same problem:\n\nOn GPU this is unfortunately expected behavior, since Gather does not currently propagate errors back to the host from the GPU (for performance reasons). This should produce an error on CPU though (and @ppwwyyxx's example does produce an error for me on CPU).\nRelevant TODO:\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L56-L60", "body": "> tf.boolean_mask calls tf.gather, which has the same problem:\r\n\r\nOn GPU this is unfortunately expected behavior, since `Gather` does not currently propagate errors back to the host from the GPU (for performance reasons). This should produce an error on CPU though (and @ppwwyyxx's example does produce an error for me on CPU).\r\n\r\nRelevant TODO:\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/gather_functor_gpu.cu.h#L56-L60"}