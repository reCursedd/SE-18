{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/357772197", "html_url": "https://github.com/tensorflow/tensorflow/issues/12157#issuecomment-357772197", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12157", "id": 357772197, "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzc3MjE5Nw==", "user": {"login": "GustavZ", "id": 29252883, "node_id": "MDQ6VXNlcjI5MjUyODgz", "avatar_url": "https://avatars3.githubusercontent.com/u/29252883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GustavZ", "html_url": "https://github.com/GustavZ", "followers_url": "https://api.github.com/users/GustavZ/followers", "following_url": "https://api.github.com/users/GustavZ/following{/other_user}", "gists_url": "https://api.github.com/users/GustavZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/GustavZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GustavZ/subscriptions", "organizations_url": "https://api.github.com/users/GustavZ/orgs", "repos_url": "https://api.github.com/users/GustavZ/repos", "events_url": "https://api.github.com/users/GustavZ/events{/privacy}", "received_events_url": "https://api.github.com/users/GustavZ/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-15T19:40:42Z", "updated_at": "2018-01-15T19:40:42Z", "author_association": "NONE", "body_html": "<p>I would be interested on how to perform optimize_for_inference.py on the ssd_mobilenet.<br>\nI was using it like:</p>\n<pre><code>python -m tensorflow.python.tools.optimize_for_inference \\\n    --input /path/to/frozen_inference_graph.pb \\\n    --output /path/to/optimized_inference_graph.pb \\\n    --input_names=image_tensor \\\n    --output_names=detection_boxes,detection_scores,num_detections,detection_classes\n</code></pre>\n<p>but got following error:</p>\n<pre><code>ValueError: graph_def is invalid at node u'ToFloat': Input tensor\n'image_tensor:0' Cannot convert a tensor of type float32 to an input of type uint8.\n</code></pre>\n<p>So obviously i did something wrong with In- and/or Output.</p>\n<p>Would be nice if someone could correct this.</p>", "body_text": "I would be interested on how to perform optimize_for_inference.py on the ssd_mobilenet.\nI was using it like:\npython -m tensorflow.python.tools.optimize_for_inference \\\n    --input /path/to/frozen_inference_graph.pb \\\n    --output /path/to/optimized_inference_graph.pb \\\n    --input_names=image_tensor \\\n    --output_names=detection_boxes,detection_scores,num_detections,detection_classes\n\nbut got following error:\nValueError: graph_def is invalid at node u'ToFloat': Input tensor\n'image_tensor:0' Cannot convert a tensor of type float32 to an input of type uint8.\n\nSo obviously i did something wrong with In- and/or Output.\nWould be nice if someone could correct this.", "body": "I would be interested on how to perform optimize_for_inference.py on the ssd_mobilenet.\r\nI was using it like:\r\n```\r\npython -m tensorflow.python.tools.optimize_for_inference \\\r\n    --input /path/to/frozen_inference_graph.pb \\\r\n    --output /path/to/optimized_inference_graph.pb \\\r\n    --input_names=image_tensor \\\r\n    --output_names=detection_boxes,detection_scores,num_detections,detection_classes\r\n```\r\n\r\nbut got following error:\r\n```\r\nValueError: graph_def is invalid at node u'ToFloat': Input tensor\r\n'image_tensor:0' Cannot convert a tensor of type float32 to an input of type uint8.\r\n```\r\n\r\nSo obviously i did something wrong with In- and/or Output.\r\n\r\nWould be nice if someone could correct this."}