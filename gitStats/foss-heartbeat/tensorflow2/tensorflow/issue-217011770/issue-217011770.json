{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8720", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8720/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8720/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/8720/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/8720", "id": 217011770, "node_id": "MDU6SXNzdWUyMTcwMTE3NzA=", "number": 8720, "title": "split not working correctly", "user": {"login": "cooledge", "id": 8671566, "node_id": "MDQ6VXNlcjg2NzE1NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8671566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cooledge", "html_url": "https://github.com/cooledge", "followers_url": "https://api.github.com/users/cooledge/followers", "following_url": "https://api.github.com/users/cooledge/following{/other_user}", "gists_url": "https://api.github.com/users/cooledge/gists{/gist_id}", "starred_url": "https://api.github.com/users/cooledge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cooledge/subscriptions", "organizations_url": "https://api.github.com/users/cooledge/orgs", "repos_url": "https://api.github.com/users/cooledge/repos", "events_url": "https://api.github.com/users/cooledge/events{/privacy}", "received_events_url": "https://api.github.com/users/cooledge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug/performance", "name": "type:bug/performance", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-03-25T23:01:14Z", "updated_at": "2017-06-08T21:28:33Z", "closed_at": "2017-06-08T21:28:33Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\n<span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n\nmodel_input <span class=\"pl-k\">=</span> tf.placeholder(tf.float32, <span class=\"pl-v\">shape</span><span class=\"pl-k\">=</span>(<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">10</span>))\nmodel_split <span class=\"pl-k\">=</span> tf.split(model_input, [<span class=\"pl-c1\">4</span>], <span class=\"pl-v\">axis</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)[<span class=\"pl-c1\">0</span>]\n\n<span class=\"pl-c1\">input</span> <span class=\"pl-k\">=</span> np.zeros((<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">10</span>))\nsession <span class=\"pl-k\">=</span> tf.Session()\nsplit <span class=\"pl-k\">=</span> session.run(model_split, <span class=\"pl-v\">feed_dict</span> <span class=\"pl-k\">=</span> { model_input: <span class=\"pl-c1\">input</span> })\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> the size of the evaluated tensor does not match the size of the tensor</span>\n<span class=\"pl-k\">assert</span> split.shape <span class=\"pl-k\">==</span> (<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">10</span>)\n<span class=\"pl-k\">assert</span> model_split.get_shape() <span class=\"pl-k\">==</span> (<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>)\n\nmodel_b <span class=\"pl-k\">=</span> tf.zeros((<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>))\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> this is okay adding things of the same shape</span>\nsession.run(model_b<span class=\"pl-k\">+</span>model_b, <span class=\"pl-v\">feed_dict</span> <span class=\"pl-k\">=</span> { model_input: <span class=\"pl-c1\">input</span> })\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> check that model_b and model_split have the same shape</span>\n<span class=\"pl-k\">assert</span> model_b.get_shape() <span class=\"pl-k\">==</span> model_split.get_shape()\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> this line crashes because the shape of model_split + model_b are not compatible.</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> although the assert just checked that the sized match. This is the error message:</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>          InvalidArgumentError (see above for traceback): Incompatible shapes: [1,10] vs. [1,4]</span>\nsession.run(model_split <span class=\"pl-k\">+</span> model_b, <span class=\"pl-v\">feed_dict</span> <span class=\"pl-k\">=</span> { model_input: <span class=\"pl-c1\">input</span> })</pre></div>\n<p>NOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.</p>\n<p>For general support from the community, see <a href=\"https://stackoverflow.com/questions/tagged/tensorflow\" rel=\"nofollow\">StackOverflow</a>.<br>\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed<br>\nout of scope for GitHub Issues and point people to StackOverflow.</p>\n<p>For bugs or installation issues, please provide the following information.<br>\nThe more information you provide, the more easily we will be able to offer<br>\nhelp and advice.</p>\n<h3>What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?</h3>\n<h3>Environment info</h3>\n<p>Operating System: Windows</p>\n<p>Installed version of CUDA and cuDNN:<br>\n(please attach the output of <code>ls -l /path/to/cuda/lib/libcud*</code>):<br>\nSee <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115894138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/2/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/2\">#2</a> below</p>\n<p>If installed from binary pip package, provide:</p>\n<ol>\n<li>A link to the pip package you installed:<br>\nHow do I get this?</li>\n<li>The output from <code>python -c \"import tensorflow; print(tensorflow.__version__)\"</code>.</li>\n</ol>\n<p>(C:\\Users\\television2\\Anaconda3) C:\\cygwin64\\home\\television2\\nn\\hierarchy&gt;python -c \"import tensorflow; print(tensorflow.<strong>version</strong>)\"<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cublas64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cudnn64_5.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cufft64_80.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library nvcuda.dll locally<br>\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library curand64_80.dll locally<br>\n1.0.0</p>", "body_text": "import tensorflow as tf\nimport numpy as np\n\nmodel_input = tf.placeholder(tf.float32, shape=(1, 10))\nmodel_split = tf.split(model_input, [4], axis=1)[0]\n\ninput = np.zeros((1, 10))\nsession = tf.Session()\nsplit = session.run(model_split, feed_dict = { model_input: input })\n\n# the size of the evaluated tensor does not match the size of the tensor\nassert split.shape == (1, 10)\nassert model_split.get_shape() == (1, 4)\n\nmodel_b = tf.zeros((1, 4))\n\n# this is okay adding things of the same shape\nsession.run(model_b+model_b, feed_dict = { model_input: input })\n\n# check that model_b and model_split have the same shape\nassert model_b.get_shape() == model_split.get_shape()\n\n# this line crashes because the shape of model_split + model_b are not compatible.\n# although the assert just checked that the sized match. This is the error message:\n#          InvalidArgumentError (see above for traceback): Incompatible shapes: [1,10] vs. [1,4]\nsession.run(model_split + model_b, feed_dict = { model_input: input })\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\nFor general support from the community, see StackOverflow.\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\nout of scope for GitHub Issues and point people to StackOverflow.\nFor bugs or installation issues, please provide the following information.\nThe more information you provide, the more easily we will be able to offer\nhelp and advice.\nWhat related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\nEnvironment info\nOperating System: Windows\nInstalled version of CUDA and cuDNN:\n(please attach the output of ls -l /path/to/cuda/lib/libcud*):\nSee #2 below\nIf installed from binary pip package, provide:\n\nA link to the pip package you installed:\nHow do I get this?\nThe output from python -c \"import tensorflow; print(tensorflow.__version__)\".\n\n(C:\\Users\\television2\\Anaconda3) C:\\cygwin64\\home\\television2\\nn\\hierarchy>python -c \"import tensorflow; print(tensorflow.version)\"\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cublas64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cudnn64_5.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cufft64_80.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library nvcuda.dll locally\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library curand64_80.dll locally\n1.0.0", "body": "```python\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\nmodel_input = tf.placeholder(tf.float32, shape=(1, 10))\r\nmodel_split = tf.split(model_input, [4], axis=1)[0]\r\n\r\ninput = np.zeros((1, 10))\r\nsession = tf.Session()\r\nsplit = session.run(model_split, feed_dict = { model_input: input })\r\n\r\n# the size of the evaluated tensor does not match the size of the tensor\r\nassert split.shape == (1, 10)\r\nassert model_split.get_shape() == (1, 4)\r\n\r\nmodel_b = tf.zeros((1, 4))\r\n\r\n# this is okay adding things of the same shape\r\nsession.run(model_b+model_b, feed_dict = { model_input: input })\r\n\r\n# check that model_b and model_split have the same shape\r\nassert model_b.get_shape() == model_split.get_shape()\r\n\r\n# this line crashes because the shape of model_split + model_b are not compatible.\r\n# although the assert just checked that the sized match. This is the error message:\r\n#          InvalidArgumentError (see above for traceback): Incompatible shapes: [1,10] vs. [1,4]\r\nsession.run(model_split + model_b, feed_dict = { model_input: input })\r\n```\r\n\r\nNOTE: Only file GitHub issues for bugs and feature requests.  All other topics will be closed.\r\n\r\nFor general support from the community, see [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\nTo make bugs and feature requests more easy to find and organize, we close issues that are deemed\r\nout of scope for GitHub Issues and point people to StackOverflow.\r\n\r\nFor bugs or installation issues, please provide the following information.\r\nThe more information you provide, the more easily we will be able to offer\r\nhelp and advice.\r\n\r\n### What related GitHub issues or StackOverflow threads have you found by searching the web for your problem?\r\n\r\n### Environment info\r\nOperating System: Windows\r\n\r\nInstalled version of CUDA and cuDNN: \r\n(please attach the output of `ls -l /path/to/cuda/lib/libcud*`):\r\nSee #2 below\r\n\r\nIf installed from binary pip package, provide:\r\n\r\n1. A link to the pip package you installed:\r\nHow do I get this?\r\n2. The output from `python -c \"import tensorflow; print(tensorflow.__version__)\"`.\r\n\r\n(C:\\Users\\television2\\Anaconda3) C:\\cygwin64\\home\\television2\\nn\\hierarchy>python -c \"import tensorflow; print(tensorflow.__version__)\"\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cublas64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cudnn64_5.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library cufft64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library nvcuda.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:135] successfully opened CUDA library curand64_80.dll locally\r\n1.0.0\r\n\r\n"}