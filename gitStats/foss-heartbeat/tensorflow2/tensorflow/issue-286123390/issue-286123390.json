{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15861", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15861/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15861/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15861/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/15861", "id": 286123390, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYxMjI0NzQy", "number": 15861, "title": "Fix LSTM Layer Normalization implementation to match original paper", "user": {"login": "bchu", "id": 2050208, "node_id": "MDQ6VXNlcjIwNTAyMDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2050208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bchu", "html_url": "https://github.com/bchu", "followers_url": "https://api.github.com/users/bchu/followers", "following_url": "https://api.github.com/users/bchu/following{/other_user}", "gists_url": "https://api.github.com/users/bchu/gists{/gist_id}", "starred_url": "https://api.github.com/users/bchu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bchu/subscriptions", "organizations_url": "https://api.github.com/users/bchu/orgs", "repos_url": "https://api.github.com/users/bchu/repos", "events_url": "https://api.github.com/users/bchu/events{/privacy}", "received_events_url": "https://api.github.com/users/bchu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}], "state": "open", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2018-01-04T21:48:20Z", "updated_at": "2018-11-09T18:52:21Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/15861", "html_url": "https://github.com/tensorflow/tensorflow/pull/15861", "diff_url": "https://github.com/tensorflow/tensorflow/pull/15861.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/15861.patch"}, "body_html": "<p>The Layer Norm paper (<a href=\"https://arxiv.org/abs/1607.06450\" rel=\"nofollow\">https://arxiv.org/abs/1607.06450</a>) applies layer norm to LSTMs by separately normalizing the linear transformation of the inputs and the linear transformation of the recurrent cell state. See equation (20) in the Supplementary Material (page 13).</p>\n<p>The current contrib LSTM layer norm implementations apply layer norm to LSTMs by separately normalizing each of the gate/cell update preactivations (separate columns of the sum of the linear transformations of the inputs and recurrent cell state). This is very different from the paper (different tensors are being normalized).</p>\n<p>This PR changes the two implementations to match the paper. There is one slight difference with the paper: I omit two of the layer norm offset <em>\u03b2</em> parameters because there is a bias term already.</p>", "body_text": "The Layer Norm paper (https://arxiv.org/abs/1607.06450) applies layer norm to LSTMs by separately normalizing the linear transformation of the inputs and the linear transformation of the recurrent cell state. See equation (20) in the Supplementary Material (page 13).\nThe current contrib LSTM layer norm implementations apply layer norm to LSTMs by separately normalizing each of the gate/cell update preactivations (separate columns of the sum of the linear transformations of the inputs and recurrent cell state). This is very different from the paper (different tensors are being normalized).\nThis PR changes the two implementations to match the paper. There is one slight difference with the paper: I omit two of the layer norm offset \u03b2 parameters because there is a bias term already.", "body": "The Layer Norm paper (https://arxiv.org/abs/1607.06450) applies layer norm to LSTMs by separately normalizing the linear transformation of the inputs and the linear transformation of the recurrent cell state. See equation (20) in the Supplementary Material (page 13).\r\n\r\nThe current contrib LSTM layer norm implementations apply layer norm to LSTMs by separately normalizing each of the gate/cell update preactivations (separate columns of the sum of the linear transformations of the inputs and recurrent cell state). This is very different from the paper (different tensors are being normalized).\r\n\r\nThis PR changes the two implementations to match the paper. There is one slight difference with the paper: I omit two of the layer norm offset _\u03b2_ parameters because there is a bias term already.\r\n  \r\n  \r\n  "}