{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/330981173", "html_url": "https://github.com/tensorflow/tensorflow/pull/13049#issuecomment-330981173", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13049", "id": 330981173, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk4MTE3Mw==", "user": {"login": "tjingrant", "id": 6410074, "node_id": "MDQ6VXNlcjY0MTAwNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6410074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjingrant", "html_url": "https://github.com/tjingrant", "followers_url": "https://api.github.com/users/tjingrant/followers", "following_url": "https://api.github.com/users/tjingrant/following{/other_user}", "gists_url": "https://api.github.com/users/tjingrant/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjingrant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjingrant/subscriptions", "organizations_url": "https://api.github.com/users/tjingrant/orgs", "repos_url": "https://api.github.com/users/tjingrant/repos", "events_url": "https://api.github.com/users/tjingrant/events{/privacy}", "received_events_url": "https://api.github.com/users/tjingrant/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-20T21:06:58Z", "updated_at": "2017-09-20T22:11:23Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=150663\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jlebar\">@jlebar</a> , can I have your comments on the latest commit? Some improvements include:</p>\n<ul>\n<li>Using recursive template functions to search and launch appropriate kernels.</li>\n<li>More comments to explain what's going on.</li>\n<li>Fixed issues raised in the previous comments.</li>\n</ul>\n<p>I noticed that in <code>transpose_op_test.py</code>, there are already tests in place to check the cases I'm trying to optimize. Specifically:</p>\n<pre><code>  def test3DGPU(self):\n    # If no GPU available, skip the test\n    if not test.is_gpu_available(cuda_only=True):\n      return\n\n    datatypes = [np.int8, np.float16, np.float32, np.float64, np.complex128]\n    large_shapes = [[4, 1000, 3], [4, 1000, 8], [4, 1000, 13], [4, 3, 1000],\n                    [4, 8, 1000], [4, 13, 1000]] * 3\n    perms = [[0, 2, 1]] * 6 + [[2, 1, 0]] * 6 + [[1, 2, 0]] * 3 + [[2, 0, 1]\n                                                                  ] * 3\n</code></pre>\n<p>The latest commit passes all the test cases present in <code>transpose_op_test.py</code>.</p>", "body_text": "@jlebar , can I have your comments on the latest commit? Some improvements include:\n\nUsing recursive template functions to search and launch appropriate kernels.\nMore comments to explain what's going on.\nFixed issues raised in the previous comments.\n\nI noticed that in transpose_op_test.py, there are already tests in place to check the cases I'm trying to optimize. Specifically:\n  def test3DGPU(self):\n    # If no GPU available, skip the test\n    if not test.is_gpu_available(cuda_only=True):\n      return\n\n    datatypes = [np.int8, np.float16, np.float32, np.float64, np.complex128]\n    large_shapes = [[4, 1000, 3], [4, 1000, 8], [4, 1000, 13], [4, 3, 1000],\n                    [4, 8, 1000], [4, 13, 1000]] * 3\n    perms = [[0, 2, 1]] * 6 + [[2, 1, 0]] * 6 + [[1, 2, 0]] * 3 + [[2, 0, 1]\n                                                                  ] * 3\n\nThe latest commit passes all the test cases present in transpose_op_test.py.", "body": "@jlebar , can I have your comments on the latest commit? Some improvements include:\r\n- Using recursive template functions to search and launch appropriate kernels.\r\n- More comments to explain what's going on.\r\n- Fixed issues raised in the previous comments.\r\n\r\nI noticed that in `transpose_op_test.py`, there are already tests in place to check the cases I'm trying to optimize. Specifically:\r\n```\r\n  def test3DGPU(self):\r\n    # If no GPU available, skip the test\r\n    if not test.is_gpu_available(cuda_only=True):\r\n      return\r\n\r\n    datatypes = [np.int8, np.float16, np.float32, np.float64, np.complex128]\r\n    large_shapes = [[4, 1000, 3], [4, 1000, 8], [4, 1000, 13], [4, 3, 1000],\r\n                    [4, 8, 1000], [4, 13, 1000]] * 3\r\n    perms = [[0, 2, 1]] * 6 + [[2, 1, 0]] * 6 + [[1, 2, 0]] * 3 + [[2, 0, 1]\r\n                                                                  ] * 3\r\n```\r\nThe latest commit passes all the test cases present in `transpose_op_test.py`."}