{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13115", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13115/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13115/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13115/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13115", "id": 258399498, "node_id": "MDU6SXNzdWUyNTgzOTk0OTg=", "number": 13115, "title": "Build problem :Configurable attribute \"copts\" doesn't match this configuration", "user": {"login": "darkbridge", "id": 31062441, "node_id": "MDQ6VXNlcjMxMDYyNDQx", "avatar_url": "https://avatars2.githubusercontent.com/u/31062441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darkbridge", "html_url": "https://github.com/darkbridge", "followers_url": "https://api.github.com/users/darkbridge/followers", "following_url": "https://api.github.com/users/darkbridge/following{/other_user}", "gists_url": "https://api.github.com/users/darkbridge/gists{/gist_id}", "starred_url": "https://api.github.com/users/darkbridge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darkbridge/subscriptions", "organizations_url": "https://api.github.com/users/darkbridge/orgs", "repos_url": "https://api.github.com/users/darkbridge/repos", "events_url": "https://api.github.com/users/darkbridge/events{/privacy}", "received_events_url": "https://api.github.com/users/darkbridge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-18T08:17:37Z", "updated_at": "2017-09-28T10:49:56Z", "closed_at": "2017-09-28T10:49:56Z", "author_association": "NONE", "body_html": "<h3>System information</h3>\n<ul>\n<li><strong>OS Platform and Distribution (e.g., Linux Ubuntu 16.04)</strong>: Linux pine64 3.10.104-2-pine64-longsleep aarch64 aarch64 aarch64 GNU/Linux</li>\n<li><strong>TensorFlow installed from (source or binary)</strong>: source</li>\n<li><strong>TensorFlow version (use command below)</strong>:1.3.0-rc0</li>\n<li><strong>Python version</strong>: 2.7</li>\n<li><strong>Bazel version (if compiling from source)</strong>:0.4.5</li>\n<li><strong>CUDA/cuDNN version</strong>: no</li>\n<li><strong>Exact command to reproduce</strong>: <code>bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package</code></li>\n</ul>\n<h3>Describe the problem</h3>\n<p>As  tensorflow supports ARM 64-bit CPU platform,so I build it on PINE64.But after I install bazel exactly, and try to install tensorflow,there is something wrong in building process.</p>\n<h3>Source code / logs</h3>\n<pre><code>ERROR: /home/ubuntu/.cache/bazel/_bazel_ubuntu/ad1e09741bb4109fbc70ef8216b59ee2/external/nsync/BUILD:401:13: Configurable attribute \"copts\" doesn't match this configuration (would a default condition help?).\nConditions checked:\n @nsync//:android_arm\n @nsync//:android_arm64\n @nsync//:android_armeabi\n @nsync//:android_x86_32\n @nsync//:android_x86_64\n @nsync//:clang_macos_x86_64\n @nsync//:gcc_linux_aarch64\n @nsync//:gcc_linux_ppc64\n @nsync//:gcc_linux_x86_64_1\n @nsync//:gcc_linux_x86_64_2\n @nsync//:ios_x86_64\n @nsync//:msvc_windows_x86_64.\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\n</code></pre>\n<p>As the logs errors indicate the file, so I looks the code ,and it indicates the cpp library configure as follow:</p>\n<pre><code># The library compiled in C++11, rather than C.\n397 cc_library(\n398     name = \"nsync_cpp\",\n399     srcs = NSYNC_SRC_GENERIC + NSYNC_SRC_PLATFORM_CPP,\n400     hdrs = NSYNC_HDR_GENERIC,\n401     copts = NSYNC_OPTS_CPP,\n402     includes = [\"public\"],\n403     textual_hdrs = NSYNC_INTERNAL_HEADERS + NSYNC_INTERNAL_HEADERS_PLATFORM,\n404 )\n</code></pre>\n<p>I try to annotation the number 401 code,the errer above seems disapperence but other errer happens.<br>\nI appreciate ever help, thank you all very much.</p>", "body_text": "System information\n\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux pine64 3.10.104-2-pine64-longsleep aarch64 aarch64 aarch64 GNU/Linux\nTensorFlow installed from (source or binary): source\nTensorFlow version (use command below):1.3.0-rc0\nPython version: 2.7\nBazel version (if compiling from source):0.4.5\nCUDA/cuDNN version: no\nExact command to reproduce: bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package\n\nDescribe the problem\nAs  tensorflow supports ARM 64-bit CPU platform,so I build it on PINE64.But after I install bazel exactly, and try to install tensorflow,there is something wrong in building process.\nSource code / logs\nERROR: /home/ubuntu/.cache/bazel/_bazel_ubuntu/ad1e09741bb4109fbc70ef8216b59ee2/external/nsync/BUILD:401:13: Configurable attribute \"copts\" doesn't match this configuration (would a default condition help?).\nConditions checked:\n @nsync//:android_arm\n @nsync//:android_arm64\n @nsync//:android_armeabi\n @nsync//:android_x86_32\n @nsync//:android_x86_64\n @nsync//:clang_macos_x86_64\n @nsync//:gcc_linux_aarch64\n @nsync//:gcc_linux_ppc64\n @nsync//:gcc_linux_x86_64_1\n @nsync//:gcc_linux_x86_64_2\n @nsync//:ios_x86_64\n @nsync//:msvc_windows_x86_64.\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\n\nAs the logs errors indicate the file, so I looks the code ,and it indicates the cpp library configure as follow:\n# The library compiled in C++11, rather than C.\n397 cc_library(\n398     name = \"nsync_cpp\",\n399     srcs = NSYNC_SRC_GENERIC + NSYNC_SRC_PLATFORM_CPP,\n400     hdrs = NSYNC_HDR_GENERIC,\n401     copts = NSYNC_OPTS_CPP,\n402     includes = [\"public\"],\n403     textual_hdrs = NSYNC_INTERNAL_HEADERS + NSYNC_INTERNAL_HEADERS_PLATFORM,\n404 )\n\nI try to annotation the number 401 code,the errer above seems disapperence but other errer happens.\nI appreciate ever help, thank you all very much.", "body": "### System information\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux pine64 3.10.104-2-pine64-longsleep aarch64 aarch64 aarch64 GNU/Linux\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**:1.3.0-rc0\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**:0.4.5\r\n- **CUDA/cuDNN version**: no\r\n- **Exact command to reproduce**: `bazel build -c opt --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --verbose_failures tensorflow/tools/pip_package:build_pip_package`\r\n\r\n### Describe the problem\r\nAs  tensorflow supports ARM 64-bit CPU platform,so I build it on PINE64.But after I install bazel exactly, and try to install tensorflow,there is something wrong in building process.\r\n\r\n### Source code / logs\r\n```\r\nERROR: /home/ubuntu/.cache/bazel/_bazel_ubuntu/ad1e09741bb4109fbc70ef8216b59ee2/external/nsync/BUILD:401:13: Configurable attribute \"copts\" doesn't match this configuration (would a default condition help?).\r\nConditions checked:\r\n @nsync//:android_arm\r\n @nsync//:android_arm64\r\n @nsync//:android_armeabi\r\n @nsync//:android_x86_32\r\n @nsync//:android_x86_64\r\n @nsync//:clang_macos_x86_64\r\n @nsync//:gcc_linux_aarch64\r\n @nsync//:gcc_linux_ppc64\r\n @nsync//:gcc_linux_x86_64_1\r\n @nsync//:gcc_linux_x86_64_2\r\n @nsync//:ios_x86_64\r\n @nsync//:msvc_windows_x86_64.\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted.\r\n```\r\nAs the logs errors indicate the file, so I looks the code ,and it indicates the cpp library configure as follow:\r\n ```\r\n# The library compiled in C++11, rather than C.\r\n397 cc_library(\r\n398     name = \"nsync_cpp\",\r\n399     srcs = NSYNC_SRC_GENERIC + NSYNC_SRC_PLATFORM_CPP,\r\n400     hdrs = NSYNC_HDR_GENERIC,\r\n401     copts = NSYNC_OPTS_CPP,\r\n402     includes = [\"public\"],\r\n403     textual_hdrs = NSYNC_INTERNAL_HEADERS + NSYNC_INTERNAL_HEADERS_PLATFORM,\r\n404 )\r\n```\r\nI try to annotation the number 401 code,the errer above seems disapperence but other errer happens.\r\nI appreciate ever help, thank you all very much."}