{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/354186497", "html_url": "https://github.com/tensorflow/tensorflow/pull/10793#issuecomment-354186497", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10793", "id": 354186497, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDE4NjQ5Nw==", "user": {"login": "StanislawAntol", "id": 1846231, "node_id": "MDQ6VXNlcjE4NDYyMzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1846231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StanislawAntol", "html_url": "https://github.com/StanislawAntol", "followers_url": "https://api.github.com/users/StanislawAntol/followers", "following_url": "https://api.github.com/users/StanislawAntol/following{/other_user}", "gists_url": "https://api.github.com/users/StanislawAntol/gists{/gist_id}", "starred_url": "https://api.github.com/users/StanislawAntol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StanislawAntol/subscriptions", "organizations_url": "https://api.github.com/users/StanislawAntol/orgs", "repos_url": "https://api.github.com/users/StanislawAntol/repos", "events_url": "https://api.github.com/users/StanislawAntol/events{/privacy}", "received_events_url": "https://api.github.com/users/StanislawAntol/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-27T22:24:05Z", "updated_at": "2017-12-27T22:24:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3898819\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yanchen036\">@yanchen036</a> and/or <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=70511\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/girving\">@girving</a> , I was recently having some build issues related to this when we started to need the tile kernels and I added the <code>tile_*.cc</code> files to our kernel list. (Note: this is a modified version based of the CMake in <code>contrib/cmake</code>.) It turned out that I was forgetting to also build with <code>tile_functor.cc</code> and thus I was getting <code>undefined reference to tensorflow::functor::Tile</code> errors. It seems that outside of this thread, the only place this dependency is explicit is <a href=\"https://github.com/tensorflow/tensorflow/pull/10793/commits/e640d75bc6dd1f9a3990c4e199d36f67c5f98bcd\">the makefile</a> and the bazel <code>BUILD</code> file. I haven't had the time to understand how all the kernel code is structured to make sense of it, but should there be some kind of explicit dependency among the <code>tile_*.h</code> files or <code>tile_*.cc</code> files (e.g., <code>tile_ops_impl.h</code> includes <code>tile_functor.h</code>)?</p>\n<p>Thanks!</p>", "body_text": "@yanchen036 and/or @girving , I was recently having some build issues related to this when we started to need the tile kernels and I added the tile_*.cc files to our kernel list. (Note: this is a modified version based of the CMake in contrib/cmake.) It turned out that I was forgetting to also build with tile_functor.cc and thus I was getting undefined reference to tensorflow::functor::Tile errors. It seems that outside of this thread, the only place this dependency is explicit is the makefile and the bazel BUILD file. I haven't had the time to understand how all the kernel code is structured to make sense of it, but should there be some kind of explicit dependency among the tile_*.h files or tile_*.cc files (e.g., tile_ops_impl.h includes tile_functor.h)?\nThanks!", "body": "@yanchen036 and/or @girving , I was recently having some build issues related to this when we started to need the tile kernels and I added the `tile_*.cc` files to our kernel list. (Note: this is a modified version based of the CMake in `contrib/cmake`.) It turned out that I was forgetting to also build with `tile_functor.cc` and thus I was getting `undefined reference to tensorflow::functor::Tile` errors. It seems that outside of this thread, the only place this dependency is explicit is [the makefile](https://github.com/tensorflow/tensorflow/pull/10793/commits/e640d75bc6dd1f9a3990c4e199d36f67c5f98bcd) and the bazel `BUILD` file. I haven't had the time to understand how all the kernel code is structured to make sense of it, but should there be some kind of explicit dependency among the `tile_*.h` files or `tile_*.cc` files (e.g., `tile_ops_impl.h` includes `tile_functor.h`)?\r\n\r\nThanks!"}