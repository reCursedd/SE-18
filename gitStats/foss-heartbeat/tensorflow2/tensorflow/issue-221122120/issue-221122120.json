{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9152", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9152/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9152/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/9152/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/9152", "id": 221122120, "node_id": "MDU6SXNzdWUyMjExMjIxMjA=", "number": 9152, "title": "can not run mnistcnn.py, servers waiting for eachother ", "user": {"login": "renjiezhang", "id": 6053772, "node_id": "MDQ6VXNlcjYwNTM3NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/6053772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renjiezhang", "html_url": "https://github.com/renjiezhang", "followers_url": "https://api.github.com/users/renjiezhang/followers", "following_url": "https://api.github.com/users/renjiezhang/following{/other_user}", "gists_url": "https://api.github.com/users/renjiezhang/gists{/gist_id}", "starred_url": "https://api.github.com/users/renjiezhang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renjiezhang/subscriptions", "organizations_url": "https://api.github.com/users/renjiezhang/orgs", "repos_url": "https://api.github.com/users/renjiezhang/repos", "events_url": "https://api.github.com/users/renjiezhang/events{/privacy}", "received_events_url": "https://api.github.com/users/renjiezhang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-12T01:01:12Z", "updated_at": "2017-04-12T01:16:29Z", "closed_at": "2017-04-12T01:16:29Z", "author_association": "NONE", "body_html": "<p>Hello everyone, I tried to run this script on three AWS machines. One parameter server and two workers.<br>\nHowever, the ps is always in \"Initializing session...\" and workers always waiting for the ps.</p>\n<p>I believe the challenge is from here:<br>\nps definitions:<br>\nflags.DEFINE_integer(\"worker_index\", 0,<br>\n\"Worker task index, should be &gt;= 0. worker_index=0 is \"<br>\n\"the master worker task the performs the variable \"<br>\n\"initialization \")</p>\n<p>flags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",<br>\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")</p>\n<p>flags.DEFINE_string(\"parameter_servers\", \"<a href=\"http://54.86.223.142:2222\" rel=\"nofollow\">http://54.86.223.142:2222</a>\",<br>\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")</p>\n<p>flags.DEFINE_string(\"worker_grpc_url\", \"grpc://54.86.223.142:2222\",<br>\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"<br>\n\"grpc://tf-worker0:2222)\")</p>\n<p>worker definitions:<br>\nflags.DEFINE_integer(\"worker_index\", 1,<br>\n\"Worker task index, should be &gt;= 0. worker_index=0 is \"<br>\n\"the master worker task the performs the variable \"<br>\n\"initialization \")</p>\n<p>flags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",<br>\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")</p>\n<p>flags.DEFINE_string(\"parameter_servers\", \"<a href=\"http://54.86.223.142:2222\" rel=\"nofollow\">http://54.86.223.142:2222</a>\",<br>\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")</p>\n<p>flags.DEFINE_string(\"worker_grpc_url\", \"grpc://34.205.143.107:2222\",<br>\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"<br>\n\"grpc://tf-worker0:2222)\")<br>\nsecond worker<br>\nflags.DEFINE_integer(\"worker_index\", 2,<br>\n\"Worker task index, should be &gt;= 0. worker_index=0 is \"<br>\n\"the master worker task the performs the variable \"<br>\n\"initialization \")</p>\n<p>flags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",<br>\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")</p>\n<p>flags.DEFINE_string(\"parameter_servers\", \"<a href=\"http://54.86.223.142:2222\" rel=\"nofollow\">http://54.86.223.142:2222</a>\",<br>\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")</p>\n<p>flags.DEFINE_string(\"worker_grpc_url\", \"grpc://83.142.82:2222\",<br>\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"<br>\n\"grpc://tf-worker0:2222)\")<br>\n<a href=\"https://github.com/tensorflow/tensorflow/files/915085/mnistcnn.txt\">mnistcnn.txt</a></p>\n<p>We appreciate any assistance .</p>", "body_text": "Hello everyone, I tried to run this script on three AWS machines. One parameter server and two workers.\nHowever, the ps is always in \"Initializing session...\" and workers always waiting for the ps.\nI believe the challenge is from here:\nps definitions:\nflags.DEFINE_integer(\"worker_index\", 0,\n\"Worker task index, should be >= 0. worker_index=0 is \"\n\"the master worker task the performs the variable \"\n\"initialization \")\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://54.86.223.142:2222\",\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\n\"grpc://tf-worker0:2222)\")\nworker definitions:\nflags.DEFINE_integer(\"worker_index\", 1,\n\"Worker task index, should be >= 0. worker_index=0 is \"\n\"the master worker task the performs the variable \"\n\"initialization \")\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://34.205.143.107:2222\",\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\n\"grpc://tf-worker0:2222)\")\nsecond worker\nflags.DEFINE_integer(\"worker_index\", 2,\n\"Worker task index, should be >= 0. worker_index=0 is \"\n\"the master worker task the performs the variable \"\n\"initialization \")\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\n\"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\n\"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://83.142.82:2222\",\n\"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\n\"grpc://tf-worker0:2222)\")\nmnistcnn.txt\nWe appreciate any assistance .", "body": "Hello everyone, I tried to run this script on three AWS machines. One parameter server and two workers.\r\nHowever, the ps is always in \"Initializing session...\" and workers always waiting for the ps.\r\n\r\nI believe the challenge is from here: \r\nps definitions:\r\nflags.DEFINE_integer(\"worker_index\", 0,\r\n                     \"Worker task index, should be >= 0. worker_index=0 is \"\r\n                     \"the master worker task the performs the variable \"\r\n                     \"initialization \")\r\n\r\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\r\n                    \"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\r\n\r\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\r\n                    \"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\r\n\r\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://54.86.223.142:2222\",\r\n                    \"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\r\n                    \"grpc://tf-worker0:2222)\")\r\n\r\nworker definitions:\r\nflags.DEFINE_integer(\"worker_index\", 1,\r\n                     \"Worker task index, should be >= 0. worker_index=0 is \"\r\n                     \"the master worker task the performs the variable \"\r\n                     \"initialization \")\r\n\r\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\r\n                    \"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\r\n\r\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\r\n                    \"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\r\n\r\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://34.205.143.107:2222\",\r\n                    \"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\r\n                    \"grpc://tf-worker0:2222)\")\r\nsecond worker\r\nflags.DEFINE_integer(\"worker_index\", 2,\r\n                     \"Worker task index, should be >= 0. worker_index=0 is \"\r\n                     \"the master worker task the performs the variable \"\r\n                     \"initialization \")\r\n\r\nflags.DEFINE_string(\"workers\", \"34.205.143.107:2222,54.83.142.82:2222\",\r\n                    \"The worker url list, separated by comma (e.g. tf-worker1:2222,1.2.3.4:2222)\")\r\n\r\nflags.DEFINE_string(\"parameter_servers\", \"http://54.86.223.142:2222\",\r\n                    \"The ps url list, separated by comma (e.g. tf-ps2:2222,1.2.3.5:2222)\")\r\n\r\nflags.DEFINE_string(\"worker_grpc_url\", \"grpc://83.142.82:2222\",\r\n                    \"Worker GRPC URL (e.g., grpc://1.2.3.4:2222, or \"\r\n                    \"grpc://tf-worker0:2222)\")\r\n[mnistcnn.txt](https://github.com/tensorflow/tensorflow/files/915085/mnistcnn.txt)\r\n\r\n\r\nWe appreciate any assistance .\r\n\r\n\r\n"}