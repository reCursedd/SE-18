{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/404069499", "html_url": "https://github.com/tensorflow/tensorflow/issues/20677#issuecomment-404069499", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20677", "id": 404069499, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDA2OTQ5OQ==", "user": {"login": "zjfheart", "id": 10344081, "node_id": "MDQ6VXNlcjEwMzQ0MDgx", "avatar_url": "https://avatars3.githubusercontent.com/u/10344081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zjfheart", "html_url": "https://github.com/zjfheart", "followers_url": "https://api.github.com/users/zjfheart/followers", "following_url": "https://api.github.com/users/zjfheart/following{/other_user}", "gists_url": "https://api.github.com/users/zjfheart/gists{/gist_id}", "starred_url": "https://api.github.com/users/zjfheart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zjfheart/subscriptions", "organizations_url": "https://api.github.com/users/zjfheart/orgs", "repos_url": "https://api.github.com/users/zjfheart/repos", "events_url": "https://api.github.com/users/zjfheart/events{/privacy}", "received_events_url": "https://api.github.com/users/zjfheart/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-11T07:17:02Z", "updated_at": "2018-07-11T07:17:02Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13115060\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rongjiecomputer\">@rongjiecomputer</a><br>\nHmmm. I tried that as well, it stills fails.  The same error occurs again.</p>\n<p>[root@Jingfeng_redhat tensorflow]# bazel build --config=opt --config=cuda --conlyopt=-std=gnu99 //tensorflow/tools/pip_package:build_pip_package</p>\n<p>ERROR: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (unsigned i = 0; i &lt; sizeof(length_bytes); i++) {<br>\n^<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (size_t done = 0; done &lt; extra_in_len; block_counter++) {<br>\n^<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (size_t i = offset; i &lt; sizeof(block) &amp;&amp; done &lt; extra_in_len;<br>\n^<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 5.563s, Critical Path: 3.10s<br>\nFAILED: Build did NOT complete successfully</p>", "body_text": "@rongjiecomputer\nHmmm. I tried that as well, it stills fails.  The same error occurs again.\n[root@Jingfeng_redhat tensorflow]# bazel build --config=opt --config=cuda --conlyopt=-std=gnu99 //tensorflow/tools/pip_package:build_pip_package\nERROR: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (unsigned i = 0; i < sizeof(length_bytes); i++) {\n^\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (size_t done = 0; done < extra_in_len; block_counter++) {\n^\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (size_t i = offset; i < sizeof(block) && done < extra_in_len;\n^\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 5.563s, Critical Path: 3.10s\nFAILED: Build did NOT complete successfully", "body": "@rongjiecomputer \r\nHmmm. I tried that as well, it stills fails.  The same error occurs again. \r\n\r\n[root@Jingfeng_redhat tensorflow]# bazel build --config=opt --config=cuda --conlyopt=-std=gnu99 //tensorflow/tools/pip_package:build_pip_package\r\n\r\nERROR: /root/.cache/bazel/_bazel_root/efb88f6336d9c4a18216fb94287b8d97/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode\r\n   for (unsigned i = 0; i < sizeof(length_bytes); i++) {\r\n   ^\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode\r\n     for (size_t done = 0; done < extra_in_len; block_counter++) {\r\n     ^\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode\r\n       for (size_t i = offset; i < sizeof(block) && done < extra_in_len;\r\n       ^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 5.563s, Critical Path: 3.10s\r\nFAILED: Build did NOT complete successfully\r\n\r\n\r\n"}