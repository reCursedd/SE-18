{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20677", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20677/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20677/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20677/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/20677", "id": 340063602, "node_id": "MDU6SXNzdWUzNDAwNjM2MDI=", "number": 20677, "title": "C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)", "user": {"login": "zjfheart", "id": 10344081, "node_id": "MDQ6VXNlcjEwMzQ0MDgx", "avatar_url": "https://avatars3.githubusercontent.com/u/10344081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zjfheart", "html_url": "https://github.com/zjfheart", "followers_url": "https://api.github.com/users/zjfheart/followers", "following_url": "https://api.github.com/users/zjfheart/following{/other_user}", "gists_url": "https://api.github.com/users/zjfheart/gists{/gist_id}", "starred_url": "https://api.github.com/users/zjfheart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zjfheart/subscriptions", "organizations_url": "https://api.github.com/users/zjfheart/orgs", "repos_url": "https://api.github.com/users/zjfheart/repos", "events_url": "https://api.github.com/users/zjfheart/events{/privacy}", "received_events_url": "https://api.github.com/users/zjfheart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2018-07-11T01:52:43Z", "updated_at": "2018-08-07T08:04:31Z", "closed_at": "2018-08-07T08:04:31Z", "author_association": "NONE", "body_html": "<p>[jingfeng@Jingfeng_redhat tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package</p>\n<p>ERROR: /home/jingfeng/.cache/bazel/_bazel_jingfeng/29120beece5f660cdcebf72073ed1bba/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (unsigned i = 0; i &lt; sizeof(length_bytes); i++) {<br>\n^<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (size_t done = 0; done &lt; extra_in_len; block_counter++) {<br>\n^<br>\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode<br>\nfor (size_t i = offset; i &lt; sizeof(block) &amp;&amp; done &lt; extra_in_len;<br>\n^<br>\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build<br>\nUse --verbose_failures to see the command lines of failed build steps.<br>\nINFO: Elapsed time: 8.244s, Critical Path: 6.30s<br>\nINFO: 5 processes: 5 local.<br>\nFAILED: Build did NOT complete successfully</p>\n<p>[jingfeng@Jingfeng_redhat ~]$ uname -a<br>\nLinux Jingfeng_redhat 3.10.0-862.3.2.el7.ppc64le <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"115886302\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/1/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/1\">#1</a> SMP Tue May 15 22:31:16 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux</p>\n<p>[jingfeng@Jingfeng_redhat ~]$ gcc -v<br>\nUsing built-in specs.<br>\nCOLLECT_GCC=gcc<br>\nCOLLECT_LTO_WRAPPER=/usr/libexec/gcc/ppc64le-redhat-linux/4.8.5/lto-wrapper<br>\nTarget: ppc64le-redhat-linux<br>\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=<a href=\"http://bugzilla.redhat.com/bugzilla\" rel=\"nofollow\">http://bugzilla.redhat.com/bugzilla</a> --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/cloog-install --enable-gnu-indirect-function --enable-secureplt --with-long-double-128 --enable-targets=powerpcle-linux --disable-multilib --with-cpu-64=power8 --with-tune-64=power8 --build=ppc64le-redhat-linux<br>\nThread model: posix<br>\ngcc version 4.8.5 20150623 (Red Hat 4.8.5-28) (GCC)</p>\n<p>jingfeng@Jingfeng_redhat ~]$ bazel version<br>\nExtracting Bazel installation...<br>\nBuild label: 0.11.0- (@non-git)<br>\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar<br>\nBuild time: Fri Jul 13 14:25:29 +50491 (1531191651929)<br>\nBuild timestamp: 1531191651929<br>\nBuild timestamp as int: 1531191651929</p>\n<p>python3.4<br>\ncuda9.0<br>\ncudnn latest</p>\n<p>[root@Jingfeng_redhat ~]# nvidia-smi<br>\nTue Jul 10 17:50:17 2018<br>\n+-----------------------------------------------------------------------------+<br>\n| NVIDIA-SMI 396.26                 Driver Version: 396.26                    |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br>\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br>\n|===============================+======================+======================|<br>\n|   0  Tesla K80           On   | 00000000:03:00.0 Off |                  Off |<br>\n| N/A   30C    P8    26W / 149W |      0MiB / 12206MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n|   1  Tesla K80           On   | 00000000:04:00.0 Off |                  Off |<br>\n| N/A   25C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n|   2  Tesla K80           On   | 00000002:03:00.0 Off |                  Off |<br>\n| N/A   41C    P0    N/A /  N/A |      0MiB / 12206MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n|   3  Tesla K80           On   | 00000002:04:00.0 Off |                  Off |<br>\n| N/A   26C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |</p>\n<p>May I know the reason for this problem? &amp; how to solve it? Many thanks for this</p>", "body_text": "[jingfeng@Jingfeng_redhat tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\nERROR: /home/jingfeng/.cache/bazel/_bazel_jingfeng/29120beece5f660cdcebf72073ed1bba/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (unsigned i = 0; i < sizeof(length_bytes); i++) {\n^\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (size_t done = 0; done < extra_in_len; block_counter++) {\n^\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode\nfor (size_t i = offset; i < sizeof(block) && done < extra_in_len;\n^\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\nUse --verbose_failures to see the command lines of failed build steps.\nINFO: Elapsed time: 8.244s, Critical Path: 6.30s\nINFO: 5 processes: 5 local.\nFAILED: Build did NOT complete successfully\n[jingfeng@Jingfeng_redhat ~]$ uname -a\nLinux Jingfeng_redhat 3.10.0-862.3.2.el7.ppc64le #1 SMP Tue May 15 22:31:16 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux\n[jingfeng@Jingfeng_redhat ~]$ gcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/libexec/gcc/ppc64le-redhat-linux/4.8.5/lto-wrapper\nTarget: ppc64le-redhat-linux\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/cloog-install --enable-gnu-indirect-function --enable-secureplt --with-long-double-128 --enable-targets=powerpcle-linux --disable-multilib --with-cpu-64=power8 --with-tune-64=power8 --build=ppc64le-redhat-linux\nThread model: posix\ngcc version 4.8.5 20150623 (Red Hat 4.8.5-28) (GCC)\njingfeng@Jingfeng_redhat ~]$ bazel version\nExtracting Bazel installation...\nBuild label: 0.11.0- (@non-git)\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Fri Jul 13 14:25:29 +50491 (1531191651929)\nBuild timestamp: 1531191651929\nBuild timestamp as int: 1531191651929\npython3.4\ncuda9.0\ncudnn latest\n[root@Jingfeng_redhat ~]# nvidia-smi\nTue Jul 10 17:50:17 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 396.26                 Driver Version: 396.26                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla K80           On   | 00000000:03:00.0 Off |                  Off |\n| N/A   30C    P8    26W / 149W |      0MiB / 12206MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla K80           On   | 00000000:04:00.0 Off |                  Off |\n| N/A   25C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla K80           On   | 00000002:03:00.0 Off |                  Off |\n| N/A   41C    P0    N/A /  N/A |      0MiB / 12206MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla K80           On   | 00000002:04:00.0 Off |                  Off |\n| N/A   26C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |\nMay I know the reason for this problem? & how to solve it? Many thanks for this", "body": "[jingfeng@Jingfeng_redhat tensorflow]$ bazel build --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package\r\n\r\nERROR: /home/jingfeng/.cache/bazel/_bazel_jingfeng/29120beece5f660cdcebf72073ed1bba/external/boringssl/BUILD:115:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1)\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'poly1305_update_length':\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: error: 'for' loop initial declarations are only allowed in C99 mode\r\nfor (unsigned i = 0; i < sizeof(length_bytes); i++) {\r\n^\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:145:3: note: use option -std=c99 or -std=gnu99 to compile your code\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c: In function 'aead_chacha20_poly1305_seal_scatter':\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:229:5: error: 'for' loop initial declarations are only allowed in C99 mode\r\nfor (size_t done = 0; done < extra_in_len; block_counter++) {\r\n^\r\nexternal/boringssl/src/crypto/cipher_extra/e_chacha20poly1305.c:233:7: error: 'for' loop initial declarations are only allowed in C99 mode\r\nfor (size_t i = offset; i < sizeof(block) && done < extra_in_len;\r\n^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 8.244s, Critical Path: 6.30s\r\nINFO: 5 processes: 5 local.\r\nFAILED: Build did NOT complete successfully\r\n\r\n[jingfeng@Jingfeng_redhat ~]$ uname -a\r\nLinux Jingfeng_redhat 3.10.0-862.3.2.el7.ppc64le #1 SMP Tue May 15 22:31:16 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux\r\n\r\n[jingfeng@Jingfeng_redhat ~]$ gcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/libexec/gcc/ppc64le-redhat-linux/4.8.5/lto-wrapper\r\nTarget: ppc64le-redhat-linux\r\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-ppc64le-redhat-linux/cloog-install --enable-gnu-indirect-function --enable-secureplt --with-long-double-128 --enable-targets=powerpcle-linux --disable-multilib --with-cpu-64=power8 --with-tune-64=power8 --build=ppc64le-redhat-linux\r\nThread model: posix\r\ngcc version 4.8.5 20150623 (Red Hat 4.8.5-28) (GCC)\r\n\r\njingfeng@Jingfeng_redhat ~]$ bazel version\r\nExtracting Bazel installation...\r\nBuild label: 0.11.0- (@non-git)\r\nBuild target: bazel-out/ppc-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Fri Jul 13 14:25:29 +50491 (1531191651929)\r\nBuild timestamp: 1531191651929\r\nBuild timestamp as int: 1531191651929\r\n\r\npython3.4 \r\ncuda9.0 \r\ncudnn latest\r\n\r\n[root@Jingfeng_redhat ~]# nvidia-smi\r\nTue Jul 10 17:50:17 2018       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 396.26                 Driver Version: 396.26                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla K80           On   | 00000000:03:00.0 Off |                  Off |\r\n| N/A   30C    P8    26W / 149W |      0MiB / 12206MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Tesla K80           On   | 00000000:04:00.0 Off |                  Off |\r\n| N/A   25C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   2  Tesla K80           On   | 00000002:03:00.0 Off |                  Off |\r\n| N/A   41C    P0    N/A /  N/A |      0MiB / 12206MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   3  Tesla K80           On   | 00000002:04:00.0 Off |                  Off |\r\n| N/A   26C    P8    30W / 149W |      0MiB / 12206MiB |      0%      Default |\r\n\r\n\r\nMay I know the reason for this problem? & how to solve it? Many thanks for this\r\n\r\n"}