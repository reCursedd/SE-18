{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304544778", "html_url": "https://github.com/tensorflow/tensorflow/issues/7549#issuecomment-304544778", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7549", "id": 304544778, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDU0NDc3OA==", "user": {"login": "Egor-Krivov", "id": 5444879, "node_id": "MDQ6VXNlcjU0NDQ4Nzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5444879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Egor-Krivov", "html_url": "https://github.com/Egor-Krivov", "followers_url": "https://api.github.com/users/Egor-Krivov/followers", "following_url": "https://api.github.com/users/Egor-Krivov/following{/other_user}", "gists_url": "https://api.github.com/users/Egor-Krivov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Egor-Krivov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Egor-Krivov/subscriptions", "organizations_url": "https://api.github.com/users/Egor-Krivov/orgs", "repos_url": "https://api.github.com/users/Egor-Krivov/repos", "events_url": "https://api.github.com/users/Egor-Krivov/events{/privacy}", "received_events_url": "https://api.github.com/users/Egor-Krivov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-28T22:36:21Z", "updated_at": "2017-05-28T22:36:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am also really looking forward to this to resolve. I am working with 5d tensors for 3d image analysis and fused batch norm from slim doesn't support 5d input (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"190363609\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/tensorflow/tensorflow/issues/5694\" data-hovercard-type=\"issue\" data-hovercard-url=\"/tensorflow/tensorflow/issues/5694/hovercard\" href=\"https://github.com/tensorflow/tensorflow/issues/5694\">#5694</a>) and is outdated. Right now I have to use my own function to implement something as basic as reasonably fast batch norm for 3d images. I have implemented the same network with fused batch norm in pytorch and with batch norm from tf.layers and it's about 15 times slower in training (I am using GPU). My function currently performs reshape to 4d and uses batch norm from slim and provides about the same performance as pytorch.</p>\n<p>It is really surprising for me that this issue is so old. I would say that without fused batch norm current implementation should never be used, because of the performance (15 times slower in my case).</p>", "body_text": "I am also really looking forward to this to resolve. I am working with 5d tensors for 3d image analysis and fused batch norm from slim doesn't support 5d input (#5694) and is outdated. Right now I have to use my own function to implement something as basic as reasonably fast batch norm for 3d images. I have implemented the same network with fused batch norm in pytorch and with batch norm from tf.layers and it's about 15 times slower in training (I am using GPU). My function currently performs reshape to 4d and uses batch norm from slim and provides about the same performance as pytorch.\nIt is really surprising for me that this issue is so old. I would say that without fused batch norm current implementation should never be used, because of the performance (15 times slower in my case).", "body": "I am also really looking forward to this to resolve. I am working with 5d tensors for 3d image analysis and fused batch norm from slim doesn't support 5d input (https://github.com/tensorflow/tensorflow/issues/5694) and is outdated. Right now I have to use my own function to implement something as basic as reasonably fast batch norm for 3d images. I have implemented the same network with fused batch norm in pytorch and with batch norm from tf.layers and it's about 15 times slower in training (I am using GPU). My function currently performs reshape to 4d and uses batch norm from slim and provides about the same performance as pytorch.\r\n\r\nIt is really surprising for me that this issue is so old. I would say that without fused batch norm current implementation should never be used, because of the performance (15 times slower in my case)."}