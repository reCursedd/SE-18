{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/398898269", "html_url": "https://github.com/tensorflow/tensorflow/pull/20161#issuecomment-398898269", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20161", "id": 398898269, "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODg5ODI2OQ==", "user": {"login": "ravwojdyla", "id": 1419010, "node_id": "MDQ6VXNlcjE0MTkwMTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1419010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravwojdyla", "html_url": "https://github.com/ravwojdyla", "followers_url": "https://api.github.com/users/ravwojdyla/followers", "following_url": "https://api.github.com/users/ravwojdyla/following{/other_user}", "gists_url": "https://api.github.com/users/ravwojdyla/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravwojdyla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravwojdyla/subscriptions", "organizations_url": "https://api.github.com/users/ravwojdyla/orgs", "repos_url": "https://api.github.com/users/ravwojdyla/repos", "events_url": "https://api.github.com/users/ravwojdyla/events{/privacy}", "received_events_url": "https://api.github.com/users/ravwojdyla/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-20T21:11:09Z", "updated_at": "2018-06-20T23:29:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Right now when label vocabulary is set, the doc says that:</p>\n<pre><code>If `label_vocabulary` is given, a string `SparseTensor`. The `dense_shape`\nmust be `[D0, D1, ... DN, ?]` and the values within `label_vocabulary`.\n</code></pre>\n<p>but if you pass the label vocabulary and labels as multi hot it works fine too - see the test. In fact if you trace the code, in such case <code>label_vocabulary</code> stays unused afaiu. I don't have a strong opinion about failing in such case - this PR fixes the doc and adds tests for that case. But I can also try to fail in such case if that is what we want to do. What's your opinion?</p>", "body_text": "Right now when label vocabulary is set, the doc says that:\nIf `label_vocabulary` is given, a string `SparseTensor`. The `dense_shape`\nmust be `[D0, D1, ... DN, ?]` and the values within `label_vocabulary`.\n\nbut if you pass the label vocabulary and labels as multi hot it works fine too - see the test. In fact if you trace the code, in such case label_vocabulary stays unused afaiu. I don't have a strong opinion about failing in such case - this PR fixes the doc and adds tests for that case. But I can also try to fail in such case if that is what we want to do. What's your opinion?", "body": "Right now when label vocabulary is set, the doc says that:\r\n\r\n```\r\nIf `label_vocabulary` is given, a string `SparseTensor`. The `dense_shape`\r\nmust be `[D0, D1, ... DN, ?]` and the values within `label_vocabulary`.\r\n```\r\n\r\nbut if you pass the label vocabulary and labels as multi hot it works fine too - see the test. In fact if you trace the code, in such case `label_vocabulary` stays unused afaiu. I don't have a strong opinion about failing in such case - this PR fixes the doc and adds tests for that case. But I can also try to fail in such case if that is what we want to do. What's your opinion?"}