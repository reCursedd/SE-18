{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/434558999", "html_url": "https://github.com/tensorflow/tensorflow/issues/10408#issuecomment-434558999", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10408", "id": 434558999, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDU1ODk5OQ==", "user": {"login": "jmhjimenez", "id": 25655530, "node_id": "MDQ6VXNlcjI1NjU1NTMw", "avatar_url": "https://avatars0.githubusercontent.com/u/25655530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmhjimenez", "html_url": "https://github.com/jmhjimenez", "followers_url": "https://api.github.com/users/jmhjimenez/followers", "following_url": "https://api.github.com/users/jmhjimenez/following{/other_user}", "gists_url": "https://api.github.com/users/jmhjimenez/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmhjimenez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmhjimenez/subscriptions", "organizations_url": "https://api.github.com/users/jmhjimenez/orgs", "repos_url": "https://api.github.com/users/jmhjimenez/repos", "events_url": "https://api.github.com/users/jmhjimenez/events{/privacy}", "received_events_url": "https://api.github.com/users/jmhjimenez/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-31T04:41:37Z", "updated_at": "2018-10-31T04:41:37Z", "author_association": "NONE", "body_html": "<p>I have the same issue. Just by running the same code again, the memory doesn't seem to get freed by clear_session. Below is my code. Please help!</p>\n<p>`import keras<br>\nfrom keras.applications.vgg16 import VGG16</p>\n<p>vgg16_model = VGG16()</p>\n<p>model = Sequential()<br>\nfor layer in vgg16_model.layers[:-1]:<br>\nmodel.add(layer)<br>\nmodel.summary()</p>\n<p>for layer in model.layers:<br>\nlayer.trainable = False</p>\n<p>model.add(Dense(2,activation='softmax'))<br>\nmodel.summary()</p>\n<p>K.clear_session()<br>\nK.reset_uids()`</p>", "body_text": "I have the same issue. Just by running the same code again, the memory doesn't seem to get freed by clear_session. Below is my code. Please help!\n`import keras\nfrom keras.applications.vgg16 import VGG16\nvgg16_model = VGG16()\nmodel = Sequential()\nfor layer in vgg16_model.layers[:-1]:\nmodel.add(layer)\nmodel.summary()\nfor layer in model.layers:\nlayer.trainable = False\nmodel.add(Dense(2,activation='softmax'))\nmodel.summary()\nK.clear_session()\nK.reset_uids()`", "body": "I have the same issue. Just by running the same code again, the memory doesn't seem to get freed by clear_session. Below is my code. Please help!\r\n\r\n`import keras\r\nfrom keras.applications.vgg16 import VGG16\r\n\r\nvgg16_model = VGG16()\r\n\r\nmodel = Sequential()\r\nfor layer in vgg16_model.layers[:-1]:\r\n    model.add(layer)\r\nmodel.summary()\r\n\r\nfor layer in model.layers:\r\n    layer.trainable = False\r\n\r\nmodel.add(Dense(2,activation='softmax'))\r\nmodel.summary()\r\n\r\nK.clear_session()\r\nK.reset_uids()`"}