{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/308230401", "html_url": "https://github.com/tensorflow/tensorflow/issues/10408#issuecomment-308230401", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10408", "id": 308230401, "node_id": "MDEyOklzc3VlQ29tbWVudDMwODIzMDQwMQ==", "user": {"login": "Caselles", "id": 19774802, "node_id": "MDQ6VXNlcjE5Nzc0ODAy", "avatar_url": "https://avatars3.githubusercontent.com/u/19774802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Caselles", "html_url": "https://github.com/Caselles", "followers_url": "https://api.github.com/users/Caselles/followers", "following_url": "https://api.github.com/users/Caselles/following{/other_user}", "gists_url": "https://api.github.com/users/Caselles/gists{/gist_id}", "starred_url": "https://api.github.com/users/Caselles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Caselles/subscriptions", "organizations_url": "https://api.github.com/users/Caselles/orgs", "repos_url": "https://api.github.com/users/Caselles/repos", "events_url": "https://api.github.com/users/Caselles/events{/privacy}", "received_events_url": "https://api.github.com/users/Caselles/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-13T19:58:11Z", "updated_at": "2017-06-13T19:58:11Z", "author_association": "NONE", "body_html": "<p>I'm sorry for not saying that earlier but calling <code>K.clear_session()</code> within the <code>tf.Graph().as_default(), tf.Session() as sess:</code> yields an error :</p>\n<p>IndexError                                Traceback (most recent call last)<br>\n in ()<br>\n----&gt; 1 build_model()</p>\n<p> in build_model()<br>\n31<br>\n32         K.set_session(sess)<br>\n---&gt; 33         K.clear_session()<br>\n34<br>\n35     tf.reset_default_graph()</p>\n<p>/Users/Syzygy/anaconda/lib/python3.5/contextlib.py in <strong>exit</strong>(self, type, value, traceback)<br>\n75                 value = type()<br>\n76             try:<br>\n---&gt; 77                 self.gen.throw(type, value, traceback)<br>\n78                 raise RuntimeError(\"generator didn't stop after throw()\")<br>\n79             except StopIteration as exc:</p>\n<p>/Users/Syzygy/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in get_controller(self, default)<br>\n3626     finally:<br>\n3627       if self._enforce_nesting:<br>\n-&gt; 3628         if self.stack[-1] is not default:<br>\n3629           raise AssertionError(<br>\n3630               \"Nesting violated for default stack of %s objects\"</p>\n<p>IndexError: list index out of range</p>", "body_text": "I'm sorry for not saying that earlier but calling K.clear_session() within the tf.Graph().as_default(), tf.Session() as sess: yields an error :\nIndexError                                Traceback (most recent call last)\n in ()\n----> 1 build_model()\n in build_model()\n31\n32         K.set_session(sess)\n---> 33         K.clear_session()\n34\n35     tf.reset_default_graph()\n/Users/Syzygy/anaconda/lib/python3.5/contextlib.py in exit(self, type, value, traceback)\n75                 value = type()\n76             try:\n---> 77                 self.gen.throw(type, value, traceback)\n78                 raise RuntimeError(\"generator didn't stop after throw()\")\n79             except StopIteration as exc:\n/Users/Syzygy/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in get_controller(self, default)\n3626     finally:\n3627       if self._enforce_nesting:\n-> 3628         if self.stack[-1] is not default:\n3629           raise AssertionError(\n3630               \"Nesting violated for default stack of %s objects\"\nIndexError: list index out of range", "body": "I'm sorry for not saying that earlier but calling `K.clear_session()` within the `tf.Graph().as_default(), tf.Session() as sess:` yields an error : \r\n\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-7-7793873c5c17> in <module>()\r\n----> 1 build_model()\r\n\r\n<ipython-input-6-3626073d2002> in build_model()\r\n     31 \r\n     32         K.set_session(sess)\r\n---> 33         K.clear_session()\r\n     34 \r\n     35     tf.reset_default_graph()\r\n\r\n/Users/Syzygy/anaconda/lib/python3.5/contextlib.py in __exit__(self, type, value, traceback)\r\n     75                 value = type()\r\n     76             try:\r\n---> 77                 self.gen.throw(type, value, traceback)\r\n     78                 raise RuntimeError(\"generator didn't stop after throw()\")\r\n     79             except StopIteration as exc:\r\n\r\n/Users/Syzygy/anaconda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py in get_controller(self, default)\r\n   3626     finally:\r\n   3627       if self._enforce_nesting:\r\n-> 3628         if self.stack[-1] is not default:\r\n   3629           raise AssertionError(\r\n   3630               \"Nesting violated for default stack of %s objects\"\r\n\r\nIndexError: list index out of range\r\n"}