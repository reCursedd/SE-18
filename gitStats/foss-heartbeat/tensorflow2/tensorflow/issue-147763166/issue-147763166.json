{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1879", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1879/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1879/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1879/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1879", "id": 147763166, "node_id": "MDU6SXNzdWUxNDc3NjMxNjY=", "number": 1879, "title": "Evaluate dev set in Translate.py: the decoder stills fetches from decoder_inputs, instead of previous predictions.", "user": {"login": "LittleYUYU", "id": 10116557, "node_id": "MDQ6VXNlcjEwMTE2NTU3", "avatar_url": "https://avatars1.githubusercontent.com/u/10116557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LittleYUYU", "html_url": "https://github.com/LittleYUYU", "followers_url": "https://api.github.com/users/LittleYUYU/followers", "following_url": "https://api.github.com/users/LittleYUYU/following{/other_user}", "gists_url": "https://api.github.com/users/LittleYUYU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LittleYUYU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LittleYUYU/subscriptions", "organizations_url": "https://api.github.com/users/LittleYUYU/orgs", "repos_url": "https://api.github.com/users/LittleYUYU/repos", "events_url": "https://api.github.com/users/LittleYUYU/events{/privacy}", "received_events_url": "https://api.github.com/users/LittleYUYU/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lukaszkaiser", "id": 684901, "node_id": "MDQ6VXNlcjY4NDkwMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/684901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukaszkaiser", "html_url": "https://github.com/lukaszkaiser", "followers_url": "https://api.github.com/users/lukaszkaiser/followers", "following_url": "https://api.github.com/users/lukaszkaiser/following{/other_user}", "gists_url": "https://api.github.com/users/lukaszkaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukaszkaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukaszkaiser/subscriptions", "organizations_url": "https://api.github.com/users/lukaszkaiser/orgs", "repos_url": "https://api.github.com/users/lukaszkaiser/repos", "events_url": "https://api.github.com/users/lukaszkaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/lukaszkaiser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-04-12T14:08:43Z", "updated_at": "2016-04-14T03:56:26Z", "closed_at": "2016-04-14T03:56:26Z", "author_association": "NONE", "body_html": "<p>In the training process defined in Translate.py, the model is created with <code>model = create_model(sess, False)</code> where <code>forward_only=False</code> means every step of decoding the decoder would fetch from decoder_inputs, instead of previous prediction.</p>\n<p>That's the same for evaluation of dev set, since the command<br>\n<code>_, eval_loss, _ = model.step(sess, encoder_inputs, decoder_inputs, target_weights, bucket_id, True)</code><br>\nwith <code>forward_only=True</code> actually doesn't change the decoding way. (It just decides the backward.)</p>\n<p>So I guess the evaluation of dev set is not a real evaluation? Or is it a trick? I guess the correct way should be creating a model with current checkpoint params and set <code>forward_only=True</code>.</p>\n<p>Thanks.</p>", "body_text": "In the training process defined in Translate.py, the model is created with model = create_model(sess, False) where forward_only=False means every step of decoding the decoder would fetch from decoder_inputs, instead of previous prediction.\nThat's the same for evaluation of dev set, since the command\n_, eval_loss, _ = model.step(sess, encoder_inputs, decoder_inputs, target_weights, bucket_id, True)\nwith forward_only=True actually doesn't change the decoding way. (It just decides the backward.)\nSo I guess the evaluation of dev set is not a real evaluation? Or is it a trick? I guess the correct way should be creating a model with current checkpoint params and set forward_only=True.\nThanks.", "body": "In the training process defined in Translate.py, the model is created with `model = create_model(sess, False)` where `forward_only=False` means every step of decoding the decoder would fetch from decoder_inputs, instead of previous prediction. \n\nThat's the same for evaluation of dev set, since the command \n`_, eval_loss, _ = model.step(sess, encoder_inputs, decoder_inputs, target_weights, bucket_id, True)` \nwith `forward_only=True` actually doesn't change the decoding way. (It just decides the backward.)\n\nSo I guess the evaluation of dev set is not a real evaluation? Or is it a trick? I guess the correct way should be creating a model with current checkpoint params and set `forward_only=True`.\n\nThanks.\n"}