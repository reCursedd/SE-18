{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/396810713", "html_url": "https://github.com/tensorflow/tensorflow/issues/19948#issuecomment-396810713", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/19948", "id": 396810713, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjgxMDcxMw==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-13T04:36:01Z", "updated_at": "2018-06-13T04:36:01Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>Could it be that reshape affects the internal state of the random number generator?</p>\n</blockquote>\n<p>If a random-number\u2013generating op such as <code>tf.random_uniform()</code> is created without an explicit <code>seed</code> argument, then TensorFlow <a href=\"https://github.com/tensorflow/tensorflow/blame/master/tensorflow/python/framework/random_seed.py#L68\">uses the current number of nodes in the graph</a> as part of the seed. Therefore, adding any op, including a <code>tf.reshape()</code> prior to a random-number\u2013generating op may change the random numbers that it generates. To prevent this from happening, you must specify an explicit seed for each random-number\u2013generating op.</p>\n<p>I'll close this issue as it is working as intended.</p>", "body_text": "Could it be that reshape affects the internal state of the random number generator?\n\nIf a random-number\u2013generating op such as tf.random_uniform() is created without an explicit seed argument, then TensorFlow uses the current number of nodes in the graph as part of the seed. Therefore, adding any op, including a tf.reshape() prior to a random-number\u2013generating op may change the random numbers that it generates. To prevent this from happening, you must specify an explicit seed for each random-number\u2013generating op.\nI'll close this issue as it is working as intended.", "body": "> Could it be that reshape affects the internal state of the random number generator?\r\n\r\nIf a random-number\u2013generating op such as `tf.random_uniform()` is created without an explicit `seed` argument, then TensorFlow [uses the current number of nodes in the graph](https://github.com/tensorflow/tensorflow/blame/master/tensorflow/python/framework/random_seed.py#L68) as part of the seed. Therefore, adding any op, including a `tf.reshape()` prior to a random-number\u2013generating op may change the random numbers that it generates. To prevent this from happening, you must specify an explicit seed for each random-number\u2013generating op.\r\n\r\nI'll close this issue as it is working as intended."}