{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304299313", "html_url": "https://github.com/tensorflow/tensorflow/issues/10199#issuecomment-304299313", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10199", "id": 304299313, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDI5OTMxMw==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T14:35:10Z", "updated_at": "2017-05-26T14:35:10Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think this is a bug in <a href=\"https://github.com/tensorflow/tensorflow/blob/5ae244ed0b702e50fd6bb7bc73d45b9188c4239d/tensorflow/core/platform/cpu_feature_guard.cc#L97\"><code>WarnAboutUnusedCPUFeatures()</code></a> producing false warnings: it uses the definition of macros like <code>__SSE__</code>, <code>__SSE2__</code>, etc. to determine whether you have compiled with SSE, SSE2, etc. support, but MSVC doesn't define these macros even when you're building with SSE support.</p>\n<p>From my understanding of <a href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow\">this page about Visual C++ predefined macros</a>, all 64-bit x86 code generated by MSVC has up to SSE2 support. As far as I can tell, SSE3 and SSE4 are implied by <code>/arch:AVX</code> as well. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22941064\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/guschmue\">@guschmue</a> Does that fit with your understanding?</p>", "body_text": "I think this is a bug in WarnAboutUnusedCPUFeatures() producing false warnings: it uses the definition of macros like __SSE__, __SSE2__, etc. to determine whether you have compiled with SSE, SSE2, etc. support, but MSVC doesn't define these macros even when you're building with SSE support.\nFrom my understanding of this page about Visual C++ predefined macros, all 64-bit x86 code generated by MSVC has up to SSE2 support. As far as I can tell, SSE3 and SSE4 are implied by /arch:AVX as well. @guschmue Does that fit with your understanding?", "body": "I think this is a bug in [`WarnAboutUnusedCPUFeatures()`](https://github.com/tensorflow/tensorflow/blob/5ae244ed0b702e50fd6bb7bc73d45b9188c4239d/tensorflow/core/platform/cpu_feature_guard.cc#L97) producing false warnings: it uses the definition of macros like `__SSE__`, `__SSE2__`, etc. to determine whether you have compiled with SSE, SSE2, etc. support, but MSVC doesn't define these macros even when you're building with SSE support. \r\n\r\nFrom my understanding of [this page about Visual C++ predefined macros](https://msdn.microsoft.com/en-us/library/b0084kay.aspx), all 64-bit x86 code generated by MSVC has up to SSE2 support. As far as I can tell, SSE3 and SSE4 are implied by `/arch:AVX` as well. @guschmue Does that fit with your understanding?"}