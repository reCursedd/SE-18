{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/304393159", "html_url": "https://github.com/tensorflow/tensorflow/issues/10199#issuecomment-304393159", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10199", "id": 304393159, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDM5MzE1OQ==", "user": {"login": "guschmue", "id": 22941064, "node_id": "MDQ6VXNlcjIyOTQxMDY0", "avatar_url": "https://avatars3.githubusercontent.com/u/22941064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guschmue", "html_url": "https://github.com/guschmue", "followers_url": "https://api.github.com/users/guschmue/followers", "following_url": "https://api.github.com/users/guschmue/following{/other_user}", "gists_url": "https://api.github.com/users/guschmue/gists{/gist_id}", "starred_url": "https://api.github.com/users/guschmue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guschmue/subscriptions", "organizations_url": "https://api.github.com/users/guschmue/orgs", "repos_url": "https://api.github.com/users/guschmue/repos", "events_url": "https://api.github.com/users/guschmue/events{/privacy}", "received_events_url": "https://api.github.com/users/guschmue/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T21:35:48Z", "updated_at": "2017-05-26T21:36:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, I'm with <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=192142\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mrry\">@mrry</a>  :)<br>\nAs far I understand for <strong>x64</strong> - msvc assumes SSE and SSE2 for its own optimizer but does not set <code>__SSE__</code> or <code>__SSE2__</code>. I know Eigen deals with this the following way:<br>\n#if (defined(_M_IX86_FP) &amp;&amp; (_M_IX86_FP &gt;= 2)) || <strong>EIGEN_ARCH_x86_64</strong><br>\n#define EIGEN_SSE2_ON_MSVC_2008_OR_LATER</p>\n<p>For SSE4 it should be save to assume to be there if AVX is there.<br>\n/arch for x64 only takes AVX and AVX2.</p>", "body_text": "Yes, I'm with @mrry  :)\nAs far I understand for x64 - msvc assumes SSE and SSE2 for its own optimizer but does not set __SSE__ or __SSE2__. I know Eigen deals with this the following way:\n#if (defined(_M_IX86_FP) && (_M_IX86_FP >= 2)) || EIGEN_ARCH_x86_64\n#define EIGEN_SSE2_ON_MSVC_2008_OR_LATER\nFor SSE4 it should be save to assume to be there if AVX is there.\n/arch for x64 only takes AVX and AVX2.", "body": "Yes, I'm with @mrry  :)\r\nAs far I understand for **x64** - msvc assumes SSE and SSE2 for its own optimizer but does not set `__SSE__` or `__SSE2__`. I know Eigen deals with this the following way:\r\n#if (defined(_M_IX86_FP) && (_M_IX86_FP >= 2)) || **EIGEN_ARCH_x86_64**\r\n      #define EIGEN_SSE2_ON_MSVC_2008_OR_LATER\r\n\r\nFor SSE4 it should be save to assume to be there if AVX is there.\r\n/arch for x64 only takes AVX and AVX2.\r\n"}