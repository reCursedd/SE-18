{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12974", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12974/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12974/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12974/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12974", "id": 256786094, "node_id": "MDU6SXNzdWUyNTY3ODYwOTQ=", "number": 12974, "title": "Feature missing? Ability to get Tensorboard output from provided \"estimators\"", "user": {"login": "dartdog", "id": 87834, "node_id": "MDQ6VXNlcjg3ODM0", "avatar_url": "https://avatars2.githubusercontent.com/u/87834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dartdog", "html_url": "https://github.com/dartdog", "followers_url": "https://api.github.com/users/dartdog/followers", "following_url": "https://api.github.com/users/dartdog/following{/other_user}", "gists_url": "https://api.github.com/users/dartdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/dartdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dartdog/subscriptions", "organizations_url": "https://api.github.com/users/dartdog/orgs", "repos_url": "https://api.github.com/users/dartdog/repos", "events_url": "https://api.github.com/users/dartdog/events{/privacy}", "received_events_url": "https://api.github.com/users/dartdog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-09-11T17:42:05Z", "updated_at": "2018-08-13T21:31:23Z", "closed_at": "2017-10-26T16:09:53Z", "author_association": "NONE", "body_html": "<p>This is opened here since it relates to Estimator and canned estimator models not providing a method to get output for TB</p>\n<ol start=\"3\">\n<li>It shouldn't be a TensorBoard issue. And I attempted to get an answer at Stackoverflow.. (here <a href=\"https://stackoverflow.com/questions/46064056/no-easy-way-to-add-tensorboard-output-to-pre-defined-estimator-functions-dnnclas/46065066#46065066\" rel=\"nofollow\">https://stackoverflow.com/questions/46064056/no-easy-way-to-add-tensorboard-output-to-pre-defined-estimator-functions-dnnclas/46065066#46065066</a> )</li>\n</ol>\n<p>I have been using the estimator interface in TF 1.3 including the creation of the data input function:</p>\n<p><code>training_input_fn = tf.estimator.inputs.pandas_input_fn(x=training_data, y=training_label, batch_size=64, shuffle=True, num_epochs=None)</code></p>\n<p>and building the NN:</p>\n<p><code>dnnclassifier = tf.estimator.DNNClassifier( feature_columns=dnn_features, hidden_units=[1024, 500, 100], n_classes=2,  model_dir='./tmp/ccsprop', optimizer=tf.train.ProximalAdagradOptimizer( learning_rate=0.001, l1_regularization_strength=0.01 ))</code></p>\n<p>and executing it</p>\n<p><code>dnnclassifier.train(input_fn=training_input_fn, steps=1500)</code></p>\n<p>After much searching I see no easy way to add tensorboard output without resorting to recreating the model from scratch and indicated here <a href=\"https://www.tensorflow.org/extend/estimators\" rel=\"nofollow\">https://www.tensorflow.org/extend/estimators</a></p>\n<p>Following some of the help on SO:</p>\n<p><code> TBcall=tf.train.SummarySaverHook(save_steps=10, output_dir='./tb', summary_op=tf.summary.merge_all())</code></p>\n<p><code>dnnclassifier.train(input_fn=training_input_fn, steps=1500, hooks=TBcall)</code></p>\n<p>that gives this error: Exactly one of scaffold or summary_op must be provided</p>\n<p>The answer on SO has now been edited to show code from creating a model from scratch it seems.. So is there no way to get basic info from  tf.estimator.DNNClassifier to Tensorboard? And more generically from other tf.estimators ?? One would expect the canned estimators to provide this? For model introspection and tuning.</p>", "body_text": "This is opened here since it relates to Estimator and canned estimator models not providing a method to get output for TB\n\nIt shouldn't be a TensorBoard issue. And I attempted to get an answer at Stackoverflow.. (here https://stackoverflow.com/questions/46064056/no-easy-way-to-add-tensorboard-output-to-pre-defined-estimator-functions-dnnclas/46065066#46065066 )\n\nI have been using the estimator interface in TF 1.3 including the creation of the data input function:\ntraining_input_fn = tf.estimator.inputs.pandas_input_fn(x=training_data, y=training_label, batch_size=64, shuffle=True, num_epochs=None)\nand building the NN:\ndnnclassifier = tf.estimator.DNNClassifier( feature_columns=dnn_features, hidden_units=[1024, 500, 100], n_classes=2,  model_dir='./tmp/ccsprop', optimizer=tf.train.ProximalAdagradOptimizer( learning_rate=0.001, l1_regularization_strength=0.01 ))\nand executing it\ndnnclassifier.train(input_fn=training_input_fn, steps=1500)\nAfter much searching I see no easy way to add tensorboard output without resorting to recreating the model from scratch and indicated here https://www.tensorflow.org/extend/estimators\nFollowing some of the help on SO:\n TBcall=tf.train.SummarySaverHook(save_steps=10, output_dir='./tb', summary_op=tf.summary.merge_all())\ndnnclassifier.train(input_fn=training_input_fn, steps=1500, hooks=TBcall)\nthat gives this error: Exactly one of scaffold or summary_op must be provided\nThe answer on SO has now been edited to show code from creating a model from scratch it seems.. So is there no way to get basic info from  tf.estimator.DNNClassifier to Tensorboard? And more generically from other tf.estimators ?? One would expect the canned estimators to provide this? For model introspection and tuning.", "body": "This is opened here since it relates to Estimator and canned estimator models not providing a method to get output for TB\r\n\r\n3. It shouldn't be a TensorBoard issue. And I attempted to get an answer at Stackoverflow.. (here https://stackoverflow.com/questions/46064056/no-easy-way-to-add-tensorboard-output-to-pre-defined-estimator-functions-dnnclas/46065066#46065066 )\r\n\r\nI have been using the estimator interface in TF 1.3 including the creation of the data input function:\r\n\r\n`training_input_fn = tf.estimator.inputs.pandas_input_fn(x=training_data, y=training_label, batch_size=64, shuffle=True, num_epochs=None)`\r\n\r\nand building the NN:\r\n\r\n`dnnclassifier = tf.estimator.DNNClassifier(\r\n    feature_columns=dnn_features,\r\n    hidden_units=[1024, 500, 100],\r\n    n_classes=2, \r\n    model_dir='./tmp/ccsprop',\r\n    optimizer=tf.train.ProximalAdagradOptimizer(\r\n      learning_rate=0.001,\r\n      l1_regularization_strength=0.01\r\n    ))`\r\n\r\nand executing it\r\n\r\n`dnnclassifier.train(input_fn=training_input_fn, steps=1500)`\r\n\r\nAfter much searching I see no easy way to add tensorboard output without resorting to recreating the model from scratch and indicated here https://www.tensorflow.org/extend/estimators\r\n\r\nFollowing some of the help on SO:\r\n\r\n` TBcall=tf.train.SummarySaverHook(save_steps=10, output_dir='./tb', summary_op=tf.summary.merge_all())`\r\n\r\n`dnnclassifier.train(input_fn=training_input_fn, steps=1500, hooks=TBcall)`\r\n\r\nthat gives this error: Exactly one of scaffold or summary_op must be provided\r\n\r\nThe answer on SO has now been edited to show code from creating a model from scratch it seems.. So is there no way to get basic info from  tf.estimator.DNNClassifier to Tensorboard? And more generically from other tf.estimators ?? One would expect the canned estimators to provide this? For model introspection and tuning.\r\n\r\n\r\n"}