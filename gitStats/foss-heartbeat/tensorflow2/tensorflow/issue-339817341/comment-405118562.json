{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/405118562", "html_url": "https://github.com/tensorflow/tensorflow/issues/20669#issuecomment-405118562", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/20669", "id": 405118562, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTExODU2Mg==", "user": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-15T21:09:30Z", "updated_at": "2018-07-15T21:09:30Z", "author_association": "CONTRIBUTOR", "body_html": "<p>From the log, it appears that something is failing during the build of <code>estimator_python_api.vcxproj</code>. Assigning to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1299636\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/case540\">@case540</a>, since he added that project in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/tensorflow/tensorflow/commit/501cf726cbee2ee13efef43884a6552ca211979d/hovercard\" href=\"https://github.com/tensorflow/tensorflow/commit/501cf726cbee2ee13efef43884a6552ca211979d\"><tt>501cf72</tt></a>, and I'm not familiar with its mechanics. Mike: from this traceback, it looks like the API code generator is attempting to <code>from tensorflow.python import pywrap_tensorflow</code> <em>before</em> <code>pywrap_tensorflow.pyd</code> has been build:</p>\n<pre><code>  Traceback (most recent call last):\n    File \"D:/opencv/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/python/tools/api/generator/create_python_api.py\", line 27, in &lt;module&gt;\n      from tensorflow.python.tools.api.generator import doc_srcs\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\__init__.py\", line 24, in &lt;module&gt;\n      from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\__init__.py\", line 49, in &lt;module&gt;\n      from tensorflow.python import pywrap_tensorflow\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow.py\", line 74, in &lt;module&gt;\n      raise ImportError(msg)\n  ImportError: Traceback (most recent call last):\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 14, in swig_import_helper\n      return importlib.import_module(mname)\n    File \"C:\\Users\\FiFo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\importlib\\__init__.py\", line 126, in import_module\n      return _bootstrap._gcd_import(name[level:], package, level)\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 994, in _gcd_import\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 971, in _find_and_load\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 955, in _find_and_load_unlocked\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 658, in _load_unlocked\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 571, in module_from_spec\n    File \"&lt;frozen importlib._bootstrap_external&gt;\", line 922, in create_module\n    File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\n  ImportError: DLL load failed: N\u00d2o foi poss\u00ddvel encontrar o m\u00bedulo especificado.\n</code></pre>\n<p>I'm not sure how this is working in other builds, but perhaps we need a build dependency to ensure that the C++ extension is built first?</p>", "body_text": "From the log, it appears that something is failing during the build of estimator_python_api.vcxproj. Assigning to @case540, since he added that project in 501cf72, and I'm not familiar with its mechanics. Mike: from this traceback, it looks like the API code generator is attempting to from tensorflow.python import pywrap_tensorflow before pywrap_tensorflow.pyd has been build:\n  Traceback (most recent call last):\n    File \"D:/opencv/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/python/tools/api/generator/create_python_api.py\", line 27, in <module>\n      from tensorflow.python.tools.api.generator import doc_srcs\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\__init__.py\", line 24, in <module>\n      from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\__init__.py\", line 49, in <module>\n      from tensorflow.python import pywrap_tensorflow\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow.py\", line 74, in <module>\n      raise ImportError(msg)\n  ImportError: Traceback (most recent call last):\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 14, in swig_import_helper\n      return importlib.import_module(mname)\n    File \"C:\\Users\\FiFo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\importlib\\__init__.py\", line 126, in import_module\n      return _bootstrap._gcd_import(name[level:], package, level)\n    File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\n    File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\n    File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\n    File \"<frozen importlib._bootstrap>\", line 658, in _load_unlocked\n    File \"<frozen importlib._bootstrap>\", line 571, in module_from_spec\n    File \"<frozen importlib._bootstrap_external>\", line 922, in create_module\n    File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  ImportError: DLL load failed: N\u00d2o foi poss\u00ddvel encontrar o m\u00bedulo especificado.\n\nI'm not sure how this is working in other builds, but perhaps we need a build dependency to ensure that the C++ extension is built first?", "body": "From the log, it appears that something is failing during the build of `estimator_python_api.vcxproj`. Assigning to @case540, since he added that project in 501cf726cbee2ee13efef43884a6552ca211979d, and I'm not familiar with its mechanics. Mike: from this traceback, it looks like the API code generator is attempting to `from tensorflow.python import pywrap_tensorflow` *before* `pywrap_tensorflow.pyd` has been build:\r\n\r\n```\r\n  Traceback (most recent call last):\r\n    File \"D:/opencv/tensorflow/tensorflow/contrib/cmake/build/tf_python/tensorflow/python/tools/api/generator/create_python_api.py\", line 27, in <module>\r\n      from tensorflow.python.tools.api.generator import doc_srcs\r\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\__init__.py\", line 24, in <module>\r\n      from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\__init__.py\", line 49, in <module>\r\n      from tensorflow.python import pywrap_tensorflow\r\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow.py\", line 74, in <module>\r\n      raise ImportError(msg)\r\n  ImportError: Traceback (most recent call last):\r\n    File \"D:\\opencv\\tensorflow\\tensorflow\\contrib\\cmake\\build\\tf_python\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 14, in swig_import_helper\r\n      return importlib.import_module(mname)\r\n    File \"C:\\Users\\FiFo\\AppData\\Local\\Programs\\Python\\Python36\\lib\\importlib\\__init__.py\", line 126, in import_module\r\n      return _bootstrap._gcd_import(name[level:], package, level)\r\n    File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n    File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n    File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n    File \"<frozen importlib._bootstrap>\", line 658, in _load_unlocked\r\n    File \"<frozen importlib._bootstrap>\", line 571, in module_from_spec\r\n    File \"<frozen importlib._bootstrap_external>\", line 922, in create_module\r\n    File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  ImportError: DLL load failed: N\u00d2o foi poss\u00ddvel encontrar o m\u00bedulo especificado.\r\n```\r\n\r\nI'm not sure how this is working in other builds, but perhaps we need a build dependency to ensure that the C++ extension is built first?"}