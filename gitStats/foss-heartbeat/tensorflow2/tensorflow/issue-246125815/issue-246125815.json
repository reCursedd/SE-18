{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11823", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11823/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11823/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11823/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11823", "id": 246125815, "node_id": "MDU6SXNzdWUyNDYxMjU4MTU=", "number": 11823, "title": "ERROR message when using tf.SyncReplicasOptimizer", "user": {"login": "mari-linhares", "id": 8157164, "node_id": "MDQ6VXNlcjgxNTcxNjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/8157164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mari-linhares", "html_url": "https://github.com/mari-linhares", "followers_url": "https://api.github.com/users/mari-linhares/followers", "following_url": "https://api.github.com/users/mari-linhares/following{/other_user}", "gists_url": "https://api.github.com/users/mari-linhares/gists{/gist_id}", "starred_url": "https://api.github.com/users/mari-linhares/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mari-linhares/subscriptions", "organizations_url": "https://api.github.com/users/mari-linhares/orgs", "repos_url": "https://api.github.com/users/mari-linhares/repos", "events_url": "https://api.github.com/users/mari-linhares/events{/privacy}", "received_events_url": "https://api.github.com/users/mari-linhares/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, {"login": "josh11b", "id": 15258583, "node_id": "MDQ6VXNlcjE1MjU4NTgz", "avatar_url": "https://avatars0.githubusercontent.com/u/15258583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josh11b", "html_url": "https://github.com/josh11b", "followers_url": "https://api.github.com/users/josh11b/followers", "following_url": "https://api.github.com/users/josh11b/following{/other_user}", "gists_url": "https://api.github.com/users/josh11b/gists{/gist_id}", "starred_url": "https://api.github.com/users/josh11b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josh11b/subscriptions", "organizations_url": "https://api.github.com/users/josh11b/orgs", "repos_url": "https://api.github.com/users/josh11b/repos", "events_url": "https://api.github.com/users/josh11b/events{/privacy}", "received_events_url": "https://api.github.com/users/josh11b/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 22, "created_at": "2017-07-27T18:16:25Z", "updated_at": "2018-11-15T21:15:48Z", "closed_at": "2018-11-15T21:15:47Z", "author_association": "NONE", "body_html": "<p>I'm running distributed tensorflow with estimators, in order to it in sync mode I'm using tf.SyncReplicasOptimizer, but casually (specially after evaluation) I see the following error on the master:</p>\n<pre><code>ERROR:tensorflow:==================================\nObject was never used (type &lt;class 'tensorflow.python.framework.ops.Tensor'&gt;):\n&lt;tf.Tensor 'report_uninitialized_variables/boolean_mask/Gather:0' shape=(?,) dtype=string&gt;\n\n['File \"cifar10_main.py\", line 538, in &lt;module&gt;\\n    tf.app.run()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 48, in run\\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))', 'File \"cifar10_main.py\", line 518, in main\\n    hooks), run_config=config)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 210, in run\\n    return _execute_schedule(experiment, schedule)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 47, in _execute_schedule\\n    return task()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 501, in train_and_evaluate\\n    hooks=self._eval_hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 681, in _call_evaluate\\n    hooks=hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 292, in evaluate\\n    name=name)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 638, in _evaluate_model\\n    features, labels, model_fn_lib.ModeKeys.EVAL)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 545, in _call_model_fn\\n    features=features, labels=labels, **kwargs)', 'File \"cifar10_main.py\", line 331, in _resnet_model_fn\\n    gradvars, global_step=tf.train.get_global_step())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/sync_replicas_optimizer.py\", line 252, in apply_gradients\\n    variables.global_variables())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 170, in wrapped\\n    return _add_should_use_warning(fn(*args, **kwargs))', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 139, in _add_should_use_warning\\n    wrapped = TFShouldUseWarningWrapper(x)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 96, in __init__\\n    stack = [s.strip() for s in traceback.format_stack()]']\n==================================\n\n</code></pre>\n<p>Code available at:<a href=\"https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10_estimator/cifar10_main.py\">https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10_estimator/cifar10_main.py</a></p>", "body_text": "I'm running distributed tensorflow with estimators, in order to it in sync mode I'm using tf.SyncReplicasOptimizer, but casually (specially after evaluation) I see the following error on the master:\nERROR:tensorflow:==================================\nObject was never used (type <class 'tensorflow.python.framework.ops.Tensor'>):\n<tf.Tensor 'report_uninitialized_variables/boolean_mask/Gather:0' shape=(?,) dtype=string>\n\n['File \"cifar10_main.py\", line 538, in <module>\\n    tf.app.run()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 48, in run\\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))', 'File \"cifar10_main.py\", line 518, in main\\n    hooks), run_config=config)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 210, in run\\n    return _execute_schedule(experiment, schedule)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 47, in _execute_schedule\\n    return task()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 501, in train_and_evaluate\\n    hooks=self._eval_hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 681, in _call_evaluate\\n    hooks=hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 292, in evaluate\\n    name=name)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 638, in _evaluate_model\\n    features, labels, model_fn_lib.ModeKeys.EVAL)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 545, in _call_model_fn\\n    features=features, labels=labels, **kwargs)', 'File \"cifar10_main.py\", line 331, in _resnet_model_fn\\n    gradvars, global_step=tf.train.get_global_step())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/sync_replicas_optimizer.py\", line 252, in apply_gradients\\n    variables.global_variables())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 170, in wrapped\\n    return _add_should_use_warning(fn(*args, **kwargs))', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 139, in _add_should_use_warning\\n    wrapped = TFShouldUseWarningWrapper(x)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 96, in __init__\\n    stack = [s.strip() for s in traceback.format_stack()]']\n==================================\n\n\nCode available at:https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10_estimator/cifar10_main.py", "body": "I'm running distributed tensorflow with estimators, in order to it in sync mode I'm using tf.SyncReplicasOptimizer, but casually (specially after evaluation) I see the following error on the master:\r\n```\r\nERROR:tensorflow:==================================\r\nObject was never used (type <class 'tensorflow.python.framework.ops.Tensor'>):\r\n<tf.Tensor 'report_uninitialized_variables/boolean_mask/Gather:0' shape=(?,) dtype=string>\r\n\r\n['File \"cifar10_main.py\", line 538, in <module>\\n    tf.app.run()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 48, in run\\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))', 'File \"cifar10_main.py\", line 518, in main\\n    hooks), run_config=config)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 210, in run\\n    return _execute_schedule(experiment, schedule)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/learn_runner.py\", line 47, in _execute_schedule\\n    return task()', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 501, in train_and_evaluate\\n    hooks=self._eval_hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/learn/python/learn/experiment.py\", line 681, in _call_evaluate\\n    hooks=hooks)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 292, in evaluate\\n    name=name)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 638, in _evaluate_model\\n    features, labels, model_fn_lib.ModeKeys.EVAL)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/estimator/estimator.py\", line 545, in _call_model_fn\\n    features=features, labels=labels, **kwargs)', 'File \"cifar10_main.py\", line 331, in _resnet_model_fn\\n    gradvars, global_step=tf.train.get_global_step())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/sync_replicas_optimizer.py\", line 252, in apply_gradients\\n    variables.global_variables())', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 170, in wrapped\\n    return _add_should_use_warning(fn(*args, **kwargs))', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 139, in _add_should_use_warning\\n    wrapped = TFShouldUseWarningWrapper(x)', 'File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/tf_should_use.py\", line 96, in __init__\\n    stack = [s.strip() for s in traceback.format_stack()]']\r\n==================================\r\n\r\n```\r\nCode available at:https://github.com/tensorflow/models/blob/master/tutorials/image/cifar10_estimator/cifar10_main.py\r\n"}