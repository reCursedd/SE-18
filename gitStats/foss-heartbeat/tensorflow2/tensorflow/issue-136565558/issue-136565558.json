{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1293", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1293/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1293/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1293/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/1293", "id": 136565558, "node_id": "MDU6SXNzdWUxMzY1NjU1NTg=", "number": 1293, "title": "Gradient for tf.diag", "user": {"login": "istaslis", "id": 2255101, "node_id": "MDQ6VXNlcjIyNTUxMDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2255101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/istaslis", "html_url": "https://github.com/istaslis", "followers_url": "https://api.github.com/users/istaslis/followers", "following_url": "https://api.github.com/users/istaslis/following{/other_user}", "gists_url": "https://api.github.com/users/istaslis/gists{/gist_id}", "starred_url": "https://api.github.com/users/istaslis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/istaslis/subscriptions", "organizations_url": "https://api.github.com/users/istaslis/orgs", "repos_url": "https://api.github.com/users/istaslis/repos", "events_url": "https://api.github.com/users/istaslis/events{/privacy}", "received_events_url": "https://api.github.com/users/istaslis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-02-26T01:15:40Z", "updated_at": "2017-02-09T22:37:31Z", "closed_at": "2016-03-18T06:06:07Z", "author_association": "NONE", "body_html": "<p>tf.diag doesn't support the gradient (as far as I can see here <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_grad.py#L161\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_grad.py#L161</a>)<br>\nIs it difficult to add support for that?<br>\nThank you<br>\nSome simple example:</p>\n<pre><code>tSv = tf.Variable(tf.truncated_normal([r]))\nt = tf.diag(tSv)\ntrain = tf.train.GradientDescentOptimizer(0.01).minimize(t)\n\nsess = tf.Session()\ninit = tf.initialize_all_variables()\nsess.run(init)\nsess.run(train)\n...\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-96-28cf62ca1be1&gt; in &lt;module&gt;()\n      1 tSv = tf.Variable(tf.truncated_normal([r]))\n      2 t = tf.diag(tSv)\n----&gt; 3 train = tf.train.GradientDescentOptimizer(0.0001).minimize(t)\n      4 \n      5 sess = tf.Session()\nValueError: No inputs provided\n</code></pre>", "body_text": "tf.diag doesn't support the gradient (as far as I can see here https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_grad.py#L161)\nIs it difficult to add support for that?\nThank you\nSome simple example:\ntSv = tf.Variable(tf.truncated_normal([r]))\nt = tf.diag(tSv)\ntrain = tf.train.GradientDescentOptimizer(0.01).minimize(t)\n\nsess = tf.Session()\ninit = tf.initialize_all_variables()\nsess.run(init)\nsess.run(train)\n...\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-96-28cf62ca1be1> in <module>()\n      1 tSv = tf.Variable(tf.truncated_normal([r]))\n      2 t = tf.diag(tSv)\n----> 3 train = tf.train.GradientDescentOptimizer(0.0001).minimize(t)\n      4 \n      5 sess = tf.Session()\nValueError: No inputs provided", "body": "tf.diag doesn't support the gradient (as far as I can see here https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/array_grad.py#L161)\nIs it difficult to add support for that?\nThank you\nSome simple example:\n\n```\ntSv = tf.Variable(tf.truncated_normal([r]))\nt = tf.diag(tSv)\ntrain = tf.train.GradientDescentOptimizer(0.01).minimize(t)\n\nsess = tf.Session()\ninit = tf.initialize_all_variables()\nsess.run(init)\nsess.run(train)\n...\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-96-28cf62ca1be1> in <module>()\n      1 tSv = tf.Variable(tf.truncated_normal([r]))\n      2 t = tf.diag(tSv)\n----> 3 train = tf.train.GradientDescentOptimizer(0.0001).minimize(t)\n      4 \n      5 sess = tf.Session()\nValueError: No inputs provided\n```\n"}