{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21517", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21517/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21517/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/21517/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/21517", "id": 349158487, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA3MzQwMzg5", "number": 21517, "title": "Fix documentation on softmax_cross_entropy_with_logits_v2", "user": {"login": "mbrio", "id": 13557, "node_id": "MDQ6VXNlcjEzNTU3", "avatar_url": "https://avatars2.githubusercontent.com/u/13557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbrio", "html_url": "https://github.com/mbrio", "followers_url": "https://api.github.com/users/mbrio/followers", "following_url": "https://api.github.com/users/mbrio/following{/other_user}", "gists_url": "https://api.github.com/users/mbrio/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbrio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbrio/subscriptions", "organizations_url": "https://api.github.com/users/mbrio/orgs", "repos_url": "https://api.github.com/users/mbrio/repos", "events_url": "https://api.github.com/users/mbrio/events{/privacy}", "received_events_url": "https://api.github.com/users/mbrio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false}, {"id": 474725938, "node_id": "MDU6TGFiZWw0NzQ3MjU5Mzg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stalled", "name": "stalled", "color": "d4c5f9", "default": false}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false}], "state": "open", "locked": false, "assignee": {"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "drpngx", "id": 20959853, "node_id": "MDQ6VXNlcjIwOTU5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/20959853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drpngx", "html_url": "https://github.com/drpngx", "followers_url": "https://api.github.com/users/drpngx/followers", "following_url": "https://api.github.com/users/drpngx/following{/other_user}", "gists_url": "https://api.github.com/users/drpngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/drpngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drpngx/subscriptions", "organizations_url": "https://api.github.com/users/drpngx/orgs", "repos_url": "https://api.github.com/users/drpngx/repos", "events_url": "https://api.github.com/users/drpngx/events{/privacy}", "received_events_url": "https://api.github.com/users/drpngx/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-08-09T14:41:25Z", "updated_at": "2018-11-14T19:25:01Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/21517", "html_url": "https://github.com/tensorflow/tensorflow/pull/21517", "diff_url": "https://github.com/tensorflow/tensorflow/pull/21517.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/21517.patch"}, "body_html": "<ul>\n<li>Return documentation was incorrectly stating shape of tensor</li>\n</ul>\n<pre><code>import tensorflow as tf\nimport numpy as np\n\nlogits = np.array([\n    [5.0,  2.3, 0.0, -3.2, -0.8],\n    [2.3,  0.1, 1.8,  1.1,  1.2],\n    [-1.2, 1.1, 0.1,  2.5,  0.7]\n])\n\nlabels = np.array([\n    [1., 1., 0., 0., 0.],\n    [0., 0., 1., 0., 1.],\n    [0., 0., 0., 1., 0.]\n])\n\nx_entropy = tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels, logits=logits)\n\nwith tf.Session() as sess:\n    print(sess.run(tf.shape(labels)))  # [3, 5]\n    print(sess.run(tf.shape(x_entropy)))  # [3]\n</code></pre>\n<p>In this example we see that the <code>x_entropy</code> shape does not equal the shape of <code>labels</code> as stated in the original documentation, it is of shape <code>[batch_size]</code>.</p>", "body_text": "Return documentation was incorrectly stating shape of tensor\n\nimport tensorflow as tf\nimport numpy as np\n\nlogits = np.array([\n    [5.0,  2.3, 0.0, -3.2, -0.8],\n    [2.3,  0.1, 1.8,  1.1,  1.2],\n    [-1.2, 1.1, 0.1,  2.5,  0.7]\n])\n\nlabels = np.array([\n    [1., 1., 0., 0., 0.],\n    [0., 0., 1., 0., 1.],\n    [0., 0., 0., 1., 0.]\n])\n\nx_entropy = tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels, logits=logits)\n\nwith tf.Session() as sess:\n    print(sess.run(tf.shape(labels)))  # [3, 5]\n    print(sess.run(tf.shape(x_entropy)))  # [3]\n\nIn this example we see that the x_entropy shape does not equal the shape of labels as stated in the original documentation, it is of shape [batch_size].", "body": "- Return documentation was incorrectly stating shape of tensor\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\nlogits = np.array([\r\n    [5.0,  2.3, 0.0, -3.2, -0.8],\r\n    [2.3,  0.1, 1.8,  1.1,  1.2],\r\n    [-1.2, 1.1, 0.1,  2.5,  0.7]\r\n])\r\n\r\nlabels = np.array([\r\n    [1., 1., 0., 0., 0.],\r\n    [0., 0., 1., 0., 1.],\r\n    [0., 0., 0., 1., 0.]\r\n])\r\n\r\nx_entropy = tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels, logits=logits)\r\n\r\nwith tf.Session() as sess:\r\n    print(sess.run(tf.shape(labels)))  # [3, 5]\r\n    print(sess.run(tf.shape(x_entropy)))  # [3]\r\n```\r\n\r\nIn this example we see that the `x_entropy` shape does not equal the shape of `labels` as stated in the original documentation, it is of shape `[batch_size]`."}