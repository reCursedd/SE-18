{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/120222788", "pull_request_review_id": 42167678, "id": 120222788, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMDIyMjc4OA==", "diff_hunk": "@@ -1919,16 +1961,19 @@ def peek(self, key, name=None):\n     if name is None:\n       name = \"%s_pop\" % self._name\n \n+    indices, dtypes = self._get_indices_and_dtypes(indices)\n+\n     with ops.colocate_with(self._coloc_op):\n       result = self._peek_fn(key, shared_name=self._name,\n-                      dtypes=self._dtypes,\n+                      indices=indices,\n+                      dtypes=dtypes,\n                       name=name,\n                       capacity=self._capacity,\n                       memory_limit=self._memory_limit)\n \n-    return self._get_return_value(result)\n+    return self._get_return_value(result, indices)\n \n-  def get(self, key=None, name=None):\n+  def get(self, key=None, indices=None, name=None):", "path": "tensorflow/python/ops/data_flow_ops.py", "position": 144, "original_position": 134, "commit_id": "4522880a171b15a075adc029b7440fbfe0c631ff", "original_commit_id": "5e3007bfc6af980e4f2ccb053205314e539f0400", "user": {"login": "ekelsen", "id": 2533174, "node_id": "MDQ6VXNlcjI1MzMxNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2533174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekelsen", "html_url": "https://github.com/ekelsen", "followers_url": "https://api.github.com/users/ekelsen/followers", "following_url": "https://api.github.com/users/ekelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ekelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekelsen/subscriptions", "organizations_url": "https://api.github.com/users/ekelsen/orgs", "repos_url": "https://api.github.com/users/ekelsen/repos", "events_url": "https://api.github.com/users/ekelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ekelsen/received_events", "type": "User", "site_admin": false}, "body": "I think it's fine in this case since I don't think there are likely any users of MapStagingArea just yet (and definitely none internally), but generally adding new optional parameters should go at the end of the list, otherwise you break all callers that haven't been using named parameters.", "created_at": "2017-06-05T22:10:16Z", "updated_at": "2017-06-07T00:47:01Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/10276#discussion_r120222788", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10276", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/120222788"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/10276#discussion_r120222788"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10276"}}, "body_html": "<p>I think it's fine in this case since I don't think there are likely any users of MapStagingArea just yet (and definitely none internally), but generally adding new optional parameters should go at the end of the list, otherwise you break all callers that haven't been using named parameters.</p>", "body_text": "I think it's fine in this case since I don't think there are likely any users of MapStagingArea just yet (and definitely none internally), but generally adding new optional parameters should go at the end of the list, otherwise you break all callers that haven't been using named parameters."}