{"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/120268047", "pull_request_review_id": 42214224, "id": 120268047, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMDI2ODA0Nw==", "diff_hunk": "@@ -1919,16 +1961,19 @@ def peek(self, key, name=None):\n     if name is None:\n       name = \"%s_pop\" % self._name\n \n+    indices, dtypes = self._get_indices_and_dtypes(indices)\n+\n     with ops.colocate_with(self._coloc_op):\n       result = self._peek_fn(key, shared_name=self._name,\n-                      dtypes=self._dtypes,\n+                      indices=indices,\n+                      dtypes=dtypes,\n                       name=name,\n                       capacity=self._capacity,\n                       memory_limit=self._memory_limit)\n \n-    return self._get_return_value(result)\n+    return self._get_return_value(result, indices)\n \n-  def get(self, key=None, name=None):\n+  def get(self, key=None, indices=None, name=None):", "path": "tensorflow/python/ops/data_flow_ops.py", "position": 144, "original_position": 134, "commit_id": "4522880a171b15a075adc029b7440fbfe0c631ff", "original_commit_id": "5e3007bfc6af980e4f2ccb053205314e539f0400", "user": {"login": "sjperkins", "id": 3530212, "node_id": "MDQ6VXNlcjM1MzAyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3530212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjperkins", "html_url": "https://github.com/sjperkins", "followers_url": "https://api.github.com/users/sjperkins/followers", "following_url": "https://api.github.com/users/sjperkins/following{/other_user}", "gists_url": "https://api.github.com/users/sjperkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjperkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjperkins/subscriptions", "organizations_url": "https://api.github.com/users/sjperkins/orgs", "repos_url": "https://api.github.com/users/sjperkins/repos", "events_url": "https://api.github.com/users/sjperkins/events{/privacy}", "received_events_url": "https://api.github.com/users/sjperkins/received_events", "type": "User", "site_admin": false}, "body": "Agreed. In this case I wanted to change the signature before it made it into the final release.", "created_at": "2017-06-06T05:32:54Z", "updated_at": "2017-06-07T00:47:01Z", "html_url": "https://github.com/tensorflow/tensorflow/pull/10276#discussion_r120268047", "pull_request_url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10276", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/comments/120268047"}, "html": {"href": "https://github.com/tensorflow/tensorflow/pull/10276#discussion_r120268047"}, "pull_request": {"href": "https://api.github.com/repos/tensorflow/tensorflow/pulls/10276"}}, "body_html": "<p>Agreed. In this case I wanted to change the signature before it made it into the final release.</p>", "body_text": "Agreed. In this case I wanted to change the signature before it made it into the final release.", "in_reply_to_id": 120222788}