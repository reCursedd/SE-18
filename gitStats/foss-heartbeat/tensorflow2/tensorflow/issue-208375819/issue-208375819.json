{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7616", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7616/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7616/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/7616/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/7616", "id": 208375819, "node_id": "MDU6SXNzdWUyMDgzNzU4MTk=", "number": 7616, "title": "Change device Placement of existing variable", "user": {"login": "abhijithchunduru", "id": 4212999, "node_id": "MDQ6VXNlcjQyMTI5OTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4212999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhijithchunduru", "html_url": "https://github.com/abhijithchunduru", "followers_url": "https://api.github.com/users/abhijithchunduru/followers", "following_url": "https://api.github.com/users/abhijithchunduru/following{/other_user}", "gists_url": "https://api.github.com/users/abhijithchunduru/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhijithchunduru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhijithchunduru/subscriptions", "organizations_url": "https://api.github.com/users/abhijithchunduru/orgs", "repos_url": "https://api.github.com/users/abhijithchunduru/repos", "events_url": "https://api.github.com/users/abhijithchunduru/events{/privacy}", "received_events_url": "https://api.github.com/users/abhijithchunduru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-17T08:54:27Z", "updated_at": "2017-02-17T23:27:01Z", "closed_at": "2017-02-17T23:27:00Z", "author_association": "NONE", "body_html": "<p>How do I change the device placement of a tf.Variable() ?<br>\nI tried two methods</p>\n<pre><code>a = tf.Variable(1,name = 'a')  # a's device is not set\nwith tf.device('/gpu:0'):\n       a = tf.get_variable('a',1)   \n# this creates a new variable on the gpu and doesn't change device assignment for a\n</code></pre>\n<p>I tried enforcing variable reuse by using tf.get_variable_scope().reuse_variables()</p>\n<pre><code>a = tf.Variable(1,name = 'a')  # a's device is not set\ntf.get_variable_scope().reuse_variables()\nwith tf.device('/gpu:0'):\n       a = tf.get_variable('a',1)   \n# this creates a new variable on the gpu and doesn't change device assignment for a\n</code></pre>\n<p>This time, I get an error saying the variable 'a' did not exist in the gpu.</p>\n<p>Any help on changing-device-placement or lazy-device-assignment would be appreciated. Thanks</p>", "body_text": "How do I change the device placement of a tf.Variable() ?\nI tried two methods\na = tf.Variable(1,name = 'a')  # a's device is not set\nwith tf.device('/gpu:0'):\n       a = tf.get_variable('a',1)   \n# this creates a new variable on the gpu and doesn't change device assignment for a\n\nI tried enforcing variable reuse by using tf.get_variable_scope().reuse_variables()\na = tf.Variable(1,name = 'a')  # a's device is not set\ntf.get_variable_scope().reuse_variables()\nwith tf.device('/gpu:0'):\n       a = tf.get_variable('a',1)   \n# this creates a new variable on the gpu and doesn't change device assignment for a\n\nThis time, I get an error saying the variable 'a' did not exist in the gpu.\nAny help on changing-device-placement or lazy-device-assignment would be appreciated. Thanks", "body": "How do I change the device placement of a tf.Variable() ?\r\nI tried two methods \r\n```\r\na = tf.Variable(1,name = 'a')  # a's device is not set\r\nwith tf.device('/gpu:0'):\r\n       a = tf.get_variable('a',1)   \r\n# this creates a new variable on the gpu and doesn't change device assignment for a\r\n```\r\nI tried enforcing variable reuse by using tf.get_variable_scope().reuse_variables()\r\n```\r\na = tf.Variable(1,name = 'a')  # a's device is not set\r\ntf.get_variable_scope().reuse_variables()\r\nwith tf.device('/gpu:0'):\r\n       a = tf.get_variable('a',1)   \r\n# this creates a new variable on the gpu and doesn't change device assignment for a\r\n```\r\nThis time, I get an error saying the variable 'a' did not exist in the gpu.\r\n\r\nAny help on changing-device-placement or lazy-device-assignment would be appreciated. Thanks\r\n\r\n\r\n\r\n"}