{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/210042344", "html_url": "https://github.com/tensorflow/tensorflow/issues/1934#issuecomment-210042344", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/1934", "id": 210042344, "node_id": "MDEyOklzc3VlQ29tbWVudDIxMDA0MjM0NA==", "user": {"login": "zffchen78", "id": 7943790, "node_id": "MDQ6VXNlcjc5NDM3OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7943790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zffchen78", "html_url": "https://github.com/zffchen78", "followers_url": "https://api.github.com/users/zffchen78/followers", "following_url": "https://api.github.com/users/zffchen78/following{/other_user}", "gists_url": "https://api.github.com/users/zffchen78/gists{/gist_id}", "starred_url": "https://api.github.com/users/zffchen78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zffchen78/subscriptions", "organizations_url": "https://api.github.com/users/zffchen78/orgs", "repos_url": "https://api.github.com/users/zffchen78/repos", "events_url": "https://api.github.com/users/zffchen78/events{/privacy}", "received_events_url": "https://api.github.com/users/zffchen78/received_events", "type": "User", "site_admin": false}, "created_at": "2016-04-14T16:42:14Z", "updated_at": "2016-04-14T16:42:14Z", "author_association": "CONTRIBUTOR", "body_html": "<p>On q1.</p>\n<p>Because A - B is an automatic broadcasting binary operation. A - B does not require B to be expanded to use 2.5GB. Only the result needs to be allocated (2.5GB). So, the peak memory usage in your code snippet should be 2.5GB + 500KB + 2.5GB.</p>\n<p>On q2.</p>\n<p>It's been worked on. There can be multiple approaches to this issue: a) extend assign_sub() to support broadcasting; b) support inplace operationos like -=, +=, etc.</p>", "body_text": "On q1.\nBecause A - B is an automatic broadcasting binary operation. A - B does not require B to be expanded to use 2.5GB. Only the result needs to be allocated (2.5GB). So, the peak memory usage in your code snippet should be 2.5GB + 500KB + 2.5GB.\nOn q2.\nIt's been worked on. There can be multiple approaches to this issue: a) extend assign_sub() to support broadcasting; b) support inplace operationos like -=, +=, etc.", "body": "On q1. \n\nBecause A - B is an automatic broadcasting binary operation. A - B does not require B to be expanded to use 2.5GB. Only the result needs to be allocated (2.5GB). So, the peak memory usage in your code snippet should be 2.5GB + 500KB + 2.5GB. \n\nOn q2.\n\nIt's been worked on. There can be multiple approaches to this issue: a) extend assign_sub() to support broadcasting; b) support inplace operationos like -=, +=, etc.\n"}