{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/comments/348867702", "html_url": "https://github.com/tensorflow/tensorflow/issues/15084#issuecomment-348867702", "issue_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/15084", "id": 348867702, "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODg2NzcwMg==", "user": {"login": "facaiy", "id": 1112263, "node_id": "MDQ6VXNlcjExMTIyNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1112263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/facaiy", "html_url": "https://github.com/facaiy", "followers_url": "https://api.github.com/users/facaiy/followers", "following_url": "https://api.github.com/users/facaiy/following{/other_user}", "gists_url": "https://api.github.com/users/facaiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/facaiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/facaiy/subscriptions", "organizations_url": "https://api.github.com/users/facaiy/orgs", "repos_url": "https://api.github.com/users/facaiy/repos", "events_url": "https://api.github.com/users/facaiy/events{/privacy}", "received_events_url": "https://api.github.com/users/facaiy/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-04T05:59:44Z", "updated_at": "2017-12-04T05:59:44Z", "author_association": "MEMBER", "body_html": "<p>Sorry, I cannot figure out what you want.</p>\n<p>In your code,</p>\n<div class=\"highlight highlight-source-python\"><pre>gradients <span class=\"pl-k\">=</span> tf.gradients(embedding_types, <span class=\"pl-v\">xs</span><span class=\"pl-k\">=</span>types_lookup_table)\nh <span class=\"pl-k\">=</span> sess.run(gradients)\n<span class=\"pl-c1\">print</span>(sess.run(opt.apply_gradients([(h[<span class=\"pl-c1\">0</span>],types_lookup_table)]))). <span class=\"pl-c\"><span class=\"pl-c\">#</span> wrong</span></pre></div>\n<p>Since <code>types_lookup_table</code>'s dimension is 234 * 10, the corresponding <code>graidents</code> is a 234 * 10 tensor, as same as <code>h</code>.<br>\nSo <code>h[0]</code> is 1 * 10, while <code>types_lookup_table</code> is 234 * 10, it seems wrong to apply <code>h[0]</code> to <code>types_lookup_table</code> because of the unmatched dimensions.</p>\n<p>Please correct me if I'm wrong.</p>", "body_text": "Sorry, I cannot figure out what you want.\nIn your code,\ngradients = tf.gradients(embedding_types, xs=types_lookup_table)\nh = sess.run(gradients)\nprint(sess.run(opt.apply_gradients([(h[0],types_lookup_table)]))). # wrong\nSince types_lookup_table's dimension is 234 * 10, the corresponding graidents is a 234 * 10 tensor, as same as h.\nSo h[0] is 1 * 10, while types_lookup_table is 234 * 10, it seems wrong to apply h[0] to types_lookup_table because of the unmatched dimensions.\nPlease correct me if I'm wrong.", "body": "Sorry, I cannot figure out what you want.\r\n\r\nIn your code,\r\n```python\r\ngradients = tf.gradients(embedding_types, xs=types_lookup_table)\r\nh = sess.run(gradients)\r\nprint(sess.run(opt.apply_gradients([(h[0],types_lookup_table)]))). # wrong\r\n```\r\nSince `types_lookup_table`'s dimension is 234 * 10, the corresponding `graidents` is a 234 * 10 tensor, as same as `h`. \r\nSo `h[0]` is 1 * 10, while `types_lookup_table` is 234 * 10, it seems wrong to apply `h[0]` to `types_lookup_table` because of the unmatched dimensions.\r\n\r\nPlease correct me if I'm wrong.\r\n"}