{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2552", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2552/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2552/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2552/events", "html_url": "https://github.com/pytorch/pytorch/issues/2552", "id": 253416744, "node_id": "MDU6SXNzdWUyNTM0MTY3NDQ=", "number": 2552, "title": "mismatched error message for conv2d", "user": {"login": "skywalkerytx", "id": 5118325, "node_id": "MDQ6VXNlcjUxMTgzMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5118325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skywalkerytx", "html_url": "https://github.com/skywalkerytx", "followers_url": "https://api.github.com/users/skywalkerytx/followers", "following_url": "https://api.github.com/users/skywalkerytx/following{/other_user}", "gists_url": "https://api.github.com/users/skywalkerytx/gists{/gist_id}", "starred_url": "https://api.github.com/users/skywalkerytx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skywalkerytx/subscriptions", "organizations_url": "https://api.github.com/users/skywalkerytx/orgs", "repos_url": "https://api.github.com/users/skywalkerytx/repos", "events_url": "https://api.github.com/users/skywalkerytx/events{/privacy}", "received_events_url": "https://api.github.com/users/skywalkerytx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-28T18:37:03Z", "updated_at": "2017-10-03T09:38:04Z", "closed_at": "2017-10-03T09:38:04Z", "author_association": "NONE", "body_html": "<h2>sample code:</h2>\n<pre><code>import numpy as np\nimport torch as th\n\na = th.DoubleTensor(np.random.uniform(size=(502,1,64,100)))\nc = th.autograd.Variable(a).double()\nconv1 = th.nn.Conv2d(in_channels=1,\n                         out_channels=123,\n                         kernel_size=(2,100),\n                         stride=(1,1)\n                     )\nb = conv1(c)\nprint(b)\n</code></pre>\n<p>And the error message:</p>\n<pre><code>File \"/home/nova/PycharmProjects/playground/convex.py\", line 12, in &lt;module&gt;\nb = conv1(c)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/modules/module.py\", line 224, in __call__\nresult = self.forward(*input, **kwargs)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/modules/conv.py\", line 254, in forward\nself.padding, self.dilation, self.groups)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/functional.py\", line 52, in conv2d\nreturn f(input, weight, bias)\nRuntimeError: expected Double tensor (got Float tensor)\n</code></pre>\n<h2>how did I fix this:</h2>\n<pre><code>c = th.autograd.Variable(a).float()\n</code></pre>\n<p>version of pytorch:</p>\n<p><code>import torch</code><br>\n<code>torch.__version__</code><br>\n<code>'0.2.0_1'</code></p>\n<p>installed through pip, whl was downloaded from pytorch.org</p>", "body_text": "sample code:\nimport numpy as np\nimport torch as th\n\na = th.DoubleTensor(np.random.uniform(size=(502,1,64,100)))\nc = th.autograd.Variable(a).double()\nconv1 = th.nn.Conv2d(in_channels=1,\n                         out_channels=123,\n                         kernel_size=(2,100),\n                         stride=(1,1)\n                     )\nb = conv1(c)\nprint(b)\n\nAnd the error message:\nFile \"/home/nova/PycharmProjects/playground/convex.py\", line 12, in <module>\nb = conv1(c)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/modules/module.py\", line 224, in __call__\nresult = self.forward(*input, **kwargs)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/modules/conv.py\", line 254, in forward\nself.padding, self.dilation, self.groups)\nFile \"/usr/lib64/python3.6/site-packages/torch/nn/functional.py\", line 52, in conv2d\nreturn f(input, weight, bias)\nRuntimeError: expected Double tensor (got Float tensor)\n\nhow did I fix this:\nc = th.autograd.Variable(a).float()\n\nversion of pytorch:\nimport torch\ntorch.__version__\n'0.2.0_1'\ninstalled through pip, whl was downloaded from pytorch.org", "body": "## sample code:\r\n    import numpy as np\r\n    import torch as th\r\n\r\n    a = th.DoubleTensor(np.random.uniform(size=(502,1,64,100)))\r\n    c = th.autograd.Variable(a).double()\r\n    conv1 = th.nn.Conv2d(in_channels=1,\r\n                             out_channels=123,\r\n                             kernel_size=(2,100),\r\n                             stride=(1,1)\r\n                         )\r\n    b = conv1(c)\r\n    print(b)\r\n\r\nAnd the error message:\r\n\r\n    File \"/home/nova/PycharmProjects/playground/convex.py\", line 12, in <module>\r\n    b = conv1(c)\r\n    File \"/usr/lib64/python3.6/site-packages/torch/nn/modules/module.py\", line 224, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n    File \"/usr/lib64/python3.6/site-packages/torch/nn/modules/conv.py\", line 254, in forward\r\n    self.padding, self.dilation, self.groups)\r\n    File \"/usr/lib64/python3.6/site-packages/torch/nn/functional.py\", line 52, in conv2d\r\n    return f(input, weight, bias)\r\n    RuntimeError: expected Double tensor (got Float tensor)\r\n\r\n\r\n## how did I fix this:\r\n\r\n    c = th.autograd.Variable(a).float()\r\n\r\nversion of pytorch:\r\n\r\n`import torch`\r\n`torch.__version__`\r\n`'0.2.0_1'`\r\n\r\ninstalled through pip, whl was downloaded from pytorch.org"}