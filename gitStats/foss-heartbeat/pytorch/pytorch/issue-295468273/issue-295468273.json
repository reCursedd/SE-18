{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5132", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5132/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5132/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5132/events", "html_url": "https://github.com/pytorch/pytorch/issues/5132", "id": 295468273, "node_id": "MDU6SXNzdWUyOTU0NjgyNzM=", "number": 5132, "title": "Segmentation fault (core dumped) on LSTMCell on pytorch", "user": {"login": "saitarslanboun", "id": 9799395, "node_id": "MDQ6VXNlcjk3OTkzOTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9799395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saitarslanboun", "html_url": "https://github.com/saitarslanboun", "followers_url": "https://api.github.com/users/saitarslanboun/followers", "following_url": "https://api.github.com/users/saitarslanboun/following{/other_user}", "gists_url": "https://api.github.com/users/saitarslanboun/gists{/gist_id}", "starred_url": "https://api.github.com/users/saitarslanboun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saitarslanboun/subscriptions", "organizations_url": "https://api.github.com/users/saitarslanboun/orgs", "repos_url": "https://api.github.com/users/saitarslanboun/repos", "events_url": "https://api.github.com/users/saitarslanboun/events{/privacy}", "received_events_url": "https://api.github.com/users/saitarslanboun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-08T10:58:35Z", "updated_at": "2018-02-13T11:46:57Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I want to use LSTMCell for sequential data. I have defined it as follows:</p>\n<pre><code>self.LSTM1 = nn.LSTMCell(embed_size * 2, hidden_size)\n</code></pre>\n<p>Afterwards, I wanted to use it for my sequential data.</p>\n<pre><code>for time_step in range( x.size( 1 ) ):\n\n        # Feed in x_t one at a time\n        x_t = x[ :, time_step, : ]\n        x_t = x_t.unsqueeze( 1 )\n\n        #h_t, states = self.LSTM( x_t, states )\n        hidden = Variable(torch.zeros(1, x.size(1), self.hidden_size))\n        cell = Variable(torch.zeros(x.size(1), 1, self.hidden_size))\n        hidden = hidden.cuda()\n        cell = cell.cuda()\n        #(hidden, cell) = (None, None)\n        for a in range(len(x_t)):\n            hidden, cell = self.LSTM1(x_t[a], (hidden, cell))\n            #print cell.cpu()\n            #atten_weight = self.adaptive([x_t[a]], [h_t1], )\n            sys.exit()\n</code></pre>\n<p>Why I get <strong>Segmentation fault (core dumped)</strong> error on <code>hidden, cell = self.LSTM1(x_t[a], (hidden, cell))</code> line?</p>\n<p>How I can fix this error?</p>\n<p>Thanks,</p>", "body_text": "I want to use LSTMCell for sequential data. I have defined it as follows:\nself.LSTM1 = nn.LSTMCell(embed_size * 2, hidden_size)\n\nAfterwards, I wanted to use it for my sequential data.\nfor time_step in range( x.size( 1 ) ):\n\n        # Feed in x_t one at a time\n        x_t = x[ :, time_step, : ]\n        x_t = x_t.unsqueeze( 1 )\n\n        #h_t, states = self.LSTM( x_t, states )\n        hidden = Variable(torch.zeros(1, x.size(1), self.hidden_size))\n        cell = Variable(torch.zeros(x.size(1), 1, self.hidden_size))\n        hidden = hidden.cuda()\n        cell = cell.cuda()\n        #(hidden, cell) = (None, None)\n        for a in range(len(x_t)):\n            hidden, cell = self.LSTM1(x_t[a], (hidden, cell))\n            #print cell.cpu()\n            #atten_weight = self.adaptive([x_t[a]], [h_t1], )\n            sys.exit()\n\nWhy I get Segmentation fault (core dumped) error on hidden, cell = self.LSTM1(x_t[a], (hidden, cell)) line?\nHow I can fix this error?\nThanks,", "body": "I want to use LSTMCell for sequential data. I have defined it as follows:\r\n\r\n    self.LSTM1 = nn.LSTMCell(embed_size * 2, hidden_size)\r\n\r\nAfterwards, I wanted to use it for my sequential data.\r\n\r\n    for time_step in range( x.size( 1 ) ):\r\n\r\n            # Feed in x_t one at a time\r\n            x_t = x[ :, time_step, : ]\r\n            x_t = x_t.unsqueeze( 1 )\r\n\r\n            #h_t, states = self.LSTM( x_t, states )\r\n            hidden = Variable(torch.zeros(1, x.size(1), self.hidden_size))\r\n            cell = Variable(torch.zeros(x.size(1), 1, self.hidden_size))\r\n            hidden = hidden.cuda()\r\n            cell = cell.cuda()\r\n            #(hidden, cell) = (None, None)\r\n            for a in range(len(x_t)):\r\n                hidden, cell = self.LSTM1(x_t[a], (hidden, cell))\r\n                #print cell.cpu()\r\n                #atten_weight = self.adaptive([x_t[a]], [h_t1], )\r\n                sys.exit()\r\n\r\nWhy I get **Segmentation fault (core dumped)** error on `hidden, cell = self.LSTM1(x_t[a], (hidden, cell))` line?\r\n\r\nHow I can fix this error?\r\n\r\nThanks,\r\n\r\n\r\n"}