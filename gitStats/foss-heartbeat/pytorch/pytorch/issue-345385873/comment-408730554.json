{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/408730554", "html_url": "https://github.com/pytorch/pytorch/issues/9963#issuecomment-408730554", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9963", "id": 408730554, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODczMDU1NA==", "user": {"login": "vishwakftw", "id": 23639302, "node_id": "MDQ6VXNlcjIzNjM5MzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/23639302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vishwakftw", "html_url": "https://github.com/vishwakftw", "followers_url": "https://api.github.com/users/vishwakftw/followers", "following_url": "https://api.github.com/users/vishwakftw/following{/other_user}", "gists_url": "https://api.github.com/users/vishwakftw/gists{/gist_id}", "starred_url": "https://api.github.com/users/vishwakftw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vishwakftw/subscriptions", "organizations_url": "https://api.github.com/users/vishwakftw/orgs", "repos_url": "https://api.github.com/users/vishwakftw/repos", "events_url": "https://api.github.com/users/vishwakftw/events{/privacy}", "received_events_url": "https://api.github.com/users/vishwakftw/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-30T02:36:32Z", "updated_at": "2018-07-30T02:36:32Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think I have fixed this locally, but it involves one extra pass over the elements of the sequence to check if the type is consistent.</p>\n<p>NumPy also seems to do this, as shown here <a href=\"https://github.com/numpy/numpy/blob/0df35634a2bf2bfff0acfb5d6a6b26eea0265e56/numpy/core/src/multiarray/common.c#L449-L453\">https://github.com/numpy/numpy/blob/0df35634a2bf2bfff0acfb5d6a6b26eea0265e56/numpy/core/src/multiarray/common.c#L449-L453</a> .</p>\n<p>If this approach of double-passing is fine (I couldn't think of a better way), I could send in a PR.</p>", "body_text": "I think I have fixed this locally, but it involves one extra pass over the elements of the sequence to check if the type is consistent.\nNumPy also seems to do this, as shown here https://github.com/numpy/numpy/blob/0df35634a2bf2bfff0acfb5d6a6b26eea0265e56/numpy/core/src/multiarray/common.c#L449-L453 .\nIf this approach of double-passing is fine (I couldn't think of a better way), I could send in a PR.", "body": "I think I have fixed this locally, but it involves one extra pass over the elements of the sequence to check if the type is consistent.\r\n\r\nNumPy also seems to do this, as shown here https://github.com/numpy/numpy/blob/0df35634a2bf2bfff0acfb5d6a6b26eea0265e56/numpy/core/src/multiarray/common.c#L449-L453 .\r\n\r\nIf this approach of double-passing is fine (I couldn't think of a better way), I could send in a PR."}