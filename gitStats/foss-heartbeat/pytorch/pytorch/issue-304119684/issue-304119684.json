{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5694", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5694/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5694/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5694/events", "html_url": "https://github.com/pytorch/pytorch/issues/5694", "id": 304119684, "node_id": "MDU6SXNzdWUzMDQxMTk2ODQ=", "number": 5694, "title": "Crash when dividing Variable(LongTensor) by a float", "user": {"login": "vadimkantorov", "id": 1041752, "node_id": "MDQ6VXNlcjEwNDE3NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1041752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimkantorov", "html_url": "https://github.com/vadimkantorov", "followers_url": "https://api.github.com/users/vadimkantorov/followers", "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}", "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions", "organizations_url": "https://api.github.com/users/vadimkantorov/orgs", "repos_url": "https://api.github.com/users/vadimkantorov/repos", "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimkantorov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 679955625, "node_id": "MDU6TGFiZWw2Nzk5NTU2MjU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/crash", "name": "crash", "color": "d93f0b", "default": false}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-03-11T00:54:16Z", "updated_at": "2018-08-14T19:04:10Z", "closed_at": "2018-08-14T19:04:10Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n\ntorch.autograd.Variable(torch.LongTensor([<span class=\"pl-c1\">18</span>])) <span class=\"pl-k\">/</span> <span class=\"pl-c1\">0.0625</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Floating point exception (core dumped)</span>\n\ntorch.LongTensor([<span class=\"pl-c1\">18</span>]) <span class=\"pl-k\">/</span> <span class=\"pl-c1\">0.0625</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>Traceback (most recent call last):</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>  File \".../lib/python2.7/site-packages/torch/tensor.py\", line 294, in __div__</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>    return self.div(other)</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>TypeError: div received an invalid combination of arguments - got (float), but expected one of:</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> * (int value)</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>      didn't match because some of the arguments have invalid types: (float)</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> * (torch.LongTensor other)</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span>      didn't match because some of the arguments have invalid types: (float)</span></pre></div>\n<p>at <code>0.4.0a0+b608ea9</code>;  related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"196296717\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/327\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/327/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/327\">#327</a> and maybe <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"300316501\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5411\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5411/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5411\">#5411</a></p>\n<p>Probably the cause is that in the variable case, it casts the divisor as Long and it triggers integer division by zero. But why only in the variable case?</p>\n<p>Didn't test it after the tensor+variable merge, since don't want to migrate to vNext before ECCV deadline :)</p>", "body_text": "import torch\n\ntorch.autograd.Variable(torch.LongTensor([18])) / 0.0625\n# Floating point exception (core dumped)\n\ntorch.LongTensor([18]) / 0.0625\n#Traceback (most recent call last):\n#  File \"<stdin>\", line 1, in <module>\n#  File \".../lib/python2.7/site-packages/torch/tensor.py\", line 294, in __div__\n#    return self.div(other)\n#TypeError: div received an invalid combination of arguments - got (float), but expected one of:\n# * (int value)\n#      didn't match because some of the arguments have invalid types: (float)\n# * (torch.LongTensor other)\n#      didn't match because some of the arguments have invalid types: (float)\nat 0.4.0a0+b608ea9;  related to #327 and maybe #5411\nProbably the cause is that in the variable case, it casts the divisor as Long and it triggers integer division by zero. But why only in the variable case?\nDidn't test it after the tensor+variable merge, since don't want to migrate to vNext before ECCV deadline :)", "body": "```python\r\nimport torch\r\n\r\ntorch.autograd.Variable(torch.LongTensor([18])) / 0.0625\r\n# Floating point exception (core dumped)\r\n\r\ntorch.LongTensor([18]) / 0.0625\r\n#Traceback (most recent call last):\r\n#  File \"<stdin>\", line 1, in <module>\r\n#  File \".../lib/python2.7/site-packages/torch/tensor.py\", line 294, in __div__\r\n#    return self.div(other)\r\n#TypeError: div received an invalid combination of arguments - got (float), but expected one of:\r\n# * (int value)\r\n#      didn't match because some of the arguments have invalid types: (float)\r\n# * (torch.LongTensor other)\r\n#      didn't match because some of the arguments have invalid types: (float)\r\n```\r\nat `0.4.0a0+b608ea9`;  related to https://github.com/pytorch/pytorch/issues/327 and maybe https://github.com/pytorch/pytorch/issues/5411 \r\n\r\nProbably the cause is that in the variable case, it casts the divisor as Long and it triggers integer division by zero. But why only in the variable case?\r\n\r\nDidn't test it after the tensor+variable merge, since don't want to migrate to vNext before ECCV deadline :)"}