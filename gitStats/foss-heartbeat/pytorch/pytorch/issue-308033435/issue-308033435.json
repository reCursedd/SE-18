{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5961", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5961/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5961/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5961/events", "html_url": "https://github.com/pytorch/pytorch/issues/5961", "id": 308033435, "node_id": "MDU6SXNzdWUzMDgwMzM0MzU=", "number": 5961, "title": "src/tcmalloc.cc:278] Attempt to free invalid pointer 0x7fc84f022d40 ", "user": {"login": "dodler", "id": 6881262, "node_id": "MDQ6VXNlcjY4ODEyNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/6881262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dodler", "html_url": "https://github.com/dodler", "followers_url": "https://api.github.com/users/dodler/followers", "following_url": "https://api.github.com/users/dodler/following{/other_user}", "gists_url": "https://api.github.com/users/dodler/gists{/gist_id}", "starred_url": "https://api.github.com/users/dodler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dodler/subscriptions", "organizations_url": "https://api.github.com/users/dodler/orgs", "repos_url": "https://api.github.com/users/dodler/repos", "events_url": "https://api.github.com/users/dodler/events{/privacy}", "received_events_url": "https://api.github.com/users/dodler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-23T13:41:36Z", "updated_at": "2018-04-09T14:52:22Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hi I have ubuntu 16 04<br>\ntorchvision (0.2.0)<br>\ntorch (0.3.1)<br>\npython 3.6<br>\ninstalled via pip<br>\ncuda 8.0<br>\n2xk80</p>\n<p>I'm trying to do DataParallel over my model,<br>\nbut this error occures during forward pass<br>\nhowever if i disable upsample and sigmoid all is working clearly.</p>\n<p>how i init parallel model<br>\n<code>   net = nn.DataParallel(UNet(3, 1).cuda())</code><br>\nmodel forward</p>\n<p><code>x1 = self.inc(x) x2 = self.down1(x1) x3 = self.down2(x2) x4 = self.down3(x3) x5 = self.down4(x4) x = self.up1(x5, x4) x = self.up2(x, x3) x = self.up3(x, x2) x = self.up4(x, x1) x = self.outc(x) x = self.upsample(x) x = self.sigmoid(x) return x</code></p>\n<p>failes here<br>\n<code>           probs = net(X)</code></p>\n<p>however it's all working fine without upsample and sigmoid<br>\nam i doing something wrong?</p>\n<p>thanks in advance</p>", "body_text": "Hi I have ubuntu 16 04\ntorchvision (0.2.0)\ntorch (0.3.1)\npython 3.6\ninstalled via pip\ncuda 8.0\n2xk80\nI'm trying to do DataParallel over my model,\nbut this error occures during forward pass\nhowever if i disable upsample and sigmoid all is working clearly.\nhow i init parallel model\n   net = nn.DataParallel(UNet(3, 1).cuda())\nmodel forward\nx1 = self.inc(x) x2 = self.down1(x1) x3 = self.down2(x2) x4 = self.down3(x3) x5 = self.down4(x4) x = self.up1(x5, x4) x = self.up2(x, x3) x = self.up3(x, x2) x = self.up4(x, x1) x = self.outc(x) x = self.upsample(x) x = self.sigmoid(x) return x\nfailes here\n           probs = net(X)\nhowever it's all working fine without upsample and sigmoid\nam i doing something wrong?\nthanks in advance", "body": "\r\nHi I have ubuntu 16 04\r\ntorchvision (0.2.0)\r\ntorch (0.3.1)\r\npython 3.6\r\ninstalled via pip\r\ncuda 8.0\r\n2xk80\r\n\r\nI'm trying to do DataParallel over my model,\r\nbut this error occures during forward pass \r\nhowever if i disable upsample and sigmoid all is working clearly. \r\n\r\nhow i init parallel model\r\n`    net = nn.DataParallel(UNet(3, 1).cuda())\r\n`\r\nmodel forward\r\n\r\n` x1 = self.inc(x)\r\n        x2 = self.down1(x1)\r\n        x3 = self.down2(x2)\r\n        x4 = self.down3(x3)\r\n        x5 = self.down4(x4)\r\n        x = self.up1(x5, x4)\r\n        x = self.up2(x, x3)\r\n        x = self.up3(x, x2)\r\n        x = self.up4(x, x1)\r\n        x = self.outc(x)\r\n        x = self.upsample(x)\r\n        x = self.sigmoid(x)\r\n        return x\r\n`\r\n\r\nfailes here\r\n`            probs = net(X)\r\n`\r\n\r\nhowever it's all working fine without upsample and sigmoid\r\nam i doing something wrong?\r\n\r\nthanks in advance"}