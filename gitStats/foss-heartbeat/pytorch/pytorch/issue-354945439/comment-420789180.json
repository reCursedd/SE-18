{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/420789180", "html_url": "https://github.com/pytorch/pytorch/pull/10981#issuecomment-420789180", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10981", "id": 420789180, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDc4OTE4MA==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-12T20:38:18Z", "updated_at": "2018-09-12T20:38:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I posted an update in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357893724\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11360\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/11360/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/11360\">#11360</a> about what I've found. The summary is that test_jit.py has high peak memory usage that causes the graph fuser to fail when it runs the <code>fork()</code> syscall, despite <code>fork</code> having copy-on-write semantics.</p>\n<p>The fastest solution to unblock this PR would be to move the fuser tests to run first in test_jit.py so they run before test_jit starts using a lot of memory. A more robust solution (that I am looking into right now) is to figure out why test_jit.py uses so much memory (&gt; 4gb) and fix that.</p>", "body_text": "I posted an update in #11360 about what I've found. The summary is that test_jit.py has high peak memory usage that causes the graph fuser to fail when it runs the fork() syscall, despite fork having copy-on-write semantics.\nThe fastest solution to unblock this PR would be to move the fuser tests to run first in test_jit.py so they run before test_jit starts using a lot of memory. A more robust solution (that I am looking into right now) is to figure out why test_jit.py uses so much memory (> 4gb) and fix that.", "body": "I posted an update in #11360 about what I've found. The summary is that test_jit.py has high peak memory usage that causes the graph fuser to fail when it runs the `fork()` syscall, despite `fork` having copy-on-write semantics.\r\n\r\nThe fastest solution to unblock this PR would be to move the fuser tests to run first in test_jit.py so they run before test_jit starts using a lot of memory. A more robust solution (that I am looking into right now) is to figure out why test_jit.py uses so much memory (> 4gb) and fix that."}