{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2547", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2547/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2547/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2547/events", "html_url": "https://github.com/pytorch/pytorch/issues/2547", "id": 253151840, "node_id": "MDU6SXNzdWUyNTMxNTE4NDA=", "number": 2547, "title": "MultiLabelMarginLoss doc string mistake?", "user": {"login": "lambda-ai", "id": 4752024, "node_id": "MDQ6VXNlcjQ3NTIwMjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4752024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lambda-ai", "html_url": "https://github.com/lambda-ai", "followers_url": "https://api.github.com/users/lambda-ai/followers", "following_url": "https://api.github.com/users/lambda-ai/following{/other_user}", "gists_url": "https://api.github.com/users/lambda-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/lambda-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lambda-ai/subscriptions", "organizations_url": "https://api.github.com/users/lambda-ai/orgs", "repos_url": "https://api.github.com/users/lambda-ai/repos", "events_url": "https://api.github.com/users/lambda-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/lambda-ai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-27T09:18:15Z", "updated_at": "2017-09-10T17:48:48Z", "closed_at": "2017-09-10T17:48:48Z", "author_association": "NONE", "body_html": "<p>The docstring for MultiLabelMarginLoss says:</p>\n<blockquote>\n<p>where i == 0 to x.size(0), j == 0 to y.size(0), y[j] != 0, and i != y[j] for all i and j.</p>\n</blockquote>\n<p>I got weird results padding the label tensor with zeroes, and looking at the torch source:<br>\n<a href=\"https://github.com/torch/nn/blob/cd13dead56a74a0fdb3522ba42f12c36a75ba9b0/lib/THNN/generic/MultiLabelMarginCriterion.c#L56\">https://github.com/torch/nn/blob/cd13dead56a74a0fdb3522ba42f12c36a75ba9b0/lib/THNN/generic/MultiLabelMarginCriterion.c#L56</a><br>\nit looks like it should be y[j] &gt;= 0</p>", "body_text": "The docstring for MultiLabelMarginLoss says:\n\nwhere i == 0 to x.size(0), j == 0 to y.size(0), y[j] != 0, and i != y[j] for all i and j.\n\nI got weird results padding the label tensor with zeroes, and looking at the torch source:\nhttps://github.com/torch/nn/blob/cd13dead56a74a0fdb3522ba42f12c36a75ba9b0/lib/THNN/generic/MultiLabelMarginCriterion.c#L56\nit looks like it should be y[j] >= 0", "body": "The docstring for MultiLabelMarginLoss says:\r\n\r\n> where i == 0 to x.size(0), j == 0 to y.size(0), y[j] != 0, and i != y[j] for all i and j.\r\n\r\nI got weird results padding the label tensor with zeroes, and looking at the torch source:\r\nhttps://github.com/torch/nn/blob/cd13dead56a74a0fdb3522ba42f12c36a75ba9b0/lib/THNN/generic/MultiLabelMarginCriterion.c#L56\r\nit looks like it should be y[j] >= 0"}