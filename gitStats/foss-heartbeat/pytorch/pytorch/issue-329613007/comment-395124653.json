{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/395124653", "html_url": "https://github.com/pytorch/pytorch/pull/8171#issuecomment-395124653", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8171", "id": 395124653, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTEyNDY1Mw==", "user": {"login": "cpuhrsch", "id": 1716488, "node_id": "MDQ6VXNlcjE3MTY0ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1716488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpuhrsch", "html_url": "https://github.com/cpuhrsch", "followers_url": "https://api.github.com/users/cpuhrsch/followers", "following_url": "https://api.github.com/users/cpuhrsch/following{/other_user}", "gists_url": "https://api.github.com/users/cpuhrsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpuhrsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpuhrsch/subscriptions", "organizations_url": "https://api.github.com/users/cpuhrsch/orgs", "repos_url": "https://api.github.com/users/cpuhrsch/repos", "events_url": "https://api.github.com/users/cpuhrsch/events{/privacy}", "received_events_url": "https://api.github.com/users/cpuhrsch/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-06T16:08:27Z", "updated_at": "2018-06-06T16:08:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a> I agree with your sentiment, but at the same time we're seeing issues with collisions between threadpool implementations (tbb and openmp). It's good to be able to try different ones. Users might even want to use their own. If we don't do this now, it'll be much harder in the future. The api you described is easy to add. If you look at the <a href=\"https://github.com/01org/tbb/blob/d31fcc68980efbe912dc8cec4978fbb77fb3cf9f/include/serial/tbb/parallel_for.h\">parallel_for.h</a> header in tbb you'll see that a lot of the calls come from the need to support different partitioners. I'm aware that this changes when you also want to support multiple ranges.</p>", "body_text": "@colesbury I agree with your sentiment, but at the same time we're seeing issues with collisions between threadpool implementations (tbb and openmp). It's good to be able to try different ones. Users might even want to use their own. If we don't do this now, it'll be much harder in the future. The api you described is easy to add. If you look at the parallel_for.h header in tbb you'll see that a lot of the calls come from the need to support different partitioners. I'm aware that this changes when you also want to support multiple ranges.", "body": "@colesbury I agree with your sentiment, but at the same time we're seeing issues with collisions between threadpool implementations (tbb and openmp). It's good to be able to try different ones. Users might even want to use their own. If we don't do this now, it'll be much harder in the future. The api you described is easy to add. If you look at the [parallel_for.h](https://github.com/01org/tbb/blob/d31fcc68980efbe912dc8cec4978fbb77fb3cf9f/include/serial/tbb/parallel_for.h) header in tbb you'll see that a lot of the calls come from the need to support different partitioners. I'm aware that this changes when you also want to support multiple ranges."}