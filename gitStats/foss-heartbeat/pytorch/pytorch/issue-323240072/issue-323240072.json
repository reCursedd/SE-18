{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7577", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7577/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7577/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7577/events", "html_url": "https://github.com/pytorch/pytorch/issues/7577", "id": 323240072, "node_id": "MDU6SXNzdWUzMjMyNDAwNzI=", "number": 7577, "title": "Pytorch how to use torch.nn.functional.batch_norm ? ", "user": {"login": "qlwang25", "id": 38132016, "node_id": "MDQ6VXNlcjM4MTMyMDE2", "avatar_url": "https://avatars2.githubusercontent.com/u/38132016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qlwang25", "html_url": "https://github.com/qlwang25", "followers_url": "https://api.github.com/users/qlwang25/followers", "following_url": "https://api.github.com/users/qlwang25/following{/other_user}", "gists_url": "https://api.github.com/users/qlwang25/gists{/gist_id}", "starred_url": "https://api.github.com/users/qlwang25/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qlwang25/subscriptions", "organizations_url": "https://api.github.com/users/qlwang25/orgs", "repos_url": "https://api.github.com/users/qlwang25/repos", "events_url": "https://api.github.com/users/qlwang25/events{/privacy}", "received_events_url": "https://api.github.com/users/qlwang25/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-15T14:21:03Z", "updated_at": "2018-05-16T05:36:54Z", "closed_at": "2018-05-15T14:57:24Z", "author_association": "NONE", "body_html": "<p>If you have a question or would like help and support, please ask at our<br>\n<a href=\"https://discuss.pytorch.org/\" rel=\"nofollow\">forums</a>.</p>\n<p>If you are submitting a feature request, please preface the title with [feature request].<br>\nIf you are submitting a bug report, please fill in the following details.</p>\n<h2>Issue description</h2>\n<p>if batch_norm is norm C channel , so input shape is (B, L, C) or (B, C, L)?<br>\nif batch_size = 5, time_Step = 10, channel = 20, how to code?<br>\nI have a mistake.<br>\nProvide a short description.</p>\n<h2>Code example</h2>\n<pre><code>&gt;&gt;&gt; a = torch.randn(5, 10, 20)\n&gt;&gt;&gt; m = torch.mean(a, 2)\n&gt;&gt;&gt; v = torch.var(a, 2)\n&gt;&gt;&gt; torch.nn.functional.batch_norm(a, m, v)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/wangshen/.local/lib/python3.5/site-packages/torch/nn/functional.py\", line 1194, in batch_norm\n    training, momentum, eps, torch.backends.cudnn.enabled\nRuntimeError: running_mean should contain 10 elements not 100\n</code></pre>\n<p>Please try to provide a minimal example to repro the bug.<br>\nError messages and stack traces are also helpful.</p>\n<h2>System Info</h2>\n<p>Please copy and paste the output from our<br>\n<a href=\"https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\" rel=\"nofollow\">environment collection script</a><br>\n(or fill out the checklist below manually).</p>\n<p>You can get the script and run it with:</p>\n<ul>\n<li>PyTorch or Caffe2:</li>\n<li>How you installed PyTorch (conda, pip, source):</li>\n<li>Build command you used (if compiling from source):</li>\n<li>OS:</li>\n<li>PyTorch version:</li>\n<li>Python version:</li>\n<li>CUDA/cuDNN version:</li>\n<li>GPU models and configuration:</li>\n<li>GCC version (if compiling from source):</li>\n<li>CMake version:</li>\n<li>Versions of any other relevant libraries:</li>\n</ul>", "body_text": "If you have a question or would like help and support, please ask at our\nforums.\nIf you are submitting a feature request, please preface the title with [feature request].\nIf you are submitting a bug report, please fill in the following details.\nIssue description\nif batch_norm is norm C channel , so input shape is (B, L, C) or (B, C, L)?\nif batch_size = 5, time_Step = 10, channel = 20, how to code?\nI have a mistake.\nProvide a short description.\nCode example\n>>> a = torch.randn(5, 10, 20)\n>>> m = torch.mean(a, 2)\n>>> v = torch.var(a, 2)\n>>> torch.nn.functional.batch_norm(a, m, v)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/wangshen/.local/lib/python3.5/site-packages/torch/nn/functional.py\", line 1194, in batch_norm\n    training, momentum, eps, torch.backends.cudnn.enabled\nRuntimeError: running_mean should contain 10 elements not 100\n\nPlease try to provide a minimal example to repro the bug.\nError messages and stack traces are also helpful.\nSystem Info\nPlease copy and paste the output from our\nenvironment collection script\n(or fill out the checklist below manually).\nYou can get the script and run it with:\n\nPyTorch or Caffe2:\nHow you installed PyTorch (conda, pip, source):\nBuild command you used (if compiling from source):\nOS:\nPyTorch version:\nPython version:\nCUDA/cuDNN version:\nGPU models and configuration:\nGCC version (if compiling from source):\nCMake version:\nVersions of any other relevant libraries:", "body": "If you have a question or would like help and support, please ask at our\r\n[forums](https://discuss.pytorch.org/).\r\n\r\nIf you are submitting a feature request, please preface the title with [feature request].\r\nIf you are submitting a bug report, please fill in the following details.\r\n\r\n## Issue description\r\nif batch_norm is norm C channel , so input shape is (B, L, C) or (B, C, L)?\r\nif batch_size = 5, time_Step = 10, channel = 20, how to code?\r\nI have a mistake. \r\nProvide a short description.\r\n\r\n## Code example\r\n```\r\n>>> a = torch.randn(5, 10, 20)\r\n>>> m = torch.mean(a, 2)\r\n>>> v = torch.var(a, 2)\r\n>>> torch.nn.functional.batch_norm(a, m, v)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/wangshen/.local/lib/python3.5/site-packages/torch/nn/functional.py\", line 1194, in batch_norm\r\n    training, momentum, eps, torch.backends.cudnn.enabled\r\nRuntimeError: running_mean should contain 10 elements not 100\r\n```\r\nPlease try to provide a minimal example to repro the bug.\r\nError messages and stack traces are also helpful.\r\n\r\n## System Info\r\nPlease copy and paste the output from our\r\n[environment collection script](https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py)\r\n(or fill out the checklist below manually).\r\n\r\nYou can get the script and run it with:\r\n\r\n- PyTorch or Caffe2:\r\n- How you installed PyTorch (conda, pip, source):\r\n- Build command you used (if compiling from source):\r\n- OS:\r\n- PyTorch version:\r\n- Python version:\r\n- CUDA/cuDNN version:\r\n- GPU models and configuration:\r\n- GCC version (if compiling from source):\r\n- CMake version:\r\n- Versions of any other relevant libraries:\r\n"}