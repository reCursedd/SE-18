{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/424106607", "html_url": "https://github.com/pytorch/pytorch/pull/11579#issuecomment-424106607", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11579", "id": 424106607, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDEwNjYwNw==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-24T20:05:18Z", "updated_at": "2018-09-24T20:08:41Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5652049\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zou3519\">@zou3519</a> Thanks for the tip.  It looks like if I re-arrange the line :<br>\nreturn {grads.at(0) * outputs.at(0) * (1 - outputs.at(0))};<br>\nto<br>\nreturn {((1 - outputs.at(0)) * outputs.at(0) * grads.at(0))};</p>\n<p>And re-run the :  python test/test_jit.py TestScript.test_milstm_fusion_cuda --accept<br>\nboth expect files (forward and backward /  ppc64 and x86_64)  are now identical.</p>\n<p>Can you please let me know if this is OK to do.</p>\n<p>I have no idea why I have to re-arrange it to give me the same backward expect output.</p>", "body_text": "@zou3519 Thanks for the tip.  It looks like if I re-arrange the line :\nreturn {grads.at(0) * outputs.at(0) * (1 - outputs.at(0))};\nto\nreturn {((1 - outputs.at(0)) * outputs.at(0) * grads.at(0))};\nAnd re-run the :  python test/test_jit.py TestScript.test_milstm_fusion_cuda --accept\nboth expect files (forward and backward /  ppc64 and x86_64)  are now identical.\nCan you please let me know if this is OK to do.\nI have no idea why I have to re-arrange it to give me the same backward expect output.", "body": "@zou3519 Thanks for the tip.  It looks like if I re-arrange the line : \r\nreturn {grads.at(0) * outputs.at(0) * (1 - outputs.at(0))};\r\nto \r\nreturn {((1 - outputs.at(0)) * outputs.at(0) * grads.at(0))};\r\n\r\nAnd re-run the :  python test/test_jit.py TestScript.test_milstm_fusion_cuda --accept \r\nboth expect files (forward and backward /  ppc64 and x86_64)  are now identical.\r\n\r\nCan you please let me know if this is OK to do.  \r\n\r\nI have no idea why I have to re-arrange it to give me the same backward expect output."}