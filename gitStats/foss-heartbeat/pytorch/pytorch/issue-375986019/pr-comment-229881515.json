{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/229881515", "pull_request_review_id": 170489293, "id": 229881515, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTg4MTUxNQ==", "diff_hunk": "@@ -305,23 +305,30 @@ bool runFusion(\n     return i.toTensor();\n   });\n \n-  // Determines device to dispatch to\n-  // Note assumes all inputs are on at most one GPU device and/or the CPU\n-  int32_t device = kCPUDevice;\n-  for (const auto& t : inputs) {\n-    const auto cur_device = t.device().index();\n-    if (cur_device < 0) continue;\n-    if (device < 0) device = cur_device;\n-    else JIT_ASSERT(device == cur_device);\n+  // Determines device to dispatch to. If there's a device mismatch in the inputs,\n+  // we use the fallback (which should give a nice error message).", "path": "torch/csrc/jit/fuser/executor.cpp", "position": 62, "original_position": 62, "commit_id": "2afe1461dfd48925dc98d0c7b741be8f868dcafb", "original_commit_id": "3867bbff9b3d5d8be56ded907547a3219ab536b1", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "body": "What if part of the FusionGroup could have been fused? (Consider a fusion group with some CPU inputs and some CUDA:0 inputs). Are there plans to slice these things apart?", "created_at": "2018-10-31T21:55:39Z", "updated_at": "2018-11-23T15:53:57Z", "html_url": "https://github.com/pytorch/pytorch/pull/13387#discussion_r229881515", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/13387", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/229881515"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/13387#discussion_r229881515"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/13387"}}, "body_html": "<p>What if part of the FusionGroup could have been fused? (Consider a fusion group with some CPU inputs and some CUDA:0 inputs). Are there plans to slice these things apart?</p>", "body_text": "What if part of the FusionGroup could have been fused? (Consider a fusion group with some CPU inputs and some CUDA:0 inputs). Are there plans to slice these things apart?"}