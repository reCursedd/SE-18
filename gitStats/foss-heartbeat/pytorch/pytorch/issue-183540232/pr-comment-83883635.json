{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/83883635", "pull_request_review_id": 4697153, "id": 83883635, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzODgzNjM1", "diff_hunk": "@@ -134,27 +146,30 @@ def __getstate__(self):\n         # but signalling the end is tricky without a non-blocking API\n         raise NotImplementedError(\"DataLoaderIterator cannot be pickled\")\n \n-    def _joinWorkers(self):\n-        self.joined = True\n-        if self.num_workers:\n-            [self.index_queue.put(None) for x in self.workers]\n-            [x.join() for x in self.workers]\n+    def _shutdown_workers(self):\n+        if not self.shutdown:\n+            self.shutdown = True\n+            for _ in self.workers:\n+                self.index_queue.put(None)", "path": "torch/utils/data/dataloader.py", "position": 194, "original_position": 195, "commit_id": "0ece591a9d5b1fc295bf33814eacb5f411a37c32", "original_commit_id": "cdf0e0e777a9a2255d8c3d60bcf6e482ab6720a1", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "You won't be deleting this object very often, and it would be nice to ensure that the processes get killed once you do. Otherwise we might end up with process leaks, that are completely unnoticeable from the main process.\n", "created_at": "2016-10-18T15:37:52Z", "updated_at": "2018-11-23T15:31:45Z", "html_url": "https://github.com/pytorch/pytorch/pull/135#discussion_r83883635", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/135", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/83883635"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/135#discussion_r83883635"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/135"}}, "body_html": "<p>You won't be deleting this object very often, and it would be nice to ensure that the processes get killed once you do. Otherwise we might end up with process leaks, that are completely unnoticeable from the main process.</p>", "body_text": "You won't be deleting this object very often, and it would be nice to ensure that the processes get killed once you do. Otherwise we might end up with process leaks, that are completely unnoticeable from the main process.", "in_reply_to_id": 83830932}