{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/148940553", "pull_request_review_id": 74264964, "id": 148940553, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODk0MDU1Mw==", "diff_hunk": "@@ -16,15 +16,23 @@ template<typename To, typename From> To convert(From f) {\n   return static_cast<To>(f);\n }\n \n-template<typename To, typename From> bool overflows(From f) {\n-  using limit = std::numeric_limits<To>;\n-  if (limit::has_infinity && std::isinf(f)) {\n-    return false;\n-  }\n-  if (!limit::has_quiet_NaN && std::isnan(f)) {\n-    return true;\n-  }\n-  return f < limit::lowest() || f > limit::max();\n+// skip isnan and isinf check for integral types\n+template<typename To, typename From>\n+typename std::enable_if<std::is_integral<From>::value, bool>::type overflows(From f) {\n+\tusing limit = std::numeric_limits<To>;\n+\treturn f < limit::lowest() || f > limit::max();\n+}\n+\n+template<typename To, typename From>\n+typename std::enable_if<!std::is_integral<From>::value, bool>::type overflows(From f) {\n+\tusing limit = std::numeric_limits<To>;\n+\tif (limit::has_infinity && std::isinf(f)) {\n+\t\treturn false;\n+\t}\n+\tif (!limit::has_quiet_NaN && std::isnan(f)) {\n+\t\treturn true;\n+\t}\n+\treturn f < limit::lowest() || f > limit::max();", "path": "aten/src/ATen/Half.h", "position": null, "original_position": 29, "commit_id": "e8fc834424ac9e6bfc348c4a9052d1acbf9f841c", "original_commit_id": "0e787ffc0ddf10333a81073e8c39a5c00a8c3ff3", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "You're using tabs. Please change it to spaces", "created_at": "2017-11-04T20:28:20Z", "updated_at": "2018-11-23T15:36:03Z", "html_url": "https://github.com/pytorch/pytorch/pull/3467#discussion_r148940553", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3467", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/148940553"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3467#discussion_r148940553"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3467"}}, "body_html": "<p>You're using tabs. Please change it to spaces</p>", "body_text": "You're using tabs. Please change it to spaces"}