{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/336546175", "html_url": "https://github.com/pytorch/pytorch/issues/2608#issuecomment-336546175", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2608", "id": 336546175, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjU0NjE3NQ==", "user": {"login": "matham", "id": 1644286, "node_id": "MDQ6VXNlcjE2NDQyODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1644286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matham", "html_url": "https://github.com/matham", "followers_url": "https://api.github.com/users/matham/followers", "following_url": "https://api.github.com/users/matham/following{/other_user}", "gists_url": "https://api.github.com/users/matham/gists{/gist_id}", "starred_url": "https://api.github.com/users/matham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matham/subscriptions", "organizations_url": "https://api.github.com/users/matham/orgs", "repos_url": "https://api.github.com/users/matham/repos", "events_url": "https://api.github.com/users/matham/events{/privacy}", "received_events_url": "https://api.github.com/users/matham/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-13T19:28:21Z", "updated_at": "2017-10-13T19:28:21Z", "author_association": "NONE", "body_html": "<p>This doesn't solve it for me. I could install using <code>conda install -c soumith pytorch</code> and then it worked, but that doesn't work for source. Here's an example using the nvidia-docker ubuntu:</p>\n<pre><code>(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# python -c 'import torch; print(torch.cuda.is_available())'\nTrue\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# conda uninstall pytorch\nFetching package metadata ...........\nSolving package specifications: .\n\nPackage plan for package removal in environment /root/Desktop/shared-docker/anaconda3/envs/pytorch:\n\nThe following packages will be REMOVED:\n\n    pytorch: 0.2.0-py36hf0d2509_4cu75 soumith\n\nProceed ([y]/n)? y\n\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# export CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\"\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# git clone --recursive https://github.com/pytorch/pytorch\nCloning into 'pytorch'...\nremote: Counting objects: 40608, done.\nremote: Compressing objects: 100% (6/6), done.\nremote: Total 40608 (delta 12), reused 12 (delta 12), pack-reused 40590\nReceiving objects: 100% (40608/40608), 15.64 MiB | 23.89 MiB/s, done.\nResolving deltas: 100% (30902/30902), done.\nChecking connectivity... done.\nSubmodule 'torch/lib/gloo' (https://github.com/facebookincubator/gloo) registered for path 'torch/lib/gloo'\nSubmodule 'torch/lib/nanopb' (https://github.com/nanopb/nanopb.git) registered for path 'torch/lib/nanopb'\nSubmodule 'torch/lib/pybind11' (https://github.com/pybind/pybind11) registered for path 'torch/lib/pybind11'\nCloning into 'torch/lib/gloo'...\nremote: Counting objects: 1922, done.\nremote: Compressing objects: 100% (71/71), done.\nremote: Total 1922 (delta 29), reused 51 (delta 14), pack-reused 1837\nReceiving objects: 100% (1922/1922), 567.73 KiB | 0 bytes/s, done.\nResolving deltas: 100% (1423/1423), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/gloo': checked out '7fd607e2852c910f0f1320d2aaa92f1da2291109'\nSubmodule 'third-party/googletest' (https://github.com/google/googletest.git) registered for path 'third-party/googletest'\nCloning into 'third-party/googletest'...\nremote: Counting objects: 9080, done.\nremote: Total 9080 (delta 0), reused 0 (delta 0), pack-reused 9080\nReceiving objects: 100% (9080/9080), 2.77 MiB | 0 bytes/s, done.\nResolving deltas: 100% (6728/6728), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/gloo/third-party/googletest': checked out 'ec44c6c1675c25b9827aacd08c02433cccde7780'\nCloning into 'torch/lib/nanopb'...\nremote: Counting objects: 4384, done.\nremote: Total 4384 (delta 0), reused 0 (delta 0), pack-reused 4384\nReceiving objects: 100% (4384/4384), 1006.23 KiB | 0 bytes/s, done.\nResolving deltas: 100% (2873/2873), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/nanopb': checked out '14efb1a47a496652ab08b1ebcefb0ea24ae4a5e4'\nCloning into 'torch/lib/pybind11'...\nremote: Counting objects: 9402, done.\nremote: Compressing objects: 100% (6/6), done.\nremote: Total 9402 (delta 3), reused 9 (delta 3), pack-reused 9391\nReceiving objects: 100% (9402/9402), 3.28 MiB | 0 bytes/s, done.\nResolving deltas: 100% (6348/6348), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/pybind11': checked out '9f6a636e547fc70a02fa48436449aad67080698f'\nSubmodule 'tools/clang' (https://github.com/wjakob/clang-cindex-python3) registered for path 'tools/clang'\nCloning into 'tools/clang'...\nremote: Counting objects: 353, done.\nremote: Total 353 (delta 0), reused 0 (delta 0), pack-reused 353\nReceiving objects: 100% (353/353), 119.74 KiB | 0 bytes/s, done.\nResolving deltas: 100% (149/149), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/pybind11/tools/clang': checked out '6a00cbc4a9b8e68b71caf7f774b3f9c753ae84d5'\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# cd pytorch/\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python/pytorch# python setup.py install\nrunning install\nrunning build_deps\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by cmake)\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by cmake)\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by cmake)\n</code></pre>\n<p>I also tried to checkout <code>v0.2.0</code> but had the same issue.</p>\n<p>Where is the conda recipe used by soumith for the last release stored? Because it must be doing something to fix the this issue, right? I couldn't find the conda recipe file in this repo.</p>", "body_text": "This doesn't solve it for me. I could install using conda install -c soumith pytorch and then it worked, but that doesn't work for source. Here's an example using the nvidia-docker ubuntu:\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# python -c 'import torch; print(torch.cuda.is_available())'\nTrue\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# conda uninstall pytorch\nFetching package metadata ...........\nSolving package specifications: .\n\nPackage plan for package removal in environment /root/Desktop/shared-docker/anaconda3/envs/pytorch:\n\nThe following packages will be REMOVED:\n\n    pytorch: 0.2.0-py36hf0d2509_4cu75 soumith\n\nProceed ([y]/n)? y\n\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# export CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\"\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# git clone --recursive https://github.com/pytorch/pytorch\nCloning into 'pytorch'...\nremote: Counting objects: 40608, done.\nremote: Compressing objects: 100% (6/6), done.\nremote: Total 40608 (delta 12), reused 12 (delta 12), pack-reused 40590\nReceiving objects: 100% (40608/40608), 15.64 MiB | 23.89 MiB/s, done.\nResolving deltas: 100% (30902/30902), done.\nChecking connectivity... done.\nSubmodule 'torch/lib/gloo' (https://github.com/facebookincubator/gloo) registered for path 'torch/lib/gloo'\nSubmodule 'torch/lib/nanopb' (https://github.com/nanopb/nanopb.git) registered for path 'torch/lib/nanopb'\nSubmodule 'torch/lib/pybind11' (https://github.com/pybind/pybind11) registered for path 'torch/lib/pybind11'\nCloning into 'torch/lib/gloo'...\nremote: Counting objects: 1922, done.\nremote: Compressing objects: 100% (71/71), done.\nremote: Total 1922 (delta 29), reused 51 (delta 14), pack-reused 1837\nReceiving objects: 100% (1922/1922), 567.73 KiB | 0 bytes/s, done.\nResolving deltas: 100% (1423/1423), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/gloo': checked out '7fd607e2852c910f0f1320d2aaa92f1da2291109'\nSubmodule 'third-party/googletest' (https://github.com/google/googletest.git) registered for path 'third-party/googletest'\nCloning into 'third-party/googletest'...\nremote: Counting objects: 9080, done.\nremote: Total 9080 (delta 0), reused 0 (delta 0), pack-reused 9080\nReceiving objects: 100% (9080/9080), 2.77 MiB | 0 bytes/s, done.\nResolving deltas: 100% (6728/6728), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/gloo/third-party/googletest': checked out 'ec44c6c1675c25b9827aacd08c02433cccde7780'\nCloning into 'torch/lib/nanopb'...\nremote: Counting objects: 4384, done.\nremote: Total 4384 (delta 0), reused 0 (delta 0), pack-reused 4384\nReceiving objects: 100% (4384/4384), 1006.23 KiB | 0 bytes/s, done.\nResolving deltas: 100% (2873/2873), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/nanopb': checked out '14efb1a47a496652ab08b1ebcefb0ea24ae4a5e4'\nCloning into 'torch/lib/pybind11'...\nremote: Counting objects: 9402, done.\nremote: Compressing objects: 100% (6/6), done.\nremote: Total 9402 (delta 3), reused 9 (delta 3), pack-reused 9391\nReceiving objects: 100% (9402/9402), 3.28 MiB | 0 bytes/s, done.\nResolving deltas: 100% (6348/6348), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/pybind11': checked out '9f6a636e547fc70a02fa48436449aad67080698f'\nSubmodule 'tools/clang' (https://github.com/wjakob/clang-cindex-python3) registered for path 'tools/clang'\nCloning into 'tools/clang'...\nremote: Counting objects: 353, done.\nremote: Total 353 (delta 0), reused 0 (delta 0), pack-reused 353\nReceiving objects: 100% (353/353), 119.74 KiB | 0 bytes/s, done.\nResolving deltas: 100% (149/149), done.\nChecking connectivity... done.\nSubmodule path 'torch/lib/pybind11/tools/clang': checked out '6a00cbc4a9b8e68b71caf7f774b3f9c753ae84d5'\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# cd pytorch/\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python/pytorch# python setup.py install\nrunning install\nrunning build_deps\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by cmake)\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by cmake)\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by cmake)\n\nI also tried to checkout v0.2.0 but had the same issue.\nWhere is the conda recipe used by soumith for the last release stored? Because it must be doing something to fix the this issue, right? I couldn't find the conda recipe file in this repo.", "body": "This doesn't solve it for me. I could install using `conda install -c soumith pytorch` and then it worked, but that doesn't work for source. Here's an example using the nvidia-docker ubuntu:\r\n\r\n```\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# python -c 'import torch; print(torch.cuda.is_available())'\r\nTrue\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# conda uninstall pytorch\r\nFetching package metadata ...........\r\nSolving package specifications: .\r\n\r\nPackage plan for package removal in environment /root/Desktop/shared-docker/anaconda3/envs/pytorch:\r\n\r\nThe following packages will be REMOVED:\r\n\r\n    pytorch: 0.2.0-py36hf0d2509_4cu75 soumith\r\n\r\nProceed ([y]/n)? y\r\n\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# export CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\"\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# git clone --recursive https://github.com/pytorch/pytorch\r\nCloning into 'pytorch'...\r\nremote: Counting objects: 40608, done.\r\nremote: Compressing objects: 100% (6/6), done.\r\nremote: Total 40608 (delta 12), reused 12 (delta 12), pack-reused 40590\r\nReceiving objects: 100% (40608/40608), 15.64 MiB | 23.89 MiB/s, done.\r\nResolving deltas: 100% (30902/30902), done.\r\nChecking connectivity... done.\r\nSubmodule 'torch/lib/gloo' (https://github.com/facebookincubator/gloo) registered for path 'torch/lib/gloo'\r\nSubmodule 'torch/lib/nanopb' (https://github.com/nanopb/nanopb.git) registered for path 'torch/lib/nanopb'\r\nSubmodule 'torch/lib/pybind11' (https://github.com/pybind/pybind11) registered for path 'torch/lib/pybind11'\r\nCloning into 'torch/lib/gloo'...\r\nremote: Counting objects: 1922, done.\r\nremote: Compressing objects: 100% (71/71), done.\r\nremote: Total 1922 (delta 29), reused 51 (delta 14), pack-reused 1837\r\nReceiving objects: 100% (1922/1922), 567.73 KiB | 0 bytes/s, done.\r\nResolving deltas: 100% (1423/1423), done.\r\nChecking connectivity... done.\r\nSubmodule path 'torch/lib/gloo': checked out '7fd607e2852c910f0f1320d2aaa92f1da2291109'\r\nSubmodule 'third-party/googletest' (https://github.com/google/googletest.git) registered for path 'third-party/googletest'\r\nCloning into 'third-party/googletest'...\r\nremote: Counting objects: 9080, done.\r\nremote: Total 9080 (delta 0), reused 0 (delta 0), pack-reused 9080\r\nReceiving objects: 100% (9080/9080), 2.77 MiB | 0 bytes/s, done.\r\nResolving deltas: 100% (6728/6728), done.\r\nChecking connectivity... done.\r\nSubmodule path 'torch/lib/gloo/third-party/googletest': checked out 'ec44c6c1675c25b9827aacd08c02433cccde7780'\r\nCloning into 'torch/lib/nanopb'...\r\nremote: Counting objects: 4384, done.\r\nremote: Total 4384 (delta 0), reused 0 (delta 0), pack-reused 4384\r\nReceiving objects: 100% (4384/4384), 1006.23 KiB | 0 bytes/s, done.\r\nResolving deltas: 100% (2873/2873), done.\r\nChecking connectivity... done.\r\nSubmodule path 'torch/lib/nanopb': checked out '14efb1a47a496652ab08b1ebcefb0ea24ae4a5e4'\r\nCloning into 'torch/lib/pybind11'...\r\nremote: Counting objects: 9402, done.\r\nremote: Compressing objects: 100% (6/6), done.\r\nremote: Total 9402 (delta 3), reused 9 (delta 3), pack-reused 9391\r\nReceiving objects: 100% (9402/9402), 3.28 MiB | 0 bytes/s, done.\r\nResolving deltas: 100% (6348/6348), done.\r\nChecking connectivity... done.\r\nSubmodule path 'torch/lib/pybind11': checked out '9f6a636e547fc70a02fa48436449aad67080698f'\r\nSubmodule 'tools/clang' (https://github.com/wjakob/clang-cindex-python3) registered for path 'tools/clang'\r\nCloning into 'tools/clang'...\r\nremote: Counting objects: 353, done.\r\nremote: Total 353 (delta 0), reused 0 (delta 0), pack-reused 353\r\nReceiving objects: 100% (353/353), 119.74 KiB | 0 bytes/s, done.\r\nResolving deltas: 100% (149/149), done.\r\nChecking connectivity... done.\r\nSubmodule path 'torch/lib/pybind11/tools/clang': checked out '6a00cbc4a9b8e68b71caf7f774b3f9c753ae84d5'\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python# cd pytorch/\r\n(pytorch) root@cdbbf1597042:~/Desktop/shared-docker/python/pytorch# python setup.py install\r\nrunning install\r\nrunning build_deps\r\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by cmake)\r\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by cmake)\r\ncmake: /root/Desktop/shared-docker/anaconda3/envs/pytorch/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by cmake)\r\n```\r\n\r\nI also tried to checkout `v0.2.0` but had the same issue.\r\n\r\nWhere is the conda recipe used by soumith for the last release stored? Because it must be doing something to fix the this issue, right? I couldn't find the conda recipe file in this repo."}