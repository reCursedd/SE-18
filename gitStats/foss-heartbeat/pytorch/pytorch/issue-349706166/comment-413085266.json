{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/413085266", "html_url": "https://github.com/pytorch/pytorch/issues/10430#issuecomment-413085266", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10430", "id": 413085266, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMzA4NTI2Ng==", "user": {"login": "johnhany", "id": 3396062, "node_id": "MDQ6VXNlcjMzOTYwNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3396062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnhany", "html_url": "https://github.com/johnhany", "followers_url": "https://api.github.com/users/johnhany/followers", "following_url": "https://api.github.com/users/johnhany/following{/other_user}", "gists_url": "https://api.github.com/users/johnhany/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnhany/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnhany/subscriptions", "organizations_url": "https://api.github.com/users/johnhany/orgs", "repos_url": "https://api.github.com/users/johnhany/repos", "events_url": "https://api.github.com/users/johnhany/events{/privacy}", "received_events_url": "https://api.github.com/users/johnhany/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-15T03:42:25Z", "updated_at": "2018-08-15T03:42:25Z", "author_association": "NONE", "body_html": "<p>I downloaded <code>https://repo.anaconda.com/archive/Anaconda3-5.2.0-Linux-x86_64.sh</code> and run <code>bash Anaconda3-5.2.0-Linux-x86_64.sh</code> to install it in <code>~/anaconda3</code>. After installing and upgrading several packages, the version of conda is 4.3.30. (To be honest, I'm a little confused by the version number in filename)</p>\n<p>I installed PyTorch directly in it by <code>conda install pytorch torchvision</code>. Because I live in China, I am using third-party sources for conda and pip provided by tuna.tsinghua.edu.cn. And the downloading speed is really slow if I add <code>-c pytorch</code> at the end of the command.</p>\n<p>I didn't install a fresh Miniconda environment, but create a minimum environment with <code>conda create -n python35 python=3.5</code>. Would it be the same as Miniconda?</p>\n<p>I created the Python2.7 environment with <code>conda create -n python27 python=2.7 anaconda</code>. Commands that I used to install torch are the same as above.</p>\n<p>Also, I have tried:</p>\n<ol>\n<li>downloaded whl file (Python3.5) directly from <code>https://pypi.org/project/torch/0.4.1/#files</code> and installed it. It crashed again.</li>\n<li>downloaded tar.bz2 files (Python3.6) from <code>https://anaconda.org/pytorch/pytorch/files</code> and <code>https://anaconda.org/pytorch/torchvision/files</code> and install with <code>conda install pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1.tar.bz2</code> and <code>conda install torchvision-0.2.1-py36_1.tar.bz2</code>. It crashed again.</li>\n</ol>\n<p>Here are the tailing lines in my <code>~/.bashrc</code> file:</p>\n<pre><code>export GOPATH=$HOME/.go\nexport PATH=$PATH:/usr/local/cuda/bin:/opt/android-studio/bin:$GOPATH/bin\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\nexport PYTHONPATH=$PYTHONPATH:/home/john/Downloads/cleverhans-master\n\n# added by Anaconda3 installer\nexport PATH=\"/home/john/anaconda3/bin:$PATH\"\n\nalias py27=\"/usr/bin/python2.7\"\nalias py35=\"/usr/bin/python3.5\"\n</code></pre>\n<p>Here are the full logs when running <code>LD_DEBUG=libs py35 mnist.py</code>:<br>\n<a href=\"https://gist.github.com/johnhany/9662d051ee8528ee0226f4d913a943d9\">LD_DEBUG-libs-log.txt</a><br>\nThe error occurs at <a href=\"https://gist.github.com/johnhany/9662d051ee8528ee0226f4d913a943d9#file-ld_debug-libs-log-txt-L2112\">line 2112</a>.</p>\n<p>And here are the search results for libcaffe2.so:</p>\n<pre><code>/home/john/Git/caffe2/build/lib/libcaffe2.so\n/home/john/anaconda3/envs/python27/lib/python2.7/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/lib/python3.6/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py27_cuda9.0.176_cudnn7.1.2_1/lib/python2.7/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py35_cuda9.0.176_cudnn7.1.2_1/lib/python3.5/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1/lib/python3.6/site-packages/torch/lib/libcaffe2.so\n/usr/local/lib/libcaffe2.so\n/usr/local/lib/python3.5/dist-packages/torch/lib/libcaffe2.so\n</code></pre>", "body_text": "I downloaded https://repo.anaconda.com/archive/Anaconda3-5.2.0-Linux-x86_64.sh and run bash Anaconda3-5.2.0-Linux-x86_64.sh to install it in ~/anaconda3. After installing and upgrading several packages, the version of conda is 4.3.30. (To be honest, I'm a little confused by the version number in filename)\nI installed PyTorch directly in it by conda install pytorch torchvision. Because I live in China, I am using third-party sources for conda and pip provided by tuna.tsinghua.edu.cn. And the downloading speed is really slow if I add -c pytorch at the end of the command.\nI didn't install a fresh Miniconda environment, but create a minimum environment with conda create -n python35 python=3.5. Would it be the same as Miniconda?\nI created the Python2.7 environment with conda create -n python27 python=2.7 anaconda. Commands that I used to install torch are the same as above.\nAlso, I have tried:\n\ndownloaded whl file (Python3.5) directly from https://pypi.org/project/torch/0.4.1/#files and installed it. It crashed again.\ndownloaded tar.bz2 files (Python3.6) from https://anaconda.org/pytorch/pytorch/files and https://anaconda.org/pytorch/torchvision/files and install with conda install pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1.tar.bz2 and conda install torchvision-0.2.1-py36_1.tar.bz2. It crashed again.\n\nHere are the tailing lines in my ~/.bashrc file:\nexport GOPATH=$HOME/.go\nexport PATH=$PATH:/usr/local/cuda/bin:/opt/android-studio/bin:$GOPATH/bin\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\nexport PYTHONPATH=$PYTHONPATH:/home/john/Downloads/cleverhans-master\n\n# added by Anaconda3 installer\nexport PATH=\"/home/john/anaconda3/bin:$PATH\"\n\nalias py27=\"/usr/bin/python2.7\"\nalias py35=\"/usr/bin/python3.5\"\n\nHere are the full logs when running LD_DEBUG=libs py35 mnist.py:\nLD_DEBUG-libs-log.txt\nThe error occurs at line 2112.\nAnd here are the search results for libcaffe2.so:\n/home/john/Git/caffe2/build/lib/libcaffe2.so\n/home/john/anaconda3/envs/python27/lib/python2.7/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/lib/python3.6/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py27_cuda9.0.176_cudnn7.1.2_1/lib/python2.7/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py35_cuda9.0.176_cudnn7.1.2_1/lib/python3.5/site-packages/torch/lib/libcaffe2.so\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1/lib/python3.6/site-packages/torch/lib/libcaffe2.so\n/usr/local/lib/libcaffe2.so\n/usr/local/lib/python3.5/dist-packages/torch/lib/libcaffe2.so", "body": "I downloaded `https://repo.anaconda.com/archive/Anaconda3-5.2.0-Linux-x86_64.sh` and run `bash Anaconda3-5.2.0-Linux-x86_64.sh` to install it in `~/anaconda3`. After installing and upgrading several packages, the version of conda is 4.3.30. (To be honest, I'm a little confused by the version number in filename)\r\n\r\nI installed PyTorch directly in it by `conda install pytorch torchvision`. Because I live in China, I am using third-party sources for conda and pip provided by tuna.tsinghua.edu.cn. And the downloading speed is really slow if I add `-c pytorch` at the end of the command.\r\n\r\nI didn't install a fresh Miniconda environment, but create a minimum environment with `conda create -n python35 python=3.5`. Would it be the same as Miniconda?\r\n\r\nI created the Python2.7 environment with `conda create -n python27 python=2.7 anaconda`. Commands that I used to install torch are the same as above.\r\n\r\nAlso, I have tried:\r\n1. downloaded whl file (Python3.5) directly from `https://pypi.org/project/torch/0.4.1/#files` and installed it. It crashed again.\r\n2. downloaded tar.bz2 files (Python3.6) from `https://anaconda.org/pytorch/pytorch/files` and `https://anaconda.org/pytorch/torchvision/files` and install with `conda install pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1.tar.bz2` and `conda install torchvision-0.2.1-py36_1.tar.bz2`. It crashed again.\r\n\r\nHere are the tailing lines in my `~/.bashrc` file:\r\n```\r\nexport GOPATH=$HOME/.go\r\nexport PATH=$PATH:/usr/local/cuda/bin:/opt/android-studio/bin:$GOPATH/bin\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64\r\nexport PYTHONPATH=$PYTHONPATH:/home/john/Downloads/cleverhans-master\r\n\r\n# added by Anaconda3 installer\r\nexport PATH=\"/home/john/anaconda3/bin:$PATH\"\r\n\r\nalias py27=\"/usr/bin/python2.7\"\r\nalias py35=\"/usr/bin/python3.5\"\r\n```\r\n\r\nHere are the full logs when running `LD_DEBUG=libs py35 mnist.py`:\r\n[LD_DEBUG-libs-log.txt](https://gist.github.com/johnhany/9662d051ee8528ee0226f4d913a943d9)\r\nThe error occurs at [line 2112](https://gist.github.com/johnhany/9662d051ee8528ee0226f4d913a943d9#file-ld_debug-libs-log-txt-L2112).\r\n\r\nAnd here are the search results for libcaffe2.so:\r\n```\r\n/home/john/Git/caffe2/build/lib/libcaffe2.so\r\n/home/john/anaconda3/envs/python27/lib/python2.7/site-packages/torch/lib/libcaffe2.so\r\n/home/john/anaconda3/lib/python3.6/site-packages/torch/lib/libcaffe2.so\r\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py27_cuda9.0.176_cudnn7.1.2_1/lib/python2.7/site-packages/torch/lib/libcaffe2.so\r\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py35_cuda9.0.176_cudnn7.1.2_1/lib/python3.5/site-packages/torch/lib/libcaffe2.so\r\n/home/john/anaconda3/pkgs/pytorch-0.4.1-py36_cuda9.0.176_cudnn7.1.2_1/lib/python3.6/site-packages/torch/lib/libcaffe2.so\r\n/usr/local/lib/libcaffe2.so\r\n/usr/local/lib/python3.5/dist-packages/torch/lib/libcaffe2.so\r\n```"}