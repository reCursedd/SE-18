{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/186198142", "pull_request_review_id": 117740268, "id": 186198142, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NjE5ODE0Mg==", "diff_hunk": "@@ -0,0 +1,69 @@\n+diff --git a/aten/src/THC/THCTensorMathReduce.cuh b/aten/src/THC/THCTensorMathReduce.cuh\n+index c2ce92898..b2208c010 100644\n+--- a/aten/src/THC/THCTensorMathReduce.cuh\n++++ b/aten/src/THC/THCTensorMathReduce.cuh\n+@@ -105,7 +105,7 @@ struct SquareFunctor<ResT, half> {\n+ template <typename T>\n+ struct ReduceMin {\n+   inline __device__ T operator()(T a, T b) const {\n+-    return (THCNumerics<T>::lt(a, b) ||\n++    return ((int)THCNumerics<T>::sub(a, b) < 0 ||", "path": "tools/amd_build/patches/a_aten_src_THC_THCTensorMathReduce.cuh.patch", "position": 10, "original_position": 10, "commit_id": "f5bdbf350990fb69280b68c5bfcfa949cc5fbe77", "original_commit_id": "4e4916978c16fb8dd98b7abb862ecb713ec34ef2", "user": {"login": "Jorghi12", "id": 8586039, "node_id": "MDQ6VXNlcjg1ODYwMzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/8586039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jorghi12", "html_url": "https://github.com/Jorghi12", "followers_url": "https://api.github.com/users/Jorghi12/followers", "following_url": "https://api.github.com/users/Jorghi12/following{/other_user}", "gists_url": "https://api.github.com/users/Jorghi12/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jorghi12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jorghi12/subscriptions", "organizations_url": "https://api.github.com/users/Jorghi12/orgs", "repos_url": "https://api.github.com/users/Jorghi12/repos", "events_url": "https://api.github.com/users/Jorghi12/events{/privacy}", "received_events_url": "https://api.github.com/users/Jorghi12/received_events", "type": "User", "site_admin": false}, "body": "[Note for reference] There are issues with the compiler that we needed to work around. => \"LLVM ERROR: Cannot select: 0x4b4e848: v2i16 = SMAX3 0x4b0a240, 0x4c49760, 0x4b7fe8\" So there was trouble converting this into machine instructions. That's why we have the weird workaround. I believe an issue has been sent by @wsttiger.", "created_at": "2018-05-04T19:51:35Z", "updated_at": "2018-11-23T15:43:38Z", "html_url": "https://github.com/pytorch/pytorch/pull/6625#discussion_r186198142", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/6625", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/186198142"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/6625#discussion_r186198142"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/6625"}}, "body_html": "<p>[Note for reference] There are issues with the compiler that we needed to work around. =&gt; \"LLVM ERROR: Cannot select: 0x4b4e848: v2i16 = SMAX3 0x4b0a240, 0x4c49760, 0x4b7fe8\" So there was trouble converting this into machine instructions. That's why we have the weird workaround. I believe an issue has been sent by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=7681384\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wsttiger\">@wsttiger</a>.</p>", "body_text": "[Note for reference] There are issues with the compiler that we needed to work around. => \"LLVM ERROR: Cannot select: 0x4b4e848: v2i16 = SMAX3 0x4b0a240, 0x4c49760, 0x4b7fe8\" So there was trouble converting this into machine instructions. That's why we have the weird workaround. I believe an issue has been sent by @wsttiger.", "in_reply_to_id": 186070717}