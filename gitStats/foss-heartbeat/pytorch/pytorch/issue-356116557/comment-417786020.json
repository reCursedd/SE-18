{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417786020", "html_url": "https://github.com/pytorch/pytorch/issues/11157#issuecomment-417786020", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11157", "id": 417786020, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzc4NjAyMA==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-31T20:52:25Z", "updated_at": "2018-08-31T20:52:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The tracer doesn't support strings right now.</p>\n<p>And here's the script-mode error: (it looks like we're not registering the einsum op despite it being a native function, probably because it has a string arg):</p>\n<pre><code>In [1]: import torch\n   ...: @torch.jit.script\n   ...: def fn(x, y):\n   ...:     return torch.einsum('i,j-&gt;ij', x, y)\n   ...:\n   ...:\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-1-9e23e805a0d0&gt; in &lt;module&gt;()\n      1 import torch\n----&gt; 2 @torch.jit.script\n      3 def fn(x, y):\n      4     return torch.einsum('i,j-&gt;ij', x, y)\n\n~/pt/scratch/torch/jit/__init__.py in script(fn, optimize, _frames_up)\n    349     rcb = createResolutionCallback(_frames_up + 1)\n    350     ast = get_jit_ast(fn, is_method=False)\n--&gt; 351     graph = _jit_script_compile(ast, rcb)\n    352     mod = ScriptModule()\n    353     mod._create_method_from_graph('forward', graph)\n\nRuntimeError:\nunknown builtin op:\n@torch.jit.script\ndef fn(x, y):\n    return torch.einsum('i,j-&gt;ij', x, y)\n           ~~~~~~~~~~~~ &lt;--- HERE\n</code></pre>", "body_text": "The tracer doesn't support strings right now.\nAnd here's the script-mode error: (it looks like we're not registering the einsum op despite it being a native function, probably because it has a string arg):\nIn [1]: import torch\n   ...: @torch.jit.script\n   ...: def fn(x, y):\n   ...:     return torch.einsum('i,j->ij', x, y)\n   ...:\n   ...:\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-1-9e23e805a0d0> in <module>()\n      1 import torch\n----> 2 @torch.jit.script\n      3 def fn(x, y):\n      4     return torch.einsum('i,j->ij', x, y)\n\n~/pt/scratch/torch/jit/__init__.py in script(fn, optimize, _frames_up)\n    349     rcb = createResolutionCallback(_frames_up + 1)\n    350     ast = get_jit_ast(fn, is_method=False)\n--> 351     graph = _jit_script_compile(ast, rcb)\n    352     mod = ScriptModule()\n    353     mod._create_method_from_graph('forward', graph)\n\nRuntimeError:\nunknown builtin op:\n@torch.jit.script\ndef fn(x, y):\n    return torch.einsum('i,j->ij', x, y)\n           ~~~~~~~~~~~~ <--- HERE", "body": "The tracer doesn't support strings right now.\r\n\r\nAnd here's the script-mode error: (it looks like we're not registering the einsum op despite it being a native function, probably because it has a string arg):\r\n```\r\nIn [1]: import torch\r\n   ...: @torch.jit.script\r\n   ...: def fn(x, y):\r\n   ...:     return torch.einsum('i,j->ij', x, y)\r\n   ...:\r\n   ...:\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-1-9e23e805a0d0> in <module>()\r\n      1 import torch\r\n----> 2 @torch.jit.script\r\n      3 def fn(x, y):\r\n      4     return torch.einsum('i,j->ij', x, y)\r\n\r\n~/pt/scratch/torch/jit/__init__.py in script(fn, optimize, _frames_up)\r\n    349     rcb = createResolutionCallback(_frames_up + 1)\r\n    350     ast = get_jit_ast(fn, is_method=False)\r\n--> 351     graph = _jit_script_compile(ast, rcb)\r\n    352     mod = ScriptModule()\r\n    353     mod._create_method_from_graph('forward', graph)\r\n\r\nRuntimeError:\r\nunknown builtin op:\r\n@torch.jit.script\r\ndef fn(x, y):\r\n    return torch.einsum('i,j->ij', x, y)\r\n           ~~~~~~~~~~~~ <--- HERE\r\n```"}