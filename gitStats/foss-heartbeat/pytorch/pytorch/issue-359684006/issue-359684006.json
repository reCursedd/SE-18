{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11607", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11607/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11607/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11607/events", "html_url": "https://github.com/pytorch/pytorch/pull/11607", "id": 359684006, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE1MTIxMDA5", "number": 11607, "title": "Adding .expand method for TransformedDistribution", "user": {"login": "neerajprad", "id": 1762463, "node_id": "MDQ6VXNlcjE3NjI0NjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1762463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neerajprad", "html_url": "https://github.com/neerajprad", "followers_url": "https://api.github.com/users/neerajprad/followers", "following_url": "https://api.github.com/users/neerajprad/following{/other_user}", "gists_url": "https://api.github.com/users/neerajprad/gists{/gist_id}", "starred_url": "https://api.github.com/users/neerajprad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neerajprad/subscriptions", "organizations_url": "https://api.github.com/users/neerajprad/orgs", "repos_url": "https://api.github.com/users/neerajprad/repos", "events_url": "https://api.github.com/users/neerajprad/events{/privacy}", "received_events_url": "https://api.github.com/users/neerajprad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-12T23:06:46Z", "updated_at": "2018-11-23T15:51:15Z", "closed_at": "2018-09-14T14:57:03Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/11607", "html_url": "https://github.com/pytorch/pytorch/pull/11607", "diff_url": "https://github.com/pytorch/pytorch/pull/11607.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/11607.patch"}, "body_html": "<p>This PR:</p>\n<ul>\n<li>adds a <code>.expand</code> method for <code>TransformedDistribution</code> along the lines of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357782489\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11341\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11341/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11341\">#11341</a>.</li>\n<li>uses this method to simplify <code>.expand</code> in distribution classes that subclass off of <code>TransformedDistribution</code>.</li>\n<li>restores testing of <code>TransformedDistribution</code> fixtures.</li>\n<li>fixes some bugs wherein we were not setting certain attributes in the expanded instances, and adds tests for <code>.mean</code> and <code>.variance</code> which use these attributes.</li>\n</ul>\n<h3>Motivation:</h3>\n<p>There are many cases where users directly use <code>TransformedDistribution</code> rather than subclassing off it. In such cases, it seems rather inconvenient to have to write a separate class just to define a <code>.expand</code> method. The default implementation should suffice in these cases.</p>\n<p>cc. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=648532\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fritzo\">@fritzo</a>, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23639302\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vishwakftw\">@vishwakftw</a>, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1093846\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alicanb\">@alicanb</a></p>", "body_text": "This PR:\n\nadds a .expand method for TransformedDistribution along the lines of #11341.\nuses this method to simplify .expand in distribution classes that subclass off of TransformedDistribution.\nrestores testing of TransformedDistribution fixtures.\nfixes some bugs wherein we were not setting certain attributes in the expanded instances, and adds tests for .mean and .variance which use these attributes.\n\nMotivation:\nThere are many cases where users directly use TransformedDistribution rather than subclassing off it. In such cases, it seems rather inconvenient to have to write a separate class just to define a .expand method. The default implementation should suffice in these cases.\ncc. @fritzo, @vishwakftw, @alicanb", "body": " This PR:\r\n - adds a `.expand` method for `TransformedDistribution` along the lines of #11341.\r\n - uses this method to simplify `.expand` in distribution classes that subclass off of `TransformedDistribution`.\r\n - restores testing of `TransformedDistribution` fixtures.\r\n - fixes some bugs wherein we were not setting certain attributes in the expanded instances, and adds tests for `.mean` and `.variance` which use these attributes.\r\n\r\n### Motivation:\r\n\r\nThere are many cases where users directly use `TransformedDistribution` rather than subclassing off it. In such cases, it seems rather inconvenient to have to write a separate class just to define a `.expand` method. The default implementation should suffice in these cases.\r\n\r\ncc. @fritzo, @vishwakftw, @alicanb"}