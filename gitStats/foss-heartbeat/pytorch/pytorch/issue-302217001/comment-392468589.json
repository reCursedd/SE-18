{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/392468589", "html_url": "https://github.com/pytorch/pytorch/issues/5566#issuecomment-392468589", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5566", "id": 392468589, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjQ2ODU4OQ==", "user": {"login": "avloss", "id": 17853685, "node_id": "MDQ6VXNlcjE3ODUzNjg1", "avatar_url": "https://avatars3.githubusercontent.com/u/17853685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avloss", "html_url": "https://github.com/avloss", "followers_url": "https://api.github.com/users/avloss/followers", "following_url": "https://api.github.com/users/avloss/following{/other_user}", "gists_url": "https://api.github.com/users/avloss/gists{/gist_id}", "starred_url": "https://api.github.com/users/avloss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avloss/subscriptions", "organizations_url": "https://api.github.com/users/avloss/orgs", "repos_url": "https://api.github.com/users/avloss/repos", "events_url": "https://api.github.com/users/avloss/events{/privacy}", "received_events_url": "https://api.github.com/users/avloss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-28T09:09:44Z", "updated_at": "2018-05-28T09:09:44Z", "author_association": "NONE", "body_html": "<p>For me CUDA on Mac seems completely broken - after fiddling with the system for a long time, I've managed to build it, and got the following error:</p>\n<pre><code>&gt;&gt;&gt; x.cuda()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nRuntimeError: cannot initialize CUDA without ATen_cuda library\n</code></pre>\n<p>Also please note that  I had to change <code>cuda.cmake</code> files because of this issue:</p>\n<ul>\n<li><code>https://gitlab.kitware.com/cmake/cmake/issues/18037</code></li>\n</ul>\n<p>After getting <code>ATen_cuda</code> error I tried installing <code>aten</code> from <code>pytorch/aten</code>, which also failed with</p>\n<pre><code>[ 95%] Linking CXX executable cudnn_test\nUndefined symbols for architecture x86_64:\n  \"at::native::getCudnnHandle()\", referenced from:\n      ____C_A_T_C_H____T_E_S_T____0() in cudnn_test.cpp.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [src/ATen/cudnn_test] Error 1\nmake[1]: *** [src/ATen/CMakeFiles/cudnn_test.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>", "body_text": "For me CUDA on Mac seems completely broken - after fiddling with the system for a long time, I've managed to build it, and got the following error:\n>>> x.cuda()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nRuntimeError: cannot initialize CUDA without ATen_cuda library\n\nAlso please note that  I had to change cuda.cmake files because of this issue:\n\nhttps://gitlab.kitware.com/cmake/cmake/issues/18037\n\nAfter getting ATen_cuda error I tried installing aten from pytorch/aten, which also failed with\n[ 95%] Linking CXX executable cudnn_test\nUndefined symbols for architecture x86_64:\n  \"at::native::getCudnnHandle()\", referenced from:\n      ____C_A_T_C_H____T_E_S_T____0() in cudnn_test.cpp.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [src/ATen/cudnn_test] Error 1\nmake[1]: *** [src/ATen/CMakeFiles/cudnn_test.dir/all] Error 2\nmake: *** [all] Error 2", "body": "For me CUDA on Mac seems completely broken - after fiddling with the system for a long time, I've managed to build it, and got the following error:\r\n\r\n```\r\n>>> x.cuda()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nRuntimeError: cannot initialize CUDA without ATen_cuda library\r\n```\r\n\r\nAlso please note that  I had to change `cuda.cmake` files because of this issue:\r\n- `https://gitlab.kitware.com/cmake/cmake/issues/18037`\r\n\r\nAfter getting `ATen_cuda` error I tried installing `aten` from `pytorch/aten`, which also failed with \r\n```\r\n[ 95%] Linking CXX executable cudnn_test\r\nUndefined symbols for architecture x86_64:\r\n  \"at::native::getCudnnHandle()\", referenced from:\r\n      ____C_A_T_C_H____T_E_S_T____0() in cudnn_test.cpp.o\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [src/ATen/cudnn_test] Error 1\r\nmake[1]: *** [src/ATen/CMakeFiles/cudnn_test.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```"}