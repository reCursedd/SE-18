{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5567", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5567/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5567/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5567/events", "html_url": "https://github.com/pytorch/pytorch/issues/5567", "id": 302225633, "node_id": "MDU6SXNzdWUzMDIyMjU2MzM=", "number": 5567, "title": "torch.from_numpy or torch.XXXtensor doesn't create a tensor anymore but a Variable", "user": {"login": "Diego999", "id": 1092464, "node_id": "MDQ6VXNlcjEwOTI0NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1092464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Diego999", "html_url": "https://github.com/Diego999", "followers_url": "https://api.github.com/users/Diego999/followers", "following_url": "https://api.github.com/users/Diego999/following{/other_user}", "gists_url": "https://api.github.com/users/Diego999/gists{/gist_id}", "starred_url": "https://api.github.com/users/Diego999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Diego999/subscriptions", "organizations_url": "https://api.github.com/users/Diego999/orgs", "repos_url": "https://api.github.com/users/Diego999/repos", "events_url": "https://api.github.com/users/Diego999/events{/privacy}", "received_events_url": "https://api.github.com/users/Diego999/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-05T09:27:50Z", "updated_at": "2018-03-05T16:14:54Z", "closed_at": "2018-03-05T14:49:58Z", "author_association": "NONE", "body_html": "<p>Hi everyone,</p>\n<p>I'm using the function torch.narrow, which was perfectly working in this configuration <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"296785079\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5213\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5213/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5213\">#5213</a> but now I obtained the following error:</p>\n<pre><code>for start_length in nb_sentences_per_doc_start_length:\n            sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\n</code></pre>\n<pre><code>File \"/usr/local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 363, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/Users/diego/Github/DocAgg/pygcn_modified/models.py\", line 197, in forward\n    sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\nTypeError: narrow(): argument 'start' (position 2) must be int, not Variable\n</code></pre>\n<p>Where nb_sentences_per_doc_start_length is a tensor built from torch.from_numpy(np.array([[0, 22], [22, 13]])). This seems to be always the cas, even with <code>torch.FloatTensor([1,2,3])</code> leads to a Variable and not a Tensor.</p>\n<p>Is this expected now ?</p>\n<p>OS: Linux Mint 18.2 Sonya<br>\nPyTorch version: From source (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/66547ca06171812a65afbd82473372aa739a8b2a/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/66547ca06171812a65afbd82473372aa739a8b2a\"><tt>66547ca</tt></a>)<br>\nHow you installed PyTorch (conda, pip, source): pip<br>\nPython version: 3.5<br>\nCUDA/cuDNN version: 9.1/7.1.1 (latest versions)<br>\nGPU models and configuration: Titan Xp 12Go (Driver 390.12)<br>\nGCC version (if compiling from source): (Ubuntu 5.4.0-6ubuntu1~16.04.6) 5.4.0 20160609</p>", "body_text": "Hi everyone,\nI'm using the function torch.narrow, which was perfectly working in this configuration #5213 but now I obtained the following error:\nfor start_length in nb_sentences_per_doc_start_length:\n            sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\n\nFile \"/usr/local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 363, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/Users/diego/Github/DocAgg/pygcn_modified/models.py\", line 197, in forward\n    sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\nTypeError: narrow(): argument 'start' (position 2) must be int, not Variable\n\nWhere nb_sentences_per_doc_start_length is a tensor built from torch.from_numpy(np.array([[0, 22], [22, 13]])). This seems to be always the cas, even with torch.FloatTensor([1,2,3]) leads to a Variable and not a Tensor.\nIs this expected now ?\nOS: Linux Mint 18.2 Sonya\nPyTorch version: From source (66547ca)\nHow you installed PyTorch (conda, pip, source): pip\nPython version: 3.5\nCUDA/cuDNN version: 9.1/7.1.1 (latest versions)\nGPU models and configuration: Titan Xp 12Go (Driver 390.12)\nGCC version (if compiling from source): (Ubuntu 5.4.0-6ubuntu1~16.04.6) 5.4.0 20160609", "body": "Hi everyone,\r\n\r\nI'm using the function torch.narrow, which was perfectly working in this configuration https://github.com/pytorch/pytorch/issues/5213 but now I obtained the following error:\r\n\r\n```\r\nfor start_length in nb_sentences_per_doc_start_length:\r\n            sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\r\n```\r\n\r\n```\r\nFile \"/usr/local/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 363, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/Users/diego/Github/DocAgg/pygcn_modified/models.py\", line 197, in forward\r\n    sentence_embeddings_per_doc = sentence_embeddings.unsqueeze(0).narrow(1, start_length[0], start_length[1])\r\nTypeError: narrow(): argument 'start' (position 2) must be int, not Variable\r\n```\r\n\r\nWhere nb_sentences_per_doc_start_length is a tensor built from torch.from_numpy(np.array([[0, 22], [22, 13]])). This seems to be always the cas, even with ```torch.FloatTensor([1,2,3])``` leads to a Variable and not a Tensor.\r\n\r\nIs this expected now ?\r\n\r\nOS: Linux Mint 18.2 Sonya\r\nPyTorch version: From source (66547ca)\r\nHow you installed PyTorch (conda, pip, source): pip\r\nPython version: 3.5\r\nCUDA/cuDNN version: 9.1/7.1.1 (latest versions)\r\nGPU models and configuration: Titan Xp 12Go (Driver 390.12)\r\nGCC version (if compiling from source): (Ubuntu 5.4.0-6ubuntu1~16.04.6) 5.4.0 20160609"}