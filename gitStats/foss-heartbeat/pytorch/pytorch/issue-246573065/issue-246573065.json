{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2250", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2250/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2250/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2250/events", "html_url": "https://github.com/pytorch/pytorch/issues/2250", "id": 246573065, "node_id": "MDU6SXNzdWUyNDY1NzMwNjU=", "number": 2250, "title": "[build] failed on clean when not building in git repo", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-30T09:28:17Z", "updated_at": "2017-07-30T09:49:40Z", "closed_at": "2017-07-30T09:49:40Z", "author_association": "CONTRIBUTOR", "body_html": "<pre><code>I: pybuild base:184: python3.5 setup.py clean \nfatal: Not a git repository (or any parent up to mount point /)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nrunning clean\nerror: [Errno 2] No such file or directory: '.gitignore'\nE: pybuild pybuild:283: clean: plugin distutils failed with: exit code=1: python3.5 setup.py clean \n</code></pre>\n<pre><code>207 class clean(distutils.command.clean.clean):\n208 \n209     def run(self):\n210         import glob\n211         with open('.gitignore', 'r') as f:\n212             ignores = f.read()\n213             for wildcard in filter(bool, ignores.split('\\n')):\n214                 for filename in glob.glob(wildcard):\n215                     try:\n216                         os.remove(filename)\n217                     except OSError:\n218                         shutil.rmtree(filename, ignore_errors=True)\n219 \n220         # It's an old-style class in Python 2.7...\n221         distutils.command.clean.clean.run(self)\n</code></pre>\n<p>It seems that <code>subprocess.call(['git', 'clean', '-xdf'])</code> can replace the above block.</p>", "body_text": "I: pybuild base:184: python3.5 setup.py clean \nfatal: Not a git repository (or any parent up to mount point /)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nrunning clean\nerror: [Errno 2] No such file or directory: '.gitignore'\nE: pybuild pybuild:283: clean: plugin distutils failed with: exit code=1: python3.5 setup.py clean \n\n207 class clean(distutils.command.clean.clean):\n208 \n209     def run(self):\n210         import glob\n211         with open('.gitignore', 'r') as f:\n212             ignores = f.read()\n213             for wildcard in filter(bool, ignores.split('\\n')):\n214                 for filename in glob.glob(wildcard):\n215                     try:\n216                         os.remove(filename)\n217                     except OSError:\n218                         shutil.rmtree(filename, ignore_errors=True)\n219 \n220         # It's an old-style class in Python 2.7...\n221         distutils.command.clean.clean.run(self)\n\nIt seems that subprocess.call(['git', 'clean', '-xdf']) can replace the above block.", "body": "```\r\nI: pybuild base:184: python3.5 setup.py clean \r\nfatal: Not a git repository (or any parent up to mount point /)\r\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\nrunning clean\r\nerror: [Errno 2] No such file or directory: '.gitignore'\r\nE: pybuild pybuild:283: clean: plugin distutils failed with: exit code=1: python3.5 setup.py clean \r\n```\r\n\r\n```\r\n207 class clean(distutils.command.clean.clean):\r\n208 \r\n209     def run(self):\r\n210         import glob\r\n211         with open('.gitignore', 'r') as f:\r\n212             ignores = f.read()\r\n213             for wildcard in filter(bool, ignores.split('\\n')):\r\n214                 for filename in glob.glob(wildcard):\r\n215                     try:\r\n216                         os.remove(filename)\r\n217                     except OSError:\r\n218                         shutil.rmtree(filename, ignore_errors=True)\r\n219 \r\n220         # It's an old-style class in Python 2.7...\r\n221         distutils.command.clean.clean.run(self)\r\n```\r\nIt seems that `subprocess.call(['git', 'clean', '-xdf'])` can replace the above block."}