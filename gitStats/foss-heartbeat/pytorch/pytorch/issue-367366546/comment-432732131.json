{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/432732131", "html_url": "https://github.com/pytorch/pytorch/issues/12395#issuecomment-432732131", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12395", "id": 432732131, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjczMjEzMQ==", "user": {"login": "anderspapitto", "id": 1388690, "node_id": "MDQ6VXNlcjEzODg2OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1388690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anderspapitto", "html_url": "https://github.com/anderspapitto", "followers_url": "https://api.github.com/users/anderspapitto/followers", "following_url": "https://api.github.com/users/anderspapitto/following{/other_user}", "gists_url": "https://api.github.com/users/anderspapitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/anderspapitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderspapitto/subscriptions", "organizations_url": "https://api.github.com/users/anderspapitto/orgs", "repos_url": "https://api.github.com/users/anderspapitto/repos", "events_url": "https://api.github.com/users/anderspapitto/events{/privacy}", "received_events_url": "https://api.github.com/users/anderspapitto/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-24T16:34:51Z", "updated_at": "2018-10-24T16:34:51Z", "author_association": "MEMBER", "body_html": "<p>We have code that purports to pin hypothesis to an old version, but it doesn't actually work. pip outsmarts us and re-installs the newer version.</p>\n<p>relevant code is</p>\n<pre><code>        # Hotfix, use hypothesis 3.44.6 on Ubuntu 14.04\n        # See comments on https://github.com/HypothesisWorks/hypothesis-python/commit/eadd62e467d6cee6216e71b391951ec25b4f5830\n        if [[ \"$BUILD_ENVIRONMENT\" == *ubuntu14.04* ]]; then\n          sudo pip uninstall -y hypothesis\n          # \"pip install hypothesis==3.44.6\" from official server is unreliable on CircleCI, so we host a copy on S3 instead\n          sudo pip install attrs -f https://s3.amazonaws.com/ossci-linux/wheels/attrs-18.1.0-py2.py3-none-any.whl\n          sudo pip install coverage -f https://s3.amazonaws.com/ossci-linux/wheels/coverage-4.5.1-cp36-cp36m-macosx_10_12_x86_64.whl\n          sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\n        fi\n</code></pre>\n<p>and the relevant bit of logs is</p>\n<pre><code>Oct 24 03:54:38 ++ sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nOct 24 03:54:39 Looking in links: https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\nOct 24 03:54:39 Requirement already satisfied: hypothesis in /usr/local/lib/python2.7/dist-packages (3.76.0)\n</code></pre>", "body_text": "We have code that purports to pin hypothesis to an old version, but it doesn't actually work. pip outsmarts us and re-installs the newer version.\nrelevant code is\n        # Hotfix, use hypothesis 3.44.6 on Ubuntu 14.04\n        # See comments on https://github.com/HypothesisWorks/hypothesis-python/commit/eadd62e467d6cee6216e71b391951ec25b4f5830\n        if [[ \"$BUILD_ENVIRONMENT\" == *ubuntu14.04* ]]; then\n          sudo pip uninstall -y hypothesis\n          # \"pip install hypothesis==3.44.6\" from official server is unreliable on CircleCI, so we host a copy on S3 instead\n          sudo pip install attrs -f https://s3.amazonaws.com/ossci-linux/wheels/attrs-18.1.0-py2.py3-none-any.whl\n          sudo pip install coverage -f https://s3.amazonaws.com/ossci-linux/wheels/coverage-4.5.1-cp36-cp36m-macosx_10_12_x86_64.whl\n          sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\n        fi\n\nand the relevant bit of logs is\nOct 24 03:54:38 ++ sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nOct 24 03:54:39 Looking in links: https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\nOct 24 03:54:39 Requirement already satisfied: hypothesis in /usr/local/lib/python2.7/dist-packages (3.76.0)", "body": "We have code that purports to pin hypothesis to an old version, but it doesn't actually work. pip outsmarts us and re-installs the newer version. \r\n\r\nrelevant code is\r\n\r\n```\r\n        # Hotfix, use hypothesis 3.44.6 on Ubuntu 14.04\r\n        # See comments on https://github.com/HypothesisWorks/hypothesis-python/commit/eadd62e467d6cee6216e71b391951ec25b4f5830\r\n        if [[ \"$BUILD_ENVIRONMENT\" == *ubuntu14.04* ]]; then\r\n          sudo pip uninstall -y hypothesis\r\n          # \"pip install hypothesis==3.44.6\" from official server is unreliable on CircleCI, so we host a copy on S3 instead\r\n          sudo pip install attrs -f https://s3.amazonaws.com/ossci-linux/wheels/attrs-18.1.0-py2.py3-none-any.whl\r\n          sudo pip install coverage -f https://s3.amazonaws.com/ossci-linux/wheels/coverage-4.5.1-cp36-cp36m-macosx_10_12_x86_64.whl\r\n          sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\r\n        fi\r\n```\r\n\r\nand the relevant bit of logs is\r\n\r\n```\r\nOct 24 03:54:38 ++ sudo pip install hypothesis -f https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\r\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nOct 24 03:54:39 The directory '/var/lib/jenkins/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nOct 24 03:54:39 Looking in links: https://s3.amazonaws.com/ossci-linux/wheels/hypothesis-3.44.6-py3-none-any.whl\r\nOct 24 03:54:39 Requirement already satisfied: hypothesis in /usr/local/lib/python2.7/dist-packages (3.76.0)\r\n```"}