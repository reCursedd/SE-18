{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/337682914", "html_url": "https://github.com/pytorch/pytorch/pull/3157#issuecomment-337682914", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3157", "id": 337682914, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzY4MjkxNA==", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-18T18:21:28Z", "updated_at": "2017-10-18T18:21:28Z", "author_association": "MEMBER", "body_html": "<p>Removing StochasticFunctions is important for perf because it allows us to avoid creating <code>grad_fn</code>s for variables which do not require grad. It will lets us make operations on Variables that do not require_grad nearly the same cost as operations on Tensors.</p>\n<p>I don't see an easy path to deprecation.</p>\n<p>I think making the next release 0.3 makes sense. The perf effort is big and a bunch of things have been deprecated, as well as a few other backwards-incompatible changes.</p>\n<p>We could make this the minimal start of a <code>tf.distributions</code> style package. It would look something like this:<br>\n<a href=\"https://gist.github.com/colesbury/fdce3adff50ff92bdd05e31860e94216\">https://gist.github.com/colesbury/fdce3adff50ff92bdd05e31860e94216</a></p>\n<p>It's the same functionality as this PR, but organized as classes with methods. The advantage is that when we do a full <code>tf.distributions</code> effort, we can build on it instead of having to deprecate this change. (The risk is that we get something wrong in this minimal effort that we have to fix later)</p>", "body_text": "Removing StochasticFunctions is important for perf because it allows us to avoid creating grad_fns for variables which do not require grad. It will lets us make operations on Variables that do not require_grad nearly the same cost as operations on Tensors.\nI don't see an easy path to deprecation.\nI think making the next release 0.3 makes sense. The perf effort is big and a bunch of things have been deprecated, as well as a few other backwards-incompatible changes.\nWe could make this the minimal start of a tf.distributions style package. It would look something like this:\nhttps://gist.github.com/colesbury/fdce3adff50ff92bdd05e31860e94216\nIt's the same functionality as this PR, but organized as classes with methods. The advantage is that when we do a full tf.distributions effort, we can build on it instead of having to deprecate this change. (The risk is that we get something wrong in this minimal effort that we have to fix later)", "body": "Removing StochasticFunctions is important for perf because it allows us to avoid creating `grad_fn`s for variables which do not require grad. It will lets us make operations on Variables that do not require_grad nearly the same cost as operations on Tensors.\r\n\r\nI don't see an easy path to deprecation.\r\n\r\nI think making the next release 0.3 makes sense. The perf effort is big and a bunch of things have been deprecated, as well as a few other backwards-incompatible changes.\r\n\r\nWe could make this the minimal start of a `tf.distributions` style package. It would look something like this:\r\nhttps://gist.github.com/colesbury/fdce3adff50ff92bdd05e31860e94216\r\n\r\nIt's the same functionality as this PR, but organized as classes with methods. The advantage is that when we do a full `tf.distributions` effort, we can build on it instead of having to deprecate this change. (The risk is that we get something wrong in this minimal effort that we have to fix later)"}