{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10683", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10683/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10683/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10683/events", "html_url": "https://github.com/pytorch/pytorch/issues/10683", "id": 352149998, "node_id": "MDU6SXNzdWUzNTIxNDk5OTg=", "number": 10683, "title": "Tensor.register_hook is not passing the tensor object to the hook function", "user": {"login": "timmeinhardt", "id": 7427306, "node_id": "MDQ6VXNlcjc0MjczMDY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7427306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timmeinhardt", "html_url": "https://github.com/timmeinhardt", "followers_url": "https://api.github.com/users/timmeinhardt/followers", "following_url": "https://api.github.com/users/timmeinhardt/following{/other_user}", "gists_url": "https://api.github.com/users/timmeinhardt/gists{/gist_id}", "starred_url": "https://api.github.com/users/timmeinhardt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timmeinhardt/subscriptions", "organizations_url": "https://api.github.com/users/timmeinhardt/orgs", "repos_url": "https://api.github.com/users/timmeinhardt/repos", "events_url": "https://api.github.com/users/timmeinhardt/events{/privacy}", "received_events_url": "https://api.github.com/users/timmeinhardt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 466131885, "node_id": "MDU6TGFiZWw0NjYxMzE4ODU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/needs%20discussion", "name": "needs discussion", "color": "cc317c", "default": false}, {"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-20T14:03:44Z", "updated_at": "2018-08-20T19:53:27Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I am currently working with <code>Tensor.register_hook</code> and I want to manipulate the gradients of a parameter with respect to the values of its data, i.e., the weights or bias itself. This would be very easy if <code>self</code> is also passed to the hook function such as for the hooks registered with <code>Module.register_backward_hook </code>. Is there a reason why this is not done? This could be achieved by adding:</p>\n<pre><code>wrapper = functools.partial(hook, self)\nfunctools.update_wrapper(wrapper, hook)\n</code></pre>\n<p>to the <code>register_hook</code> method.</p>", "body_text": "I am currently working with Tensor.register_hook and I want to manipulate the gradients of a parameter with respect to the values of its data, i.e., the weights or bias itself. This would be very easy if self is also passed to the hook function such as for the hooks registered with Module.register_backward_hook . Is there a reason why this is not done? This could be achieved by adding:\nwrapper = functools.partial(hook, self)\nfunctools.update_wrapper(wrapper, hook)\n\nto the register_hook method.", "body": "I am currently working with `Tensor.register_hook` and I want to manipulate the gradients of a parameter with respect to the values of its data, i.e., the weights or bias itself. This would be very easy if `self` is also passed to the hook function such as for the hooks registered with `Module.register_backward_hook `. Is there a reason why this is not done? This could be achieved by adding:\r\n```\r\nwrapper = functools.partial(hook, self)\r\nfunctools.update_wrapper(wrapper, hook)\r\n```\r\nto the `register_hook` method."}