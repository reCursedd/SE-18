{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/212730805", "pull_request_review_id": 149430707, "id": 212730805, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjczMDgwNQ==", "diff_hunk": "@@ -52,27 +52,21 @@ bool isDifferentiable(Node * n) {\n     return true;\n \n   if (n->matches(\"aten::type_as(Tensor self, Tensor other) -> Tensor\")) {\n-    return static_cast<bool>(n->input(1)->type()->cast<TensorType>());\n+    return static_cast<bool>(n->input(1)->type()->cast<CompleteTensorType>());", "path": "torch/csrc/jit/autodiff.cpp", "position": 5, "original_position": 5, "commit_id": "acc2435ce6aed9b51258e32ff56124a11eaacd82", "original_commit_id": "f5efae2e2321a0b7c8dc55819302853040da5cb3", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "I don't understand how this can ever be true. If we don't specialize to sizes then isDifferentiable should never be looking at sizes. Traces do have size annotations in them, but they have to be disregarded when actually optimizing because users may run the trace on a different size.", "created_at": "2018-08-24T19:23:45Z", "updated_at": "2018-11-23T15:49:59Z", "html_url": "https://github.com/pytorch/pytorch/pull/10844#discussion_r212730805", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/10844", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/212730805"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/10844#discussion_r212730805"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/10844"}}, "body_html": "<p>I don't understand how this can ever be true. If we don't specialize to sizes then isDifferentiable should never be looking at sizes. Traces do have size annotations in them, but they have to be disregarded when actually optimizing because users may run the trace on a different size.</p>", "body_text": "I don't understand how this can ever be true. If we don't specialize to sizes then isDifferentiable should never be looking at sizes. Traces do have size annotations in them, but they have to be disregarded when actually optimizing because users may run the trace on a different size."}