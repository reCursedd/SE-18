{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5152", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5152/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5152/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5152/events", "html_url": "https://github.com/pytorch/pytorch/issues/5152", "id": 295783541, "node_id": "MDU6SXNzdWUyOTU3ODM1NDE=", "number": 5152, "title": "Compiling error of master branch", "user": {"login": "lfz", "id": 8953923, "node_id": "MDQ6VXNlcjg5NTM5MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8953923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lfz", "html_url": "https://github.com/lfz", "followers_url": "https://api.github.com/users/lfz/followers", "following_url": "https://api.github.com/users/lfz/following{/other_user}", "gists_url": "https://api.github.com/users/lfz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lfz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lfz/subscriptions", "organizations_url": "https://api.github.com/users/lfz/orgs", "repos_url": "https://api.github.com/users/lfz/repos", "events_url": "https://api.github.com/users/lfz/events{/privacy}", "received_events_url": "https://api.github.com/users/lfz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-09T07:55:28Z", "updated_at": "2018-02-09T17:49:21Z", "closed_at": null, "author_association": "NONE", "body_html": "<ul>\n<li>OS: Ubuntu 14.04</li>\n<li>PyTorch version: master</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Python version: 3.5</li>\n<li>CUDA/cuDNN version: 8.0/ v6</li>\n<li>GPU models and configuration: 8 titan x</li>\n<li>GCC version (if compiling from source): 4.9</li>\n</ul>\n<p>I am trying to compiling the source code from the recent master branch, but it failed. The error log is:</p>\n<blockquote>\n<p>gcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch -I/data/home/liao/Downloads/pytorch/torch/csrc -I/data/home/liao/Download<br>\ns/pytorch/torch/lib/pybind11/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/TH -I/data/home/liao/Downloads<br>\n/pytorch/torch/lib/tmp_install/include/THNN -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/ATen -I/home/liao/anaconda3/lib/python3.5/site-packages/numpy/core/include -I/data/home/l<br>\niao/Downloads/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/THCUNN -I/home/liao/anaconda3/include/python3.5m -c<br>\ntorch/csrc/autograd/python_variable_indexing.cpp -o build/temp.linux-x86_64-3.5/torch/csrc/autograd/python_variable_indexing.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-mis<br>\nsing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN<br>\ntorch/csrc/jit/script/compiler.cpp: At global scope:<br>\ntorch/csrc/jit/script/compiler.cpp:350:41: error: converting to \u2018const AttributeMap {aka const std::unordered_map&lt;std::basic_string, std::pair&lt;double, std::basic_string &gt; &gt;}\u2019 from initial<br>\nizer list would use explicit constructor \u2018std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::unordered_map(std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::size_type, const hasher&amp;, const key_e<br>\nqual&amp;, const allocator_type&amp;) [with _Key = std::basic_string; _Tp = std::pair&lt;double, std::basic_string &gt;; _Hash = std::hash&lt;std::basic_string &gt;; _Pred = std::equal_to&lt;std::basic_st<br>\nring &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::basic_string, std::pair&lt;double, std::basic_string &gt; &gt; &gt;; std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::size_type = long u<br>\nnsigned int; std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::hasher = std::hash&lt;std::basic_string &gt;; std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::key_equal = std::equal_to&lt;std::bas<br>\nic_string &gt;; std::unordered_map&lt;_Key, _Tp, _Hash, _Pred, _Alloc&gt;::allocator_type = std::allocator&lt;std::pair&lt;const std::basic_string, std::pair&lt;double, std::basic_string &gt; &gt; &gt;]\u2019<br>\nconst AttributeMap&amp; attributes = {},<br>\n^</p>\n</blockquote>\n<p>I believe it is caused by the recently modification in torch/csrc/jit/script/compiler.cpp (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/3e856137518da977ea08468d5cf2c2aa8d547370/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/3e856137518da977ea08468d5cf2c2aa8d547370\"><tt>3e85613</tt></a>)</p>", "body_text": "OS: Ubuntu 14.04\nPyTorch version: master\nHow you installed PyTorch (conda, pip, source): source\nPython version: 3.5\nCUDA/cuDNN version: 8.0/ v6\nGPU models and configuration: 8 titan x\nGCC version (if compiling from source): 4.9\n\nI am trying to compiling the source code from the recent master branch, but it failed. The error log is:\n\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch -I/data/home/liao/Downloads/pytorch/torch/csrc -I/data/home/liao/Download\ns/pytorch/torch/lib/pybind11/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/TH -I/data/home/liao/Downloads\n/pytorch/torch/lib/tmp_install/include/THNN -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/ATen -I/home/liao/anaconda3/lib/python3.5/site-packages/numpy/core/include -I/data/home/l\niao/Downloads/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/THCUNN -I/home/liao/anaconda3/include/python3.5m -c\ntorch/csrc/autograd/python_variable_indexing.cpp -o build/temp.linux-x86_64-3.5/torch/csrc/autograd/python_variable_indexing.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-mis\nsing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\ntorch/csrc/jit/script/compiler.cpp: At global scope:\ntorch/csrc/jit/script/compiler.cpp:350:41: error: converting to \u2018const AttributeMap {aka const std::unordered_map<std::basic_string, std::pair<double, std::basic_string > >}\u2019 from initial\nizer list would use explicit constructor \u2018std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::unordered_map(std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::size_type, const hasher&, const key_e\nqual&, const allocator_type&) [with _Key = std::basic_string; _Tp = std::pair<double, std::basic_string >; _Hash = std::hash<std::basic_string >; _Pred = std::equal_to<std::basic_st\nring >; _Alloc = std::allocator<std::pair<const std::basic_string, std::pair<double, std::basic_string > > >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::size_type = long u\nnsigned int; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::hasher = std::hash<std::basic_string >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::key_equal = std::equal_to<std::bas\nic_string >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::allocator_type = std::allocator<std::pair<const std::basic_string, std::pair<double, std::basic_string > > >]\u2019\nconst AttributeMap& attributes = {},\n^\n\nI believe it is caused by the recently modification in torch/csrc/jit/script/compiler.cpp (3e85613)", "body": "- OS: Ubuntu 14.04\r\n- PyTorch version: master\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Python version: 3.5\r\n- CUDA/cuDNN version: 8.0/ v6\r\n- GPU models and configuration: 8 titan x\r\n- GCC version (if compiling from source): 4.9\r\n\r\n\r\nI am trying to compiling the source code from the recent master branch, but it failed. The error log is:\r\n\r\n\r\n> gcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch -I/data/home/liao/Downloads/pytorch/torch/csrc -I/data/home/liao/Download\r\ns/pytorch/torch/lib/pybind11/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/TH -I/data/home/liao/Downloads\r\n/pytorch/torch/lib/tmp_install/include/THNN -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/ATen -I/home/liao/anaconda3/lib/python3.5/site-packages/numpy/core/include -I/data/home/l\r\niao/Downloads/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/data/home/liao/Downloads/pytorch/torch/lib/tmp_install/include/THCUNN -I/home/liao/anaconda3/include/python3.5m -c\r\n torch/csrc/autograd/python_variable_indexing.cpp -o build/temp.linux-x86_64-3.5/torch/csrc/autograd/python_variable_indexing.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-mis\r\nsing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\r\ntorch/csrc/jit/script/compiler.cpp: At global scope:\r\ntorch/csrc/jit/script/compiler.cpp:350:41: error: converting to \u2018const AttributeMap {aka const std::unordered_map<std::basic_string<char>, std::pair<double, std::basic_string<char> > >}\u2019 from initial\r\nizer list would use explicit constructor \u2018std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::unordered_map(std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::size_type, const hasher&, const key_e\r\nqual&, const allocator_type&) [with _Key = std::basic_string<char>; _Tp = std::pair<double, std::basic_string<char> >; _Hash = std::hash<std::basic_string<char> >; _Pred = std::equal_to<std::basic_st\r\nring<char> >; _Alloc = std::allocator<std::pair<const std::basic_string<char>, std::pair<double, std::basic_string<char> > > >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::size_type = long u\r\nnsigned int; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::hasher = std::hash<std::basic_string<char> >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::key_equal = std::equal_to<std::bas\r\nic_string<char> >; std::unordered_map<_Key, _Tp, _Hash, _Pred, _Alloc>::allocator_type = std::allocator<std::pair<const std::basic_string<char>, std::pair<double, std::basic_string<char> > > >]\u2019\r\n       const AttributeMap& attributes = {},\r\n                                         ^\r\n\r\n\r\nI believe it is caused by the recently modification in torch/csrc/jit/script/compiler.cpp (3e856137518da977ea08468d5cf2c2aa8d547370)"}