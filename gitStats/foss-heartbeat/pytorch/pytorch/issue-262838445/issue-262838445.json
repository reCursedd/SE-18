{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2975", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2975/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2975/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2975/events", "html_url": "https://github.com/pytorch/pytorch/pull/2975", "id": 262838445, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ0NzA3NDc4", "number": 2975, "title": "Make ATen able to wrap Bernoulli", "user": {"login": "killeent", "id": 4529377, "node_id": "MDQ6VXNlcjQ1MjkzNzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4529377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killeent", "html_url": "https://github.com/killeent", "followers_url": "https://api.github.com/users/killeent/followers", "following_url": "https://api.github.com/users/killeent/following{/other_user}", "gists_url": "https://api.github.com/users/killeent/gists{/gist_id}", "starred_url": "https://api.github.com/users/killeent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killeent/subscriptions", "organizations_url": "https://api.github.com/users/killeent/orgs", "repos_url": "https://api.github.com/users/killeent/repos", "events_url": "https://api.github.com/users/killeent/events{/privacy}", "received_events_url": "https://api.github.com/users/killeent/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-10-04T15:49:21Z", "updated_at": "2018-08-15T18:15:17Z", "closed_at": "2018-08-15T18:15:17Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/2975", "html_url": "https://github.com/pytorch/pytorch/pull/2975", "diff_url": "https://github.com/pytorch/pytorch/pull/2975.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/2975.patch"}, "body_html": "<p>I'm not super elated about how I went about this. I essentially needed to do two things:</p>\n<ol>\n<li>Add a new function <code>bernoulli_Tensor</code> that is defined for Float/Double Tensors, to replace the need for macros in the cwrap</li>\n<li>Add support for <code>BackendFloatTensor</code> and <code>BackendDoubleTensor</code> to ATen. These are hacks needed to get an appropriately typed Tensor for the PyTorch bernoulli wrapping, that I had to also handle in ATen</li>\n</ol>\n<p>Needed to fully finish off all of the unsupported methods, combined with <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"262529213\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/zdevito/ATen/issues/76\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/zdevito/ATen/pull/76/hovercard\" href=\"https://github.com/zdevito/ATen/pull/76\">zdevito/ATen#76</a>.</p>\n<p><strong>Caveat:</strong> This doesn't bind (in ATen) taking a <code>DoubleTensor</code> as a probability vector.</p>", "body_text": "I'm not super elated about how I went about this. I essentially needed to do two things:\n\nAdd a new function bernoulli_Tensor that is defined for Float/Double Tensors, to replace the need for macros in the cwrap\nAdd support for BackendFloatTensor and BackendDoubleTensor to ATen. These are hacks needed to get an appropriately typed Tensor for the PyTorch bernoulli wrapping, that I had to also handle in ATen\n\nNeeded to fully finish off all of the unsupported methods, combined with zdevito/ATen#76.\nCaveat: This doesn't bind (in ATen) taking a DoubleTensor as a probability vector.", "body": "I'm not super elated about how I went about this. I essentially needed to do two things:\r\n\r\n1. Add a new function `bernoulli_Tensor` that is defined for Float/Double Tensors, to replace the need for macros in the cwrap\r\n2. Add support for `BackendFloatTensor` and `BackendDoubleTensor` to ATen. These are hacks needed to get an appropriately typed Tensor for the PyTorch bernoulli wrapping, that I had to also handle in ATen\r\n\r\nNeeded to fully finish off all of the unsupported methods, combined with https://github.com/zdevito/ATen/pull/76.\r\n\r\n**Caveat:** This doesn't bind (in ATen) taking a `DoubleTensor` as a probability vector."}