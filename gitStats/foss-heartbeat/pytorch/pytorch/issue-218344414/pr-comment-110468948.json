{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/110468948", "pull_request_review_id": 31644119, "id": 110468948, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExMDQ2ODk0OA==", "diff_hunk": "@@ -4,11 +4,14 @@\n #include <THC/THC.h>\n #include <THS/THSTensor.h>\n \n+#include \"THCSparse.h\"\n+\n #define THCSTensor          TH_CONCAT_3(THCS,Real,Tensor)\n #define THCSTensor_(NAME)   TH_CONCAT_4(THCS,Real,Tensor_,NAME)\n \n #define THCIndexTensor          THCudaLongTensor\n-#define THCIndexTensor_(NAME)   THCudaLongTensor_ ## NAME\n+#define THCIndexTensor_(NAME)   TH_CONCAT_2(THCudaLongTensor_,NAME)\n+#define integer                 long", "path": "torch/lib/THCS/THCSTensor.h", "position": null, "original_position": 12, "commit_id": "f4105bcbb3dc4ebc23f20112949a0de79e24d978", "original_commit_id": "8e4660ac5145c4a48e35620f8810fa8863cb7b50", "user": {"login": "martinraison", "id": 2560662, "node_id": "MDQ6VXNlcjI1NjA2NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2560662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinraison", "html_url": "https://github.com/martinraison", "followers_url": "https://api.github.com/users/martinraison/followers", "following_url": "https://api.github.com/users/martinraison/following{/other_user}", "gists_url": "https://api.github.com/users/martinraison/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinraison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinraison/subscriptions", "organizations_url": "https://api.github.com/users/martinraison/orgs", "repos_url": "https://api.github.com/users/martinraison/repos", "events_url": "https://api.github.com/users/martinraison/events{/privacy}", "received_events_url": "https://api.github.com/users/martinraison/received_events", "type": "User", "site_admin": false}, "body": "actually things are not as nice as I thought. Switching from long to int or something else requires a bunch of code modifications anyway (for example if you're using int, some cuSPARSE conversions become unnecessary). Since this is currently only used in one place I'll remove it and just use `long` to avoid confusing the reader with too many macros.", "created_at": "2017-04-07T19:50:29Z", "updated_at": "2018-11-23T15:33:04Z", "html_url": "https://github.com/pytorch/pytorch/pull/1147#discussion_r110468948", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/1147", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/110468948"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/1147#discussion_r110468948"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/1147"}}, "body_html": "<p>actually things are not as nice as I thought. Switching from long to int or something else requires a bunch of code modifications anyway (for example if you're using int, some cuSPARSE conversions become unnecessary). Since this is currently only used in one place I'll remove it and just use <code>long</code> to avoid confusing the reader with too many macros.</p>", "body_text": "actually things are not as nice as I thought. Switching from long to int or something else requires a bunch of code modifications anyway (for example if you're using int, some cuSPARSE conversions become unnecessary). Since this is currently only used in one place I'll remove it and just use long to avoid confusing the reader with too many macros.", "in_reply_to_id": 109170300}