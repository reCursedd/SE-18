{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/109166880", "pull_request_review_id": 30253008, "id": 109166880, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwOTE2Njg4MA==", "diff_hunk": "@@ -119,13 +119,22 @@ def assertEqual(self, x, y, prec=None, message=''):\n \n         if torch.is_tensor(x) and torch.is_tensor(y):\n             def assertTensorsEqual(a, b):\n-                max_err = 0\n                 super(TestCase, self).assertEqual(a.size(), b.size())\n-                for index in iter_indices(a):\n-                    max_err = max(max_err, abs(a[index] - b[index]))\n-                self.assertLessEqual(max_err, prec, message)\n+                if a.numel() > 0:", "path": "test/common.py", "position": 23, "original_position": 9, "commit_id": "f4105bcbb3dc4ebc23f20112949a0de79e24d978", "original_commit_id": "8e4660ac5145c4a48e35620f8810fa8863cb7b50", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "I'm ok with this change, as long as you add or modify the tests for all operations in here to explicitly loop over indices. Otherwise, e.g. if someone breaks `max()`, the tests will be broken and may not find that error.", "created_at": "2017-03-31T14:04:26Z", "updated_at": "2018-11-23T15:32:55Z", "html_url": "https://github.com/pytorch/pytorch/pull/1147#discussion_r109166880", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/1147", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/109166880"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/1147#discussion_r109166880"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/1147"}}, "body_html": "<p>I'm ok with this change, as long as you add or modify the tests for all operations in here to explicitly loop over indices. Otherwise, e.g. if someone breaks <code>max()</code>, the tests will be broken and may not find that error.</p>", "body_text": "I'm ok with this change, as long as you add or modify the tests for all operations in here to explicitly loop over indices. Otherwise, e.g. if someone breaks max(), the tests will be broken and may not find that error."}