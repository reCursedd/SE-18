{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/440760380", "html_url": "https://github.com/pytorch/pytorch/pull/14271#issuecomment-440760380", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/14271", "id": 440760380, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDc2MDM4MA==", "user": {"login": "teng-li", "id": 8120856, "node_id": "MDQ6VXNlcjgxMjA4NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8120856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teng-li", "html_url": "https://github.com/teng-li", "followers_url": "https://api.github.com/users/teng-li/followers", "following_url": "https://api.github.com/users/teng-li/following{/other_user}", "gists_url": "https://api.github.com/users/teng-li/gists{/gist_id}", "starred_url": "https://api.github.com/users/teng-li/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teng-li/subscriptions", "organizations_url": "https://api.github.com/users/teng-li/orgs", "repos_url": "https://api.github.com/users/teng-li/repos", "events_url": "https://api.github.com/users/teng-li/events{/privacy}", "received_events_url": "https://api.github.com/users/teng-li/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-21T18:06:05Z", "updated_at": "2018-11-21T18:06:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Pieter. I think you are right. I was under the impression that the PG has a single NCCL stream from my memory since I wrote this entire class. These multiple stream need to be considered.</p>\n<p>A third way of doing it is to synchronize on all the NCCL streams of every device we touched. This would be better than doing cudaDeviceSynchronize</p>", "body_text": "Pieter. I think you are right. I was under the impression that the PG has a single NCCL stream from my memory since I wrote this entire class. These multiple stream need to be considered.\nA third way of doing it is to synchronize on all the NCCL streams of every device we touched. This would be better than doing cudaDeviceSynchronize", "body": "Pieter. I think you are right. I was under the impression that the PG has a single NCCL stream from my memory since I wrote this entire class. These multiple stream need to be considered.\r\n\r\nA third way of doing it is to synchronize on all the NCCL streams of every device we touched. This would be better than doing cudaDeviceSynchronize "}