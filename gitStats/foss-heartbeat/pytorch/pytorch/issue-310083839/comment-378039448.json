{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/378039448", "html_url": "https://github.com/pytorch/pytorch/pull/6132#issuecomment-378039448", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6132", "id": 378039448, "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODAzOTQ0OA==", "user": {"login": "yf225", "id": 4063635, "node_id": "MDQ6VXNlcjQwNjM2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4063635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yf225", "html_url": "https://github.com/yf225", "followers_url": "https://api.github.com/users/yf225/followers", "following_url": "https://api.github.com/users/yf225/following{/other_user}", "gists_url": "https://api.github.com/users/yf225/gists{/gist_id}", "starred_url": "https://api.github.com/users/yf225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yf225/subscriptions", "organizations_url": "https://api.github.com/users/yf225/orgs", "repos_url": "https://api.github.com/users/yf225/repos", "events_url": "https://api.github.com/users/yf225/events{/privacy}", "received_events_url": "https://api.github.com/users/yf225/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-02T20:48:15Z", "updated_at": "2018-04-02T20:48:15Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20233731\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mingfeima\">@mingfeima</a> Thanks a lot for the advice - we will move over to use Convnet for our benchmark.</p>\n<p>Currently we are using <a href=\"https://www.apple.com/shop/product/MD388LL/A/mac-mini-23ghz-quad-core-intel-core-i7\" rel=\"nofollow\">Mac mini i7</a> as our test machine, which is using <a href=\"https://ark.intel.com/products/64900/Intel-Core-i7-3615QM-Processor-6M-Cache-up-to-3_30-GHz\" rel=\"nofollow\">2.3GHz<br>\ni7-3615</a>. We will be moving our test machine to <a href=\"https://www.packet.net/bare-metal/servers/tiny/\" rel=\"nofollow\">Packet Tiny</a> which has <a href=\"https://ark.intel.com/products/77982/Intel-Atom-Processor-C2550-2M-Cache-2_40-GHz\" rel=\"nofollow\">Atom C2550</a> on it.</p>\n<p>The test machines would probably only have 4 cores - are the improvements we have mostly on CPUs that have more cores?</p>\n<p>Also we are in the process of revamping our CPU perf test setup, and one issue is that wall-clock runtime for CPU perf tests is not reliable since we can't guarantee that there won't be other programs running on the machine at the time. We are thinking about using <code>perf stat -e instructions</code> to count the # of instructions executed instead, and I am curious do you think this metric would also improve when we move over to mkldnn? Thanks!</p>", "body_text": "@mingfeima Thanks a lot for the advice - we will move over to use Convnet for our benchmark.\nCurrently we are using Mac mini i7 as our test machine, which is using 2.3GHz\ni7-3615. We will be moving our test machine to Packet Tiny which has Atom C2550 on it.\nThe test machines would probably only have 4 cores - are the improvements we have mostly on CPUs that have more cores?\nAlso we are in the process of revamping our CPU perf test setup, and one issue is that wall-clock runtime for CPU perf tests is not reliable since we can't guarantee that there won't be other programs running on the machine at the time. We are thinking about using perf stat -e instructions to count the # of instructions executed instead, and I am curious do you think this metric would also improve when we move over to mkldnn? Thanks!", "body": "@mingfeima Thanks a lot for the advice - we will move over to use Convnet for our benchmark. \r\n\r\nCurrently we are using [Mac mini i7](https://www.apple.com/shop/product/MD388LL/A/mac-mini-23ghz-quad-core-intel-core-i7) as our test machine, which is using [2.3GHz\r\ni7-3615](https://ark.intel.com/products/64900/Intel-Core-i7-3615QM-Processor-6M-Cache-up-to-3_30-GHz). We will be moving our test machine to [Packet Tiny](https://www.packet.net/bare-metal/servers/tiny/) which has [Atom C2550](https://ark.intel.com/products/77982/Intel-Atom-Processor-C2550-2M-Cache-2_40-GHz) on it.\r\n\r\nThe test machines would probably only have 4 cores - are the improvements we have mostly on CPUs that have more cores?\r\n\r\nAlso we are in the process of revamping our CPU perf test setup, and one issue is that wall-clock runtime for CPU perf tests is not reliable since we can't guarantee that there won't be other programs running on the machine at the time. We are thinking about using `perf stat -e instructions` to count the # of instructions executed instead, and I am curious do you think this metric would also improve when we move over to mkldnn? Thanks!"}