{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8781", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8781/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8781/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8781/events", "html_url": "https://github.com/pytorch/pytorch/issues/8781", "id": 334725775, "node_id": "MDU6SXNzdWUzMzQ3MjU3NzU=", "number": 8781, "title": "Build system can not find cuda correctly", "user": {"login": "zasdfgbnm", "id": 1032377, "node_id": "MDQ6VXNlcjEwMzIzNzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1032377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zasdfgbnm", "html_url": "https://github.com/zasdfgbnm", "followers_url": "https://api.github.com/users/zasdfgbnm/followers", "following_url": "https://api.github.com/users/zasdfgbnm/following{/other_user}", "gists_url": "https://api.github.com/users/zasdfgbnm/gists{/gist_id}", "starred_url": "https://api.github.com/users/zasdfgbnm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zasdfgbnm/subscriptions", "organizations_url": "https://api.github.com/users/zasdfgbnm/orgs", "repos_url": "https://api.github.com/users/zasdfgbnm/repos", "events_url": "https://api.github.com/users/zasdfgbnm/events{/privacy}", "received_events_url": "https://api.github.com/users/zasdfgbnm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2018-06-22T02:43:24Z", "updated_at": "2018-06-24T12:08:35Z", "closed_at": "2018-06-24T04:58:03Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Issue description</h2>\n<p>I'm building with</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> PATH=/usr/local/cuda-9.1/bin:<span class=\"pl-smi\">$PATH</span>\n<span class=\"pl-k\">export</span> CMAKE_PREFIX_PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-s\"><span class=\"pl-pds\">$(</span>dirname <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>which conda<span class=\"pl-pds\">)</span></span><span class=\"pl-pds\">)</span></span>/../<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">export</span> CC=gcc-6\n<span class=\"pl-k\">export</span> CXX=g++-6\n<span class=\"pl-k\">export</span> CUDA_HOME=/usr/local/cuda-9.1\n<span class=\"pl-k\">export</span> USE_CUDA=1\npython setup.py clean install</pre></div>\n<p>Part of the build are able to find cuda correctly, but other part have trouble finding cuda:</p>\n<pre><code>-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:11 (message):\n</code></pre>\n<p>The more detailed output (some useless lines deleted) is</p>\n<pre><code>running clean\nrunning install\nrunning build_deps\n+ USE_CUDA=0\n+ USE_ROCM=0\n+ USE_NNPACK=0\n+ USE_MKLDNN=0\n+ USE_GLOO_IBVERBS=0\n+ USE_DISTRIBUTED_MW=0\n+ FULL_CAFFE2=0\n+ [[ 10 -gt 0 ]]\n+ case \"$1\" in\n+ USE_CUDA=1\n+ shift\n+ [[ 9 -gt 0 ]]\n+ case \"$1\" in\n+ USE_NNPACK=1\n+ shift\n+ [[ 8 -gt 0 ]]\n+ case \"$1\" in\n+ USE_MKLDNN=1\n+ shift\n+ [[ 7 -gt 0 ]]\n+ case \"$1\" in\n+ break\n+ CMAKE_INSTALL='ninja install'\n+ USER_CFLAGS=\n+ USER_LDFLAGS=\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n++ dirname tools/build_pytorch_libs.sh\n+ cd tools/..\n+++ pwd\n++ printf '%q\\n' /home/gaoxiang/pytorch\n+ PWD=/home/gaoxiang/pytorch\n+ BASE_DIR=/home/gaoxiang/pytorch\n+ TORCH_LIB_DIR=/home/gaoxiang/pytorch/torch/lib\n+ INSTALL_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ THIRD_PARTY_DIR=/home/gaoxiang/pytorch/third_party\n+ CMAKE_VERSION=cmake\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\"'\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\" '\n+ LD_POSTFIX=.so\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'\n+ CPP_FLAGS=' -std=c++11 '\n+ GLOO_FLAGS=\n+ THD_FLAGS=\n+ NCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ [[ 1 -eq 1 ]]\n+ GLOO_FLAGS='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install'\n+ [[ 0 -eq 1 ]]\n+ [[ 0 -eq 1 ]]\n+ CWRAP_FILES='/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml'\n+ CUDA_NVCC_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\n+ [[ -z '' ]]\n+ CUDA_DEVICE_DEBUG=0\n+ '[' -z 24 ']'\n+ BUILD_TYPE=Release\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n+ echo 'Building in Release mode'\nBuilding in Release mode\n+ mkdir -p torch/lib/tmp_install\n+ for arg in '\"$@\"'\n+ [[ nccl == \\n\\c\\c\\l ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build_nccl\n+ path_remove /opt/cache/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ export CUDA_NVCC_EXECUTABLE_SAVED=\n+ CUDA_NVCC_EXECUTABLE_SAVED=\n++ which nvcc\n+ export CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\n+ CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\n+ mkdir -p build/nccl\n+ pushd build/nccl\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gaoxiang/pytorch/cmake/public/utils.cmake\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Found CUDA: /usr/local/cuda-9.1 (found suitable version \"9.1\", minimum required is \"7.0\") \n-- Autodetected CUDA architecture(s): 6.1 6.1 6.1 6.1 \n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nccl\n+ ninja install\n[1/2] Generating lib/libnccl.so\nGrabbing  src/nccl.h                          &gt; /home/gaoxiang/pytorch/third_party/build/nccl/include/nccl.h\nCompiling src/libwrap.cu                      &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/libwrap.o\nCompiling src/core.cu                         &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/core.o\nCompiling src/all_gather.cu                   &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu                   &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_reduce.o\nCompiling src/broadcast.cu                    &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/broadcast.o\nCompiling src/reduce.cu                       &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce.o\nCompiling src/reduce_scatter.cu               &gt; /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce_scatter.o\nLinking   libnccl.so.1.3.5                    &gt; /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl.so.1.3.5\nArchiving libnccl_static.a                    &gt; /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl_static.a\n[1/2] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n+ mkdir -p /home/gaoxiang/pytorch/torch/lib/tmp_install/lib\n+ cp lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1\n+ '[' '!' -f /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so ']'\n+ ln -s /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n+ popd\n~/pytorch/third_party ~/pytorch\n+ export CUDA_NVCC_EXECUTABLE=\n+ CUDA_NVCC_EXECUTABLE=\n+ export PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ caffe2 == \\n\\c\\c\\l ]]\n+ [[ caffe2 == \\g\\l\\o\\o ]]\n+ [[ caffe2 == \\c\\a\\f\\f\\e\\2 ]]\n+ pushd /home/gaoxiang/pytorch\n~/pytorch ~/pytorch\n+ build_caffe2\n+ mkdir -p build\n+ pushd build\n~/pytorch/build ~/pytorch ~/pytorch\n+ cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release -DBUILD_CAFFE2=0 -DBUILD_ATEN=ON -DBUILD_PYTHON=0 -DBUILD_BINARY=OFF -DBUILD_SHARED_LIBS=ON -DONNX_NAMESPACE=onnx_torch -DUSE_CUDA=1 -DUSE_ROCM=0 -DUSE_NNPACK=1 -DCUDNN_INCLUDE_DIR=/usr/include/ -DCUDNN_LIB_DIR=/usr/lib/x86_64-linux-gnu/ -DCUDNN_LIBRARY=/usr/lib/x86_64-linux-gnu/libcudnn.so.6 -DUSE_MKLDNN=1 -DMKLDNN_INCLUDE_DIR=/home/gaoxiang/anaconda3/bin/../include -DMKLDNN_LIB_DIR=/home/gaoxiang/anaconda3/bin/../lib -DMKLDNN_LIBRARY=/home/gaoxiang/anaconda3/bin/../lib/libmkldnn.so -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -DCMAKE_C_FLAGS= -DCMAKE_CXX_FLAGS= -DCMAKE_EXE_LINKER_FLAGS= -DCMAKE_SHARED_LINKER_FLAGS=\n-- The CXX compiler identification is GNU 6.4.0\n-- The C compiler identification is GNU 6.4.0\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Not forcing any particular BLAS to be found\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\n-- Does not need to define long separately.\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\n-- std::exception_ptr is supported.\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\n-- NUMA is available\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2 protobuf include directory: $&lt;BUILD_INTERFACE:/home/gaoxiang/pytorch/third_party/protobuf/src&gt;$&lt;INSTALL_INTERFACE:include&gt;\n-- The BLAS backend of choice:MKL\n-- Looking for sys/types.h\n-- Looking for sys/types.h - found\n-- Looking for stdint.h\n-- Looking for stdint.h - found\n-- Looking for stddef.h\n-- Looking for stddef.h - found\n-- Check size of void*\n-- Check size of void* - done\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf_lp64: /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so\n--   Library mkl_gnu_thread: /opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so\n--   Library mkl_core: /opt/intel/mkl/lib/intel64/libmkl_core.so\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Found OpenMP: TRUE (found version \"4.5\")  \n--   Library gomp: -fopenmp\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\n-- Looking for cblas_sgemm\n-- Looking for cblas_sgemm - found\n-- Brace yourself, we are building NNPACK\n-- The ASM compiler identification is GNU\n-- Found assembler: /usr/bin/gcc-6\n-- Found PythonInterp: /home/gaoxiang/anaconda3/bin/python (found version \"3.6.3\") \n-- Check if compiler accepts -pthread\n-- Check if compiler accepts -pthread - yes\n-- Found Numa: /usr/include  \n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\nCMake Warning at cmake/Dependencies.cmake:310 (find_package):\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\n  CMake did not find one.\n\n  Could not find a package configuration file provided by \"Eigen3\" with any\n  of the following names:\n\n    Eigen3Config.cmake\n    eigen3-config.cmake\n\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\n  provides a separate development package or SDK, be sure it has been\n  installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\n-- Did not find system Eigen. Using third party subdirectory.\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:11 (message):\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\n  or a Caffe2 dependent library, the next warning / error will give you more\n  info.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:413 (include)\n  CMakeLists.txt:181 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:442 (message):\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:518 (message):\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\n  -DUSE_NCCL=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\n-- Performing Test SUPPORT_GLIBCXX_USE_C99\n-- Performing Test SUPPORT_GLIBCXX_USE_C99 - Success\n-- Found gcc &gt;=5 and CUDA &lt;= 7.5, adding workaround C++ flags\n-- Found CUDA with FP16 support, compiling with torch.cuda.HalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- Performing Test COMPILER_WORKS\n-- Performing Test COMPILER_WORKS - Success\n-- Looking for cpuid.h\n-- Looking for cpuid.h - found\n-- Performing Test HAVE_GCC_GET_CPUID\n-- Performing Test HAVE_GCC_GET_CPUID - Success\n-- Performing Test NO_GCC_EBX_FPIC_BUG\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success\n-- Performing Test .......... some SSE and AVX tests ..........\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n-- Performing Test HAS_C11_ATOMICS\n-- Performing Test HAS_C11_ATOMICS - Failed\n-- Performing Test HAS_MSC_ATOMICS\n-- Performing Test HAS_MSC_ATOMICS - Failed\n-- Performing Test HAS_GCC_ATOMICS\n-- Performing Test HAS_GCC_ATOMICS - Success\n-- Atomics: using GCC intrinsics\n-- Performing Test BLAS_F2C_DOUBLE_WORKS\n-- Performing Test BLAS_F2C_DOUBLE_WORKS - Failed\n-- Performing Test BLAS_F2C_FLOAT_WORKS\n-- Performing Test BLAS_F2C_FLOAT_WORKS - Success\n-- Performing Test BLAS_USE_CBLAS_DOT\n-- Performing Test BLAS_USE_CBLAS_DOT - Success\n-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NOT USE_CUDA is set\n-- CuDNN not found. Compiling without CuDNN support\n-- Found MKLDNN: /home/gaoxiang/anaconda3/include  \n-- Found MKLDNN      (include: /home/gaoxiang/anaconda3/include, library: /home/gaoxiang/anaconda3/lib/libmkldnn.so)\n-- Looking for clock_gettime in rt\n-- Looking for clock_gettime in rt - found\n-- Looking for mmap\n-- Looking for mmap - found\n-- Looking for shm_open\n-- Looking for shm_open - found\n-- Looking for shm_unlink\n-- Looking for shm_unlink - found\n-- Looking for malloc_usable_size\n-- Looking for malloc_usable_size - found\n-- Performing Test C_HAS_THREAD\n-- Performing Test C_HAS_THREAD - Success\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line\n-- Using python found in /home/gaoxiang/anaconda3/bin/python\ndisabling CUDA because USE_CUDA is set false\n-- Check size of long double\n-- Check size of long double - done\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success\n-- Performing Test COMPILER_SUPPORTS_FLOAT128\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Success\n-- Performing Test COMPILER_SUPPORTS_SSE2\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success\n-- Performing Test COMPILER_SUPPORTS_SSE4\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX\n-- Performing Test COMPILER_SUPPORTS_AVX - Success\n-- Performing Test COMPILER_SUPPORTS_FMA4\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX2\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success\n-- Performing Test COMPILER_SUPPORTS_SVE\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed\n-- Performing Test COMPILER_SUPPORTS_AVX512F\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Failed\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Performing Test COMPILER_SUPPORTS_OPENMP\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Success\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Success\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success\n-- Configuring build for SLEEF-v3.2\n   Target system: Linux-4.4.0-92-generic\n   Target processor: x86_64\n   Host system: Linux-4.4.0-92-generic\n   Host processor: x86_64\n   Detected C compiler: GNU @ /usr/bin/gcc-6\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\n-- Building shared libs : OFF\n-- MPFR : /home/gaoxiang/anaconda3/lib/libmpfr.so\n-- MPFR header file in /home/gaoxiang/anaconda3/include\n-- GMP : /home/gaoxiang/anaconda3/lib/libgmp.so\n-- RUNNING_ON_TRAVIS : 0\n-- COMPILER_SUPPORTS_OPENMP : 1\nCMake Warning at CMakeLists.txt:337 (message):\n  Generated cmake files are only fully tested if one builds with system glog,\n  gflags, and protobuf.  Other settings may generate files that are not well\n  tested.\n\n\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.11.1\n--   CMake command         : /home/gaoxiang/anaconda3/bin/cmake\n--   Git version           : \n--   System                : Linux\n--   C++ compiler          : /usr/bin/g++-6\n--   C++ compiler version  : 6.4.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_torch -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wno-invalid-partial-specialization -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-private-field -Wno-unused-result -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-error=deprecated-declarations\n--   Build type            : Release\n--   Compile definitions   : TH_INDEX_BASE=0;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : \n--   CMAKE_INSTALL_PREFIX  : /home/gaoxiang/pytorch/torch/lib/tmp_install\n-- \n--   BUILD_CAFFE2          : 0\n--   BUILD_ATEN            : ON\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_PYTHON          : 0\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : OFF\n--   USE_ASAN              : OFF\n--   USE_ATEN              : OFF\n--   USE_CUDA              : OFF\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : \n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_GLOO              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_MPI               : OFF\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : OFF\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : OFF\n--   Public Dependencies  : /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so;/opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so;/opt/intel/mkl/lib/intel64/libmkl_core.so;-fopenmp;/usr/lib/x86_64-linux-gnu/libpthread.so;/usr/lib/x86_64-linux-gnu/libm.so;/usr/lib/x86_64-linux-gnu/libdl.so;/opt/intel/lib/intel64/libirc.so\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CUDNN_INCLUDE_DIR\n    CUDNN_LIBRARY\n    CUDNN_LIB_DIR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/build\n+ ninja install -j24\n[136/498] Generating include/renamesse4.h\nGenerating renamesse4.h: mkrename 2 4 sse4\n[137/498] Generating include/renameavx.h\nGenerating renameavx.h: mkrename 4 8 avx\n[138/498] Generating include/renamefma4.h\nGenerating renamefma4.h: mkrename 4 8 fma4\n[141/498] Generating include/renameavx2.h\nGenerating renameavx2.h: mkrename 4 8 avx2\n[146/498] Generating include/renameavx2128.h\nGenerating renameavx2128.h: mkrename 2 4 avx2128\n[154/498] Generating include/renamesse2.h\nGenerating renamesse2.h: mkrename 2 4 sse2\n[157/498] Generating ../../../include/sleef.h\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse2\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse4\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ avx\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ fma4\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i __m256i __AVX__ avx2\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ avx2128\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__ avx512f\n[289/498] Running gen_proto.py on onnx/onnx.in.proto\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx.in.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto3\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx.pb.h\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_pb.py\n[291/498] Running gen_proto.py on onnx/onnx-operators.in.proto\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx-operators.in.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto3\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators.pb.h\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_operators_pb.py\n[484/498] Linking CXX executable bin/verify_api_visibility\n/usr/bin/x86_64-linux-gnu-ld: warning: libmklml_intel.so, needed by //home/gaoxiang/anaconda3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)\n.......... same warning repeat multiple times ..........\n[497/498] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Caffe2/Caffe2ConfigVersion.cmake\n-- Installing: ......... lots of files .........\n+ [[ 0 -ne 0 ]]\n+ popd\n~/pytorch ~/pytorch\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ nanopb == \\n\\c\\c\\l ]]\n+ [[ nanopb == \\g\\l\\o\\o ]]\n+ [[ nanopb == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ nanopb == \\T\\H\\D ]]\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m ]]\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\n+ [[ nanopb == \\c\\1\\0\\d ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build nanopb\n+ mkdir -p build/nanopb\n+ pushd build/nanopb\n~/pytorch/third_party/build/nanopb ~/pytorch/third_party ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions'\n+ cmake ../../nanopb -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt:3 (project)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CAFFE2_LIBRARIES\n    CMAKE_CXX_FLAGS\n    CMAKE_DEBUG_POSTFIX\n    CUDA_DEVICE_DEBUG\n    CUDA_NVCC_FLAGS\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    USE_CUDA\n    cwrap_files\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nanopb\n+ ninja install -j24\n[4/5] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libprotobuf-nanopb.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets-release.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config-version.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_common.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_encode.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_decode.h\n+ popd\n~/pytorch/third_party ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnanopb\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ libshm == \\n\\c\\c\\l ]]\n+ [[ libshm == \\g\\l\\o\\o ]]\n+ [[ libshm == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ libshm == \\T\\H\\D ]]\n+ [[ libshm == \\l\\i\\b\\s\\h\\m ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build libshm\n+ mkdir -p build/libshm\n+ pushd build/libshm\n~/pytorch/torch/lib/build/libshm ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../libshm -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt:1 (project)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Looking for clock_gettime in rt\n-- Looking for clock_gettime in rt - found\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    CUDA_NVCC_FLAGS\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    USE_CUDA\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/libshm\n+ ninja install -j24\n[4/5] Linking CXX executable torch_shm_manager\nCMakeFiles/torch_shm_manager.dir/manager.cpp.o: In function `main':\nmanager.cpp:(.text.startup+0x35): warning: the use of `tmpnam' is dangerous, better use `mkstemp'\n[4/5] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\n-- Set runtime path of \"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\" to \"\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/libshm.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/bin/torch_shm_manager\n+ popd\n~/pytorch/torch/lib ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/liblibshm\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ gloo == \\n\\c\\c\\l ]]\n+ [[ gloo == \\g\\l\\o\\o ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build gloo -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ mkdir -p build/gloo\n+ pushd build/gloo\n~/pytorch/third_party/build/gloo ~/pytorch/third_party ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../gloo -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The CXX compiler identification is GNU 6.4.0\n-- The C compiler identification is GNU 6.4.0\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/Dependencies.cmake:46 (message):\n  Not compiling with CUDA support.  Suppress this warning with\n  -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:56 (include)\n\n\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CAFFE2_LIBRARIES\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    NCCL_EXTERNAL\n    NCCL_ROOT_DIR\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/gloo\n+ ninja install -j24\n[22/23] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfig.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfigVersion.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets-release.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo_builder.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/config.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/algorithm.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_halving_doubling.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_bcube.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_local.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring_chunked.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_all.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_one.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_one_to_all.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/reduce_scatter.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/context.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/math.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/pairwise_exchange.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/types.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/common.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/error.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux_devices.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/logging.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/string.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/file_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/hash_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/prefix_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/context.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/address.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/buffer.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/device.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/pair.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/address.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/buffer.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/device.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/pair.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_builder.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_builder.h\n+ popd\n~/pytorch/third_party ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ THD == \\n\\c\\c\\l ]]\n+ [[ THD == \\g\\l\\o\\o ]]\n+ [[ THD == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ THD == \\T\\H\\D ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build THD\n+ mkdir -p build/THD\n+ pushd build/THD\n~/pytorch/torch/lib/build/THD ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../THD -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Performing Test HAS_THREAD_LOCAL\n-- Performing Test HAS_THREAD_LOCAL - Success\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \n-- Found MPI: TRUE (found version \"3.0\")  \n-- Could NOT find Gloo (missing: Gloo_LIBRARY) \n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.5\")\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Communication.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Generator.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Storage.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Tensor.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorCopy.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorLapack.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorMath.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorRandom.cpp from the build\n-- MPI_COMPILE_FLAGS: -pthread\n-- MPI_LINK_FLAGS: -Wl,-rpath -Wl,/usr/lib/openmpi/lib -Wl,--enable-new-dtags -pthread\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/THD\n+ ninja install -j24\n[15/16] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/THD.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/ChannelType.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/Cuda.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannel.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannelRequest.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/THDGenerateAllTypes.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/Collectives.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/General.h\n+ popd\n~/pytorch/torch/lib ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ c10d == \\n\\c\\c\\l ]]\n+ [[ c10d == \\g\\l\\o\\o ]]\n+ [[ c10d == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ c10d == \\T\\H\\D ]]\n+ [[ c10d == \\l\\i\\b\\s\\h\\m ]]\n+ [[ c10d == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\n+ [[ c10d == \\c\\1\\0\\d ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build c10d\n+ mkdir -p build/c10d\n+ pushd build/c10d\n~/pytorch/torch/lib/build/c10d ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../c10d -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Found Gloo: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Gloo_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Gloo_NATIVE_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Gloo_INCLUDE_DIR: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \n-- Found MPI: TRUE (found version \"3.0\")  \n-- MPI_INCLUDE_PATH: /usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent;/usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent/include;/usr/lib/openmpi/include/openmpi;/usr/lib/openmpi/include\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\n-- MPIEXEC: /usr/bin/mpiexec\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n-- NCCL_INCLUDE_DIRS: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\nCMake Error at /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:137 (message):\n  Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE)\nCall Stack (most recent call first):\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindCUDA.cmake:1104 (find_package_handle_standard_args)\n  CMakeLists.txt:57 (find_package)\n\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeError.log\".\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'\n</code></pre>\n<p>The full log can be found at <a href=\"https://gist.github.com/zasdfgbnm/4530a36ece21c2a082e4d5695da3e196\">https://gist.github.com/zasdfgbnm/4530a36ece21c2a082e4d5695da3e196</a></p>\n<h2>System Info</h2>\n<pre><code>Collecting environment information...\nPyTorch version: 0.5.0a0+4f37a64\nIs debug build: No\nCUDA used to build PyTorch: Could not collect\n\nOS: Ubuntu 16.04.4 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609\nCMake version: version 3.11.1\n\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: 9.1.85\nGPU models and configuration: \nGPU 0: GeForce GTX 1080 Ti\nGPU 1: GeForce GTX 1080 Ti\nGPU 2: GeForce GTX 1080 Ti\nGPU 3: GeForce GTX 1080 Ti\n\nNvidia driver version: 390.25\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v6.a\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.58\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.64\n/usr/local/cuda-7.0/lib64/libcudnn_static.a\n\nVersions of relevant libraries:\n[pip3] numpy (1.14.5)\n[pip3] numpydoc (0.7.0)\n[pip3] torch (0.5.0a0+d2f98fc)\n[pip3] torchani (0.1, /home/gaoxiang/torchani)\n[conda] magma-cuda80              2.3.0                         1    pytorch\n[conda] magma-cuda91              2.3.0                         1    pytorch\n[conda] torch                     0.5.0a0+d2f98fc           &lt;pip&gt;\n[conda] torch                     0.5.0a0+372d1d6           &lt;pip&gt;\n[conda] torch                     0.5.0a0+4f37a64           &lt;pip&gt;\n[conda] torch                     0.5.0a0+8275e43           &lt;pip&gt;\n[conda] torchani                  0.1                       &lt;pip&gt;\n</code></pre>", "body_text": "Issue description\nI'm building with\nexport PATH=/usr/local/cuda-9.1/bin:$PATH\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\"\nexport CC=gcc-6\nexport CXX=g++-6\nexport CUDA_HOME=/usr/local/cuda-9.1\nexport USE_CUDA=1\npython setup.py clean install\nPart of the build are able to find cuda correctly, but other part have trouble finding cuda:\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:11 (message):\n\nThe more detailed output (some useless lines deleted) is\nrunning clean\nrunning install\nrunning build_deps\n+ USE_CUDA=0\n+ USE_ROCM=0\n+ USE_NNPACK=0\n+ USE_MKLDNN=0\n+ USE_GLOO_IBVERBS=0\n+ USE_DISTRIBUTED_MW=0\n+ FULL_CAFFE2=0\n+ [[ 10 -gt 0 ]]\n+ case \"$1\" in\n+ USE_CUDA=1\n+ shift\n+ [[ 9 -gt 0 ]]\n+ case \"$1\" in\n+ USE_NNPACK=1\n+ shift\n+ [[ 8 -gt 0 ]]\n+ case \"$1\" in\n+ USE_MKLDNN=1\n+ shift\n+ [[ 7 -gt 0 ]]\n+ case \"$1\" in\n+ break\n+ CMAKE_INSTALL='ninja install'\n+ USER_CFLAGS=\n+ USER_LDFLAGS=\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n++ dirname tools/build_pytorch_libs.sh\n+ cd tools/..\n+++ pwd\n++ printf '%q\\n' /home/gaoxiang/pytorch\n+ PWD=/home/gaoxiang/pytorch\n+ BASE_DIR=/home/gaoxiang/pytorch\n+ TORCH_LIB_DIR=/home/gaoxiang/pytorch/torch/lib\n+ INSTALL_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ THIRD_PARTY_DIR=/home/gaoxiang/pytorch/third_party\n+ CMAKE_VERSION=cmake\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\"'\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\" '\n+ LD_POSTFIX=.so\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'\n+ CPP_FLAGS=' -std=c++11 '\n+ GLOO_FLAGS=\n+ THD_FLAGS=\n+ NCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ [[ 1 -eq 1 ]]\n+ GLOO_FLAGS='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install'\n+ [[ 0 -eq 1 ]]\n+ [[ 0 -eq 1 ]]\n+ CWRAP_FILES='/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml'\n+ CUDA_NVCC_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\n+ [[ -z '' ]]\n+ CUDA_DEVICE_DEBUG=0\n+ '[' -z 24 ']'\n+ BUILD_TYPE=Release\n+ [[ -n '' ]]\n+ [[ -n '' ]]\n+ echo 'Building in Release mode'\nBuilding in Release mode\n+ mkdir -p torch/lib/tmp_install\n+ for arg in '\"$@\"'\n+ [[ nccl == \\n\\c\\c\\l ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build_nccl\n+ path_remove /opt/cache/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ export CUDA_NVCC_EXECUTABLE_SAVED=\n+ CUDA_NVCC_EXECUTABLE_SAVED=\n++ which nvcc\n+ export CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\n+ CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\n+ mkdir -p build/nccl\n+ pushd build/nccl\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gaoxiang/pytorch/cmake/public/utils.cmake\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Found CUDA: /usr/local/cuda-9.1 (found suitable version \"9.1\", minimum required is \"7.0\") \n-- Autodetected CUDA architecture(s): 6.1 6.1 6.1 6.1 \n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nccl\n+ ninja install\n[1/2] Generating lib/libnccl.so\nGrabbing  src/nccl.h                          > /home/gaoxiang/pytorch/third_party/build/nccl/include/nccl.h\nCompiling src/libwrap.cu                      > /home/gaoxiang/pytorch/third_party/build/nccl/obj/libwrap.o\nCompiling src/core.cu                         > /home/gaoxiang/pytorch/third_party/build/nccl/obj/core.o\nCompiling src/all_gather.cu                   > /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu                   > /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_reduce.o\nCompiling src/broadcast.cu                    > /home/gaoxiang/pytorch/third_party/build/nccl/obj/broadcast.o\nCompiling src/reduce.cu                       > /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce.o\nCompiling src/reduce_scatter.cu               > /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce_scatter.o\nLinking   libnccl.so.1.3.5                    > /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl.so.1.3.5\nArchiving libnccl_static.a                    > /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl_static.a\n[1/2] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n+ mkdir -p /home/gaoxiang/pytorch/torch/lib/tmp_install/lib\n+ cp lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1\n+ '[' '!' -f /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so ']'\n+ ln -s /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n+ popd\n~/pytorch/third_party ~/pytorch\n+ export CUDA_NVCC_EXECUTABLE=\n+ CUDA_NVCC_EXECUTABLE=\n+ export PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ caffe2 == \\n\\c\\c\\l ]]\n+ [[ caffe2 == \\g\\l\\o\\o ]]\n+ [[ caffe2 == \\c\\a\\f\\f\\e\\2 ]]\n+ pushd /home/gaoxiang/pytorch\n~/pytorch ~/pytorch\n+ build_caffe2\n+ mkdir -p build\n+ pushd build\n~/pytorch/build ~/pytorch ~/pytorch\n+ cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release -DBUILD_CAFFE2=0 -DBUILD_ATEN=ON -DBUILD_PYTHON=0 -DBUILD_BINARY=OFF -DBUILD_SHARED_LIBS=ON -DONNX_NAMESPACE=onnx_torch -DUSE_CUDA=1 -DUSE_ROCM=0 -DUSE_NNPACK=1 -DCUDNN_INCLUDE_DIR=/usr/include/ -DCUDNN_LIB_DIR=/usr/lib/x86_64-linux-gnu/ -DCUDNN_LIBRARY=/usr/lib/x86_64-linux-gnu/libcudnn.so.6 -DUSE_MKLDNN=1 -DMKLDNN_INCLUDE_DIR=/home/gaoxiang/anaconda3/bin/../include -DMKLDNN_LIB_DIR=/home/gaoxiang/anaconda3/bin/../lib -DMKLDNN_LIBRARY=/home/gaoxiang/anaconda3/bin/../lib/libmkldnn.so -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -DCMAKE_C_FLAGS= -DCMAKE_CXX_FLAGS= -DCMAKE_EXE_LINKER_FLAGS= -DCMAKE_SHARED_LINKER_FLAGS=\n-- The CXX compiler identification is GNU 6.4.0\n-- The C compiler identification is GNU 6.4.0\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Not forcing any particular BLAS to be found\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\n-- Does not need to define long separately.\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\n-- std::exception_ptr is supported.\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\n-- NUMA is available\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2 protobuf include directory: $<BUILD_INTERFACE:/home/gaoxiang/pytorch/third_party/protobuf/src>$<INSTALL_INTERFACE:include>\n-- The BLAS backend of choice:MKL\n-- Looking for sys/types.h\n-- Looking for sys/types.h - found\n-- Looking for stdint.h\n-- Looking for stdint.h - found\n-- Looking for stddef.h\n-- Looking for stddef.h - found\n-- Check size of void*\n-- Check size of void* - done\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf_lp64: /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so\n--   Library mkl_gnu_thread: /opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so\n--   Library mkl_core: /opt/intel/mkl/lib/intel64/libmkl_core.so\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Found OpenMP: TRUE (found version \"4.5\")  \n--   Library gomp: -fopenmp\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\n-- Looking for cblas_sgemm\n-- Looking for cblas_sgemm - found\n-- Brace yourself, we are building NNPACK\n-- The ASM compiler identification is GNU\n-- Found assembler: /usr/bin/gcc-6\n-- Found PythonInterp: /home/gaoxiang/anaconda3/bin/python (found version \"3.6.3\") \n-- Check if compiler accepts -pthread\n-- Check if compiler accepts -pthread - yes\n-- Found Numa: /usr/include  \n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\nCMake Warning at cmake/Dependencies.cmake:310 (find_package):\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\n  CMake did not find one.\n\n  Could not find a package configuration file provided by \"Eigen3\" with any\n  of the following names:\n\n    Eigen3Config.cmake\n    eigen3-config.cmake\n\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\n  provides a separate development package or SDK, be sure it has been\n  installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\n-- Did not find system Eigen. Using third party subdirectory.\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:11 (message):\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\n  or a Caffe2 dependent library, the next warning / error will give you more\n  info.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:413 (include)\n  CMakeLists.txt:181 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:442 (message):\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:518 (message):\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\n  -DUSE_NCCL=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:181 (include)\n\n\n-- Performing Test SUPPORT_GLIBCXX_USE_C99\n-- Performing Test SUPPORT_GLIBCXX_USE_C99 - Success\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\n-- Found CUDA with FP16 support, compiling with torch.cuda.HalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- Performing Test COMPILER_WORKS\n-- Performing Test COMPILER_WORKS - Success\n-- Looking for cpuid.h\n-- Looking for cpuid.h - found\n-- Performing Test HAVE_GCC_GET_CPUID\n-- Performing Test HAVE_GCC_GET_CPUID - Success\n-- Performing Test NO_GCC_EBX_FPIC_BUG\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success\n-- Performing Test .......... some SSE and AVX tests ..........\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n-- Performing Test HAS_C11_ATOMICS\n-- Performing Test HAS_C11_ATOMICS - Failed\n-- Performing Test HAS_MSC_ATOMICS\n-- Performing Test HAS_MSC_ATOMICS - Failed\n-- Performing Test HAS_GCC_ATOMICS\n-- Performing Test HAS_GCC_ATOMICS - Success\n-- Atomics: using GCC intrinsics\n-- Performing Test BLAS_F2C_DOUBLE_WORKS\n-- Performing Test BLAS_F2C_DOUBLE_WORKS - Failed\n-- Performing Test BLAS_F2C_FLOAT_WORKS\n-- Performing Test BLAS_F2C_FLOAT_WORKS - Success\n-- Performing Test BLAS_USE_CBLAS_DOT\n-- Performing Test BLAS_USE_CBLAS_DOT - Success\n-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NOT USE_CUDA is set\n-- CuDNN not found. Compiling without CuDNN support\n-- Found MKLDNN: /home/gaoxiang/anaconda3/include  \n-- Found MKLDNN      (include: /home/gaoxiang/anaconda3/include, library: /home/gaoxiang/anaconda3/lib/libmkldnn.so)\n-- Looking for clock_gettime in rt\n-- Looking for clock_gettime in rt - found\n-- Looking for mmap\n-- Looking for mmap - found\n-- Looking for shm_open\n-- Looking for shm_open - found\n-- Looking for shm_unlink\n-- Looking for shm_unlink - found\n-- Looking for malloc_usable_size\n-- Looking for malloc_usable_size - found\n-- Performing Test C_HAS_THREAD\n-- Performing Test C_HAS_THREAD - Success\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line\n-- Using python found in /home/gaoxiang/anaconda3/bin/python\ndisabling CUDA because USE_CUDA is set false\n-- Check size of long double\n-- Check size of long double - done\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success\n-- Performing Test COMPILER_SUPPORTS_FLOAT128\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Success\n-- Performing Test COMPILER_SUPPORTS_SSE2\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success\n-- Performing Test COMPILER_SUPPORTS_SSE4\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX\n-- Performing Test COMPILER_SUPPORTS_AVX - Success\n-- Performing Test COMPILER_SUPPORTS_FMA4\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX2\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success\n-- Performing Test COMPILER_SUPPORTS_SVE\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed\n-- Performing Test COMPILER_SUPPORTS_AVX512F\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Failed\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Performing Test COMPILER_SUPPORTS_OPENMP\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Success\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Success\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success\n-- Configuring build for SLEEF-v3.2\n   Target system: Linux-4.4.0-92-generic\n   Target processor: x86_64\n   Host system: Linux-4.4.0-92-generic\n   Host processor: x86_64\n   Detected C compiler: GNU @ /usr/bin/gcc-6\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\n-- Building shared libs : OFF\n-- MPFR : /home/gaoxiang/anaconda3/lib/libmpfr.so\n-- MPFR header file in /home/gaoxiang/anaconda3/include\n-- GMP : /home/gaoxiang/anaconda3/lib/libgmp.so\n-- RUNNING_ON_TRAVIS : 0\n-- COMPILER_SUPPORTS_OPENMP : 1\nCMake Warning at CMakeLists.txt:337 (message):\n  Generated cmake files are only fully tested if one builds with system glog,\n  gflags, and protobuf.  Other settings may generate files that are not well\n  tested.\n\n\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.11.1\n--   CMake command         : /home/gaoxiang/anaconda3/bin/cmake\n--   Git version           : \n--   System                : Linux\n--   C++ compiler          : /usr/bin/g++-6\n--   C++ compiler version  : 6.4.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_torch -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wno-invalid-partial-specialization -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-private-field -Wno-unused-result -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-error=deprecated-declarations\n--   Build type            : Release\n--   Compile definitions   : TH_INDEX_BASE=0;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : \n--   CMAKE_INSTALL_PREFIX  : /home/gaoxiang/pytorch/torch/lib/tmp_install\n-- \n--   BUILD_CAFFE2          : 0\n--   BUILD_ATEN            : ON\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_PYTHON          : 0\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : OFF\n--   USE_ASAN              : OFF\n--   USE_ATEN              : OFF\n--   USE_CUDA              : OFF\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : \n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_GLOO              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_MPI               : OFF\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : OFF\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : OFF\n--   Public Dependencies  : /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so;/opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so;/opt/intel/mkl/lib/intel64/libmkl_core.so;-fopenmp;/usr/lib/x86_64-linux-gnu/libpthread.so;/usr/lib/x86_64-linux-gnu/libm.so;/usr/lib/x86_64-linux-gnu/libdl.so;/opt/intel/lib/intel64/libirc.so\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CUDNN_INCLUDE_DIR\n    CUDNN_LIBRARY\n    CUDNN_LIB_DIR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/build\n+ ninja install -j24\n[136/498] Generating include/renamesse4.h\nGenerating renamesse4.h: mkrename 2 4 sse4\n[137/498] Generating include/renameavx.h\nGenerating renameavx.h: mkrename 4 8 avx\n[138/498] Generating include/renamefma4.h\nGenerating renamefma4.h: mkrename 4 8 fma4\n[141/498] Generating include/renameavx2.h\nGenerating renameavx2.h: mkrename 4 8 avx2\n[146/498] Generating include/renameavx2128.h\nGenerating renameavx2128.h: mkrename 2 4 avx2128\n[154/498] Generating include/renamesse2.h\nGenerating renamesse2.h: mkrename 2 4 sse2\n[157/498] Generating ../../../include/sleef.h\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse2\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse4\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ avx\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ fma4\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i __m256i __AVX__ avx2\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ avx2128\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__ avx512f\n[289/498] Running gen_proto.py on onnx/onnx.in.proto\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx.in.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto3\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx.pb.h\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_pb.py\n[291/498] Running gen_proto.py on onnx/onnx-operators.in.proto\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx-operators.in.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto3\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators.pb.h\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_operators_pb.py\n[484/498] Linking CXX executable bin/verify_api_visibility\n/usr/bin/x86_64-linux-gnu-ld: warning: libmklml_intel.so, needed by //home/gaoxiang/anaconda3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)\n.......... same warning repeat multiple times ..........\n[497/498] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Caffe2/Caffe2ConfigVersion.cmake\n-- Installing: ......... lots of files .........\n+ [[ 0 -ne 0 ]]\n+ popd\n~/pytorch ~/pytorch\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ nanopb == \\n\\c\\c\\l ]]\n+ [[ nanopb == \\g\\l\\o\\o ]]\n+ [[ nanopb == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ nanopb == \\T\\H\\D ]]\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m ]]\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\n+ [[ nanopb == \\c\\1\\0\\d ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build nanopb\n+ mkdir -p build/nanopb\n+ pushd build/nanopb\n~/pytorch/third_party/build/nanopb ~/pytorch/third_party ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions'\n+ cmake ../../nanopb -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt:3 (project)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CAFFE2_LIBRARIES\n    CMAKE_CXX_FLAGS\n    CMAKE_DEBUG_POSTFIX\n    CUDA_DEVICE_DEBUG\n    CUDA_NVCC_FLAGS\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    USE_CUDA\n    cwrap_files\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nanopb\n+ ninja install -j24\n[4/5] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libprotobuf-nanopb.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets-release.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config-version.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_common.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_encode.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_decode.h\n+ popd\n~/pytorch/third_party ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnanopb\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ libshm == \\n\\c\\c\\l ]]\n+ [[ libshm == \\g\\l\\o\\o ]]\n+ [[ libshm == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ libshm == \\T\\H\\D ]]\n+ [[ libshm == \\l\\i\\b\\s\\h\\m ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build libshm\n+ mkdir -p build/libshm\n+ pushd build/libshm\n~/pytorch/torch/lib/build/libshm ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../libshm -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt:1 (project)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Looking for clock_gettime in rt\n-- Looking for clock_gettime in rt - found\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    CUDA_NVCC_FLAGS\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    USE_CUDA\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/libshm\n+ ninja install -j24\n[4/5] Linking CXX executable torch_shm_manager\nCMakeFiles/torch_shm_manager.dir/manager.cpp.o: In function `main':\nmanager.cpp:(.text.startup+0x35): warning: the use of `tmpnam' is dangerous, better use `mkstemp'\n[4/5] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\n-- Set runtime path of \"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\" to \"\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/libshm.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/bin/torch_shm_manager\n+ popd\n~/pytorch/torch/lib ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/liblibshm\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ gloo == \\n\\c\\c\\l ]]\n+ [[ gloo == \\g\\l\\o\\o ]]\n+ pushd /home/gaoxiang/pytorch/third_party\n~/pytorch/third_party ~/pytorch\n+ build gloo -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\n+ mkdir -p build/gloo\n+ pushd build/gloo\n~/pytorch/third_party/build/gloo ~/pytorch/third_party ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../gloo -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The CXX compiler identification is GNU 6.4.0\n-- The C compiler identification is GNU 6.4.0\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\nCMake Warning at cmake/Dependencies.cmake:46 (message):\n  Not compiling with CUDA support.  Suppress this warning with\n  -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:56 (include)\n\n\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CAFFE2_LIBRARIES\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    NCCL_EXTERNAL\n    NCCL_ROOT_DIR\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/gloo\n+ ninja install -j24\n[22/23] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfig.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfigVersion.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets-release.cmake\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo_builder.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/config.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/algorithm.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_halving_doubling.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_bcube.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_local.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring_chunked.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_all.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_one.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_one_to_all.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/reduce_scatter.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/context.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/math.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/pairwise_exchange.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/types.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/common.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/error.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux_devices.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/logging.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/string.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/file_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/hash_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/prefix_store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/store.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/context.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/address.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/buffer.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/device.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/pair.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/address.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/buffer.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/device.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/pair.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_builder.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_builder.h\n+ popd\n~/pytorch/third_party ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ THD == \\n\\c\\c\\l ]]\n+ [[ THD == \\g\\l\\o\\o ]]\n+ [[ THD == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ THD == \\T\\H\\D ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build THD\n+ mkdir -p build/THD\n+ pushd build/THD\n~/pytorch/torch/lib/build/THD ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../THD -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Performing Test HAS_THREAD_LOCAL\n-- Performing Test HAS_THREAD_LOCAL - Success\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \n-- Found MPI: TRUE (found version \"3.0\")  \n-- Could NOT find Gloo (missing: Gloo_LIBRARY) \n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.5\")\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Communication.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Generator.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Storage.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Tensor.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorCopy.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorLapack.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorMath.cpp from the build\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorRandom.cpp from the build\n-- MPI_COMPILE_FLAGS: -pthread\n-- MPI_LINK_FLAGS: -Wl,-rpath -Wl,/usr/lib/openmpi/lib -Wl,--enable-new-dtags -pthread\n-- Configuring done\n-- Generating done\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_DEBUG_POSTFIX\n    CMAKE_INSTALL_LIBDIR\n    CUDA_DEVICE_DEBUG\n    NCCL_EXTERNAL\n    NO_NNPACK\n    THCS_LIBRARIES\n    THCUNN_LIBRARIES\n    THCUNN_SO_VERSION\n    THC_LIBRARIES\n    THC_SO_VERSION\n    THD_SO_VERSION\n    THNN_LIBRARIES\n    THNN_SO_VERSION\n    THS_LIBRARIES\n    TH_INCLUDE_PATH\n    TH_LIBRARIES\n    TH_LIB_PATH\n    TH_SO_VERSION\n    Torch_FOUND\n    cwrap_files\n    nanopb_BUILD_GENERATOR\n\n\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/THD\n+ ninja install -j24\n[15/16] Install the project...\n-- Install configuration: \"Release\"\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD.a\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/THD.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/ChannelType.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/Cuda.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannel.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannelRequest.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/THDGenerateAllTypes.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/Collectives.h\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/General.h\n+ popd\n~/pytorch/torch/lib ~/pytorch\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD\n++ uname\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\n+ popd\n~/pytorch\n+ for arg in '\"$@\"'\n+ [[ c10d == \\n\\c\\c\\l ]]\n+ [[ c10d == \\g\\l\\o\\o ]]\n+ [[ c10d == \\c\\a\\f\\f\\e\\2 ]]\n+ [[ c10d == \\T\\H\\D ]]\n+ [[ c10d == \\l\\i\\b\\s\\h\\m ]]\n+ [[ c10d == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\n+ [[ c10d == \\c\\1\\0\\d ]]\n+ pushd /home/gaoxiang/pytorch/torch/lib\n~/pytorch/torch/lib ~/pytorch\n+ build c10d\n+ mkdir -p build/c10d\n+ pushd build/c10d\n~/pytorch/torch/lib/build/c10d ~/pytorch/torch/lib ~/pytorch\n+ BUILD_C_FLAGS=\n+ case $1 in\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\n+ cmake ../../c10d -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\n-- The C compiler identification is GNU 6.4.0\n-- The CXX compiler identification is GNU 6.4.0\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\n  File\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\n  includes\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\n  (found via CMAKE_MODULE_PATH) which shadows\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\n  This may cause errors later on .\n\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\n  details.  Use the cmake_policy command to set the policy and suppress this\n  warning.\nCall Stack (most recent call first):\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\n  CMakeLists.txt\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n\n-- Check for working C compiler: /usr/bin/gcc-6\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-6\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Found Gloo: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Gloo_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Gloo_NATIVE_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\n-- Gloo_INCLUDE_DIR: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \n-- Found MPI: TRUE (found version \"3.0\")  \n-- MPI_INCLUDE_PATH: /usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent;/usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent/include;/usr/lib/openmpi/include/openmpi;/usr/lib/openmpi/include\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\n-- MPIEXEC: /usr/bin/mpiexec\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\n-- NCCL_INCLUDE_DIRS: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\nCMake Error at /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:137 (message):\n  Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE)\nCall Stack (most recent call first):\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindCUDA.cmake:1104 (find_package_handle_standard_args)\n  CMakeLists.txt:57 (find_package)\n\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeError.log\".\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'\n\nThe full log can be found at https://gist.github.com/zasdfgbnm/4530a36ece21c2a082e4d5695da3e196\nSystem Info\nCollecting environment information...\nPyTorch version: 0.5.0a0+4f37a64\nIs debug build: No\nCUDA used to build PyTorch: Could not collect\n\nOS: Ubuntu 16.04.4 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609\nCMake version: version 3.11.1\n\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: 9.1.85\nGPU models and configuration: \nGPU 0: GeForce GTX 1080 Ti\nGPU 1: GeForce GTX 1080 Ti\nGPU 2: GeForce GTX 1080 Ti\nGPU 3: GeForce GTX 1080 Ti\n\nNvidia driver version: 390.25\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v6.a\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.58\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.64\n/usr/local/cuda-7.0/lib64/libcudnn_static.a\n\nVersions of relevant libraries:\n[pip3] numpy (1.14.5)\n[pip3] numpydoc (0.7.0)\n[pip3] torch (0.5.0a0+d2f98fc)\n[pip3] torchani (0.1, /home/gaoxiang/torchani)\n[conda] magma-cuda80              2.3.0                         1    pytorch\n[conda] magma-cuda91              2.3.0                         1    pytorch\n[conda] torch                     0.5.0a0+d2f98fc           <pip>\n[conda] torch                     0.5.0a0+372d1d6           <pip>\n[conda] torch                     0.5.0a0+4f37a64           <pip>\n[conda] torch                     0.5.0a0+8275e43           <pip>\n[conda] torchani                  0.1                       <pip>", "body": "## Issue description\r\nI'm building with\r\n```bash\r\nexport PATH=/usr/local/cuda-9.1/bin:$PATH\r\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\"\r\nexport CC=gcc-6\r\nexport CXX=g++-6\r\nexport CUDA_HOME=/usr/local/cuda-9.1\r\nexport USE_CUDA=1\r\npython setup.py clean install\r\n```\r\n\r\nPart of the build are able to find cuda correctly, but other part have trouble finding cuda:\r\n```\r\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\r\nCMake Warning at cmake/public/cuda.cmake:11 (message):\r\n```\r\n\r\nThe more detailed output (some useless lines deleted) is\r\n```\r\nrunning clean\r\nrunning install\r\nrunning build_deps\r\n+ USE_CUDA=0\r\n+ USE_ROCM=0\r\n+ USE_NNPACK=0\r\n+ USE_MKLDNN=0\r\n+ USE_GLOO_IBVERBS=0\r\n+ USE_DISTRIBUTED_MW=0\r\n+ FULL_CAFFE2=0\r\n+ [[ 10 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ USE_CUDA=1\r\n+ shift\r\n+ [[ 9 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ USE_NNPACK=1\r\n+ shift\r\n+ [[ 8 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ USE_MKLDNN=1\r\n+ shift\r\n+ [[ 7 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ break\r\n+ CMAKE_INSTALL='ninja install'\r\n+ USER_CFLAGS=\r\n+ USER_LDFLAGS=\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n++ dirname tools/build_pytorch_libs.sh\r\n+ cd tools/..\r\n+++ pwd\r\n++ printf '%q\\n' /home/gaoxiang/pytorch\r\n+ PWD=/home/gaoxiang/pytorch\r\n+ BASE_DIR=/home/gaoxiang/pytorch\r\n+ TORCH_LIB_DIR=/home/gaoxiang/pytorch/torch/lib\r\n+ INSTALL_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\r\n+ THIRD_PARTY_DIR=/home/gaoxiang/pytorch/third_party\r\n+ CMAKE_VERSION=cmake\r\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\"'\r\n+ C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\r\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\" '\r\n+ LD_POSTFIX=.so\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ LDFLAGS='-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'\r\n+ CPP_FLAGS=' -std=c++11 '\r\n+ GLOO_FLAGS=\r\n+ THD_FLAGS=\r\n+ NCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\r\n+ [[ 1 -eq 1 ]]\r\n+ GLOO_FLAGS='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install'\r\n+ [[ 0 -eq 1 ]]\r\n+ [[ 0 -eq 1 ]]\r\n+ CWRAP_FILES='/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml'\r\n+ CUDA_NVCC_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\r\n+ [[ -z '' ]]\r\n+ CUDA_DEVICE_DEBUG=0\r\n+ '[' -z 24 ']'\r\n+ BUILD_TYPE=Release\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n+ echo 'Building in Release mode'\r\nBuilding in Release mode\r\n+ mkdir -p torch/lib/tmp_install\r\n+ for arg in '\"$@\"'\r\n+ [[ nccl == \\n\\c\\c\\l ]]\r\n+ pushd /home/gaoxiang/pytorch/third_party\r\n~/pytorch/third_party ~/pytorch\r\n+ build_nccl\r\n+ path_remove /opt/cache/bin\r\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\r\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\r\n+ PATH=/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\r\n+ export CUDA_NVCC_EXECUTABLE_SAVED=\r\n+ CUDA_NVCC_EXECUTABLE_SAVED=\r\n++ which nvcc\r\n+ export CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\r\n+ CUDA_NVCC_EXECUTABLE=/usr/local/cuda-9.1/bin/nvcc\r\n+ mkdir -p build/nccl\r\n+ pushd build/nccl\r\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch\r\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gaoxiang/pytorch/cmake/public/utils.cmake\r\n-- The C compiler identification is GNU 6.4.0\r\n-- The CXX compiler identification is GNU 6.4.0\r\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\r\n  File\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\r\n  includes\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\r\n  (found via CMAKE_MODULE_PATH) which shadows\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\r\n  This may cause errors later on .\r\n\r\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\r\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\r\n  CMakeLists.txt\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Found CUDA: /usr/local/cuda-9.1 (found suitable version \"9.1\", minimum required is \"7.0\") \r\n-- Autodetected CUDA architecture(s): 6.1 6.1 6.1 6.1 \r\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nccl\r\n+ ninja install\r\n[1/2] Generating lib/libnccl.so\r\nGrabbing  src/nccl.h                          > /home/gaoxiang/pytorch/third_party/build/nccl/include/nccl.h\r\nCompiling src/libwrap.cu                      > /home/gaoxiang/pytorch/third_party/build/nccl/obj/libwrap.o\r\nCompiling src/core.cu                         > /home/gaoxiang/pytorch/third_party/build/nccl/obj/core.o\r\nCompiling src/all_gather.cu                   > /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_gather.o\r\nCompiling src/all_reduce.cu                   > /home/gaoxiang/pytorch/third_party/build/nccl/obj/all_reduce.o\r\nCompiling src/broadcast.cu                    > /home/gaoxiang/pytorch/third_party/build/nccl/obj/broadcast.o\r\nCompiling src/reduce.cu                       > /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce.o\r\nCompiling src/reduce_scatter.cu               > /home/gaoxiang/pytorch/third_party/build/nccl/obj/reduce_scatter.o\r\nLinking   libnccl.so.1.3.5                    > /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl.so.1.3.5\r\nArchiving libnccl_static.a                    > /home/gaoxiang/pytorch/third_party/build/nccl/lib/libnccl_static.a\r\n[1/2] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\r\n+ mkdir -p /home/gaoxiang/pytorch/torch/lib/tmp_install/lib\r\n+ cp lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1\r\n+ '[' '!' -f /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so ']'\r\n+ ln -s /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so.1 /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\r\n+ popd\r\n~/pytorch/third_party ~/pytorch\r\n+ export CUDA_NVCC_EXECUTABLE=\r\n+ CUDA_NVCC_EXECUTABLE=\r\n+ export PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\r\n+ PATH=/opt/cache/bin:/usr/local/cuda-9.1/bin:/home/gaoxiang/anaconda3/bin:/apps/parsync:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/apps/amber/bin\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ caffe2 == \\n\\c\\c\\l ]]\r\n+ [[ caffe2 == \\g\\l\\o\\o ]]\r\n+ [[ caffe2 == \\c\\a\\f\\f\\e\\2 ]]\r\n+ pushd /home/gaoxiang/pytorch\r\n~/pytorch ~/pytorch\r\n+ build_caffe2\r\n+ mkdir -p build\r\n+ pushd build\r\n~/pytorch/build ~/pytorch ~/pytorch\r\n+ cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release -DBUILD_CAFFE2=0 -DBUILD_ATEN=ON -DBUILD_PYTHON=0 -DBUILD_BINARY=OFF -DBUILD_SHARED_LIBS=ON -DONNX_NAMESPACE=onnx_torch -DUSE_CUDA=1 -DUSE_ROCM=0 -DUSE_NNPACK=1 -DCUDNN_INCLUDE_DIR=/usr/include/ -DCUDNN_LIB_DIR=/usr/lib/x86_64-linux-gnu/ -DCUDNN_LIBRARY=/usr/lib/x86_64-linux-gnu/libcudnn.so.6 -DUSE_MKLDNN=1 -DMKLDNN_INCLUDE_DIR=/home/gaoxiang/anaconda3/bin/../include -DMKLDNN_LIB_DIR=/home/gaoxiang/anaconda3/bin/../lib -DMKLDNN_LIBRARY=/home/gaoxiang/anaconda3/bin/../lib/libmkldnn.so -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -DCMAKE_C_FLAGS= -DCMAKE_CXX_FLAGS= -DCMAKE_EXE_LINKER_FLAGS= -DCMAKE_SHARED_LINKER_FLAGS=\r\n-- The CXX compiler identification is GNU 6.4.0\r\n-- The C compiler identification is GNU 6.4.0\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Not forcing any particular BLAS to be found\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\r\n-- Does not need to define long separately.\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\r\n-- std::exception_ptr is supported.\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\r\n-- NUMA is available\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\r\n-- Current compiler supports avx2 extention. Will build perfkernels.\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\r\n-- Building using own protobuf under third_party per request.\r\n-- Use custom protobuf build.\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Caffe2 protobuf include directory: $<BUILD_INTERFACE:/home/gaoxiang/pytorch/third_party/protobuf/src>$<INSTALL_INTERFACE:include>\r\n-- The BLAS backend of choice:MKL\r\n-- Looking for sys/types.h\r\n-- Looking for sys/types.h - found\r\n-- Looking for stdint.h\r\n-- Looking for stdint.h - found\r\n-- Looking for stddef.h\r\n-- Looking for stddef.h - found\r\n-- Check size of void*\r\n-- Check size of void* - done\r\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf_lp64: /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so\r\n--   Library mkl_gnu_thread: /opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so\r\n--   Library mkl_core: /opt/intel/mkl/lib/intel64/libmkl_core.so\r\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP: TRUE (found version \"4.5\")  \r\n--   Library gomp: -fopenmp\r\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\r\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\r\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\r\n-- Looking for cblas_sgemm\r\n-- Looking for cblas_sgemm - found\r\n-- Brace yourself, we are building NNPACK\r\n-- The ASM compiler identification is GNU\r\n-- Found assembler: /usr/bin/gcc-6\r\n-- Found PythonInterp: /home/gaoxiang/anaconda3/bin/python (found version \"3.6.3\") \r\n-- Check if compiler accepts -pthread\r\n-- Check if compiler accepts -pthread - yes\r\n-- Found Numa: /usr/include  \r\n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\r\nCMake Warning at cmake/Dependencies.cmake:310 (find_package):\r\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\r\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\r\n  CMake did not find one.\r\n\r\n  Could not find a package configuration file provided by \"Eigen3\" with any\r\n  of the following names:\r\n\r\n    Eigen3Config.cmake\r\n    eigen3-config.cmake\r\n\r\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\r\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\r\n  provides a separate development package or SDK, be sure it has been\r\n  installed.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:181 (include)\r\n\r\n\r\n-- Did not find system Eigen. Using third party subdirectory.\r\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \r\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\r\nCMake Warning at cmake/public/cuda.cmake:11 (message):\r\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\r\n  or a Caffe2 dependent library, the next warning / error will give you more\r\n  info.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:413 (include)\r\n  CMakeLists.txt:181 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:442 (message):\r\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:181 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:518 (message):\r\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\r\n  -DUSE_NCCL=OFF.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:181 (include)\r\n\r\n\r\n-- Performing Test SUPPORT_GLIBCXX_USE_C99\r\n-- Performing Test SUPPORT_GLIBCXX_USE_C99 - Success\r\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\r\n-- Found CUDA with FP16 support, compiling with torch.cuda.HalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- Performing Test COMPILER_WORKS\r\n-- Performing Test COMPILER_WORKS - Success\r\n-- Looking for cpuid.h\r\n-- Looking for cpuid.h - found\r\n-- Performing Test HAVE_GCC_GET_CPUID\r\n-- Performing Test HAVE_GCC_GET_CPUID - Success\r\n-- Performing Test NO_GCC_EBX_FPIC_BUG\r\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success\r\n-- Performing Test .......... some SSE and AVX tests ..........\r\n-- SSE2 Found\r\n-- SSE3 Found\r\n-- AVX Found\r\n-- Performing Test HAS_C11_ATOMICS\r\n-- Performing Test HAS_C11_ATOMICS - Failed\r\n-- Performing Test HAS_MSC_ATOMICS\r\n-- Performing Test HAS_MSC_ATOMICS - Failed\r\n-- Performing Test HAS_GCC_ATOMICS\r\n-- Performing Test HAS_GCC_ATOMICS - Success\r\n-- Atomics: using GCC intrinsics\r\n-- Performing Test BLAS_F2C_DOUBLE_WORKS\r\n-- Performing Test BLAS_F2C_DOUBLE_WORKS - Failed\r\n-- Performing Test BLAS_F2C_FLOAT_WORKS\r\n-- Performing Test BLAS_F2C_FLOAT_WORKS - Success\r\n-- Performing Test BLAS_USE_CBLAS_DOT\r\n-- Performing Test BLAS_USE_CBLAS_DOT - Success\r\n-- Found a library with BLAS API (mkl).\r\n-- Found a library with LAPACK API. (mkl)\r\ndisabling CUDA because NOT USE_CUDA is set\r\n-- CuDNN not found. Compiling without CuDNN support\r\n-- Found MKLDNN: /home/gaoxiang/anaconda3/include  \r\n-- Found MKLDNN      (include: /home/gaoxiang/anaconda3/include, library: /home/gaoxiang/anaconda3/lib/libmkldnn.so)\r\n-- Looking for clock_gettime in rt\r\n-- Looking for clock_gettime in rt - found\r\n-- Looking for mmap\r\n-- Looking for mmap - found\r\n-- Looking for shm_open\r\n-- Looking for shm_open - found\r\n-- Looking for shm_unlink\r\n-- Looking for shm_unlink - found\r\n-- Looking for malloc_usable_size\r\n-- Looking for malloc_usable_size - found\r\n-- Performing Test C_HAS_THREAD\r\n-- Performing Test C_HAS_THREAD - Success\r\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line\r\n-- Using python found in /home/gaoxiang/anaconda3/bin/python\r\ndisabling CUDA because USE_CUDA is set false\r\n-- Check size of long double\r\n-- Check size of long double - done\r\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE\r\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success\r\n-- Performing Test COMPILER_SUPPORTS_FLOAT128\r\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Success\r\n-- Performing Test COMPILER_SUPPORTS_SSE2\r\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success\r\n-- Performing Test COMPILER_SUPPORTS_SSE4\r\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success\r\n-- Performing Test COMPILER_SUPPORTS_AVX\r\n-- Performing Test COMPILER_SUPPORTS_AVX - Success\r\n-- Performing Test COMPILER_SUPPORTS_FMA4\r\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success\r\n-- Performing Test COMPILER_SUPPORTS_AVX2\r\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success\r\n-- Performing Test COMPILER_SUPPORTS_SVE\r\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed\r\n-- Performing Test COMPILER_SUPPORTS_AVX512F\r\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Failed\r\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \r\n-- Performing Test COMPILER_SUPPORTS_OPENMP\r\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Success\r\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES\r\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Success\r\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH\r\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success\r\n-- Configuring build for SLEEF-v3.2\r\n   Target system: Linux-4.4.0-92-generic\r\n   Target processor: x86_64\r\n   Host system: Linux-4.4.0-92-generic\r\n   Host processor: x86_64\r\n   Detected C compiler: GNU @ /usr/bin/gcc-6\r\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\r\n-- Building shared libs : OFF\r\n-- MPFR : /home/gaoxiang/anaconda3/lib/libmpfr.so\r\n-- MPFR header file in /home/gaoxiang/anaconda3/include\r\n-- GMP : /home/gaoxiang/anaconda3/lib/libgmp.so\r\n-- RUNNING_ON_TRAVIS : 0\r\n-- COMPILER_SUPPORTS_OPENMP : 1\r\nCMake Warning at CMakeLists.txt:337 (message):\r\n  Generated cmake files are only fully tested if one builds with system glog,\r\n  gflags, and protobuf.  Other settings may generate files that are not well\r\n  tested.\r\n\r\n\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.11.1\r\n--   CMake command         : /home/gaoxiang/anaconda3/bin/cmake\r\n--   Git version           : \r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/g++-6\r\n--   C++ compiler version  : 6.4.0\r\n--   BLAS                  : MKL\r\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_torch -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wno-invalid-partial-specialization -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-private-field -Wno-unused-result -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-error=deprecated-declarations\r\n--   Build type            : Release\r\n--   Compile definitions   : TH_INDEX_BASE=0;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\r\n--   CMAKE_PREFIX_PATH     : \r\n--   CMAKE_INSTALL_PREFIX  : /home/gaoxiang/pytorch/torch/lib/tmp_install\r\n-- \r\n--   BUILD_CAFFE2          : 0\r\n--   BUILD_ATEN            : ON\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_PYTHON          : 0\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : OFF\r\n--   USE_ASAN              : OFF\r\n--   USE_ATEN              : OFF\r\n--   USE_CUDA              : OFF\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : \r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_GLOO              : OFF\r\n--   USE_LEVELDB           : OFF\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : OFF\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : \r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_MPI               : OFF\r\n--   USE_NCCL              : OFF\r\n--   USE_NERVANA_GPU       : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_OBSERVERS         : OFF\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : OFF\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : OFF\r\n--   Public Dependencies  : /opt/intel/mkl/lib/intel64/libmkl_gf_lp64.so;/opt/intel/mkl/lib/intel64/libmkl_gnu_thread.so;/opt/intel/mkl/lib/intel64/libmkl_core.so;-fopenmp;/usr/lib/x86_64-linux-gnu/libpthread.so;/usr/lib/x86_64-linux-gnu/libm.so;/usr/lib/x86_64-linux-gnu/libdl.so;/opt/intel/lib/intel64/libirc.so\r\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;rt;gcc_s;gcc;dl\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CUDNN_INCLUDE_DIR\r\n    CUDNN_LIBRARY\r\n    CUDNN_LIB_DIR\r\n\r\n\r\n-- Build files have been written to: /home/gaoxiang/pytorch/build\r\n+ ninja install -j24\r\n[136/498] Generating include/renamesse4.h\r\nGenerating renamesse4.h: mkrename 2 4 sse4\r\n[137/498] Generating include/renameavx.h\r\nGenerating renameavx.h: mkrename 4 8 avx\r\n[138/498] Generating include/renamefma4.h\r\nGenerating renamefma4.h: mkrename 4 8 fma4\r\n[141/498] Generating include/renameavx2.h\r\nGenerating renameavx2.h: mkrename 4 8 avx2\r\n[146/498] Generating include/renameavx2128.h\r\nGenerating renameavx2128.h: mkrename 2 4 avx2128\r\n[154/498] Generating include/renamesse2.h\r\nGenerating renamesse2.h: mkrename 2 4 sse2\r\n[157/498] Generating ../../../include/sleef.h\r\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__\r\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse2\r\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ sse4\r\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__\r\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ avx\r\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i struct\\ {\\ __m128i\\ x,\\ y;\\ } __AVX__ fma4\r\nGenerating sleef.h: mkrename 4 8 __m256d __m256 __m128i __m256i __AVX__ avx2\r\nGenerating sleef.h: mkrename 2 4 __m128d __m128 __m128i __m128i __SSE2__ avx2128\r\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__\r\nGenerating sleef.h: mkrename 8 16 __m512d __m512 __m256i __m512i __AVX512F__ avx512f\r\n[289/498] Running gen_proto.py on onnx/onnx.in.proto\r\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx.in.proto\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_onnx_torch.proto3\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx.pb.h\r\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_pb.py\r\n[291/498] Running gen_proto.py on onnx/onnx-operators.in.proto\r\nProcessing /home/gaoxiang/pytorch/third_party/onnx/onnx/onnx-operators.in.proto\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators_onnx_torch.proto3\r\nWriting /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx-operators.pb.h\r\ngenerating /home/gaoxiang/pytorch/build/third_party/onnx/onnx/onnx_operators_pb.py\r\n[484/498] Linking CXX executable bin/verify_api_visibility\r\n/usr/bin/x86_64-linux-gnu-ld: warning: libmklml_intel.so, needed by //home/gaoxiang/anaconda3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)\r\n.......... same warning repeat multiple times ..........\r\n[497/498] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Caffe2/Caffe2ConfigVersion.cmake\r\n-- Installing: ......... lots of files .........\r\n+ [[ 0 -ne 0 ]]\r\n+ popd\r\n~/pytorch ~/pytorch\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ nanopb == \\n\\c\\c\\l ]]\r\n+ [[ nanopb == \\g\\l\\o\\o ]]\r\n+ [[ nanopb == \\c\\a\\f\\f\\e\\2 ]]\r\n+ [[ nanopb == \\T\\H\\D ]]\r\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m ]]\r\n+ [[ nanopb == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\r\n+ [[ nanopb == \\c\\1\\0\\d ]]\r\n+ pushd /home/gaoxiang/pytorch/third_party\r\n~/pytorch/third_party ~/pytorch\r\n+ build nanopb\r\n+ mkdir -p build/nanopb\r\n+ pushd build/nanopb\r\n~/pytorch/third_party/build/nanopb ~/pytorch/third_party ~/pytorch\r\n+ BUILD_C_FLAGS=\r\n+ case $1 in\r\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions'\r\n+ cmake ../../nanopb -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fPIC -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\r\n-- The C compiler identification is GNU 6.4.0\r\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\r\n  File\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\r\n  includes\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\r\n  (found via CMAKE_MODULE_PATH) which shadows\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\r\n  This may cause errors later on .\r\n\r\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\r\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\r\n  CMakeLists.txt:3 (project)\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CAFFE2_LIBRARIES\r\n    CMAKE_CXX_FLAGS\r\n    CMAKE_DEBUG_POSTFIX\r\n    CUDA_DEVICE_DEBUG\r\n    CUDA_NVCC_FLAGS\r\n    NCCL_EXTERNAL\r\n    NO_NNPACK\r\n    THCS_LIBRARIES\r\n    THCUNN_LIBRARIES\r\n    THCUNN_SO_VERSION\r\n    THC_LIBRARIES\r\n    THC_SO_VERSION\r\n    THD_SO_VERSION\r\n    THNN_LIBRARIES\r\n    THNN_SO_VERSION\r\n    THS_LIBRARIES\r\n    TH_INCLUDE_PATH\r\n    TH_LIBRARIES\r\n    TH_LIB_PATH\r\n    TH_SO_VERSION\r\n    Torch_FOUND\r\n    USE_CUDA\r\n    cwrap_files\r\n\r\n\r\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/nanopb\r\n+ ninja install -j24\r\n[4/5] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libprotobuf-nanopb.a\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-targets-release.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/cmake/nanopb/nanopb-config-version.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_common.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_encode.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/pb_decode.h\r\n+ popd\r\n~/pytorch/third_party ~/pytorch\r\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnanopb\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ libshm == \\n\\c\\c\\l ]]\r\n+ [[ libshm == \\g\\l\\o\\o ]]\r\n+ [[ libshm == \\c\\a\\f\\f\\e\\2 ]]\r\n+ [[ libshm == \\T\\H\\D ]]\r\n+ [[ libshm == \\l\\i\\b\\s\\h\\m ]]\r\n+ pushd /home/gaoxiang/pytorch/torch/lib\r\n~/pytorch/torch/lib ~/pytorch\r\n+ build libshm\r\n+ mkdir -p build/libshm\r\n+ pushd build/libshm\r\n~/pytorch/torch/lib/build/libshm ~/pytorch/torch/lib ~/pytorch\r\n+ BUILD_C_FLAGS=\r\n+ case $1 in\r\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\r\n+ cmake ../../libshm -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\r\n-- The C compiler identification is GNU 6.4.0\r\n-- The CXX compiler identification is GNU 6.4.0\r\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\r\n  File\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\r\n  includes\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\r\n  (found via CMAKE_MODULE_PATH) which shadows\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\r\n  This may cause errors later on .\r\n\r\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\r\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\r\n  CMakeLists.txt:1 (project)\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Caffe2: Found protobuf with new-style protobuf targets.\r\n-- Caffe2: Protobuf version 3.5.0\r\n-- Looking for clock_gettime in rt\r\n-- Looking for clock_gettime in rt - found\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CMAKE_DEBUG_POSTFIX\r\n    CMAKE_INSTALL_LIBDIR\r\n    CUDA_DEVICE_DEBUG\r\n    CUDA_NVCC_FLAGS\r\n    NCCL_EXTERNAL\r\n    NO_NNPACK\r\n    THCS_LIBRARIES\r\n    THCUNN_LIBRARIES\r\n    THCUNN_SO_VERSION\r\n    THC_LIBRARIES\r\n    THC_SO_VERSION\r\n    THD_SO_VERSION\r\n    THNN_LIBRARIES\r\n    THNN_SO_VERSION\r\n    THS_LIBRARIES\r\n    TH_INCLUDE_PATH\r\n    TH_LIBRARIES\r\n    TH_LIB_PATH\r\n    TH_SO_VERSION\r\n    Torch_FOUND\r\n    USE_CUDA\r\n    cwrap_files\r\n    nanopb_BUILD_GENERATOR\r\n\r\n\r\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/libshm\r\n+ ninja install -j24\r\n[4/5] Linking CXX executable torch_shm_manager\r\nCMakeFiles/torch_shm_manager.dir/manager.cpp.o: In function `main':\r\nmanager.cpp:(.text.startup+0x35): warning: the use of `tmpnam' is dangerous, better use `mkstemp'\r\n[4/5] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\r\n-- Set runtime path of \"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libshm.so\" to \"\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/libshm.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/bin/torch_shm_manager\r\n+ popd\r\n~/pytorch/torch/lib ~/pytorch\r\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/liblibshm\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ gloo == \\n\\c\\c\\l ]]\r\n+ [[ gloo == \\g\\l\\o\\o ]]\r\n+ pushd /home/gaoxiang/pytorch/third_party\r\n~/pytorch/third_party ~/pytorch\r\n+ build gloo -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install\r\n+ mkdir -p build/gloo\r\n+ pushd build/gloo\r\n~/pytorch/third_party/build/gloo ~/pytorch/third_party ~/pytorch\r\n+ BUILD_C_FLAGS=\r\n+ case $1 in\r\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\r\n+ cmake ../../gloo -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/gaoxiang/pytorch/torch/lib/tmp_install -DCMAKE_EXPORT_COMPILE_COMMANDS=1\r\n-- The CXX compiler identification is GNU 6.4.0\r\n-- The C compiler identification is GNU 6.4.0\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.0\")\r\nCMake Warning at cmake/Dependencies.cmake:46 (message):\r\n  Not compiling with CUDA support.  Suppress this warning with\r\n  -DUSE_CUDA=OFF.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:56 (include)\r\n\r\n\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CAFFE2_LIBRARIES\r\n    CMAKE_DEBUG_POSTFIX\r\n    CMAKE_INSTALL_LIBDIR\r\n    CUDA_DEVICE_DEBUG\r\n    NCCL_EXTERNAL\r\n    NCCL_ROOT_DIR\r\n    NO_NNPACK\r\n    THCS_LIBRARIES\r\n    THCUNN_LIBRARIES\r\n    THCUNN_SO_VERSION\r\n    THC_LIBRARIES\r\n    THC_SO_VERSION\r\n    THD_SO_VERSION\r\n    THNN_LIBRARIES\r\n    THNN_SO_VERSION\r\n    THS_LIBRARIES\r\n    TH_INCLUDE_PATH\r\n    TH_LIBRARIES\r\n    TH_LIB_PATH\r\n    TH_SO_VERSION\r\n    Torch_FOUND\r\n    cwrap_files\r\n    nanopb_BUILD_GENERATOR\r\n\r\n\r\n-- Build files have been written to: /home/gaoxiang/pytorch/third_party/build/gloo\r\n+ ninja install -j24\r\n[22/23] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfig.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooConfigVersion.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/share/cmake/Gloo/GlooTargets-release.cmake\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo_builder.a\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/config.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/algorithm.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_halving_doubling.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_bcube.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_local.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_ring_chunked.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_all.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/barrier_all_to_one.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_one_to_all.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/reduce_scatter.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/context.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/math.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/pairwise_exchange.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/types.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/common.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/error.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/linux_devices.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/logging.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/common/string.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/file_store.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/hash_store.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/prefix_store.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/store.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/rendezvous/context.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/address.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/buffer.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/device.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/pair.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/address.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/buffer.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/device.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/transport/tcp/pair.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/allreduce_builder.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/gloo/broadcast_builder.h\r\n+ popd\r\n~/pytorch/third_party ~/pytorch\r\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ THD == \\n\\c\\c\\l ]]\r\n+ [[ THD == \\g\\l\\o\\o ]]\r\n+ [[ THD == \\c\\a\\f\\f\\e\\2 ]]\r\n+ [[ THD == \\T\\H\\D ]]\r\n+ pushd /home/gaoxiang/pytorch/torch/lib\r\n~/pytorch/torch/lib ~/pytorch\r\n+ build THD\r\n+ mkdir -p build/THD\r\n+ pushd build/THD\r\n~/pytorch/torch/lib/build/THD ~/pytorch/torch/lib ~/pytorch\r\n+ BUILD_C_FLAGS=\r\n+ case $1 in\r\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\r\n+ cmake ../../THD -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\r\n-- The C compiler identification is GNU 6.4.0\r\n-- The CXX compiler identification is GNU 6.4.0\r\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\r\n  File\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\r\n  includes\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\r\n  (found via CMAKE_MODULE_PATH) which shadows\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\r\n  This may cause errors later on .\r\n\r\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\r\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\r\n  CMakeLists.txt\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Performing Test HAS_THREAD_LOCAL\r\n-- Performing Test HAS_THREAD_LOCAL - Success\r\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \r\n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \r\n-- Found MPI: TRUE (found version \"3.0\")  \r\n-- Could NOT find Gloo (missing: Gloo_LIBRARY) \r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Caffe2: Found protobuf with new-style protobuf targets.\r\n-- Caffe2: Protobuf version 3.5.0\r\n-- Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE) (Required is at least version \"7.5\")\r\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \r\n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\r\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\r\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\r\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\r\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Communication.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Generator.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Storage.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/Tensor.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorCopy.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorLapack.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorMath.cpp from the build\r\n-- Excluding /home/gaoxiang/pytorch/torch/lib/THD/master_worker/worker/dispatch/TensorRandom.cpp from the build\r\n-- MPI_COMPILE_FLAGS: -pthread\r\n-- MPI_LINK_FLAGS: -Wl,-rpath -Wl,/usr/lib/openmpi/lib -Wl,--enable-new-dtags -pthread\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CMAKE_DEBUG_POSTFIX\r\n    CMAKE_INSTALL_LIBDIR\r\n    CUDA_DEVICE_DEBUG\r\n    NCCL_EXTERNAL\r\n    NO_NNPACK\r\n    THCS_LIBRARIES\r\n    THCUNN_LIBRARIES\r\n    THCUNN_SO_VERSION\r\n    THC_LIBRARIES\r\n    THC_SO_VERSION\r\n    THD_SO_VERSION\r\n    THNN_LIBRARIES\r\n    THNN_SO_VERSION\r\n    THS_LIBRARIES\r\n    TH_INCLUDE_PATH\r\n    TH_LIBRARIES\r\n    TH_LIB_PATH\r\n    TH_SO_VERSION\r\n    Torch_FOUND\r\n    cwrap_files\r\n    nanopb_BUILD_GENERATOR\r\n\r\n\r\n-- Build files have been written to: /home/gaoxiang/pytorch/torch/lib/build/THD\r\n+ ninja install -j24\r\n[15/16] Install the project...\r\n-- Install configuration: \"Release\"\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD.a\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/THD.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/ChannelType.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/Cuda.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannel.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/DataChannelRequest.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/THDGenerateAllTypes.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/Collectives.h\r\n-- Installing: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/THD/process_group/General.h\r\n+ popd\r\n~/pytorch/torch/lib ~/pytorch\r\n+ local lib_prefix=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHD\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ popd\r\n~/pytorch\r\n+ for arg in '\"$@\"'\r\n+ [[ c10d == \\n\\c\\c\\l ]]\r\n+ [[ c10d == \\g\\l\\o\\o ]]\r\n+ [[ c10d == \\c\\a\\f\\f\\e\\2 ]]\r\n+ [[ c10d == \\T\\H\\D ]]\r\n+ [[ c10d == \\l\\i\\b\\s\\h\\m ]]\r\n+ [[ c10d == \\l\\i\\b\\s\\h\\m\\_\\w\\i\\n\\d\\o\\w\\s ]]\r\n+ [[ c10d == \\c\\1\\0\\d ]]\r\n+ pushd /home/gaoxiang/pytorch/torch/lib\r\n~/pytorch/torch/lib ~/pytorch\r\n+ build c10d\r\n+ mkdir -p build/c10d\r\n+ pushd build/c10d\r\n~/pytorch/torch/lib/build/c10d ~/pytorch/torch/lib ~/pytorch\r\n+ BUILD_C_FLAGS=\r\n+ case $1 in\r\n+ BUILD_C_FLAGS=' -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions'\r\n+ cmake ../../c10d -DCMAKE_MODULE_PATH=/home/gaoxiang/pytorch/cmake/Modules_CUDA_fix -GNinja -DTorch_FOUND=1 -DCMAKE_INSTALL_PREFIX=/home/gaoxiang/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions ' '-DCMAKE_CXX_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 -fexceptions  -std=c++11  ' '-DCMAKE_EXE_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' '-DCMAKE_SHARED_LINKER_FLAGS=-L\"/home/gaoxiang/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN ' -DCMAKE_INSTALL_LIBDIR=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib '-DCUDA_NVCC_FLAGS= -DTH_INDEX_BASE=0 -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gaoxiang/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1' -DCUDA_DEVICE_DEBUG=0 -DCMAKE_PREFIX_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install '-Dcwrap_files=/home/gaoxiang/pytorch/torch/lib/ATen/Declarations.cwrap;/home/gaoxiang/pytorch/torch/lib/THNN/generic/THNN.h;/home/gaoxiang/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/gaoxiang/pytorch/torch/lib/ATen/nn.yaml' -DTH_INCLUDE_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/include -DTH_LIB_PATH=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib -DTH_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTH.so -DCAFFE2_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libcaffe2.so -DTHNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHNN.so -DTHCUNN_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCUNN.so -DTHS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHS.so -DTHC_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHC.so -DTHCS_LIBRARIES=/home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libTHCS.so -DTH_SO_VERSION=1 -DTHC_SO_VERSION=1 -DTHNN_SO_VERSION=1 -DTHCUNN_SO_VERSION=1 -DTHD_SO_VERSION=1 -DUSE_CUDA=1 -DNO_NNPACK=0 -DNCCL_EXTERNAL=1 -Dnanopb_BUILD_GENERATOR=0 -DCMAKE_DEBUG_POSTFIX= -DCMAKE_BUILD_TYPE=Release -DCMAKE_EXPORT_COMPILE_COMMANDS=1\r\n-- The C compiler identification is GNU 6.4.0\r\n-- The CXX compiler identification is GNU 6.4.0\r\nCMake Warning (dev) at /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake:4 (include):\r\n  File\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeGenericSystem.cmake\r\n  includes\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/CMakeInitializeConfigs.cmake\r\n  (found via CMAKE_MODULE_PATH) which shadows\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeInitializeConfigs.cmake.\r\n  This may cause errors later on .\r\n\r\n  Policy CMP0017 is not set: Prefer files from the CMake module directory\r\n  when including from there.  Run \"cmake --help-policy CMP0017\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/anaconda3/share/cmake-3.11/Modules/CMakeSystemSpecificInformation.cmake:21 (include)\r\n  CMakeLists.txt\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Check for working C compiler: /usr/bin/gcc-6\r\n-- Check for working C compiler: /usr/bin/gcc-6 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/g++-6\r\n-- Check for working CXX compiler: /usr/bin/g++-6 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Caffe2: Found protobuf with new-style protobuf targets.\r\n-- Caffe2: Protobuf version 3.5.0\r\n-- Found Gloo: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \r\n-- Gloo_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\r\n-- Gloo_NATIVE_LIBRARY: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libgloo.a\r\n-- Gloo_INCLUDE_DIR: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\r\n-- Found MPI_C: /usr/lib/openmpi/lib/libmpi.so (found version \"3.0\") \r\n-- Found MPI_CXX: /usr/lib/openmpi/lib/libmpi_cxx.so (found version \"3.0\") \r\n-- Found MPI: TRUE (found version \"3.0\")  \r\n-- MPI_INCLUDE_PATH: /usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent;/usr/lib/openmpi/include/openmpi/opal/mca/event/libevent2021/libevent/include;/usr/lib/openmpi/include/openmpi;/usr/lib/openmpi/include\r\n-- MPI_LIBRARIES: /usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so\r\n-- MPIEXEC: /usr/bin/mpiexec\r\n-- Found NCCL: /home/gaoxiang/pytorch/torch/lib/tmp_install/include  \r\n-- Determining NCCL version from the header file: /home/gaoxiang/pytorch/torch/lib/tmp_install/include/nccl.h\r\n-- Found NCCL (include: /home/gaoxiang/pytorch/torch/lib/tmp_install/include, library: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so)\r\n-- NCCL_LIBRARIES: /home/gaoxiang/pytorch/torch/lib/tmp_install/lib/libnccl.so\r\n-- NCCL_INCLUDE_DIRS: /home/gaoxiang/pytorch/torch/lib/tmp_install/include\r\n-- Found NCCL, but the NCCL version is either not 2+ or not determinable, will not compile with NCCL distributed backend\r\nCMake Error at /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:137 (message):\r\n  Could NOT find CUDA (missing: CUDA_NVCC_EXECUTABLE)\r\nCall Stack (most recent call first):\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)\r\n  /home/gaoxiang/pytorch/cmake/Modules_CUDA_fix/FindCUDA.cmake:1104 (find_package_handle_standard_args)\r\n  CMakeLists.txt:57 (find_package)\r\n\r\n\r\n-- Configuring incomplete, errors occurred!\r\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeOutput.log\".\r\nSee also \"/home/gaoxiang/pytorch/torch/lib/build/c10d/CMakeFiles/CMakeError.log\".\r\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'\r\n```\r\n\r\nThe full log can be found at https://gist.github.com/zasdfgbnm/4530a36ece21c2a082e4d5695da3e196\r\n\r\n## System Info\r\n```\r\nCollecting environment information...\r\nPyTorch version: 0.5.0a0+4f37a64\r\nIs debug build: No\r\nCUDA used to build PyTorch: Could not collect\r\n\r\nOS: Ubuntu 16.04.4 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609\r\nCMake version: version 3.11.1\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: 9.1.85\r\nGPU models and configuration: \r\nGPU 0: GeForce GTX 1080 Ti\r\nGPU 1: GeForce GTX 1080 Ti\r\nGPU 2: GeForce GTX 1080 Ti\r\nGPU 3: GeForce GTX 1080 Ti\r\n\r\nNvidia driver version: 390.25\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.6.0.21\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v6.a\r\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.58\r\n/usr/local/cuda-7.0/lib64/libcudnn.so.7.0.64\r\n/usr/local/cuda-7.0/lib64/libcudnn_static.a\r\n\r\nVersions of relevant libraries:\r\n[pip3] numpy (1.14.5)\r\n[pip3] numpydoc (0.7.0)\r\n[pip3] torch (0.5.0a0+d2f98fc)\r\n[pip3] torchani (0.1, /home/gaoxiang/torchani)\r\n[conda] magma-cuda80              2.3.0                         1    pytorch\r\n[conda] magma-cuda91              2.3.0                         1    pytorch\r\n[conda] torch                     0.5.0a0+d2f98fc           <pip>\r\n[conda] torch                     0.5.0a0+372d1d6           <pip>\r\n[conda] torch                     0.5.0a0+4f37a64           <pip>\r\n[conda] torch                     0.5.0a0+8275e43           <pip>\r\n[conda] torchani                  0.1                       <pip>\r\n```"}