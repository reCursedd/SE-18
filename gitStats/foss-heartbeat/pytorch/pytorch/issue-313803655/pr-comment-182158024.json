{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/182158024", "pull_request_review_id": 112909118, "id": 182158024, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MjE1ODAyNA==", "diff_hunk": "@@ -62,8 +62,38 @@ inline std::vector<VariableFlags> getVarFlags(const variable_list& vars) {\n   return fmap(vars, &VariableFlags::of);\n }\n \n-}\n+} // namespace detail\n+\n+\n+struct ArgumentStash {", "path": "torch/csrc/jit/tracer.h", "position": null, "original_position": 8, "commit_id": "f28741691dae2b1b5540bc1b50d1b97ad4279cf8", "original_commit_id": "28a2f65c8728b3cd777477227f3c9d6b66eee018", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "So the issue with tracing of e.g. sizes is that by the time they get to where we record the trace, they are already `IntList`, so we can't associate any meta data with them. To get around this, the argument parser is augmented to stash any arguments containing traced values in here, and the code that emits the IR node is adjusted to add dependencies on them if the stash is not empty.\r\n\r\nI'll add this as a comment too.", "created_at": "2018-04-17T17:10:00Z", "updated_at": "2018-11-23T15:42:36Z", "html_url": "https://github.com/pytorch/pytorch/pull/6554#discussion_r182158024", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/6554", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/182158024"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/6554#discussion_r182158024"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/6554"}}, "body_html": "<p>So the issue with tracing of e.g. sizes is that by the time they get to where we record the trace, they are already <code>IntList</code>, so we can't associate any meta data with them. To get around this, the argument parser is augmented to stash any arguments containing traced values in here, and the code that emits the IR node is adjusted to add dependencies on them if the stash is not empty.</p>\n<p>I'll add this as a comment too.</p>", "body_text": "So the issue with tracing of e.g. sizes is that by the time they get to where we record the trace, they are already IntList, so we can't associate any meta data with them. To get around this, the argument parser is augmented to stash any arguments containing traced values in here, and the code that emits the IR node is adjusted to add dependencies on them if the stash is not empty.\nI'll add this as a comment too.", "in_reply_to_id": 181833975}