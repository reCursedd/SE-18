{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12868", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12868/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12868/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12868/events", "html_url": "https://github.com/pytorch/pytorch/issues/12868", "id": 371876608, "node_id": "MDU6SXNzdWUzNzE4NzY2MDg=", "number": 12868, "title": "[CAPI] Increase of memory usage when exporting a Adam optimzer", "user": {"login": "Strasser-Pablo", "id": 1110541, "node_id": "MDQ6VXNlcjExMTA1NDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1110541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Strasser-Pablo", "html_url": "https://github.com/Strasser-Pablo", "followers_url": "https://api.github.com/users/Strasser-Pablo/followers", "following_url": "https://api.github.com/users/Strasser-Pablo/following{/other_user}", "gists_url": "https://api.github.com/users/Strasser-Pablo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Strasser-Pablo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Strasser-Pablo/subscriptions", "organizations_url": "https://api.github.com/users/Strasser-Pablo/orgs", "repos_url": "https://api.github.com/users/Strasser-Pablo/repos", "events_url": "https://api.github.com/users/Strasser-Pablo/events{/privacy}", "received_events_url": "https://api.github.com/users/Strasser-Pablo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 917150434, "node_id": "MDU6TGFiZWw5MTcxNTA0MzQ=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/cpp", "name": "cpp", "color": "000000", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-19T09:27:02Z", "updated_at": "2018-10-22T17:43:23Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>Similarly than bug <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"366336908\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/12284/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/12284\">#12284</a> but with an instance of Adam optimizer.<br>\nThe stored file and gpu memory usage grow very quick.</p>\n<h2>Expected behavior</h2>\n<p>No memory increase.</p>\n<h2>Environment</h2>\n<p>Collecting environment information...<br>\nPyTorch version: 1.0.0a0<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: 9.0.176</p>\n<p>OS: Ubuntu 16.04.5 LTS<br>\nGCC version: (GCC) 8.2.0<br>\nCMake version: version 3.12.0</p>\n<p>Python version: 3.5<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.0.176<br>\nGPU models and configuration: GPU 0: GeForce GTX 1070<br>\nNvidia driver version: 396.54<br>\ncuDNN version: Probably one of the following:<br>\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1<br>\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a</p>\n<p>Versions of relevant libraries:<br>\n[pip] Could not collect<br>\n[conda] Could not collect</p>\n<h2>Additional context</h2>\n<p>Note that I have the patch of bug <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"366336908\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/12284/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/12284\">#12284</a>. This seem to be a similar but disjoint bug.</p>", "body_text": "\ud83d\udc1b Bug\nSimilarly than bug #12284 but with an instance of Adam optimizer.\nThe stored file and gpu memory usage grow very quick.\nExpected behavior\nNo memory increase.\nEnvironment\nCollecting environment information...\nPyTorch version: 1.0.0a0\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\nOS: Ubuntu 16.04.5 LTS\nGCC version: (GCC) 8.2.0\nCMake version: version 3.12.0\nPython version: 3.5\nIs CUDA available: Yes\nCUDA runtime version: 9.0.176\nGPU models and configuration: GPU 0: GeForce GTX 1070\nNvidia driver version: 396.54\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\nVersions of relevant libraries:\n[pip] Could not collect\n[conda] Could not collect\nAdditional context\nNote that I have the patch of bug #12284. This seem to be a similar but disjoint bug.", "body": "## \ud83d\udc1b Bug\r\nSimilarly than bug #12284 but with an instance of Adam optimizer.\r\nThe stored file and gpu memory usage grow very quick.\r\n## Expected behavior\r\nNo memory increase.\r\n\r\n## Environment\r\n\r\nCollecting environment information...\r\nPyTorch version: 1.0.0a0\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.0.176\r\n\r\nOS: Ubuntu 16.04.5 LTS\r\nGCC version: (GCC) 8.2.0\r\nCMake version: version 3.12.0\r\n\r\nPython version: 3.5\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.0.176\r\nGPU models and configuration: GPU 0: GeForce GTX 1070\r\nNvidia driver version: 396.54\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\r\n\r\nVersions of relevant libraries:\r\n[pip] Could not collect\r\n[conda] Could not collect\r\n## Additional context\r\n\r\nNote that I have the patch of bug #12284. This seem to be a similar but disjoint bug.\r\n"}