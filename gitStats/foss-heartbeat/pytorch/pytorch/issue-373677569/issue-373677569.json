{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13075", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13075/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13075/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13075/events", "html_url": "https://github.com/pytorch/pytorch/issues/13075", "id": 373677569, "node_id": "MDU6SXNzdWUzNzM2Nzc1Njk=", "number": 13075, "title": "another cmake-version-comparison bug", "user": {"login": "anderspapitto", "id": 1388690, "node_id": "MDQ6VXNlcjEzODg2OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1388690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anderspapitto", "html_url": "https://github.com/anderspapitto", "followers_url": "https://api.github.com/users/anderspapitto/followers", "following_url": "https://api.github.com/users/anderspapitto/following{/other_user}", "gists_url": "https://api.github.com/users/anderspapitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/anderspapitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderspapitto/subscriptions", "organizations_url": "https://api.github.com/users/anderspapitto/orgs", "repos_url": "https://api.github.com/users/anderspapitto/repos", "events_url": "https://api.github.com/users/anderspapitto/events{/privacy}", "received_events_url": "https://api.github.com/users/anderspapitto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-24T21:07:21Z", "updated_at": "2018-10-25T00:25:20Z", "closed_at": "2018-10-25T00:25:20Z", "author_association": "MEMBER", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<pre><code>[andersj@devgpu201.prn2 ~/local/pytorch] time DEBUG=1 TORCH_CUDA_ARCH_LIST=\"5.2\" WERROR=1 BUILD_TEST=ON USE_MPI=ON USE_CUDA=OFF USE_DISTRIBUTED=ON python setup.py build develop\nBuilding wheel torch-1.0.0a0+382f1da\nrunning build\nrunning build_deps\nsetup.py::build_deps::run()\n+ SYNC_COMMAND=cp\n++ command -v rsync\n+ '[' -x /bin/rsync ']'\n+ SYNC_COMMAND='rsync -lptgoD'\n+ CMAKE_COMMAND=cmake\n++ command -v cmake3\n+ [[ -x /bin/cmake3 ]]\n++ command -v cmake\n+ [[ -x /home/andersj/local/miniconda3/bin/cmake ]]\n++ cmake --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE_VERSION=3.12.2\n++ cmake3 --version\n++ grep 'cmake3 version'\n++ awk '{print $NF}'\n+ CMAKE3_VERSION=\n++ /home/andersj/local/miniconda3/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") &gt;= StrictVersion(\"3.12.2\") else 0)'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 70, in __ge__\n    c = self._cmp(other)\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 170, in _cmp\n    if self.version != other.version:\nAttributeError: 'StrictVersion' object has no attribute 'version'\n+ CMAKE3_IS_NEWER=\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2 libshm'\n\nreal    0m0.394s\nuser    0m0.319s\nsys     0m0.070s\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake --version\ncmake version 3.12.2\n\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake3 --version\ncmake version 3.7.2\n\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\n</code></pre>", "body_text": "\ud83d\udc1b Bug\n[andersj@devgpu201.prn2 ~/local/pytorch] time DEBUG=1 TORCH_CUDA_ARCH_LIST=\"5.2\" WERROR=1 BUILD_TEST=ON USE_MPI=ON USE_CUDA=OFF USE_DISTRIBUTED=ON python setup.py build develop\nBuilding wheel torch-1.0.0a0+382f1da\nrunning build\nrunning build_deps\nsetup.py::build_deps::run()\n+ SYNC_COMMAND=cp\n++ command -v rsync\n+ '[' -x /bin/rsync ']'\n+ SYNC_COMMAND='rsync -lptgoD'\n+ CMAKE_COMMAND=cmake\n++ command -v cmake3\n+ [[ -x /bin/cmake3 ]]\n++ command -v cmake\n+ [[ -x /home/andersj/local/miniconda3/bin/cmake ]]\n++ cmake --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE_VERSION=3.12.2\n++ cmake3 --version\n++ grep 'cmake3 version'\n++ awk '{print $NF}'\n+ CMAKE3_VERSION=\n++ /home/andersj/local/miniconda3/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") >= StrictVersion(\"3.12.2\") else 0)'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 70, in __ge__\n    c = self._cmp(other)\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 170, in _cmp\n    if self.version != other.version:\nAttributeError: 'StrictVersion' object has no attribute 'version'\n+ CMAKE3_IS_NEWER=\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2 libshm'\n\nreal    0m0.394s\nuser    0m0.319s\nsys     0m0.070s\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake --version\ncmake version 3.12.2\n\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake3 --version\ncmake version 3.7.2\n\nCMake suite maintained and supported by Kitware (kitware.com/cmake).", "body": "## \ud83d\udc1b Bug\r\n\r\n```\r\n[andersj@devgpu201.prn2 ~/local/pytorch] time DEBUG=1 TORCH_CUDA_ARCH_LIST=\"5.2\" WERROR=1 BUILD_TEST=ON USE_MPI=ON USE_CUDA=OFF USE_DISTRIBUTED=ON python setup.py build develop\r\nBuilding wheel torch-1.0.0a0+382f1da\r\nrunning build\r\nrunning build_deps\r\nsetup.py::build_deps::run()\r\n+ SYNC_COMMAND=cp\r\n++ command -v rsync\r\n+ '[' -x /bin/rsync ']'\r\n+ SYNC_COMMAND='rsync -lptgoD'\r\n+ CMAKE_COMMAND=cmake\r\n++ command -v cmake3\r\n+ [[ -x /bin/cmake3 ]]\r\n++ command -v cmake\r\n+ [[ -x /home/andersj/local/miniconda3/bin/cmake ]]\r\n++ cmake --version\r\n++ grep 'cmake version'\r\n++ awk '{print $NF}'\r\n+ CMAKE_VERSION=3.12.2\r\n++ cmake3 --version\r\n++ grep 'cmake3 version'\r\n++ awk '{print $NF}'\r\n+ CMAKE3_VERSION=\r\n++ /home/andersj/local/miniconda3/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") >= StrictVersion(\"3.12.2\") else 0)'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 70, in __ge__\r\n    c = self._cmp(other)\r\n  File \"/home/andersj/local/miniconda3/lib/python3.7/distutils/version.py\", line 170, in _cmp\r\n    if self.version != other.version:\r\nAttributeError: 'StrictVersion' object has no attribute 'version'\r\n+ CMAKE3_IS_NEWER=\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2 libshm'\r\n\r\nreal    0m0.394s\r\nuser    0m0.319s\r\nsys     0m0.070s\r\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake --version\r\ncmake version 3.12.2\r\n\r\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\r\n[andersj@devgpu201.prn2 ~/local/pytorch] cmake3 --version\r\ncmake version 3.7.2\r\n\r\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\r\n```"}