{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10403", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10403/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10403/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10403/events", "html_url": "https://github.com/pytorch/pytorch/issues/10403", "id": 349565992, "node_id": "MDU6SXNzdWUzNDk1NjU5OTI=", "number": 10403, "title": "[ppc64le pytorch] SIGSEGV  on test_matmul_4d_1d", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-10T15:45:34Z", "updated_at": "2018-08-13T14:15:50Z", "closed_at": "2018-08-13T14:15:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p>PyTorch version   torch (0.5.0a0+e9ad743)</p>\n<p>OMP_NUM_THREADS=4</p>\n<p>test_matmul_4d_1d (<strong>main</strong>.TestAutograd) ... Traceback (most recent call last):<br>\nFile \"run_test.py\", line 368, in <br>\nmain()<br>\nFile \"run_test.py\", line 360, in main<br>\nraise RuntimeError(message)<br>\nRuntimeError: test_autograd failed! Received signal: SIGSEGV</p>\n<p>here is the trace :</p>\n<p>Core was generated by `python test_autograd.py --verbose '.<br>\nProgram terminated with signal 11, Segmentation fault.<br>\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0<br>\nMissing separate debuginfos, use: debuginfo-install bzip2-libs-1.0.6-13.el7.ppc64le elfutils-libelf-0.170-4.el7.ppc64le elfutils-libs-0.170-4.el7.ppc64le glibc-2.17-222.el7.ppc64le libattr-2.4.46-13.el7.ppc64le libcap-2.22-9.el7.ppc64le libgfortran-4.8.5-28.el7_5.1.ppc64le openblas-0.3.0-1.el7.ppc64le systemd-libs-219-57.el7.ppc64le<br>\n(gdb) bt<br>\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0<br>\n(gdb) bt<br>\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0</p>\n<p>If I run the unittest by itself , it passes.<br>\nIf I run the unittest in a for loop it passes mostly but randomly fails with SEGV</p>\n<p>I saw <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"342734897\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9586\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9586/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9586\">#9586</a>,  but in my case this unittest seems to pass just fine , even in a for loop</p>\n<p>I tried to use a couple of  libopenblas.so versions but same result<br>\nRH 7.5<br>\nopenblas-devel-0.3.0-1.el7.ppc64le<br>\nand<br>\nlibopenblas-0.2.20-2596.dd38835.ppc64le</p>\n<p>I also tried setting :  OMP_NUM_THREADS=1  and still fails</p>", "body_text": "PyTorch version   torch (0.5.0a0+e9ad743)\nOMP_NUM_THREADS=4\ntest_matmul_4d_1d (main.TestAutograd) ... Traceback (most recent call last):\nFile \"run_test.py\", line 368, in \nmain()\nFile \"run_test.py\", line 360, in main\nraise RuntimeError(message)\nRuntimeError: test_autograd failed! Received signal: SIGSEGV\nhere is the trace :\nCore was generated by `python test_autograd.py --verbose '.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\nMissing separate debuginfos, use: debuginfo-install bzip2-libs-1.0.6-13.el7.ppc64le elfutils-libelf-0.170-4.el7.ppc64le elfutils-libs-0.170-4.el7.ppc64le glibc-2.17-222.el7.ppc64le libattr-2.4.46-13.el7.ppc64le libcap-2.22-9.el7.ppc64le libgfortran-4.8.5-28.el7_5.1.ppc64le openblas-0.3.0-1.el7.ppc64le systemd-libs-219-57.el7.ppc64le\n(gdb) bt\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\n(gdb) bt\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\nIf I run the unittest by itself , it passes.\nIf I run the unittest in a for loop it passes mostly but randomly fails with SEGV\nI saw #9586,  but in my case this unittest seems to pass just fine , even in a for loop\nI tried to use a couple of  libopenblas.so versions but same result\nRH 7.5\nopenblas-devel-0.3.0-1.el7.ppc64le\nand\nlibopenblas-0.2.20-2596.dd38835.ppc64le\nI also tried setting :  OMP_NUM_THREADS=1  and still fails", "body": "PyTorch version   torch (0.5.0a0+e9ad743)\r\n\r\nOMP_NUM_THREADS=4\r\n\r\ntest_matmul_4d_1d (__main__.TestAutograd) ... Traceback (most recent call last):\r\n  File \"run_test.py\", line 368, in <module>\r\n    main()\r\n  File \"run_test.py\", line 360, in main\r\n    raise RuntimeError(message)\r\nRuntimeError: test_autograd failed! Received signal: SIGSEGV\r\n\r\nhere is the trace : \r\n\r\nCore was generated by `python test_autograd.py --verbose '.\r\nProgram terminated with signal 11, Segmentation fault.\r\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\r\nMissing separate debuginfos, use: debuginfo-install bzip2-libs-1.0.6-13.el7.ppc64le elfutils-libelf-0.170-4.el7.ppc64le elfutils-libs-0.170-4.el7.ppc64le glibc-2.17-222.el7.ppc64le libattr-2.4.46-13.el7.ppc64le libcap-2.22-9.el7.ppc64le libgfortran-4.8.5-28.el7_5.1.ppc64le openblas-0.3.0-1.el7.ppc64le systemd-libs-219-57.el7.ppc64le\r\n(gdb) bt\r\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\r\n(gdb) bt\r\n#0  0x00003fff76411cf0 in dgemm_beta () from /usr/lib64/libopenblas.so.0\r\n\r\nIf I run the unittest by itself , it passes.\r\nIf I run the unittest in a for loop it passes mostly but randomly fails with SEGV \r\n\r\nI saw #9586,  but in my case this unittest seems to pass just fine , even in a for loop\r\n\r\nI tried to use a couple of  libopenblas.so versions but same result\r\nRH 7.5  \r\nopenblas-devel-0.3.0-1.el7.ppc64le\r\nand \r\nlibopenblas-0.2.20-2596.dd38835.ppc64le\r\n\r\nI also tried setting :  OMP_NUM_THREADS=1  and still fails"}