{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/95460391", "pull_request_review_id": 16015976, "id": 95460391, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDYwMzkx", "diff_hunk": "@@ -261,6 +261,73 @@ def max_pool3d(input, kernel_size, stride=None, padding=0, dilation=1,\n                                     return_indices, ceil_mode)(input)\n \n \n+def max_unpool2d(input, indices, kernel_size, stride=None, padding=0,\n+                 output_size=None):\n+    \"\"\"Computes the inverse operation of `max_pool2d`\n+    `max_pool2d` is not invertible, as the locations of the max locations are\n+    lost.\n+    :func:`max_unpool2d` takes in as input the output of `max_pool2d` and the\n+    indices of the max locations and computes the inverse.", "path": "torch/nn/functional.py", "position": null, "original_position": 28, "commit_id": "51c41742ff93db3a66a6a6fef6dd354d1221c2bb", "original_commit_id": "908b05293dac0ec04eb13c09780275ecdbd7e97d", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "Regarding the first sentence, the values are lost, not indices.\r\n\r\nMaxUnpool2d is in no way an inverse of MaxPool2d, since `max_unpool2d(max_pool2d(input)) != input` for all inputs. Also you just said in the preceding sentence that max pooling is not invertible, but not max unpooling is an inverse. Sounds weird \ud83d\ude15 \r\n\r\nI'd say that it upscales the input by putting the elements into the same places where maxima were found during max pooling.", "created_at": "2017-01-10T21:24:58Z", "updated_at": "2018-11-23T15:32:12Z", "html_url": "https://github.com/pytorch/pytorch/pull/429#discussion_r95460391", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/429", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/95460391"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/429#discussion_r95460391"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/429"}}, "body_html": "<p>Regarding the first sentence, the values are lost, not indices.</p>\n<p>MaxUnpool2d is in no way an inverse of MaxPool2d, since <code>max_unpool2d(max_pool2d(input)) != input</code> for all inputs. Also you just said in the preceding sentence that max pooling is not invertible, but not max unpooling is an inverse. Sounds weird <g-emoji class=\"g-emoji\" alias=\"confused\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f615.png\">\ud83d\ude15</g-emoji></p>\n<p>I'd say that it upscales the input by putting the elements into the same places where maxima were found during max pooling.</p>", "body_text": "Regarding the first sentence, the values are lost, not indices.\nMaxUnpool2d is in no way an inverse of MaxPool2d, since max_unpool2d(max_pool2d(input)) != input for all inputs. Also you just said in the preceding sentence that max pooling is not invertible, but not max unpooling is an inverse. Sounds weird \ud83d\ude15\nI'd say that it upscales the input by putting the elements into the same places where maxima were found during max pooling."}