{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/174198071", "pull_request_review_id": 103509948, "id": 174198071, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDE5ODA3MQ==", "diff_hunk": "@@ -0,0 +1,14 @@\n+#include <ATen/CPUGeneral.h>\n+\n+namespace at {\n+size_t num_threads = 0;\n+std::shared_ptr<tbb::task_scheduler_init> tbbinit;\n+void set_num_threads(size_t num_threads_) {\n+  if (num_threads == 0) {\n+    num_threads = num_threads_;\n+    tbbinit = std::make_shared<tbb::task_scheduler_init>(num_threads);\n+  }\n+}\n+\n+size_t get_num_threads() { return num_threads; }", "path": "aten/src/ATen/CPUGeneral.cpp", "position": null, "original_position": 13, "commit_id": "f811874db6271f4f1ca3eb7340a62cec88afa0cc", "original_commit_id": "f93bd0186963c877e51722a8668799261aef9aa3", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "I'm just saying that this is where we usually keep all our ATen state, and don't have any other global settings at the moment. If they would somehow interfere then sure, making it global is ok, but I can't see why they would.", "created_at": "2018-03-13T16:29:29Z", "updated_at": "2018-11-23T15:40:41Z", "html_url": "https://github.com/pytorch/pytorch/pull/5723#discussion_r174198071", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/5723", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/174198071"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/5723#discussion_r174198071"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/5723"}}, "body_html": "<p>I'm just saying that this is where we usually keep all our ATen state, and don't have any other global settings at the moment. If they would somehow interfere then sure, making it global is ok, but I can't see why they would.</p>", "body_text": "I'm just saying that this is where we usually keep all our ATen state, and don't have any other global settings at the moment. If they would somehow interfere then sure, making it global is ok, but I can't see why they would.", "in_reply_to_id": 173978210}