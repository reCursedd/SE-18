{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2607", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2607/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2607/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2607/events", "html_url": "https://github.com/pytorch/pytorch/issues/2607", "id": 254900858, "node_id": "MDU6SXNzdWUyNTQ5MDA4NTg=", "number": 2607, "title": "invoking cuda() takes a long time", "user": {"login": "robert604", "id": 23422701, "node_id": "MDQ6VXNlcjIzNDIyNzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/23422701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robert604", "html_url": "https://github.com/robert604", "followers_url": "https://api.github.com/users/robert604/followers", "following_url": "https://api.github.com/users/robert604/following{/other_user}", "gists_url": "https://api.github.com/users/robert604/gists{/gist_id}", "starred_url": "https://api.github.com/users/robert604/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robert604/subscriptions", "organizations_url": "https://api.github.com/users/robert604/orgs", "repos_url": "https://api.github.com/users/robert604/repos", "events_url": "https://api.github.com/users/robert604/events{/privacy}", "received_events_url": "https://api.github.com/users/robert604/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-03T21:10:16Z", "updated_at": "2017-09-04T18:56:55Z", "closed_at": "2017-09-04T18:56:55Z", "author_association": "NONE", "body_html": "<p>Pytorch has been working fine on my installation until a couple of days ago.  Today I found that I can still run a program using pytorch but calling the cuda function takes a long time.<br>\nThe simple program below prints out the time taken to call the cuda function.</p>\n<pre><code>import torch\nfrom torch.autograd import Variable as V\nimport time\n\nv = V(torch.ones(3))\nstarttime = time.time()\nvc = v.cuda()\nprint('time',time.time()-starttime)\n</code></pre>\n<p>It prints out the output:<br>\n<code>time 335.9517285823822</code></p>\n<p>If I add a call to synchronize as in the following script:</p>\n<pre><code>import torch\nfrom torch.autograd import Variable as V\nimport time\n\nstarttime = time.time()\ntorch.cuda.synchronize()\nprint('time1',time.time()-starttime)\nv = V(torch.ones(3))\nstarttime = time.time()\nvc = v.cuda()\nprint('time2',time.time()-starttime)\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>time1 345.34998416900635\ntime2 0.0006208419799804688\n</code></pre>\n<p>Note that I was only running just the one script and nothing else.<br>\nAny help would be appreciated.</p>", "body_text": "Pytorch has been working fine on my installation until a couple of days ago.  Today I found that I can still run a program using pytorch but calling the cuda function takes a long time.\nThe simple program below prints out the time taken to call the cuda function.\nimport torch\nfrom torch.autograd import Variable as V\nimport time\n\nv = V(torch.ones(3))\nstarttime = time.time()\nvc = v.cuda()\nprint('time',time.time()-starttime)\n\nIt prints out the output:\ntime 335.9517285823822\nIf I add a call to synchronize as in the following script:\nimport torch\nfrom torch.autograd import Variable as V\nimport time\n\nstarttime = time.time()\ntorch.cuda.synchronize()\nprint('time1',time.time()-starttime)\nv = V(torch.ones(3))\nstarttime = time.time()\nvc = v.cuda()\nprint('time2',time.time()-starttime)\n\nI get the following output:\ntime1 345.34998416900635\ntime2 0.0006208419799804688\n\nNote that I was only running just the one script and nothing else.\nAny help would be appreciated.", "body": "Pytorch has been working fine on my installation until a couple of days ago.  Today I found that I can still run a program using pytorch but calling the cuda function takes a long time.\r\nThe simple program below prints out the time taken to call the cuda function.\r\n\r\n```\r\nimport torch\r\nfrom torch.autograd import Variable as V\r\nimport time\r\n\r\nv = V(torch.ones(3))\r\nstarttime = time.time()\r\nvc = v.cuda()\r\nprint('time',time.time()-starttime)\r\n```\r\n\r\nIt prints out the output:\r\n`time 335.9517285823822`\r\n\r\nIf I add a call to synchronize as in the following script:\r\n\r\n```\r\nimport torch\r\nfrom torch.autograd import Variable as V\r\nimport time\r\n\r\nstarttime = time.time()\r\ntorch.cuda.synchronize()\r\nprint('time1',time.time()-starttime)\r\nv = V(torch.ones(3))\r\nstarttime = time.time()\r\nvc = v.cuda()\r\nprint('time2',time.time()-starttime)\r\n```\r\n\r\nI get the following output:\r\n```\r\ntime1 345.34998416900635\r\ntime2 0.0006208419799804688\r\n```\r\n\r\nNote that I was only running just the one script and nothing else.\r\nAny help would be appreciated.\r\n"}