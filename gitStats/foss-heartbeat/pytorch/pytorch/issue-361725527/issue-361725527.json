{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11861", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11861/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11861/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11861/events", "html_url": "https://github.com/pytorch/pytorch/issues/11861", "id": 361725527, "node_id": "MDU6SXNzdWUzNjE3MjU1Mjc=", "number": 11861, "title": "[Caffe2 installation problem]", "user": {"login": "Shoulder95", "id": 43409969, "node_id": "MDQ6VXNlcjQzNDA5OTY5", "avatar_url": "https://avatars0.githubusercontent.com/u/43409969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shoulder95", "html_url": "https://github.com/Shoulder95", "followers_url": "https://api.github.com/users/Shoulder95/followers", "following_url": "https://api.github.com/users/Shoulder95/following{/other_user}", "gists_url": "https://api.github.com/users/Shoulder95/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shoulder95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shoulder95/subscriptions", "organizations_url": "https://api.github.com/users/Shoulder95/orgs", "repos_url": "https://api.github.com/users/Shoulder95/repos", "events_url": "https://api.github.com/users/Shoulder95/events{/privacy}", "received_events_url": "https://api.github.com/users/Shoulder95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-19T12:30:42Z", "updated_at": "2018-09-29T06:37:28Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I am trying to install Caffe2 on my Ubuntu PC but I keep getting error messages that I don't understand anything from. I have installed CUDA 8.0 and cuDNN 7.0 when I run <code>nvcc --version</code> I get</p>\n<pre><code>nvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Tue_Jan_10_13:22:03_CST_2017\nCuda compilation tools, release 8.0, V8.0.61\n</code></pre>\n<p>So everything looks like it installed there. The installation also detects the correct CUDA and cuDNN verision.</p>\n<p>Here are the error messages I receive when running <code>python setup.py install</code> from my pytorch folder</p>\n<p>`[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o<br>\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o<br>\n[ 57%] Built target python_copy_files<br>\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o<br>\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>1 error detected in the compilation of \"/tmp/tmpxft_0000371e_00000000-7_THCCachingAllocator.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_THCCachingAllocator.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_THCCachingAllocator.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:112714: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o] Error 1<br>\nmake[2]: *** Waiting for unfinished jobs....<br>\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(80): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(105): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(106): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(118): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3905): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3906): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3907): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>1 error detected in the compilation of \"/tmp/tmpxft_0000371c_00000000-7_context_gpu.cpp1.ii\".<br>\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3908): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>CMake Error at caffe2_gpu_generated_context_gpu.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_context_gpu.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:113186: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o] Error 1<br>\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(52): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(195): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(226): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(277): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(221): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(257): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(273): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template</p>\n<p>1 error detected in the compilation of \"/tmp/tmpxft_00003736_00000000-7_elementwise_linear_op.cpp1.ii\".<br>\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined</p>\n<p>CMake Error at caffe2_gpu_generated_elementwise_linear_op.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_elementwise_linear_op.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:117489: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o] Error 1<br>\n1 error detected in the compilation of \"/tmp/tmpxft_0000375a_00000000-7_sin_op.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_sin_op.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_sin_op.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:116979: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o] Error 1<br>\n1 error detected in the compilation of \"/tmp/tmpxft_0000377b_00000000-7_utility_ops.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_utility_ops.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_utility_ops.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:116310: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o] Error 1<br>\n1 error detected in the compilation of \"/tmp/tmpxft_00003768_00000000-7_math_gpu.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_math_gpu.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/utils/./caffe2_gpu_generated_math_gpu.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:114106: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o] Error 1<br>\n1 error detected in the compilation of \"/tmp/tmpxft_0000377a_00000000-7_piecewise_linear_transform_op.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_piecewise_linear_transform_op.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_piecewise_linear_transform_op.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:115208: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o] Error 1<br>\n1 error detected in the compilation of \"/tmp/tmpxft_00003819_00000000-7_given_tensor_fill_op.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_given_tensor_fill_op.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_given_tensor_fill_op.cu.o</p>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:117980: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o] Error 1<br>\nCMakeFiles/Makefile2:3734: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2<br>\nMakefile:138: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'`</p>", "body_text": "I am trying to install Caffe2 on my Ubuntu PC but I keep getting error messages that I don't understand anything from. I have installed CUDA 8.0 and cuDNN 7.0 when I run nvcc --version I get\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Tue_Jan_10_13:22:03_CST_2017\nCuda compilation tools, release 8.0, V8.0.61\n\nSo everything looks like it installed there. The installation also detects the correct CUDA and cuDNN verision.\nHere are the error messages I receive when running python setup.py install from my pytorch folder\n`[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o\n[ 57%] Built target python_copy_files\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n1 error detected in the compilation of \"/tmp/tmpxft_0000371e_00000000-7_THCCachingAllocator.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_THCCachingAllocator.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_THCCachingAllocator.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:112714: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(80): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(105): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(106): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(118): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3905): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3906): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3907): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n1 error detected in the compilation of \"/tmp/tmpxft_0000371c_00000000-7_context_gpu.cpp1.ii\".\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3908): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\nCMake Error at caffe2_gpu_generated_context_gpu.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_context_gpu.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:113186: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o] Error 1\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(52): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(195): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(226): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(277): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(221): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(257): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(273): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\n1 error detected in the compilation of \"/tmp/tmpxft_00003736_00000000-7_elementwise_linear_op.cpp1.ii\".\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\nCMake Error at caffe2_gpu_generated_elementwise_linear_op.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_elementwise_linear_op.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:117489: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o] Error 1\n1 error detected in the compilation of \"/tmp/tmpxft_0000375a_00000000-7_sin_op.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_sin_op.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_sin_op.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:116979: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o] Error 1\n1 error detected in the compilation of \"/tmp/tmpxft_0000377b_00000000-7_utility_ops.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_utility_ops.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_utility_ops.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:116310: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o] Error 1\n1 error detected in the compilation of \"/tmp/tmpxft_00003768_00000000-7_math_gpu.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_math_gpu.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/utils/./caffe2_gpu_generated_math_gpu.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:114106: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o] Error 1\n1 error detected in the compilation of \"/tmp/tmpxft_0000377a_00000000-7_piecewise_linear_transform_op.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_piecewise_linear_transform_op.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_piecewise_linear_transform_op.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:115208: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o] Error 1\n1 error detected in the compilation of \"/tmp/tmpxft_00003819_00000000-7_given_tensor_fill_op.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_given_tensor_fill_op.cu.o.Release.cmake:279 (message):\nError generating file\n/home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_given_tensor_fill_op.cu.o\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:117980: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o] Error 1\nCMakeFiles/Makefile2:3734: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'`", "body": "I am trying to install Caffe2 on my Ubuntu PC but I keep getting error messages that I don't understand anything from. I have installed CUDA 8.0 and cuDNN 7.0 when I run `nvcc --version` I get\r\n\r\n```\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2016 NVIDIA Corporation\r\nBuilt on Tue_Jan_10_13:22:03_CST_2017\r\nCuda compilation tools, release 8.0, V8.0.61\r\n```\r\n\r\nSo everything looks like it installed there. The installation also detects the correct CUDA and cuDNN verision.\r\n\r\nHere are the error messages I receive when running `python setup.py install` from my pytorch folder\r\n\r\n`[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o\r\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o\r\n[ 57%] Built target python_copy_files\r\n[ 57%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n1 error detected in the compilation of \"/tmp/tmpxft_0000371e_00000000-7_THCCachingAllocator.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_THCCachingAllocator.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_THCCachingAllocator.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:112714: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_THCCachingAllocator.cu.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(80): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(105): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(106): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/elementwise_linear_op.cu(118): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3905): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3906): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3907): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n1 error detected in the compilation of \"/tmp/tmpxft_0000371c_00000000-7_context_gpu.cpp1.ii\".\r\n/home/\"myname\"/pytorch/caffe2/utils/math_gpu.cu(3908): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\nCMake Error at caffe2_gpu_generated_context_gpu.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/core/./caffe2_gpu_generated_context_gpu.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:113186: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/core/caffe2_gpu_generated_context_gpu.cu.o] Error 1\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(52): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(195): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(226): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/utility_ops.cu(277): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(221): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(257): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n/home/\"myname\"/pytorch/caffe2/operators/piecewise_linear_transform_op.cu(273): warning: the \"template\" keyword used for syntactic disambiguation may only be used within a template\r\n\r\n1 error detected in the compilation of \"/tmp/tmpxft_00003736_00000000-7_elementwise_linear_op.cpp1.ii\".\r\n/home/\"myname\"/pytorch/caffe2/core/common_cudnn.h(143): error: identifier \"CUDNN_DATA_INT32\" is undefined\r\n\r\nCMake Error at caffe2_gpu_generated_elementwise_linear_op.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_elementwise_linear_op.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:117489: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_elementwise_linear_op.cu.o] Error 1\r\n1 error detected in the compilation of \"/tmp/tmpxft_0000375a_00000000-7_sin_op.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_sin_op.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_sin_op.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:116979: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_sin_op.cu.o] Error 1\r\n1 error detected in the compilation of \"/tmp/tmpxft_0000377b_00000000-7_utility_ops.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_utility_ops.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_utility_ops.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:116310: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_utility_ops.cu.o] Error 1\r\n1 error detected in the compilation of \"/tmp/tmpxft_00003768_00000000-7_math_gpu.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_math_gpu.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/utils/./caffe2_gpu_generated_math_gpu.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:114106: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/utils/caffe2_gpu_generated_math_gpu.cu.o] Error 1\r\n1 error detected in the compilation of \"/tmp/tmpxft_0000377a_00000000-7_piecewise_linear_transform_op.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_piecewise_linear_transform_op.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_piecewise_linear_transform_op.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:115208: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_piecewise_linear_transform_op.cu.o] Error 1\r\n1 error detected in the compilation of \"/tmp/tmpxft_00003819_00000000-7_given_tensor_fill_op.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_given_tensor_fill_op.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  /home/\"myname\"/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/operators/./caffe2_gpu_generated_given_tensor_fill_op.cu.o\r\n\r\n\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:117980: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_given_tensor_fill_op.cu.o] Error 1\r\nCMakeFiles/Makefile2:3734: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\r\nMakefile:138: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'`\r\n"}