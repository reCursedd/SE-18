{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/434931563", "html_url": "https://github.com/pytorch/pytorch/issues/13372#issuecomment-434931563", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13372", "id": 434931563, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDkzMTU2Mw==", "user": {"login": "peterjc123", "id": 9998726, "node_id": "MDQ6VXNlcjk5OTg3MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9998726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjc123", "html_url": "https://github.com/peterjc123", "followers_url": "https://api.github.com/users/peterjc123/followers", "following_url": "https://api.github.com/users/peterjc123/following{/other_user}", "gists_url": "https://api.github.com/users/peterjc123/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjc123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjc123/subscriptions", "organizations_url": "https://api.github.com/users/peterjc123/orgs", "repos_url": "https://api.github.com/users/peterjc123/repos", "events_url": "https://api.github.com/users/peterjc123/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjc123/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-01T05:03:54Z", "updated_at": "2018-11-01T05:03:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I cannot run it correctly. Could you tell me how you run this code?<br>\nWhat I did:</p>\n<div class=\"highlight highlight-source-batchfile\"><pre>git clone https://github.com/marvis/pytorch-yolo3.git\n<span class=\"pl-k\">cd</span> pytorch-yolo3\n<span class=\"pl-c\"><span class=\"pl-c\">::</span> Optionally I switched to the python3 branch</span>\n<span class=\"pl-c\"><span class=\"pl-c\">::</span> But still no luck</span>\n<span class=\"pl-c\"><span class=\"pl-c\">::</span> git checkout python3</span>\nwget https://pjreddie.com/media/files/yolov3.weights\npython detect.py cfg/yolov3.cfg yolov3.weights data/dog.jpg</pre></div>\n<p>The errors I get:</p>\n<div class=\"highlight highlight-text-python-traceback\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\">\"detect.py\"</span>, line <span class=\"pl-c1\">114</span>, in <span class=\"pl-en\">&lt;module&gt;</span>\n    detect(cfgfile, weightfile, imgfile)\n  File <span class=\"pl-s\">\"detect.py\"</span>, line <span class=\"pl-c1\">12</span>, in <span class=\"pl-en\">detect</span>\n    m.load_weights(weightfile)\n  File <span class=\"pl-s\">\"pytorch-yolo3\\darknet.py\"</span>, line <span class=\"pl-c1\">334</span>, in <span class=\"pl-en\">load_weights</span>\n    start <span class=\"pl-k\">=</span> load_conv_bn(buf, start, model[<span class=\"pl-c1\">0</span>], model[<span class=\"pl-c1\">1</span>])\n  File <span class=\"pl-s\">\"pytorch-yolo3\\cfg.py\"</span>, line <span class=\"pl-c1\">187</span>, in <span class=\"pl-en\">load_conv_bn</span>\n    conv_model.weight.data.copy_(torch.from_numpy(buf[start:start<span class=\"pl-k\">+</span>num_w])); start <span class=\"pl-k\">=</span> start <span class=\"pl-k\">+</span> num_w\n<span class=\"pl-en\">RuntimeError</span>: <span class=\"pl-s\">The expanded size of the tensor (3) must match the existing size (864) at non-singleton dimension 3</span></pre></div>", "body_text": "I cannot run it correctly. Could you tell me how you run this code?\nWhat I did:\ngit clone https://github.com/marvis/pytorch-yolo3.git\ncd pytorch-yolo3\n:: Optionally I switched to the python3 branch\n:: But still no luck\n:: git checkout python3\nwget https://pjreddie.com/media/files/yolov3.weights\npython detect.py cfg/yolov3.cfg yolov3.weights data/dog.jpg\nThe errors I get:\nTraceback (most recent call last):\n  File \"detect.py\", line 114, in <module>\n    detect(cfgfile, weightfile, imgfile)\n  File \"detect.py\", line 12, in detect\n    m.load_weights(weightfile)\n  File \"pytorch-yolo3\\darknet.py\", line 334, in load_weights\n    start = load_conv_bn(buf, start, model[0], model[1])\n  File \"pytorch-yolo3\\cfg.py\", line 187, in load_conv_bn\n    conv_model.weight.data.copy_(torch.from_numpy(buf[start:start+num_w])); start = start + num_w\nRuntimeError: The expanded size of the tensor (3) must match the existing size (864) at non-singleton dimension 3", "body": "I cannot run it correctly. Could you tell me how you run this code? \r\nWhat I did:\r\n```cmd\r\ngit clone https://github.com/marvis/pytorch-yolo3.git\r\ncd pytorch-yolo3\r\n:: Optionally I switched to the python3 branch\r\n:: But still no luck\r\n:: git checkout python3\r\nwget https://pjreddie.com/media/files/yolov3.weights\r\npython detect.py cfg/yolov3.cfg yolov3.weights data/dog.jpg\r\n```\r\nThe errors I get:\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"detect.py\", line 114, in <module>\r\n    detect(cfgfile, weightfile, imgfile)\r\n  File \"detect.py\", line 12, in detect\r\n    m.load_weights(weightfile)\r\n  File \"pytorch-yolo3\\darknet.py\", line 334, in load_weights\r\n    start = load_conv_bn(buf, start, model[0], model[1])\r\n  File \"pytorch-yolo3\\cfg.py\", line 187, in load_conv_bn\r\n    conv_model.weight.data.copy_(torch.from_numpy(buf[start:start+num_w])); start = start + num_w\r\nRuntimeError: The expanded size of the tensor (3) must match the existing size (864) at non-singleton dimension 3\r\n```"}