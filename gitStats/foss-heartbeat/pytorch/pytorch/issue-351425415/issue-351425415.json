{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10606", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10606/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10606/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10606/events", "html_url": "https://github.com/pytorch/pytorch/pull/10606", "id": 351425415, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA5MDI0MDIz", "number": 10606, "title": "[c10d] Working pybind version of MPI process group and abort() pybind", "user": {"login": "teng-li", "id": 8120856, "node_id": "MDQ6VXNlcjgxMjA4NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8120856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teng-li", "html_url": "https://github.com/teng-li", "followers_url": "https://api.github.com/users/teng-li/followers", "following_url": "https://api.github.com/users/teng-li/following{/other_user}", "gists_url": "https://api.github.com/users/teng-li/gists{/gist_id}", "starred_url": "https://api.github.com/users/teng-li/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teng-li/subscriptions", "organizations_url": "https://api.github.com/users/teng-li/orgs", "repos_url": "https://api.github.com/users/teng-li/repos", "events_url": "https://api.github.com/users/teng-li/events{/privacy}", "received_events_url": "https://api.github.com/users/teng-li/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 679953883, "node_id": "MDU6TGFiZWw2Nzk5NTM4ODM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/distributed", "name": "distributed", "color": "c2e0c6", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-17T01:25:51Z", "updated_at": "2018-11-23T15:49:48Z", "closed_at": "2018-08-23T01:27:00Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/10606", "html_url": "https://github.com/pytorch/pytorch/pull/10606", "diff_url": "https://github.com/pytorch/pytorch/pull/10606.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/10606.patch"}, "body_html": "<p>This will make pybind version of MPI PG work. The issue is the scope of the tensor list won't be available for the MPI worker thread. So we pass the vector by value instead.</p>\n<p>Also added recv_anysource pybind to make it work. The front-end API will wrap one level up with an int for this function. So taking a tensor should be the easiest way for now.</p>\n<p>Also added abort pybind and fixed the flaky test.</p>\n<pre><code>tengli@devfair033:~/new_pytorch/pytorch/torch/lib/build/c10d/test$ mpirun -np 8 ProcessGroupMPITest\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\n</code></pre>", "body_text": "This will make pybind version of MPI PG work. The issue is the scope of the tensor list won't be available for the MPI worker thread. So we pass the vector by value instead.\nAlso added recv_anysource pybind to make it work. The front-end API will wrap one level up with an int for this function. So taking a tensor should be the easiest way for now.\nAlso added abort pybind and fixed the flaky test.\ntengli@devfair033:~/new_pytorch/pytorch/torch/lib/build/c10d/test$ mpirun -np 8 ProcessGroupMPITest\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful\nTest successful", "body": "This will make pybind version of MPI PG work. The issue is the scope of the tensor list won't be available for the MPI worker thread. So we pass the vector by value instead.\r\n\r\nAlso added recv_anysource pybind to make it work. The front-end API will wrap one level up with an int for this function. So taking a tensor should be the easiest way for now.\r\n\r\nAlso added abort pybind and fixed the flaky test.\r\n```\r\ntengli@devfair033:~/new_pytorch/pytorch/torch/lib/build/c10d/test$ mpirun -np 8 ProcessGroupMPITest\r\nTest successful\r\nTest successful\r\nTest successful\r\nTest successful\r\nTest successful\r\nTest successful\r\nTest successful\r\nTest successful\r\n```"}