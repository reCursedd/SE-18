{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3571", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3571/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3571/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3571/events", "html_url": "https://github.com/pytorch/pytorch/issues/3571", "id": 272336517, "node_id": "MDU6SXNzdWUyNzIzMzY1MTc=", "number": 3571, "title": "ATen doesn't compile with g++ 4.8.2", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-08T20:23:06Z", "updated_at": "2017-11-08T22:25:50Z", "closed_at": "2017-11-08T22:25:50Z", "author_association": "MEMBER", "body_html": "<p>The errors we obtain are the following:</p>\n<pre><code>~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp: In member function \u2018virtual at::Tensor&amp; at::CPULongType::m_fill_(at::Tensor&amp;, const at::Tensor&amp;) const\u2019:\n~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp:186:18: error: expected \u2018)\u2019 before \u2018PRId64\u2019\n         \"with %\" PRId64 \" dimension(s)\", value.dim());\n</code></pre>\n<p>A fix that worked for us is to add</p>\n<div class=\"highlight highlight-source-c\"><pre>#<span class=\"pl-k\">define</span> <span class=\"pl-en\">__STDC_FORMAT_MACROS</span>\n#<span class=\"pl-k\">include</span> <span class=\"pl-s\"><span class=\"pl-pds\">&lt;</span>inttypes.h<span class=\"pl-pds\">&gt;</span></span></pre></div>\n<p>in <a href=\"https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/templates/Type.h#L15\">ATen/templates/Type.h</a>, but I'm not sure this is the best solution to this problem.</p>", "body_text": "The errors we obtain are the following:\n~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp: In member function \u2018virtual at::Tensor& at::CPULongType::m_fill_(at::Tensor&, const at::Tensor&) const\u2019:\n~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp:186:18: error: expected \u2018)\u2019 before \u2018PRId64\u2019\n         \"with %\" PRId64 \" dimension(s)\", value.dim());\n\nA fix that worked for us is to add\n#define __STDC_FORMAT_MACROS\n#include <inttypes.h>\nin ATen/templates/Type.h, but I'm not sure this is the best solution to this problem.", "body": "The errors we obtain are the following:\r\n```\r\n~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp: In member function \u2018virtual at::Tensor& at::CPULongType::m_fill_(at::Tensor&, const at::Tensor&) const\u2019:\r\n~/sandbox/pytorch/torch/lib/build/aten/src/ATen/ATen/CPULongType.cpp:186:18: error: expected \u2018)\u2019 before \u2018PRId64\u2019\r\n         \"with %\" PRId64 \" dimension(s)\", value.dim());\r\n```\r\n\r\nA fix that worked for us is to add\r\n```c\r\n#define __STDC_FORMAT_MACROS\r\n#include <inttypes.h>\r\n```\r\nin [ATen/templates/Type.h](https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/templates/Type.h#L15), but I'm not sure this is the best solution to this problem."}