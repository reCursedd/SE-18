{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/430023311", "html_url": "https://github.com/pytorch/pytorch/issues/12578#issuecomment-430023311", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12578", "id": 430023311, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAyMzMxMQ==", "user": {"login": "mravanelli", "id": 16886998, "node_id": "MDQ6VXNlcjE2ODg2OTk4", "avatar_url": "https://avatars1.githubusercontent.com/u/16886998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mravanelli", "html_url": "https://github.com/mravanelli", "followers_url": "https://api.github.com/users/mravanelli/followers", "following_url": "https://api.github.com/users/mravanelli/following{/other_user}", "gists_url": "https://api.github.com/users/mravanelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mravanelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mravanelli/subscriptions", "organizations_url": "https://api.github.com/users/mravanelli/orgs", "repos_url": "https://api.github.com/users/mravanelli/repos", "events_url": "https://api.github.com/users/mravanelli/events{/privacy}", "received_events_url": "https://api.github.com/users/mravanelli/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-15T21:38:19Z", "updated_at": "2018-10-15T21:38:19Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">I see, interesting. It should be something related to the new version of\npytorch. With pytorch 0.3 everything was ok to me...</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Mon, Oct 15, 2018 at 5:26 PM Ailing ***@***.***&gt; wrote:\n Btw some quick thoughts, as I need to change the title for this issue.\n\n    - this is not related to odd/even steps, if you change\n    mult_factor=0.00003, even steps are also wrong.\n\n import torch\n import numpy as np\n import sys\n import pdb\n\n mult_factor=0.00003\n pdb.set_trace()\n\n # Torch\n\n print('11 steps')\n n_ = torch.linspace(-5.0, 5.0,steps=11)* mult_factor\n print(n_)\n\n n_ = np.linspace(-5.0, 5.0,11)* mult_factor\n print(n_)\n\n print('.....')\n\n print('12 steps')\n n_ = torch.linspace(-5.0, 5.0,steps=12)* mult_factor\n print(n_)\n\n n_ = np.linspace(-5.0, 5.0,12)* mult_factor\n print(n_)\n print('.....')\n\n\n    - This is not related to linspace, given that if create the tensor\n    myself, the problem is still there.\n\n In [1]: import torch\n\n In [2]:  a = torch.tensor([-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5])\n\n In [5]: mult_factor = 0.00002\n\n In [7]: a = a.double()\n\n In [8]: a * mult_factor\n Out[8]:\n tensor([-0.0001, -0.0001, -0.0001, -0.0000, -0.0000,  0.0000,  0.0000,  0.0000,\n          0.0001,  0.0001,  0.0001], dtype=torch.float64)\n\n This looks more like a type promotion thing to me. Taking a closer look...\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"369287279\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12578\" href=\"https://github.com/pytorch/pytorch/issues/12578#issuecomment-430019303\">#12578 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AQGs1kTJdN3wRIBTyTOzXZ8jouyd6aHlks5ulP2MgaJpZM4XYSb-\">https://github.com/notifications/unsubscribe-auth/AQGs1kTJdN3wRIBTyTOzXZ8jouyd6aHlks5ulP2MgaJpZM4XYSb-</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I see, interesting. It should be something related to the new version of\npytorch. With pytorch 0.3 everything was ok to me...\n\u2026\nOn Mon, Oct 15, 2018 at 5:26 PM Ailing ***@***.***> wrote:\n Btw some quick thoughts, as I need to change the title for this issue.\n\n    - this is not related to odd/even steps, if you change\n    mult_factor=0.00003, even steps are also wrong.\n\n import torch\n import numpy as np\n import sys\n import pdb\n\n mult_factor=0.00003\n pdb.set_trace()\n\n # Torch\n\n print('11 steps')\n n_ = torch.linspace(-5.0, 5.0,steps=11)* mult_factor\n print(n_)\n\n n_ = np.linspace(-5.0, 5.0,11)* mult_factor\n print(n_)\n\n print('.....')\n\n print('12 steps')\n n_ = torch.linspace(-5.0, 5.0,steps=12)* mult_factor\n print(n_)\n\n n_ = np.linspace(-5.0, 5.0,12)* mult_factor\n print(n_)\n print('.....')\n\n\n    - This is not related to linspace, given that if create the tensor\n    myself, the problem is still there.\n\n In [1]: import torch\n\n In [2]:  a = torch.tensor([-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5])\n\n In [5]: mult_factor = 0.00002\n\n In [7]: a = a.double()\n\n In [8]: a * mult_factor\n Out[8]:\n tensor([-0.0001, -0.0001, -0.0001, -0.0000, -0.0000,  0.0000,  0.0000,  0.0000,\n          0.0001,  0.0001,  0.0001], dtype=torch.float64)\n\n This looks more like a type promotion thing to me. Taking a closer look...\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub\n <#12578 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/AQGs1kTJdN3wRIBTyTOzXZ8jouyd6aHlks5ulP2MgaJpZM4XYSb->\n .", "body": "I see, interesting. It should be something related to the new version of\npytorch. With pytorch 0.3 everything was ok to me...\n\n\n\nOn Mon, Oct 15, 2018 at 5:26 PM Ailing <notifications@github.com> wrote:\n\n> Btw some quick thoughts, as I need to change the title for this issue.\n>\n>    - this is not related to odd/even steps, if you change\n>    mult_factor=0.00003, even steps are also wrong.\n>\n> import torch\n> import numpy as np\n> import sys\n> import pdb\n>\n> mult_factor=0.00003\n> pdb.set_trace()\n>\n> # Torch\n>\n> print('11 steps')\n> n_ = torch.linspace(-5.0, 5.0,steps=11)* mult_factor\n> print(n_)\n>\n> n_ = np.linspace(-5.0, 5.0,11)* mult_factor\n> print(n_)\n>\n> print('.....')\n>\n> print('12 steps')\n> n_ = torch.linspace(-5.0, 5.0,steps=12)* mult_factor\n> print(n_)\n>\n> n_ = np.linspace(-5.0, 5.0,12)* mult_factor\n> print(n_)\n> print('.....')\n>\n>\n>    - This is not related to linspace, given that if create the tensor\n>    myself, the problem is still there.\n>\n> In [1]: import torch\n>\n> In [2]:  a = torch.tensor([-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5])\n>\n> In [5]: mult_factor = 0.00002\n>\n> In [7]: a = a.double()\n>\n> In [8]: a * mult_factor\n> Out[8]:\n> tensor([-0.0001, -0.0001, -0.0001, -0.0000, -0.0000,  0.0000,  0.0000,  0.0000,\n>          0.0001,  0.0001,  0.0001], dtype=torch.float64)\n>\n> This looks more like a type promotion thing to me. Taking a closer look...\n>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pytorch/pytorch/issues/12578#issuecomment-430019303>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AQGs1kTJdN3wRIBTyTOzXZ8jouyd6aHlks5ulP2MgaJpZM4XYSb->\n> .\n>\n"}