{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8405", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8405/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8405/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8405/events", "html_url": "https://github.com/pytorch/pytorch/issues/8405", "id": 331782921, "node_id": "MDU6SXNzdWUzMzE3ODI5MjE=", "number": 8405, "title": "[build] pass NVCC_GENCODE to NCCL1", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-12T22:57:42Z", "updated_at": "2018-06-19T20:31:17Z", "closed_at": "2018-06-19T20:31:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Currently we let NCCL to figure out the set of archs to compile for. It unfortunately compiles for the <a href=\"https://github.com/pytorch/pytorch/blob/master/third_party/nccl/Makefile#L25-L47\">all archs supported by given CUDA version</a>. This is <em><strong>really</strong></em> slow. We should pass some form of <code>TORCH_CUDA_ARCH_LIST</code> to it.</p>", "body_text": "Currently we let NCCL to figure out the set of archs to compile for. It unfortunately compiles for the all archs supported by given CUDA version. This is really slow. We should pass some form of TORCH_CUDA_ARCH_LIST to it.", "body": "Currently we let NCCL to figure out the set of archs to compile for. It unfortunately compiles for the [all archs supported by given CUDA version](https://github.com/pytorch/pytorch/blob/master/third_party/nccl/Makefile#L25-L47). This is ***really*** slow. We should pass some form of `TORCH_CUDA_ARCH_LIST` to it."}