{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3845", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3845/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3845/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3845/events", "html_url": "https://github.com/pytorch/pytorch/issues/3845", "id": 276202886, "node_id": "MDU6SXNzdWUyNzYyMDI4ODY=", "number": 3845, "title": "cuda 9.0 not found but detected 6.1", "user": {"login": "mpekalski", "id": 2975068, "node_id": "MDQ6VXNlcjI5NzUwNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2975068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpekalski", "html_url": "https://github.com/mpekalski", "followers_url": "https://api.github.com/users/mpekalski/followers", "following_url": "https://api.github.com/users/mpekalski/following{/other_user}", "gists_url": "https://api.github.com/users/mpekalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpekalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpekalski/subscriptions", "organizations_url": "https://api.github.com/users/mpekalski/orgs", "repos_url": "https://api.github.com/users/mpekalski/repos", "events_url": "https://api.github.com/users/mpekalski/events{/privacy}", "received_events_url": "https://api.github.com/users/mpekalski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-22T21:01:34Z", "updated_at": "2017-11-22T21:08:16Z", "closed_at": "2017-11-22T21:08:16Z", "author_association": "NONE", "body_html": "<p>I am trying to build PyTorch cloned from master under ubuntu 16.04 (run on docker) with Cuda 9.0.<br>\nThe installer finds CUDA 6.1 although I have 9.0 installed and when I run code from <a href=\"https://github.com/pytorch/pytorch/blob/77b3457dc80256055b1b60227a6550c4b0118fc3/tools/setup_helpers/cuda.py\">https://github.com/pytorch/pytorch/blob/77b3457dc80256055b1b60227a6550c4b0118fc3/tools/setup_helpers/cuda.py</a><br>\nit shows correct version</p>\n<pre><code>&gt;&gt;&gt; find_cuda_version(LINUX_HOME)\n'9.0.176'\n</code></pre>\n<pre><code>root@b359a24b3d3d:/tmp/pytorch# CUDA_HOME=/usr/local/cuda WITH_CUDA=1 CUDA_VERSION=9 CMAKE_PREFIX_PATH=/opt/magma-2.2.0 python setup.py install https://github.com/pytorch/pytorch/blob/master/torch/cuda/__init__.py#L55\nrunning install\nrunning build_deps\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /tmp/pytorch/torch/lib/build/nccl\n[100%] Built target nccl\nInstall the project...\n-- Install configuration: \"Release\"\n-- Up-to-date: /tmp/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Autodetected CUDA architecture(s): 6.1\n-- Found CUDA with FP16 support, compiling with torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Compiling with OpenMP support\n-- Compiling with MAGMA support\n-- MAGMA INCLUDE DIRECTORIES: /opt/magma-2.2.0/include\n-- MAGMA LIBRARIES: /opt/magma-2.2.0/lib/libmagma.a\n-- MAGMA V2 check: 1\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n...\n</code></pre>", "body_text": "I am trying to build PyTorch cloned from master under ubuntu 16.04 (run on docker) with Cuda 9.0.\nThe installer finds CUDA 6.1 although I have 9.0 installed and when I run code from https://github.com/pytorch/pytorch/blob/77b3457dc80256055b1b60227a6550c4b0118fc3/tools/setup_helpers/cuda.py\nit shows correct version\n>>> find_cuda_version(LINUX_HOME)\n'9.0.176'\n\nroot@b359a24b3d3d:/tmp/pytorch# CUDA_HOME=/usr/local/cuda WITH_CUDA=1 CUDA_VERSION=9 CMAKE_PREFIX_PATH=/opt/magma-2.2.0 python setup.py install https://github.com/pytorch/pytorch/blob/master/torch/cuda/__init__.py#L55\nrunning install\nrunning build_deps\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /tmp/pytorch/torch/lib/build/nccl\n[100%] Built target nccl\nInstall the project...\n-- Install configuration: \"Release\"\n-- Up-to-date: /tmp/pytorch/torch/lib/tmp_install/include/nccl.h\n-- Autodetected CUDA architecture(s): 6.1\n-- Found CUDA with FP16 support, compiling with torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Compiling with OpenMP support\n-- Compiling with MAGMA support\n-- MAGMA INCLUDE DIRECTORIES: /opt/magma-2.2.0/include\n-- MAGMA LIBRARIES: /opt/magma-2.2.0/lib/libmagma.a\n-- MAGMA V2 check: 1\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n...", "body": "I am trying to build PyTorch cloned from master under ubuntu 16.04 (run on docker) with Cuda 9.0. \r\nThe installer finds CUDA 6.1 although I have 9.0 installed and when I run code from https://github.com/pytorch/pytorch/blob/77b3457dc80256055b1b60227a6550c4b0118fc3/tools/setup_helpers/cuda.py\r\nit shows correct version\r\n```\r\n>>> find_cuda_version(LINUX_HOME)\r\n'9.0.176'\r\n```\r\n\r\n```\r\nroot@b359a24b3d3d:/tmp/pytorch# CUDA_HOME=/usr/local/cuda WITH_CUDA=1 CUDA_VERSION=9 CMAKE_PREFIX_PATH=/opt/magma-2.2.0 python setup.py install https://github.com/pytorch/pytorch/blob/master/torch/cuda/__init__.py#L55\r\nrunning install\r\nrunning build_deps\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /tmp/pytorch/torch/lib/build/nccl\r\n[100%] Built target nccl\r\nInstall the project...\r\n-- Install configuration: \"Release\"\r\n-- Up-to-date: /tmp/pytorch/torch/lib/tmp_install/include/nccl.h\r\n-- Autodetected CUDA architecture(s): 6.1\r\n-- Found CUDA with FP16 support, compiling with torch.CudaHalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- Compiling with OpenMP support\r\n-- Compiling with MAGMA support\r\n-- MAGMA INCLUDE DIRECTORIES: /opt/magma-2.2.0/include\r\n-- MAGMA LIBRARIES: /opt/magma-2.2.0/lib/libmagma.a\r\n-- MAGMA V2 check: 1\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- SSE2 Found\r\n-- SSE3 Found\r\n-- AVX Found\r\n...\r\n```\r\n\r\n"}