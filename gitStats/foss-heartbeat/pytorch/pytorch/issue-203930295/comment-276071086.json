{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/276071086", "html_url": "https://github.com/pytorch/pytorch/issues/638#issuecomment-276071086", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/638", "id": 276071086, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjA3MTA4Ng==", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-30T14:09:04Z", "updated_at": "2017-01-30T14:09:46Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I hacked THPP's CMake file, and passed the build. The result shows the root of problem is the incosistent CUDA detection between THPP and other libs.</p>\n<hr>\n<div class=\"highlight highlight-source-diff\"><pre><span class=\"pl-c1\">diff --git a/torch/lib/THPP/CMakeLists.txt b/torch/lib/THPP/CMakeLists.txt</span>\nindex e6d15e71..f5e2edc5 100644\n<span class=\"pl-md\">--- a/torch/lib/THPP/CMakeLists.txt</span>\n<span class=\"pl-mi1\">+++ b/torch/lib/THPP/CMakeLists.txt</span>\n<span class=\"pl-mdr\">@@ -37,6 +37,7 @@</span> ENDIF(NOT TH_LIBRARIES)\n MESSAGE(STATUS \"TH_LIBRARIES: ${TH_LIBRARIES}\")\n \n FIND_PACKAGE(CUDA 5.5)\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>set(CUDA_FOUND FALSE)</span>\n IF(CUDA_FOUND)\n   INCLUDE_DIRECTORIES(${CUDA_INCLUDE_DIRS})\n   INCLUDE_DIRECTORIES(\"${CUDA_SDK_ROOT_DIR}/common/inc\")</pre></div>", "body_text": "I hacked THPP's CMake file, and passed the build. The result shows the root of problem is the incosistent CUDA detection between THPP and other libs.\n\ndiff --git a/torch/lib/THPP/CMakeLists.txt b/torch/lib/THPP/CMakeLists.txt\nindex e6d15e71..f5e2edc5 100644\n--- a/torch/lib/THPP/CMakeLists.txt\n+++ b/torch/lib/THPP/CMakeLists.txt\n@@ -37,6 +37,7 @@ ENDIF(NOT TH_LIBRARIES)\n MESSAGE(STATUS \"TH_LIBRARIES: ${TH_LIBRARIES}\")\n \n FIND_PACKAGE(CUDA 5.5)\n+set(CUDA_FOUND FALSE)\n IF(CUDA_FOUND)\n   INCLUDE_DIRECTORIES(${CUDA_INCLUDE_DIRS})\n   INCLUDE_DIRECTORIES(\"${CUDA_SDK_ROOT_DIR}/common/inc\")", "body": "I hacked THPP's CMake file, and passed the build. The result shows the root of problem is the incosistent CUDA detection between THPP and other libs.\r\n\r\n---\r\n\r\n```diff\r\ndiff --git a/torch/lib/THPP/CMakeLists.txt b/torch/lib/THPP/CMakeLists.txt\r\nindex e6d15e71..f5e2edc5 100644\r\n--- a/torch/lib/THPP/CMakeLists.txt\r\n+++ b/torch/lib/THPP/CMakeLists.txt\r\n@@ -37,6 +37,7 @@ ENDIF(NOT TH_LIBRARIES)\r\n MESSAGE(STATUS \"TH_LIBRARIES: ${TH_LIBRARIES}\")\r\n \r\n FIND_PACKAGE(CUDA 5.5)\r\n+set(CUDA_FOUND FALSE)\r\n IF(CUDA_FOUND)\r\n   INCLUDE_DIRECTORIES(${CUDA_INCLUDE_DIRS})\r\n   INCLUDE_DIRECTORIES(\"${CUDA_SDK_ROOT_DIR}/common/inc\")\r\n```"}