{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/276057269", "html_url": "https://github.com/pytorch/pytorch/issues/638#issuecomment-276057269", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/638", "id": 276057269, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjA1NzI2OQ==", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-30T13:03:20Z", "updated_at": "2017-01-30T13:03:20Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I didn't look into the compiling detail. From torch/lib/build_all.sh I found:</p>\n<pre><code> 67 mkdir -p tmp_install                                                            \n 68 build TH                                                                        \n 69 build THS                                                                       \n 70 build THNN                                                                      \n 71                                                                                 \n 72 if [[ \"$1\" == \"--with-cuda\" ]]; then                                            \n 73     build THC                                                                   \n 74     build THCS                                                                  \n 75     build THCUNN                                                                \n 76     if [[ $(uname) != 'Darwin' ]]; then                                         \n 77         if [[ `ldconfig -p | grep libnccl` == '' ]]; then                       \n 78           build_nccl                                                            \n 79         fi                                                                      \n 80     fi                                                                          \n 81 fi                                                                              \n 82                                                                                 \n 83 build THPP                                                                      \n 84 CPP_FLAGS=\" -std=c++11 \"                                                        \n 85 build libshm                 \n</code></pre>\n<p>THC is not compiled (<code>$ python3 setup.py build</code>), so I think the script is compiling in CPU-only mode.<br>\nI didn't pass the <code>NO_CUDA=1</code> argument, I'm trying it now.</p>", "body_text": "I didn't look into the compiling detail. From torch/lib/build_all.sh I found:\n 67 mkdir -p tmp_install                                                            \n 68 build TH                                                                        \n 69 build THS                                                                       \n 70 build THNN                                                                      \n 71                                                                                 \n 72 if [[ \"$1\" == \"--with-cuda\" ]]; then                                            \n 73     build THC                                                                   \n 74     build THCS                                                                  \n 75     build THCUNN                                                                \n 76     if [[ $(uname) != 'Darwin' ]]; then                                         \n 77         if [[ `ldconfig -p | grep libnccl` == '' ]]; then                       \n 78           build_nccl                                                            \n 79         fi                                                                      \n 80     fi                                                                          \n 81 fi                                                                              \n 82                                                                                 \n 83 build THPP                                                                      \n 84 CPP_FLAGS=\" -std=c++11 \"                                                        \n 85 build libshm                 \n\nTHC is not compiled ($ python3 setup.py build), so I think the script is compiling in CPU-only mode.\nI didn't pass the NO_CUDA=1 argument, I'm trying it now.", "body": "I didn't look into the compiling detail. From torch/lib/build_all.sh I found:\r\n\r\n```\r\n 67 mkdir -p tmp_install                                                            \r\n 68 build TH                                                                        \r\n 69 build THS                                                                       \r\n 70 build THNN                                                                      \r\n 71                                                                                 \r\n 72 if [[ \"$1\" == \"--with-cuda\" ]]; then                                            \r\n 73     build THC                                                                   \r\n 74     build THCS                                                                  \r\n 75     build THCUNN                                                                \r\n 76     if [[ $(uname) != 'Darwin' ]]; then                                         \r\n 77         if [[ `ldconfig -p | grep libnccl` == '' ]]; then                       \r\n 78           build_nccl                                                            \r\n 79         fi                                                                      \r\n 80     fi                                                                          \r\n 81 fi                                                                              \r\n 82                                                                                 \r\n 83 build THPP                                                                      \r\n 84 CPP_FLAGS=\" -std=c++11 \"                                                        \r\n 85 build libshm                 \r\n```\r\n\r\nTHC is not compiled (`$ python3 setup.py build`), so I think the script is compiling in CPU-only mode.\r\nI didn't pass the `NO_CUDA=1` argument, I'm trying it now."}