{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/168086841", "pull_request_review_id": 96396034, "id": 168086841, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2ODA4Njg0MQ==", "diff_hunk": "@@ -34,23 +34,127 @@ using ListAttributeMap = std::unordered_map<\n     std::string,\n     std::pair<const std::vector<double>, std::string>>;\n \n+// Keep track of environment as we descend down nested control\n+// structures.\n+struct Environment {", "path": "torch/csrc/jit/script/compiler.cpp", "position": null, "original_position": 6, "commit_id": "05aff78887f37d6385bd2ed0962b5ac84ce6cf52", "original_commit_id": "3d3c8d6f42f779a122372680bc15beb10fce20d8", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "body": "Here, one must be careful to distinguish the concept of environment/scope in the frontend language (NOT this data structure) and its concept in the desugared language (THIS data structure, sort of). This is especially is poignant here since the Environment data structure is used to intermediate between the desugaring translation.\r\n\r\nPerhaps a good start is to reword the comment. Maybe something like:\r\n\r\n```\r\n// Auxiliary data structure for desugaring variable binding into our always\r\n// explicitly scoped language as we descend down\r\n// nested control structures in the frontend (which themselves don't introduce\r\n// scopes)\r\n```", "created_at": "2018-02-14T06:35:01Z", "updated_at": "2018-11-23T15:39:35Z", "html_url": "https://github.com/pytorch/pytorch/pull/5176#discussion_r168086841", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/5176", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/168086841"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/5176#discussion_r168086841"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/5176"}}, "body_html": "<p>Here, one must be careful to distinguish the concept of environment/scope in the frontend language (NOT this data structure) and its concept in the desugared language (THIS data structure, sort of). This is especially is poignant here since the Environment data structure is used to intermediate between the desugaring translation.</p>\n<p>Perhaps a good start is to reword the comment. Maybe something like:</p>\n<pre><code>// Auxiliary data structure for desugaring variable binding into our always\n// explicitly scoped language as we descend down\n// nested control structures in the frontend (which themselves don't introduce\n// scopes)\n</code></pre>", "body_text": "Here, one must be careful to distinguish the concept of environment/scope in the frontend language (NOT this data structure) and its concept in the desugared language (THIS data structure, sort of). This is especially is poignant here since the Environment data structure is used to intermediate between the desugaring translation.\nPerhaps a good start is to reword the comment. Maybe something like:\n// Auxiliary data structure for desugaring variable binding into our always\n// explicitly scoped language as we descend down\n// nested control structures in the frontend (which themselves don't introduce\n// scopes)"}