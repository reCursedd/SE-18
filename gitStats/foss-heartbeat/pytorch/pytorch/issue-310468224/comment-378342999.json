{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/378342999", "html_url": "https://github.com/pytorch/pytorch/issues/6183#issuecomment-378342999", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6183", "id": 378342999, "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODM0Mjk5OQ==", "user": {"login": "kpoman", "id": 9864839, "node_id": "MDQ6VXNlcjk4NjQ4Mzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/9864839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kpoman", "html_url": "https://github.com/kpoman", "followers_url": "https://api.github.com/users/kpoman/followers", "following_url": "https://api.github.com/users/kpoman/following{/other_user}", "gists_url": "https://api.github.com/users/kpoman/gists{/gist_id}", "starred_url": "https://api.github.com/users/kpoman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kpoman/subscriptions", "organizations_url": "https://api.github.com/users/kpoman/orgs", "repos_url": "https://api.github.com/users/kpoman/repos", "events_url": "https://api.github.com/users/kpoman/events{/privacy}", "received_events_url": "https://api.github.com/users/kpoman/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-03T18:05:15Z", "updated_at": "2018-04-03T18:09:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> ok it seemed to work:</p>\n<p>(base) C:\\Users\\kpoman\\conda_mnist&gt;python -c \"import torch; from torch.autograd import Variable; print(torch.cuda.is_available()); print(Variable(torch.randn(3, 1, 2).float().cuda(), requires_grad=True));\"<br>\nTrue<br>\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_<em>init</em>_.py:116: UserWarning:<br>\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.<br>\nPyTorch no longer supports this GPU because it is too old.</p>\n<p>warnings.warn(old_gpu_warn % (d, name, major, capability[1]))<br>\nVariable containing:<br>\n(0 ,.,.) =<br>\n-0.0707 -0.4637</p>\n<p>(1 ,.,.) =<br>\n1.7680 -1.3497<br>\n(2 ,.,.) =<br>\n0.0431 -1.2016<br>\n[torch.cuda.FloatTensor of size 3x1x2 (GPU 0)]<br>\n(base) C:\\Users\\kpoman\\conda_mnist&gt;</p>\n<p>However it seems there are some issues with DataLoaders as per the output of this sample script:</p>\n<p>(base) C:\\Users\\kpoman\\conda_mnist&gt;python main.py<br>\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_<em>init</em>_.py:116: UserWarning:<br>\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.<br>\nPyTorch no longer supports this GPU because it is too old.</p>\n<p>warnings.warn(old_gpu_warn % (d, name, major, capability[1]))<br>\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_<em>init</em>_.py:116: UserWarning:<br>\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.<br>\nPyTorch no longer supports this GPU because it is too old.</p>\n<p>warnings.warn(old_gpu_warn % (d, name, major, capability[1]))<br>\nTraceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 105, in spawn_main<br>\nexitcode = _main(fd)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 114, in _main<br>\nprepare(preparation_data)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 225, in prepare<br>\n_fixup_main_from_path(data['init_main_from_path'])<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 277, in _fixup_main_from_path<br>\nrun_name=\"<strong>mp_main</strong>\")<br>\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 263, in run_path<br>\npkg_name=pkg_name, script_name=fname)<br>\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 96, in _run_module_code<br>\nmod_name, mod_spec, pkg_name, script_name)<br>\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 85, in _run_code<br>\nexec(code, run_globals)<br>\nFile \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 112, in <br>\ntrain(epoch)<br>\nFile \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 78, in train<br>\nfor batch_idx, (data, target) in enumerate(train_loader):<br>\nFile \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 417, in <strong>iter</strong><br>\nreturn DataLoaderIter(self)<br>\nFile \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 234, in <strong>init</strong><br>\nw.start()<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start<br>\nself._popen = self._Popen(self)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen<br>\nreturn _default_context.get_context().Process._Popen(process_obj)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen<br>\nreturn Popen(process_obj)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 33, in <strong>init</strong><br>\nprep_data = spawn.get_preparation_data(process_obj._name)<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 143, in get_preparation_data<br>\n_check_not_importing_main()<br>\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 136, in _check_not_importing_main<br>\nis not going to be frozen to produce an executable.''')<br>\nRuntimeError:<br>\nAn attempt has been made to start a new process before the<br>\ncurrent process has finished its bootstrapping phase.</p>\n<pre><code>    This probably means that you are not using fork to start your\n    child processes and you have forgotten to use the proper idiom\n    in the main module:\n\n        if __name__ == '__main__':\n            freeze_support()\n            ...\n\n    The \"freeze_support()\" line can be omitted if the program\n    is not going to be frozen to produce an executable.\n</code></pre>", "body_text": "@peterjc123 ok it seemed to work:\n(base) C:\\Users\\kpoman\\conda_mnist>python -c \"import torch; from torch.autograd import Variable; print(torch.cuda.is_available()); print(Variable(torch.randn(3, 1, 2).float().cuda(), requires_grad=True));\"\nTrue\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_init_.py:116: UserWarning:\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.\nPyTorch no longer supports this GPU because it is too old.\nwarnings.warn(old_gpu_warn % (d, name, major, capability[1]))\nVariable containing:\n(0 ,.,.) =\n-0.0707 -0.4637\n(1 ,.,.) =\n1.7680 -1.3497\n(2 ,.,.) =\n0.0431 -1.2016\n[torch.cuda.FloatTensor of size 3x1x2 (GPU 0)]\n(base) C:\\Users\\kpoman\\conda_mnist>\nHowever it seems there are some issues with DataLoaders as per the output of this sample script:\n(base) C:\\Users\\kpoman\\conda_mnist>python main.py\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_init_.py:116: UserWarning:\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.\nPyTorch no longer supports this GPU because it is too old.\nwarnings.warn(old_gpu_warn % (d, name, major, capability[1]))\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda_init_.py:116: UserWarning:\nFound GPU0 Quadro M1000M which is of cuda capability 5.0.\nPyTorch no longer supports this GPU because it is too old.\nwarnings.warn(old_gpu_warn % (d, name, major, capability[1]))\nTraceback (most recent call last):\nFile \"\", line 1, in \nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 105, in spawn_main\nexitcode = _main(fd)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 114, in _main\nprepare(preparation_data)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 225, in prepare\n_fixup_main_from_path(data['init_main_from_path'])\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 277, in _fixup_main_from_path\nrun_name=\"mp_main\")\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 263, in run_path\npkg_name=pkg_name, script_name=fname)\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 96, in _run_module_code\nmod_name, mod_spec, pkg_name, script_name)\nFile \"C:\\Anaconda3\\lib\\runpy.py\", line 85, in _run_code\nexec(code, run_globals)\nFile \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 112, in \ntrain(epoch)\nFile \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 78, in train\nfor batch_idx, (data, target) in enumerate(train_loader):\nFile \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 417, in iter\nreturn DataLoaderIter(self)\nFile \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 234, in init\nw.start()\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start\nself._popen = self._Popen(self)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen\nreturn _default_context.get_context().Process._Popen(process_obj)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen\nreturn Popen(process_obj)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 33, in init\nprep_data = spawn.get_preparation_data(process_obj._name)\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 143, in get_preparation_data\n_check_not_importing_main()\nFile \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 136, in _check_not_importing_main\nis not going to be frozen to produce an executable.''')\nRuntimeError:\nAn attempt has been made to start a new process before the\ncurrent process has finished its bootstrapping phase.\n    This probably means that you are not using fork to start your\n    child processes and you have forgotten to use the proper idiom\n    in the main module:\n\n        if __name__ == '__main__':\n            freeze_support()\n            ...\n\n    The \"freeze_support()\" line can be omitted if the program\n    is not going to be frozen to produce an executable.", "body": "@peterjc123 ok it seemed to work:\r\n\r\n(base) C:\\Users\\kpoman\\conda_mnist>python -c \"import torch; from torch.autograd import Variable; print(torch.cuda.is_available()); print(Variable(torch.randn(3, 1, 2).float().cuda(), requires_grad=True));\"\r\nTrue\r\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda\\__init__.py:116: UserWarning:\r\n    Found GPU0 Quadro M1000M which is of cuda capability 5.0.\r\n    PyTorch no longer supports this GPU because it is too old.\r\n\r\n  warnings.warn(old_gpu_warn % (d, name, major, capability[1]))\r\nVariable containing:\r\n(0 ,.,.) =\r\n -0.0707 -0.4637\r\n\r\n(1 ,.,.) =\r\n  1.7680 -1.3497\r\n(2 ,.,.) =\r\n  0.0431 -1.2016\r\n[torch.cuda.FloatTensor of size 3x1x2 (GPU 0)]\r\n(base) C:\\Users\\kpoman\\conda_mnist>\r\n\r\n\r\nHowever it seems there are some issues with DataLoaders as per the output of this sample script:\r\n\r\n\r\n(base) C:\\Users\\kpoman\\conda_mnist>python main.py\r\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda\\__init__.py:116: UserWarning:\r\n    Found GPU0 Quadro M1000M which is of cuda capability 5.0.\r\n    PyTorch no longer supports this GPU because it is too old.\r\n\r\n  warnings.warn(old_gpu_warn % (d, name, major, capability[1]))\r\nC:\\Anaconda3\\lib\\site-packages\\torch\\cuda\\__init__.py:116: UserWarning:\r\n    Found GPU0 Quadro M1000M which is of cuda capability 5.0.\r\n    PyTorch no longer supports this GPU because it is too old.\r\n\r\n  warnings.warn(old_gpu_warn % (d, name, major, capability[1]))\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 105, in spawn_main\r\n    exitcode = _main(fd)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 114, in _main\r\n    prepare(preparation_data)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 225, in prepare\r\n    _fixup_main_from_path(data['init_main_from_path'])\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 277, in _fixup_main_from_path\r\n    run_name=\"__mp_main__\")\r\n  File \"C:\\Anaconda3\\lib\\runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"C:\\Anaconda3\\lib\\runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"C:\\Anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 112, in <module>\r\n    train(epoch)\r\n  File \"C:\\Users\\kpoman\\conda_mnist\\main.py\", line 78, in train\r\n    for batch_idx, (data, target) in enumerate(train_loader):\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 417, in __iter__\r\n    return DataLoaderIter(self)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 234, in __init__\r\n    w.start()\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start\r\n    self._popen = self._Popen(self)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen\r\n    return Popen(process_obj)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 33, in __init__\r\n    prep_data = spawn.get_preparation_data(process_obj._name)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 143, in get_preparation_data\r\n    _check_not_importing_main()\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\spawn.py\", line 136, in _check_not_importing_main\r\n    is not going to be frozen to produce an executable.''')\r\nRuntimeError:\r\n        An attempt has been made to start a new process before the\r\n        current process has finished its bootstrapping phase.\r\n\r\n        This probably means that you are not using fork to start your\r\n        child processes and you have forgotten to use the proper idiom\r\n        in the main module:\r\n\r\n            if __name__ == '__main__':\r\n                freeze_support()\r\n                ...\r\n\r\n        The \"freeze_support()\" line can be omitted if the program\r\n        is not going to be frozen to produce an executable.\r\n"}