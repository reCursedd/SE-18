{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/377207959", "html_url": "https://github.com/pytorch/pytorch/issues/6068#issuecomment-377207959", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6068", "id": 377207959, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzIwNzk1OQ==", "user": {"login": "aosokin", "id": 2099291, "node_id": "MDQ6VXNlcjIwOTkyOTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2099291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aosokin", "html_url": "https://github.com/aosokin", "followers_url": "https://api.github.com/users/aosokin/followers", "following_url": "https://api.github.com/users/aosokin/following{/other_user}", "gists_url": "https://api.github.com/users/aosokin/gists{/gist_id}", "starred_url": "https://api.github.com/users/aosokin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aosokin/subscriptions", "organizations_url": "https://api.github.com/users/aosokin/orgs", "repos_url": "https://api.github.com/users/aosokin/repos", "events_url": "https://api.github.com/users/aosokin/events{/privacy}", "received_events_url": "https://api.github.com/users/aosokin/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-29T11:37:26Z", "updated_at": "2018-03-29T12:20:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> I think I've figure out my case. The build script was detecting system file <code>libcpuinfo.a</code><br>\nTh log had lines:</p>\n<pre><code>-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.a)\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.a)\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.a)\n</code></pre>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=34676455\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nanpi\">@nanpi</a> analogously has</p>\n<pre><code>-- Found NNPACK      (include: /opt/anaconda3-5.0.1/include, library: /opt/anaconda3-5.0.1/lib/libnnpack.a)\n-- Found CPUINFO     (library: /opt/anaconda3-5.0.1/lib/libcpuinfo.a)\n-- Found PTHREADPOOL (library: /opt/anaconda3-5.0.1/lib/libpthreadpool.a)\n</code></pre>\n<p>After renaming the file <code>/usr/local/lib/libcpuinfo.a</code>, the corresponding line said:</p>\n<pre><code>-- Could NOT find NNPACK (missing: CPUINFO_LIBRARY) \n</code></pre>\n<p>A cleaner solution that made the system build is to build with the flag NO_NNPACK:</p>\n<pre><code>export NO_NNPACK=1\n</code></pre>", "body_text": "@ezyang I think I've figure out my case. The build script was detecting system file libcpuinfo.a\nTh log had lines:\n-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.a)\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.a)\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.a)\n\n@nanpi analogously has\n-- Found NNPACK      (include: /opt/anaconda3-5.0.1/include, library: /opt/anaconda3-5.0.1/lib/libnnpack.a)\n-- Found CPUINFO     (library: /opt/anaconda3-5.0.1/lib/libcpuinfo.a)\n-- Found PTHREADPOOL (library: /opt/anaconda3-5.0.1/lib/libpthreadpool.a)\n\nAfter renaming the file /usr/local/lib/libcpuinfo.a, the corresponding line said:\n-- Could NOT find NNPACK (missing: CPUINFO_LIBRARY) \n\nA cleaner solution that made the system build is to build with the flag NO_NNPACK:\nexport NO_NNPACK=1", "body": "@ezyang I think I've figure out my case. The build script was detecting system file `libcpuinfo.a`\r\nTh log had lines:\r\n```\r\n-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.a)\r\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.a)\r\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.a)\r\n```\r\n@nanpi analogously has \r\n```\r\n-- Found NNPACK      (include: /opt/anaconda3-5.0.1/include, library: /opt/anaconda3-5.0.1/lib/libnnpack.a)\r\n-- Found CPUINFO     (library: /opt/anaconda3-5.0.1/lib/libcpuinfo.a)\r\n-- Found PTHREADPOOL (library: /opt/anaconda3-5.0.1/lib/libpthreadpool.a)\r\n```\r\n\r\nAfter renaming the file `/usr/local/lib/libcpuinfo.a`, the corresponding line said:\r\n```\r\n-- Could NOT find NNPACK (missing: CPUINFO_LIBRARY) \r\n```\r\nA cleaner solution that made the system build is to build with the flag NO_NNPACK:\r\n```\r\nexport NO_NNPACK=1\r\n```\r\n\r\n"}