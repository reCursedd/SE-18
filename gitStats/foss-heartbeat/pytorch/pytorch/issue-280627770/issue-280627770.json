{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4092", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4092/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4092/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4092/events", "html_url": "https://github.com/pytorch/pytorch/issues/4092", "id": 280627770, "node_id": "MDU6SXNzdWUyODA2Mjc3NzA=", "number": 4092, "title": "Missing components / tests on Windows", "user": {"login": "yf225", "id": 4063635, "node_id": "MDQ6VXNlcjQwNjM2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4063635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yf225", "html_url": "https://github.com/yf225", "followers_url": "https://api.github.com/users/yf225/followers", "following_url": "https://api.github.com/users/yf225/following{/other_user}", "gists_url": "https://api.github.com/users/yf225/gists{/gist_id}", "starred_url": "https://api.github.com/users/yf225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yf225/subscriptions", "organizations_url": "https://api.github.com/users/yf225/orgs", "repos_url": "https://api.github.com/users/yf225/repos", "events_url": "https://api.github.com/users/yf225/events{/privacy}", "received_events_url": "https://api.github.com/users/yf225/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-12-08T21:51:37Z", "updated_at": "2018-04-16T22:06:52Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>This issue tracks the components / tests that are not working on Windows:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>test/test_distributed.py</code>: currently disabled on Windows because Windows doesn't have <code>fcntl</code> and we need to look for substitutes</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>torch/csrc/jit/fusion_compiler.cpp</code>: Fuser is disabled on Windows because the current implementation uses symbols from Linux-specific headers <code>dlfcn.h</code> and <code>unistd.h</code>. We will need to find alternatives for Windows.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>test/test_torch.py</code>: some parts of <code>test_serialization</code> and <code>test_from_file</code> are disabled because Windows doesn't support opening an already opened file (see discussion at <a href=\"https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4227\">https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4227</a> and <a href=\"https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4398\">https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4398</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>test/test_nccl</code>: <code>nccl</code> currently doesn't work with Windows (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160941979\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/NVIDIA/nccl/issues/31\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/NVIDIA/nccl/pull/31/hovercard\" href=\"https://github.com/NVIDIA/nccl/pull/31\">NVIDIA/nccl#31</a> is the porting diff)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>test/test_utils.py</code>: <code>test_cuda</code> in <code>TestBottleneck</code> causes intermittent CUDA out-of-memory error on Windows</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <code>test/test_utils.py</code>, <code>test/test_dataloader.py</code>: DataLoader with multiple workers causes intermittent CUDA out-of-memory error on Windows.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_cpp_extensions.py</code>: this test currently doesn't work on Windows</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_dataloader.py</code>, <code>test/test_multiprocessing.py</code>: various tests are disabled because there are issues when using <code>multiprocessing</code> on Windows</del> (done in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"285593388\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4453\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4453/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4453\">#4453</a>)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_autograd.py</code>: <code>test_profiler</code> is disabled because Windows doesn't have <code>c++filt</code> (see discussion at <a href=\"https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-e7525582ab432c30821289d64cc52bc3R1653\">https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-e7525582ab432c30821289d64cc52bc3R1653</a>)</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"287935083\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4615\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4615/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4615\">#4615</a> causes mysterious failures (\"RuntimeError: Caught an unknown exception!\") in 3 JIT tests</del>\n<ul>\n<li><del><code>test_arg_configurations</code></del></li>\n<li><del><code>test_multiuse_fn</code></del></li>\n<li><del><code>test_output_unflatten</code></del></li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_torch.py</code>, <code>test/test_nn.py</code>: CUDA HalfTensor currently doesn't work on Windows</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_nn.py</code>: <code>test_Conv2d_deterministic_cudnn</code> seems to be stuck on Windows</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> <del><code>test/test_cuda.py</code>:</del>\n<ul>\n<li><del>Some tests are turned off because CUDA HalfTensor currently doesn't work on Windows. Test logs to look at:</del><br>\n<del><a href=\"https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-win-ws2016-cuda9-cudnn7-py3-test/57/console\" rel=\"nofollow\">https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-win-ws2016-cuda9-cudnn7-py3-test/57/console</a></del></li>\n<li><del><code>test_FloatTensor_qr_big</code> and <code>test_DoubleTensor_qr_big</code> are known to stuck or have numerical errors intermittently</del></li>\n</ul>\n</li>\n</ul>\n<p>For more discussions, also see: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"262283107\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2941\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/2941/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/2941\">#2941</a></p>", "body_text": "This issue tracks the components / tests that are not working on Windows:\n\n test/test_distributed.py: currently disabled on Windows because Windows doesn't have fcntl and we need to look for substitutes\n torch/csrc/jit/fusion_compiler.cpp: Fuser is disabled on Windows because the current implementation uses symbols from Linux-specific headers dlfcn.h and unistd.h. We will need to find alternatives for Windows.\n test/test_torch.py: some parts of test_serialization and test_from_file are disabled because Windows doesn't support opening an already opened file (see discussion at https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4227 and https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4398)\n test/test_nccl: nccl currently doesn't work with Windows (NVIDIA/nccl#31 is the porting diff)\n test/test_utils.py: test_cuda in TestBottleneck causes intermittent CUDA out-of-memory error on Windows\n test/test_utils.py, test/test_dataloader.py: DataLoader with multiple workers causes intermittent CUDA out-of-memory error on Windows.\n test/test_cpp_extensions.py: this test currently doesn't work on Windows\n test/test_dataloader.py, test/test_multiprocessing.py: various tests are disabled because there are issues when using multiprocessing on Windows (done in #4453)\n test/test_autograd.py: test_profiler is disabled because Windows doesn't have c++filt (see discussion at https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-e7525582ab432c30821289d64cc52bc3R1653)\n #4615 causes mysterious failures (\"RuntimeError: Caught an unknown exception!\") in 3 JIT tests\n\ntest_arg_configurations\ntest_multiuse_fn\ntest_output_unflatten\n\n\n test/test_torch.py, test/test_nn.py: CUDA HalfTensor currently doesn't work on Windows\n test/test_nn.py: test_Conv2d_deterministic_cudnn seems to be stuck on Windows\n test/test_cuda.py:\n\nSome tests are turned off because CUDA HalfTensor currently doesn't work on Windows. Test logs to look at:\nhttps://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-win-ws2016-cuda9-cudnn7-py3-test/57/console\ntest_FloatTensor_qr_big and test_DoubleTensor_qr_big are known to stuck or have numerical errors intermittently\n\n\n\nFor more discussions, also see: #2941", "body": "This issue tracks the components / tests that are not working on Windows:\r\n\r\n- [ ] `test/test_distributed.py`: currently disabled on Windows because Windows doesn't have `fcntl` and we need to look for substitutes\r\n- [ ] `torch/csrc/jit/fusion_compiler.cpp`: Fuser is disabled on Windows because the current implementation uses symbols from Linux-specific headers `dlfcn.h` and `unistd.h`. We will need to find alternatives for Windows.\r\n- [ ] `test/test_torch.py`: some parts of `test_serialization` and `test_from_file` are disabled because Windows doesn't support opening an already opened file (see discussion at https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4227 and https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-9996665f82f52030836eb8657057cfadR4398)\r\n- [ ] `test/test_nccl`: `nccl` currently doesn't work with Windows (https://github.com/NVIDIA/nccl/pull/31 is the porting diff)\r\n- [ ] `test/test_utils.py`: `test_cuda` in `TestBottleneck` causes intermittent CUDA out-of-memory error on Windows \r\n- [ ] `test/test_utils.py`, `test/test_dataloader.py`: DataLoader with multiple workers causes intermittent CUDA out-of-memory error on Windows.\r\n- [x] ~~`test/test_cpp_extensions.py`: this test currently doesn't work on Windows~~\r\n- [x] ~~`test/test_dataloader.py`, `test/test_multiprocessing.py`: various tests are disabled because there are issues when using `multiprocessing` on Windows~~ (done in https://github.com/pytorch/pytorch/pull/4453)\r\n- [x] ~~`test/test_autograd.py`: `test_profiler` is disabled because Windows doesn't have `c++filt` (see discussion at https://github.com/pytorch/pytorch/pull/4065/files/4a7dfbd12c77850faa4171235b18b9b1540f3f0d#diff-e7525582ab432c30821289d64cc52bc3R1653)~~\r\n- [x] ~~#4615 causes mysterious failures (\"RuntimeError: Caught an unknown exception!\") in 3 JIT tests~~\r\n  - ~~`test_arg_configurations`~~\r\n  - ~~`test_multiuse_fn`~~\r\n  - ~~`test_output_unflatten`~~\r\n- [x] ~~`test/test_torch.py`, `test/test_nn.py`: CUDA HalfTensor currently doesn't work on Windows~~\r\n- [x] ~~`test/test_nn.py`: `test_Conv2d_deterministic_cudnn` seems to be stuck on Windows~~\r\n- [x] ~~`test/test_cuda.py`:~~\r\n   - ~~Some tests are turned off because CUDA HalfTensor currently doesn't work on Windows. Test logs to look at:~~\r\n~~https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-win-ws2016-cuda9-cudnn7-py3-test/57/console~~\r\n   - ~~`test_FloatTensor_qr_big` and `test_DoubleTensor_qr_big` are known to stuck or have numerical errors intermittently~~\r\n\r\nFor more discussions, also see: https://github.com/pytorch/pytorch/pull/2941\r\n  \r\n  "}