{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/155053988", "pull_request_review_id": 81309831, "id": 155053988, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTA1Mzk4OA==", "diff_hunk": "@@ -109,25 +179,23 @@ static void fusionTests() {\n \n     Graph graph;\n \n-    Value * i0 = graph.addInput();\n-    Value * i1 = graph.addInput();\n-    Value * i2 = graph.addInput();\n-    Value * i3 = graph.addInput();\n-    Value * i4 = graph.addInput();\n-\n-    auto p22 = appendNewNode(ksigmoid,graph,{i4});\n-    auto p20 = appendNewNode(ksigmoid,graph,{i3});\n-    auto p18 = appendNewNode(ktanh,graph,{i2});\n-    auto p16 = appendNewNode(ksigmoid,graph,{i1});\n-    auto p14 = appendNewNode(kmul,graph,{p20, i0});\n-    auto p11 = appendNewNode(kmul,graph,{p22, p18});\n-    auto o1 = appendNewNode(kadd,graph,{p14, p11});\n-    o1->node()->t_(kalpha, at::Scalar(1).toTensor());\n-    auto p5 = appendNewNode(ktanh,graph,{o1});\n-    auto o0 = appendNewNode(kmul,graph,{p16, p5});\n-\n-    graph.registerOutput(o0);\n-    graph.registerOutput(o1);\n+    Var i0 = Var::Input(graph);\n+    Var i1 = Var::Input(graph);\n+    Var i2 = Var::Input(graph);\n+    Var i3 = Var::Input(graph);\n+    Var i4 = Var::Input(graph);\n+\n+    auto p22 =  i4.sigmoid();\n+    auto p20 = i3.sigmoid();\n+    auto p18 = i2.tanh();\n+    auto p16 = i1.sigmoid();\n+    auto p14 = p20 * i0;\n+    auto p11 = p22 * p18;\n+    auto o1 = p14 + p11;\n+    auto p5 = o1.tanh();\n+    auto o0 = p16 * p5;\n+    o0.addAsOutput();\n+    o1.addAsOutput();", "path": "torch/csrc/jit/test_jit.cpp", "position": 155, "original_position": 155, "commit_id": "c12c1dda4212f9bbd46dd030e352f806be5d089f", "original_commit_id": "c12c1dda4212f9bbd46dd030e352f806be5d089f", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "Nice!", "created_at": "2017-12-05T19:36:40Z", "updated_at": "2018-11-23T15:37:07Z", "html_url": "https://github.com/pytorch/pytorch/pull/4026#discussion_r155053988", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4026", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/155053988"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4026#discussion_r155053988"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4026"}}, "body_html": "<p>Nice!</p>", "body_text": "Nice!"}