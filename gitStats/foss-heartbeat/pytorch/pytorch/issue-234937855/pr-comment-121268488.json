{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/121268488", "pull_request_review_id": 43308154, "id": 121268488, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMTI2ODQ4OA==", "diff_hunk": "@@ -0,0 +1,42 @@\n+#include \"Context.h\"\n+#include <thread>\n+#include <mutex>\n+\n+#ifdef TENSORLIB_CUDA_ENABLED\n+#include \"THC/THC.h\"\n+#include \"TensorLib/CUDAGenerator.h\"\n+#endif\n+#include \"TensorLib/CPUGenerator.h\"\n+\n+namespace tlib {\n+\n+Context::Context() {\n+\n+#ifdef TENSORLIB_CUDA_ENABLED\n+  thc_state = THCState_alloc();", "path": "torch/lib/TensorLib/Context.cpp", "position": null, "original_position": 16, "commit_id": "dadf12e892b69bca8457a4be963fece8328f2393", "original_commit_id": "a5c86f848213f4877fae40e248a0b7b20d25a458", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "This first commit is mostly to get the changes into CWrap necessary to support both libraries and to test that TensorLib is working, so we haven't implemented the mechanics to get the THCState shared among PyTorch and TensorLib. That will come in a future patch that starts to use it in PyTorch.", "created_at": "2017-06-10T23:36:53Z", "updated_at": "2018-11-23T15:33:48Z", "html_url": "https://github.com/pytorch/pytorch/pull/1766#discussion_r121268488", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/1766", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/121268488"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/1766#discussion_r121268488"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/1766"}}, "body_html": "<p>This first commit is mostly to get the changes into CWrap necessary to support both libraries and to test that TensorLib is working, so we haven't implemented the mechanics to get the THCState shared among PyTorch and TensorLib. That will come in a future patch that starts to use it in PyTorch.</p>", "body_text": "This first commit is mostly to get the changes into CWrap necessary to support both libraries and to test that TensorLib is working, so we haven't implemented the mechanics to get the THCState shared among PyTorch and TensorLib. That will come in a future patch that starts to use it in PyTorch.", "in_reply_to_id": 121264392}