{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2177", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2177/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2177/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2177/events", "html_url": "https://github.com/pytorch/pytorch/issues/2177", "id": 244649606, "node_id": "MDU6SXNzdWUyNDQ2NDk2MDY=", "number": 2177, "title": "pytorch installation problem", "user": {"login": "shwoo93", "id": 13035722, "node_id": "MDQ6VXNlcjEzMDM1NzIy", "avatar_url": "https://avatars2.githubusercontent.com/u/13035722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shwoo93", "html_url": "https://github.com/shwoo93", "followers_url": "https://api.github.com/users/shwoo93/followers", "following_url": "https://api.github.com/users/shwoo93/following{/other_user}", "gists_url": "https://api.github.com/users/shwoo93/gists{/gist_id}", "starred_url": "https://api.github.com/users/shwoo93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shwoo93/subscriptions", "organizations_url": "https://api.github.com/users/shwoo93/orgs", "repos_url": "https://api.github.com/users/shwoo93/repos", "events_url": "https://api.github.com/users/shwoo93/events{/privacy}", "received_events_url": "https://api.github.com/users/shwoo93/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-21T12:06:04Z", "updated_at": "2017-08-16T06:42:32Z", "closed_at": "2017-07-21T18:44:39Z", "author_association": "NONE", "body_html": "<p>Hello</p>\n<p>In order to follow up with the current state of the pytorch version in github, I followed the below setup.</p>\n<p><strong>Firstly, I build the image with cuda 8.0-ubuntu 14.04</strong></p>\n<p>On top of this image, I made a container and installed anaconda and opencv.</p>\n<p><strong>bash Anaconda3-4.4.0-Linux-x86_64.sh<br>\nconda update conda<br>\nconda install opencv</strong></p>\n<p>After then, I cloned this github page and followed the instructions provided.</p>\n<p><strong>git clone <a href=\"https://github.com/pytorch/pytorch.git\">https://github.com/pytorch/pytorch.git</a><br>\nexport CMAKE_PREFIX_PATH=[anaconda root directory]<br>\nconda install numpy pyyaml mkl setuptools cmake gcc cffi<br>\nconda install -c soumith magma-cuda80<br>\npython setup.py install<br>\nconda install torchvision</strong></p>\n<p>After the above installation is finished, I tried to run my code but I got the following error....</p>\n<p>Loading base network...<br>\nTraceback (most recent call last):<br>\nFile \"train_deform.py\", line 93, in <br>\nnet.cuda()<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda<br>\nreturn self._apply(lambda t: t.cuda(device_id))<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply<br>\nmodule._apply(fn)<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply<br>\nparam.data = fn(param.data)<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in <br>\nreturn self._apply(lambda t: t.cuda(device_id))<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in <em>cuda<br>\nreturn new_type(self.size()).copy</em>(self, async)<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/<strong>init</strong>.py\", line 272, in <strong>new</strong><br>\n_lazy_init()<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/<strong>init</strong>.py\", line 84, in _lazy_init<br>\n_check_driver()<br>\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/<strong>init</strong>.py\", line 51, in _check_driver<br>\nraise AssertionError(\"Torch not compiled with CUDA enabled\")<br>\n<strong>AssertionError: Torch not compiled with CUDA enabled</strong></p>\n<p>I also checked nvidia-smi and nvcc --version in order to check whether GPU and CUDA is well specified, However there was no problem with in it.</p>\n<p><strong>I cant find the problem. Since I just installed magma-cuda80 right before the installing setup.py. What is the problem ?</strong></p>", "body_text": "Hello\nIn order to follow up with the current state of the pytorch version in github, I followed the below setup.\nFirstly, I build the image with cuda 8.0-ubuntu 14.04\nOn top of this image, I made a container and installed anaconda and opencv.\nbash Anaconda3-4.4.0-Linux-x86_64.sh\nconda update conda\nconda install opencv\nAfter then, I cloned this github page and followed the instructions provided.\ngit clone https://github.com/pytorch/pytorch.git\nexport CMAKE_PREFIX_PATH=[anaconda root directory]\nconda install numpy pyyaml mkl setuptools cmake gcc cffi\nconda install -c soumith magma-cuda80\npython setup.py install\nconda install torchvision\nAfter the above installation is finished, I tried to run my code but I got the following error....\nLoading base network...\nTraceback (most recent call last):\nFile \"train_deform.py\", line 93, in \nnet.cuda()\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda\nreturn self._apply(lambda t: t.cuda(device_id))\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\nmodule._apply(fn)\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply\nparam.data = fn(param.data)\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in \nreturn self._apply(lambda t: t.cuda(device_id))\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in cuda\nreturn new_type(self.size()).copy(self, async)\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/init.py\", line 272, in new\n_lazy_init()\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/init.py\", line 84, in _lazy_init\n_check_driver()\nFile \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/init.py\", line 51, in _check_driver\nraise AssertionError(\"Torch not compiled with CUDA enabled\")\nAssertionError: Torch not compiled with CUDA enabled\nI also checked nvidia-smi and nvcc --version in order to check whether GPU and CUDA is well specified, However there was no problem with in it.\nI cant find the problem. Since I just installed magma-cuda80 right before the installing setup.py. What is the problem ?", "body": "Hello\r\n\r\nIn order to follow up with the current state of the pytorch version in github, I followed the below setup.\r\n\r\n**Firstly, I build the image with cuda 8.0-ubuntu 14.04**\r\n\r\nOn top of this image, I made a container and installed anaconda and opencv.\r\n\r\n**bash Anaconda3-4.4.0-Linux-x86_64.sh\r\nconda update conda\r\nconda install opencv**\r\n\r\nAfter then, I cloned this github page and followed the instructions provided.\r\n\r\n**git clone https://github.com/pytorch/pytorch.git\r\nexport CMAKE_PREFIX_PATH=[anaconda root directory]\r\nconda install numpy pyyaml mkl setuptools cmake gcc cffi\r\nconda install -c soumith magma-cuda80\r\npython setup.py install\r\nconda install torchvision**\r\n\r\nAfter the above installation is finished, I tried to run my code but I got the following error....\r\n\r\nLoading base network...\r\nTraceback (most recent call last):\r\n  File \"train_deform.py\", line 93, in <module>\r\n    net.cuda()\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda\r\n    return self._apply(lambda t: t.cuda(device_id))\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\r\n    module._apply(fn)\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply\r\n    param.data = fn(param.data)\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in <lambda>\r\n    return self._apply(lambda t: t.cuda(device_id))\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda\r\n    return new_type(self.size()).copy_(self, async)\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 272, in __new__\r\n    _lazy_init()\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 84, in _lazy_init\r\n    _check_driver()\r\n  File \"/root/anaconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 51, in _check_driver\r\n    raise AssertionError(\"Torch not compiled with CUDA enabled\")\r\n**AssertionError: Torch not compiled with CUDA enabled**\r\n\r\nI also checked nvidia-smi and nvcc --version in order to check whether GPU and CUDA is well specified, However there was no problem with in it.\r\n\r\n**I cant find the problem. Since I just installed magma-cuda80 right before the installing setup.py. What is the problem ?**\r\n\r\n\r\n\r\n"}