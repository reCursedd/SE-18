{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/217117999", "pull_request_review_id": 154753552, "id": 217117999, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzExNzk5OQ==", "diff_hunk": "@@ -40,6 +48,17 @@ static void VisitNode(Node* n, Node* insert_point) {\n     }\n     return;\n   }\n+\n+  // undo TupleUnpack(TupleIndex)\n+  if (n->kind() == prim::TupleIndex) {\n+    auto construct = n->inputs().at(0)->node();\n+    JIT_ASSERTM(construct->kind() == prim::TupleConstruct, \"tuple index not matched to tuple construct\");", "path": "torch/csrc/jit/passes/lower_tuples.cpp", "position": null, "original_position": 30, "commit_id": "b21e0e10937df577e0f3fb71aded15744aabbf2c", "original_commit_id": "824aa9c830f85c0546cea13ce8c48f10dad9eeab", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "It actually doesn't matter here either way, because this version of the pass (different from RemoveSimpleTuples below), is only run when EnsureNoTuples is called. Meaning that this is going to cause an assert either way.", "created_at": "2018-09-12T17:18:02Z", "updated_at": "2018-11-23T15:51:10Z", "html_url": "https://github.com/pytorch/pytorch/pull/11492#discussion_r217117999", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/11492", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/217117999"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/11492#discussion_r217117999"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/11492"}}, "body_html": "<p>It actually doesn't matter here either way, because this version of the pass (different from RemoveSimpleTuples below), is only run when EnsureNoTuples is called. Meaning that this is going to cause an assert either way.</p>", "body_text": "It actually doesn't matter here either way, because this version of the pass (different from RemoveSimpleTuples below), is only run when EnsureNoTuples is called. Meaning that this is going to cause an assert either way.", "in_reply_to_id": 216787143}