{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/425754059", "html_url": "https://github.com/pytorch/pytorch/pull/11641#issuecomment-425754059", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11641", "id": 425754059, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTc1NDA1OQ==", "user": {"login": "PhilSee", "id": 11217251, "node_id": "MDQ6VXNlcjExMjE3MjUx", "avatar_url": "https://avatars2.githubusercontent.com/u/11217251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhilSee", "html_url": "https://github.com/PhilSee", "followers_url": "https://api.github.com/users/PhilSee/followers", "following_url": "https://api.github.com/users/PhilSee/following{/other_user}", "gists_url": "https://api.github.com/users/PhilSee/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhilSee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhilSee/subscriptions", "organizations_url": "https://api.github.com/users/PhilSee/orgs", "repos_url": "https://api.github.com/users/PhilSee/repos", "events_url": "https://api.github.com/users/PhilSee/events{/privacy}", "received_events_url": "https://api.github.com/users/PhilSee/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-30T21:37:12Z", "updated_at": "2018-09-30T21:37:12Z", "author_association": "NONE", "body_html": "<p>On the <code>AT_DISPATCH_ALL_TYPES </code> issue: This might actually be related to a bug in GCC, where the visibility of a lambda and its captured objects list is treated differently by GCC: <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947\" rel=\"nofollow\">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947</a> . Adding a <code>__attribute__ ((visibility(\"hidden\")))</code> to the tensor_cpu declaration in TensorFactories.cpp:643 is a suggested workaround that actually does the trick for me. It has some pitfalls, however. More on Slack.</p>", "body_text": "On the AT_DISPATCH_ALL_TYPES  issue: This might actually be related to a bug in GCC, where the visibility of a lambda and its captured objects list is treated differently by GCC: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947 . Adding a __attribute__ ((visibility(\"hidden\"))) to the tensor_cpu declaration in TensorFactories.cpp:643 is a suggested workaround that actually does the trick for me. It has some pitfalls, however. More on Slack.", "body": "On the `AT_DISPATCH_ALL_TYPES ` issue: This might actually be related to a bug in GCC, where the visibility of a lambda and its captured objects list is treated differently by GCC: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947 . Adding a `__attribute__ ((visibility(\"hidden\")))` to the tensor_cpu declaration in TensorFactories.cpp:643 is a suggested workaround that actually does the trick for me. It has some pitfalls, however. More on Slack."}