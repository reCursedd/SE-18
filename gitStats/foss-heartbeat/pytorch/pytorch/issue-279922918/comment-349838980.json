{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/349838980", "html_url": "https://github.com/pytorch/pytorch/issues/4060#issuecomment-349838980", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4060", "id": 349838980, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTgzODk4MA==", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-07T02:07:20Z", "updated_at": "2017-12-07T02:07:59Z", "author_association": "MEMBER", "body_html": "<p><code>install_requires</code> doesn't control build-time dependencies. The <code>install_requires</code> packages are installed <em>after</em> the package in <code>setup.py</code> is built. We need <code>pyyaml</code> at build time.</p>\n<p><a href=\"https://www.python.org/dev/peps/pep-0518/\" rel=\"nofollow\">PEP 518</a> seems to be the way to specify build time deps. It's implemented in <code>pip</code> master, but not in the current released version of pip (9.0.1).</p>\n<p>There's also <code>setup_requires</code>, but by most accounts it's a disaster.</p>\n<p>For now, we should probably just check for their existence of <code>pyyaml</code> and <code>numpy</code> early in the setup.py script and print a useful error message if they're not available (like we do for the submodule check).</p>", "body_text": "install_requires doesn't control build-time dependencies. The install_requires packages are installed after the package in setup.py is built. We need pyyaml at build time.\nPEP 518 seems to be the way to specify build time deps. It's implemented in pip master, but not in the current released version of pip (9.0.1).\nThere's also setup_requires, but by most accounts it's a disaster.\nFor now, we should probably just check for their existence of pyyaml and numpy early in the setup.py script and print a useful error message if they're not available (like we do for the submodule check).", "body": "`install_requires` doesn't control build-time dependencies. The `install_requires` packages are installed *after* the package in `setup.py` is built. We need `pyyaml` at build time. \r\n\r\n[PEP 518](https://www.python.org/dev/peps/pep-0518/) seems to be the way to specify build time deps. It's implemented in `pip` master, but not in the current released version of pip (9.0.1).\r\n\r\nThere's also `setup_requires`, but by most accounts it's a disaster.\r\n\r\nFor now, we should probably just check for their existence of `pyyaml` and `numpy` early in the setup.py script and print a useful error message if they're not available (like we do for the submodule check)."}