{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6234", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6234/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6234/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6234/events", "html_url": "https://github.com/pytorch/pytorch/pull/6234", "id": 310924426, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5MTY0OTQ0", "number": 6234, "title": "Providing a portable model serialization path", "user": {"login": "zeryx", "id": 1892175, "node_id": "MDQ6VXNlcjE4OTIxNzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1892175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zeryx", "html_url": "https://github.com/zeryx", "followers_url": "https://api.github.com/users/zeryx/followers", "following_url": "https://api.github.com/users/zeryx/following{/other_user}", "gists_url": "https://api.github.com/users/zeryx/gists{/gist_id}", "starred_url": "https://api.github.com/users/zeryx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zeryx/subscriptions", "organizations_url": "https://api.github.com/users/zeryx/orgs", "repos_url": "https://api.github.com/users/zeryx/repos", "events_url": "https://api.github.com/users/zeryx/events{/privacy}", "received_events_url": "https://api.github.com/users/zeryx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-03T17:18:25Z", "updated_at": "2018-04-04T11:47:24Z", "closed_at": "2018-04-04T11:47:24Z", "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6234", "html_url": "https://github.com/pytorch/pytorch/pull/6234", "diff_url": "https://github.com/pytorch/pytorch/pull/6234.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6234.patch"}, "body_html": "<p>torch.save() and torch.load() assume that you will always have the original network definition module in your project, and that it never changes -in order for you to successfully depickle your model.<br>\nThis is certainly reasonable to expect during development and prototyping projects, however for lager production projects where your torch model definition and execution code is only one component of the overall project this can lead to serious version control issues. Model files created with previous network definitions cease to work properly, making backwards compatibility incredibly challenging and sometimes completely unfeasible.</p>\n<p>The changes I made here were taken from an ergonomics helper module I released on pypi here: <a href=\"https://github.com/algorithmiaio/pytorch-ergonomics\">https://github.com/algorithmiaio/pytorch-ergonomics</a>, which can be used to experience how the changes can improve your development experience without having to build from source to explore this commit.</p>\n<p>Certainly open to improvement suggestions, I've tried to interoperate as much as possible, but I'd certainly appreciate additional <g-emoji class=\"g-emoji\" alias=\"eyes\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f440.png\">\ud83d\udc40</g-emoji> on this.</p>", "body_text": "torch.save() and torch.load() assume that you will always have the original network definition module in your project, and that it never changes -in order for you to successfully depickle your model.\nThis is certainly reasonable to expect during development and prototyping projects, however for lager production projects where your torch model definition and execution code is only one component of the overall project this can lead to serious version control issues. Model files created with previous network definitions cease to work properly, making backwards compatibility incredibly challenging and sometimes completely unfeasible.\nThe changes I made here were taken from an ergonomics helper module I released on pypi here: https://github.com/algorithmiaio/pytorch-ergonomics, which can be used to experience how the changes can improve your development experience without having to build from source to explore this commit.\nCertainly open to improvement suggestions, I've tried to interoperate as much as possible, but I'd certainly appreciate additional \ud83d\udc40 on this.", "body": "torch.save() and torch.load() assume that you will always have the original network definition module in your project, and that it never changes -in order for you to successfully depickle your model. \r\nThis is certainly reasonable to expect during development and prototyping projects, however for lager production projects where your torch model definition and execution code is only one component of the overall project this can lead to serious version control issues. Model files created with previous network definitions cease to work properly, making backwards compatibility incredibly challenging and sometimes completely unfeasible.\r\n\r\nThe changes I made here were taken from an ergonomics helper module I released on pypi here: https://github.com/algorithmiaio/pytorch-ergonomics, which can be used to experience how the changes can improve your development experience without having to build from source to explore this commit.\r\n\r\nCertainly open to improvement suggestions, I've tried to interoperate as much as possible, but I'd certainly appreciate additional :eyes: on this."}