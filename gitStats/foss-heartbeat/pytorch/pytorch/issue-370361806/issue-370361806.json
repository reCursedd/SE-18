{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12681", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12681/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12681/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12681/events", "html_url": "https://github.com/pytorch/pytorch/pull/12681", "id": 370361806, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIzMDU3MTE2", "number": 12681, "title": "nomnigraph - simplify subgraph matching APIs", "user": {"login": "duc0", "id": 10603132, "node_id": "MDQ6VXNlcjEwNjAzMTMy", "avatar_url": "https://avatars1.githubusercontent.com/u/10603132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duc0", "html_url": "https://github.com/duc0", "followers_url": "https://api.github.com/users/duc0/followers", "following_url": "https://api.github.com/users/duc0/following{/other_user}", "gists_url": "https://api.github.com/users/duc0/gists{/gist_id}", "starred_url": "https://api.github.com/users/duc0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duc0/subscriptions", "organizations_url": "https://api.github.com/users/duc0/orgs", "repos_url": "https://api.github.com/users/duc0/repos", "events_url": "https://api.github.com/users/duc0/events{/privacy}", "received_events_url": "https://api.github.com/users/duc0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-15T22:03:13Z", "updated_at": "2018-10-18T19:33:55Z", "closed_at": "2018-10-18T19:33:55Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/12681", "html_url": "https://github.com/pytorch/pytorch/pull/12681", "diff_url": "https://github.com/pytorch/pytorch/pull/12681.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/12681.patch"}, "body_html": "<p>Summary:</p>\n<ul>\n<li>\n<p>Get rid of NodeMatchCriteria as a template parameter, which was too generic. So MatchNode becomes MatchNode, and MatchStore stores the predicate on GraphType::NodeRef.</p>\n</li>\n<li>\n<p>Similarly, get rid of NNNodeMatchCriteria</p>\n</li>\n</ul>\n<p>Now one can just pass in a function pointer NodeRef -&gt; bool to NNMatchNode constructor directly like this</p>\n<p>mg.createNode(is)</p>\n<p>Change use cases and tests to make it work</p>\n<p>Differential Revision: D10386907</p>", "body_text": "Summary:\n\n\nGet rid of NodeMatchCriteria as a template parameter, which was too generic. So MatchNode becomes MatchNode, and MatchStore stores the predicate on GraphType::NodeRef.\n\n\nSimilarly, get rid of NNNodeMatchCriteria\n\n\nNow one can just pass in a function pointer NodeRef -> bool to NNMatchNode constructor directly like this\nmg.createNode(is)\nChange use cases and tests to make it work\nDifferential Revision: D10386907", "body": "Summary:\n- Get rid of NodeMatchCriteria as a template parameter, which was too generic. So MatchNode<NodeMatchCriteria> becomes MatchNode<GraphType>, and MatchStore stores the predicate on GraphType::NodeRef.\n\n- Similarly, get rid of NNNodeMatchCriteria\n\nNow one can just pass in a function pointer NodeRef -> bool to NNMatchNode constructor directly like this\n\nmg.createNode(is<Relu>)\n\nChange use cases and tests to make it work\n\nDifferential Revision: D10386907\n"}