{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/384041681", "html_url": "https://github.com/pytorch/pytorch/issues/1708#issuecomment-384041681", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1708", "id": 384041681, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDA0MTY4MQ==", "user": {"login": "colinfang", "id": 1499555, "node_id": "MDQ6VXNlcjE0OTk1NTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1499555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colinfang", "html_url": "https://github.com/colinfang", "followers_url": "https://api.github.com/users/colinfang/followers", "following_url": "https://api.github.com/users/colinfang/following{/other_user}", "gists_url": "https://api.github.com/users/colinfang/gists{/gist_id}", "starred_url": "https://api.github.com/users/colinfang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colinfang/subscriptions", "organizations_url": "https://api.github.com/users/colinfang/orgs", "repos_url": "https://api.github.com/users/colinfang/repos", "events_url": "https://api.github.com/users/colinfang/events{/privacy}", "received_events_url": "https://api.github.com/users/colinfang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-24T18:54:07Z", "updated_at": "2018-04-24T18:54:19Z", "author_association": "NONE", "body_html": "<p>I think tf also only does 3x3 kernel templates. But it has special code path for image of size up to 32x32, not sure if it is relevant.   (NHWC or NCHW don't make much difference in tf)<br>\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc#L41\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc#L41</a>  The fastest algorithm for forward in cudnn7.1 is <code>conv2d_grouped_direct_kernel</code>, (spotted from nvprof), not sure what that is. (It might be <code>CUDNN_CONVOLUTION_FWD_ALGO_DIRECT</code> but on the sdk it says it is not implementated in cudnn)</p>", "body_text": "I think tf also only does 3x3 kernel templates. But it has special code path for image of size up to 32x32, not sure if it is relevant.   (NHWC or NCHW don't make much difference in tf)\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc#L41  The fastest algorithm for forward in cudnn7.1 is conv2d_grouped_direct_kernel, (spotted from nvprof), not sure what that is. (It might be CUDNN_CONVOLUTION_FWD_ALGO_DIRECT but on the sdk it says it is not implementated in cudnn)", "body": "I think tf also only does 3x3 kernel templates. But it has special code path for image of size up to 32x32, not sure if it is relevant.   (NHWC or NCHW don't make much difference in tf) \r\n https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/depthwise_conv_op_gpu.cu.cc#L41  The fastest algorithm for forward in cudnn7.1 is `conv2d_grouped_direct_kernel`, (spotted from nvprof), not sure what that is. (It might be `CUDNN_CONVOLUTION_FWD_ALGO_DIRECT` but on the sdk it says it is not implementated in cudnn)"}