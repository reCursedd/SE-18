{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/382686855", "html_url": "https://github.com/pytorch/pytorch/issues/1355#issuecomment-382686855", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1355", "id": 382686855, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjY4Njg1NQ==", "user": {"login": "mfuntowicz", "id": 2241520, "node_id": "MDQ6VXNlcjIyNDE1MjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2241520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfuntowicz", "html_url": "https://github.com/mfuntowicz", "followers_url": "https://api.github.com/users/mfuntowicz/followers", "following_url": "https://api.github.com/users/mfuntowicz/following{/other_user}", "gists_url": "https://api.github.com/users/mfuntowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfuntowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfuntowicz/subscriptions", "organizations_url": "https://api.github.com/users/mfuntowicz/orgs", "repos_url": "https://api.github.com/users/mfuntowicz/repos", "events_url": "https://api.github.com/users/mfuntowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/mfuntowicz/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-19T10:26:46Z", "updated_at": "2018-04-19T10:38:17Z", "author_association": "NONE", "body_html": "<p>I had exactly the same issue on Ubuntu 17.10, CUDA 9.1, Pytorch master (compiled 19/04 morning). Also using OpenCV in my Dataset subclass.</p>\n<p>Then I was able to avoid the deadlock by changing the multiprocessing start method from 'forkserver' to 'spawn':</p>\n<pre><code># Set multiprocessing start method - deadlock\nset_start_method(forkserver')\n\n# Set multiprocessing start method - runs fine\nset_start_method('spawn')\n</code></pre>", "body_text": "I had exactly the same issue on Ubuntu 17.10, CUDA 9.1, Pytorch master (compiled 19/04 morning). Also using OpenCV in my Dataset subclass.\nThen I was able to avoid the deadlock by changing the multiprocessing start method from 'forkserver' to 'spawn':\n# Set multiprocessing start method - deadlock\nset_start_method(forkserver')\n\n# Set multiprocessing start method - runs fine\nset_start_method('spawn')", "body": "I had exactly the same issue on Ubuntu 17.10, CUDA 9.1, Pytorch master (compiled 19/04 morning). Also using OpenCV in my Dataset subclass.\r\n\r\nThen I was able to avoid the deadlock by changing the multiprocessing start method from 'forkserver' to 'spawn':\r\n\r\n```\r\n# Set multiprocessing start method - deadlock\r\nset_start_method(forkserver')\r\n\r\n# Set multiprocessing start method - runs fine\r\nset_start_method('spawn')\r\n```\r\n"}