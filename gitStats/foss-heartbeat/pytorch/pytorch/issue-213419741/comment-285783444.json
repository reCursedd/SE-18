{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/285783444", "html_url": "https://github.com/pytorch/pytorch/issues/975#issuecomment-285783444", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/975", "id": 285783444, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTc4MzQ0NA==", "user": {"login": "floringogianu", "id": 1670348, "node_id": "MDQ6VXNlcjE2NzAzNDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1670348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/floringogianu", "html_url": "https://github.com/floringogianu", "followers_url": "https://api.github.com/users/floringogianu/followers", "following_url": "https://api.github.com/users/floringogianu/following{/other_user}", "gists_url": "https://api.github.com/users/floringogianu/gists{/gist_id}", "starred_url": "https://api.github.com/users/floringogianu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/floringogianu/subscriptions", "organizations_url": "https://api.github.com/users/floringogianu/orgs", "repos_url": "https://api.github.com/users/floringogianu/repos", "events_url": "https://api.github.com/users/floringogianu/events{/privacy}", "received_events_url": "https://api.github.com/users/floringogianu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-10T21:01:12Z", "updated_at": "2017-03-10T21:03:50Z", "author_association": "NONE", "body_html": "<p>We decided to look into the performance figures when the slowdown became obvious on a CPU-heavy experiment (Mnih's 2015 A3C) which does backprop steps on each different agent/process. Specifically commit @761d679 finishes playing 96,000 steps in <strong>14 seconds</strong>  while with the latest commit it finishes the same task in <strong>175 seconds</strong>!</p>\n<p>edit: that's when running on a 40-threads server, with 8 agents. Also, we were careful to <code>set_num_threads(1)</code> specifically to avoid this.</p>", "body_text": "We decided to look into the performance figures when the slowdown became obvious on a CPU-heavy experiment (Mnih's 2015 A3C) which does backprop steps on each different agent/process. Specifically commit @761d679 finishes playing 96,000 steps in 14 seconds  while with the latest commit it finishes the same task in 175 seconds!\nedit: that's when running on a 40-threads server, with 8 agents. Also, we were careful to set_num_threads(1) specifically to avoid this.", "body": "We decided to look into the performance figures when the slowdown became obvious on a CPU-heavy experiment (Mnih's 2015 A3C) which does backprop steps on each different agent/process. Specifically commit @761d679 finishes playing 96,000 steps in **14 seconds**  while with the latest commit it finishes the same task in **175 seconds**!\r\n\r\nedit: that's when running on a 40-threads server, with 8 agents. Also, we were careful to `set_num_threads(1)` specifically to avoid this."}