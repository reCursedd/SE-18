{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/320497835", "html_url": "https://github.com/pytorch/pytorch/issues/488#issuecomment-320497835", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/488", "id": 320497835, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDQ5NzgzNQ==", "user": {"login": "hughperkins", "id": 123560, "node_id": "MDQ6VXNlcjEyMzU2MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/123560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hughperkins", "html_url": "https://github.com/hughperkins", "followers_url": "https://api.github.com/users/hughperkins/followers", "following_url": "https://api.github.com/users/hughperkins/following{/other_user}", "gists_url": "https://api.github.com/users/hughperkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/hughperkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hughperkins/subscriptions", "organizations_url": "https://api.github.com/users/hughperkins/orgs", "repos_url": "https://api.github.com/users/hughperkins/repos", "events_url": "https://api.github.com/users/hughperkins/events{/privacy}", "received_events_url": "https://api.github.com/users/hughperkins/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-06T10:13:43Z", "updated_at": "2017-08-06T10:13:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3250562\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beatthem\">@beatthem</a> It does not. And I don't have time to look at this right now.  Happy to provide assistance/guidance/youtube-videos/etc to anyone who does have some time to dabble a bit though.</p>\n<p>I'll make my current branch public.</p>\n<p>Ploof! There you go: <a href=\"https://github.com/hughperkins/pytorch-coriander/compare/orig-master...master?expand=1\">https://github.com/hughperkins/pytorch-coriander/compare/orig-master...master?expand=1</a></p>\n<p>Note that most of the work is going to go into getting Thrust working, which is in Coriander itself, not in pytorch-cl.  This is kind of close-ish, but will needs some address-space love.</p>\n<p>A basic thrust program will compile now, but wont quite run, because of address-space issues. On branch <a href=\"https://github.com/hughperkins/coriander/tree/multiple-walks\">https://github.com/hughperkins/coriander/tree/multiple-walks</a> , build coriander etc, and then do:</p>\n<pre><code>cd third_party/thrust/examples\ncocl -g -D__CUDACC__ -D__thrust_hd_warning_disable__ -DCUDA_VERSION=3000 -I . -I .. fill_copy_sequence.cu\n./fill_copy_sequence\n</code></pre>\n<p>You can actually make this run, if you use the dump/load kernel functionality to dump out the kernel, which will look like <a href=\"https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2\">https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2</a> , and modify <a href=\"https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2#file-gistfile1-txt-L254\">https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2#file-gistfile1-txt-L254</a> ... I dont remember how, but one of the address-spaces is slightly wrong, and if you add/remove a global or local, in one of the casts, I think the one on the left, it's actually possible to get it to run ok.</p>", "body_text": "@beatthem It does not. And I don't have time to look at this right now.  Happy to provide assistance/guidance/youtube-videos/etc to anyone who does have some time to dabble a bit though.\nI'll make my current branch public.\nPloof! There you go: https://github.com/hughperkins/pytorch-coriander/compare/orig-master...master?expand=1\nNote that most of the work is going to go into getting Thrust working, which is in Coriander itself, not in pytorch-cl.  This is kind of close-ish, but will needs some address-space love.\nA basic thrust program will compile now, but wont quite run, because of address-space issues. On branch https://github.com/hughperkins/coriander/tree/multiple-walks , build coriander etc, and then do:\ncd third_party/thrust/examples\ncocl -g -D__CUDACC__ -D__thrust_hd_warning_disable__ -DCUDA_VERSION=3000 -I . -I .. fill_copy_sequence.cu\n./fill_copy_sequence\n\nYou can actually make this run, if you use the dump/load kernel functionality to dump out the kernel, which will look like https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2 , and modify https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2#file-gistfile1-txt-L254 ... I dont remember how, but one of the address-spaces is slightly wrong, and if you add/remove a global or local, in one of the casts, I think the one on the left, it's actually possible to get it to run ok.", "body": "@beatthem It does not. And I don't have time to look at this right now.  Happy to provide assistance/guidance/youtube-videos/etc to anyone who does have some time to dabble a bit though.\r\n\r\nI'll make my current branch public.\r\n\r\nPloof! There you go: https://github.com/hughperkins/pytorch-coriander/compare/orig-master...master?expand=1\r\n\r\nNote that most of the work is going to go into getting Thrust working, which is in Coriander itself, not in pytorch-cl.  This is kind of close-ish, but will needs some address-space love.\r\n\r\nA basic thrust program will compile now, but wont quite run, because of address-space issues. On branch https://github.com/hughperkins/coriander/tree/multiple-walks , build coriander etc, and then do:\r\n\r\n```\r\ncd third_party/thrust/examples\r\ncocl -g -D__CUDACC__ -D__thrust_hd_warning_disable__ -DCUDA_VERSION=3000 -I . -I .. fill_copy_sequence.cu\r\n./fill_copy_sequence\r\n```\r\n\r\nYou can actually make this run, if you use the dump/load kernel functionality to dump out the kernel, which will look like https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2 , and modify https://gist.github.com/hughperkins/c55bb2161a30291fd438b4c4feaf1ed2#file-gistfile1-txt-L254 ... I dont remember how, but one of the address-spaces is slightly wrong, and if you add/remove a global or local, in one of the casts, I think the one on the left, it's actually possible to get it to run ok.\r\n"}