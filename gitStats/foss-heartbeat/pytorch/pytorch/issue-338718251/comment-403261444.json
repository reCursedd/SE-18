{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/403261444", "html_url": "https://github.com/pytorch/pytorch/pull/9192#issuecomment-403261444", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9192", "id": 403261444, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI2MTQ0NA==", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-08T04:27:39Z", "updated_at": "2018-07-08T04:29:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I just tried again. I believe that the random input are already in double precision (the numpy allclose check fails otherwise). The gradcheck still fails with 2x difference for me:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> i,i-&gt;</span>\n\n<span class=\"pl-c1\">RuntimeError</span>: Jacobian mismatch <span class=\"pl-k\">for</span> output <span class=\"pl-c1\">0</span> <span class=\"pl-k\">with</span> respect to <span class=\"pl-c1\">input</span> <span class=\"pl-c1\">0</span>,    \nnumerical:tensor([[ <span class=\"pl-c1\">0.6672</span>],                                             \n        [ <span class=\"pl-c1\">2.9573</span>],                                                       \n        [<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.9153</span>],                                                       \n        [ <span class=\"pl-c1\">1.4615</span>],                                                       \n        [<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3014</span>]], <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>torch.float64)                                 \nanalytical:tensor([[ <span class=\"pl-c1\">0.3336</span>],                                            \n        [ <span class=\"pl-c1\">1.4787</span>],                                                       \n        [<span class=\"pl-k\">-</span><span class=\"pl-c1\">0.9577</span>],                                                       \n        [ <span class=\"pl-c1\">0.7307</span>],                                                       \n        [<span class=\"pl-k\">-</span><span class=\"pl-c1\">0.6507</span>]], <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>torch.float64)                                 \n</pre></div>", "body_text": "I just tried again. I believe that the random input are already in double precision (the numpy allclose check fails otherwise). The gradcheck still fails with 2x difference for me:\n# i,i->\n\nRuntimeError: Jacobian mismatch for output 0 with respect to input 0,    \nnumerical:tensor([[ 0.6672],                                             \n        [ 2.9573],                                                       \n        [-1.9153],                                                       \n        [ 1.4615],                                                       \n        [-1.3014]], dtype=torch.float64)                                 \nanalytical:tensor([[ 0.3336],                                            \n        [ 1.4787],                                                       \n        [-0.9577],                                                       \n        [ 0.7307],                                                       \n        [-0.6507]], dtype=torch.float64)", "body": "I just tried again. I believe that the random input are already in double precision (the numpy allclose check fails otherwise). The gradcheck still fails with 2x difference for me:\r\n```py\r\n# i,i->\r\n\r\nRuntimeError: Jacobian mismatch for output 0 with respect to input 0,    \r\nnumerical:tensor([[ 0.6672],                                             \r\n        [ 2.9573],                                                       \r\n        [-1.9153],                                                       \r\n        [ 1.4615],                                                       \r\n        [-1.3014]], dtype=torch.float64)                                 \r\nanalytical:tensor([[ 0.3336],                                            \r\n        [ 1.4787],                                                       \r\n        [-0.9577],                                                       \r\n        [ 0.7307],                                                       \r\n        [-0.6507]], dtype=torch.float64)                                 \r\n\r\n```"}