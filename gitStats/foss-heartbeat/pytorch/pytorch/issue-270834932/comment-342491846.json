{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/342491846", "html_url": "https://github.com/pytorch/pytorch/pull/3455#issuecomment-342491846", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3455", "id": 342491846, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjQ5MTg0Ng==", "user": {"login": "jacobgorm", "id": 873072, "node_id": "MDQ6VXNlcjg3MzA3Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/873072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacobgorm", "html_url": "https://github.com/jacobgorm", "followers_url": "https://api.github.com/users/jacobgorm/followers", "following_url": "https://api.github.com/users/jacobgorm/following{/other_user}", "gists_url": "https://api.github.com/users/jacobgorm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacobgorm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacobgorm/subscriptions", "organizations_url": "https://api.github.com/users/jacobgorm/orgs", "repos_url": "https://api.github.com/users/jacobgorm/repos", "events_url": "https://api.github.com/users/jacobgorm/events{/privacy}", "received_events_url": "https://api.github.com/users/jacobgorm/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T14:05:18Z", "updated_at": "2017-11-07T14:05:18Z", "author_association": "NONE", "body_html": "<p>FWIW this made it work for me on Arch Linux with CUDA 9:<br>\ndiff --git a/setup.py b/setup.py<br>\nindex 1b074c0d..89ef71e6 100644<br>\n--- a/setup.py<br>\n+++ b/setup.py<br>\n@@ -470,7 +470,7 @@ if WITH_CUDA:<br>\nextra_link_args.append('-Wl,-rpath,' + cuda_lib_path)<br>\nextra_compile_args += ['-DWITH_CUDA']<br>\nextra_compile_args += ['-DCUDA_LIB_PATH=' + cuda_lib_path]</p>\n<ul>\n<li>main_libraries += ['cudart', 'nvToolsExt']</li>\n</ul>\n<ul>\n<li>main_libraries += ['cudart', 'nvToolsExt', 'nvrtc', 'cuda']<br>\nmain_sources += [<br>\n\"torch/csrc/cuda/Module.cpp\",<br>\n\"torch/csrc/cuda/Storage.cpp\",</li>\n</ul>", "body_text": "FWIW this made it work for me on Arch Linux with CUDA 9:\ndiff --git a/setup.py b/setup.py\nindex 1b074c0d..89ef71e6 100644\n--- a/setup.py\n+++ b/setup.py\n@@ -470,7 +470,7 @@ if WITH_CUDA:\nextra_link_args.append('-Wl,-rpath,' + cuda_lib_path)\nextra_compile_args += ['-DWITH_CUDA']\nextra_compile_args += ['-DCUDA_LIB_PATH=' + cuda_lib_path]\n\nmain_libraries += ['cudart', 'nvToolsExt']\n\n\nmain_libraries += ['cudart', 'nvToolsExt', 'nvrtc', 'cuda']\nmain_sources += [\n\"torch/csrc/cuda/Module.cpp\",\n\"torch/csrc/cuda/Storage.cpp\",", "body": "FWIW this made it work for me on Arch Linux with CUDA 9:\r\ndiff --git a/setup.py b/setup.py\r\nindex 1b074c0d..89ef71e6 100644\r\n--- a/setup.py\r\n+++ b/setup.py\r\n@@ -470,7 +470,7 @@ if WITH_CUDA:\r\n     extra_link_args.append('-Wl,-rpath,' + cuda_lib_path)\r\n     extra_compile_args += ['-DWITH_CUDA']\r\n     extra_compile_args += ['-DCUDA_LIB_PATH=' + cuda_lib_path]\r\n-    main_libraries += ['cudart', 'nvToolsExt']\r\n+    main_libraries += ['cudart', 'nvToolsExt', 'nvrtc', 'cuda']\r\n     main_sources += [\r\n         \"torch/csrc/cuda/Module.cpp\",\r\n         \"torch/csrc/cuda/Storage.cpp\",\r\n"}