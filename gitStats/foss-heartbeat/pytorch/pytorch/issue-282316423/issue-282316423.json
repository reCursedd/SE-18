{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4191", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4191/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4191/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4191/events", "html_url": "https://github.com/pytorch/pytorch/pull/4191", "id": 282316423, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU4NTIxMDE4", "number": 4191, "title": "Relax verify of VariableFlags", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-15T04:26:11Z", "updated_at": "2018-11-23T15:37:25Z", "closed_at": "2017-12-15T17:57:31Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/4191", "html_url": "https://github.com/pytorch/pytorch/pull/4191", "diff_url": "https://github.com/pytorch/pytorch/pull/4191.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/4191.patch"}, "body_html": "<p>If we trace with a defined tensor, but see a run with a undefined<br>\ntensors we now allow that run to happen, replacing the tensor with<br>\nzeros.</p>\n<p>This also fixes a bug where stage 0 tensors were not<br>\nchecked against their verify flags.</p>\n<p>This change does <em>not</em> handle all bad situations that can happen.<br>\nFor instance if the first thing traced has a undefined tensor but<br>\na later tensor is defined, then it will fail because the graph itself<br>\ndoes not contain the trace for the derivative of the tensor.<br>\nHowever it is possible to work around this later case by<br>\ndry-running the function:</p>\n<p>z = Variable(...,requires_grad=True)<br>\nx,y = f(z)<br>\n(x.sum() + y.sum()).backward()</p>", "body_text": "If we trace with a defined tensor, but see a run with a undefined\ntensors we now allow that run to happen, replacing the tensor with\nzeros.\nThis also fixes a bug where stage 0 tensors were not\nchecked against their verify flags.\nThis change does not handle all bad situations that can happen.\nFor instance if the first thing traced has a undefined tensor but\na later tensor is defined, then it will fail because the graph itself\ndoes not contain the trace for the derivative of the tensor.\nHowever it is possible to work around this later case by\ndry-running the function:\nz = Variable(...,requires_grad=True)\nx,y = f(z)\n(x.sum() + y.sum()).backward()", "body": "If we trace with a defined tensor, but see a run with a undefined\r\ntensors we now allow that run to happen, replacing the tensor with\r\nzeros.\r\n\r\nThis also fixes a bug where stage 0 tensors were not\r\nchecked against their verify flags.\r\n\r\nThis change does _not_ handle all bad situations that can happen.\r\nFor instance if the first thing traced has a undefined tensor but\r\na later tensor is defined, then it will fail because the graph itself\r\ndoes not contain the trace for the derivative of the tensor.\r\nHowever it is possible to work around this later case by\r\ndry-running the function:\r\n\r\n   z = Variable(...,requires_grad=True)\r\n   x,y = f(z)\r\n   (x.sum() + y.sum()).backward()"}