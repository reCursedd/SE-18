{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2722", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2722/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2722/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2722/events", "html_url": "https://github.com/pytorch/pytorch/pull/2722", "id": 257429345, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQwODYyMzE5", "number": 2722, "title": "AdaptiveMaxPool: change indice format to MaxPool style, support double backwards", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-13T15:43:42Z", "updated_at": "2017-09-13T16:28:44Z", "closed_at": "2017-09-13T16:28:44Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/2722", "html_url": "https://github.com/pytorch/pytorch/pull/2722", "diff_url": "https://github.com/pytorch/pytorch/pull/2722.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/2722.patch"}, "body_html": "<ol>\n<li>AdaptiveMaxPool1d/2d today has it's own index format that is relative to the kernel, i.e. in the 2d case it has a new dimension of size 2 with x and y offsets.  This is inconsistent with MaxPooling (which has indices relative to the flattened dimensions over which its operating (i.e. 2 in the 2d case).  It's difficult to do anything useful with this format (outside of computing the backwards), because the kernels are not equally spaced like with MaxPooling).  This PR changes the format to be the same as MaxPooling.</li>\n<li>Support double backwards for AdaptiveMaxPooling.  Related to 1), we implement double backwards in the same way as it's implemented for MaxPooling (i.e. with gather and always returning the indices from the autograd Function).</li>\n</ol>", "body_text": "AdaptiveMaxPool1d/2d today has it's own index format that is relative to the kernel, i.e. in the 2d case it has a new dimension of size 2 with x and y offsets.  This is inconsistent with MaxPooling (which has indices relative to the flattened dimensions over which its operating (i.e. 2 in the 2d case).  It's difficult to do anything useful with this format (outside of computing the backwards), because the kernels are not equally spaced like with MaxPooling).  This PR changes the format to be the same as MaxPooling.\nSupport double backwards for AdaptiveMaxPooling.  Related to 1), we implement double backwards in the same way as it's implemented for MaxPooling (i.e. with gather and always returning the indices from the autograd Function).", "body": "1) AdaptiveMaxPool1d/2d today has it's own index format that is relative to the kernel, i.e. in the 2d case it has a new dimension of size 2 with x and y offsets.  This is inconsistent with MaxPooling (which has indices relative to the flattened dimensions over which its operating (i.e. 2 in the 2d case).  It's difficult to do anything useful with this format (outside of computing the backwards), because the kernels are not equally spaced like with MaxPooling).  This PR changes the format to be the same as MaxPooling.\r\n2) Support double backwards for AdaptiveMaxPooling.  Related to 1), we implement double backwards in the same way as it's implemented for MaxPooling (i.e. with gather and always returning the indices from the autograd Function)."}