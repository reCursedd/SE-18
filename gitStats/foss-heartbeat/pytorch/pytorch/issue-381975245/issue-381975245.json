{"url": "https://api.github.com/repos/pytorch/pytorch/issues/14169", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/14169/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/14169/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/14169/events", "html_url": "https://github.com/pytorch/pytorch/issues/14169", "id": 381975245, "node_id": "MDU6SXNzdWUzODE5NzUyNDU=", "number": 14169, "title": "RuntimeError: cuda runtime error (30) unknown error", "user": {"login": "sbhakat", "id": 33577253, "node_id": "MDQ6VXNlcjMzNTc3MjUz", "avatar_url": "https://avatars3.githubusercontent.com/u/33577253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbhakat", "html_url": "https://github.com/sbhakat", "followers_url": "https://api.github.com/users/sbhakat/followers", "following_url": "https://api.github.com/users/sbhakat/following{/other_user}", "gists_url": "https://api.github.com/users/sbhakat/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbhakat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbhakat/subscriptions", "organizations_url": "https://api.github.com/users/sbhakat/orgs", "repos_url": "https://api.github.com/users/sbhakat/repos", "events_url": "https://api.github.com/users/sbhakat/events{/privacy}", "received_events_url": "https://api.github.com/users/sbhakat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-18T16:20:01Z", "updated_at": "2018-11-20T16:20:31Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I was trying to run the script submission.sh inside generative_model folder from the attached .gz file and getting the following error</p>\n<pre><code>processing batches ...\nTHCudaCheck FAIL file=/scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c line=70 error=30 : unknown error\nTraceback (most recent call last):\n  File \"generator_training.py\", line 50, in &lt;module&gt;\n    train_batches,val_batches = process_data_to_batches(data,batch_size,vocabs,cuda)\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 53, in process_data_to_batches\n    train,val = process_batch(hash_length_data[length],batch_size,vocabs,cuda)\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 34, in process_batch\n    inp = inp.cuda()\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/variable.py\", line 298, in cuda\n    return CudaTransfer.apply(self, device, async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/_functions/tensor.py\", line 201, in forward\n    return i.cuda(async=async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/_utils.py\", line 69, in _cuda\n    return new_type(self.size()).copy_(self, async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 384, in _lazy_new\n    _lazy_init()\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 142, in _lazy_init\n    torch._C._cuda_init()\nRuntimeError: cuda runtime error (30) : unknown error at /scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c:70\n</code></pre>\n<p>my submission.sh file looks like</p>\n<pre><code>module load GCC/5.4.0-2.26\nmodule load CUDA/8.0.61_375.26\nmodule load OpenMPI/2.1.1\nmodule load PyTorch/0.3.1-Python-3.5.2\npython generator_training.py\n</code></pre>\n<p>Not sure what causes this error? Is this error reproducible?</p>\n<p><a href=\"https://www.dropbox.com/s/ri0zdvhhpasibl1/Generate-novel-mol.tar.gz?dl=0\" rel=\"nofollow\">https://www.dropbox.com/s/ri0zdvhhpasibl1/Generate-novel-mol.tar.gz?dl=0</a></p>\n<p>or is it something to do with my system?</p>", "body_text": "I was trying to run the script submission.sh inside generative_model folder from the attached .gz file and getting the following error\nprocessing batches ...\nTHCudaCheck FAIL file=/scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c line=70 error=30 : unknown error\nTraceback (most recent call last):\n  File \"generator_training.py\", line 50, in <module>\n    train_batches,val_batches = process_data_to_batches(data,batch_size,vocabs,cuda)\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 53, in process_data_to_batches\n    train,val = process_batch(hash_length_data[length],batch_size,vocabs,cuda)\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 34, in process_batch\n    inp = inp.cuda()\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/variable.py\", line 298, in cuda\n    return CudaTransfer.apply(self, device, async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/_functions/tensor.py\", line 201, in forward\n    return i.cuda(async=async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/_utils.py\", line 69, in _cuda\n    return new_type(self.size()).copy_(self, async)\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 384, in _lazy_new\n    _lazy_init()\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 142, in _lazy_init\n    torch._C._cuda_init()\nRuntimeError: cuda runtime error (30) : unknown error at /scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c:70\n\nmy submission.sh file looks like\nmodule load GCC/5.4.0-2.26\nmodule load CUDA/8.0.61_375.26\nmodule load OpenMPI/2.1.1\nmodule load PyTorch/0.3.1-Python-3.5.2\npython generator_training.py\n\nNot sure what causes this error? Is this error reproducible?\nhttps://www.dropbox.com/s/ri0zdvhhpasibl1/Generate-novel-mol.tar.gz?dl=0\nor is it something to do with my system?", "body": "I was trying to run the script submission.sh inside generative_model folder from the attached .gz file and getting the following error\r\n\r\n```\r\nprocessing batches ...\r\nTHCudaCheck FAIL file=/scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c line=70 error=30 : unknown error\r\nTraceback (most recent call last):\r\n  File \"generator_training.py\", line 50, in <module>\r\n    train_batches,val_batches = process_data_to_batches(data,batch_size,vocabs,cuda)\r\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 53, in process_data_to_batches\r\n    train,val = process_batch(hash_length_data[length],batch_size,vocabs,cuda)\r\n  File \"/pfs/nobackup/home/s/sbhakat/Generate-novel-molecules-with-LSTM-master/generative_model/data_loading.py\", line 34, in process_batch\r\n    inp = inp.cuda()\r\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/variable.py\", line 298, in cuda\r\n    return CudaTransfer.apply(self, device, async)\r\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/autograd/_functions/tensor.py\", line 201, in forward\r\n    return i.cuda(async=async)\r\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/_utils.py\", line 69, in _cuda\r\n    return new_type(self.size()).copy_(self, async)\r\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 384, in _lazy_new\r\n    _lazy_init()\r\n  File \"/hpc2n/eb/software/MPI/GCC-CUDA/5.4.0-2.26-8.0.61_375.26/OpenMPI/2.1.1/PyTorch/0.3.1-Python-3.5.2/lib/python3.5/site-packages/torch/cuda/__init__.py\", line 142, in _lazy_init\r\n    torch._C._cuda_init()\r\nRuntimeError: cuda runtime error (30) : unknown error at /scratch/zao/eb/PyTorch/0.3.1/goolfc-2017.02-Python-3.5.2/pytorch-0.3.1/torch/lib/THC/THCGeneral.c:70\r\n```\r\n\r\nmy submission.sh file looks like\r\n\r\n```\r\nmodule load GCC/5.4.0-2.26\r\nmodule load CUDA/8.0.61_375.26\r\nmodule load OpenMPI/2.1.1\r\nmodule load PyTorch/0.3.1-Python-3.5.2\r\npython generator_training.py\r\n```\r\n\r\nNot sure what causes this error? Is this error reproducible?\r\n\r\nhttps://www.dropbox.com/s/ri0zdvhhpasibl1/Generate-novel-mol.tar.gz?dl=0\r\n\r\n or is it something to do with my system?\r\n\r\n"}