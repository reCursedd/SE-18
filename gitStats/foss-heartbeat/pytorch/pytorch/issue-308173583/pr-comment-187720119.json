{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187720119", "pull_request_review_id": 119564268, "id": 187720119, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NzcyMDExOQ==", "diff_hunk": "@@ -251,10 +251,6 @@ def pad_sequence(sequences, batch_first=False, padding_value=0):\n     out_variable = Variable(sequences[0].data.new(*out_dims).fill_(padding_value))\n     for i, variable in enumerate(sequences):\n         length = variable.size(0)\n-        # temporary sort check, can be removed when we handle sorting internally\n-        if prev_l < length:\n-            raise ValueError(\"lengths array has to be sorted in decreasing order\")", "path": "torch/nn/utils/rnn.py", "position": 17, "original_position": 17, "commit_id": "6ae6428d347e7cb1f0fbf1b65801b1981beda8af", "original_commit_id": "6ae6428d347e7cb1f0fbf1b65801b1981beda8af", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "body": "@apaszke how does the \"batched copy\" 3 lines below break if the sequences aren't sorted? It doesn't look like it depends on the order of the sequences. The only constraint is that `length` should be less than or equal to `max_len`: the function doesn't have to return a sorted padded tensor", "created_at": "2018-05-11T20:06:53Z", "updated_at": "2018-11-23T15:43:57Z", "html_url": "https://github.com/pytorch/pytorch/pull/5974#discussion_r187720119", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/5974", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187720119"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/5974#discussion_r187720119"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/5974"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> how does the \"batched copy\" 3 lines below break if the sequences aren't sorted? It doesn't look like it depends on the order of the sequences. The only constraint is that <code>length</code> should be less than or equal to <code>max_len</code>: the function doesn't have to return a sorted padded tensor</p>", "body_text": "@apaszke how does the \"batched copy\" 3 lines below break if the sequences aren't sorted? It doesn't look like it depends on the order of the sequences. The only constraint is that length should be less than or equal to max_len: the function doesn't have to return a sorted padded tensor", "in_reply_to_id": 176883668}