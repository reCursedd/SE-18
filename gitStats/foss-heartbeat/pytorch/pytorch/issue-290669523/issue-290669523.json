{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4792", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4792/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4792/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4792/events", "html_url": "https://github.com/pytorch/pytorch/issues/4792", "id": 290669523, "node_id": "MDU6SXNzdWUyOTA2Njk1MjM=", "number": 4792, "title": "conda cuda9 build is linked with libcudart.so.8.0", "user": {"login": "ShigekiKarita", "id": 6745326, "node_id": "MDQ6VXNlcjY3NDUzMjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6745326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShigekiKarita", "html_url": "https://github.com/ShigekiKarita", "followers_url": "https://api.github.com/users/ShigekiKarita/followers", "following_url": "https://api.github.com/users/ShigekiKarita/following{/other_user}", "gists_url": "https://api.github.com/users/ShigekiKarita/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShigekiKarita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShigekiKarita/subscriptions", "organizations_url": "https://api.github.com/users/ShigekiKarita/orgs", "repos_url": "https://api.github.com/users/ShigekiKarita/repos", "events_url": "https://api.github.com/users/ShigekiKarita/events{/privacy}", "received_events_url": "https://api.github.com/users/ShigekiKarita/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-23T00:46:59Z", "updated_at": "2018-03-28T04:49:11Z", "closed_at": "2018-01-23T00:52:24Z", "author_association": "NONE", "body_html": "<p>as you can see here, it is linked with both libcudart.so.8.0 and libcudart.so.9.0</p>\n<div class=\"highlight highlight-text-shell-session\"><pre>$ <span class=\"pl-s1\">conda install pytorch cuda90 -c pytorch</span>\n$ <span class=\"pl-s1\">ldd <span class=\"pl-smi\">$CONDA_PREFIX</span>/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so <span class=\"pl-k\">|</span> grep cuda</span>\n<span class=\"pl-c1\">\tlibshm.so =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libshm.so (0x00007fa0b264d000)</span>\n<span class=\"pl-c1\">\tlibcudart.so.9.0 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudart.so.9.0 (0x00007fa0b23de000)</span>\n<span class=\"pl-c1\">\tlibnvToolsExt.so.1 =&gt; /usr/local/cuda/lib64/libnvToolsExt.so.1 (0x00007fa0b21d5000)</span>\n<span class=\"pl-c1\">\tlibcudnn.so.7 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudnn.so.7 (0x00007fa0a0f62000)</span>\n<span class=\"pl-c1\">\tlibTH.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTH.so.1 (0x00007fa0a0966000)</span>\n<span class=\"pl-c1\">\tlibTHS.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHS.so.1 (0x00007fa0a0735000)</span>\n<span class=\"pl-c1\">\tlibTHNN.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHNN.so.1 (0x00007fa0a03f1000)</span>\n<span class=\"pl-c1\">\tlibTHC.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHC.so.1 (0x00007fa07ab9e000)</span>\n<span class=\"pl-c1\">\tlibTHCS.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCS.so.1 (0x00007fa07a80e000)</span>\n<span class=\"pl-c1\">\tlibTHCUNN.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCUNN.so.1 (0x00007fa075138000)</span>\n<span class=\"pl-c1\">\tlibnccl.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libnccl.so.1 (0x00007fa0726af000)</span>\n<span class=\"pl-c1\">\tlibgcc_s.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/../../../libgcc_s.so.1 (0x00007fa07249d000)</span>\n<span class=\"pl-c1\">\tlibmkl_gf_lp64.so =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gf_lp64.so (0x00007fa070933000)</span>\n<span class=\"pl-c1\">\tlibmkl_gnu_thread.so =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gnu_thread.so (0x00007fa06f275000)</span>\n<span class=\"pl-c1\">\tlibmkl_core.so =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_core.so (0x00007fa06d0e2000)</span>\n<span class=\"pl-c1\">\tlibgomp.so.1 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libgomp.so.1 (0x00007fa06cebf000)</span>\n<span class=\"pl-c1\">\tlibcudart.so.8.0 =&gt; not found</span>\n<span class=\"pl-c1\">\tlibcublas.so.9.0 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcublas.so.9.0 (0x00007fa0671e0000)</span>\n<span class=\"pl-c1\">\tlibcurand.so.9.0 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcurand.so.9.0 (0x00007fa06327b000)</span>\n<span class=\"pl-c1\">\tlibcusparse.so.9.0 =&gt; /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcusparse.so.9.0 (0x00007fa05fb10000)</span></pre></div>", "body_text": "as you can see here, it is linked with both libcudart.so.8.0 and libcudart.so.9.0\n$ conda install pytorch cuda90 -c pytorch\n$ ldd $CONDA_PREFIX/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so | grep cuda\n\tlibshm.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libshm.so (0x00007fa0b264d000)\n\tlibcudart.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudart.so.9.0 (0x00007fa0b23de000)\n\tlibnvToolsExt.so.1 => /usr/local/cuda/lib64/libnvToolsExt.so.1 (0x00007fa0b21d5000)\n\tlibcudnn.so.7 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudnn.so.7 (0x00007fa0a0f62000)\n\tlibTH.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTH.so.1 (0x00007fa0a0966000)\n\tlibTHS.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHS.so.1 (0x00007fa0a0735000)\n\tlibTHNN.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHNN.so.1 (0x00007fa0a03f1000)\n\tlibTHC.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHC.so.1 (0x00007fa07ab9e000)\n\tlibTHCS.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCS.so.1 (0x00007fa07a80e000)\n\tlibTHCUNN.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCUNN.so.1 (0x00007fa075138000)\n\tlibnccl.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libnccl.so.1 (0x00007fa0726af000)\n\tlibgcc_s.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/../../../libgcc_s.so.1 (0x00007fa07249d000)\n\tlibmkl_gf_lp64.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gf_lp64.so (0x00007fa070933000)\n\tlibmkl_gnu_thread.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gnu_thread.so (0x00007fa06f275000)\n\tlibmkl_core.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_core.so (0x00007fa06d0e2000)\n\tlibgomp.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libgomp.so.1 (0x00007fa06cebf000)\n\tlibcudart.so.8.0 => not found\n\tlibcublas.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcublas.so.9.0 (0x00007fa0671e0000)\n\tlibcurand.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcurand.so.9.0 (0x00007fa06327b000)\n\tlibcusparse.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcusparse.so.9.0 (0x00007fa05fb10000)", "body": "as you can see here, it is linked with both libcudart.so.8.0 and libcudart.so.9.0\r\n\r\n``` console\r\n$ conda install pytorch cuda90 -c pytorch\r\n$ ldd $CONDA_PREFIX/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so | grep cuda\r\n\tlibshm.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libshm.so (0x00007fa0b264d000)\r\n\tlibcudart.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudart.so.9.0 (0x00007fa0b23de000)\r\n\tlibnvToolsExt.so.1 => /usr/local/cuda/lib64/libnvToolsExt.so.1 (0x00007fa0b21d5000)\r\n\tlibcudnn.so.7 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcudnn.so.7 (0x00007fa0a0f62000)\r\n\tlibTH.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTH.so.1 (0x00007fa0a0966000)\r\n\tlibTHS.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHS.so.1 (0x00007fa0a0735000)\r\n\tlibTHNN.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHNN.so.1 (0x00007fa0a03f1000)\r\n\tlibTHC.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHC.so.1 (0x00007fa07ab9e000)\r\n\tlibTHCS.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCS.so.1 (0x00007fa07a80e000)\r\n\tlibTHCUNN.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libTHCUNN.so.1 (0x00007fa075138000)\r\n\tlibnccl.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libnccl.so.1 (0x00007fa0726af000)\r\n\tlibgcc_s.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/../../../libgcc_s.so.1 (0x00007fa07249d000)\r\n\tlibmkl_gf_lp64.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gf_lp64.so (0x00007fa070933000)\r\n\tlibmkl_gnu_thread.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_gnu_thread.so (0x00007fa06f275000)\r\n\tlibmkl_core.so => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libmkl_core.so (0x00007fa06d0e2000)\r\n\tlibgomp.so.1 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/../../../../libgomp.so.1 (0x00007fa06cebf000)\r\n\tlibcudart.so.8.0 => not found\r\n\tlibcublas.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcublas.so.9.0 (0x00007fa0671e0000)\r\n\tlibcurand.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcurand.so.9.0 (0x00007fa06327b000)\r\n\tlibcusparse.so.9.0 => /home/skarita/tool/miniconda3/envs/cuda9/lib/python3.6/site-packages/torch/lib/libcusparse.so.9.0 (0x00007fa05fb10000)\r\n```\r\n\r\n"}