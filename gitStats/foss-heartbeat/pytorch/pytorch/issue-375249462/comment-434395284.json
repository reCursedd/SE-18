{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/434395284", "html_url": "https://github.com/pytorch/pytorch/pull/13277#issuecomment-434395284", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13277", "id": 434395284, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDM5NTI4NA==", "user": {"login": "goldsborough", "id": 6429851, "node_id": "MDQ6VXNlcjY0Mjk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6429851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldsborough", "html_url": "https://github.com/goldsborough", "followers_url": "https://api.github.com/users/goldsborough/followers", "following_url": "https://api.github.com/users/goldsborough/following{/other_user}", "gists_url": "https://api.github.com/users/goldsborough/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldsborough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldsborough/subscriptions", "organizations_url": "https://api.github.com/users/goldsborough/orgs", "repos_url": "https://api.github.com/users/goldsborough/repos", "events_url": "https://api.github.com/users/goldsborough/events{/privacy}", "received_events_url": "https://api.github.com/users/goldsborough/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-30T17:26:54Z", "updated_at": "2018-10-30T17:26:54Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=551151\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Yangqing\">@Yangqing</a> I think this has something to do with the new CUDA support. This is the CMakeLists.txt that exposes this problem:</p>\n<div class=\"highlight highlight-source-cmake\"><pre><span class=\"pl-c1\">cmake_minimum_required</span>(<span class=\"pl-k\">VERSION</span> 3.12 <span class=\"pl-k\">FATAL_ERROR</span>)\n<span class=\"pl-c1\">project</span>(TorchBug <span class=\"pl-k\">LANGUAGES</span> CXX CUDA <span class=\"pl-k\">VERSION</span> 0.0.1)\n<span class=\"pl-c1\">find_package</span>(Torch <span class=\"pl-k\">REQUIRED</span>)\n<span class=\"pl-c1\">add_executable</span>(matmulbug matmulbug.cpp matmul.cu)\n<span class=\"pl-c1\">target_include_directories</span>(matmulbug <span class=\"pl-k\">PRIVATE</span> <span class=\"pl-smi\">${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES}</span>)\n<span class=\"pl-c1\">set_property</span>(<span class=\"pl-k\">TARGET</span> matmulbug <span class=\"pl-k\">PROPERTY</span> CXX_STANDARD 11)\n<span class=\"pl-c1\">set_target_properties</span>(matmulbug <span class=\"pl-k\">PROPERTIES</span> CUDA_SEPARABLE_COMPILATION <span class=\"pl-k\">ON</span>)\n<span class=\"pl-c1\">target_link_libraries</span>(matmulbug <span class=\"pl-smi\">${TORCH_LIBRARIES}</span>)</pre></div>", "body_text": "@Yangqing I think this has something to do with the new CUDA support. This is the CMakeLists.txt that exposes this problem:\ncmake_minimum_required(VERSION 3.12 FATAL_ERROR)\nproject(TorchBug LANGUAGES CXX CUDA VERSION 0.0.1)\nfind_package(Torch REQUIRED)\nadd_executable(matmulbug matmulbug.cpp matmul.cu)\ntarget_include_directories(matmulbug PRIVATE ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES})\nset_property(TARGET matmulbug PROPERTY CXX_STANDARD 11)\nset_target_properties(matmulbug PROPERTIES CUDA_SEPARABLE_COMPILATION ON)\ntarget_link_libraries(matmulbug ${TORCH_LIBRARIES})", "body": "@Yangqing I think this has something to do with the new CUDA support. This is the CMakeLists.txt that exposes this problem:\r\n\r\n```cmake\r\ncmake_minimum_required(VERSION 3.12 FATAL_ERROR)\r\nproject(TorchBug LANGUAGES CXX CUDA VERSION 0.0.1)\r\nfind_package(Torch REQUIRED)\r\nadd_executable(matmulbug matmulbug.cpp matmul.cu)\r\ntarget_include_directories(matmulbug PRIVATE ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES})\r\nset_property(TARGET matmulbug PROPERTY CXX_STANDARD 11)\r\nset_target_properties(matmulbug PROPERTIES CUDA_SEPARABLE_COMPILATION ON)\r\ntarget_link_libraries(matmulbug ${TORCH_LIBRARIES})\r\n```"}