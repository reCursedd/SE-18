{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9003", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9003/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9003/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9003/events", "html_url": "https://github.com/pytorch/pytorch/issues/9003", "id": 336793606, "node_id": "MDU6SXNzdWUzMzY3OTM2MDY=", "number": 9003, "title": "cmake error", "user": {"login": "crazysal", "id": 6873582, "node_id": "MDQ6VXNlcjY4NzM1ODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6873582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crazysal", "html_url": "https://github.com/crazysal", "followers_url": "https://api.github.com/users/crazysal/followers", "following_url": "https://api.github.com/users/crazysal/following{/other_user}", "gists_url": "https://api.github.com/users/crazysal/gists{/gist_id}", "starred_url": "https://api.github.com/users/crazysal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crazysal/subscriptions", "organizations_url": "https://api.github.com/users/crazysal/orgs", "repos_url": "https://api.github.com/users/crazysal/repos", "events_url": "https://api.github.com/users/crazysal/events{/privacy}", "received_events_url": "https://api.github.com/users/crazysal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-06-28T21:54:45Z", "updated_at": "2018-07-03T19:02:13Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>building caffe2 with gpu exits with the following log output</p>\n<p>System Info :</p>\n<blockquote>\n<p>PyTorch version: 0.4.0<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: 9.0.176<br>\nOS: Ubuntu 18.04 LTS<br>\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0<br>\nCMake version: version 3.10.2<br>\nPython version: 3.6<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.2.88<br>\nGPU models and configuration: GPU 0: Tesla V100-SXM2-16GB<br>\nNvidia driver version: 396.26<br>\ncuDNN version: Probably one of the following:<br>\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4<br>\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a<br>\nVersions of relevant libraries:<br>\n[pip3] numpy (1.14.4)<br>\n[conda] cuda90                    1.0                  h6433d27_0    pytorch<br>\n[conda] pytorch                   0.4.0           py36_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch<br>\n[conda] torchvision               0.2.1                    py36_1    pytorch</p>\n</blockquote>\n<p>Build command used :</p>\n<blockquote>\n<p>./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.0 --cudnn 7</p>\n</blockquote>\n<p>Since the build file exits if I provide it with :</p>\n<blockquote>\n<p>./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.2 --cudnn 7</p>\n</blockquote>\n<p><em>Even tensorflow has this problem for cuda 9.2 so I had installed the cuda 9.0 toolkit as well. Error while using cuda 9.0 toolkit (if I build with path containing \"..............<strong>:/usr/local/cuda-9.0/bin/:</strong>..............\", instead of \"........................<strong>:/usr/local/cuda-9.2/bin/:</strong>......................\"):</em></p>\n<blockquote>\n<p>CUDA 9.0 is not compatible with std::tuple from GCC version &gt;= 6. Please upgrade to CUDA 9.2 or use the following option to use another version (for example)</p>\n</blockquote>\n<p>So I did use cuda 9.2 in path variable but build it using argument of --cuda 9.0</p>\n<p>This time it finally did start building but exists at 74%  with the following :</p>\n<blockquote>\n<p>[ 74%] Linking CXX shared library ../../lib/libcaffe2_observers.so<br>\n[ 74%] Built target caffe2_observers<br>\n[ 74%] Linking CXX shared module python/caffe2_pybind11_state.cpython-36m-x86_64-linux-gnu.so<br>\n[ 74%] Built target caffe2_pybind11_state<br>\nMakefile:140: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nTraceback (most recent call last):<br>\nFile \"/home/ubuntu/anaconda3/bin/conda-build\", line 11, in <br>\nsys.exit(main())<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 420, in main<br>\nexecute(sys.argv[1:])<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 411, in execute<br>\nverify=args.verify)<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/api.py\", line 200, in build<br>\nnotest=notest, need_source_download=need_source_download, variants=variants)<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 2168, in build_tree<br>\nnotest=notest,<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 1408, in build<br>\nutils.check_call_env(cmd, env=env, cwd=src_dir, stats=build_stats)<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 300, in check_call_env<br>\nreturn _func_defaulting_env_to_os_environ('call', *popenargs, **kwargs)<br>\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 280, in _func_defaulting_env_to_os_environ<br>\nraise subprocess.CalledProcessError(proc.returncode, _args)<br>\nsubprocess.CalledProcessError: Command '['/bin/bash', '-e', '/home/ubuntu/anaconda3/conda-bld/caffe2-cuda9.0-cudnn7_1530219711645/work/conda_build.sh']' returned non-zero exit status 2.</p>\n</blockquote>\n<p>Aim : to run detectron on my env. Please advice as to what to do ?</p>", "body_text": "building caffe2 with gpu exits with the following log output\nSystem Info :\n\nPyTorch version: 0.4.0\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\nOS: Ubuntu 18.04 LTS\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\nCMake version: version 3.10.2\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: 9.2.88\nGPU models and configuration: GPU 0: Tesla V100-SXM2-16GB\nNvidia driver version: 396.26\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\nVersions of relevant libraries:\n[pip3] numpy (1.14.4)\n[conda] cuda90                    1.0                  h6433d27_0    pytorch\n[conda] pytorch                   0.4.0           py36_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch\n[conda] torchvision               0.2.1                    py36_1    pytorch\n\nBuild command used :\n\n./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.0 --cudnn 7\n\nSince the build file exits if I provide it with :\n\n./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.2 --cudnn 7\n\nEven tensorflow has this problem for cuda 9.2 so I had installed the cuda 9.0 toolkit as well. Error while using cuda 9.0 toolkit (if I build with path containing \"..............:/usr/local/cuda-9.0/bin/:..............\", instead of \"........................:/usr/local/cuda-9.2/bin/:......................\"):\n\nCUDA 9.0 is not compatible with std::tuple from GCC version >= 6. Please upgrade to CUDA 9.2 or use the following option to use another version (for example)\n\nSo I did use cuda 9.2 in path variable but build it using argument of --cuda 9.0\nThis time it finally did start building but exists at 74%  with the following :\n\n[ 74%] Linking CXX shared library ../../lib/libcaffe2_observers.so\n[ 74%] Built target caffe2_observers\n[ 74%] Linking CXX shared module python/caffe2_pybind11_state.cpython-36m-x86_64-linux-gnu.so\n[ 74%] Built target caffe2_pybind11_state\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nTraceback (most recent call last):\nFile \"/home/ubuntu/anaconda3/bin/conda-build\", line 11, in \nsys.exit(main())\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 420, in main\nexecute(sys.argv[1:])\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 411, in execute\nverify=args.verify)\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/api.py\", line 200, in build\nnotest=notest, need_source_download=need_source_download, variants=variants)\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 2168, in build_tree\nnotest=notest,\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 1408, in build\nutils.check_call_env(cmd, env=env, cwd=src_dir, stats=build_stats)\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 300, in check_call_env\nreturn _func_defaulting_env_to_os_environ('call', *popenargs, **kwargs)\nFile \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 280, in _func_defaulting_env_to_os_environ\nraise subprocess.CalledProcessError(proc.returncode, _args)\nsubprocess.CalledProcessError: Command '['/bin/bash', '-e', '/home/ubuntu/anaconda3/conda-bld/caffe2-cuda9.0-cudnn7_1530219711645/work/conda_build.sh']' returned non-zero exit status 2.\n\nAim : to run detectron on my env. Please advice as to what to do ?", "body": "building caffe2 with gpu exits with the following log output \r\n\r\nSystem Info : \r\n> PyTorch version: 0.4.0\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.0.176\r\nOS: Ubuntu 18.04 LTS\r\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\nCMake version: version 3.10.2\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.2.88\r\nGPU models and configuration: GPU 0: Tesla V100-SXM2-16GB\r\nNvidia driver version: 396.26\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\r\nVersions of relevant libraries:\r\n[pip3] numpy (1.14.4)\r\n[conda] cuda90                    1.0                  h6433d27_0    pytorch\r\n[conda] pytorch                   0.4.0           py36_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch\r\n[conda] torchvision               0.2.1                    py36_1    pytorch\r\n\r\n\r\nBuild command used : \r\n> ./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.0 --cudnn 7\r\n\r\nSince the build file exits if I provide it with : \r\n> ./pytorch/scripts/build_anaconda.sh --install-locally --cuda 9.2 --cudnn 7\r\n\r\n_Even tensorflow has this problem for cuda 9.2 so I had installed the cuda 9.0 toolkit as well. Error while using cuda 9.0 toolkit (if I build with path containing \"..............**:/usr/local/cuda-9.0/bin/:**..............\", instead of \"........................**:/usr/local/cuda-9.2/bin/:**......................\"):_ \r\n> CUDA 9.0 is not compatible with std::tuple from GCC version >= 6. Please upgrade to CUDA 9.2 or use the following option to use another version (for example)\r\n\r\nSo I did use cuda 9.2 in path variable but build it using argument of --cuda 9.0\r\n\r\nThis time it finally did start building but exists at 74%  with the following : \r\n\r\n> [ 74%] Linking CXX shared library ../../lib/libcaffe2_observers.so\r\n[ 74%] Built target caffe2_observers\r\n[ 74%] Linking CXX shared module python/caffe2_pybind11_state.cpython-36m-x86_64-linux-gnu.so\r\n[ 74%] Built target caffe2_pybind11_state\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/anaconda3/bin/conda-build\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 420, in main\r\n    execute(sys.argv[1:])\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/cli/main_build.py\", line 411, in execute\r\n    verify=args.verify)\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/api.py\", line 200, in build\r\n    notest=notest, need_source_download=need_source_download, variants=variants)\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 2168, in build_tree\r\n    notest=notest,\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/build.py\", line 1408, in build\r\n    utils.check_call_env(cmd, env=env, cwd=src_dir, stats=build_stats)\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 300, in check_call_env\r\n    return _func_defaulting_env_to_os_environ('call', *popenargs, **kwargs)\r\n  File \"/home/ubuntu/anaconda3/lib/python3.6/site-packages/conda_build/utils.py\", line 280, in _func_defaulting_env_to_os_environ\r\n    raise subprocess.CalledProcessError(proc.returncode, _args)\r\nsubprocess.CalledProcessError: Command '['/bin/bash', '-e', '/home/ubuntu/anaconda3/conda-bld/caffe2-cuda9.0-cudnn7_1530219711645/work/conda_build.sh']' returned non-zero exit status 2.\r\n \r\n\r\n\r\n\r\nAim : to run detectron on my env. Please advice as to what to do ? "}