{"url": "https://api.github.com/repos/pytorch/pytorch/issues/14227", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/14227/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/14227/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/14227/events", "html_url": "https://github.com/pytorch/pytorch/issues/14227", "id": 382645694, "node_id": "MDU6SXNzdWUzODI2NDU2OTQ=", "number": 14227, "title": "[bug] inconsistent behavior of indexing ", "user": {"login": "arsenyinfo", "id": 4929993, "node_id": "MDQ6VXNlcjQ5Mjk5OTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/4929993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arsenyinfo", "html_url": "https://github.com/arsenyinfo", "followers_url": "https://api.github.com/users/arsenyinfo/followers", "following_url": "https://api.github.com/users/arsenyinfo/following{/other_user}", "gists_url": "https://api.github.com/users/arsenyinfo/gists{/gist_id}", "starred_url": "https://api.github.com/users/arsenyinfo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arsenyinfo/subscriptions", "organizations_url": "https://api.github.com/users/arsenyinfo/orgs", "repos_url": "https://api.github.com/users/arsenyinfo/repos", "events_url": "https://api.github.com/users/arsenyinfo/events{/privacy}", "received_events_url": "https://api.github.com/users/arsenyinfo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-20T12:41:09Z", "updated_at": "2018-11-20T12:41:09Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>Trying to get incorrect index of a tensor may lead to <code>IndexError</code> or <code>RuntimeError</code> which looks inconsistent to me. For example, it doesn't matches <code>numpy</code> experience.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<pre><code>\nIn [197]: tensor = torch.rand(100)\n\nIn [198]: tensor[100]\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n&lt;ipython-input-198-7933b057773b&gt; in &lt;module&gt;()\n----&gt; 1 tensor[100]\n\nIndexError: index 100 is out of bounds for dimension 0 with size 100\n\nIn [199]: tensor[np.array([0, 100])]\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-199-aa44e153a40d&gt; in &lt;module&gt;()\n----&gt; 1 tensor[np.array([0, 100])]\n\nRuntimeError: index 100 is out of bounds for dimension 0 with size 100\n</code></pre>\n<h2>Expected behavior</h2>\n<p>I'd expect <code>IndexError</code> to be raised in both cases, as <code>numpy</code> does.</p>\n<h2>Environment</h2>\n<p>PyTorch version: 0.4.1<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: None</p>\n<p>OS: Mac OSX 10.14<br>\nGCC version: Could not collect<br>\nCMake version: version 3.8.2</p>\n<p>Python version: 3.6<br>\nIs CUDA available: No<br>\nCUDA runtime version: No CUDA<br>\nGPU models and configuration: No CUDA<br>\nNvidia driver version: No CUDA<br>\ncuDNN version: No CUDA</p>", "body_text": "\ud83d\udc1b Bug\nTrying to get incorrect index of a tensor may lead to IndexError or RuntimeError which looks inconsistent to me. For example, it doesn't matches numpy experience.\nTo Reproduce\nSteps to reproduce the behavior:\n\nIn [197]: tensor = torch.rand(100)\n\nIn [198]: tensor[100]\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-198-7933b057773b> in <module>()\n----> 1 tensor[100]\n\nIndexError: index 100 is out of bounds for dimension 0 with size 100\n\nIn [199]: tensor[np.array([0, 100])]\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-199-aa44e153a40d> in <module>()\n----> 1 tensor[np.array([0, 100])]\n\nRuntimeError: index 100 is out of bounds for dimension 0 with size 100\n\nExpected behavior\nI'd expect IndexError to be raised in both cases, as numpy does.\nEnvironment\nPyTorch version: 0.4.1\nIs debug build: No\nCUDA used to build PyTorch: None\nOS: Mac OSX 10.14\nGCC version: Could not collect\nCMake version: version 3.8.2\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA", "body": "## \ud83d\udc1b Bug\r\n\r\nTrying to get incorrect index of a tensor may lead to `IndexError` or `RuntimeError` which looks inconsistent to me. For example, it doesn't matches `numpy` experience.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```\r\n\r\nIn [197]: tensor = torch.rand(100)\r\n\r\nIn [198]: tensor[100]\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-198-7933b057773b> in <module>()\r\n----> 1 tensor[100]\r\n\r\nIndexError: index 100 is out of bounds for dimension 0 with size 100\r\n\r\nIn [199]: tensor[np.array([0, 100])]\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-199-aa44e153a40d> in <module>()\r\n----> 1 tensor[np.array([0, 100])]\r\n\r\nRuntimeError: index 100 is out of bounds for dimension 0 with size 100\r\n```\r\n\r\n## Expected behavior\r\n\r\nI'd expect `IndexError` to be raised in both cases, as `numpy` does.\r\n\r\n## Environment\r\n\r\nPyTorch version: 0.4.1\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Mac OSX 10.14\r\nGCC version: Could not collect\r\nCMake version: version 3.8.2\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA"}