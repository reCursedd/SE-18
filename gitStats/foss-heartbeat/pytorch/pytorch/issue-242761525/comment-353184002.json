{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/353184002", "html_url": "https://github.com/pytorch/pytorch/issues/2083#issuecomment-353184002", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2083", "id": 353184002, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzE4NDAwMg==", "user": {"login": "teichert", "id": 2686038, "node_id": "MDQ6VXNlcjI2ODYwMzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2686038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teichert", "html_url": "https://github.com/teichert", "followers_url": "https://api.github.com/users/teichert/followers", "following_url": "https://api.github.com/users/teichert/following{/other_user}", "gists_url": "https://api.github.com/users/teichert/gists{/gist_id}", "starred_url": "https://api.github.com/users/teichert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teichert/subscriptions", "organizations_url": "https://api.github.com/users/teichert/orgs", "repos_url": "https://api.github.com/users/teichert/repos", "events_url": "https://api.github.com/users/teichert/events{/privacy}", "received_events_url": "https://api.github.com/users/teichert/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-20T21:14:07Z", "updated_at": "2017-12-20T21:14:07Z", "author_association": "NONE", "body_html": "<p>Fwiw, note that the temporary workaround of putting <code>import torch</code> first source files using torch may be insufficient if functions from those source files are being imported elsewhere.</p>\n<p>For example, if a.py imports torch and b.py doesn't import torch but imports functions defined in a.py, then other imports in b.py may happen before the torch import.</p>\n<p>In my case, I saw that this was happening by noticing that some source files in the stack trace for the \"ImportError:dlopen:cannot load any more object with static TLS\" didn't even import torch at all. Adding <code>import torch</code> on the first line of source files lower on the stack trace \"fixed\" the problem for me.</p>\n<p>(btw, I had this error and work-around even after the update to 0.3.0.)</p>", "body_text": "Fwiw, note that the temporary workaround of putting import torch first source files using torch may be insufficient if functions from those source files are being imported elsewhere.\nFor example, if a.py imports torch and b.py doesn't import torch but imports functions defined in a.py, then other imports in b.py may happen before the torch import.\nIn my case, I saw that this was happening by noticing that some source files in the stack trace for the \"ImportError:dlopen:cannot load any more object with static TLS\" didn't even import torch at all. Adding import torch on the first line of source files lower on the stack trace \"fixed\" the problem for me.\n(btw, I had this error and work-around even after the update to 0.3.0.)", "body": "Fwiw, note that the temporary workaround of putting `import torch` first source files using torch may be insufficient if functions from those source files are being imported elsewhere.\r\n\r\nFor example, if a.py imports torch and b.py doesn't import torch but imports functions defined in a.py, then other imports in b.py may happen before the torch import.\r\n\r\nIn my case, I saw that this was happening by noticing that some source files in the stack trace for the \"ImportError:dlopen:cannot load any more object with static TLS\" didn't even import torch at all. Adding `import torch` on the first line of source files lower on the stack trace \"fixed\" the problem for me.\r\n\r\n(btw, I had this error and work-around even after the update to 0.3.0.)\r\n"}