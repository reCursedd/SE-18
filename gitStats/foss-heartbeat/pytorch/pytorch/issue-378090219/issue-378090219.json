{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13651", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13651/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13651/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13651/events", "html_url": "https://github.com/pytorch/pytorch/issues/13651", "id": 378090219, "node_id": "MDU6SXNzdWUzNzgwOTAyMTk=", "number": 13651, "title": "Pytorch 1.0 Build on Mac OSX", "user": {"login": "kris-singh", "id": 11256139, "node_id": "MDQ6VXNlcjExMjU2MTM5", "avatar_url": "https://avatars1.githubusercontent.com/u/11256139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kris-singh", "html_url": "https://github.com/kris-singh", "followers_url": "https://api.github.com/users/kris-singh/followers", "following_url": "https://api.github.com/users/kris-singh/following{/other_user}", "gists_url": "https://api.github.com/users/kris-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kris-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kris-singh/subscriptions", "organizations_url": "https://api.github.com/users/kris-singh/orgs", "repos_url": "https://api.github.com/users/kris-singh/repos", "events_url": "https://api.github.com/users/kris-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/kris-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-07T00:20:57Z", "updated_at": "2018-11-15T02:30:43Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>OS: MAC OS 10.13<br>\npython: anaconda 3.7<br>\nCompiler: gcc-8 and g++-8<br>\nNO_CUDA=1 CC=gcc-8 CXX=g++-8 python setup.py install</p>\n<p>this also does not work for<br>\nNO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=gcc-8 CXX=g++-8 python setup.py install</p>\n<h2>--  Summary<br>\n--   CMake version         : 3.12.3<br>\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake<br>\n--   System                : Darwin<br>\n--   C++ compiler          : /usr/local/bin/g++-8<br>\n--   C++ compiler version  : 8.2.0<br>\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations<br>\n--   Build type            : Debug<br>\n--   Compile definitions   :<br>\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install<br>\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules</h2>\n<h2>--   ONNX version          : 1.3.0<br>\n--   ONNX NAMESPACE        : onnx_torch<br>\n--   ONNX_BUILD_TESTS      : OFF<br>\n--   ONNX_BUILD_BENCHMARKS : OFF<br>\n--   ONNX_USE_LITE_PROTO   : OFF<br>\n--   ONNXIFI_DUMMY_BACKEND : OFF</h2>\n<p>--   Protobuf compiler     :<br>\n--   Protobuf includes     :<br>\n--   Protobuf libraries    :<br>\n--   BUILD_ONNX_PYTHON     : OFF<br>\n-- Found gcc &gt;=5 and CUDA &lt;= 7.5, adding workaround C++ flags<br>\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor<br>\n-- Removing -DNDEBUG from compile flags<br>\n-- MAC OS Darwin Version: 17<br>\n-- Compiling with OpenMP support<br>\n-- MAGMA not found. Compiling without MAGMA support<br>\n-- Could not find hardware support for NEON on this machine.<br>\n-- No OMAP3 processor on this machine.<br>\n-- No OMAP4 processor on this machine.<br>\n-- AVX compiler support found<br>\n-- AVX2 compiler support found<br>\n-- Atomics: using C11 intrinsics<br>\n-- Found a library with LAPACK API. (accelerate)<br>\n-- CuDNN not found. Compiling without CuDNN support<br>\ndisabling CUDA because NOT USE_CUDA is set<br>\n-- MIOpen not found. Compiling without MIOpen support<br>\ndisabling ROCM because NOT USE_ROCM is set<br>\ndisabling MKLDNN because USE_MKLDNN is not set<br>\n-- GCC 8.2.0: Adding gcc and gcc_s libs to link line<br>\n-- Using python found in /anaconda3/bin/python<br>\ndisabling CUDA because USE_CUDA is set false<br>\n-- Found OpenMP_C: -fopenmp<br>\n-- Found OpenMP_CXX: -fopenmp<br>\n-- Found OpenMP: TRUE<br>\n-- Configuring build for SLEEF-v3.2<br>\nTarget system: Darwin-17.7.0<br>\nTarget processor: x86_64<br>\nHost system: Darwin-17.7.0<br>\nHost processor: x86_64<br>\nDetected C compiler: GNU @ /usr/local/bin/gcc-8<br>\n-- Using option <code>-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math</code> to compile libsleef<br>\n-- Building shared libs : OFF<br>\n-- MPFR : /usr/local/lib/libmpfr.dylib<br>\n-- MPFR header file in /usr/local/include<br>\n-- GMP : /usr/local/lib/libgmp.dylib<br>\n-- RUNNING_ON_TRAVIS : 0<br>\n-- COMPILER_SUPPORTS_OPENMP : 1<br>\n-- Using python found in /anaconda3/bin/python<br>\n-- /usr/local/bin/g++-8 /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/abi-check.cpp -o /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build/abi-check<br>\n-- Determined _GLIBCXX_USE_CXX11_ABI=1<br>\n-- NCCL operators skipped due to no CUDA support<br>\n-- Excluding ideep operators as we are not using ideep<br>\n-- Excluding image processing operators due to no opencv<br>\n-- Excluding video processing operators due to no opencv<br>\n-- MPI operators skipped due to no MPI support<br>\n-- Include Observer library<br>\n-- Using lib/python3.7/site-packages as python relative installation path<br>\n-- Automatically generating missing <strong>init</strong>.py files.<br>\n-- A previous caffe2 cmake run already created the <strong>init</strong>.py files.<br>\nCMake Warning at CMakeLists.txt:387 (message):<br>\nGenerated cmake files are only fully tested if one builds with system glog,<br>\ngflags, and protobuf.  Other settings may generate files that are not well<br>\ntested.</p>\n<h2>--<br>\n--  Summary<br>\n-- General:<br>\n--   CMake version         : 3.12.3<br>\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake<br>\n--   System                : Darwin<br>\n--   C++ compiler          : /usr/local/bin/g++-8<br>\n--   C++ compiler version  : 8.2.0<br>\n--   BLAS                  : MKL<br>\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-stringop-overflow<br>\n--   Build type            : Debug<br>\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_C11_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1<br>\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install</h2>\n<p>--   TORCH_VERSION         : 1.0.0<br>\n--   CAFFE2_VERSION        : 1.0.0<br>\n--   BUILD_ATEN_MOBILE     : OFF<br>\n--   BUILD_ATEN_ONLY       : OFF<br>\n--   BUILD_BINARY          : OFF<br>\n--   BUILD_CUSTOM_PROTOBUF : ON<br>\n--     Link local protobuf : ON<br>\n--   BUILD_DOCS            : OFF<br>\n--   BUILD_PYTHON          : ON<br>\n--     Python version      : 3.7<br>\n--     Python executable   : /anaconda3/bin/python<br>\n--     Pythonlibs version  : 3.7.0<br>\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib<br>\n--     Python includes     : /anaconda3/include/python3.7m<br>\n--     Python site-packages: lib/python3.7/site-packages<br>\n--   BUILD_CAFFE2_OPS      : OFF<br>\n--   BUILD_SHARED_LIBS     : ON<br>\n--   BUILD_TEST            : ON<br>\n--   USE_ASAN              : OFF<br>\n--   USE_CUDA              : 0<br>\n--   USE_ROCM              : OFF<br>\n--   USE_EIGEN_FOR_BLAS    : ON<br>\n--   USE_FFMPEG            : OFF<br>\n--   USE_GFLAGS            : OFF<br>\n--   USE_GLOG              : OFF<br>\n--   USE_LEVELDB           : OFF<br>\n--   USE_LITE_PROTO        : OFF<br>\n--   USE_LMDB              : OFF<br>\n--   USE_METAL             : OFF<br>\n--   USE_MKL               : OFF<br>\n--   USE_MKLDNN            : OFF<br>\n--   USE_MOBILE_OPENGL     : OFF<br>\n--   USE_NCCL              : OFF<br>\n--   USE_NNPACK            : 1<br>\n--   USE_NUMPY             : ON<br>\n--   USE_OBSERVERS         : ON<br>\n--   USE_OPENCL            : OFF<br>\n--   USE_OPENCV            : OFF<br>\n--   USE_OPENMP            : OFF<br>\n--   USE_PROF              : OFF<br>\n--   USE_QNNPACK           : 0<br>\n--   USE_REDIS             : OFF<br>\n--   USE_ROCKSDB           : OFF<br>\n--   USE_ZMQ               : OFF<br>\n--   USE_DISTRIBUTED       : OFF<br>\n--   Public Dependencies  : Threads::Threads<br>\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader;gcc_s;gcc<br>\n-- Configuring done<br>\n-- Generating done<br>\n-- Build files have been written to: /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build</p>\n<ul>\n<li>ninja install -j4</li>\n</ul>\n<p><strong>Error</strong><br>\nFAILED: lib/libcaffe2.dylib<br>\nld: library not found for -lgcc_s<br>\ncollect2: error: ld returned 1 exit status<br>\n[1279/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/observer_config.cc.o<br>\n[1280/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/net_observer_reporter_print.cc.o<br>\n[1281/1481] Building CXX object modules/module_test/CMakeFiles/caffe2_module_test_dynamic.dir/module_test_dynamic.cc.o<br>\nninja: build stopped: subcommand failed.<br>\nsetup.py::build_deps::run()<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'</p>\n<p><strong>Case 2</strong><br>\nOS: Mac OSX 10.13<br>\npython: anacnonda 3.7<br>\ncompiler: clang and clang++<br>\nmake command: NO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=clang CXX=clang++ python setup.py install</p>\n<h2>--  Summary<br>\n--   CMake version         : 3.12.3<br>\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake<br>\n--   System                : Darwin<br>\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++<br>\n--   C++ compiler version  : 10.0.0.10001044<br>\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations<br>\n--   Build type            : Debug<br>\n--   Compile definitions   :<br>\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install<br>\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules</h2>\n<h2>--   ONNX version          : 1.3.0<br>\n--   ONNX NAMESPACE        : onnx_torch<br>\n--   ONNX_BUILD_TESTS      : OFF<br>\n--   ONNX_BUILD_BENCHMARKS : OFF<br>\n--   ONNX_USE_LITE_PROTO   : OFF<br>\n--   ONNXIFI_DUMMY_BACKEND : OFF</h2>\n<h2>--   Protobuf compiler     :<br>\n--   Protobuf includes     :<br>\n--   Protobuf libraries    :<br>\n--   BUILD_ONNX_PYTHON     : OFF<br>\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor<br>\n-- Removing -DNDEBUG from compile flags<br>\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\")<br>\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\")<br>\n-- Found OpenMP: TRUE (found version \"3.1\")<br>\n-- Compiling with OpenMP support<br>\n-- MAGMA not found. Compiling without MAGMA support<br>\n-- Could not find hardware support for NEON on this machine.<br>\n-- No OMAP3 processor on this machine.<br>\n-- No OMAP4 processor on this machine.<br>\n-- Looking for cpuid.h<br>\n-- Looking for cpuid.h - found<br>\n-- Performing Test HAVE_GCC_GET_CPUID<br>\n-- Performing Test HAVE_GCC_GET_CPUID - Success<br>\n-- Performing Test NO_GCC_EBX_FPIC_BUG<br>\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success<br>\n-- Performing Test C_HAS_AVX_1<br>\n-- Performing Test C_HAS_AVX_1 - Failed<br>\n-- Performing Test C_HAS_AVX_2<br>\n-- Performing Test C_HAS_AVX_2 - Success<br>\n-- Performing Test C_HAS_AVX2_1<br>\n-- Performing Test C_HAS_AVX2_1 - Failed<br>\n-- Performing Test C_HAS_AVX2_2<br>\n-- Performing Test C_HAS_AVX2_2 - Success<br>\n-- Performing Test CXX_HAS_AVX_1<br>\n-- Performing Test CXX_HAS_AVX_1 - Failed<br>\n-- Performing Test CXX_HAS_AVX_2<br>\n-- Performing Test CXX_HAS_AVX_2 - Success<br>\n-- Performing Test CXX_HAS_AVX2_1<br>\n-- Performing Test CXX_HAS_AVX2_1 - Failed<br>\n-- Performing Test CXX_HAS_AVX2_2<br>\n-- Performing Test CXX_HAS_AVX2_2 - Success<br>\n-- AVX compiler support found<br>\n-- AVX2 compiler support found<br>\n-- Performing Test HAS_C11_ATOMICS<br>\n-- Performing Test HAS_C11_ATOMICS - Failed<br>\n-- Performing Test HAS_MSC_ATOMICS<br>\n-- Performing Test HAS_MSC_ATOMICS - Failed<br>\n-- Performing Test HAS_GCC_ATOMICS<br>\n-- Performing Test HAS_GCC_ATOMICS - Success<br>\n-- Atomics: using GCC intrinsics<br>\n-- Looking for cheev_<br>\n-- Looking for cheev_ - found<br>\n-- Found a library with LAPACK API. (accelerate)<br>\n-- CuDNN not found. Compiling without CuDNN support<br>\n-- MIOpen not found. Compiling without MIOpen support<br>\n-- Looking for mmap<br>\n-- Looking for mmap - found<br>\n-- Looking for shm_open<br>\n-- Looking for shm_open - found<br>\n-- Looking for shm_unlink<br>\n-- Looking for shm_unlink - found<br>\n-- Looking for malloc_usable_size<br>\n-- Looking for malloc_usable_size - not found<br>\n-- Performing Test C_HAS_THREAD<br>\n-- Performing Test C_HAS_THREAD - Success<br>\n-- Using python found in /anaconda3/bin/python<br>\n-- Check size of long double<br>\n-- Check size of long double - done<br>\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE<br>\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success<br>\n-- Performing Test COMPILER_SUPPORTS_FLOAT128<br>\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Failed<br>\n-- Performing Test COMPILER_SUPPORTS_SSE2<br>\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success<br>\n-- Performing Test COMPILER_SUPPORTS_SSE4<br>\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success<br>\n-- Performing Test COMPILER_SUPPORTS_AVX<br>\n-- Performing Test COMPILER_SUPPORTS_AVX - Success<br>\n-- Performing Test COMPILER_SUPPORTS_FMA4<br>\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success<br>\n-- Performing Test COMPILER_SUPPORTS_AVX2<br>\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success<br>\n-- Performing Test COMPILER_SUPPORTS_SVE<br>\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed<br>\n-- Performing Test COMPILER_SUPPORTS_AVX512F<br>\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Success<br>\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\")<br>\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\")<br>\n-- Performing Test COMPILER_SUPPORTS_OPENMP<br>\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Failed<br>\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES<br>\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Failed<br>\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH<br>\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success<br>\n-- Configuring build for SLEEF-v3.2<br>\n-- Using option <code>-Wall -Wno-unused -Wno-attributes -Wno-unused-result -ffp-contract=off -fno-math-errno -fno-trapping-math</code> to compile libsleef<br>\n-- Building shared libs : OFF<br>\n-- MPFR : /usr/local/lib/libmpfr.dylib<br>\n-- MPFR header file in /usr/local/include<br>\n-- GMP : /usr/local/lib/libgmp.dylib<br>\n-- RUNNING_ON_TRAVIS : 0<br>\n-- COMPILER_SUPPORTS_OPENMP :<br>\n-- Using python found in /anaconda3/bin/python<br>\n-- NCCL operators skipped due to no CUDA support<br>\n-- Excluding ideep operators as we are not using ideep<br>\n-- Excluding image processing operators due to no opencv<br>\n-- Excluding video processing operators due to no opencv<br>\n-- MPI operators skipped due to no MPI support<br>\n-- Include Observer library<br>\n-- Using lib/python3.7/site-packages as python relative installation path<br>\n-- Automatically generating missing <strong>init</strong>.py files.</h2>\n<h2>-- Summary<br>\n-- General:<br>\n--   CMake version         : 3.12.3<br>\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake<br>\n--   System                : Darwin<br>\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++<br>\n--   C++ compiler version  : 10.0.0.10001044<br>\n--   BLAS                  : MKL<br>\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -Xclang -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-invalid-partial-specialization -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unused-private-field -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-missing-braces -Qunused-arguments -faligned-new -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const<br>\n--   Build type            : Debug<br>\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1<br>\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install</h2>\n<p>--   TORCH_VERSION         : 1.0.0<br>\n--   CAFFE2_VERSION        : 1.0.0<br>\n--   BUILD_ATEN_MOBILE     : OFF<br>\n--   BUILD_ATEN_ONLY       : OFF<br>\n--   BUILD_BINARY          : OFF<br>\n--   BUILD_CUSTOM_PROTOBUF : ON<br>\n--     Link local protobuf : ON<br>\n--   BUILD_DOCS            : OFF<br>\n--   BUILD_PYTHON          : ON<br>\n--     Python version      : 3.7<br>\n--     Python executable   : /anaconda3/bin/python<br>\n--     Pythonlibs version  : 3.7.0<br>\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib<br>\n--     Python includes     : /anaconda3/include/python3.7m<br>\n--     Python site-packages: lib/python3.7/site-packages<br>\n--   BUILD_CAFFE2_OPS      : OFF<br>\n--   BUILD_SHARED_LIBS     : ON<br>\n--   BUILD_TEST            : ON<br>\n--   USE_ASAN              : OFF<br>\n--   USE_CUDA              : 0<br>\n--   USE_ROCM              : OFF<br>\n--   USE_EIGEN_FOR_BLAS    : ON<br>\n--   USE_FFMPEG            : OFF<br>\n--   USE_GFLAGS            : OFF<br>\n--   USE_GLOG              : OFF<br>\n--   USE_LEVELDB           : OFF<br>\n--   USE_LITE_PROTO        : OFF<br>\n--   USE_LMDB              : OFF<br>\n--   USE_METAL             : OFF<br>\n--   USE_MKL               : OFF<br>\n--   USE_MKLDNN            : OFF<br>\n--   USE_MOBILE_OPENGL     : OFF<br>\n--   USE_NCCL              : OFF<br>\n--   USE_NNPACK            : 1<br>\n--   USE_NUMPY             : ON<br>\n--   USE_OBSERVERS         : ON<br>\n--   USE_OPENCL            : OFF<br>\n--   USE_OPENCV            : OFF<br>\n--   USE_OPENMP            : OFF<br>\n--   USE_PROF              : OFF<br>\n--   USE_QNNPACK           : 0<br>\n--   USE_REDIS             : OFF<br>\n--   USE_ROCKSDB           : OFF<br>\n--   USE_ZMQ               : OFF<br>\n--   USE_DISTRIBUTED       : OFF<br>\n--   Public Dependencies  : Threads::Threads<br>\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader<br>\n-- Configuring done<br>\n-- Generating done<br>\n<strong>Error</strong><br>\n\"_omp_set_num_threads\", referenced from:<br>\n_THSetNumThreads in THGeneral.cpp.o<br>\ncaffe2::Caffe2SetOpenMPThreads(int*, char***) in init_omp.cc.o<br>\nld: symbol(s) not found for architecture x86_64<br>\nclang: error: linker command failed with exit code 1 (use -v to see invocation)<br>\n[1363/1562] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/perf_observer.cc.o<br>\nninja: build stopped: subcommand failed.<br>\nsetup.py::build_deps::run()<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'</p>", "body_text": "\ud83d\udc1b Bug\nOS: MAC OS 10.13\npython: anaconda 3.7\nCompiler: gcc-8 and g++-8\nNO_CUDA=1 CC=gcc-8 CXX=g++-8 python setup.py install\nthis also does not work for\nNO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=gcc-8 CXX=g++-8 python setup.py install\n--  Summary\n--   CMake version         : 3.12.3\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\n--   System                : Darwin\n--   C++ compiler          : /usr/local/bin/g++-8\n--   C++ compiler version  : 8.2.0\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations\n--   Build type            : Debug\n--   Compile definitions   :\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules\n--   ONNX version          : 1.3.0\n--   ONNX NAMESPACE        : onnx_torch\n--   ONNX_BUILD_TESTS      : OFF\n--   ONNX_BUILD_BENCHMARKS : OFF\n--   ONNX_USE_LITE_PROTO   : OFF\n--   ONNXIFI_DUMMY_BACKEND : OFF\n--   Protobuf compiler     :\n--   Protobuf includes     :\n--   Protobuf libraries    :\n--   BUILD_ONNX_PYTHON     : OFF\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- MAC OS Darwin Version: 17\n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- AVX compiler support found\n-- AVX2 compiler support found\n-- Atomics: using C11 intrinsics\n-- Found a library with LAPACK API. (accelerate)\n-- CuDNN not found. Compiling without CuDNN support\ndisabling CUDA because NOT USE_CUDA is set\n-- MIOpen not found. Compiling without MIOpen support\ndisabling ROCM because NOT USE_ROCM is set\ndisabling MKLDNN because USE_MKLDNN is not set\n-- GCC 8.2.0: Adding gcc and gcc_s libs to link line\n-- Using python found in /anaconda3/bin/python\ndisabling CUDA because USE_CUDA is set false\n-- Found OpenMP_C: -fopenmp\n-- Found OpenMP_CXX: -fopenmp\n-- Found OpenMP: TRUE\n-- Configuring build for SLEEF-v3.2\nTarget system: Darwin-17.7.0\nTarget processor: x86_64\nHost system: Darwin-17.7.0\nHost processor: x86_64\nDetected C compiler: GNU @ /usr/local/bin/gcc-8\n-- Using option -Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math to compile libsleef\n-- Building shared libs : OFF\n-- MPFR : /usr/local/lib/libmpfr.dylib\n-- MPFR header file in /usr/local/include\n-- GMP : /usr/local/lib/libgmp.dylib\n-- RUNNING_ON_TRAVIS : 0\n-- COMPILER_SUPPORTS_OPENMP : 1\n-- Using python found in /anaconda3/bin/python\n-- /usr/local/bin/g++-8 /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/abi-check.cpp -o /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build/abi-check\n-- Determined _GLIBCXX_USE_CXX11_ABI=1\n-- NCCL operators skipped due to no CUDA support\n-- Excluding ideep operators as we are not using ideep\n-- Excluding image processing operators due to no opencv\n-- Excluding video processing operators due to no opencv\n-- MPI operators skipped due to no MPI support\n-- Include Observer library\n-- Using lib/python3.7/site-packages as python relative installation path\n-- Automatically generating missing init.py files.\n-- A previous caffe2 cmake run already created the init.py files.\nCMake Warning at CMakeLists.txt:387 (message):\nGenerated cmake files are only fully tested if one builds with system glog,\ngflags, and protobuf.  Other settings may generate files that are not well\ntested.\n--\n--  Summary\n-- General:\n--   CMake version         : 3.12.3\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\n--   System                : Darwin\n--   C++ compiler          : /usr/local/bin/g++-8\n--   C++ compiler version  : 8.2.0\n--   BLAS                  : MKL\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-stringop-overflow\n--   Build type            : Debug\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_C11_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\n--   TORCH_VERSION         : 1.0.0\n--   CAFFE2_VERSION        : 1.0.0\n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_ATEN_ONLY       : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.7\n--     Python executable   : /anaconda3/bin/python\n--     Pythonlibs version  : 3.7.0\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib\n--     Python includes     : /anaconda3/include/python3.7m\n--     Python site-packages: lib/python3.7/site-packages\n--   BUILD_CAFFE2_OPS      : OFF\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : ON\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 0\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : OFF\n--   USE_MKLDNN            : OFF\n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : OFF\n--   USE_NNPACK            : 1\n--   USE_NUMPY             : ON\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_QNNPACK           : 0\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : OFF\n--   Public Dependencies  : Threads::Threads\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader;gcc_s;gcc\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build\n\nninja install -j4\n\nError\nFAILED: lib/libcaffe2.dylib\nld: library not found for -lgcc_s\ncollect2: error: ld returned 1 exit status\n[1279/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/observer_config.cc.o\n[1280/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/net_observer_reporter_print.cc.o\n[1281/1481] Building CXX object modules/module_test/CMakeFiles/caffe2_module_test_dynamic.dir/module_test_dynamic.cc.o\nninja: build stopped: subcommand failed.\nsetup.py::build_deps::run()\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'\nCase 2\nOS: Mac OSX 10.13\npython: anacnonda 3.7\ncompiler: clang and clang++\nmake command: NO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=clang CXX=clang++ python setup.py install\n--  Summary\n--   CMake version         : 3.12.3\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\n--   System                : Darwin\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++\n--   C++ compiler version  : 10.0.0.10001044\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations\n--   Build type            : Debug\n--   Compile definitions   :\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules\n--   ONNX version          : 1.3.0\n--   ONNX NAMESPACE        : onnx_torch\n--   ONNX_BUILD_TESTS      : OFF\n--   ONNX_BUILD_BENCHMARKS : OFF\n--   ONNX_USE_LITE_PROTO   : OFF\n--   ONNXIFI_DUMMY_BACKEND : OFF\n--   Protobuf compiler     :\n--   Protobuf includes     :\n--   Protobuf libraries    :\n--   BUILD_ONNX_PYTHON     : OFF\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\")\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\")\n-- Found OpenMP: TRUE (found version \"3.1\")\n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- Looking for cpuid.h\n-- Looking for cpuid.h - found\n-- Performing Test HAVE_GCC_GET_CPUID\n-- Performing Test HAVE_GCC_GET_CPUID - Success\n-- Performing Test NO_GCC_EBX_FPIC_BUG\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success\n-- Performing Test C_HAS_AVX_1\n-- Performing Test C_HAS_AVX_1 - Failed\n-- Performing Test C_HAS_AVX_2\n-- Performing Test C_HAS_AVX_2 - Success\n-- Performing Test C_HAS_AVX2_1\n-- Performing Test C_HAS_AVX2_1 - Failed\n-- Performing Test C_HAS_AVX2_2\n-- Performing Test C_HAS_AVX2_2 - Success\n-- Performing Test CXX_HAS_AVX_1\n-- Performing Test CXX_HAS_AVX_1 - Failed\n-- Performing Test CXX_HAS_AVX_2\n-- Performing Test CXX_HAS_AVX_2 - Success\n-- Performing Test CXX_HAS_AVX2_1\n-- Performing Test CXX_HAS_AVX2_1 - Failed\n-- Performing Test CXX_HAS_AVX2_2\n-- Performing Test CXX_HAS_AVX2_2 - Success\n-- AVX compiler support found\n-- AVX2 compiler support found\n-- Performing Test HAS_C11_ATOMICS\n-- Performing Test HAS_C11_ATOMICS - Failed\n-- Performing Test HAS_MSC_ATOMICS\n-- Performing Test HAS_MSC_ATOMICS - Failed\n-- Performing Test HAS_GCC_ATOMICS\n-- Performing Test HAS_GCC_ATOMICS - Success\n-- Atomics: using GCC intrinsics\n-- Looking for cheev_\n-- Looking for cheev_ - found\n-- Found a library with LAPACK API. (accelerate)\n-- CuDNN not found. Compiling without CuDNN support\n-- MIOpen not found. Compiling without MIOpen support\n-- Looking for mmap\n-- Looking for mmap - found\n-- Looking for shm_open\n-- Looking for shm_open - found\n-- Looking for shm_unlink\n-- Looking for shm_unlink - found\n-- Looking for malloc_usable_size\n-- Looking for malloc_usable_size - not found\n-- Performing Test C_HAS_THREAD\n-- Performing Test C_HAS_THREAD - Success\n-- Using python found in /anaconda3/bin/python\n-- Check size of long double\n-- Check size of long double - done\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success\n-- Performing Test COMPILER_SUPPORTS_FLOAT128\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Failed\n-- Performing Test COMPILER_SUPPORTS_SSE2\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success\n-- Performing Test COMPILER_SUPPORTS_SSE4\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX\n-- Performing Test COMPILER_SUPPORTS_AVX - Success\n-- Performing Test COMPILER_SUPPORTS_FMA4\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success\n-- Performing Test COMPILER_SUPPORTS_AVX2\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success\n-- Performing Test COMPILER_SUPPORTS_SVE\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed\n-- Performing Test COMPILER_SUPPORTS_AVX512F\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Success\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\")\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\")\n-- Performing Test COMPILER_SUPPORTS_OPENMP\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Failed\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Failed\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success\n-- Configuring build for SLEEF-v3.2\n-- Using option -Wall -Wno-unused -Wno-attributes -Wno-unused-result -ffp-contract=off -fno-math-errno -fno-trapping-math to compile libsleef\n-- Building shared libs : OFF\n-- MPFR : /usr/local/lib/libmpfr.dylib\n-- MPFR header file in /usr/local/include\n-- GMP : /usr/local/lib/libgmp.dylib\n-- RUNNING_ON_TRAVIS : 0\n-- COMPILER_SUPPORTS_OPENMP :\n-- Using python found in /anaconda3/bin/python\n-- NCCL operators skipped due to no CUDA support\n-- Excluding ideep operators as we are not using ideep\n-- Excluding image processing operators due to no opencv\n-- Excluding video processing operators due to no opencv\n-- MPI operators skipped due to no MPI support\n-- Include Observer library\n-- Using lib/python3.7/site-packages as python relative installation path\n-- Automatically generating missing init.py files.\n-- Summary\n-- General:\n--   CMake version         : 3.12.3\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\n--   System                : Darwin\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++\n--   C++ compiler version  : 10.0.0.10001044\n--   BLAS                  : MKL\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -Xclang -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-invalid-partial-specialization -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unused-private-field -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-missing-braces -Qunused-arguments -faligned-new -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const\n--   Build type            : Debug\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\n--   TORCH_VERSION         : 1.0.0\n--   CAFFE2_VERSION        : 1.0.0\n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_ATEN_ONLY       : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.7\n--     Python executable   : /anaconda3/bin/python\n--     Pythonlibs version  : 3.7.0\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib\n--     Python includes     : /anaconda3/include/python3.7m\n--     Python site-packages: lib/python3.7/site-packages\n--   BUILD_CAFFE2_OPS      : OFF\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : ON\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 0\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : OFF\n--   USE_MKLDNN            : OFF\n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : OFF\n--   USE_NNPACK            : 1\n--   USE_NUMPY             : ON\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_QNNPACK           : 0\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : OFF\n--   Public Dependencies  : Threads::Threads\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader\n-- Configuring done\n-- Generating done\nError\n\"_omp_set_num_threads\", referenced from:\n_THSetNumThreads in THGeneral.cpp.o\ncaffe2::Caffe2SetOpenMPThreads(int*, char***) in init_omp.cc.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n[1363/1562] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/perf_observer.cc.o\nninja: build stopped: subcommand failed.\nsetup.py::build_deps::run()\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'", "body": "## \ud83d\udc1b Bug\r\n\r\nOS: MAC OS 10.13\r\npython: anaconda 3.7\r\nCompiler: gcc-8 and g++-8\r\nNO_CUDA=1 CC=gcc-8 CXX=g++-8 python setup.py install \r\n\r\nthis also does not work for \r\nNO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=gcc-8 CXX=g++-8 python setup.py install \r\n\r\n--  Summary \r\n--   CMake version         : 3.12.3\r\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\r\n--   System                : Darwin\r\n--   C++ compiler          : /usr/local/bin/g++-8\r\n--   C++ compiler version  : 8.2.0\r\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations\r\n--   Build type            : Debug\r\n--   Compile definitions   : \r\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\r\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules\r\n-- \r\n--   ONNX version          : 1.3.0\r\n--   ONNX NAMESPACE        : onnx_torch\r\n--   ONNX_BUILD_TESTS      : OFF\r\n--   ONNX_BUILD_BENCHMARKS : OFF\r\n--   ONNX_USE_LITE_PROTO   : OFF\r\n--   ONNXIFI_DUMMY_BACKEND : OFF\r\n-- \r\n--   Protobuf compiler     : \r\n--   Protobuf includes     : \r\n--   Protobuf libraries    : \r\n--   BUILD_ONNX_PYTHON     : OFF\r\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\r\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- MAC OS Darwin Version: 17\r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- AVX compiler support found\r\n-- AVX2 compiler support found\r\n-- Atomics: using C11 intrinsics\r\n-- Found a library with LAPACK API. (accelerate)\r\n-- CuDNN not found. Compiling without CuDNN support\r\ndisabling CUDA because NOT USE_CUDA is set\r\n-- MIOpen not found. Compiling without MIOpen support\r\ndisabling ROCM because NOT USE_ROCM is set\r\ndisabling MKLDNN because USE_MKLDNN is not set\r\n-- GCC 8.2.0: Adding gcc and gcc_s libs to link line\r\n-- Using python found in /anaconda3/bin/python\r\ndisabling CUDA because USE_CUDA is set false\r\n-- Found OpenMP_C: -fopenmp  \r\n-- Found OpenMP_CXX: -fopenmp  \r\n-- Found OpenMP: TRUE   \r\n-- Configuring build for SLEEF-v3.2\r\n   Target system: Darwin-17.7.0\r\n   Target processor: x86_64\r\n   Host system: Darwin-17.7.0\r\n   Host processor: x86_64\r\n   Detected C compiler: GNU @ /usr/local/bin/gcc-8\r\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\r\n-- Building shared libs : OFF\r\n-- MPFR : /usr/local/lib/libmpfr.dylib\r\n-- MPFR header file in /usr/local/include\r\n-- GMP : /usr/local/lib/libgmp.dylib\r\n-- RUNNING_ON_TRAVIS : 0\r\n-- COMPILER_SUPPORTS_OPENMP : 1\r\n-- Using python found in /anaconda3/bin/python\r\n-- /usr/local/bin/g++-8 /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/abi-check.cpp -o /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build/abi-check\r\n-- Determined _GLIBCXX_USE_CXX11_ABI=1\r\n-- NCCL operators skipped due to no CUDA support\r\n-- Excluding ideep operators as we are not using ideep\r\n-- Excluding image processing operators due to no opencv\r\n-- Excluding video processing operators due to no opencv\r\n-- MPI operators skipped due to no MPI support\r\n-- Include Observer library\r\n-- Using lib/python3.7/site-packages as python relative installation path\r\n-- Automatically generating missing __init__.py files.\r\n-- A previous caffe2 cmake run already created the __init__.py files.\r\nCMake Warning at CMakeLists.txt:387 (message):\r\n  Generated cmake files are only fully tested if one builds with system glog,\r\n  gflags, and protobuf.  Other settings may generate files that are not well\r\n  tested.\r\n\r\n\r\n-- \r\n--  Summary \r\n-- General:\r\n--   CMake version         : 3.12.3\r\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\r\n--   System                : Darwin\r\n--   C++ compiler          : /usr/local/bin/g++-8\r\n--   C++ compiler version  : 8.2.0\r\n--   BLAS                  : MKL\r\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-stringop-overflow\r\n--   Build type            : Debug\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_C11_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1\r\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\r\n-- \r\n--   TORCH_VERSION         : 1.0.0\r\n--   CAFFE2_VERSION        : 1.0.0\r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_ATEN_ONLY       : OFF\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 3.7\r\n--     Python executable   : /anaconda3/bin/python\r\n--     Pythonlibs version  : 3.7.0\r\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib\r\n--     Python includes     : /anaconda3/include/python3.7m\r\n--     Python site-packages: lib/python3.7/site-packages\r\n--   BUILD_CAFFE2_OPS      : OFF\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : ON\r\n--   USE_ASAN              : OFF\r\n--   USE_CUDA              : 0\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : ON\r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_LEVELDB           : OFF\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : OFF\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : OFF\r\n--   USE_MKLDNN            : OFF\r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_NCCL              : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_NUMPY             : ON\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : OFF\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_QNNPACK           : 0\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : OFF\r\n--   Public Dependencies  : Threads::Threads\r\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader;gcc_s;gcc\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/build\r\n+ ninja install -j4\r\n\r\n**Error** \r\nFAILED: lib/libcaffe2.dylib \r\nld: library not found for -lgcc_s\r\ncollect2: error: ld returned 1 exit status\r\n[1279/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/observer_config.cc.o\r\n[1280/1481] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/net_observer_reporter_print.cc.o\r\n[1281/1481] Building CXX object modules/module_test/CMakeFiles/caffe2_module_test_dynamic.dir/module_test_dynamic.cc.o\r\nninja: build stopped: subcommand failed.\r\nsetup.py::build_deps::run()\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'\r\n\r\n\r\n**Case 2**\r\nOS: Mac OSX 10.13\r\npython: anacnonda 3.7\r\ncompiler: clang and clang++\r\nmake command: NO_CUDA=1 NO_DISTRIBUTED=1 NO_QNNPACK=1 DEBUG=1 NO_CAFFE2_OPS=1 CC=clang CXX=clang++ python setup.py install \r\n\r\n--  Summary \r\n--   CMake version         : 3.12.3\r\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\r\n--   System                : Darwin\r\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++\r\n--   C++ compiler version  : 10.0.0.10001044\r\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations\r\n--   Build type            : Debug\r\n--   Compile definitions   : \r\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\r\n--   CMAKE_MODULE_PATH     : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/cmake/Modules\r\n-- \r\n--   ONNX version          : 1.3.0\r\n--   ONNX NAMESPACE        : onnx_torch\r\n--   ONNX_BUILD_TESTS      : OFF\r\n--   ONNX_BUILD_BENCHMARKS : OFF\r\n--   ONNX_USE_LITE_PROTO   : OFF\r\n--   ONNXIFI_DUMMY_BACKEND : OFF\r\n-- \r\n--   Protobuf compiler     : \r\n--   Protobuf includes     : \r\n--   Protobuf libraries    : \r\n--   BUILD_ONNX_PYTHON     : OFF\r\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\") \r\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\") \r\n-- Found OpenMP: TRUE (found version \"3.1\")  \r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- Looking for cpuid.h\r\n-- Looking for cpuid.h - found\r\n-- Performing Test HAVE_GCC_GET_CPUID\r\n-- Performing Test HAVE_GCC_GET_CPUID - Success\r\n-- Performing Test NO_GCC_EBX_FPIC_BUG\r\n-- Performing Test NO_GCC_EBX_FPIC_BUG - Success\r\n-- Performing Test C_HAS_AVX_1\r\n-- Performing Test C_HAS_AVX_1 - Failed\r\n-- Performing Test C_HAS_AVX_2\r\n-- Performing Test C_HAS_AVX_2 - Success\r\n-- Performing Test C_HAS_AVX2_1\r\n-- Performing Test C_HAS_AVX2_1 - Failed\r\n-- Performing Test C_HAS_AVX2_2\r\n-- Performing Test C_HAS_AVX2_2 - Success\r\n-- Performing Test CXX_HAS_AVX_1\r\n-- Performing Test CXX_HAS_AVX_1 - Failed\r\n-- Performing Test CXX_HAS_AVX_2\r\n-- Performing Test CXX_HAS_AVX_2 - Success\r\n-- Performing Test CXX_HAS_AVX2_1\r\n-- Performing Test CXX_HAS_AVX2_1 - Failed\r\n-- Performing Test CXX_HAS_AVX2_2\r\n-- Performing Test CXX_HAS_AVX2_2 - Success\r\n-- AVX compiler support found\r\n-- AVX2 compiler support found\r\n-- Performing Test HAS_C11_ATOMICS\r\n-- Performing Test HAS_C11_ATOMICS - Failed\r\n-- Performing Test HAS_MSC_ATOMICS\r\n-- Performing Test HAS_MSC_ATOMICS - Failed\r\n-- Performing Test HAS_GCC_ATOMICS\r\n-- Performing Test HAS_GCC_ATOMICS - Success\r\n-- Atomics: using GCC intrinsics\r\n-- Looking for cheev_\r\n-- Looking for cheev_ - found\r\n-- Found a library with LAPACK API. (accelerate)\r\n-- CuDNN not found. Compiling without CuDNN support\r\n-- MIOpen not found. Compiling without MIOpen support\r\n-- Looking for mmap\r\n-- Looking for mmap - found\r\n-- Looking for shm_open\r\n-- Looking for shm_open - found\r\n-- Looking for shm_unlink\r\n-- Looking for shm_unlink - found\r\n-- Looking for malloc_usable_size\r\n-- Looking for malloc_usable_size - not found\r\n-- Performing Test C_HAS_THREAD\r\n-- Performing Test C_HAS_THREAD - Success\r\n-- Using python found in /anaconda3/bin/python\r\n-- Check size of long double\r\n-- Check size of long double - done\r\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE\r\n-- Performing Test COMPILER_SUPPORTS_LONG_DOUBLE - Success\r\n-- Performing Test COMPILER_SUPPORTS_FLOAT128\r\n-- Performing Test COMPILER_SUPPORTS_FLOAT128 - Failed\r\n-- Performing Test COMPILER_SUPPORTS_SSE2\r\n-- Performing Test COMPILER_SUPPORTS_SSE2 - Success\r\n-- Performing Test COMPILER_SUPPORTS_SSE4\r\n-- Performing Test COMPILER_SUPPORTS_SSE4 - Success\r\n-- Performing Test COMPILER_SUPPORTS_AVX\r\n-- Performing Test COMPILER_SUPPORTS_AVX - Success\r\n-- Performing Test COMPILER_SUPPORTS_FMA4\r\n-- Performing Test COMPILER_SUPPORTS_FMA4 - Success\r\n-- Performing Test COMPILER_SUPPORTS_AVX2\r\n-- Performing Test COMPILER_SUPPORTS_AVX2 - Success\r\n-- Performing Test COMPILER_SUPPORTS_SVE\r\n-- Performing Test COMPILER_SUPPORTS_SVE - Failed\r\n-- Performing Test COMPILER_SUPPORTS_AVX512F\r\n-- Performing Test COMPILER_SUPPORTS_AVX512F - Success\r\n-- Found OpenMP_C: -Xclang -fopenmp (found version \"3.1\") \r\n-- Found OpenMP_CXX: -Xclang -fopenmp (found version \"3.1\") \r\n-- Performing Test COMPILER_SUPPORTS_OPENMP\r\n-- Performing Test COMPILER_SUPPORTS_OPENMP - Failed\r\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES\r\n-- Performing Test COMPILER_SUPPORTS_WEAK_ALIASES - Failed\r\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH\r\n-- Performing Test COMPILER_SUPPORTS_BUILTIN_MATH - Success\r\n-- Configuring build for SLEEF-v3.2\r\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\r\n-- Building shared libs : OFF\r\n-- MPFR : /usr/local/lib/libmpfr.dylib\r\n-- MPFR header file in /usr/local/include\r\n-- GMP : /usr/local/lib/libgmp.dylib\r\n-- RUNNING_ON_TRAVIS : 0\r\n-- COMPILER_SUPPORTS_OPENMP : \r\n-- Using python found in /anaconda3/bin/python\r\n-- NCCL operators skipped due to no CUDA support\r\n-- Excluding ideep operators as we are not using ideep\r\n-- Excluding image processing operators due to no opencv\r\n-- Excluding video processing operators due to no opencv\r\n-- MPI operators skipped due to no MPI support\r\n-- Include Observer library\r\n-- Using lib/python3.7/site-packages as python relative installation path\r\n-- Automatically generating missing __init__.py files.\r\n-- \r\n-- Summary \r\n-- General:\r\n--   CMake version         : 3.12.3\r\n--   CMake command         : /usr/local/Cellar/cmake/3.12.3/bin/cmake\r\n--   System                : Darwin\r\n--   C++ compiler          : /Library/Developer/CommandLineTools/usr/bin/clang++\r\n--   C++ compiler version  : 10.0.0.10001044\r\n--   BLAS                  : MKL\r\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden -Wno-deprecated-declarations -Xclang -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-invalid-partial-specialization -Wno-typedef-redefinition -Wno-unknown-warning-option -Wno-unused-private-field -Wno-inconsistent-missing-override -Wno-aligned-allocation-unavailable -Wno-c++14-extensions -Wno-constexpr-not-const -Wno-missing-braces -Qunused-arguments -faligned-new -Wno-unused-private-field -Wno-missing-braces -Wno-c++14-extensions -Wno-constexpr-not-const\r\n--   Build type            : Debug\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1\r\n--   CMAKE_PREFIX_PATH     : /anaconda3/lib/python3.7/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /Users/krishna.singh/Desktop/Object_Detection/Models/maskrcnn-benchmark/github/pytorch/torch/lib/tmp_install\r\n-- \r\n--   TORCH_VERSION         : 1.0.0\r\n--   CAFFE2_VERSION        : 1.0.0\r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_ATEN_ONLY       : OFF\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 3.7\r\n--     Python executable   : /anaconda3/bin/python\r\n--     Pythonlibs version  : 3.7.0\r\n--     Python library      : /anaconda3/lib/libpython3.7m.dylib\r\n--     Python includes     : /anaconda3/include/python3.7m\r\n--     Python site-packages: lib/python3.7/site-packages\r\n--   BUILD_CAFFE2_OPS      : OFF\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : ON\r\n--   USE_ASAN              : OFF\r\n--   USE_CUDA              : 0\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : ON\r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_LEVELDB           : OFF\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : OFF\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : OFF\r\n--   USE_MKLDNN            : OFF\r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_NCCL              : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_NUMPY             : ON\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : OFF\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_QNNPACK           : 0\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : OFF\r\n--   Public Dependencies  : Threads::Threads\r\n--   Private Dependencies : nnpack;cpuinfo;fp16;onnxifi_loader\r\n-- Configuring done\r\n-- Generating done\r\n**Error** \r\n  \"_omp_set_num_threads\", referenced from:\r\n      _THSetNumThreads in THGeneral.cpp.o\r\n      caffe2::Caffe2SetOpenMPThreads(int*, char***) in init_omp.cc.o\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n[1363/1562] Building CXX object modules/observers/CMakeFiles/caffe2_observers.dir/perf_observer.cc.o\r\nninja: build stopped: subcommand failed.\r\nsetup.py::build_deps::run()\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack caffe2'\r\n\r\n"}