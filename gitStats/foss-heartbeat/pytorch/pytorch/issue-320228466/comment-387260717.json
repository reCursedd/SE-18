{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/387260717", "html_url": "https://github.com/pytorch/pytorch/issues/7280#issuecomment-387260717", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7280", "id": 387260717, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzI2MDcxNw==", "user": {"login": "huguyuehuhu", "id": 25881545, "node_id": "MDQ6VXNlcjI1ODgxNTQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/25881545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huguyuehuhu", "html_url": "https://github.com/huguyuehuhu", "followers_url": "https://api.github.com/users/huguyuehuhu/followers", "following_url": "https://api.github.com/users/huguyuehuhu/following{/other_user}", "gists_url": "https://api.github.com/users/huguyuehuhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/huguyuehuhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huguyuehuhu/subscriptions", "organizations_url": "https://api.github.com/users/huguyuehuhu/orgs", "repos_url": "https://api.github.com/users/huguyuehuhu/repos", "events_url": "https://api.github.com/users/huguyuehuhu/events{/privacy}", "received_events_url": "https://api.github.com/users/huguyuehuhu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-08T02:00:27Z", "updated_at": "2018-05-08T02:00:27Z", "author_association": "NONE", "body_html": "<p><code>if __name__ == '__main__': device = 2 num_layers = 2 # 1 dropout = 0.5 # 0</code><br>\nI  change the <code>device</code>,<code>dropout</code> and<code> layers</code> in the main function in my code above; I have 4  GPUs, set as  <code>export CUDA_VISIBLE_DEVICES=0,1,2,3</code> .</p>\n<pre><code>if set gpu index as larger than 0 (device = 2), with dropout(dropout = 0.5), num_layers = 2: cause error;\nif set gpu index as larger than 0 (device = 2), without dropout(dropout = 0), num_layers = 2: cause no error;\nif set gpu index as 0 (device = 0), no matter dropout or not, num_layers = 2: cause no error;\nnum_layers = 1: all cases is okay.\n</code></pre>", "body_text": "if __name__ == '__main__': device = 2 num_layers = 2 # 1 dropout = 0.5 # 0\nI  change the device,dropout and layers in the main function in my code above; I have 4  GPUs, set as  export CUDA_VISIBLE_DEVICES=0,1,2,3 .\nif set gpu index as larger than 0 (device = 2), with dropout(dropout = 0.5), num_layers = 2: cause error;\nif set gpu index as larger than 0 (device = 2), without dropout(dropout = 0), num_layers = 2: cause no error;\nif set gpu index as 0 (device = 0), no matter dropout or not, num_layers = 2: cause no error;\nnum_layers = 1: all cases is okay.", "body": "`if __name__ == '__main__':\r\n    device = 2\r\n    num_layers = 2 # 1\r\n    dropout = 0.5 # 0`\r\nI  change the `device`,`dropout` and` layers` in the main function in my code above; I have 4  GPUs, set as  `export CUDA_VISIBLE_DEVICES=0,1,2,3` .\r\n\r\n    if set gpu index as larger than 0 (device = 2), with dropout(dropout = 0.5), num_layers = 2: cause error;\r\n    if set gpu index as larger than 0 (device = 2), without dropout(dropout = 0), num_layers = 2: cause no error;\r\n    if set gpu index as 0 (device = 0), no matter dropout or not, num_layers = 2: cause no error;\r\n    num_layers = 1: all cases is okay.\r\n\r\n"}