{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4773", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4773/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4773/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4773/events", "html_url": "https://github.com/pytorch/pytorch/issues/4773", "id": 290333524, "node_id": "MDU6SXNzdWUyOTAzMzM1MjQ=", "number": 4773, "title": "python setup.py install pytorch 0.3.0 failed", "user": {"login": "MasonSuWei", "id": 20238481, "node_id": "MDQ6VXNlcjIwMjM4NDgx", "avatar_url": "https://avatars0.githubusercontent.com/u/20238481?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MasonSuWei", "html_url": "https://github.com/MasonSuWei", "followers_url": "https://api.github.com/users/MasonSuWei/followers", "following_url": "https://api.github.com/users/MasonSuWei/following{/other_user}", "gists_url": "https://api.github.com/users/MasonSuWei/gists{/gist_id}", "starred_url": "https://api.github.com/users/MasonSuWei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MasonSuWei/subscriptions", "organizations_url": "https://api.github.com/users/MasonSuWei/orgs", "repos_url": "https://api.github.com/users/MasonSuWei/repos", "events_url": "https://api.github.com/users/MasonSuWei/events{/privacy}", "received_events_url": "https://api.github.com/users/MasonSuWei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-22T02:28:50Z", "updated_at": "2018-01-22T04:11:09Z", "closed_at": "2018-01-22T04:11:09Z", "author_association": "NONE", "body_html": "<p>I just git clone --recursive  --branch=0.3.0 <a href=\"https://github.com/pytorch/pytorch\">https://github.com/pytorch/pytorch</a></p>\n<p>After I run the following commands<br>\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]</p>\n<h1>Install basic dependencies</h1>\n<p>conda install numpy pyyaml mkl setuptools cmake cffi</p>\n<h1>Add LAPACK support for the GPU</h1>\n<p>conda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5</p>\n<p>I run the following command<br>\npython setup.py install</p>\n<p>But the command failed, the last log is the following. Can you give me some advises to debug this problem?</p>\n<p>gcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c torch/csrc/cuda/nccl.cpp -o build/temp.linux-x86_64-3.6/torch/csrc/cuda/nccl.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN<br>\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN<br>\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN<br>\nerror: command 'gcc' failed with exit status 1</p>\n<p><strong>My cuda is 8.0.61. My CUDNN is 5.1.10.</strong></p>", "body_text": "I just git clone --recursive  --branch=0.3.0 https://github.com/pytorch/pytorch\nAfter I run the following commands\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]\nInstall basic dependencies\nconda install numpy pyyaml mkl setuptools cmake cffi\nAdd LAPACK support for the GPU\nconda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5\nI run the following command\npython setup.py install\nBut the command failed, the last log is the following. Can you give me some advises to debug this problem?\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c torch/csrc/cuda/nccl.cpp -o build/temp.linux-x86_64-3.6/torch/csrc/cuda/nccl.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\nerror: command 'gcc' failed with exit status 1\nMy cuda is 8.0.61. My CUDNN is 5.1.10.", "body": "I just git clone --recursive  --branch=0.3.0 https://github.com/pytorch/pytorch\r\n\r\nAfter I run the following commands\r\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]\r\n\r\n# Install basic dependencies\r\nconda install numpy pyyaml mkl setuptools cmake cffi\r\n\r\n# Add LAPACK support for the GPU\r\nconda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5\r\n\r\nI run the following command\r\npython setup.py install\r\n\r\nBut the command failed, the last log is the following. Can you give me some advises to debug this problem?\r\n\r\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c torch/csrc/cuda/nccl.cpp -o build/temp.linux-x86_64-3.6/torch/csrc/cuda/nccl.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\r\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorShort.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\r\ngcc -pthread -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0 -I/media/disk1/pytorch/pytorch-0.3.0/torch/csrc -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/pybind11/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/TH -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THNN -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/ATen -I/home/masonsu/.conda/envs/pytorch_0_3_0/lib/python3.6/site-packages/numpy/core/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/media/disk1/pytorch/pytorch-0.3.0/torch/lib/tmp_install/include/THCUNN -I/home/masonsu/.conda/envs/pytorch_0_3_0/include/python3.6m -c /media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.cpp -o build/temp.linux-x86_64-3.6/media/disk1/pytorch/pytorch-0.3.0/torch/csrc/generated/cuda_TensorHalf.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib64 -DWITH_NCCL -DWITH_CUDNN\r\nerror: command 'gcc' failed with exit status 1\r\n\r\n**My cuda is 8.0.61. My CUDNN is 5.1.10.**"}