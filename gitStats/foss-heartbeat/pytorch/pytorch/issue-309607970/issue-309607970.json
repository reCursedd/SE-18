{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6099", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6099/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6099/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6099/events", "html_url": "https://github.com/pytorch/pytorch/issues/6099", "id": 309607970, "node_id": "MDU6SXNzdWUzMDk2MDc5NzA=", "number": 6099, "title": "Distributed training over multiple node with file initialisation", "user": {"login": "Jeffery4000", "id": 27762422, "node_id": "MDQ6VXNlcjI3NzYyNDIy", "avatar_url": "https://avatars2.githubusercontent.com/u/27762422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jeffery4000", "html_url": "https://github.com/Jeffery4000", "followers_url": "https://api.github.com/users/Jeffery4000/followers", "following_url": "https://api.github.com/users/Jeffery4000/following{/other_user}", "gists_url": "https://api.github.com/users/Jeffery4000/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jeffery4000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jeffery4000/subscriptions", "organizations_url": "https://api.github.com/users/Jeffery4000/orgs", "repos_url": "https://api.github.com/users/Jeffery4000/repos", "events_url": "https://api.github.com/users/Jeffery4000/events{/privacy}", "received_events_url": "https://api.github.com/users/Jeffery4000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-03-29T03:39:11Z", "updated_at": "2018-04-03T17:21:29Z", "closed_at": "2018-04-03T17:00:44Z", "author_association": "NONE", "body_html": "<p>Hi, I am trying to launch a distribute training over two node with the example of imaganet.<br>\nThe share drive are able to access by both node and ssh-key-pair is created.</p>\n<p>Share folder path: /home/test_share/</p>\n<p>Launching job by command below:<br>\n<code>CUDA_VISIBLE_DEVICES=0,1,2,3 python main.py --a resnet50 -j 15 --epochs 1 -b 100 /home/imagenet_2012 --dist-url file:///home/test_share/ --world-size 2</code></p>\n<p>But it given an error showing below, i assume that it was not able to access the folder but why??:</p>\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 315, in &lt;module&gt;\n    main()\n  File \"main.py\", line 70, in main\n    world_size=args.world_size)\n  File \"/usr/local/lib/python2.7/dist-packages/torch/distributed/__init__.py\", line 49, in init_process_group\n    group_name, rank)\nRuntimeError: cannot access '/home/test_share' file: Unknown error -1 at /pytorch/torch/lib/THD/process_group/General.cpp:17\n</code></pre>\n<p>When I try using tcp initialisation, it just hang at:<br>\n<code>creating model 'resnet50'</code></p>", "body_text": "Hi, I am trying to launch a distribute training over two node with the example of imaganet.\nThe share drive are able to access by both node and ssh-key-pair is created.\nShare folder path: /home/test_share/\nLaunching job by command below:\nCUDA_VISIBLE_DEVICES=0,1,2,3 python main.py --a resnet50 -j 15 --epochs 1 -b 100 /home/imagenet_2012 --dist-url file:///home/test_share/ --world-size 2\nBut it given an error showing below, i assume that it was not able to access the folder but why??:\nTraceback (most recent call last):\n  File \"main.py\", line 315, in <module>\n    main()\n  File \"main.py\", line 70, in main\n    world_size=args.world_size)\n  File \"/usr/local/lib/python2.7/dist-packages/torch/distributed/__init__.py\", line 49, in init_process_group\n    group_name, rank)\nRuntimeError: cannot access '/home/test_share' file: Unknown error -1 at /pytorch/torch/lib/THD/process_group/General.cpp:17\n\nWhen I try using tcp initialisation, it just hang at:\ncreating model 'resnet50'", "body": "Hi, I am trying to launch a distribute training over two node with the example of imaganet.\r\nThe share drive are able to access by both node and ssh-key-pair is created.\r\n\r\nShare folder path: /home/test_share/\r\n\r\nLaunching job by command below:\r\n`CUDA_VISIBLE_DEVICES=0,1,2,3 python main.py --a resnet50 -j 15 --epochs 1 -b 100 /home/imagenet_2012 --dist-url file:///home/test_share/ --world-size 2`\r\n\r\nBut it given an error showing below, i assume that it was not able to access the folder but why??:\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 315, in <module>\r\n    main()\r\n  File \"main.py\", line 70, in main\r\n    world_size=args.world_size)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/distributed/__init__.py\", line 49, in init_process_group\r\n    group_name, rank)\r\nRuntimeError: cannot access '/home/test_share' file: Unknown error -1 at /pytorch/torch/lib/THD/process_group/General.cpp:17\r\n```\r\n\r\nWhen I try using tcp initialisation, it just hang at:\r\n`creating model 'resnet50'`\r\n"}