{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12642", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12642/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12642/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12642/events", "html_url": "https://github.com/pytorch/pytorch/issues/12642", "id": 369986009, "node_id": "MDU6SXNzdWUzNjk5ODYwMDk=", "number": 12642, "title": "fail to visualize caffe2 model", "user": {"login": "XiongChengxin", "id": 32812590, "node_id": "MDQ6VXNlcjMyODEyNTkw", "avatar_url": "https://avatars0.githubusercontent.com/u/32812590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XiongChengxin", "html_url": "https://github.com/XiongChengxin", "followers_url": "https://api.github.com/users/XiongChengxin/followers", "following_url": "https://api.github.com/users/XiongChengxin/following{/other_user}", "gists_url": "https://api.github.com/users/XiongChengxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/XiongChengxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XiongChengxin/subscriptions", "organizations_url": "https://api.github.com/users/XiongChengxin/orgs", "repos_url": "https://api.github.com/users/XiongChengxin/repos", "events_url": "https://api.github.com/users/XiongChengxin/events{/privacy}", "received_events_url": "https://api.github.com/users/XiongChengxin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-15T03:31:39Z", "updated_at": "2018-10-23T16:28:27Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Refer to caffe2 official website, I tried to visualize caffe2 model by these code:</p>\n<p>from caffe2.python import net_drawer<br>\nfrom IPython import display<br>\ngraph=net_drawer.GetPydotGraph(train_model.net.Proto().op,\"train_model\",rankdir=\"LR\")<br>\ndisplay.Image(graph.create_png(),width=800)</p>\n<p>I've also tried:<br>\ngraph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train_model\", rankdir=\"LR\")<br>\ngraph.write_png('graph.png')</p>\n<p>I've installed graphviz by command:<br>\nsudo apt-get install graphviz<br>\npip install pydot</p>\n<p>But I will meet error as follows:<br>\nTraceback (most recent call last):<br>\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 535, in <br>\nmain()<br>\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 530, in main<br>\nTrain(args)<br>\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 418, in Train<br>\nexplog<br>\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 144, in RunEpoch<br>\ngraph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train\", rankdir=\"TB\")<br>\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1673, in new_method<br>\nencoding=encoding)<br>\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1756, in write<br>\ns = self.create(prog, format, encoding=encoding)<br>\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1884, in create<br>\nassert p.returncode == 0, p.returncode<br>\nAssertionError: -11</p>\n<p>Do you have ideas to solve it? Or do you have any other ideas to visualize caffe2 model? Thanks in advance.</p>", "body_text": "Refer to caffe2 official website, I tried to visualize caffe2 model by these code:\nfrom caffe2.python import net_drawer\nfrom IPython import display\ngraph=net_drawer.GetPydotGraph(train_model.net.Proto().op,\"train_model\",rankdir=\"LR\")\ndisplay.Image(graph.create_png(),width=800)\nI've also tried:\ngraph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train_model\", rankdir=\"LR\")\ngraph.write_png('graph.png')\nI've installed graphviz by command:\nsudo apt-get install graphviz\npip install pydot\nBut I will meet error as follows:\nTraceback (most recent call last):\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 535, in \nmain()\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 530, in main\nTrain(args)\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 418, in Train\nexplog\nFile \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 144, in RunEpoch\ngraph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train\", rankdir=\"TB\")\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1673, in new_method\nencoding=encoding)\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1756, in write\ns = self.create(prog, format, encoding=encoding)\nFile \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1884, in create\nassert p.returncode == 0, p.returncode\nAssertionError: -11\nDo you have ideas to solve it? Or do you have any other ideas to visualize caffe2 model? Thanks in advance.", "body": "Refer to caffe2 official website, I tried to visualize caffe2 model by these code:\r\n\r\nfrom caffe2.python import net_drawer\r\nfrom IPython import display\r\ngraph=net_drawer.GetPydotGraph(train_model.net.Proto().op,\"train_model\",rankdir=\"LR\")\r\ndisplay.Image(graph.create_png(),width=800) \r\n\r\nI've also tried:\r\ngraph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train_model\", rankdir=\"LR\")\r\ngraph.write_png('graph.png')\r\n\r\nI've installed graphviz by command:\r\nsudo apt-get install graphviz\r\npip install pydot\r\n\r\nBut I will meet error as follows:\r\nTraceback (most recent call last):\r\n  File \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 535, in <module>\r\n    main()\r\n  File \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 530, in main\r\n    Train(args)\r\n  File \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 418, in Train\r\n    explog\r\n  File \"/mnt/xiongcx/R2Plus1D-master/tools/train_net.py\", line 144, in RunEpoch\r\n    graph = net_drawer.GetPydotGraph(train_model.net.Proto().op, \"train\", rankdir=\"TB\")\r\n  File \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1673, in new_method\r\n    encoding=encoding)\r\n  File \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1756, in write\r\n    s = self.create(prog, format, encoding=encoding)\r\n  File \"/home/xiongcx/anaconda2/envs/r21d/lib/python2.7/site-packages/pydot.py\", line 1884, in create\r\n    assert p.returncode == 0, p.returncode\r\nAssertionError: -11\r\n\r\nDo you have ideas to solve it? Or do you have any other ideas to visualize caffe2 model? Thanks in advance.\r\n"}