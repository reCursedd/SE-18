{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/93142779", "pull_request_review_id": 13664865, "id": 93142779, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDkzMTQyNzc5", "diff_hunk": "@@ -33,6 +39,14 @@ def __init__(self, *args, **kwargs):\n         super(FdQueue, self).__init__(*args, **kwargs)\n         self._fd_reader, self._fd_writer = socket.socketpair(socket.AF_UNIX)\n \n+    def __getstate__(self):", "path": "torch/multiprocessing/queue.py", "position": null, "original_position": 44, "commit_id": "f2c88c328ee29fb70123b30a2c637434382624c9", "original_commit_id": "b68fb32c7ac329099908924703d9d4cdfdbbb68a", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "body": "The `__dict__` isn't serialized because the superclass `CustomizablePicklingQueue` overrides these methods. This often didn't matter when using \"fork\" because the queue was inherited, not serialized, so the functions were never called. But it's always necessary when using \"spawn\" since then the FdQueue is serialized and sent to the subprocess.", "created_at": "2016-12-19T23:28:14Z", "updated_at": "2018-11-23T15:31:59Z", "html_url": "https://github.com/pytorch/pytorch/pull/203#discussion_r93142779", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/203", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/93142779"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/203#discussion_r93142779"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/203"}}, "body_html": "<p>The <code>__dict__</code> isn't serialized because the superclass <code>CustomizablePicklingQueue</code> overrides these methods. This often didn't matter when using \"fork\" because the queue was inherited, not serialized, so the functions were never called. But it's always necessary when using \"spawn\" since then the FdQueue is serialized and sent to the subprocess.</p>", "body_text": "The __dict__ isn't serialized because the superclass CustomizablePicklingQueue overrides these methods. This often didn't matter when using \"fork\" because the queue was inherited, not serialized, so the functions were never called. But it's always necessary when using \"spawn\" since then the FdQueue is serialized and sent to the subprocess.", "in_reply_to_id": 93125879}