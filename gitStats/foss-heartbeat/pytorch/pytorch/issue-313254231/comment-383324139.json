{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/383324139", "html_url": "https://github.com/pytorch/pytorch/issues/6503#issuecomment-383324139", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6503", "id": 383324139, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzMyNDEzOQ==", "user": {"login": "Flock1", "id": 15093420, "node_id": "MDQ6VXNlcjE1MDkzNDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/15093420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flock1", "html_url": "https://github.com/Flock1", "followers_url": "https://api.github.com/users/Flock1/followers", "following_url": "https://api.github.com/users/Flock1/following{/other_user}", "gists_url": "https://api.github.com/users/Flock1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flock1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flock1/subscriptions", "organizations_url": "https://api.github.com/users/Flock1/orgs", "repos_url": "https://api.github.com/users/Flock1/repos", "events_url": "https://api.github.com/users/Flock1/events{/privacy}", "received_events_url": "https://api.github.com/users/Flock1/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-21T19:37:25Z", "updated_at": "2018-04-21T19:37:25Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6456020\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pjh5\">@pjh5</a>, I was able to get rid of the warnings and got 1 as the output, meaning, GPU is being used. I am facing a new issue.<br>\nI am getting a new error now when I run <code>python2 $DETECTRON/tests/test_spatial_narrow_as_op.py</code>:</p>\n<pre><code>E0421 16:01:19.569461 10741 init_intrinsics_check.cc:43] CPU feature avx is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nE0421 16:01:19.569483 10741 init_intrinsics_check.cc:43] CPU feature avx2 is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nE0421 16:01:19.569500 10741 init_intrinsics_check.cc:43] CPU feature fma is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nFound Detectron ops lib: /usr/local/lib/libcaffe2_detectron_ops_gpu.so\nterminate called after throwing an instance of 'caffe2::EnforceNotMet'\n  what():  [enforce fail at context_gpu.h:155] . Encountered CUDA error: invalid device ordinal \n*** Aborted at 1524306679 (unix time) try \"date -d @1524306679\" if you are using GNU date ***\nPC: @     0x7fe69f7ea428 gsignal\n*** SIGABRT (@0x3e8000029f5) received by PID 10741 (TID 0x7fe6a0a65700) from PID 10741; stack trace: ***\n    @     0x7fe6a02a0390 (unknown)\n    @     0x7fe69f7ea428 gsignal\n    @     0x7fe69f7ec02a abort\n    @     0x7fe69151cb39 __gnu_cxx::__verbose_terminate_handler()\n    @     0x7fe69151b1fb __cxxabiv1::__terminate()\n    @     0x7fe69151a640 __cxa_call_terminate\n    @     0x7fe69151ae6f __gxx_personality_v0\n    @     0x7fe69a4b8564 _Unwind_RaiseException_Phase2\n    @     0x7fe69a4b881d _Unwind_RaiseException\n    @     0x7fe69151b409 __cxa_throw\n    @     0x7fe68f6c2b89 caffe2::CUDAContext::~CUDAContext()\n    @     0x7fe68f84e52e caffe2::Operator&lt;&gt;::~Operator()\n    @     0x7fe6564abb0a caffe2::SpatialNarrowAsOp&lt;&gt;::~SpatialNarrowAsOp()\n    @     0x7fe6564abb3a caffe2::SpatialNarrowAsOp&lt;&gt;::~SpatialNarrowAsOp()\n    @     0x7fe68e694acf caffe2::Workspace::RunOperatorOnce()\n    @     0x7fe69094feea _ZZN6caffe26python16addGlobalMethodsERN8pybind116moduleEENKUlRKNS1_5bytesEE26_clES6_.isra.2766.constprop.2816\n    @     0x7fe690950185 _ZZN8pybind1112cpp_function10initializeIZN6caffe26python16addGlobalMethodsERNS_6moduleEEUlRKNS_5bytesEE26_bJS8_EJNS_4nameENS_5scopeENS_7siblingEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNESQ_\n    @     0x7fe69097a4bd pybind11::cpp_function::dispatcher()\n    @     0x7fe6a058e645 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a05190f7 function_call\n    @     0x7fe6a04f47a3 PyObject_Call\n    @     0x7fe6a0589500 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a051900a function_call\n    @     0x7fe6a04f47a3 PyObject_Call\nAborted (core dumped)\n</code></pre>\n<p>Can you help me with this?</p>", "body_text": "@pjh5, I was able to get rid of the warnings and got 1 as the output, meaning, GPU is being used. I am facing a new issue.\nI am getting a new error now when I run python2 $DETECTRON/tests/test_spatial_narrow_as_op.py:\nE0421 16:01:19.569461 10741 init_intrinsics_check.cc:43] CPU feature avx is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nE0421 16:01:19.569483 10741 init_intrinsics_check.cc:43] CPU feature avx2 is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nE0421 16:01:19.569500 10741 init_intrinsics_check.cc:43] CPU feature fma is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\nFound Detectron ops lib: /usr/local/lib/libcaffe2_detectron_ops_gpu.so\nterminate called after throwing an instance of 'caffe2::EnforceNotMet'\n  what():  [enforce fail at context_gpu.h:155] . Encountered CUDA error: invalid device ordinal \n*** Aborted at 1524306679 (unix time) try \"date -d @1524306679\" if you are using GNU date ***\nPC: @     0x7fe69f7ea428 gsignal\n*** SIGABRT (@0x3e8000029f5) received by PID 10741 (TID 0x7fe6a0a65700) from PID 10741; stack trace: ***\n    @     0x7fe6a02a0390 (unknown)\n    @     0x7fe69f7ea428 gsignal\n    @     0x7fe69f7ec02a abort\n    @     0x7fe69151cb39 __gnu_cxx::__verbose_terminate_handler()\n    @     0x7fe69151b1fb __cxxabiv1::__terminate()\n    @     0x7fe69151a640 __cxa_call_terminate\n    @     0x7fe69151ae6f __gxx_personality_v0\n    @     0x7fe69a4b8564 _Unwind_RaiseException_Phase2\n    @     0x7fe69a4b881d _Unwind_RaiseException\n    @     0x7fe69151b409 __cxa_throw\n    @     0x7fe68f6c2b89 caffe2::CUDAContext::~CUDAContext()\n    @     0x7fe68f84e52e caffe2::Operator<>::~Operator()\n    @     0x7fe6564abb0a caffe2::SpatialNarrowAsOp<>::~SpatialNarrowAsOp()\n    @     0x7fe6564abb3a caffe2::SpatialNarrowAsOp<>::~SpatialNarrowAsOp()\n    @     0x7fe68e694acf caffe2::Workspace::RunOperatorOnce()\n    @     0x7fe69094feea _ZZN6caffe26python16addGlobalMethodsERN8pybind116moduleEENKUlRKNS1_5bytesEE26_clES6_.isra.2766.constprop.2816\n    @     0x7fe690950185 _ZZN8pybind1112cpp_function10initializeIZN6caffe26python16addGlobalMethodsERNS_6moduleEEUlRKNS_5bytesEE26_bJS8_EJNS_4nameENS_5scopeENS_7siblingEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNESQ_\n    @     0x7fe69097a4bd pybind11::cpp_function::dispatcher()\n    @     0x7fe6a058e645 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a05190f7 function_call\n    @     0x7fe6a04f47a3 PyObject_Call\n    @     0x7fe6a0589500 PyEval_EvalFrameEx\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\n    @     0x7fe6a051900a function_call\n    @     0x7fe6a04f47a3 PyObject_Call\nAborted (core dumped)\n\nCan you help me with this?", "body": "@pjh5, I was able to get rid of the warnings and got 1 as the output, meaning, GPU is being used. I am facing a new issue. \r\nI am getting a new error now when I run `python2 $DETECTRON/tests/test_spatial_narrow_as_op.py`:\r\n\r\n```\r\nE0421 16:01:19.569461 10741 init_intrinsics_check.cc:43] CPU feature avx is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\r\nE0421 16:01:19.569483 10741 init_intrinsics_check.cc:43] CPU feature avx2 is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\r\nE0421 16:01:19.569500 10741 init_intrinsics_check.cc:43] CPU feature fma is present on your machine, but the Caffe2 binary is not compiled with it. It means you may not get the full speed of your CPU.\r\nFound Detectron ops lib: /usr/local/lib/libcaffe2_detectron_ops_gpu.so\r\nterminate called after throwing an instance of 'caffe2::EnforceNotMet'\r\n  what():  [enforce fail at context_gpu.h:155] . Encountered CUDA error: invalid device ordinal \r\n*** Aborted at 1524306679 (unix time) try \"date -d @1524306679\" if you are using GNU date ***\r\nPC: @     0x7fe69f7ea428 gsignal\r\n*** SIGABRT (@0x3e8000029f5) received by PID 10741 (TID 0x7fe6a0a65700) from PID 10741; stack trace: ***\r\n    @     0x7fe6a02a0390 (unknown)\r\n    @     0x7fe69f7ea428 gsignal\r\n    @     0x7fe69f7ec02a abort\r\n    @     0x7fe69151cb39 __gnu_cxx::__verbose_terminate_handler()\r\n    @     0x7fe69151b1fb __cxxabiv1::__terminate()\r\n    @     0x7fe69151a640 __cxa_call_terminate\r\n    @     0x7fe69151ae6f __gxx_personality_v0\r\n    @     0x7fe69a4b8564 _Unwind_RaiseException_Phase2\r\n    @     0x7fe69a4b881d _Unwind_RaiseException\r\n    @     0x7fe69151b409 __cxa_throw\r\n    @     0x7fe68f6c2b89 caffe2::CUDAContext::~CUDAContext()\r\n    @     0x7fe68f84e52e caffe2::Operator<>::~Operator()\r\n    @     0x7fe6564abb0a caffe2::SpatialNarrowAsOp<>::~SpatialNarrowAsOp()\r\n    @     0x7fe6564abb3a caffe2::SpatialNarrowAsOp<>::~SpatialNarrowAsOp()\r\n    @     0x7fe68e694acf caffe2::Workspace::RunOperatorOnce()\r\n    @     0x7fe69094feea _ZZN6caffe26python16addGlobalMethodsERN8pybind116moduleEENKUlRKNS1_5bytesEE26_clES6_.isra.2766.constprop.2816\r\n    @     0x7fe690950185 _ZZN8pybind1112cpp_function10initializeIZN6caffe26python16addGlobalMethodsERNS_6moduleEEUlRKNS_5bytesEE26_bJS8_EJNS_4nameENS_5scopeENS_7siblingEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNESQ_\r\n    @     0x7fe69097a4bd pybind11::cpp_function::dispatcher()\r\n    @     0x7fe6a058e645 PyEval_EvalFrameEx\r\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\r\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\r\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\r\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\r\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\r\n    @     0x7fe6a058d4b2 PyEval_EvalFrameEx\r\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\r\n    @     0x7fe6a05190f7 function_call\r\n    @     0x7fe6a04f47a3 PyObject_Call\r\n    @     0x7fe6a0589500 PyEval_EvalFrameEx\r\n    @     0x7fe6a0590519 PyEval_EvalCodeEx\r\n    @     0x7fe6a051900a function_call\r\n    @     0x7fe6a04f47a3 PyObject_Call\r\nAborted (core dumped)\r\n```\r\n\r\nCan you help me with this?"}