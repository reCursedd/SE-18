{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2968", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2968/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2968/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2968/events", "html_url": "https://github.com/pytorch/pytorch/issues/2968", "id": 262748338, "node_id": "MDU6SXNzdWUyNjI3NDgzMzg=", "number": 2968, "title": "DataLoader and HalfTensors", "user": {"login": "dmarnerides", "id": 7605917, "node_id": "MDQ6VXNlcjc2MDU5MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7605917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmarnerides", "html_url": "https://github.com/dmarnerides", "followers_url": "https://api.github.com/users/dmarnerides/followers", "following_url": "https://api.github.com/users/dmarnerides/following{/other_user}", "gists_url": "https://api.github.com/users/dmarnerides/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmarnerides/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmarnerides/subscriptions", "organizations_url": "https://api.github.com/users/dmarnerides/orgs", "repos_url": "https://api.github.com/users/dmarnerides/repos", "events_url": "https://api.github.com/users/dmarnerides/events{/privacy}", "received_events_url": "https://api.github.com/users/dmarnerides/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-10-04T11:07:45Z", "updated_at": "2017-10-06T15:35:16Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>This snippet is from DataLoader:</p>\n<pre><code>numel = sum([x.numel() for x in batch])\nstorage = batch[0].storage()._new_shared(numel)\nout = batch[0].new(storage)\n</code></pre>\n<p>if</p>\n<pre><code>batch = torch.FloatTensor(4,10)\n</code></pre>\n<p>it works perfectly</p>\n<p>but if</p>\n<pre><code>batch = torch.HalfTensor(4,10)\n</code></pre>\n<p>it throws:</p>\n<blockquote>\n<p>TypeError: torch.HalfTensor constructor received an invalid combination of arguments - got (torch.HalfStorage), but expected one of:</p>\n<ul>\n<li>no arguments</li>\n<li>(int ...)<br>\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)</li>\n<li>(torch.HalfTensor viewed_tensor)<br>\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)</li>\n<li>(torch.Size size)<br>\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)</li>\n<li>(torch.HalfStorage data)<br>\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)</li>\n<li>(Sequence data)<br>\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)</li>\n</ul>\n</blockquote>\n<p>Maybe there is some version of the HalfTensor constructor missing, or am I missing something?</p>", "body_text": "This snippet is from DataLoader:\nnumel = sum([x.numel() for x in batch])\nstorage = batch[0].storage()._new_shared(numel)\nout = batch[0].new(storage)\n\nif\nbatch = torch.FloatTensor(4,10)\n\nit works perfectly\nbut if\nbatch = torch.HalfTensor(4,10)\n\nit throws:\n\nTypeError: torch.HalfTensor constructor received an invalid combination of arguments - got (torch.HalfStorage), but expected one of:\n\nno arguments\n(int ...)\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)\n(torch.HalfTensor viewed_tensor)\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)\n(torch.Size size)\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)\n(torch.HalfStorage data)\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)\n(Sequence data)\ndidn't match because some of the arguments have invalid types: (torch.HalfStorage)\n\n\nMaybe there is some version of the HalfTensor constructor missing, or am I missing something?", "body": "This snippet is from DataLoader:\r\n\r\n```\r\nnumel = sum([x.numel() for x in batch])\r\nstorage = batch[0].storage()._new_shared(numel)\r\nout = batch[0].new(storage)\r\n```\r\n\r\nif \r\n```\r\nbatch = torch.FloatTensor(4,10)\r\n```\r\nit works perfectly\r\n\r\nbut if\r\n```\r\nbatch = torch.HalfTensor(4,10)\r\n```\r\nit throws:\r\n\r\n> TypeError: torch.HalfTensor constructor received an invalid combination of arguments - got (torch.HalfStorage), but expected one of:\r\n> * no arguments\r\n> * (int ...)\r\n      didn't match because some of the arguments have invalid types: (torch.HalfStorage)\r\n> * (torch.HalfTensor viewed_tensor)\r\n      didn't match because some of the arguments have invalid types: (torch.HalfStorage)\r\n> * (torch.Size size)\r\n      didn't match because some of the arguments have invalid types: (torch.HalfStorage)\r\n> * (torch.HalfStorage data)\r\n      didn't match because some of the arguments have invalid types: (torch.HalfStorage)\r\n> * (Sequence data)\r\n      didn't match because some of the arguments have invalid types: (torch.HalfStorage)\r\n\r\nMaybe there is some version of the HalfTensor constructor missing, or am I missing something?\r\n"}