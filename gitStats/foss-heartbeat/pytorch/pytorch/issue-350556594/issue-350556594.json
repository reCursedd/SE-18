{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10511", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10511/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10511/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10511/events", "html_url": "https://github.com/pytorch/pytorch/pull/10511", "id": 350556594, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA4Mzc4Mzg2", "number": 10511, "title": "[jit] Fuse tensor-scalar ops when scalar is constant ", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 679953983, "node_id": "MDU6TGFiZWw2Nzk5NTM5ODM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/jit", "name": "jit", "color": "c5def5", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-14T18:59:06Z", "updated_at": "2018-11-23T15:49:36Z", "closed_at": "2018-08-17T21:11:32Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/10511", "html_url": "https://github.com/pytorch/pytorch/pull/10511", "diff_url": "https://github.com/pytorch/pytorch/pull/10511.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/10511.patch"}, "body_html": "<p>This is on the way to resolving <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"345310317\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9940\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9940/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9940\">#9940</a>.</p>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #10501.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"350269805\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/10501\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/10501/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/10501\">#10501</a></p>\n<p>This PR modifies graph fuser to fuse operations that have constant<br>\nscalar arguments. These constant scalar arguments are directly inlined<br>\ninto the kernel body.</p>\n<p>The context for this is that LSTM backward (in particular, sigmoid<br>\nbackward) has many add(x, 1.) operations. This PR should be sufficient for<br>\nLSTM backward to get fused by the graph fuser.</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=370202\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zdevito\">@zdevito</a></p>", "body_text": "This is on the way to resolving #9940.\nFixes #10501\nThis PR modifies graph fuser to fuse operations that have constant\nscalar arguments. These constant scalar arguments are directly inlined\ninto the kernel body.\nThe context for this is that LSTM backward (in particular, sigmoid\nbackward) has many add(x, 1.) operations. This PR should be sufficient for\nLSTM backward to get fused by the graph fuser.\ncc @apaszke @zdevito", "body": "This is on the way to resolving #9940.\r\n\r\nFixes #10501\r\n\r\nThis PR modifies graph fuser to fuse operations that have constant\r\nscalar arguments. These constant scalar arguments are directly inlined\r\ninto the kernel body.\r\n\r\nThe context for this is that LSTM backward (in particular, sigmoid\r\nbackward) has many add(x, 1.) operations. This PR should be sufficient for\r\nLSTM backward to get fused by the graph fuser.\r\n\r\ncc @apaszke @zdevito "}