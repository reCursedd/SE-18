{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2049", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2049/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2049/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2049/events", "html_url": "https://github.com/pytorch/pytorch/issues/2049", "id": 242017607, "node_id": "MDU6SXNzdWUyNDIwMTc2MDc=", "number": 2049, "title": "THCudaCheck FAIL in torch.sort()", "user": {"login": "zsrkmyn", "id": 3772171, "node_id": "MDQ6VXNlcjM3NzIxNzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3772171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsrkmyn", "html_url": "https://github.com/zsrkmyn", "followers_url": "https://api.github.com/users/zsrkmyn/followers", "following_url": "https://api.github.com/users/zsrkmyn/following{/other_user}", "gists_url": "https://api.github.com/users/zsrkmyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsrkmyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsrkmyn/subscriptions", "organizations_url": "https://api.github.com/users/zsrkmyn/orgs", "repos_url": "https://api.github.com/users/zsrkmyn/repos", "events_url": "https://api.github.com/users/zsrkmyn/events{/privacy}", "received_events_url": "https://api.github.com/users/zsrkmyn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-11T11:39:33Z", "updated_at": "2017-07-13T23:26:19Z", "closed_at": "2017-07-13T23:26:19Z", "author_association": "NONE", "body_html": "<p><code>torch.sort()</code> reports error when the tensor to be sorted is large:</p>\n<pre><code>(ins)&gt;&gt;&gt; import torch\n(ins)&gt;&gt;&gt; r = torch.randn(1,2000).cuda()\n(ins)&gt;&gt;&gt; s, i = torch.sort(r)\nTHCudaCheck FAIL file=/tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu line=153 error=7 : too many resources requested for launch\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nRuntimeError: cuda runtime error (7) : too many resources requested for launch at /tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu:153\n(ins)&gt;&gt;&gt; \n</code></pre>\n<p>When the size of the tensor is small, say 1x1000, the error won't occur.</p>\n<p>I tried it with both version 0.1.12 and the latest commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/1ef1dd9cadb00ac91f3b922978fb3e0d2ddf3a09/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/1ef1dd9cadb00ac91f3b922978fb3e0d2ddf3a09\"><tt>1ef1dd9</tt></a>. The PyTorch is built with cuda 8.0.61 and cudnn 6.0.21. The Python version is 3.6.1. And the device is Tesla K40c. Should I provide more details? :)</p>", "body_text": "torch.sort() reports error when the tensor to be sorted is large:\n(ins)>>> import torch\n(ins)>>> r = torch.randn(1,2000).cuda()\n(ins)>>> s, i = torch.sort(r)\nTHCudaCheck FAIL file=/tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu line=153 error=7 : too many resources requested for launch\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nRuntimeError: cuda runtime error (7) : too many resources requested for launch at /tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu:153\n(ins)>>> \n\nWhen the size of the tensor is small, say 1x1000, the error won't occur.\nI tried it with both version 0.1.12 and the latest commit 1ef1dd9. The PyTorch is built with cuda 8.0.61 and cudnn 6.0.21. The Python version is 3.6.1. And the device is Tesla K40c. Should I provide more details? :)", "body": "`torch.sort()` reports error when the tensor to be sorted is large:\r\n```\r\n(ins)>>> import torch\r\n(ins)>>> r = torch.randn(1,2000).cuda()\r\n(ins)>>> s, i = torch.sort(r)\r\nTHCudaCheck FAIL file=/tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu line=153 error=7 : too many resources requested for launch\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nRuntimeError: cuda runtime error (7) : too many resources requested for launch at /tmp/makepkg/python-pytorch-git/src/pytorch/torch/lib/THC/generated/../generic/THCTensorSort.cu:153\r\n(ins)>>> \r\n```\r\nWhen the size of the tensor is small, say 1x1000, the error won't occur.\r\n\r\nI tried it with both version 0.1.12 and the latest commit 1ef1dd9. The PyTorch is built with cuda 8.0.61 and cudnn 6.0.21. The Python version is 3.6.1. And the device is Tesla K40c. Should I provide more details? :)"}