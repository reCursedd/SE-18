{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/299353397", "html_url": "https://github.com/pytorch/pytorch/issues/1479#issuecomment-299353397", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1479", "id": 299353397, "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM1MzM5Nw==", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-05T01:52:57Z", "updated_at": "2017-05-05T01:52:57Z", "author_association": "MEMBER", "body_html": "<p>it's not a question of view vs non-view, we only populate gradients for leaf variables, i.e. Variables that were user-created.</p>\n<div class=\"highlight highlight-source-python\"><pre>a <span class=\"pl-k\">=</span> Variable(torch.Tensor([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>])).view(<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">3</span>) \n<span class=\"pl-c\"><span class=\"pl-c\">#</span> not user-created, as it is seen as:</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> _ = Variable(torch.Tensor([1, 2, 3]))</span>\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> a = _.view(1, 3)</span>\n\n\nb <span class=\"pl-k\">=</span> Variable(torch.Tensor([<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>]), <span class=\"pl-v\">requires_grad</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>).view(<span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">1</span>)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> still not user created. Variable is created and view is applied for it</span>\n\nb <span class=\"pl-k\">=</span> Variable(torch.Tensor([<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>]).view(<span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">1</span>), <span class=\"pl-v\">requires_grad</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> user created. no operation is applied to the created Variable since it's created.</span></pre></div>\n<p>In the future feel free to search and ask questions on <a href=\"https://discuss.pytorch.org\" rel=\"nofollow\">https://discuss.pytorch.org</a> , there are a few threads discussing this specific topic.</p>", "body_text": "it's not a question of view vs non-view, we only populate gradients for leaf variables, i.e. Variables that were user-created.\na = Variable(torch.Tensor([1, 2, 3])).view(1, 3) \n# not user-created, as it is seen as:\n# _ = Variable(torch.Tensor([1, 2, 3]))\n# a = _.view(1, 3)\n\n\nb = Variable(torch.Tensor([4, 5, 6]), requires_grad=True).view(3, 1)\n# still not user created. Variable is created and view is applied for it\n\nb = Variable(torch.Tensor([4, 5, 6]).view(3, 1), requires_grad=True)\n# user created. no operation is applied to the created Variable since it's created.\nIn the future feel free to search and ask questions on https://discuss.pytorch.org , there are a few threads discussing this specific topic.", "body": "it's not a question of view vs non-view, we only populate gradients for leaf variables, i.e. Variables that were user-created.\r\n\r\n```python\r\na = Variable(torch.Tensor([1, 2, 3])).view(1, 3) \r\n# not user-created, as it is seen as:\r\n# _ = Variable(torch.Tensor([1, 2, 3]))\r\n# a = _.view(1, 3)\r\n\r\n\r\nb = Variable(torch.Tensor([4, 5, 6]), requires_grad=True).view(3, 1)\r\n# still not user created. Variable is created and view is applied for it\r\n\r\nb = Variable(torch.Tensor([4, 5, 6]).view(3, 1), requires_grad=True)\r\n# user created. no operation is applied to the created Variable since it's created.\r\n```\r\n\r\nIn the future feel free to search and ask questions on https://discuss.pytorch.org , there are a few threads discussing this specific topic."}