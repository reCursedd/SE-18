{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12401", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12401/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12401/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12401/events", "html_url": "https://github.com/pytorch/pytorch/issues/12401", "id": 367376722, "node_id": "MDU6SXNzdWUzNjczNzY3MjI=", "number": 12401, "title": "AttributeError: Method VideoInput is not a registered operator", "user": {"login": "kateiyas", "id": 464041, "node_id": "MDQ6VXNlcjQ2NDA0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/464041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kateiyas", "html_url": "https://github.com/kateiyas", "followers_url": "https://api.github.com/users/kateiyas/followers", "following_url": "https://api.github.com/users/kateiyas/following{/other_user}", "gists_url": "https://api.github.com/users/kateiyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/kateiyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kateiyas/subscriptions", "organizations_url": "https://api.github.com/users/kateiyas/orgs", "repos_url": "https://api.github.com/users/kateiyas/repos", "events_url": "https://api.github.com/users/kateiyas/events{/privacy}", "received_events_url": "https://api.github.com/users/kateiyas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-05T21:37:35Z", "updated_at": "2018-10-12T13:14:03Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>I want to use models from <a href=\"https://github.com/facebookresearch/R2Plus1D\">R2Plus1D</a> for extracting action recognition features. However, when running their <code>extract_features.py</code> it will immediately throw the following error message:</p>\n<p><code>AttributeError: Method VideoInput is not a registered operator. Did you mean: []</code></p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>Install pytorch and caffe2 via <code>conda install pytorch-nightly torchvision -c pytorch</code>.</li>\n<li>Download e.g. the C3D-16 pretrained model from <a href=\"https://github.com/facebookresearch/R2Plus1D/blob/master/tutorials/models.md\">here</a>.</li>\n<li>Follow the <a href=\"https://github.com/facebookresearch/R2Plus1D/blob/master/tutorials/feature_extraction.md\">R2Plus1D feature extraction tutorial</a>.</li>\n<li>The error will occur with the command related to <code>extract_features.py</code>. My command:</li>\n</ol>\n<pre><code>python extract_features.py --test_data=data/lmdb_data --model_name=c3d --model_depth=34 --clip_length_rgb=32 --gpus=1 --batch_size=4 --load_model_path=/c3d/c3d_l16.pkl --output_path=testvideo_features.pkl --features=conv1a,conv2a,fc6 --sanity_check=1 --get_video_id=1 --use_local_file=1\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>Traceback (most recent call last):\n  File \"lib/extract_features.py\", line 333, in &lt;module&gt;\n    main()\n  File \"lib/extract_features.py\", line 328, in main\n    ExtractFeatures(args)\n  File \"lib/extract_features.py\", line 131, in ExtractFeatures\n    devices=gpus,\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 34, in Parallelize_GPU\n    Parallelize(*args, **kwargs)\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 219, in Parallelize\n    input_builder_fun(model_helper_obj)\n  File \"lib/extract_features.py\", line 106, in input_fn\n    use_local_file=args.use_local_file,\n  File \"/models/c3d/R2Plus1D/lib/utils/model_helper.py\", line 120, in AddVideoInput\n    data, label, video_id = model.net.VideoInput(\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/core.py\", line 2171, in __getattr__\n    \",\".join(workspace.C.nearby_opnames(op_type)) + ']'\nAttributeError: Method VideoInput is not a registered operator. Did you mean: []\n</code></pre>\n<h2>Expected behavior</h2>\n<p>Getting action recognition features from <code>extract_features.py</code> .</p>\n<h2>Environment</h2>\n<pre><code>PyTorch version: 1.0.0.dev20181004\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\n\nOS: Ubuntu 16.04.5 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\nCMake version: version 3.12.2\n\nPython version: 2.7\nIs CUDA available: Yes\nCUDA runtime version: 9.1.85\nGPU models and configuration: \nGPU 0: GeForce GTX 1080 Ti\nGPU 1: GeForce GTX 1080 Ti\n\nNvidia driver version: 390.30\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.1\n\nVersions of relevant libraries:\n[pip] numpy (1.14.3)\n[pip] numpydoc (0.8.0)\n[pip] torch (1.0.0.dev20181004)\n[pip] torchvision (0.2.1)\n[conda] pytorch                   0.4.1           py27__9.0.176_7.1.2_2    pytorch\n[conda] pytorch-nightly           1.0.0.dev20181004 py2.7_cuda9.0.176_cudnn7.1.2_0    pytorch\n[conda] torchvision               0.2.1                    py27_1    pytorch\n</code></pre>", "body_text": "\ud83d\udc1b Bug\nI want to use models from R2Plus1D for extracting action recognition features. However, when running their extract_features.py it will immediately throw the following error message:\nAttributeError: Method VideoInput is not a registered operator. Did you mean: []\nTo Reproduce\nSteps to reproduce the behavior:\n\nInstall pytorch and caffe2 via conda install pytorch-nightly torchvision -c pytorch.\nDownload e.g. the C3D-16 pretrained model from here.\nFollow the R2Plus1D feature extraction tutorial.\nThe error will occur with the command related to extract_features.py. My command:\n\npython extract_features.py --test_data=data/lmdb_data --model_name=c3d --model_depth=34 --clip_length_rgb=32 --gpus=1 --batch_size=4 --load_model_path=/c3d/c3d_l16.pkl --output_path=testvideo_features.pkl --features=conv1a,conv2a,fc6 --sanity_check=1 --get_video_id=1 --use_local_file=1\n\nStack trace:\nTraceback (most recent call last):\n  File \"lib/extract_features.py\", line 333, in <module>\n    main()\n  File \"lib/extract_features.py\", line 328, in main\n    ExtractFeatures(args)\n  File \"lib/extract_features.py\", line 131, in ExtractFeatures\n    devices=gpus,\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 34, in Parallelize_GPU\n    Parallelize(*args, **kwargs)\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 219, in Parallelize\n    input_builder_fun(model_helper_obj)\n  File \"lib/extract_features.py\", line 106, in input_fn\n    use_local_file=args.use_local_file,\n  File \"/models/c3d/R2Plus1D/lib/utils/model_helper.py\", line 120, in AddVideoInput\n    data, label, video_id = model.net.VideoInput(\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/core.py\", line 2171, in __getattr__\n    \",\".join(workspace.C.nearby_opnames(op_type)) + ']'\nAttributeError: Method VideoInput is not a registered operator. Did you mean: []\n\nExpected behavior\nGetting action recognition features from extract_features.py .\nEnvironment\nPyTorch version: 1.0.0.dev20181004\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\n\nOS: Ubuntu 16.04.5 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\nCMake version: version 3.12.2\n\nPython version: 2.7\nIs CUDA available: Yes\nCUDA runtime version: 9.1.85\nGPU models and configuration: \nGPU 0: GeForce GTX 1080 Ti\nGPU 1: GeForce GTX 1080 Ti\n\nNvidia driver version: 390.30\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.1\n\nVersions of relevant libraries:\n[pip] numpy (1.14.3)\n[pip] numpydoc (0.8.0)\n[pip] torch (1.0.0.dev20181004)\n[pip] torchvision (0.2.1)\n[conda] pytorch                   0.4.1           py27__9.0.176_7.1.2_2    pytorch\n[conda] pytorch-nightly           1.0.0.dev20181004 py2.7_cuda9.0.176_cudnn7.1.2_0    pytorch\n[conda] torchvision               0.2.1                    py27_1    pytorch", "body": "## \ud83d\udc1b Bug\r\n\r\nI want to use models from [R2Plus1D](https://github.com/facebookresearch/R2Plus1D) for extracting action recognition features. However, when running their `extract_features.py` it will immediately throw the following error message:\r\n\r\n`AttributeError: Method VideoInput is not a registered operator. Did you mean: []`\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Install pytorch and caffe2 via `conda install pytorch-nightly torchvision -c pytorch`.\r\n1. Download e.g. the C3D-16 pretrained model from [here](https://github.com/facebookresearch/R2Plus1D/blob/master/tutorials/models.md). \r\n1. Follow the [R2Plus1D feature extraction tutorial](https://github.com/facebookresearch/R2Plus1D/blob/master/tutorials/feature_extraction.md).\r\n1. The error will occur with the command related to `extract_features.py`. My command:\r\n```\r\npython extract_features.py --test_data=data/lmdb_data --model_name=c3d --model_depth=34 --clip_length_rgb=32 --gpus=1 --batch_size=4 --load_model_path=/c3d/c3d_l16.pkl --output_path=testvideo_features.pkl --features=conv1a,conv2a,fc6 --sanity_check=1 --get_video_id=1 --use_local_file=1\r\n```\r\n\r\nStack trace: \r\n```\r\nTraceback (most recent call last):\r\n  File \"lib/extract_features.py\", line 333, in <module>\r\n    main()\r\n  File \"lib/extract_features.py\", line 328, in main\r\n    ExtractFeatures(args)\r\n  File \"lib/extract_features.py\", line 131, in ExtractFeatures\r\n    devices=gpus,\r\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 34, in Parallelize_GPU\r\n    Parallelize(*args, **kwargs)\r\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/data_parallel_model.py\", line 219, in Parallelize\r\n    input_builder_fun(model_helper_obj)\r\n  File \"lib/extract_features.py\", line 106, in input_fn\r\n    use_local_file=args.use_local_file,\r\n  File \"/models/c3d/R2Plus1D/lib/utils/model_helper.py\", line 120, in AddVideoInput\r\n    data, label, video_id = model.net.VideoInput(\r\n  File \"/anaconda2/lib/python2.7/site-packages/caffe2/python/core.py\", line 2171, in __getattr__\r\n    \",\".join(workspace.C.nearby_opnames(op_type)) + ']'\r\nAttributeError: Method VideoInput is not a registered operator. Did you mean: []\r\n```\r\n\r\n## Expected behavior\r\n\r\nGetting action recognition features from `extract_features.py` .\r\n\r\n\r\n## Environment\r\n\r\n```\r\nPyTorch version: 1.0.0.dev20181004\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.0.176\r\n\r\nOS: Ubuntu 16.04.5 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\r\nCMake version: version 3.12.2\r\n\r\nPython version: 2.7\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.1.85\r\nGPU models and configuration: \r\nGPU 0: GeForce GTX 1080 Ti\r\nGPU 1: GeForce GTX 1080 Ti\r\n\r\nNvidia driver version: 390.30\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.1\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy (1.14.3)\r\n[pip] numpydoc (0.8.0)\r\n[pip] torch (1.0.0.dev20181004)\r\n[pip] torchvision (0.2.1)\r\n[conda] pytorch                   0.4.1           py27__9.0.176_7.1.2_2    pytorch\r\n[conda] pytorch-nightly           1.0.0.dev20181004 py2.7_cuda9.0.176_cudnn7.1.2_0    pytorch\r\n[conda] torchvision               0.2.1                    py27_1    pytorch\r\n```"}