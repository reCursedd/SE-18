{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3811", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3811/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3811/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3811/events", "html_url": "https://github.com/pytorch/pytorch/pull/3811", "id": 275753375, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUzOTIxNDY5", "number": 3811, "title": "Fix cosine_similarity's output shape", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 825466279, "node_id": "MDU6TGFiZWw4MjU0NjYyNzk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/0.3.1", "name": "0.3.1", "color": "aefcae", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-21T15:28:39Z", "updated_at": "2018-02-04T21:29:00Z", "closed_at": "2017-11-21T23:33:41Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/3811", "html_url": "https://github.com/pytorch/pytorch/pull/3811", "diff_url": "https://github.com/pytorch/pytorch/pull/3811.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/3811.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #3797.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"275519422\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3797\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3797/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3797\">#3797</a>. 1's in the input size would get squeezed (ie, cosine similarity between two inputs of size (1, 3, 2, 1) would result in an output shape of (2,) instead of (1, 2, 1). This makes it so that those dimensions are not squeezed.</p>\n<h3>Test Plan</h3>\n<p><code>python test/test_nn.py TestNN.test_cosine_similarity</code></p>", "body_text": "Fixes #3797. 1's in the input size would get squeezed (ie, cosine similarity between two inputs of size (1, 3, 2, 1) would result in an output shape of (2,) instead of (1, 2, 1). This makes it so that those dimensions are not squeezed.\nTest Plan\npython test/test_nn.py TestNN.test_cosine_similarity", "body": "Fixes #3797. 1's in the input size would get squeezed (ie, cosine similarity between two inputs of size (1, 3, 2, 1) would result in an output shape of (2,) instead of (1, 2, 1). This makes it so that those dimensions are not squeezed.\r\n\r\n### Test Plan\r\n`python test/test_nn.py TestNN.test_cosine_similarity`"}