{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7303", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7303/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7303/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7303/events", "html_url": "https://github.com/pytorch/pytorch/pull/7303", "id": 320413702, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg2MDkxMDQ5", "number": 7303, "title": "Mark expand nodes as implicit/explicit in trace", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-04T20:15:59Z", "updated_at": "2018-11-23T15:43:39Z", "closed_at": "2018-05-10T17:47:44Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/7303", "html_url": "https://github.com/pytorch/pytorch/pull/7303", "diff_url": "https://github.com/pytorch/pytorch/pull/7303.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/7303.patch"}, "body_html": "<p>When tracing we record expand nodes. This is useful in some cases because<br>\nit makes it clear a broadcast happened. However, in future runs<br>\nthe broadcast may be different or not needed. This change adds an<br>\nattribute to expand to track if it was implicitly added. This<br>\ntakes the form of an unused input to expand with a default value.</p>\n<p>The execution engine then removes implicit expands before execution.<br>\nNote that shape_analysis will re-add expands when it can prove by<br>\nshape analysis that they will exist and this is useful for the fuser,<br>\nso this change should not affect fusion passes.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4685384\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jamesr66a\">@jamesr66a</a>  <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "When tracing we record expand nodes. This is useful in some cases because\nit makes it clear a broadcast happened. However, in future runs\nthe broadcast may be different or not needed. This change adds an\nattribute to expand to track if it was implicitly added. This\ntakes the form of an unused input to expand with a default value.\nThe execution engine then removes implicit expands before execution.\nNote that shape_analysis will re-add expands when it can prove by\nshape analysis that they will exist and this is useful for the fuser,\nso this change should not affect fusion passes.\n@jamesr66a  @apaszke", "body": "When tracing we record expand nodes. This is useful in some cases because\r\nit makes it clear a broadcast happened. However, in future runs\r\nthe broadcast may be different or not needed. This change adds an\r\nattribute to expand to track if it was implicitly added. This\r\ntakes the form of an unused input to expand with a default value.\r\n\r\nThe execution engine then removes implicit expands before execution.\r\nNote that shape_analysis will re-add expands when it can prove by\r\nshape analysis that they will exist and this is useful for the fuser,\r\nso this change should not affect fusion passes.\r\n\r\n@jamesr66a  @apaszke \r\n"}