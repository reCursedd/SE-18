{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/315533806", "html_url": "https://github.com/pytorch/pytorch/pull/2019#issuecomment-315533806", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2019", "id": 315533806, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTUzMzgwNg==", "user": {"login": "DmitryUlyanov", "id": 6727524, "node_id": "MDQ6VXNlcjY3Mjc1MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6727524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DmitryUlyanov", "html_url": "https://github.com/DmitryUlyanov", "followers_url": "https://api.github.com/users/DmitryUlyanov/followers", "following_url": "https://api.github.com/users/DmitryUlyanov/following{/other_user}", "gists_url": "https://api.github.com/users/DmitryUlyanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/DmitryUlyanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DmitryUlyanov/subscriptions", "organizations_url": "https://api.github.com/users/DmitryUlyanov/orgs", "repos_url": "https://api.github.com/users/DmitryUlyanov/repos", "events_url": "https://api.github.com/users/DmitryUlyanov/events{/privacy}", "received_events_url": "https://api.github.com/users/DmitryUlyanov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-15T13:24:22Z", "updated_at": "2017-07-15T13:24:22Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=991891\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Kaixhin\">@Kaixhin</a>, to be true, from LayerNorm paper I did not manage to understand how exactly they normalized data with spatial dimensions. So as you say, either Instance norm and layer norm are identical, or they are not and layer norm normalizes each pixel independently as if it was an output of fc layer.</p>\n<p>We tried to replace BatchNorm with InstanceNorm for ImageNet classification and obtained similar accuracy drop to what they report. So this could be an indicator for the first case, but I've never tried the second one so cannot be sure.</p>", "body_text": "Hi @Kaixhin, to be true, from LayerNorm paper I did not manage to understand how exactly they normalized data with spatial dimensions. So as you say, either Instance norm and layer norm are identical, or they are not and layer norm normalizes each pixel independently as if it was an output of fc layer.\nWe tried to replace BatchNorm with InstanceNorm for ImageNet classification and obtained similar accuracy drop to what they report. So this could be an indicator for the first case, but I've never tried the second one so cannot be sure.", "body": "Hi @Kaixhin, to be true, from LayerNorm paper I did not manage to understand how exactly they normalized data with spatial dimensions. So as you say, either Instance norm and layer norm are identical, or they are not and layer norm normalizes each pixel independently as if it was an output of fc layer. \r\n\r\nWe tried to replace BatchNorm with InstanceNorm for ImageNet classification and obtained similar accuracy drop to what they report. So this could be an indicator for the first case, but I've never tried the second one so cannot be sure. "}