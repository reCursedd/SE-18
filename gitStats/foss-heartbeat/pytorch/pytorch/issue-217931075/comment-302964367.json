{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/302964367", "html_url": "https://github.com/pytorch/pytorch/issues/1139#issuecomment-302964367", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1139", "id": 302964367, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk2NDM2Nw==", "user": {"login": "kylemcdonald", "id": 157106, "node_id": "MDQ6VXNlcjE1NzEwNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/157106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylemcdonald", "html_url": "https://github.com/kylemcdonald", "followers_url": "https://api.github.com/users/kylemcdonald/followers", "following_url": "https://api.github.com/users/kylemcdonald/following{/other_user}", "gists_url": "https://api.github.com/users/kylemcdonald/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylemcdonald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylemcdonald/subscriptions", "organizations_url": "https://api.github.com/users/kylemcdonald/orgs", "repos_url": "https://api.github.com/users/kylemcdonald/repos", "events_url": "https://api.github.com/users/kylemcdonald/events{/privacy}", "received_events_url": "https://api.github.com/users/kylemcdonald/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-21T21:25:38Z", "updated_at": "2017-05-21T21:25:38Z", "author_association": "NONE", "body_html": "<p>thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> i tried this yesterday but couldn't quite get it to work. i'm pretty sure it was some combination of the cmake cache and not setting my PATH correctly, but i'm not sure.</p>\n<p>instead i took this route:</p>\n<pre><code>$ brew install llvm\n$ export PATH=\"/usr/local/opt/llvm/bin:$PATH\"\n$ export CMAKE_C_COMPILER=\"/usr/local/opt/llvm/bin/clang\"\n$ export CMAKE_CXX_COMPILER=\"/usr/local/opt/llvm/bin/clang++\"\n$ export CC=\"/usr/local/opt/llvm/bin/clang\"\n$ export CXX=\"/usr/local/opt/llvm/bin/clang++\"\n$ git clone https://github.com/pytorch/pytorch.git &amp;&amp; cd pytorch\n$ python setup.py install\n</code></pre>\n<p>(i know i shouldn't have to set the PATH, and both the CC/CXX and CMAKE_* variables but i was having trouble with only setting CC/CXX at one point, and never figured out why)</p>\n<p>it gives me:</p>\n<pre><code>nvcc fatal   : The version ('40000') of the host compiler ('clang') is not supported\n</code></pre>\n<p>i'm going to try the command line tools downgrade again.</p>", "body_text": "thanks @apaszke i tried this yesterday but couldn't quite get it to work. i'm pretty sure it was some combination of the cmake cache and not setting my PATH correctly, but i'm not sure.\ninstead i took this route:\n$ brew install llvm\n$ export PATH=\"/usr/local/opt/llvm/bin:$PATH\"\n$ export CMAKE_C_COMPILER=\"/usr/local/opt/llvm/bin/clang\"\n$ export CMAKE_CXX_COMPILER=\"/usr/local/opt/llvm/bin/clang++\"\n$ export CC=\"/usr/local/opt/llvm/bin/clang\"\n$ export CXX=\"/usr/local/opt/llvm/bin/clang++\"\n$ git clone https://github.com/pytorch/pytorch.git && cd pytorch\n$ python setup.py install\n\n(i know i shouldn't have to set the PATH, and both the CC/CXX and CMAKE_* variables but i was having trouble with only setting CC/CXX at one point, and never figured out why)\nit gives me:\nnvcc fatal   : The version ('40000') of the host compiler ('clang') is not supported\n\ni'm going to try the command line tools downgrade again.", "body": "thanks @apaszke i tried this yesterday but couldn't quite get it to work. i'm pretty sure it was some combination of the cmake cache and not setting my PATH correctly, but i'm not sure.\r\n\r\ninstead i took this route:\r\n\r\n```\r\n$ brew install llvm\r\n$ export PATH=\"/usr/local/opt/llvm/bin:$PATH\"\r\n$ export CMAKE_C_COMPILER=\"/usr/local/opt/llvm/bin/clang\"\r\n$ export CMAKE_CXX_COMPILER=\"/usr/local/opt/llvm/bin/clang++\"\r\n$ export CC=\"/usr/local/opt/llvm/bin/clang\"\r\n$ export CXX=\"/usr/local/opt/llvm/bin/clang++\"\r\n$ git clone https://github.com/pytorch/pytorch.git && cd pytorch\r\n$ python setup.py install\r\n```\r\n\r\n(i know i shouldn't have to set the PATH, and both the CC/CXX and CMAKE_* variables but i was having trouble with only setting CC/CXX at one point, and never figured out why)\r\n\r\nit gives me:\r\n\r\n```\r\nnvcc fatal   : The version ('40000') of the host compiler ('clang') is not supported\r\n```\r\n\r\ni'm going to try the command line tools downgrade again."}