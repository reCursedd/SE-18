{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8648", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8648/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8648/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8648/events", "html_url": "https://github.com/pytorch/pytorch/issues/8648", "id": 333559804, "node_id": "MDU6SXNzdWUzMzM1NTk4MDQ=", "number": 8648, "title": "Cannot allocate memory Error from operator", "user": {"login": "hello-fk", "id": 37823367, "node_id": "MDQ6VXNlcjM3ODIzMzY3", "avatar_url": "https://avatars2.githubusercontent.com/u/37823367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hello-fk", "html_url": "https://github.com/hello-fk", "followers_url": "https://api.github.com/users/hello-fk/followers", "following_url": "https://api.github.com/users/hello-fk/following{/other_user}", "gists_url": "https://api.github.com/users/hello-fk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hello-fk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hello-fk/subscriptions", "organizations_url": "https://api.github.com/users/hello-fk/orgs", "repos_url": "https://api.github.com/users/hello-fk/repos", "events_url": "https://api.github.com/users/hello-fk/events{/privacy}", "received_events_url": "https://api.github.com/users/hello-fk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-19T08:00:28Z", "updated_at": "2018-06-19T16:04:18Z", "closed_at": null, "author_association": "NONE", "body_html": "<p><a href=\"https://caffe2.ai/docs/tutorial-MNIST.html\" rel=\"nofollow\">https://caffe2.ai/docs/tutorial-MNIST.html</a><br>\nFinally, we can plot the results using pyplot.</p>\n<pre><code># The parameter initialization network only needs to be run once.\nworkspace.RunNetOnce(train_model.param_init_net)\n# creating the network\nworkspace.CreateNet(train_model.net, overwrite=True)\n# set the number of iterations and track the accuracy &amp; loss\ntotal_iters = 200\naccuracy = np.zeros(total_iters)\nloss = np.zeros(total_iters)\n# Now, we will manually run the network for 200 iterations.\nfor i in range(total_iters):\n    workspace.RunNet(train_model.net)\n    accuracy[i] = workspace.FetchBlob('accuracy')\n    loss[i] = workspace.FetchBlob('loss')\n# After the execution is done, let's plot the values.\npyplot.plot(loss, 'b')\npyplot.plot(accuracy, 'r')\npyplot.legend(('Loss', 'Accuracy'), loc='upper right')\n</code></pre>\n<hr>\n<p>RuntimeError                              Traceback (most recent call last)<br>\n in ()<br>\n1 # The parameter initialization network only needs to be run once.<br>\n----&gt; 2 workspace.RunNetOnce(train_model.param_init_net)<br>\n3 # creating the network<br>\n4 workspace.CreateNet(train_model.net, overwrite=True)<br>\n5 # set the number of iterations and track the accuracy &amp; loss</p>\n<p>/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in RunNetOnce(net)<br>\n197         C.Workspace.current._last_failed_op_net_position,<br>\n198         GetNetName(net),<br>\n--&gt; 199         StringifyProto(net),<br>\n200     )<br>\n201</p>\n<p>/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)<br>\n176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):<br>\n177     try:<br>\n--&gt; 178         return func(*args, **kwargs)<br>\n179     except Exception:<br>\n180         op_id = op_id_fetcher()</p>\n<p>RuntimeError: [enforce fail at lmdb.cc:20] mdb_status == MDB_SUCCESS. 12 vs 0. Cannot allocate memory Error from operator:<br>\noutput: \"dbreader_/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" }</p>\n<ul>\n<li>CUDA/cuDNN version: none</li>\n<li></li>\n<li>GPU models and configuration: none</li>\n</ul>", "body_text": "https://caffe2.ai/docs/tutorial-MNIST.html\nFinally, we can plot the results using pyplot.\n# The parameter initialization network only needs to be run once.\nworkspace.RunNetOnce(train_model.param_init_net)\n# creating the network\nworkspace.CreateNet(train_model.net, overwrite=True)\n# set the number of iterations and track the accuracy & loss\ntotal_iters = 200\naccuracy = np.zeros(total_iters)\nloss = np.zeros(total_iters)\n# Now, we will manually run the network for 200 iterations.\nfor i in range(total_iters):\n    workspace.RunNet(train_model.net)\n    accuracy[i] = workspace.FetchBlob('accuracy')\n    loss[i] = workspace.FetchBlob('loss')\n# After the execution is done, let's plot the values.\npyplot.plot(loss, 'b')\npyplot.plot(accuracy, 'r')\npyplot.legend(('Loss', 'Accuracy'), loc='upper right')\n\n\nRuntimeError                              Traceback (most recent call last)\n in ()\n1 # The parameter initialization network only needs to be run once.\n----> 2 workspace.RunNetOnce(train_model.param_init_net)\n3 # creating the network\n4 workspace.CreateNet(train_model.net, overwrite=True)\n5 # set the number of iterations and track the accuracy & loss\n/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in RunNetOnce(net)\n197         C.Workspace.current._last_failed_op_net_position,\n198         GetNetName(net),\n--> 199         StringifyProto(net),\n200     )\n201\n/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)\n176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):\n177     try:\n--> 178         return func(*args, **kwargs)\n179     except Exception:\n180         op_id = op_id_fetcher()\nRuntimeError: [enforce fail at lmdb.cc:20] mdb_status == MDB_SUCCESS. 12 vs 0. Cannot allocate memory Error from operator:\noutput: \"dbreader_/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" }\n\nCUDA/cuDNN version: none\n\nGPU models and configuration: none", "body": "https://caffe2.ai/docs/tutorial-MNIST.html\r\nFinally, we can plot the results using pyplot.\r\n```\r\n# The parameter initialization network only needs to be run once.\r\nworkspace.RunNetOnce(train_model.param_init_net)\r\n# creating the network\r\nworkspace.CreateNet(train_model.net, overwrite=True)\r\n# set the number of iterations and track the accuracy & loss\r\ntotal_iters = 200\r\naccuracy = np.zeros(total_iters)\r\nloss = np.zeros(total_iters)\r\n# Now, we will manually run the network for 200 iterations.\r\nfor i in range(total_iters):\r\n    workspace.RunNet(train_model.net)\r\n    accuracy[i] = workspace.FetchBlob('accuracy')\r\n    loss[i] = workspace.FetchBlob('loss')\r\n# After the execution is done, let's plot the values.\r\npyplot.plot(loss, 'b')\r\npyplot.plot(accuracy, 'r')\r\npyplot.legend(('Loss', 'Accuracy'), loc='upper right')\r\n```\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-19-aad356a03a21> in <module>()\r\n      1 # The parameter initialization network only needs to be run once.\r\n----> 2 workspace.RunNetOnce(train_model.param_init_net)\r\n      3 # creating the network\r\n      4 workspace.CreateNet(train_model.net, overwrite=True)\r\n      5 # set the number of iterations and track the accuracy & loss\r\n\r\n/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in RunNetOnce(net)\r\n    197         C.Workspace.current._last_failed_op_net_position,\r\n    198         GetNetName(net),\r\n--> 199         StringifyProto(net),\r\n    200     )\r\n    201 \r\n\r\n/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)\r\n    176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):\r\n    177     try:\r\n--> 178         return func(*args, **kwargs)\r\n    179     except Exception:\r\n    180         op_id = op_id_fetcher()\r\n\r\nRuntimeError: [enforce fail at lmdb.cc:20] mdb_status == MDB_SUCCESS. 12 vs 0. Cannot allocate memory Error from operator: \r\noutput: \"dbreader_/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"/home/kylin/\\344\\270\\213\\350\\275\\275/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" }\r\n\r\n\r\n\r\n- CUDA/cuDNN version: none\r\n- \r\n- GPU models and configuration: none\r\n\r\n"}