{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13039", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13039/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13039/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13039/events", "html_url": "https://github.com/pytorch/pytorch/issues/13039", "id": 373367533, "node_id": "MDU6SXNzdWUzNzMzNjc1MzM=", "number": 13039, "title": "Crash when reading pandas parquet file after importing pyTorch", "user": {"login": "jendrikjoe", "id": 9658781, "node_id": "MDQ6VXNlcjk2NTg3ODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/9658781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jendrikjoe", "html_url": "https://github.com/jendrikjoe", "followers_url": "https://api.github.com/users/jendrikjoe/followers", "following_url": "https://api.github.com/users/jendrikjoe/following{/other_user}", "gists_url": "https://api.github.com/users/jendrikjoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/jendrikjoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jendrikjoe/subscriptions", "organizations_url": "https://api.github.com/users/jendrikjoe/orgs", "repos_url": "https://api.github.com/users/jendrikjoe/repos", "events_url": "https://api.github.com/users/jendrikjoe/events{/privacy}", "received_events_url": "https://api.github.com/users/jendrikjoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-24T08:39:14Z", "updated_at": "2018-11-12T03:37:30Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>When importing PyTorch and reading a parquet file with pandas the script randomly fails with a segmentation fault. This problem only occurs when importing PyTorch and seems to be related to  <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357525417\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11326\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/11326/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/11326\">#11326</a> as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"370840570\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12739\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12739/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12739\">#12739</a> seems to resolve it (at least I am not able to produce the error anymore).</p>\n<p>Steps to reproduce the behavior:</p>\n<p>Install PyTorch not effected by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"370840570\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12739\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12739/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12739\">#12739</a>.</p>\n<p>A minimal example for producing the error is:</p>\n<pre><code>import torch\nimport pandas as pd \n\nif __name__ == '__main__':\n    df = pd.read_parquet('summary.par')\n    print('Done')\n</code></pre>\n<p>The data can be found here: <a href=\"https://s3-eu-west-1.amazonaws.com/segfault.torch.public.bucket/summary.par\" rel=\"nofollow\">https://s3-eu-west-1.amazonaws.com/segfault.torch.public.bucket/summary.par</a></p>\n<p>Unluckily I was never able to fetch a stacktrace for this bug. I ran a script to run the code thousands of times in gdb, but it never fails when using gdb, even though it fails around 50% of the times when normally executing it...</p>\n\n<h2>Environment</h2>\n<p>PyTorch version: 1.0.0a0+17c6d16  --&gt; was 0.4.1 with the error<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: 10.0.130</p>\n<p>OS: Ubuntu 18.04.1 LTS<br>\nGCC version: (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0<br>\nCMake version: version 3.11.0</p>\n<p>Python version: 3.6<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: Could not collect<br>\nGPU models and configuration: GPU 0: Quadro P5000<br>\nNvidia driver version: 410.48<br>\ncuDNN version: Probably one of the following:<br>\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.3<br>\n/usr/lib/x86_64-linux-gnu/libcudnn_static.a<br>\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn.so.7.3.1 &lt;-- This is the one used<br>\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn_static.a<br>\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so<br>\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7<br>\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7.2.1<br>\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn_static.a</p>\n<p>Versions of relevant libraries:<br>\n[pip] Could not collect  -&gt; Is 18.1<br>\n[conda] magma-cuda90              2.3.0                         1    pytorch<br>\n[conda] magma-cuda91              2.3.0                         1    pytorch<br>\n[conda] magma-cuda92              2.3.0                         1    pytorch<br>\n[conda] torch                     1.0.0a0+17c6d16             --&gt; was 0.4.1 with the error</p>\n<p>I hope this helps resolving <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357525417\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11326\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/11326/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/11326\">#11326</a> and pinpointing down its fault.</p>\n<p>Cheers,</p>\n<p>Jendrik</p>", "body_text": "\ud83d\udc1b Bug\nWhen importing PyTorch and reading a parquet file with pandas the script randomly fails with a segmentation fault. This problem only occurs when importing PyTorch and seems to be related to  #11326 as #12739 seems to resolve it (at least I am not able to produce the error anymore).\nSteps to reproduce the behavior:\nInstall PyTorch not effected by #12739.\nA minimal example for producing the error is:\nimport torch\nimport pandas as pd \n\nif __name__ == '__main__':\n    df = pd.read_parquet('summary.par')\n    print('Done')\n\nThe data can be found here: https://s3-eu-west-1.amazonaws.com/segfault.torch.public.bucket/summary.par\nUnluckily I was never able to fetch a stacktrace for this bug. I ran a script to run the code thousands of times in gdb, but it never fails when using gdb, even though it fails around 50% of the times when normally executing it...\n\nEnvironment\nPyTorch version: 1.0.0a0+17c6d16  --> was 0.4.1 with the error\nIs debug build: No\nCUDA used to build PyTorch: 10.0.130\nOS: Ubuntu 18.04.1 LTS\nGCC version: (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\nCMake version: version 3.11.0\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: Could not collect\nGPU models and configuration: GPU 0: Quadro P5000\nNvidia driver version: 410.48\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.3\n/usr/lib/x86_64-linux-gnu/libcudnn_static.a\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn.so.7.3.1 <-- This is the one used\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn_static.a\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7.2.1\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn_static.a\nVersions of relevant libraries:\n[pip] Could not collect  -> Is 18.1\n[conda] magma-cuda90              2.3.0                         1    pytorch\n[conda] magma-cuda91              2.3.0                         1    pytorch\n[conda] magma-cuda92              2.3.0                         1    pytorch\n[conda] torch                     1.0.0a0+17c6d16             --> was 0.4.1 with the error\nI hope this helps resolving #11326 and pinpointing down its fault.\nCheers,\nJendrik", "body": "## \ud83d\udc1b Bug\r\n\r\nWhen importing PyTorch and reading a parquet file with pandas the script randomly fails with a segmentation fault. This problem only occurs when importing PyTorch and seems to be related to  #11326 as #12739 seems to resolve it (at least I am not able to produce the error anymore).\r\n\r\nSteps to reproduce the behavior:\r\n\r\nInstall PyTorch not effected by #12739.\r\n\r\nA minimal example for producing the error is: \r\n\r\n    import torch\r\n    import pandas as pd \r\n\r\n    if __name__ == '__main__':\r\n        df = pd.read_parquet('summary.par')\r\n        print('Done')\r\n\r\n\r\nThe data can be found here: https://s3-eu-west-1.amazonaws.com/segfault.torch.public.bucket/summary.par\r\n\r\nUnluckily I was never able to fetch a stacktrace for this bug. I ran a script to run the code thousands of times in gdb, but it never fails when using gdb, even though it fails around 50% of the times when normally executing it...\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\nPyTorch version: 1.0.0a0+17c6d16  --> was 0.4.1 with the error\r\nIs debug build: No\r\nCUDA used to build PyTorch: 10.0.130\r\n\r\nOS: Ubuntu 18.04.1 LTS\r\nGCC version: (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\r\nCMake version: version 3.11.0\r\n\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: Could not collect\r\nGPU models and configuration: GPU 0: Quadro P5000\r\nNvidia driver version: 410.48\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.3\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static.a\r\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn.so.7.3.1 <-- This is the one used \r\n/usr/local/cuda-10.0/targets/x86_64-linux/lib/libcudnn_static.a\r\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so\r\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7\r\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn.so.7.2.1\r\n/usr/local/cuda-9.2/targets/x86_64-linux/lib/libcudnn_static.a\r\n\r\nVersions of relevant libraries:\r\n[pip] Could not collect  -> Is 18.1\r\n[conda] magma-cuda90              2.3.0                         1    pytorch\r\n[conda] magma-cuda91              2.3.0                         1    pytorch\r\n[conda] magma-cuda92              2.3.0                         1    pytorch\r\n[conda] torch                     1.0.0a0+17c6d16           <pip>  --> was 0.4.1 with the error\r\n\r\nI hope this helps resolving #11326 and pinpointing down its fault.\r\n\r\nCheers,\r\n\r\nJendrik"}