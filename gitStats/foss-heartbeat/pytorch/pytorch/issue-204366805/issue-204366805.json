{"url": "https://api.github.com/repos/pytorch/pytorch/issues/657", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/657/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/657/events", "html_url": "https://github.com/pytorch/pytorch/issues/657", "id": 204366805, "node_id": "MDU6SXNzdWUyMDQzNjY4MDU=", "number": 657, "title": "Transpose using negative dimension", "user": {"login": "edouardoyallon", "id": 4263222, "node_id": "MDQ6VXNlcjQyNjMyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4263222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edouardoyallon", "html_url": "https://github.com/edouardoyallon", "followers_url": "https://api.github.com/users/edouardoyallon/followers", "following_url": "https://api.github.com/users/edouardoyallon/following{/other_user}", "gists_url": "https://api.github.com/users/edouardoyallon/gists{/gist_id}", "starred_url": "https://api.github.com/users/edouardoyallon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edouardoyallon/subscriptions", "organizations_url": "https://api.github.com/users/edouardoyallon/orgs", "repos_url": "https://api.github.com/users/edouardoyallon/repos", "events_url": "https://api.github.com/users/edouardoyallon/events{/privacy}", "received_events_url": "https://api.github.com/users/edouardoyallon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131849, "node_id": "MDU6TGFiZWw0MjQxMzE4NDk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true}, {"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-31T17:30:46Z", "updated_at": "2017-03-03T14:31:22Z", "closed_at": "2017-03-03T14:31:22Z", "author_association": "NONE", "body_html": "<p>Hi!</p>\n<p>It is not a major fix, however I think that x.transpose(-1,-3) should be valid, as it is in numpy:</p>\n<pre><code>x=np.zeros((3,5,7))\nx.transpose(-1,0,-2).shape\n</code></pre>\n<blockquote>\n<p>(7,3,5)</p>\n</blockquote>\n<pre><code>x=torch.FloatTensor(3,5,7)\nx.transpose(-1,-2)\n</code></pre>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nRuntimeError: out of range at /data/users/soumith/miniconda2/conda-bld/pytorch-<br>\ncuda80-0.1.7_1485449073235/work/torch/lib/TH/generic/THTensor.c:398</p>\n</blockquote>\n<p>Best,<br>\nEO</p>", "body_text": "Hi!\nIt is not a major fix, however I think that x.transpose(-1,-3) should be valid, as it is in numpy:\nx=np.zeros((3,5,7))\nx.transpose(-1,0,-2).shape\n\n\n(7,3,5)\n\nx=torch.FloatTensor(3,5,7)\nx.transpose(-1,-2)\n\n\nTraceback (most recent call last):\nFile \"\", line 1, in \nRuntimeError: out of range at /data/users/soumith/miniconda2/conda-bld/pytorch-\ncuda80-0.1.7_1485449073235/work/torch/lib/TH/generic/THTensor.c:398\n\nBest,\nEO", "body": "Hi!\r\n\r\nIt is not a major fix, however I think that x.transpose(-1,-3) should be valid, as it is in numpy:\r\n\r\n```\r\nx=np.zeros((3,5,7))\r\nx.transpose(-1,0,-2).shape\r\n```\r\n> (7,3,5)\r\n\r\n```\r\nx=torch.FloatTensor(3,5,7)\r\nx.transpose(-1,-2)\r\n```\r\n>Traceback (most recent call last):\r\n>  File \"<stdin>\", line 1, in <module>\r\n>RuntimeError: out of range at /data/users/soumith/miniconda2/conda-bld/pytorch-\r\n>cuda80-0.1.7_1485449073235/work/torch/lib/TH/generic/THTensor.c:398\r\n\r\n\r\nBest,\r\nEO"}