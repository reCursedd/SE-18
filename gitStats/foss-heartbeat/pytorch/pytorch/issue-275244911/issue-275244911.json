{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3788", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3788/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3788/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3788/events", "html_url": "https://github.com/pytorch/pytorch/issues/3788", "id": 275244911, "node_id": "MDU6SXNzdWUyNzUyNDQ5MTE=", "number": 3788, "title": "Undefined symbols", "user": {"login": "kedz", "id": 4298547, "node_id": "MDQ6VXNlcjQyOTg1NDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4298547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kedz", "html_url": "https://github.com/kedz", "followers_url": "https://api.github.com/users/kedz/followers", "following_url": "https://api.github.com/users/kedz/following{/other_user}", "gists_url": "https://api.github.com/users/kedz/gists{/gist_id}", "starred_url": "https://api.github.com/users/kedz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kedz/subscriptions", "organizations_url": "https://api.github.com/users/kedz/orgs", "repos_url": "https://api.github.com/users/kedz/repos", "events_url": "https://api.github.com/users/kedz/events{/privacy}", "received_events_url": "https://api.github.com/users/kedz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 742585577, "node_id": "MDU6TGFiZWw3NDI1ODU1Nzc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/0.3", "name": "0.3", "color": "d1c41b", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pytorch/pytorch/milestones/3", "html_url": "https://github.com/pytorch/pytorch/milestone/3", "labels_url": "https://api.github.com/repos/pytorch/pytorch/milestones/3/labels", "id": 3085371, "node_id": "MDk6TWlsZXN0b25lMzA4NTM3MQ==", "number": 3, "title": "0.3", "description": "", "creator": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 17, "state": "closed", "created_at": "2018-02-03T02:53:12Z", "updated_at": "2018-08-06T21:16:05Z", "due_on": "2017-12-01T08:00:00Z", "closed_at": "2018-08-06T21:16:05Z"}, "comments": 2, "created_at": "2017-11-20T05:56:28Z", "updated_at": "2018-02-03T02:53:40Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Just installed pytorch into a new virtual environment and certain functions no longer work:</p>\n<pre><code>&gt;&gt;&gt; import torch\n&gt;&gt;&gt; X = torch.rand([3])\n&gt;&gt;&gt; X\n\n 0.0625\n 0.9966\n 0.0929\n[torch.FloatTensor of size 3]\n\n&gt;&gt;&gt; import torch.nn.functional as F\n&gt;&gt;&gt; F.relu(X)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/functional.py\", line 463, in relu\n    return _functions.thnn.Threshold.apply(input, 0, 0, inplace)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/_functions/thnn/auto.py\", line 126, in forward\n    ctx._backend = type2backend[type(input)]\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 15, in __getitem__\n    return self.backends[name].load()\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 38, in load\n    self.functions, self.mixins)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/utils.py\", line 105, in load_backend\n    lib_handle = importlib.import_module(lib)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 978, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 961, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 950, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 648, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 560, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 922, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 205, in _call_with_frames_removed\nImportError: /proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/_THNN.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE\n</code></pre>\n<p>The install was done by performing:<br>\n...<br>\n$ virtualenv --python=python3.6 env<br>\n$ source env/bin/activate<br>\n$ pip3 install <a href=\"http://download.pytorch.org/whl/cu75/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl\" rel=\"nofollow\">http://download.pytorch.org/whl/cu75/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl</a><br>\n...</p>\n<p>I am running Ubuntu 14.04 with cuda 7.5 installed.<br>\nI also just discovered that the above code works when I don't set my PYTHONPATH variable. I need to set this however as it points to other libraries I am working on.</p>\n<p>I would appreciate any leads on what I'm doing wrong, so far googling has turned up anything helpful.</p>", "body_text": "Just installed pytorch into a new virtual environment and certain functions no longer work:\n>>> import torch\n>>> X = torch.rand([3])\n>>> X\n\n 0.0625\n 0.9966\n 0.0929\n[torch.FloatTensor of size 3]\n\n>>> import torch.nn.functional as F\n>>> F.relu(X)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/functional.py\", line 463, in relu\n    return _functions.thnn.Threshold.apply(input, 0, 0, inplace)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/_functions/thnn/auto.py\", line 126, in forward\n    ctx._backend = type2backend[type(input)]\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 15, in __getitem__\n    return self.backends[name].load()\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 38, in load\n    self.functions, self.mixins)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/utils.py\", line 105, in load_backend\n    lib_handle = importlib.import_module(lib)\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 978, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 961, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 950, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 648, in _load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 560, in module_from_spec\n  File \"<frozen importlib._bootstrap_external>\", line 922, in create_module\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\nImportError: /proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/_THNN.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE\n\nThe install was done by performing:\n...\n$ virtualenv --python=python3.6 env\n$ source env/bin/activate\n$ pip3 install http://download.pytorch.org/whl/cu75/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl\n...\nI am running Ubuntu 14.04 with cuda 7.5 installed.\nI also just discovered that the above code works when I don't set my PYTHONPATH variable. I need to set this however as it points to other libraries I am working on.\nI would appreciate any leads on what I'm doing wrong, so far googling has turned up anything helpful.", "body": "Just installed pytorch into a new virtual environment and certain functions no longer work:\r\n```\r\n>>> import torch\r\n>>> X = torch.rand([3])\r\n>>> X\r\n\r\n 0.0625\r\n 0.9966\r\n 0.0929\r\n[torch.FloatTensor of size 3]\r\n\r\n>>> import torch.nn.functional as F\r\n>>> F.relu(X)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/functional.py\", line 463, in relu\r\n    return _functions.thnn.Threshold.apply(input, 0, 0, inplace)\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/nn/_functions/thnn/auto.py\", line 126, in forward\r\n    ctx._backend = type2backend[type(input)]\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 15, in __getitem__\r\n    return self.backends[name].load()\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/__init__.py\", line 38, in load\r\n    self.functions, self.mixins)\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/utils.py\", line 105, in load_backend\r\n    lib_handle = importlib.import_module(lib)\r\n  File \"/proj/fluke/users/chris/spensum/env/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 978, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 961, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 950, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 648, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 560, in module_from_spec\r\n  File \"<frozen importlib._bootstrap_external>\", line 922, in create_module\r\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\r\nImportError: /proj/fluke/users/chris/spensum/env/lib/python3.6/site-packages/torch/_thnn/_THNN.cpython-36m-x86_64-linux-gnu.so: undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE\r\n```\r\n\r\nThe install was done by performing:\r\n...\r\n$ virtualenv --python=python3.6 env\r\n$ source env/bin/activate\r\n$ pip3 install http://download.pytorch.org/whl/cu75/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl \r\n...\r\n\r\nI am running Ubuntu 14.04 with cuda 7.5 installed.\r\nI also just discovered that the above code works when I don't set my PYTHONPATH variable. I need to set this however as it points to other libraries I am working on.  \r\n\r\nI would appreciate any leads on what I'm doing wrong, so far googling has turned up anything helpful. "}