{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5310", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5310/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5310/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5310/events", "html_url": "https://github.com/pytorch/pytorch/issues/5310", "id": 298646042, "node_id": "MDU6SXNzdWUyOTg2NDYwNDI=", "number": 5310, "title": "ONNX support for AdaptiveMax/AvgPool ?", "user": {"login": "jaidmin", "id": 18241545, "node_id": "MDQ6VXNlcjE4MjQxNTQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/18241545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaidmin", "html_url": "https://github.com/jaidmin", "followers_url": "https://api.github.com/users/jaidmin/followers", "following_url": "https://api.github.com/users/jaidmin/following{/other_user}", "gists_url": "https://api.github.com/users/jaidmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaidmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaidmin/subscriptions", "organizations_url": "https://api.github.com/users/jaidmin/orgs", "repos_url": "https://api.github.com/users/jaidmin/repos", "events_url": "https://api.github.com/users/jaidmin/events{/privacy}", "received_events_url": "https://api.github.com/users/jaidmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 693805995, "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx", "name": "onnx", "color": "e99695", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-20T15:53:10Z", "updated_at": "2018-10-16T00:03:34Z", "closed_at": "2018-10-16T00:03:34Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I was just wondering whether it is possible/planned to add ONNX support for AdaptivePooling, because that enables using the same network with different resolutions (check <a href=\"https://github.com/fastai/fastai/blob/84d8ad253e1d3f5ecf1e1dcb07076e61f3f408b7/fastai/conv_learner.py#L40\">https://github.com/fastai/fastai/blob/84d8ad253e1d3f5ecf1e1dcb07076e61f3f408b7/fastai/conv_learner.py#L40</a>) for example.<br>\nWhen I wanted to export this it failed with</p>\n<p><code>RuntimeError: ONNX export failed: Couldn't export Python operator AdaptiveMaxPool2d</code></p>\n<p>and I had to manually replace the AdaptivePoolings with normal ones, thus it now works with fixed sized inputs.</p>\n<p>Cheers, Johannes</p>\n<p>Edit: So in this case its possible to use GlobalPooling but there are still use cases for AdaptivePooling, where ONNX suppport would be very nice</p>", "body_text": "Hi,\nI was just wondering whether it is possible/planned to add ONNX support for AdaptivePooling, because that enables using the same network with different resolutions (check https://github.com/fastai/fastai/blob/84d8ad253e1d3f5ecf1e1dcb07076e61f3f408b7/fastai/conv_learner.py#L40) for example.\nWhen I wanted to export this it failed with\nRuntimeError: ONNX export failed: Couldn't export Python operator AdaptiveMaxPool2d\nand I had to manually replace the AdaptivePoolings with normal ones, thus it now works with fixed sized inputs.\nCheers, Johannes\nEdit: So in this case its possible to use GlobalPooling but there are still use cases for AdaptivePooling, where ONNX suppport would be very nice", "body": "Hi, \r\n\r\nI was just wondering whether it is possible/planned to add ONNX support for AdaptivePooling, because that enables using the same network with different resolutions (check https://github.com/fastai/fastai/blob/84d8ad253e1d3f5ecf1e1dcb07076e61f3f408b7/fastai/conv_learner.py#L40) for example.\r\nWhen I wanted to export this it failed with \r\n\r\n`RuntimeError: ONNX export failed: Couldn't export Python operator AdaptiveMaxPool2d`\r\n\r\nand I had to manually replace the AdaptivePoolings with normal ones, thus it now works with fixed sized inputs.\r\n\r\nCheers, Johannes\r\n\r\nEdit: So in this case its possible to use GlobalPooling but there are still use cases for AdaptivePooling, where ONNX suppport would be very nice"}