{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/406029659", "html_url": "https://github.com/pytorch/pytorch/issues/9289#issuecomment-406029659", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9289", "id": 406029659, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjAyOTY1OQ==", "user": {"login": "Amir-Arsalan", "id": 6061721, "node_id": "MDQ6VXNlcjYwNjE3MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6061721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amir-Arsalan", "html_url": "https://github.com/Amir-Arsalan", "followers_url": "https://api.github.com/users/Amir-Arsalan/followers", "following_url": "https://api.github.com/users/Amir-Arsalan/following{/other_user}", "gists_url": "https://api.github.com/users/Amir-Arsalan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amir-Arsalan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amir-Arsalan/subscriptions", "organizations_url": "https://api.github.com/users/Amir-Arsalan/orgs", "repos_url": "https://api.github.com/users/Amir-Arsalan/repos", "events_url": "https://api.github.com/users/Amir-Arsalan/events{/privacy}", "received_events_url": "https://api.github.com/users/Amir-Arsalan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T18:28:21Z", "updated_at": "2018-07-18T18:33:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15841449\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ngimel\">@ngimel</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a> I hope you didn't get me wrong. I never meant PyTorch does not compile with CuDNN 7.1.4. In fact, it compiles and doing <code>torch.backends.cudnn.version()</code> shows the correct CuDNN version; in Lua Torch also, doing <code>cudnn.version</code> gives me the correct version number. The problem is converting the model modules into CuDNN and training does not work and trying to do that gets me the above error message.</p>\n<p>Anyways, I just compiled PyTorch using the same Singularity definition file with the only difference being I downgraded the CuDNN version (I tried with a couple of versions, all below 7.1.4). The way I did the downgrade was to replace <code>From: nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04</code> with <code>From: nvidia/cuda:9.0-devel-ubuntu16.04</code> and then manually installing a CuDNN version of my choice. Now everything works fine! I'm still very suspicious at the newest CuDNN version. This issue does not only happen for PyTorch and I get the same error message in Lua Torch as well when I want to convert my model modules into CuDNN modules and start training.</p>", "body_text": "@ngimel @soumith I hope you didn't get me wrong. I never meant PyTorch does not compile with CuDNN 7.1.4. In fact, it compiles and doing torch.backends.cudnn.version() shows the correct CuDNN version; in Lua Torch also, doing cudnn.version gives me the correct version number. The problem is converting the model modules into CuDNN and training does not work and trying to do that gets me the above error message.\nAnyways, I just compiled PyTorch using the same Singularity definition file with the only difference being I downgraded the CuDNN version (I tried with a couple of versions, all below 7.1.4). The way I did the downgrade was to replace From: nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04 with From: nvidia/cuda:9.0-devel-ubuntu16.04 and then manually installing a CuDNN version of my choice. Now everything works fine! I'm still very suspicious at the newest CuDNN version. This issue does not only happen for PyTorch and I get the same error message in Lua Torch as well when I want to convert my model modules into CuDNN modules and start training.", "body": "@ngimel @soumith I hope you didn't get me wrong. I never meant PyTorch does not compile with CuDNN 7.1.4. In fact, it compiles and doing `torch.backends.cudnn.version()` shows the correct CuDNN version; in Lua Torch also, doing `cudnn.version` gives me the correct version number. The problem is converting the model modules into CuDNN and training does not work and trying to do that gets me the above error message.\r\n\r\nAnyways, I just compiled PyTorch using the same Singularity definition file with the only difference being I downgraded the CuDNN version (I tried with a couple of versions, all below 7.1.4). The way I did the downgrade was to replace `From: nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04` with `From: nvidia/cuda:9.0-devel-ubuntu16.04` and then manually installing a CuDNN version of my choice. Now everything works fine! I'm still very suspicious at the newest CuDNN version. This issue does not only happen for PyTorch and I get the same error message in Lua Torch as well when I want to convert my model modules into CuDNN modules and start training."}