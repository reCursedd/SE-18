{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6152", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6152/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6152/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6152/events", "html_url": "https://github.com/pytorch/pytorch/pull/6152", "id": 310155469, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc4NjI1NDE1", "number": 6152, "title": "implement sum over multiple dimensions (fixes #2006)", "user": {"login": "t-vi", "id": 20787943, "node_id": "MDQ6VXNlcjIwNzg3OTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/20787943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-vi", "html_url": "https://github.com/t-vi", "followers_url": "https://api.github.com/users/t-vi/followers", "following_url": "https://api.github.com/users/t-vi/following{/other_user}", "gists_url": "https://api.github.com/users/t-vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-vi/subscriptions", "organizations_url": "https://api.github.com/users/t-vi/orgs", "repos_url": "https://api.github.com/users/t-vi/repos", "events_url": "https://api.github.com/users/t-vi/events{/privacy}", "received_events_url": "https://api.github.com/users/t-vi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2018-03-30T20:00:53Z", "updated_at": "2018-11-23T15:41:51Z", "closed_at": "2018-05-03T01:50:30Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6152", "html_url": "https://github.com/pytorch/pytorch/pull/6152", "diff_url": "https://github.com/pytorch/pytorch/pull/6152.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6152.patch"}, "body_html": "<p>Hello,</p>\n<p>this implements summing over multiple dimensions as a ATen native function.</p>\n<ul>\n<li>As IntList and int64_t is considered the same for the jit signatures, I handle the single-dimension case in the multi-dimension one by fast-tracking it.</li>\n<li>in this context, for sum_out, I manually dispatch in ReductionOps.cpp instead of using native_function's mechanism.</li>\n<li>the multiple-index version iterates over the one-dimensional op.<br>\nI'll add a test and adapt the docs, but I'd appreciate feedback on the approach.</li>\n</ul>\n<p>This patch addresses <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"241301469\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2006\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/2006/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/2006\">#2006</a> and would supersede <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"243240318\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2116\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/2116/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/2116\">#2116</a> .<br>\nOf course, there is a ton of other ops (prod, mean, squeeze, unsqueeze) that could be handled similarly.</p>\n<p>Best regards</p>\n<p>Thomas</p>", "body_text": "Hello,\nthis implements summing over multiple dimensions as a ATen native function.\n\nAs IntList and int64_t is considered the same for the jit signatures, I handle the single-dimension case in the multi-dimension one by fast-tracking it.\nin this context, for sum_out, I manually dispatch in ReductionOps.cpp instead of using native_function's mechanism.\nthe multiple-index version iterates over the one-dimensional op.\nI'll add a test and adapt the docs, but I'd appreciate feedback on the approach.\n\nThis patch addresses #2006 and would supersede #2116 .\nOf course, there is a ton of other ops (prod, mean, squeeze, unsqueeze) that could be handled similarly.\nBest regards\nThomas", "body": "Hello,\r\n\r\nthis implements summing over multiple dimensions as a ATen native function.\r\n- As IntList and int64_t is considered the same for the jit signatures, I handle the single-dimension case in the multi-dimension one by fast-tracking it.\r\n- in this context, for sum_out, I manually dispatch in ReductionOps.cpp instead of using native_function's mechanism.\r\n- the multiple-index version iterates over the one-dimensional op.\r\nI'll add a test and adapt the docs, but I'd appreciate feedback on the approach.\r\n\r\nThis patch addresses #2006 and would supersede #2116 .\r\nOf course, there is a ton of other ops (prod, mean, squeeze, unsqueeze) that could be handled similarly.\r\n\r\nBest regards\r\n\r\nThomas"}