{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/440172845", "html_url": "https://github.com/pytorch/pytorch/issues/13898#issuecomment-440172845", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13898", "id": 440172845, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDE3Mjg0NQ==", "user": {"login": "jxmelody", "id": 16831407, "node_id": "MDQ6VXNlcjE2ODMxNDA3", "avatar_url": "https://avatars0.githubusercontent.com/u/16831407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jxmelody", "html_url": "https://github.com/jxmelody", "followers_url": "https://api.github.com/users/jxmelody/followers", "following_url": "https://api.github.com/users/jxmelody/following{/other_user}", "gists_url": "https://api.github.com/users/jxmelody/gists{/gist_id}", "starred_url": "https://api.github.com/users/jxmelody/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jxmelody/subscriptions", "organizations_url": "https://api.github.com/users/jxmelody/orgs", "repos_url": "https://api.github.com/users/jxmelody/repos", "events_url": "https://api.github.com/users/jxmelody/events{/privacy}", "received_events_url": "https://api.github.com/users/jxmelody/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-20T07:35:03Z", "updated_at": "2018-11-20T07:36:39Z", "author_association": "NONE", "body_html": "<p>hi, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1876772\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/leconteur\">@leconteur</a><br>\nI am using OpenCV to load images too, but getting some troubles in <em><strong>cmake &amp; make</strong></em> , my CMakeList.txt looks like this</p>\n<pre><code>cmake_minimum_required(VERSION 3.0 FATAL_ERROR)\nproject(custom_ops)\nfind_package(OpenCV )\nfind_package(Torch  )\nadd_executable(example-app test.cpp)\ntarget_link_libraries(example-app \"${TORCH_LIBRARIES}\" \"${OPENCV_LIBRARIES}\")\nset_property(TARGET example-app PROPERTY CXX_STANDARD 11)\n                                                                        \n</code></pre>\n<p>I used <code>cmake -DCMAKE_PREFIX_PATH=\"/usr/local/cv;../libtorch ..\" </code> to produce MakeFile.I've got no errors after this,  but when I did <code>make</code>, It showed me some strange errors:<br>\n<code>fatal error: opencv2/core.hpp: no such a file or directory</code></p>\n<p>Could you please letting me know how you wrote CMakeFile and cmake commands? Or more generally, do you know what is wrong in my situation?</p>\n<p>Also I've tired  to use gcc or qmake with including the <code>include</code> and <code>lib</code>dir ,but it keep turning out this</p>\n<blockquote>\n<p>/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libnvToolsExt-3965bdd0.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)<br>\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libcaffe2_gpu.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)<br>\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libc10.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)<br>\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libgomp-7bcb08ae.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libcaffe2.so, not found (try using -rpath or -rpath-link)<br>\ntest.o\uff1ain function \u2018c10::intrusive_ptr_target::~intrusive_ptr_target()\u2019\uff1a<br>\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x126)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&amp;)\u2019undefined reference<br>\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x256)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&amp;)\u2019undefined reference<br>\ntest.o\uff1aIn function \u2018c10::Device::Device(c10::DeviceType, short)\u2019\uff1a<br>\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0xe4)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&amp;)\u2019undefined reference<br>\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0x1f7)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&amp;)\u2019undefined reference</p>\n</blockquote>\n<p>Thanks!</p>", "body_text": "hi, @leconteur\nI am using OpenCV to load images too, but getting some troubles in cmake & make , my CMakeList.txt looks like this\ncmake_minimum_required(VERSION 3.0 FATAL_ERROR)\nproject(custom_ops)\nfind_package(OpenCV )\nfind_package(Torch  )\nadd_executable(example-app test.cpp)\ntarget_link_libraries(example-app \"${TORCH_LIBRARIES}\" \"${OPENCV_LIBRARIES}\")\nset_property(TARGET example-app PROPERTY CXX_STANDARD 11)\n                                                                        \n\nI used cmake -DCMAKE_PREFIX_PATH=\"/usr/local/cv;../libtorch ..\"  to produce MakeFile.I've got no errors after this,  but when I did make, It showed me some strange errors:\nfatal error: opencv2/core.hpp: no such a file or directory\nCould you please letting me know how you wrote CMakeFile and cmake commands? Or more generally, do you know what is wrong in my situation?\nAlso I've tired  to use gcc or qmake with including the include and libdir ,but it keep turning out this\n\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libnvToolsExt-3965bdd0.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libcaffe2_gpu.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libc10.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libgomp-7bcb08ae.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libcaffe2.so, not found (try using -rpath or -rpath-link)\ntest.o\uff1ain function \u2018c10::intrusive_ptr_target::~intrusive_ptr_target()\u2019\uff1a\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x126)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x256)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\ntest.o\uff1aIn function \u2018c10::Device::Device(c10::DeviceType, short)\u2019\uff1a\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0xe4)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0x1f7)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\n\nThanks!", "body": "hi, @leconteur \r\nI am using OpenCV to load images too, but getting some troubles in ***cmake & make*** , my CMakeList.txt looks like this\r\n```\r\ncmake_minimum_required(VERSION 3.0 FATAL_ERROR)\r\nproject(custom_ops)\r\nfind_package(OpenCV )\r\nfind_package(Torch  )\r\nadd_executable(example-app test.cpp)\r\ntarget_link_libraries(example-app \"${TORCH_LIBRARIES}\" \"${OPENCV_LIBRARIES}\")\r\nset_property(TARGET example-app PROPERTY CXX_STANDARD 11)\r\n                                                                        \r\n```  \r\n\r\nI used ```cmake -DCMAKE_PREFIX_PATH=\"/usr/local/cv;../libtorch ..\" ``` to produce MakeFile.I've got no errors after this,  but when I did ```make```, It showed me some strange errors:\r\n```fatal error: opencv2/core.hpp: no such a file or directory```\r\n\r\nCould you please letting me know how you wrote CMakeFile and cmake commands? Or more generally, do you know what is wrong in my situation? \r\n\r\nAlso I've tired  to use gcc or qmake with including the ```include``` and ```lib```dir ,but it keep turning out this \r\n>/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libnvToolsExt-3965bdd0.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\r\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libcaffe2_gpu.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\r\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libc10.so, needed by /home/xiaojin/workspace/download/libtorch/lib/libtorch.so, not found (try using -rpath or -rpath-link)\r\n/opt/rh/devtoolset-3/root/usr/libexec/gcc/x86_64-redhat-linux/4.9.2/ld: warning: libgomp-7bcb08ae.so.1, needed by /home/xiaojin/workspace/download/libtorch/lib/libcaffe2.so, not found (try using -rpath or -rpath-link)\r\ntest.o\uff1ain function \u2018c10::intrusive_ptr_target::~intrusive_ptr_target()\u2019\uff1a\r\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x126)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\r\ntest.cpp:(.text._ZN3c1020intrusive_ptr_targetD2Ev[_ZN3c1020intrusive_ptr_targetD5Ev]+0x256)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\r\ntest.o\uff1aIn function \u2018c10::Device::Device(c10::DeviceType, short)\u2019\uff1a\r\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0xe4)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\r\ntest.cpp:(.text._ZN3c106DeviceC2ENS_10DeviceTypeEs[_ZN3c106DeviceC5ENS_10DeviceTypeEs]+0x1f7)\uff1a\u2018c10::Error::Error(c10::SourceLocation, std::string const&)\u2019undefined reference\r\n\r\nThanks!\r\n"}