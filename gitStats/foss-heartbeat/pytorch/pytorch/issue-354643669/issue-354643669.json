{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10938", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10938/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10938/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10938/events", "html_url": "https://github.com/pytorch/pytorch/issues/10938", "id": 354643669, "node_id": "MDU6SXNzdWUzNTQ2NDM2Njk=", "number": 10938, "title": "error", "user": {"login": "cqdaxue", "id": 31148069, "node_id": "MDQ6VXNlcjMxMTQ4MDY5", "avatar_url": "https://avatars3.githubusercontent.com/u/31148069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cqdaxue", "html_url": "https://github.com/cqdaxue", "followers_url": "https://api.github.com/users/cqdaxue/followers", "following_url": "https://api.github.com/users/cqdaxue/following{/other_user}", "gists_url": "https://api.github.com/users/cqdaxue/gists{/gist_id}", "starred_url": "https://api.github.com/users/cqdaxue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cqdaxue/subscriptions", "organizations_url": "https://api.github.com/users/cqdaxue/orgs", "repos_url": "https://api.github.com/users/cqdaxue/repos", "events_url": "https://api.github.com/users/cqdaxue/events{/privacy}", "received_events_url": "https://api.github.com/users/cqdaxue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-28T09:23:03Z", "updated_at": "2018-08-28T14:50:26Z", "closed_at": "2018-08-28T14:50:26Z", "author_association": "NONE", "body_html": "<p>Recently,the model is training and the following error occurred<br>\nTraceback (most recent call last):<br>\nFile \"train.py\", line 58, in <br>\ntrain(opt, data_loader, model, visualizer)<br>\nFile \"train.py\", line 16, in train<br>\nfor i, data in enumerate(dataset):<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 286, in <strong>next</strong><br>\nreturn self._process_next_batch(batch)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 307, in _process_next_batch<br>\nraise batch.exc_type(batch.exc_msg)<br>\nOSError: Traceback (most recent call last):<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 212, in load<br>\ns = read(self.decodermaxblock)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 592, in load_read<br>\ncid, pos, length = self.png.read()<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 113, in read<br>\nlength = i32(s)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/_binary.py\", line 76, in i32be<br>\nreturn unpack(\"&gt;I\", c[o:o+4])[0]<br>\nstruct.error: unpack requires a buffer of 4 bytes</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in _worker_loop<br>\nsamples = collate_fn([dataset[i] for i in batch_indices])<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in <br>\nsamples = collate_fn([dataset[i] for i in batch_indices])<br>\nFile \"/mywork/experiment_sn_2000_1/data/aligned_dataset.py\", line 28, in <strong>getitem</strong><br>\nAB = Image.open(AB_path).convert('RGB')<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/Image.py\", line 860, in convert<br>\nself.load()<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 217, in load<br>\nraise IOError(\"image file is truncated\")<br>\nOSError: image file is truncated</p>\n<p>Exception ignored in: &lt;bound method _DataLoaderIter.<strong>del</strong> of &lt;torch.utils.data.dataloader._DataLoaderIter object at 0x7fa236f953c8&gt;&gt;<br>\nTraceback (most recent call last):<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 349, in <strong>del</strong><br>\nself._shutdown_workers()<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 328, in _shutdown_workers<br>\nself.worker_result_queue.get()<br>\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/queues.py\", line 337, in get<br>\nreturn _ForkingPickler.loads(res)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/multiprocessing/reductions.py\", line 70, in rebuild_storage_fd<br>\nfd = df.detach()<br>\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 57, in detach<br>\nwith _resource_sharer.get_connection(self._id) as conn:<br>\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 87, in get_connection<br>\nc = Client(address, authkey=process.current_process().authkey)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 487, in Client<br>\nc = SocketClient(address)<br>\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 614, in SocketClient<br>\ns.connect(address)<br>\nConnectionRefusedError: [Errno 111] Connection refused</p>", "body_text": "Recently,the model is training and the following error occurred\nTraceback (most recent call last):\nFile \"train.py\", line 58, in \ntrain(opt, data_loader, model, visualizer)\nFile \"train.py\", line 16, in train\nfor i, data in enumerate(dataset):\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 286, in next\nreturn self._process_next_batch(batch)\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 307, in _process_next_batch\nraise batch.exc_type(batch.exc_msg)\nOSError: Traceback (most recent call last):\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 212, in load\ns = read(self.decodermaxblock)\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 592, in load_read\ncid, pos, length = self.png.read()\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 113, in read\nlength = i32(s)\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/_binary.py\", line 76, in i32be\nreturn unpack(\">I\", c[o:o+4])[0]\nstruct.error: unpack requires a buffer of 4 bytes\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in _worker_loop\nsamples = collate_fn([dataset[i] for i in batch_indices])\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in \nsamples = collate_fn([dataset[i] for i in batch_indices])\nFile \"/mywork/experiment_sn_2000_1/data/aligned_dataset.py\", line 28, in getitem\nAB = Image.open(AB_path).convert('RGB')\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/Image.py\", line 860, in convert\nself.load()\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 217, in load\nraise IOError(\"image file is truncated\")\nOSError: image file is truncated\nException ignored in: <bound method _DataLoaderIter.del of <torch.utils.data.dataloader._DataLoaderIter object at 0x7fa236f953c8>>\nTraceback (most recent call last):\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 349, in del\nself._shutdown_workers()\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 328, in _shutdown_workers\nself.worker_result_queue.get()\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/queues.py\", line 337, in get\nreturn _ForkingPickler.loads(res)\nFile \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/multiprocessing/reductions.py\", line 70, in rebuild_storage_fd\nfd = df.detach()\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 57, in detach\nwith _resource_sharer.get_connection(self._id) as conn:\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 87, in get_connection\nc = Client(address, authkey=process.current_process().authkey)\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 487, in Client\nc = SocketClient(address)\nFile \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 614, in SocketClient\ns.connect(address)\nConnectionRefusedError: [Errno 111] Connection refused", "body": "Recently,the model is training and the following error occurred \r\nTraceback (most recent call last):\r\n  File \"train.py\", line 58, in <module>\r\n    train(opt, data_loader, model, visualizer)\r\n  File \"train.py\", line 16, in train\r\n    for i, data in enumerate(dataset):\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 286, in __next__\r\n    return self._process_next_batch(batch)\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 307, in _process_next_batch\r\n    raise batch.exc_type(batch.exc_msg)\r\nOSError: Traceback (most recent call last):\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 212, in load\r\n    s = read(self.decodermaxblock)\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 592, in load_read\r\n    cid, pos, length = self.png.read()\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/PngImagePlugin.py\", line 113, in read\r\n    length = i32(s)\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/_binary.py\", line 76, in i32be\r\n    return unpack(\">I\", c[o:o+4])[0]\r\nstruct.error: unpack requires a buffer of 4 bytes\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in _worker_loop\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 57, in <listcomp>\r\n    samples = collate_fn([dataset[i] for i in batch_indices])\r\n  File \"/mywork/experiment_sn_2000_1/data/aligned_dataset.py\", line 28, in __getitem__\r\n    AB = Image.open(AB_path).convert('RGB')\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/Image.py\", line 860, in convert\r\n    self.load()\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/PIL/ImageFile.py\", line 217, in load\r\n    raise IOError(\"image file is truncated\")\r\nOSError: image file is truncated\r\n\r\nException ignored in: <bound method _DataLoaderIter.__del__ of <torch.utils.data.dataloader._DataLoaderIter object at 0x7fa236f953c8>>\r\nTraceback (most recent call last):\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 349, in __del__\r\n    self._shutdown_workers()\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 328, in _shutdown_workers\r\n    self.worker_result_queue.get()\r\n  File \"/home/cui/anaconda3/lib/python3.6/multiprocessing/queues.py\", line 337, in get\r\n    return _ForkingPickler.loads(res)\r\n  File \"/home/cui/anaconda3/lib/python3.6/site-packages/torch/multiprocessing/reductions.py\", line 70, in rebuild_storage_fd\r\n    fd = df.detach()\r\n  File \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 57, in detach\r\n    with _resource_sharer.get_connection(self._id) as conn:\r\n  File \"/home/cui/anaconda3/lib/python3.6/multiprocessing/resource_sharer.py\", line 87, in get_connection\r\n    c = Client(address, authkey=process.current_process().authkey)\r\n  File \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 487, in Client\r\n    c = SocketClient(address)\r\n  File \"/home/cui/anaconda3/lib/python3.6/multiprocessing/connection.py\", line 614, in SocketClient\r\n    s.connect(address)\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n"}