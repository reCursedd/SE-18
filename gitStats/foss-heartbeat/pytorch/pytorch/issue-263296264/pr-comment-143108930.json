{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/143108930", "pull_request_review_id": 67572071, "id": 143108930, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzEwODkzMA==", "diff_hunk": "@@ -114,6 +114,19 @@ typedef struct {\n   /*! \\brief The offset in bytes to the beginning pointer to data */\n   uint64_t byte_offset;\n } DLTensor;\n+\n+/*!\n+ * \\ manage memory of DLTensor\n+ */\n+typedef struct {\n+  /*! DLTensor which is being memory managed*/\n+  DLTensor dlTensor;\n+  /* context in which DLTensor is used in framework*/\n+  void * ctx;\n+ /* Destructor signature */", "path": "torch/lib/ATen/dlpack.h", "position": null, "original_position": 13, "commit_id": "284521837e00213f0f826cfd5b5cb02fe5d796ad", "original_commit_id": "78facc4c5e27fb3c7ea2dd7ad80564c9aaa15bc4", "user": {"login": "dzhulgakov", "id": 17890620, "node_id": "MDQ6VXNlcjE3ODkwNjIw", "avatar_url": "https://avatars2.githubusercontent.com/u/17890620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzhulgakov", "html_url": "https://github.com/dzhulgakov", "followers_url": "https://api.github.com/users/dzhulgakov/followers", "following_url": "https://api.github.com/users/dzhulgakov/following{/other_user}", "gists_url": "https://api.github.com/users/dzhulgakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzhulgakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzhulgakov/subscriptions", "organizations_url": "https://api.github.com/users/dzhulgakov/orgs", "repos_url": "https://api.github.com/users/dzhulgakov/repos", "events_url": "https://api.github.com/users/dzhulgakov/events{/privacy}", "received_events_url": "https://api.github.com/users/dzhulgakov/received_events", "type": "User", "site_admin": false}, "body": "you need to describe whether destructor is supposed to delete the instance of DLManagedTensor or not. Alternatively it might not (and it's responsibility of caller) and then we can allow for destructor==nullptr", "created_at": "2017-10-06T04:46:37Z", "updated_at": "2018-11-23T15:35:04Z", "html_url": "https://github.com/pytorch/pytorch/pull/2998#discussion_r143108930", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2998", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/143108930"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2998#discussion_r143108930"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2998"}}, "body_html": "<p>you need to describe whether destructor is supposed to delete the instance of DLManagedTensor or not. Alternatively it might not (and it's responsibility of caller) and then we can allow for destructor==nullptr</p>", "body_text": "you need to describe whether destructor is supposed to delete the instance of DLManagedTensor or not. Alternatively it might not (and it's responsibility of caller) and then we can allow for destructor==nullptr"}