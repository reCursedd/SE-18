{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/404230396", "html_url": "https://github.com/pytorch/pytorch/issues/9338#issuecomment-404230396", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9338", "id": 404230396, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDIzMDM5Ng==", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-11T16:24:38Z", "updated_at": "2018-07-11T16:24:38Z", "author_association": "MEMBER", "body_html": "<p>I think the doc is right.<br>\nWhat happens is that the weight layout of the tensors is <code>out_channels x in_channels x ...</code>, while we pass in the constructor of the modules <code>in_channels</code> followed by <code>out_channels</code>.</p>\n<p>I don't think we should modify the weight layout nor the constructor order for the <code>nn.Conv*d</code>, because</p>\n<ul>\n<li>modifying the layout would require lots of changes and slowdown the operations (as we rely on cudnn)</li>\n<li>the order <code>in_channels</code> -&gt; <code>out_channels</code> is very natural.</li>\n</ul>\n<p>I think the best here is to explain in the <code>nn.Conv*d</code> docs that the weight that is created has the shape <code>out x in x kh x kw</code>.</p>", "body_text": "I think the doc is right.\nWhat happens is that the weight layout of the tensors is out_channels x in_channels x ..., while we pass in the constructor of the modules in_channels followed by out_channels.\nI don't think we should modify the weight layout nor the constructor order for the nn.Conv*d, because\n\nmodifying the layout would require lots of changes and slowdown the operations (as we rely on cudnn)\nthe order in_channels -> out_channels is very natural.\n\nI think the best here is to explain in the nn.Conv*d docs that the weight that is created has the shape out x in x kh x kw.", "body": "I think the doc is right.\r\nWhat happens is that the weight layout of the tensors is `out_channels x in_channels x ...`, while we pass in the constructor of the modules `in_channels` followed by `out_channels`.\r\n\r\nI don't think we should modify the weight layout nor the constructor order for the `nn.Conv*d`, because\r\n- modifying the layout would require lots of changes and slowdown the operations (as we rely on cudnn)\r\n- the order `in_channels` -> `out_channels` is very natural.\r\n\r\nI think the best here is to explain in the `nn.Conv*d` docs that the weight that is created has the shape `out x in x kh x kw`."}