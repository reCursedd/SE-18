{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/321456743", "html_url": "https://github.com/pytorch/pytorch/pull/2263#issuecomment-321456743", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2263", "id": 321456743, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTQ1Njc0Mw==", "user": {"login": "TeslasGhost", "id": 11362052, "node_id": "MDQ6VXNlcjExMzYyMDUy", "avatar_url": "https://avatars0.githubusercontent.com/u/11362052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TeslasGhost", "html_url": "https://github.com/TeslasGhost", "followers_url": "https://api.github.com/users/TeslasGhost/followers", "following_url": "https://api.github.com/users/TeslasGhost/following{/other_user}", "gists_url": "https://api.github.com/users/TeslasGhost/gists{/gist_id}", "starred_url": "https://api.github.com/users/TeslasGhost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TeslasGhost/subscriptions", "organizations_url": "https://api.github.com/users/TeslasGhost/orgs", "repos_url": "https://api.github.com/users/TeslasGhost/repos", "events_url": "https://api.github.com/users/TeslasGhost/events{/privacy}", "received_events_url": "https://api.github.com/users/TeslasGhost/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-10T05:46:05Z", "updated_at": "2017-08-10T05:47:32Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>Not sure if this is this is the same problem as the abovementioned, but I attempt to build from source using CUDA9 and CUDNN 7. It seems to get pretty far in the build process, and then towards the end I am getting...</p>\n<pre><code>Scanning dependencies of target nccl\n[100%] Generating lib/libnccl.so\nGrabbing  src/nccl.h                          &gt; /home/ubuntu/pytorch/torch/lib/build/nccl/include/nccl.h\nCompiling src/libwrap.cu                      &gt; /home/ubuntu/pytorch/torch/lib/build/nccl/obj/libwrap.o\nCompiling src/core.cu                         &gt; /home/ubuntu/pytorch/torch/lib/build/nccl/obj/core.o\nCompiling src/all_gather.cu                   &gt; /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu                   &gt; /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d18_00000000-11_all_gather.compute_61.cpp1.ii\".\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o' failed\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d29_00000000-11_all_reduce.compute_61.cpp1.ii\".\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o' failed\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o] Error 1\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed\nmake[2]: *** [lib/libnccl.so] Error 2\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>\n<p>Can someone kindly confirm that this is also a nccl subtree issue?<br>\n[EDIT]: It appears that it is. I have no idea how to install NCCL Header on my 'system', but I will look into it now. Any other help would be greatly appreciated. :)</p>", "body_text": "Hi,\nNot sure if this is this is the same problem as the abovementioned, but I attempt to build from source using CUDA9 and CUDNN 7. It seems to get pretty far in the build process, and then towards the end I am getting...\nScanning dependencies of target nccl\n[100%] Generating lib/libnccl.so\nGrabbing  src/nccl.h                          > /home/ubuntu/pytorch/torch/lib/build/nccl/include/nccl.h\nCompiling src/libwrap.cu                      > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/libwrap.o\nCompiling src/core.cu                         > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/core.o\nCompiling src/all_gather.cu                   > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu                   > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\n\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d18_00000000-11_all_gather.compute_61.cpp1.ii\".\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o' failed\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d29_00000000-11_all_reduce.compute_61.cpp1.ii\".\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o' failed\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o] Error 1\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed\nmake[2]: *** [lib/libnccl.so] Error 2\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2\n\nCan someone kindly confirm that this is also a nccl subtree issue?\n[EDIT]: It appears that it is. I have no idea how to install NCCL Header on my 'system', but I will look into it now. Any other help would be greatly appreciated. :)", "body": "Hi,\r\n\r\nNot sure if this is this is the same problem as the abovementioned, but I attempt to build from source using CUDA9 and CUDNN 7. It seems to get pretty far in the build process, and then towards the end I am getting...\r\n\r\n```\r\nScanning dependencies of target nccl\r\n[100%] Generating lib/libnccl.so\r\nGrabbing  src/nccl.h                          > /home/ubuntu/pytorch/torch/lib/build/nccl/include/nccl.h\r\nCompiling src/libwrap.cu                      > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/libwrap.o\r\nCompiling src/core.cu                         > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/core.o\r\nCompiling src/all_gather.cu                   > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o\r\nCompiling src/all_reduce.cu                   > /home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o\r\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(42): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/common_kernel.h(55): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\r\n\r\nsrc/copy_kernel.h(28): error: class \"__half\" has no member \"x\"\r\n\r\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d18_00000000-11_all_gather.compute_61.cpp1.ii\".\r\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o' failed\r\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_gather.o] Error 1\r\nmake[3]: *** Waiting for unfinished jobs....\r\n6 errors detected in the compilation of \"/tmp/tmpxft_00004d29_00000000-11_all_reduce.compute_61.cpp1.ii\".\r\nMakefile:121: recipe for target '/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o' failed\r\nmake[3]: *** [/home/ubuntu/pytorch/torch/lib/build/nccl/obj/all_reduce.o] Error 1\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed\r\nmake[2]: *** [lib/libnccl.so] Error 2\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed\r\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\r\nMakefile:127: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\nCan someone kindly confirm that this is also a nccl subtree issue?\r\n[EDIT]: It appears that it is. I have no idea how to install NCCL Header on my 'system', but I will look into it now. Any other help would be greatly appreciated. :)"}