{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/303553683", "html_url": "https://github.com/pytorch/pytorch/issues/1630#issuecomment-303553683", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1630", "id": 303553683, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzU1MzY4Mw==", "user": {"login": "makeyourownneuralnetwork", "id": 17411198, "node_id": "MDQ6VXNlcjE3NDExMTk4", "avatar_url": "https://avatars2.githubusercontent.com/u/17411198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/makeyourownneuralnetwork", "html_url": "https://github.com/makeyourownneuralnetwork", "followers_url": "https://api.github.com/users/makeyourownneuralnetwork/followers", "following_url": "https://api.github.com/users/makeyourownneuralnetwork/following{/other_user}", "gists_url": "https://api.github.com/users/makeyourownneuralnetwork/gists{/gist_id}", "starred_url": "https://api.github.com/users/makeyourownneuralnetwork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/makeyourownneuralnetwork/subscriptions", "organizations_url": "https://api.github.com/users/makeyourownneuralnetwork/orgs", "repos_url": "https://api.github.com/users/makeyourownneuralnetwork/repos", "events_url": "https://api.github.com/users/makeyourownneuralnetwork/events{/privacy}", "received_events_url": "https://api.github.com/users/makeyourownneuralnetwork/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-23T22:43:50Z", "updated_at": "2017-05-23T22:43:50Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> thanks for your helpful reply</p>\n<p>My MacBook Pro 13 early 2015 has only 1 cpu with 2 cores.  I therefore set <code>OMP_NUM_THREADS=2 </code>and did the timings again.</p>\n<p>The results were:</p>\n<ul>\n<li>PyTorch - <strong>928 and 995</strong> seconds compared to the 841 and 834 seconds earlier.</li>\n<li>Plain python with numpy again -  <strong>591 and 597</strong> seconds.</li>\n</ul>\n<p>I did this  the comparison again as I am now running a browser showing live tv news, so need to make the environment equivalent to aid comparison. The ratio is <strong>1.6</strong> not in favour of PyTorch.</p>\n<p>Interestingly, setting the <code>OMP_NUM_THREADS=1 </code>makes no difference, the result with PyTorch was <strong>953</strong> seconds, within the range above.</p>\n<p>The environment variable was set in the notebook using:</p>\n<pre><code>%env OMP_NUM_THREADS=1\n</code></pre>\n<p>and was tested with <code>%env</code></p>", "body_text": "@apaszke thanks for your helpful reply\nMy MacBook Pro 13 early 2015 has only 1 cpu with 2 cores.  I therefore set OMP_NUM_THREADS=2 and did the timings again.\nThe results were:\n\nPyTorch - 928 and 995 seconds compared to the 841 and 834 seconds earlier.\nPlain python with numpy again -  591 and 597 seconds.\n\nI did this  the comparison again as I am now running a browser showing live tv news, so need to make the environment equivalent to aid comparison. The ratio is 1.6 not in favour of PyTorch.\nInterestingly, setting the OMP_NUM_THREADS=1 makes no difference, the result with PyTorch was 953 seconds, within the range above.\nThe environment variable was set in the notebook using:\n%env OMP_NUM_THREADS=1\n\nand was tested with %env", "body": "@apaszke thanks for your helpful reply\r\n\r\nMy MacBook Pro 13 early 2015 has only 1 cpu with 2 cores.  I therefore set `OMP_NUM_THREADS=2 `and did the timings again.\r\n\r\nThe results were:\r\n\r\n- PyTorch - **928 and 995** seconds compared to the 841 and 834 seconds earlier.\r\n- Plain python with numpy again -  **591 and 597** seconds. \r\n\r\n I did this  the comparison again as I am now running a browser showing live tv news, so need to make the environment equivalent to aid comparison. The ratio is **1.6** not in favour of PyTorch.\r\n\r\nInterestingly, setting the `OMP_NUM_THREADS=1 `makes no difference, the result with PyTorch was **953** seconds, within the range above. \r\n\r\nThe environment variable was set in the notebook using:\r\n```\r\n%env OMP_NUM_THREADS=1\r\n```\r\n\r\nand was tested with `%env`\r\n"}