{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8159", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8159/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8159/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8159/events", "html_url": "https://github.com/pytorch/pytorch/issues/8159", "id": 329368120, "node_id": "MDU6SXNzdWUzMjkzNjgxMjA=", "number": 8159, "title": "build from source error", "user": {"login": "lxtGH", "id": 17202268, "node_id": "MDQ6VXNlcjE3MjAyMjY4", "avatar_url": "https://avatars1.githubusercontent.com/u/17202268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxtGH", "html_url": "https://github.com/lxtGH", "followers_url": "https://api.github.com/users/lxtGH/followers", "following_url": "https://api.github.com/users/lxtGH/following{/other_user}", "gists_url": "https://api.github.com/users/lxtGH/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxtGH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxtGH/subscriptions", "organizations_url": "https://api.github.com/users/lxtGH/orgs", "repos_url": "https://api.github.com/users/lxtGH/repos", "events_url": "https://api.github.com/users/lxtGH/events{/privacy}", "received_events_url": "https://api.github.com/users/lxtGH/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-05T09:14:42Z", "updated_at": "2018-08-17T06:43:48Z", "closed_at": "2018-06-06T01:08:15Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>Provide a short description.<br>\nI want to build the pytorch from the soruce, and I follow the commands in README.md<br>\nBut I met this error:<br>\n[ 95%] Linking CXX executable ../bin/integer_divider_test<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionGroupCount'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnRestoreDropoutDescriptor'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionMathType'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionGroupCount'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnRestoreDropoutDescriptor'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionMathType'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionGroupCount'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnRestoreDropoutDescriptor'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionMathType'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionGroupCount'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnRestoreDropoutDescriptor'<br>\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to <code>cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to </code>cudnnSetConvolutionMathType'<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncollect2: error: ld returned 1 exit status<br>\ncaffe2/CMakeFiles/tbb_init_test.dir/build.make:110: recipe for target 'bin/tbb_init_test' failed<br>\nmake[2]: *** [bin/tbb_init_test] Error 1<br>\ncaffe2/CMakeFiles/wrapdim_test.dir/build.make:110: recipe for target 'bin/wrapdim_test' failed<br>\nmake[2]: *** [bin/wrapdim_test] Error 1<br>\ncaffe2/CMakeFiles/integer_divider_test.dir/build.make:456: recipe for target 'bin/integer_divider_test' failed<br>\ncaffe2/CMakeFiles/undefined_tensor_test.dir/build.make:110: recipe for target 'bin/undefined_tensor_test' failed<br>\nmake[2]: *** [bin/integer_divider_test] Error 1<br>\nmake[2]: *** [bin/undefined_tensor_test] Error 1<br>\ncaffe2/CMakeFiles/apply_test.dir/build.make:112: recipe for target 'bin/apply_test' failed<br>\ncaffe2/CMakeFiles/verify_api_visibility.dir/build.make:110: recipe for target 'bin/verify_api_visibility' failed<br>\nmake[2]: *** [bin/apply_test] Error 1<br>\nmake[2]: *** [bin/verify_api_visibility] Error 1<br>\ncaffe2/CMakeFiles/scalar_tensor_test.dir/build.make:110: recipe for target 'bin/scalar_tensor_test' failed<br>\nmake[2]: *** [bin/scalar_tensor_test] Error 1<br>\nCMakeFiles/Makefile2:882: recipe for target 'caffe2/CMakeFiles/tbb_init_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/tbb_init_test.dir/all] Error 2<br>\nmake[1]: *** Waiting for unfinished jobs....<br>\nCMakeFiles/Makefile2:958: recipe for target 'caffe2/CMakeFiles/verify_api_visibility.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/verify_api_visibility.dir/all] Error 2<br>\nCMakeFiles/Makefile2:996: recipe for target 'caffe2/CMakeFiles/undefined_tensor_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/undefined_tensor_test.dir/all] Error 2<br>\nCMakeFiles/Makefile2:1072: recipe for target 'caffe2/CMakeFiles/wrapdim_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/wrapdim_test.dir/all] Error 2<br>\nCMakeFiles/Makefile2:806: recipe for target 'caffe2/CMakeFiles/apply_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/apply_test.dir/all] Error 2<br>\nCMakeFiles/Makefile2:1034: recipe for target 'caffe2/CMakeFiles/scalar_tensor_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/scalar_tensor_test.dir/all] Error 2<br>\nCMakeFiles/Makefile2:844: recipe for target 'caffe2/CMakeFiles/integer_divider_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2<br>\ncaffe2/CMakeFiles/cudnn_test.dir/build.make:112: recipe for target 'bin/cudnn_test' failed<br>\nmake[2]: *** [bin/cudnn_test] Error 1<br>\nCMakeFiles/Makefile2:920: recipe for target 'caffe2/CMakeFiles/cudnn_test.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/cudnn_test.dir/all] Error 2<br>\nMakefile:140: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack --with-mkldnn nccl caffe2 nanopb libshm gloo THD'</p>\n<ul>\n<li>PyTorch or Caffe2:</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Build command you used (if compiling from source):<br>\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]<br>\nconda install numpy pyyaml mkl mkl-include setuptools cmake cffi typing<br>\nconda install -c mingfeima mkldnn<br>\nconda install -c pytorch magma-cuda80 # or magma-cuda90 if CUDA 9</li>\n<li>OS: Ubuntu16.04</li>\n<li>Python version: 3.6</li>\n<li>CUDA/cuDNN version: 8.0</li>\n<li>GPU models and configuration: GPU</li>\n<li>GCC version (if compiling from source): 5.4</li>\n<li>CMake version: 3.9.4</li>\n</ul>", "body_text": "Issue description\nProvide a short description.\nI want to build the pytorch from the soruce, and I follow the commands in README.md\nBut I met this error:\n[ 95%] Linking CXX executable ../bin/integer_divider_test\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnRestoreDropoutDescriptor'\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionGroupCount' /home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to cudnnSetConvolutionMathType'\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncollect2: error: ld returned 1 exit status\ncaffe2/CMakeFiles/tbb_init_test.dir/build.make:110: recipe for target 'bin/tbb_init_test' failed\nmake[2]: *** [bin/tbb_init_test] Error 1\ncaffe2/CMakeFiles/wrapdim_test.dir/build.make:110: recipe for target 'bin/wrapdim_test' failed\nmake[2]: *** [bin/wrapdim_test] Error 1\ncaffe2/CMakeFiles/integer_divider_test.dir/build.make:456: recipe for target 'bin/integer_divider_test' failed\ncaffe2/CMakeFiles/undefined_tensor_test.dir/build.make:110: recipe for target 'bin/undefined_tensor_test' failed\nmake[2]: *** [bin/integer_divider_test] Error 1\nmake[2]: *** [bin/undefined_tensor_test] Error 1\ncaffe2/CMakeFiles/apply_test.dir/build.make:112: recipe for target 'bin/apply_test' failed\ncaffe2/CMakeFiles/verify_api_visibility.dir/build.make:110: recipe for target 'bin/verify_api_visibility' failed\nmake[2]: *** [bin/apply_test] Error 1\nmake[2]: *** [bin/verify_api_visibility] Error 1\ncaffe2/CMakeFiles/scalar_tensor_test.dir/build.make:110: recipe for target 'bin/scalar_tensor_test' failed\nmake[2]: *** [bin/scalar_tensor_test] Error 1\nCMakeFiles/Makefile2:882: recipe for target 'caffe2/CMakeFiles/tbb_init_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/tbb_init_test.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nCMakeFiles/Makefile2:958: recipe for target 'caffe2/CMakeFiles/verify_api_visibility.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/verify_api_visibility.dir/all] Error 2\nCMakeFiles/Makefile2:996: recipe for target 'caffe2/CMakeFiles/undefined_tensor_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/undefined_tensor_test.dir/all] Error 2\nCMakeFiles/Makefile2:1072: recipe for target 'caffe2/CMakeFiles/wrapdim_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/wrapdim_test.dir/all] Error 2\nCMakeFiles/Makefile2:806: recipe for target 'caffe2/CMakeFiles/apply_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/apply_test.dir/all] Error 2\nCMakeFiles/Makefile2:1034: recipe for target 'caffe2/CMakeFiles/scalar_tensor_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/scalar_tensor_test.dir/all] Error 2\nCMakeFiles/Makefile2:844: recipe for target 'caffe2/CMakeFiles/integer_divider_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2\ncaffe2/CMakeFiles/cudnn_test.dir/build.make:112: recipe for target 'bin/cudnn_test' failed\nmake[2]: *** [bin/cudnn_test] Error 1\nCMakeFiles/Makefile2:920: recipe for target 'caffe2/CMakeFiles/cudnn_test.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/cudnn_test.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack --with-mkldnn nccl caffe2 nanopb libshm gloo THD'\n\nPyTorch or Caffe2:\nHow you installed PyTorch (conda, pip, source): source\nBuild command you used (if compiling from source):\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]\nconda install numpy pyyaml mkl mkl-include setuptools cmake cffi typing\nconda install -c mingfeima mkldnn\nconda install -c pytorch magma-cuda80 # or magma-cuda90 if CUDA 9\nOS: Ubuntu16.04\nPython version: 3.6\nCUDA/cuDNN version: 8.0\nGPU models and configuration: GPU\nGCC version (if compiling from source): 5.4\nCMake version: 3.9.4", "body": "## Issue description\r\n\r\nProvide a short description.\r\nI want to build the pytorch from the soruce, and I follow the commands in README.md\r\nBut I met this error:\r\n[ 95%] Linking CXX executable ../bin/integer_divider_test\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnRestoreDropoutDescriptor'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionGroupCount'\r\n/home/lxt/pytorch/build/lib/libcaffe2_gpu.so.1: undefined reference to `cudnnSetConvolutionMathType'\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncollect2: error: ld returned 1 exit status\r\ncaffe2/CMakeFiles/tbb_init_test.dir/build.make:110: recipe for target 'bin/tbb_init_test' failed\r\nmake[2]: *** [bin/tbb_init_test] Error 1\r\ncaffe2/CMakeFiles/wrapdim_test.dir/build.make:110: recipe for target 'bin/wrapdim_test' failed\r\nmake[2]: *** [bin/wrapdim_test] Error 1\r\ncaffe2/CMakeFiles/integer_divider_test.dir/build.make:456: recipe for target 'bin/integer_divider_test' failed\r\ncaffe2/CMakeFiles/undefined_tensor_test.dir/build.make:110: recipe for target 'bin/undefined_tensor_test' failed\r\nmake[2]: *** [bin/integer_divider_test] Error 1\r\nmake[2]: *** [bin/undefined_tensor_test] Error 1\r\ncaffe2/CMakeFiles/apply_test.dir/build.make:112: recipe for target 'bin/apply_test' failed\r\ncaffe2/CMakeFiles/verify_api_visibility.dir/build.make:110: recipe for target 'bin/verify_api_visibility' failed\r\nmake[2]: *** [bin/apply_test] Error 1\r\nmake[2]: *** [bin/verify_api_visibility] Error 1\r\ncaffe2/CMakeFiles/scalar_tensor_test.dir/build.make:110: recipe for target 'bin/scalar_tensor_test' failed\r\nmake[2]: *** [bin/scalar_tensor_test] Error 1\r\nCMakeFiles/Makefile2:882: recipe for target 'caffe2/CMakeFiles/tbb_init_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/tbb_init_test.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\nCMakeFiles/Makefile2:958: recipe for target 'caffe2/CMakeFiles/verify_api_visibility.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/verify_api_visibility.dir/all] Error 2\r\nCMakeFiles/Makefile2:996: recipe for target 'caffe2/CMakeFiles/undefined_tensor_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/undefined_tensor_test.dir/all] Error 2\r\nCMakeFiles/Makefile2:1072: recipe for target 'caffe2/CMakeFiles/wrapdim_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/wrapdim_test.dir/all] Error 2\r\nCMakeFiles/Makefile2:806: recipe for target 'caffe2/CMakeFiles/apply_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/apply_test.dir/all] Error 2\r\nCMakeFiles/Makefile2:1034: recipe for target 'caffe2/CMakeFiles/scalar_tensor_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/scalar_tensor_test.dir/all] Error 2\r\nCMakeFiles/Makefile2:844: recipe for target 'caffe2/CMakeFiles/integer_divider_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2\r\ncaffe2/CMakeFiles/cudnn_test.dir/build.make:112: recipe for target 'bin/cudnn_test' failed\r\nmake[2]: *** [bin/cudnn_test] Error 1\r\nCMakeFiles/Makefile2:920: recipe for target 'caffe2/CMakeFiles/cudnn_test.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/cudnn_test.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nFailed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack --with-mkldnn nccl caffe2 nanopb libshm gloo THD'\r\n\r\n- PyTorch or Caffe2:\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Build command you used (if compiling from source): \r\nexport CMAKE_PREFIX_PATH=\"$(dirname $(which conda))/../\" # [anaconda root directory]\r\nconda install numpy pyyaml mkl mkl-include setuptools cmake cffi typing\r\nconda install -c mingfeima mkldnn\r\nconda install -c pytorch magma-cuda80 # or magma-cuda90 if CUDA 9\r\n- OS: Ubuntu16.04\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: 8.0\r\n- GPU models and configuration: GPU\r\n- GCC version (if compiling from source): 5.4\r\n- CMake version: 3.9.4\r\n"}