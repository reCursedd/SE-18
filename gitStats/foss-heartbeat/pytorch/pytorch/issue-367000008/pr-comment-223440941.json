{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/223440941", "pull_request_review_id": 162568071, "id": 223440941, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzQ0MDk0MQ==", "diff_hunk": "@@ -363,6 +346,37 @@ Resolver pythonResolver(ResolutionCallback rcb) {\n   };\n }\n \n+FunctionSchema getSchemaWithDefaults(\n+    std::unordered_map<std::string, py::object>& default_args,\n+    FunctionSchema& schema) {\n+  std::vector<Argument> new_args;\n+  for (auto& arg : schema.arguments) {\n+    auto it = default_args.find(arg.name);\n+    if (it != default_args.end()) {\n+      IValue value = *constantToIValue(it->second);\n+      if (arg.type->isSubtypeOf(DynamicType::get()) && value.isScalar()) {", "path": "torch/csrc/jit/script/init.cpp", "position": null, "original_position": 57, "commit_id": "ad0fd0df8b73298b60bec38f6b30986e498494a2", "original_commit_id": "7bd9670ecc38c2793959ad0d426f15d5b3bbac6b", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "Why is this needed? We don't convert things to tensors by default in other cases, and in Python these numbers will be scalars not tensors on entry to the function. ", "created_at": "2018-10-08T17:25:18Z", "updated_at": "2018-11-23T15:52:35Z", "html_url": "https://github.com/pytorch/pytorch/pull/12345#discussion_r223440941", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12345", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/223440941"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12345#discussion_r223440941"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12345"}}, "body_html": "<p>Why is this needed? We don't convert things to tensors by default in other cases, and in Python these numbers will be scalars not tensors on entry to the function.</p>", "body_text": "Why is this needed? We don't convert things to tensors by default in other cases, and in Python these numbers will be scalars not tensors on entry to the function."}