{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/340538327", "html_url": "https://github.com/pytorch/pytorch/issues/3292#issuecomment-340538327", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3292", "id": 340538327, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDUzODMyNw==", "user": {"login": "eLvErDe", "id": 1586757, "node_id": "MDQ6VXNlcjE1ODY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1586757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eLvErDe", "html_url": "https://github.com/eLvErDe", "followers_url": "https://api.github.com/users/eLvErDe/followers", "following_url": "https://api.github.com/users/eLvErDe/following{/other_user}", "gists_url": "https://api.github.com/users/eLvErDe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eLvErDe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eLvErDe/subscriptions", "organizations_url": "https://api.github.com/users/eLvErDe/orgs", "repos_url": "https://api.github.com/users/eLvErDe/repos", "events_url": "https://api.github.com/users/eLvErDe/events{/privacy}", "received_events_url": "https://api.github.com/users/eLvErDe/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-30T18:22:12Z", "updated_at": "2017-10-30T18:22:12Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi there,</p>\n<p>Here's the resulting .so file using mpi symbols but not being linked:</p>\n<pre><code>root@nsc-srve:~/pytorch-0.2.0# strings debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so | grep -i ompi_mpi\nompi_mpi_comm_world\nompi_mpi_uint64_t\nompi_mpi_uint8_t\nompi_mpi_comm_null\nompi_mpi_int\nompi_mpi_char\nompi_mpi_unsigned_char\nompi_mpi_float\nompi_mpi_double\nompi_mpi_short\nompi_mpi_unsigned_short\nompi_mpi_unsigned\nompi_mpi_long\nompi_mpi_unsigned_long\nompi_mpi_long_long_int\nompi_mpi_unsigned_long_long\nompi_mpi_op_min\nompi_mpi_op_max\nompi_mpi_op_sum\nompi_mpi_op_prod\nroot@nsc-srve:~/pytorch-0.2.0# ldd debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so\n        linux-vdso.so.1 (0x00007ffcff3fd000)\n        /usr/lib/cowdancer/libcowdancer.so (0x00007f70d33a0000)\n        libshm.so =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007f70d3199000)\n        libTH.so.1 =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007f70d2b03000)\n        libTHS.so.1 =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHS.so.1 (0x00007f70d28d3000)\n        libTHPP.so.1 =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHPP.so.1 (0x00007f70d25fc000)\n        libTHNN.so.1 =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHNN.so.1 (0x00007f70d22d6000)\n        libATen.so.1 =&gt; /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libATen.so.1 (0x00007f70d1e1a000)\n        libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f70d1bfd000)\n        libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f70d19e0000)\n        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f70d1641000)\n        /lib64/ld-linux-x86-64.so.2 (0x000055ff0d9e6000)\n        libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f70d143b000)\n        libncurses.so.5 =&gt; /lib/x86_64-linux-gnu/libncurses.so.5 (0x00007f70d1218000)\n        libtinfo.so.5 =&gt; /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f70d0fee000)\n        librt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007f70d0de6000)\n        libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f70d0a64000)\n        libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f70d0760000)\n        libgomp.so.1 =&gt; /usr/lib/x86_64-linux-gnu/libgomp.so.1 (0x00007f70d0531000)\n</code></pre>", "body_text": "Hi there,\nHere's the resulting .so file using mpi symbols but not being linked:\nroot@nsc-srve:~/pytorch-0.2.0# strings debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so | grep -i ompi_mpi\nompi_mpi_comm_world\nompi_mpi_uint64_t\nompi_mpi_uint8_t\nompi_mpi_comm_null\nompi_mpi_int\nompi_mpi_char\nompi_mpi_unsigned_char\nompi_mpi_float\nompi_mpi_double\nompi_mpi_short\nompi_mpi_unsigned_short\nompi_mpi_unsigned\nompi_mpi_long\nompi_mpi_unsigned_long\nompi_mpi_long_long_int\nompi_mpi_unsigned_long_long\nompi_mpi_op_min\nompi_mpi_op_max\nompi_mpi_op_sum\nompi_mpi_op_prod\nroot@nsc-srve:~/pytorch-0.2.0# ldd debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so\n        linux-vdso.so.1 (0x00007ffcff3fd000)\n        /usr/lib/cowdancer/libcowdancer.so (0x00007f70d33a0000)\n        libshm.so => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007f70d3199000)\n        libTH.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007f70d2b03000)\n        libTHS.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHS.so.1 (0x00007f70d28d3000)\n        libTHPP.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHPP.so.1 (0x00007f70d25fc000)\n        libTHNN.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHNN.so.1 (0x00007f70d22d6000)\n        libATen.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libATen.so.1 (0x00007f70d1e1a000)\n        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f70d1bfd000)\n        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f70d19e0000)\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f70d1641000)\n        /lib64/ld-linux-x86-64.so.2 (0x000055ff0d9e6000)\n        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f70d143b000)\n        libncurses.so.5 => /lib/x86_64-linux-gnu/libncurses.so.5 (0x00007f70d1218000)\n        libtinfo.so.5 => /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f70d0fee000)\n        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f70d0de6000)\n        libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f70d0a64000)\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f70d0760000)\n        libgomp.so.1 => /usr/lib/x86_64-linux-gnu/libgomp.so.1 (0x00007f70d0531000)", "body": "Hi there,\r\n\r\nHere's the resulting .so file using mpi symbols but not being linked:\r\n\r\n```\r\nroot@nsc-srve:~/pytorch-0.2.0# strings debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so | grep -i ompi_mpi\r\nompi_mpi_comm_world\r\nompi_mpi_uint64_t\r\nompi_mpi_uint8_t\r\nompi_mpi_comm_null\r\nompi_mpi_int\r\nompi_mpi_char\r\nompi_mpi_unsigned_char\r\nompi_mpi_float\r\nompi_mpi_double\r\nompi_mpi_short\r\nompi_mpi_unsigned_short\r\nompi_mpi_unsigned\r\nompi_mpi_long\r\nompi_mpi_unsigned_long\r\nompi_mpi_long_long_int\r\nompi_mpi_unsigned_long_long\r\nompi_mpi_op_min\r\nompi_mpi_op_max\r\nompi_mpi_op_sum\r\nompi_mpi_op_prod\r\nroot@nsc-srve:~/pytorch-0.2.0# ldd debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/_C.x86_64-linux-gnu.so\r\n        linux-vdso.so.1 (0x00007ffcff3fd000)\r\n        /usr/lib/cowdancer/libcowdancer.so (0x00007f70d33a0000)\r\n        libshm.so => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007f70d3199000)\r\n        libTH.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007f70d2b03000)\r\n        libTHS.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHS.so.1 (0x00007f70d28d3000)\r\n        libTHPP.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHPP.so.1 (0x00007f70d25fc000)\r\n        libTHNN.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libTHNN.so.1 (0x00007f70d22d6000)\r\n        libATen.so.1 => /root/pytorch-0.2.0/debian/python-torch-avx-sse42/usr/lib/python2.7/dist-packages/torch/lib/libATen.so.1 (0x00007f70d1e1a000)\r\n        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f70d1bfd000)\r\n        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f70d19e0000)\r\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f70d1641000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x000055ff0d9e6000)\r\n        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f70d143b000)\r\n        libncurses.so.5 => /lib/x86_64-linux-gnu/libncurses.so.5 (0x00007f70d1218000)\r\n        libtinfo.so.5 => /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f70d0fee000)\r\n        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f70d0de6000)\r\n        libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f70d0a64000)\r\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f70d0760000)\r\n        libgomp.so.1 => /usr/lib/x86_64-linux-gnu/libgomp.so.1 (0x00007f70d0531000)\r\n```"}