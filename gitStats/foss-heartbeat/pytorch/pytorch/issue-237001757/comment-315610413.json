{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/315610413", "html_url": "https://github.com/pytorch/pytorch/issues/1848#issuecomment-315610413", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1848", "id": 315610413, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTYxMDQxMw==", "user": {"login": "howard0su", "id": 766788, "node_id": "MDQ6VXNlcjc2Njc4OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/766788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howard0su", "html_url": "https://github.com/howard0su", "followers_url": "https://api.github.com/users/howard0su/followers", "following_url": "https://api.github.com/users/howard0su/following{/other_user}", "gists_url": "https://api.github.com/users/howard0su/gists{/gist_id}", "starred_url": "https://api.github.com/users/howard0su/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howard0su/subscriptions", "organizations_url": "https://api.github.com/users/howard0su/orgs", "repos_url": "https://api.github.com/users/howard0su/repos", "events_url": "https://api.github.com/users/howard0su/events{/privacy}", "received_events_url": "https://api.github.com/users/howard0su/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-16T13:51:00Z", "updated_at": "2017-07-16T13:51:00Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I happened run to this as well. I use the same python script to repro under gdb. here is output:<br>\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.<br>\nPyObject_IsInstance () at ../Objects/abstract.c:2947<br>\n2947\t../Objects/abstract.c: No such file or directory.<br>\n(gdb) where<br>\n#0  PyObject_IsInstance () at ../Objects/abstract.c:2947<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171281708\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/1/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/1\">#1</a>  0x00007fffcbaedb9c in THPFunction_new (type=, args=, kwargs=)<br>\nat torch/csrc/autograd/python_function.cpp:299<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171402941\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/2/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/2\">#2</a>  0x00000000004b6693 in type_call.lto_priv () at ../Objects/typeobject.c:749<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171485123\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3\">#3</a>  0x00000000004b0cb3 in PyObject_Call () at ../Objects/abstract.c:2546<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171522963\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4\">#4</a>  0x00000000004c9faf in do_call (nk=, na=3, pp_stack=0x7fffffffdf00, func=0xae6df0) at ../Python/ceval.c:4567<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"173498149\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5\">#5</a>  call_function (oparg=, pp_stack=0x7fffffffdf00) at ../Python/ceval.c:4372<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174289461\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/6\">#6</a>  PyEval_EvalFrameEx () at ../Python/ceval.c:2987<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174818921\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/7/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/7\">#7</a>  0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174871471\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/8/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/8\">#8</a>  0x00000000004ca099 in fast_function (nk=0, na=, n=, pp_stack=0x7fffffffe110, func=0x7fff85093b18)<br>\nat ../Python/ceval.c:4445<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175537036\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/9/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/9\">#9</a>  call_function (oparg=, pp_stack=0x7fffffffe110) at ../Python/ceval.c:4370<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175552272\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/10/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/10\">#10</a> PyEval_EvalFrameEx () at ../Python/ceval.c:2987<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559413\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11\">#11</a> 0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559558\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12\">#12</a> 0x00000000004c2509 in PyEval_EvalCode (co=, globals=, locals=) at ../Python/ceval.c:669<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175567843\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/13\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/13/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/13\">#13</a> 0x00000000004f1def in run_mod.lto_priv () at ../Python/pythonrun.c:1376<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175574237\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/14\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/14/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/14\">#14</a> 0x00000000004ec652 in PyRun_FileExFlags () at ../Python/pythonrun.c:1362<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175627398\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/15\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/15/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/15\">#15</a> 0x00000000004eae31 in PyRun_SimpleFileExFlags () at ../Python/pythonrun.c:948<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175834985\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/16/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/16\">#16</a> 0x000000000049e14a in Py_Main () at ../Modules/main.c:640<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175835445\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/17/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/17\">#17</a> 0x00007ffff7810830 in __libc_start_main (main=0x49dab0 </p>, argc=3, argv=0x7fffffffe558, init=, fini=,<br>\nrtld_fini=, stack_end=0x7fffffffe548) at ../csu/libc-start.c:291<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176034421\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/18/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/18\">#18</a> 0x000000000049d9d9 in _start ()<br>\n(gdb) up<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171281708\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/1/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/1\">#1</a>  0x00007fffcbaedb9c in THPFunction_new (type=, args=, kwargs=)<br>\nat torch/csrc/autograd/python_function.cpp:299<br>\n299\t  self-&gt;cdata.is_stochastic = PyObject_IsInstance(obj, THPStochasticFunctionClass);<br>\n(gdb) info locals<br>\nobj = 0x7fffcdc4caa0<br>\nself = 0x7fffcdc4caa0<br>\n(gdb) p obj<br>\n$1 = (PyObject *) 0x7fffcdc4caa0<br>\n(gdb) p *obj<br>\n$2 = {<br>\nob_refcnt = 1,<br>\nob_type = 0xae6df0<br>\n}<br>\n(gdb) p *self<br>\n$3 = {<br>\nob_refcnt = 1,<br>\nob_type = 0xae6df0,<br>\nneeds_input_grad = 0x0,<br>\nto_save = 0x0,<br>\nshared_pairs = 0x0,<br>\nnon_differentiable = 0x0,<br>\ndirty_tensors = 0x0,<br>\noutput_info = 0x0,<br>\nsaved_variables = 0x0,<br>\nis_variable_input = 0x0,<br>\nhas_freed_buffers = 0 '\\000',<br>\ncdata = {<br>\ntorch::autograd::Function = {<br>\n_vptr.Function = 0x7fffcc90c780 &lt;vtable for torch::autograd::PyFunction+16&gt;,<br>\nnum_inputs = -1,<br>\nnext_functions = std::vector of length 0, capacity 0,<br>\nis_executable = false,<br>\nis_stochastic = false,<br>\npre_hooks = std::vector of length 0, capacity 0,<br>\npost_hooks = std::vector of length 0, capacity 0<br>\n},<br>\nmembers of torch::autograd::PyFunction:<br>\nobj = 0x7fffcdc4caa0<br>\n}<br>\n}<p></p>", "body_text": "I happened run to this as well. I use the same python script to repro under gdb. here is output:\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\nPyObject_IsInstance () at ../Objects/abstract.c:2947\n2947\t../Objects/abstract.c: No such file or directory.\n(gdb) where\n#0  PyObject_IsInstance () at ../Objects/abstract.c:2947\n#1  0x00007fffcbaedb9c in THPFunction_new (type=, args=, kwargs=)\nat torch/csrc/autograd/python_function.cpp:299\n#2  0x00000000004b6693 in type_call.lto_priv () at ../Objects/typeobject.c:749\n#3  0x00000000004b0cb3 in PyObject_Call () at ../Objects/abstract.c:2546\n#4  0x00000000004c9faf in do_call (nk=, na=3, pp_stack=0x7fffffffdf00, func=0xae6df0) at ../Python/ceval.c:4567\n#5  call_function (oparg=, pp_stack=0x7fffffffdf00) at ../Python/ceval.c:4372\n#6  PyEval_EvalFrameEx () at ../Python/ceval.c:2987\n#7  0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582\n#8  0x00000000004ca099 in fast_function (nk=0, na=, n=, pp_stack=0x7fffffffe110, func=0x7fff85093b18)\nat ../Python/ceval.c:4445\n#9  call_function (oparg=, pp_stack=0x7fffffffe110) at ../Python/ceval.c:4370\n#10 PyEval_EvalFrameEx () at ../Python/ceval.c:2987\n#11 0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582\n#12 0x00000000004c2509 in PyEval_EvalCode (co=, globals=, locals=) at ../Python/ceval.c:669\n#13 0x00000000004f1def in run_mod.lto_priv () at ../Python/pythonrun.c:1376\n#14 0x00000000004ec652 in PyRun_FileExFlags () at ../Python/pythonrun.c:1362\n#15 0x00000000004eae31 in PyRun_SimpleFileExFlags () at ../Python/pythonrun.c:948\n#16 0x000000000049e14a in Py_Main () at ../Modules/main.c:640\n#17 0x00007ffff7810830 in __libc_start_main (main=0x49dab0 , argc=3, argv=0x7fffffffe558, init=, fini=,\nrtld_fini=, stack_end=0x7fffffffe548) at ../csu/libc-start.c:291\n#18 0x000000000049d9d9 in _start ()\n(gdb) up\n#1  0x00007fffcbaedb9c in THPFunction_new (type=, args=, kwargs=)\nat torch/csrc/autograd/python_function.cpp:299\n299\t  self->cdata.is_stochastic = PyObject_IsInstance(obj, THPStochasticFunctionClass);\n(gdb) info locals\nobj = 0x7fffcdc4caa0\nself = 0x7fffcdc4caa0\n(gdb) p obj\n$1 = (PyObject *) 0x7fffcdc4caa0\n(gdb) p *obj\n$2 = {\nob_refcnt = 1,\nob_type = 0xae6df0\n}\n(gdb) p *self\n$3 = {\nob_refcnt = 1,\nob_type = 0xae6df0,\nneeds_input_grad = 0x0,\nto_save = 0x0,\nshared_pairs = 0x0,\nnon_differentiable = 0x0,\ndirty_tensors = 0x0,\noutput_info = 0x0,\nsaved_variables = 0x0,\nis_variable_input = 0x0,\nhas_freed_buffers = 0 '\\000',\ncdata = {\ntorch::autograd::Function = {\n_vptr.Function = 0x7fffcc90c780 <vtable for torch::autograd::PyFunction+16>,\nnum_inputs = -1,\nnext_functions = std::vector of length 0, capacity 0,\nis_executable = false,\nis_stochastic = false,\npre_hooks = std::vector of length 0, capacity 0,\npost_hooks = std::vector of length 0, capacity 0\n},\nmembers of torch::autograd::PyFunction:\nobj = 0x7fffcdc4caa0\n}\n}", "body": "I happened run to this as well. I use the same python script to repro under gdb. here is output:\r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\nPyObject_IsInstance () at ../Objects/abstract.c:2947\r\n2947\t../Objects/abstract.c: No such file or directory.\r\n(gdb) where\r\n#0  PyObject_IsInstance () at ../Objects/abstract.c:2947\r\n#1  0x00007fffcbaedb9c in THPFunction_new (type=<optimized out>, args=<optimized out>, kwargs=<optimized out>)\r\n    at torch/csrc/autograd/python_function.cpp:299\r\n#2  0x00000000004b6693 in type_call.lto_priv () at ../Objects/typeobject.c:749\r\n#3  0x00000000004b0cb3 in PyObject_Call () at ../Objects/abstract.c:2546\r\n#4  0x00000000004c9faf in do_call (nk=<optimized out>, na=3, pp_stack=0x7fffffffdf00, func=0xae6df0) at ../Python/ceval.c:4567\r\n#5  call_function (oparg=<optimized out>, pp_stack=0x7fffffffdf00) at ../Python/ceval.c:4372\r\n#6  PyEval_EvalFrameEx () at ../Python/ceval.c:2987\r\n#7  0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582\r\n#8  0x00000000004ca099 in fast_function (nk=0, na=<optimized out>, n=<optimized out>, pp_stack=0x7fffffffe110, func=0x7fff85093b18)\r\n    at ../Python/ceval.c:4445\r\n#9  call_function (oparg=<optimized out>, pp_stack=0x7fffffffe110) at ../Python/ceval.c:4370\r\n#10 PyEval_EvalFrameEx () at ../Python/ceval.c:2987\r\n#11 0x00000000004c2765 in PyEval_EvalCodeEx () at ../Python/ceval.c:3582\r\n#12 0x00000000004c2509 in PyEval_EvalCode (co=<optimized out>, globals=<optimized out>, locals=<optimized out>) at ../Python/ceval.c:669\r\n#13 0x00000000004f1def in run_mod.lto_priv () at ../Python/pythonrun.c:1376\r\n#14 0x00000000004ec652 in PyRun_FileExFlags () at ../Python/pythonrun.c:1362\r\n#15 0x00000000004eae31 in PyRun_SimpleFileExFlags () at ../Python/pythonrun.c:948\r\n#16 0x000000000049e14a in Py_Main () at ../Modules/main.c:640\r\n#17 0x00007ffff7810830 in __libc_start_main (main=0x49dab0 <main>, argc=3, argv=0x7fffffffe558, init=<optimized out>, fini=<optimized out>,\r\n    rtld_fini=<optimized out>, stack_end=0x7fffffffe548) at ../csu/libc-start.c:291\r\n#18 0x000000000049d9d9 in _start ()\r\n(gdb) up\r\n#1  0x00007fffcbaedb9c in THPFunction_new (type=<optimized out>, args=<optimized out>, kwargs=<optimized out>)\r\n    at torch/csrc/autograd/python_function.cpp:299\r\n299\t  self->cdata.is_stochastic = PyObject_IsInstance(obj, THPStochasticFunctionClass);\r\n(gdb) info locals\r\nobj = 0x7fffcdc4caa0\r\nself = 0x7fffcdc4caa0\r\n(gdb) p obj\r\n$1 = (PyObject *) 0x7fffcdc4caa0\r\n(gdb) p *obj\r\n$2 = {\r\n  ob_refcnt = 1,\r\n  ob_type = 0xae6df0\r\n}\r\n(gdb) p *self\r\n$3 = {\r\n  ob_refcnt = 1,\r\n  ob_type = 0xae6df0,\r\n  needs_input_grad = 0x0,\r\n  to_save = 0x0,\r\n  shared_pairs = 0x0,\r\n  non_differentiable = 0x0,\r\n  dirty_tensors = 0x0,\r\n  output_info = 0x0,\r\n  saved_variables = 0x0,\r\n  is_variable_input = 0x0,\r\n  has_freed_buffers = 0 '\\000',\r\n  cdata = {\r\n    <torch::autograd::Function> = {\r\n      _vptr.Function = 0x7fffcc90c780 <vtable for torch::autograd::PyFunction+16>,\r\n      num_inputs = -1,\r\n      next_functions = std::vector of length 0, capacity 0,\r\n      is_executable = false,\r\n      is_stochastic = false,\r\n      pre_hooks = std::vector of length 0, capacity 0,\r\n      post_hooks = std::vector of length 0, capacity 0\r\n    },\r\n    members of torch::autograd::PyFunction:\r\n    obj = 0x7fffcdc4caa0\r\n  }\r\n}"}