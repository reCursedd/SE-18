{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7079", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7079/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7079/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7079/events", "html_url": "https://github.com/pytorch/pytorch/issues/7079", "id": 318709160, "node_id": "MDU6SXNzdWUzMTg3MDkxNjA=", "number": 7079, "title": "[BUG Report] torch.from_numpy()", "user": {"login": "JimLee1996", "id": 15334330, "node_id": "MDQ6VXNlcjE1MzM0MzMw", "avatar_url": "https://avatars2.githubusercontent.com/u/15334330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JimLee1996", "html_url": "https://github.com/JimLee1996", "followers_url": "https://api.github.com/users/JimLee1996/followers", "following_url": "https://api.github.com/users/JimLee1996/following{/other_user}", "gists_url": "https://api.github.com/users/JimLee1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/JimLee1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JimLee1996/subscriptions", "organizations_url": "https://api.github.com/users/JimLee1996/orgs", "repos_url": "https://api.github.com/users/JimLee1996/repos", "events_url": "https://api.github.com/users/JimLee1996/events{/privacy}", "received_events_url": "https://api.github.com/users/JimLee1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 553773019, "node_id": "MDU6TGFiZWw1NTM3NzMwMTk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/needs-reproduction", "name": "needs-reproduction", "color": "e99695", "default": false}, {"id": 897288569, "node_id": "MDU6TGFiZWw4OTcyODg1Njk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/pytorch", "name": "pytorch", "color": "f05732", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-04-29T11:20:40Z", "updated_at": "2018-08-06T04:42:54Z", "closed_at": "2018-04-30T14:09:34Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>It may take a long time to run, sometimes even causes python kernel die when using function <code>torch.from_numpy()</code> to convert int32 nd.array to torch.Tensor.(float64 is not effected. that's weird)</p>\n<h2>Code example</h2>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">import</span> torch\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> normal </span>\na <span class=\"pl-k\">=</span> np.random.randn(<span class=\"pl-c1\">41</span>, <span class=\"pl-c1\">288</span>, <span class=\"pl-c1\">360</span>, <span class=\"pl-c1\">3</span>)\ntorch.from_numpy(a)\n\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> gg, slow or dead</span>\nb <span class=\"pl-k\">=</span> np.random.randint(<span class=\"pl-c1\">10</span>, <span class=\"pl-v\">size</span><span class=\"pl-k\">=</span>(<span class=\"pl-c1\">41</span>, <span class=\"pl-c1\">288</span>, <span class=\"pl-c1\">360</span>, <span class=\"pl-c1\">3</span>))\ntorch.from_numpy(b)</pre></div>\n<h2>System Info</h2>\n<ul>\n<li>PyTorch</li>\n<li>pip</li>\n<li>Windows10 ltsb 2015</li>\n<li>PyTorch version: 0.4.0</li>\n<li>Python version: 3.6.4</li>\n<li>CUDA/cuDNN version: not use</li>\n<li>GPU models and configuration: not use</li>\n</ul>\n<h2>Additions</h2>\n<ul>\n<li>\n<p>I've also tested on Mac 10.11.6 and Ubuntu 16.04. The same problem occurs.</p>\n</li>\n<li>\n<p>lots of numpy images' dtype=uint8. It may have bad effects on program effeciency.</p>\n</li>\n</ul>", "body_text": "Issue description\nIt may take a long time to run, sometimes even causes python kernel die when using function torch.from_numpy() to convert int32 nd.array to torch.Tensor.(float64 is not effected. that's weird)\nCode example\nimport numpy as np\nimport torch\n\n# normal \na = np.random.randn(41, 288, 360, 3)\ntorch.from_numpy(a)\n\n# gg, slow or dead\nb = np.random.randint(10, size=(41, 288, 360, 3))\ntorch.from_numpy(b)\nSystem Info\n\nPyTorch\npip\nWindows10 ltsb 2015\nPyTorch version: 0.4.0\nPython version: 3.6.4\nCUDA/cuDNN version: not use\nGPU models and configuration: not use\n\nAdditions\n\n\nI've also tested on Mac 10.11.6 and Ubuntu 16.04. The same problem occurs.\n\n\nlots of numpy images' dtype=uint8. It may have bad effects on program effeciency.", "body": "## Issue description\r\n\r\nIt may take a long time to run, sometimes even causes python kernel die when using function `torch.from_numpy()` to convert int32 nd.array to torch.Tensor.(float64 is not effected. that's weird)\r\n\r\n## Code example\r\n\r\n```python\r\nimport numpy as np\r\nimport torch\r\n\r\n# normal \r\na = np.random.randn(41, 288, 360, 3)\r\ntorch.from_numpy(a)\r\n\r\n# gg, slow or dead\r\nb = np.random.randint(10, size=(41, 288, 360, 3))\r\ntorch.from_numpy(b)\r\n```\r\n\r\n## System Info\r\n\r\n- PyTorch\r\n- pip\r\n- Windows10 ltsb 2015 \r\n- PyTorch version: 0.4.0\r\n- Python version: 3.6.4\r\n- CUDA/cuDNN version: not use\r\n- GPU models and configuration: not use\r\n\r\n## Additions\r\n\r\n- I've also tested on Mac 10.11.6 and Ubuntu 16.04. The same problem occurs.\r\n\r\n- lots of numpy images' dtype=uint8. It may have bad effects on program effeciency.\r\n\r\n\r\n\r\n\r\n\r\n"}