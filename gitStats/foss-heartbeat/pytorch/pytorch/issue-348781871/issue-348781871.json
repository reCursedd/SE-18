{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10353", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10353/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10353/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10353/events", "html_url": "https://github.com/pytorch/pytorch/issues/10353", "id": 348781871, "node_id": "MDU6SXNzdWUzNDg3ODE4NzE=", "number": 10353, "title": "ATen Core Headers Were Installed to ATen/core/core/*.h instead of ATen/core/*.h", "user": {"login": "huanghoujing", "id": 13362456, "node_id": "MDQ6VXNlcjEzMzYyNDU2", "avatar_url": "https://avatars2.githubusercontent.com/u/13362456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huanghoujing", "html_url": "https://github.com/huanghoujing", "followers_url": "https://api.github.com/users/huanghoujing/followers", "following_url": "https://api.github.com/users/huanghoujing/following{/other_user}", "gists_url": "https://api.github.com/users/huanghoujing/gists{/gist_id}", "starred_url": "https://api.github.com/users/huanghoujing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huanghoujing/subscriptions", "organizations_url": "https://api.github.com/users/huanghoujing/orgs", "repos_url": "https://api.github.com/users/huanghoujing/repos", "events_url": "https://api.github.com/users/huanghoujing/events{/privacy}", "received_events_url": "https://api.github.com/users/huanghoujing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-08-08T15:39:38Z", "updated_at": "2018-08-13T16:27:30Z", "closed_at": "2018-08-13T16:27:30Z", "author_association": "NONE", "body_html": "<h2>Issue Description</h2>\n<p>I git clone pytorch to <code>$PYTORCH_HOME</code>, and installed it using cmake to directory <code>$PYTORCH_HOME/build/install</code>. The ATen core headers were installed to <code>$PYTORCH_HOME/build/install/include/ATen/core/core/*.h</code> instead of <code>$PYTORCH_HOME/build/install/include/ATen/core/*.h</code> (<strong>I think this is abnormal, because compiling custom operators requires <code>&lt;ATen/core/*.h&gt;</code>. See below.</strong>).</p>\n<p>The result of <code>tree $PYTORCH_HOME/build/install/include/ATen</code>:</p>\n<pre><code>ATen\n`-- core\n    `-- core\n        |-- AlignOf.h\n        |-- ArrayRef.h\n        |-- ATenCoreTest.h\n        |-- Backtrace.h\n        |-- C++17.h\n        |-- CoreAPI.h\n        |-- DeviceType.h\n        |-- Error.h\n        |-- Half.h\n        |-- Half-inl.h\n        |-- IdWrapper.h\n        |-- intrusive_ptr.h\n        |-- optional.h\n        |-- SmallVector.h\n        `-- UniqueVoidPtr.h\n</code></pre>\n<p>In the <a href=\"https://github.com/facebookresearch/DensePose\">DensePose</a> project which uses Caffe2, when I built custom operators:</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> In DensePose project</span>\nmkdir build <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-c1\">cd</span> build\ncmake .. -DCaffe2_DIR=<span class=\"pl-smi\">$PYTORCH_HOME</span>/build/install/share/cmake/Caffe2\nmake</pre></div>\n<p>The <code>make</code> command threw error of not finding <code>&lt;ATen/core/Error.h&gt;</code> for <code>caffe2/core/logging.h</code>:</p>\n<pre><code>Scanning dependencies of target caffe2_detectron_custom_ops\n[ 12%] Building CXX object CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o\nIn file included from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/allocator.h:6:0,\n                 from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/context.h:9,\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.h:13,\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.cc:10:\n/home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/logging.h:10:29: fatal error: ATen/core/Error.h: No such file or directory\n #include &lt;ATen/core/Error.h&gt;\n                             ^\ncompilation terminated.\nmake[2]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o] Error 1\nmake[1]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>\n<p>I found these lines in file <code>$PYTORCH_HOME/build/install_manifest.txt</code>:</p>\n<pre><code>/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ATenCoreTest.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/AlignOf.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ArrayRef.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Backtrace.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/C++17.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/CoreAPI.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/DeviceType.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Error.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half-inl.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/IdWrapper.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/SmallVector.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/UniqueVoidPtr.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/intrusive_ptr.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/optional.h\n</code></pre>\n<h2>System Info</h2>\n<ul>\n<li>\n<p>PyTorch or Caffe2: Caffe2</p>\n</li>\n<li>\n<p>How you installed PyTorch (conda, pip, source): source, referring to <a href=\"https://caffe2.ai/docs/getting-started.html?platform=centos&amp;configuration=cloud\" rel=\"nofollow\">caffe2.ai</a></p>\n</li>\n<li>\n<p>Build command to install Pytorch/Caffe2 (if compiling from source):</p>\n<div class=\"highlight highlight-source-shell\"><pre>git clone --recursive https://github.com/pytorch/pytorch\n<span class=\"pl-c1\">cd</span> pytorch\nmkdir build <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-c1\">cd</span> build\ncmake \\\n-DCUDA_TOOLKIT_ROOT_DIR=<span class=\"pl-smi\">$HOME</span>/Software/cuda-8.0 \\\n-DCMAKE_INSTALL_PREFIX=<span class=\"pl-smi\">${PWD}</span>/install ..\nmake -j12 install</pre></div>\n</li>\n<li>\n<p>OS: CentOS Linux release 7.4.1708</p>\n</li>\n<li>\n<p>PyTorch version: master branch, commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/f57e4ce1d59aab53e48b0ae93a7ef7e9a4dc1e2e/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/f57e4ce1d59aab53e48b0ae93a7ef7e9a4dc1e2e\"><tt>f57e4ce</tt></a></p>\n</li>\n<li>\n<p>Python version: 2.7</p>\n</li>\n<li>\n<p>CUDA/cuDNN version: CUDA 8.0, cuDNN 7</p>\n</li>\n<li>\n<p>GPU models and configuration:</p>\n</li>\n<li>\n<p>GCC version (if compiling from source): 4.8.5</p>\n</li>\n<li>\n<p>CMake version: 3.12.0</p>\n</li>\n<li>\n<p>Versions of any other relevant libraries: DensePose master branch, commit <a href=\"https://github.com/facebookresearch/DensePose/tree/e118a4c352cbaf849d70f47886ce3f6cba76116e\">e118a4</a></p>\n</li>\n</ul>\n<h2>Log Files When Installing Pytorch/Caffe2</h2>\n<ul>\n<li>The log of pytorch <code>cmake ..</code>: <a href=\"https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/cmake_output_houjing.huang.txt\">log</a></li>\n<li>The log of pytorch <code>make -j12 install</code>: <a href=\"https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/make_install_output_houjing.huang.txt\">log</a></li>\n<li><a href=\"https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/install_manifest.txt\"><code>install_manifest.txt</code></a></li>\n</ul>\n<h2>Is It A BUG?</h2>\n<p>I manually copied <code>$PYTORCH_HOME/build/install/include/ATen/core/core/*.h</code> to <code>$PYTORCH_HOME/build/install/include/ATen/core/*.h</code> and then it's ok to build custom operators and run the tests.</p>\n<p>It seems a bug of Pytorch/Caffe2 <code>make install</code>?</p>", "body_text": "Issue Description\nI git clone pytorch to $PYTORCH_HOME, and installed it using cmake to directory $PYTORCH_HOME/build/install. The ATen core headers were installed to $PYTORCH_HOME/build/install/include/ATen/core/core/*.h instead of $PYTORCH_HOME/build/install/include/ATen/core/*.h (I think this is abnormal, because compiling custom operators requires <ATen/core/*.h>. See below.).\nThe result of tree $PYTORCH_HOME/build/install/include/ATen:\nATen\n`-- core\n    `-- core\n        |-- AlignOf.h\n        |-- ArrayRef.h\n        |-- ATenCoreTest.h\n        |-- Backtrace.h\n        |-- C++17.h\n        |-- CoreAPI.h\n        |-- DeviceType.h\n        |-- Error.h\n        |-- Half.h\n        |-- Half-inl.h\n        |-- IdWrapper.h\n        |-- intrusive_ptr.h\n        |-- optional.h\n        |-- SmallVector.h\n        `-- UniqueVoidPtr.h\n\nIn the DensePose project which uses Caffe2, when I built custom operators:\n# In DensePose project\nmkdir build && cd build\ncmake .. -DCaffe2_DIR=$PYTORCH_HOME/build/install/share/cmake/Caffe2\nmake\nThe make command threw error of not finding <ATen/core/Error.h> for caffe2/core/logging.h:\nScanning dependencies of target caffe2_detectron_custom_ops\n[ 12%] Building CXX object CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o\nIn file included from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/allocator.h:6:0,\n                 from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/context.h:9,\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.h:13,\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.cc:10:\n/home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/logging.h:10:29: fatal error: ATen/core/Error.h: No such file or directory\n #include <ATen/core/Error.h>\n                             ^\ncompilation terminated.\nmake[2]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o] Error 1\nmake[1]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/all] Error 2\nmake: *** [all] Error 2\n\nI found these lines in file $PYTORCH_HOME/build/install_manifest.txt:\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ATenCoreTest.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/AlignOf.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ArrayRef.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Backtrace.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/C++17.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/CoreAPI.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/DeviceType.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Error.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half-inl.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/IdWrapper.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/SmallVector.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/UniqueVoidPtr.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/intrusive_ptr.h\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/optional.h\n\nSystem Info\n\n\nPyTorch or Caffe2: Caffe2\n\n\nHow you installed PyTorch (conda, pip, source): source, referring to caffe2.ai\n\n\nBuild command to install Pytorch/Caffe2 (if compiling from source):\ngit clone --recursive https://github.com/pytorch/pytorch\ncd pytorch\nmkdir build && cd build\ncmake \\\n-DCUDA_TOOLKIT_ROOT_DIR=$HOME/Software/cuda-8.0 \\\n-DCMAKE_INSTALL_PREFIX=${PWD}/install ..\nmake -j12 install\n\n\nOS: CentOS Linux release 7.4.1708\n\n\nPyTorch version: master branch, commit f57e4ce\n\n\nPython version: 2.7\n\n\nCUDA/cuDNN version: CUDA 8.0, cuDNN 7\n\n\nGPU models and configuration:\n\n\nGCC version (if compiling from source): 4.8.5\n\n\nCMake version: 3.12.0\n\n\nVersions of any other relevant libraries: DensePose master branch, commit e118a4\n\n\nLog Files When Installing Pytorch/Caffe2\n\nThe log of pytorch cmake ..: log\nThe log of pytorch make -j12 install: log\ninstall_manifest.txt\n\nIs It A BUG?\nI manually copied $PYTORCH_HOME/build/install/include/ATen/core/core/*.h to $PYTORCH_HOME/build/install/include/ATen/core/*.h and then it's ok to build custom operators and run the tests.\nIt seems a bug of Pytorch/Caffe2 make install?", "body": "## Issue Description\r\n\r\nI git clone pytorch to `$PYTORCH_HOME`, and installed it using cmake to directory `$PYTORCH_HOME/build/install`. The ATen core headers were installed to `$PYTORCH_HOME/build/install/include/ATen/core/core/*.h` instead of `$PYTORCH_HOME/build/install/include/ATen/core/*.h` (**I think this is abnormal, because compiling custom operators requires `<ATen/core/*.h>`. See below.**).\r\n\r\nThe result of `tree $PYTORCH_HOME/build/install/include/ATen`:\r\n\r\n```\r\nATen\r\n`-- core\r\n    `-- core\r\n        |-- AlignOf.h\r\n        |-- ArrayRef.h\r\n        |-- ATenCoreTest.h\r\n        |-- Backtrace.h\r\n        |-- C++17.h\r\n        |-- CoreAPI.h\r\n        |-- DeviceType.h\r\n        |-- Error.h\r\n        |-- Half.h\r\n        |-- Half-inl.h\r\n        |-- IdWrapper.h\r\n        |-- intrusive_ptr.h\r\n        |-- optional.h\r\n        |-- SmallVector.h\r\n        `-- UniqueVoidPtr.h\r\n```\r\n\r\nIn the [DensePose](https://github.com/facebookresearch/DensePose) project which uses Caffe2, when I built custom operators:\r\n```bash\r\n# In DensePose project\r\nmkdir build && cd build\r\ncmake .. -DCaffe2_DIR=$PYTORCH_HOME/build/install/share/cmake/Caffe2\r\nmake\r\n```\r\n\r\nThe `make` command threw error of not finding `<ATen/core/Error.h>` for `caffe2/core/logging.h`:\r\n```\r\nScanning dependencies of target caffe2_detectron_custom_ops\r\n[ 12%] Building CXX object CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o\r\nIn file included from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/allocator.h:6:0,\r\n                 from /home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/context.h:9,\r\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.h:13,\r\n                 from /home/users/houjing.huang/Project/DensePose/detectron/ops/pool_points_interp.cc:10:\r\n/home/users/houjing.huang/Software/pytorch/build/install/include/caffe2/core/logging.h:10:29: fatal error: ATen/core/Error.h: No such file or directory\r\n #include <ATen/core/Error.h>\r\n                             ^\r\ncompilation terminated.\r\nmake[2]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/detectron/ops/pool_points_interp.cc.o] Error 1\r\nmake[1]: *** [CMakeFiles/caffe2_detectron_custom_ops.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```\r\n\r\nI found these lines in file `$PYTORCH_HOME/build/install_manifest.txt`:\r\n```\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ATenCoreTest.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/AlignOf.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/ArrayRef.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Backtrace.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/C++17.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/CoreAPI.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/DeviceType.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Error.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half-inl.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/Half.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/IdWrapper.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/SmallVector.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/UniqueVoidPtr.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/intrusive_ptr.h\r\n/mnt/data-1/data/houjing.huang/Software/pytorch/build/install/include/ATen/core/core/optional.h\r\n```\r\n\r\n## System Info\r\n\r\n- PyTorch or Caffe2: Caffe2\r\n- How you installed PyTorch (conda, pip, source): source, referring to [caffe2.ai](https://caffe2.ai/docs/getting-started.html?platform=centos&configuration=cloud)\r\n- Build command to install Pytorch/Caffe2 (if compiling from source): \r\n\r\n    ```bash\r\n    git clone --recursive https://github.com/pytorch/pytorch\r\n    cd pytorch\r\n    mkdir build && cd build\r\n    cmake \\\r\n    -DCUDA_TOOLKIT_ROOT_DIR=$HOME/Software/cuda-8.0 \\\r\n    -DCMAKE_INSTALL_PREFIX=${PWD}/install ..\r\n    make -j12 install\r\n    ```\r\n\r\n- OS: CentOS Linux release 7.4.1708\r\n- PyTorch version: master branch, commit f57e4ce1d59aab53e48b0ae93a7ef7e9a4dc1e2e\r\n- Python version: 2.7\r\n- CUDA/cuDNN version: CUDA 8.0, cuDNN 7\r\n- GPU models and configuration:\r\n- GCC version (if compiling from source): 4.8.5\r\n- CMake version: 3.12.0\r\n- Versions of any other relevant libraries: DensePose master branch, commit [e118a4](https://github.com/facebookresearch/DensePose/tree/e118a4c352cbaf849d70f47886ce3f6cba76116e)\r\n\r\n## Log Files When Installing Pytorch/Caffe2\r\n\r\n- The log of pytorch `cmake ..`: [log](https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/cmake_output_houjing.huang.txt)\r\n- The log of pytorch `make -j12 install`: [log](https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/make_install_output_houjing.huang.txt)\r\n- [`install_manifest.txt`](https://github.com/huanghoujing/pytorch-caffe2-cmake-log/blob/master/install_manifest.txt)\r\n\r\n## Is It A BUG?\r\n\r\nI manually copied `$PYTORCH_HOME/build/install/include/ATen/core/core/*.h` to `$PYTORCH_HOME/build/install/include/ATen/core/*.h` and then it's ok to build custom operators and run the tests.\r\n\r\nIt seems a bug of Pytorch/Caffe2 `make install`?"}