{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2953", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2953/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2953/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2953/events", "html_url": "https://github.com/pytorch/pytorch/pull/2953", "id": 262482970, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ0NDYwNTE0", "number": 2953, "title": "WIP: add numpy() and from_numpy() to HalfTensor", "user": {"login": "kohr-h", "id": 5030250, "node_id": "MDQ6VXNlcjUwMzAyNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5030250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kohr-h", "html_url": "https://github.com/kohr-h", "followers_url": "https://api.github.com/users/kohr-h/followers", "following_url": "https://api.github.com/users/kohr-h/following{/other_user}", "gists_url": "https://api.github.com/users/kohr-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/kohr-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kohr-h/subscriptions", "organizations_url": "https://api.github.com/users/kohr-h/orgs", "repos_url": "https://api.github.com/users/kohr-h/repos", "events_url": "https://api.github.com/users/kohr-h/events{/privacy}", "received_events_url": "https://api.github.com/users/kohr-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-10-03T15:53:34Z", "updated_at": "2018-11-23T15:36:11Z", "closed_at": "2017-11-08T14:01:29Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/2953", "html_url": "https://github.com/pytorch/pytorch/pull/2953", "diff_url": "https://github.com/pytorch/pytorch/pull/2953.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/2953.patch"}, "body_html": "<p>This is work in progress. I replaced the loop in the <code>COPY_FROM_ARRAY_CPU</code> macro with a <code>memcpy</code> as pointed out by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a>, and I added the entry in <code>torch/csrc/Module.cpp</code>. That makes <code>from_numpy</code> with <code>'float16</code> work as expected in first tries.<br>\nWhat I can't find is the place where the <code>tensor.numpy()</code> method is defined. I searched the repo for the string \"numpy\" but it didn't produce anything that strikes me as the obvious thing to look at. Can somebody please point me to it? Thx.</p>", "body_text": "This is work in progress. I replaced the loop in the COPY_FROM_ARRAY_CPU macro with a memcpy as pointed out by @apaszke, and I added the entry in torch/csrc/Module.cpp. That makes from_numpy with 'float16 work as expected in first tries.\nWhat I can't find is the place where the tensor.numpy() method is defined. I searched the repo for the string \"numpy\" but it didn't produce anything that strikes me as the obvious thing to look at. Can somebody please point me to it? Thx.", "body": "This is work in progress. I replaced the loop in the `COPY_FROM_ARRAY_CPU` macro with a `memcpy` as pointed out by @apaszke, and I added the entry in `torch/csrc/Module.cpp`. That makes `from_numpy` with `'float16` work as expected in first tries.\r\nWhat I can't find is the place where the `tensor.numpy()` method is defined. I searched the repo for the string \"numpy\" but it didn't produce anything that strikes me as the obvious thing to look at. Can somebody please point me to it? Thx."}