{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/334170670", "html_url": "https://github.com/pytorch/pytorch/pull/2953#issuecomment-334170670", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2953", "id": 334170670, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDE3MDY3MA==", "user": {"login": "kohr-h", "id": 5030250, "node_id": "MDQ6VXNlcjUwMzAyNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5030250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kohr-h", "html_url": "https://github.com/kohr-h", "followers_url": "https://api.github.com/users/kohr-h/followers", "following_url": "https://api.github.com/users/kohr-h/following{/other_user}", "gists_url": "https://api.github.com/users/kohr-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/kohr-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kohr-h/subscriptions", "organizations_url": "https://api.github.com/users/kohr-h/orgs", "repos_url": "https://api.github.com/users/kohr-h/repos", "events_url": "https://api.github.com/users/kohr-h/events{/privacy}", "received_events_url": "https://api.github.com/users/kohr-h/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-04T14:19:00Z", "updated_at": "2017-10-04T14:19:00Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>but it actually doesn't exist in pybind11</p>\n</blockquote>\n<p>Second thought, that doesn't seem to be the problem. pybind11 defines array types with trailing underscore, and unless they sneakily strip it off at some point, they have nothing to do with the <code>NPY_FLOAT</code> macros and colleagues.<br>\nThey seem to come from <code>csrc/allocators.h</code> that includes <code>&lt;numpy/arrayobject.h&gt;</code>, and the first one is included by <code>THC.h</code>. So <code>NPY_HALF</code> should be defined at the point where it's needed.</p>", "body_text": "but it actually doesn't exist in pybind11\n\nSecond thought, that doesn't seem to be the problem. pybind11 defines array types with trailing underscore, and unless they sneakily strip it off at some point, they have nothing to do with the NPY_FLOAT macros and colleagues.\nThey seem to come from csrc/allocators.h that includes <numpy/arrayobject.h>, and the first one is included by THC.h. So NPY_HALF should be defined at the point where it's needed.", "body": "> but it actually doesn't exist in pybind11\r\n\r\nSecond thought, that doesn't seem to be the problem. pybind11 defines array types with trailing underscore, and unless they sneakily strip it off at some point, they have nothing to do with the `NPY_FLOAT` macros and colleagues.\r\nThey seem to come from `csrc/allocators.h` that includes `<numpy/arrayobject.h>`, and the first one is included by `THC.h`. So `NPY_HALF` should be defined at the point where it's needed."}