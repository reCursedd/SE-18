{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/421438941", "html_url": "https://github.com/pytorch/pytorch/issues/11709#issuecomment-421438941", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11709", "id": 421438941, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQzODk0MQ==", "user": {"login": "mcarilli", "id": 7799218, "node_id": "MDQ6VXNlcjc3OTkyMTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7799218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarilli", "html_url": "https://github.com/mcarilli", "followers_url": "https://api.github.com/users/mcarilli/followers", "following_url": "https://api.github.com/users/mcarilli/following{/other_user}", "gists_url": "https://api.github.com/users/mcarilli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarilli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarilli/subscriptions", "organizations_url": "https://api.github.com/users/mcarilli/orgs", "repos_url": "https://api.github.com/users/mcarilli/repos", "events_url": "https://api.github.com/users/mcarilli/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarilli/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-14T18:04:06Z", "updated_at": "2018-09-14T18:04:06Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5674597\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SsnL\">@SsnL</a> Thanks for pointing this out.  If that's the only point of incompatibility, it's quite minor and easily fixed (as you can see, the only purpose is to check if we're using gloo rather than nccl).</p>\n<p>Is there a better/blessed way to check which backend is currently in use?  I can't spot any such logic in c10d distributed (although strangely, I do see a place where <code>torch.cuda.nccl</code> <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/nn/parallel/distributed.py#L349\">is accessed in an apparently unchecked way</a>).</p>", "body_text": "@SsnL Thanks for pointing this out.  If that's the only point of incompatibility, it's quite minor and easily fixed (as you can see, the only purpose is to check if we're using gloo rather than nccl).\nIs there a better/blessed way to check which backend is currently in use?  I can't spot any such logic in c10d distributed (although strangely, I do see a place where torch.cuda.nccl is accessed in an apparently unchecked way).", "body": "@SsnL Thanks for pointing this out.  If that's the only point of incompatibility, it's quite minor and easily fixed (as you can see, the only purpose is to check if we're using gloo rather than nccl).\r\n\r\nIs there a better/blessed way to check which backend is currently in use?  I can't spot any such logic in c10d distributed (although strangely, I do see a place where `torch.cuda.nccl` [is accessed in an apparently unchecked way](https://github.com/pytorch/pytorch/blob/master/torch/nn/parallel/distributed.py#L349))."}