{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/311445037", "html_url": "https://github.com/pytorch/pytorch/pull/1873#issuecomment-311445037", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1873", "id": 311445037, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTQ0NTAzNw==", "user": {"login": "vlasenkov", "id": 13369474, "node_id": "MDQ6VXNlcjEzMzY5NDc0", "avatar_url": "https://avatars3.githubusercontent.com/u/13369474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlasenkov", "html_url": "https://github.com/vlasenkov", "followers_url": "https://api.github.com/users/vlasenkov/followers", "following_url": "https://api.github.com/users/vlasenkov/following{/other_user}", "gists_url": "https://api.github.com/users/vlasenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlasenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlasenkov/subscriptions", "organizations_url": "https://api.github.com/users/vlasenkov/orgs", "repos_url": "https://api.github.com/users/vlasenkov/repos", "events_url": "https://api.github.com/users/vlasenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/vlasenkov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-27T18:29:39Z", "updated_at": "2017-06-27T18:32:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a>, could you make it clear?<br>\n<a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/cmake/FindBLAS.cmake#L271-L276\">This</a> means that the line <code>extern double sdot_()</code> works, but the line <code>extern float sdot_()</code> does not work. But we set <code>BLAS_F2C</code> to true, so <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L7\">here</a> <code>ffloat</code> becomes <code>double</code> and therefore <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L21\">here</a> <code>sdot_</code> is defined as <code>extern double sdot_()</code> and it must work according to <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/cmake/FindBLAS.cmake#L246-L257\">this test</a>, but it does not...</p>", "body_text": "@soumith, could you make it clear?\nThis means that the line extern double sdot_() works, but the line extern float sdot_() does not work. But we set BLAS_F2C to true, so here ffloat becomes double and therefore here sdot_ is defined as extern double sdot_() and it must work according to this test, but it does not...", "body": "@soumith, could you make it clear?\r\n[This](https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/cmake/FindBLAS.cmake#L271-L276) means that the line `extern double sdot_()` works, but the line `extern float sdot_()` does not work. But we set `BLAS_F2C` to true, so [here](https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L7) `ffloat` becomes `double` and therefore [here](https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L21) `sdot_` is defined as `extern double sdot_()` and it must work according to [this test](https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/cmake/FindBLAS.cmake#L246-L257), but it does not..."}