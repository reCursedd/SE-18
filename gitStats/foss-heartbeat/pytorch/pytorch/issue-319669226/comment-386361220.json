{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/386361220", "html_url": "https://github.com/pytorch/pytorch/pull/7190#issuecomment-386361220", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7190", "id": 386361220, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjM2MTIyMA==", "user": {"login": "cpuhrsch", "id": 1716488, "node_id": "MDQ6VXNlcjE3MTY0ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1716488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpuhrsch", "html_url": "https://github.com/cpuhrsch", "followers_url": "https://api.github.com/users/cpuhrsch/followers", "following_url": "https://api.github.com/users/cpuhrsch/following{/other_user}", "gists_url": "https://api.github.com/users/cpuhrsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpuhrsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpuhrsch/subscriptions", "organizations_url": "https://api.github.com/users/cpuhrsch/orgs", "repos_url": "https://api.github.com/users/cpuhrsch/repos", "events_url": "https://api.github.com/users/cpuhrsch/events{/privacy}", "received_events_url": "https://api.github.com/users/cpuhrsch/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-03T16:49:03Z", "updated_at": "2018-05-03T17:53:41Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=15994775\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/shibatch\">@shibatch</a></p>\n<p>Ok I got it to work on my machine using</p>\n<pre><code>set(BUILD_SHARED_LIBS OFF CACHE BOOL \"Build sleef static\" FORCE)\nset(BUILD_DFT OFF CACHE BOOL \"Don't build sleef DFT lib\" FORCE)\nset(BUILD_TESTS OFF CACHE BOOL \"Don't build sleef tests\" FORCE)\nadd_subdirectory(\"${CMAKE_CURRENT_SOURCE_DIR}/../../../third_party/sleef\" ${CMAKE_BINARY_DIR}/sleef)\nset_property(TARGET sleef PROPERTY FOLDER \"dependencies\")\ninclude_directories(SYSTEM ${CMAKE_BINARY_DIR}/include)\nlink_directories(${CMAKE_BINARY_DIR}/sleef/lib)\nTARGET_LINK_LIBRARIES(ATen sleef)\n</code></pre>\n<p>However I had to make some modifications to sleef itself to make building tests optional. I created <a href=\"https://github.com/shibatch/sleef/pull/189\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/shibatch/sleef/pull/189/hovercard\">a PR</a> to add this to upstream.</p>", "body_text": "@shibatch\nOk I got it to work on my machine using\nset(BUILD_SHARED_LIBS OFF CACHE BOOL \"Build sleef static\" FORCE)\nset(BUILD_DFT OFF CACHE BOOL \"Don't build sleef DFT lib\" FORCE)\nset(BUILD_TESTS OFF CACHE BOOL \"Don't build sleef tests\" FORCE)\nadd_subdirectory(\"${CMAKE_CURRENT_SOURCE_DIR}/../../../third_party/sleef\" ${CMAKE_BINARY_DIR}/sleef)\nset_property(TARGET sleef PROPERTY FOLDER \"dependencies\")\ninclude_directories(SYSTEM ${CMAKE_BINARY_DIR}/include)\nlink_directories(${CMAKE_BINARY_DIR}/sleef/lib)\nTARGET_LINK_LIBRARIES(ATen sleef)\n\nHowever I had to make some modifications to sleef itself to make building tests optional. I created a PR to add this to upstream.", "body": "@shibatch \r\n\r\nOk I got it to work on my machine using\r\n\r\n```\r\nset(BUILD_SHARED_LIBS OFF CACHE BOOL \"Build sleef static\" FORCE)\r\nset(BUILD_DFT OFF CACHE BOOL \"Don't build sleef DFT lib\" FORCE)\r\nset(BUILD_TESTS OFF CACHE BOOL \"Don't build sleef tests\" FORCE)\r\nadd_subdirectory(\"${CMAKE_CURRENT_SOURCE_DIR}/../../../third_party/sleef\" ${CMAKE_BINARY_DIR}/sleef)\r\nset_property(TARGET sleef PROPERTY FOLDER \"dependencies\")\r\ninclude_directories(SYSTEM ${CMAKE_BINARY_DIR}/include)\r\nlink_directories(${CMAKE_BINARY_DIR}/sleef/lib)\r\nTARGET_LINK_LIBRARIES(ATen sleef)\r\n```\r\n\r\nHowever I had to make some modifications to sleef itself to make building tests optional. I created [a PR](https://github.com/shibatch/sleef/pull/189) to add this to upstream."}