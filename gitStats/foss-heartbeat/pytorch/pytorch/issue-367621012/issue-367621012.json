{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12445", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12445/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12445/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12445/events", "html_url": "https://github.com/pytorch/pytorch/issues/12445", "id": 367621012, "node_id": "MDU6SXNzdWUzNjc2MjEwMTI=", "number": 12445, "title": "(libtorch) Schema not found for node aten::expand", "user": {"login": "neggert", "id": 1271014, "node_id": "MDQ6VXNlcjEyNzEwMTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1271014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neggert", "html_url": "https://github.com/neggert", "followers_url": "https://api.github.com/users/neggert/followers", "following_url": "https://api.github.com/users/neggert/following{/other_user}", "gists_url": "https://api.github.com/users/neggert/gists{/gist_id}", "starred_url": "https://api.github.com/users/neggert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neggert/subscriptions", "organizations_url": "https://api.github.com/users/neggert/orgs", "repos_url": "https://api.github.com/users/neggert/repos", "events_url": "https://api.github.com/users/neggert/events{/privacy}", "received_events_url": "https://api.github.com/users/neggert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 679953983, "node_id": "MDU6TGFiZWw2Nzk5NTM5ODM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/jit", "name": "jit", "color": "c5def5", "default": false}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-10-08T02:25:32Z", "updated_at": "2018-10-10T10:56:07Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>I'm just getting started with libtorch, but the few models from torchvision I'm trying to run are throwing an exception. Even following the instructions at <a href=\"https://pytorch.org/tutorials/advanced/cpp_export.html\" rel=\"nofollow\">https://pytorch.org/tutorials/advanced/cpp_export.html</a> gives the exception.</p>\n<pre><code>libc++abi.dylib: terminating with uncaught exception of type torch::jit::script::ErrorReport:\nSchema not found for node. File a bug report.\nNode: %709 : Dynamic = aten::expand(%122, %707, %708)\n\nInput types:Float(*), int[], int\ncandidates were:\n  aten::expand(Tensor self, int[] size, *, bool implicit=&lt;default&gt;) -&gt; Tensor\n.\n\n[1]    21624 abort      ./example-app ../model.pt\n</code></pre>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>Follow the instructions at <a href=\"https://pytorch.org/tutorials/advanced/cpp_export.html\" rel=\"nofollow\">https://pytorch.org/tutorials/advanced/cpp_export.html</a></li>\n<li>Run the compiled program on the traced torchvision resnet18 or alexnet model (haven't tested other models)</li>\n</ol>\n\n<h2>Expected behavior</h2>\n<p>The program doesn't throw any exceptions</p>\n<h2>Environment</h2>\n<ul>\n<li>PyTorch Version (e.g., 1.0): 1.0.0.dev20180929</li>\n<li>OS (e.g., Linux): Mac OSX 10.13.6</li>\n<li>How you installed PyTorch (<code>conda</code>, <code>pip</code>, source): conda / downloaded and extracted libtorch zip.</li>\n<li>Python version: 3.7</li>\n<li>CUDA/cuDNN version: None</li>\n<li>GPU models and configuration: None</li>\n<li>Any other relevant information: CMake 3.12.2</li>\n</ul>\n<pre><code>$ clang -v\nApple LLVM version 10.0.0 (clang-1000.11.45.2)\nTarget: x86_64-apple-darwin17.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n</code></pre>", "body_text": "\ud83d\udc1b Bug\nI'm just getting started with libtorch, but the few models from torchvision I'm trying to run are throwing an exception. Even following the instructions at https://pytorch.org/tutorials/advanced/cpp_export.html gives the exception.\nlibc++abi.dylib: terminating with uncaught exception of type torch::jit::script::ErrorReport:\nSchema not found for node. File a bug report.\nNode: %709 : Dynamic = aten::expand(%122, %707, %708)\n\nInput types:Float(*), int[], int\ncandidates were:\n  aten::expand(Tensor self, int[] size, *, bool implicit=<default>) -> Tensor\n.\n\n[1]    21624 abort      ./example-app ../model.pt\n\nTo Reproduce\nSteps to reproduce the behavior:\n\nFollow the instructions at https://pytorch.org/tutorials/advanced/cpp_export.html\nRun the compiled program on the traced torchvision resnet18 or alexnet model (haven't tested other models)\n\n\nExpected behavior\nThe program doesn't throw any exceptions\nEnvironment\n\nPyTorch Version (e.g., 1.0): 1.0.0.dev20180929\nOS (e.g., Linux): Mac OSX 10.13.6\nHow you installed PyTorch (conda, pip, source): conda / downloaded and extracted libtorch zip.\nPython version: 3.7\nCUDA/cuDNN version: None\nGPU models and configuration: None\nAny other relevant information: CMake 3.12.2\n\n$ clang -v\nApple LLVM version 10.0.0 (clang-1000.11.45.2)\nTarget: x86_64-apple-darwin17.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin", "body": "## \ud83d\udc1b Bug\r\n\r\nI'm just getting started with libtorch, but the few models from torchvision I'm trying to run are throwing an exception. Even following the instructions at https://pytorch.org/tutorials/advanced/cpp_export.html gives the exception.\r\n\r\n```\r\nlibc++abi.dylib: terminating with uncaught exception of type torch::jit::script::ErrorReport:\r\nSchema not found for node. File a bug report.\r\nNode: %709 : Dynamic = aten::expand(%122, %707, %708)\r\n\r\nInput types:Float(*), int[], int\r\ncandidates were:\r\n  aten::expand(Tensor self, int[] size, *, bool implicit=<default>) -> Tensor\r\n.\r\n\r\n[1]    21624 abort      ./example-app ../model.pt\r\n```\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Follow the instructions at https://pytorch.org/tutorials/advanced/cpp_export.html\r\n1. Run the compiled program on the traced torchvision resnet18 or alexnet model (haven't tested other models)\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well -->\r\n\r\n## Expected behavior\r\n\r\nThe program doesn't throw any exceptions\r\n\r\n## Environment\r\n\r\n - PyTorch Version (e.g., 1.0): 1.0.0.dev20180929\r\n - OS (e.g., Linux): Mac OSX 10.13.6\r\n - How you installed PyTorch (`conda`, `pip`, source): conda / downloaded and extracted libtorch zip.\r\n - Python version: 3.7\r\n - CUDA/cuDNN version: None\r\n - GPU models and configuration: None\r\n - Any other relevant information: CMake 3.12.2\r\n```\r\n$ clang -v\r\nApple LLVM version 10.0.0 (clang-1000.11.45.2)\r\nTarget: x86_64-apple-darwin17.7.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n"}