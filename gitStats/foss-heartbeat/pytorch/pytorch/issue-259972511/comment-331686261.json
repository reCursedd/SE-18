{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/331686261", "html_url": "https://github.com/pytorch/pytorch/issues/2840#issuecomment-331686261", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2840", "id": 331686261, "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTY4NjI2MQ==", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-24T04:22:19Z", "updated_at": "2017-09-24T04:22:19Z", "author_association": "MEMBER", "body_html": "<p>ugh this is annoying. I wonder if it's because loading libllvm into the process loads in some standard libs, and that somehow overrides some symbols.<br>\nI'll try to reproduce this and figure it out, have to do some LD_DEBUG dumping and look at the logs.</p>\n<p>Between 0.2.0_2 and 0.2.0_4, all we did was not leak / expose any symbols out of _C.so other than what we own. This file specifies the whitelisted symbols: <a href=\"https://github.com/pytorch/pytorch/blob/v0.2.0/tools/pytorch.version\">https://github.com/pytorch/pytorch/blob/v0.2.0/tools/pytorch.version</a><br>\nI'm not sure why/how that induces a segfault (if anything, I'd think it'd avoid segfaults).</p>", "body_text": "ugh this is annoying. I wonder if it's because loading libllvm into the process loads in some standard libs, and that somehow overrides some symbols.\nI'll try to reproduce this and figure it out, have to do some LD_DEBUG dumping and look at the logs.\nBetween 0.2.0_2 and 0.2.0_4, all we did was not leak / expose any symbols out of _C.so other than what we own. This file specifies the whitelisted symbols: https://github.com/pytorch/pytorch/blob/v0.2.0/tools/pytorch.version\nI'm not sure why/how that induces a segfault (if anything, I'd think it'd avoid segfaults).", "body": "ugh this is annoying. I wonder if it's because loading libllvm into the process loads in some standard libs, and that somehow overrides some symbols.\r\nI'll try to reproduce this and figure it out, have to do some LD_DEBUG dumping and look at the logs.\r\n\r\nBetween 0.2.0_2 and 0.2.0_4, all we did was not leak / expose any symbols out of _C.so other than what we own. This file specifies the whitelisted symbols: https://github.com/pytorch/pytorch/blob/v0.2.0/tools/pytorch.version\r\nI'm not sure why/how that induces a segfault (if anything, I'd think it'd avoid segfaults)."}