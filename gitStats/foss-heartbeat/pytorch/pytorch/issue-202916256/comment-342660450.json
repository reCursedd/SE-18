{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/342660450", "html_url": "https://github.com/pytorch/pytorch/issues/574#issuecomment-342660450", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/574", "id": 342660450, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjY2MDQ1MA==", "user": {"login": "Jonbean", "id": 10235447, "node_id": "MDQ6VXNlcjEwMjM1NDQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/10235447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jonbean", "html_url": "https://github.com/Jonbean", "followers_url": "https://api.github.com/users/Jonbean/followers", "following_url": "https://api.github.com/users/Jonbean/following{/other_user}", "gists_url": "https://api.github.com/users/Jonbean/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jonbean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jonbean/subscriptions", "organizations_url": "https://api.github.com/users/Jonbean/orgs", "repos_url": "https://api.github.com/users/Jonbean/repos", "events_url": "https://api.github.com/users/Jonbean/events{/privacy}", "received_events_url": "https://api.github.com/users/Jonbean/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T23:37:27Z", "updated_at": "2017-11-07T23:37:27Z", "author_association": "NONE", "body_html": "<p>I got the same error after built from source of branch v0.3.0</p>\n<p>My system is OSX10.12,  python version is 3.6.1. I don't use anaconda python. I installed all the optional dependency through pip3. I disabled CUDA support by <code>export NO_CUDA=1</code></p>\n<p>Changed the installation command a little bit to fit my system:<br>\n<code>Jon (v0.3.0) pytorch $ MACOSX_DEPLOYMENT_TARGET=10.12 CC=clang CXX=clang++ python3 setup.py install</code></p>\n<p>got 7 warnings in the middle of building:</p>\n<pre lang=\"/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:14:29:\" data-meta=\"warning: 'THDTensorDescriptor_newFromTHDoubleTensor' has C-linkage specified, but returns user-defined type\"><code>      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHDoubleTensor(THDoubleTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:15:29: warning: 'THDTensorDescriptor_newFromTHFloatTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHFloatTensor(THFloatTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:16:29: warning: 'THDTensorDescriptor_newFromTHLongTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHLongTensor(THLongTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:17:29: warning: 'THDTensorDescriptor_newFromTHIntTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHIntTensor(THIntTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:18:29: warning: 'THDTensorDescriptor_newFromTHShortTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHShortTensor(THShortTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:19:29: warning: 'THDTensorDescriptor_newFromTHCharTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHCharTensor(THCharTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:20:29: warning: 'THDTensorDescriptor_newFromTHByteTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHByteTensor(THByteTensor *tensor);\n                            ^\n7 warnings generated.\n</code></pre>\n<p>Besides these warnings, the installation looks ok to me.<br>\nThe pytorch source is in <code>~/pytorch/</code> directory, I ran python in the <code>~/Desktop</code><br>\nAny thoughts what may cause this failure of importing?</p>", "body_text": "I got the same error after built from source of branch v0.3.0\nMy system is OSX10.12,  python version is 3.6.1. I don't use anaconda python. I installed all the optional dependency through pip3. I disabled CUDA support by export NO_CUDA=1\nChanged the installation command a little bit to fit my system:\nJon (v0.3.0) pytorch $ MACOSX_DEPLOYMENT_TARGET=10.12 CC=clang CXX=clang++ python3 setup.py install\ngot 7 warnings in the middle of building:\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHDoubleTensor(THDoubleTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:15:29: warning: 'THDTensorDescriptor_newFromTHFloatTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHFloatTensor(THFloatTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:16:29: warning: 'THDTensorDescriptor_newFromTHLongTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHLongTensor(THLongTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:17:29: warning: 'THDTensorDescriptor_newFromTHIntTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHIntTensor(THIntTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:18:29: warning: 'THDTensorDescriptor_newFromTHShortTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHShortTensor(THShortTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:19:29: warning: 'THDTensorDescriptor_newFromTHCharTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHCharTensor(THCharTensor *tensor);\n                            ^\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:20:29: warning: 'THDTensorDescriptor_newFromTHByteTensor' has C-linkage specified, but returns user-defined type\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHByteTensor(THByteTensor *tensor);\n                            ^\n7 warnings generated.\n\nBesides these warnings, the installation looks ok to me.\nThe pytorch source is in ~/pytorch/ directory, I ran python in the ~/Desktop\nAny thoughts what may cause this failure of importing?", "body": "I got the same error after built from source of branch v0.3.0\r\n\r\nMy system is OSX10.12,  python version is 3.6.1. I don't use anaconda python. I installed all the optional dependency through pip3. I disabled CUDA support by `export NO_CUDA=1`\r\n\r\nChanged the installation command a little bit to fit my system:\r\n`Jon (v0.3.0) pytorch $ MACOSX_DEPLOYMENT_TARGET=10.12 CC=clang CXX=clang++ python3 setup.py install`\r\n\r\ngot 7 warnings in the middle of building:\r\n~~~~/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:14:29: warning: 'THDTensorDescriptor_newFromTHDoubleTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHDoubleTensor(THDoubleTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:15:29: warning: 'THDTensorDescriptor_newFromTHFloatTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHFloatTensor(THFloatTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:16:29: warning: 'THDTensorDescriptor_newFromTHLongTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHLongTensor(THLongTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:17:29: warning: 'THDTensorDescriptor_newFromTHIntTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHIntTensor(THIntTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:18:29: warning: 'THDTensorDescriptor_newFromTHShortTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHShortTensor(THShortTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:19:29: warning: 'THDTensorDescriptor_newFromTHCharTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHCharTensor(THCharTensor *tensor);\r\n                            ^\r\n/Users/Jon/pytorch/torch/lib/tmp_install/include/THD/base/TensorDescriptor.h:20:29: warning: 'THDTensorDescriptor_newFromTHByteTensor' has C-linkage specified, but returns user-defined type\r\n      'THDTensorDescriptor' (aka 'at::Tensor') which is incompatible with C [-Wreturn-type-c-linkage]\r\nTHD_API THDTensorDescriptor THDTensorDescriptor_newFromTHByteTensor(THByteTensor *tensor);\r\n                            ^\r\n7 warnings generated.\r\n~~~~\r\nBesides these warnings, the installation looks ok to me. \r\nThe pytorch source is in `~/pytorch/` directory, I ran python in the `~/Desktop`\r\nAny thoughts what may cause this failure of importing?"}