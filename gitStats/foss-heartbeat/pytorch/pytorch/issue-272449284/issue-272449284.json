{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3585", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3585/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3585/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3585/events", "html_url": "https://github.com/pytorch/pytorch/issues/3585", "id": 272449284, "node_id": "MDU6SXNzdWUyNzI0NDkyODQ=", "number": 3585, "title": "cuda inverse issue", "user": {"login": "xiao7199", "id": 22943209, "node_id": "MDQ6VXNlcjIyOTQzMjA5", "avatar_url": "https://avatars3.githubusercontent.com/u/22943209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiao7199", "html_url": "https://github.com/xiao7199", "followers_url": "https://api.github.com/users/xiao7199/followers", "following_url": "https://api.github.com/users/xiao7199/following{/other_user}", "gists_url": "https://api.github.com/users/xiao7199/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiao7199/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiao7199/subscriptions", "organizations_url": "https://api.github.com/users/xiao7199/orgs", "repos_url": "https://api.github.com/users/xiao7199/repos", "events_url": "https://api.github.com/users/xiao7199/events{/privacy}", "received_events_url": "https://api.github.com/users/xiao7199/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-09T05:59:23Z", "updated_at": "2017-11-09T15:20:26Z", "closed_at": "2017-11-09T10:20:29Z", "author_association": "NONE", "body_html": "<p>The execution time of CUDA inverse is weird.  The first inverse operation will takes longer time than the consecutive inverse operations.<br>\nHere is the code:</p>\n<div class=\"highlight highlight-source-python\"><pre>data <span class=\"pl-k\">=</span> Variable(torch.rand(<span class=\"pl-c1\">256</span>,<span class=\"pl-c1\">256</span>).type(torch.FloatTensor)).cuda()\na <span class=\"pl-k\">=</span> time.time()\ntorch.inverse(data)\nb <span class=\"pl-k\">=</span> time.time()\ntorch.inverse(data)\nc <span class=\"pl-k\">=</span> time.time()\ntorch.inverse(data)\nd <span class=\"pl-k\">=</span> time.time()\n<span class=\"pl-c1\">print</span>(d<span class=\"pl-k\">-</span>c,c<span class=\"pl-k\">-</span>b,b<span class=\"pl-k\">-</span>a)</pre></div>\n<p>The result is<br>\n<code>(0.006289958953857422, 0.006345033645629883, 0.2919008731842041)</code><br>\nSo the first inverse will always take significant longer time than the next several inverse operation.<br>\nAny idea?</p>", "body_text": "The execution time of CUDA inverse is weird.  The first inverse operation will takes longer time than the consecutive inverse operations.\nHere is the code:\ndata = Variable(torch.rand(256,256).type(torch.FloatTensor)).cuda()\na = time.time()\ntorch.inverse(data)\nb = time.time()\ntorch.inverse(data)\nc = time.time()\ntorch.inverse(data)\nd = time.time()\nprint(d-c,c-b,b-a)\nThe result is\n(0.006289958953857422, 0.006345033645629883, 0.2919008731842041)\nSo the first inverse will always take significant longer time than the next several inverse operation.\nAny idea?", "body": "The execution time of CUDA inverse is weird.  The first inverse operation will takes longer time than the consecutive inverse operations.\r\nHere is the code:\r\n\r\n```python\r\ndata = Variable(torch.rand(256,256).type(torch.FloatTensor)).cuda()\r\na = time.time()\r\ntorch.inverse(data)\r\nb = time.time()\r\ntorch.inverse(data)\r\nc = time.time()\r\ntorch.inverse(data)\r\nd = time.time()\r\nprint(d-c,c-b,b-a)\r\n```\r\n\r\nThe result is\r\n `(0.006289958953857422, 0.006345033645629883, 0.2919008731842041)`\r\nSo the first inverse will always take significant longer time than the next several inverse operation. \r\nAny idea?"}