{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/157729027", "pull_request_review_id": 84418157, "id": 157729027, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzcyOTAyNw==", "diff_hunk": "@@ -15,6 +15,14 @@\n #define PyLong_FromLong         PyLong_FromLongLong\n #define PyLong_AsLong           PyLong_AsLongLong\n #define PyLong_FromUnsignedLong PyLong_FromUnsignedLongLong\n+\n+#ifdef PyInt_Check\n+#undef PyInt_FromLong\n+#undef PyInt_AsLong\n+\n+#define PyInt_FromLong          PyLong_FromLong\n+#define PyInt_AsLong            PyLong_AsLong", "path": "torch/csrc/THP.h", "position": null, "original_position": 10, "commit_id": "3c9b943f44aca5dea0545b648b988e021f0a4552", "original_commit_id": "1c35f42e00944e1b29eb99fb6bc37ff0735a3b4d", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "The macros below do something else - if the Int functions are **undefined**, we define them to the Long functions (this is the case for Python 3). In your case, you replace them if they are **defined**, which happens only in Python 2, making it impossible for us to return objects of `int` type (everything will become `long`).", "created_at": "2017-12-19T11:28:13Z", "updated_at": "2018-11-23T15:37:31Z", "html_url": "https://github.com/pytorch/pytorch/pull/4226#discussion_r157729027", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4226", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/157729027"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4226#discussion_r157729027"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4226"}}, "body_html": "<p>The macros below do something else - if the Int functions are <strong>undefined</strong>, we define them to the Long functions (this is the case for Python 3). In your case, you replace them if they are <strong>defined</strong>, which happens only in Python 2, making it impossible for us to return objects of <code>int</code> type (everything will become <code>long</code>).</p>", "body_text": "The macros below do something else - if the Int functions are undefined, we define them to the Long functions (this is the case for Python 3). In your case, you replace them if they are defined, which happens only in Python 2, making it impossible for us to return objects of int type (everything will become long).", "in_reply_to_id": 157506312}