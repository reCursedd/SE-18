{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5622", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5622/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5622/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5622/events", "html_url": "https://github.com/pytorch/pytorch/pull/5622", "id": 303304029, "node_id": "MDExOlB1bGxSZXF1ZXN0MTczNjA3NTEx", "number": 5622, "title": "Alias torch.diagonal, torch.diagflat", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-07T23:52:02Z", "updated_at": "2018-11-23T15:40:33Z", "closed_at": "2018-03-10T04:46:43Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/5622", "html_url": "https://github.com/pytorch/pytorch/pull/5622", "diff_url": "https://github.com/pytorch/pytorch/pull/5622.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/5622.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #3213.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"267337578\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3213\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3213/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3213\">#3213</a></p>\n<p>This adds <code>torch.diagonal</code> and <code>torch.diagflat</code> (like in numpy) to solve the problem that <code>torch.diag</code> is unintuitive to users and performs two functions. The implementations of <code>torch.diagonal</code> and <code>torch.diagflat</code> just call <code>torch.diag</code>.</p>\n<p>I'm not sure if this is the best idea to solve the problem of <code>torch.diag</code> being weird to users because this does complicate the API (with this change, there will be 3 diag functions). If we think this is a good idea, I'll add some quick sanity tests to test_torch and test_cuda to check that <code>torch.diagonal</code> and <code>torch.diagflat</code> do what they're supposed to.</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3768583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gchanan\">@gchanan</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a></p>", "body_text": "Fixes #3213\nThis adds torch.diagonal and torch.diagflat (like in numpy) to solve the problem that torch.diag is unintuitive to users and performs two functions. The implementations of torch.diagonal and torch.diagflat just call torch.diag.\nI'm not sure if this is the best idea to solve the problem of torch.diag being weird to users because this does complicate the API (with this change, there will be 3 diag functions). If we think this is a good idea, I'll add some quick sanity tests to test_torch and test_cuda to check that torch.diagonal and torch.diagflat do what they're supposed to.\ncc @gchanan @colesbury", "body": "Fixes #3213\r\n\r\nThis adds `torch.diagonal` and `torch.diagflat` (like in numpy) to solve the problem that `torch.diag` is unintuitive to users and performs two functions. The implementations of `torch.diagonal` and `torch.diagflat` just call `torch.diag`.\r\n\r\nI'm not sure if this is the best idea to solve the problem of `torch.diag` being weird to users because this does complicate the API (with this change, there will be 3 diag functions). If we think this is a good idea, I'll add some quick sanity tests to test_torch and test_cuda to check that `torch.diagonal` and `torch.diagflat` do what they're supposed to.\r\n\r\ncc @gchanan @colesbury \r\n"}