{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/336645611", "html_url": "https://github.com/pytorch/pytorch/issues/1637#issuecomment-336645611", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1637", "id": 336645611, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjY0NTYxMQ==", "user": {"login": "Mctigger", "id": 4086336, "node_id": "MDQ6VXNlcjQwODYzMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/4086336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mctigger", "html_url": "https://github.com/Mctigger", "followers_url": "https://api.github.com/users/Mctigger/followers", "following_url": "https://api.github.com/users/Mctigger/following{/other_user}", "gists_url": "https://api.github.com/users/Mctigger/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mctigger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mctigger/subscriptions", "organizations_url": "https://api.github.com/users/Mctigger/orgs", "repos_url": "https://api.github.com/users/Mctigger/repos", "events_url": "https://api.github.com/users/Mctigger/events{/privacy}", "received_events_url": "https://api.github.com/users/Mctigger/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-14T16:15:11Z", "updated_at": "2017-10-14T16:16:07Z", "author_association": "NONE", "body_html": "<p>So I just tried another clean build from source with the current master on a completly new Ubuntu installation.</p>\n<pre><code>gcc (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\ncuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64\nlibcudnn7_7.0.3.11-1+cuda9.0_amd64\nAnaconda3-5.0.0.1-Linux-x86_64\n</code></pre>\n<p>I installed from source exactly like <a href=\"https://github.com/pytorch/pytorch#from-source\">here</a>, but I skipped this</p>\n<pre><code># Add LAPACK support for the GPU\nconda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5\n</code></pre>\n<p>as written here <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"264026274\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3040\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3040/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3040\">#3040</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"263605272\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3018\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3018/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3018\">#3018</a>.</p>\n<p>When using <code>nn.DataParallel</code> I still get the same behavior, meaning 100% load, but the program is stuck.<br>\nWhen I try running on a single GPU it works, but calculations are significantly slower (training a network takes double the time).</p>\n<p>After I ran <code>pip uninstall torch</code> and installed the pytorch binaries with <code>pip install http://download.pytorch.org/whl/cu80/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl </code>.<br>\n<code>nn.DataParallel</code> still does not work, but now my network trains at the 100% of the expected speed.</p>", "body_text": "So I just tried another clean build from source with the current master on a completly new Ubuntu installation.\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\ncuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64\nlibcudnn7_7.0.3.11-1+cuda9.0_amd64\nAnaconda3-5.0.0.1-Linux-x86_64\n\nI installed from source exactly like here, but I skipped this\n# Add LAPACK support for the GPU\nconda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5\n\nas written here #3040 and #3018.\nWhen using nn.DataParallel I still get the same behavior, meaning 100% load, but the program is stuck.\nWhen I try running on a single GPU it works, but calculations are significantly slower (training a network takes double the time).\nAfter I ran pip uninstall torch and installed the pytorch binaries with pip install http://download.pytorch.org/whl/cu80/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl .\nnn.DataParallel still does not work, but now my network trains at the 100% of the expected speed.", "body": "So I just tried another clean build from source with the current master on a completly new Ubuntu installation. \r\n```\r\ngcc (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\r\ncuda-repo-ubuntu1604-9-0-local_9.0.176-1_amd64\r\nlibcudnn7_7.0.3.11-1+cuda9.0_amd64\r\nAnaconda3-5.0.0.1-Linux-x86_64\r\n```\r\nI installed from source exactly like [here](https://github.com/pytorch/pytorch#from-source), but I skipped this \r\n```\r\n# Add LAPACK support for the GPU\r\nconda install -c soumith magma-cuda80 # or magma-cuda75 if CUDA 7.5\r\n```\r\nas written here #3040 and #3018.\r\n\r\nWhen using `nn.DataParallel` I still get the same behavior, meaning 100% load, but the program is stuck.\r\nWhen I try running on a single GPU it works, but calculations are significantly slower (training a network takes double the time).\r\n\r\nAfter I ran `pip uninstall torch` and installed the pytorch binaries with `pip install http://download.pytorch.org/whl/cu80/torch-0.2.0.post3-cp36-cp36m-manylinux1_x86_64.whl `.\r\n`nn.DataParallel` still does not work, but now my network trains at the 100% of the expected speed."}