{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/390453729", "html_url": "https://github.com/pytorch/pytorch/issues/1637#issuecomment-390453729", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1637", "id": 390453729, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQ1MzcyOQ==", "user": {"login": "yubeic", "id": 3366685, "node_id": "MDQ6VXNlcjMzNjY2ODU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3366685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yubeic", "html_url": "https://github.com/yubeic", "followers_url": "https://api.github.com/users/yubeic/followers", "following_url": "https://api.github.com/users/yubeic/following{/other_user}", "gists_url": "https://api.github.com/users/yubeic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yubeic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yubeic/subscriptions", "organizations_url": "https://api.github.com/users/yubeic/orgs", "repos_url": "https://api.github.com/users/yubeic/repos", "events_url": "https://api.github.com/users/yubeic/events{/privacy}", "received_events_url": "https://api.github.com/users/yubeic/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-20T02:50:27Z", "updated_at": "2018-05-20T03:33:23Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=38598618\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/1e100\">@1e100</a> Thanks for a quick reply!<br>\nPyTorch uses MAGMA for some processing, e.g. SVD. MAGMA uses both CPU and GPU, now the CPU becomes a bottleneck easily since MAGMA also runs slower (with all cores ..) on Threadripper. And I don't see a good way to stop using CPU. For a further discussion, I created a thread on PyTorch forum here: <a href=\"https://discuss.pytorch.org/t/how-to-make-symeig-use-gpu-only-given-cuda-tensor/17214\" rel=\"nofollow\">https://discuss.pytorch.org/t/how-to-make-symeig-use-gpu-only-given-cuda-tensor/17214</a></p>\n<p>For research, sometimes a quick prototyping is good if the performance is not too bad. It's shocking to see a CPU tensor produce slower on Threadripper than i7-6700K, especially for a $8.5K machine. It's too bad that linear algebra is this slow on Threadripper 1950x. We were thinking about building many more servers with this CPU. Anyway, 1950x is a bottleneck for this server right now.</p>\n<p>Do you have any suggestions on making CPU linear algebra faster? Thanks in advance! We can switch to our classical i9 or dual xeon solution if there is not a solution. Currently we are not able to run all 4 GPU processes without the CPU bottleneck.</p>", "body_text": "@1e100 Thanks for a quick reply!\nPyTorch uses MAGMA for some processing, e.g. SVD. MAGMA uses both CPU and GPU, now the CPU becomes a bottleneck easily since MAGMA also runs slower (with all cores ..) on Threadripper. And I don't see a good way to stop using CPU. For a further discussion, I created a thread on PyTorch forum here: https://discuss.pytorch.org/t/how-to-make-symeig-use-gpu-only-given-cuda-tensor/17214\nFor research, sometimes a quick prototyping is good if the performance is not too bad. It's shocking to see a CPU tensor produce slower on Threadripper than i7-6700K, especially for a $8.5K machine. It's too bad that linear algebra is this slow on Threadripper 1950x. We were thinking about building many more servers with this CPU. Anyway, 1950x is a bottleneck for this server right now.\nDo you have any suggestions on making CPU linear algebra faster? Thanks in advance! We can switch to our classical i9 or dual xeon solution if there is not a solution. Currently we are not able to run all 4 GPU processes without the CPU bottleneck.", "body": "@1e100 Thanks for a quick reply!\r\nPyTorch uses MAGMA for some processing, e.g. SVD. MAGMA uses both CPU and GPU, now the CPU becomes a bottleneck easily since MAGMA also runs slower (with all cores ..) on Threadripper. And I don't see a good way to stop using CPU. For a further discussion, I created a thread on PyTorch forum here: https://discuss.pytorch.org/t/how-to-make-symeig-use-gpu-only-given-cuda-tensor/17214\r\n\r\nFor research, sometimes a quick prototyping is good if the performance is not too bad. It's shocking to see a CPU tensor produce slower on Threadripper than i7-6700K, especially for a $8.5K machine. It's too bad that linear algebra is this slow on Threadripper 1950x. We were thinking about building many more servers with this CPU. Anyway, 1950x is a bottleneck for this server right now.\r\n\r\nDo you have any suggestions on making CPU linear algebra faster? Thanks in advance! We can switch to our classical i9 or dual xeon solution if there is not a solution. Currently we are not able to run all 4 GPU processes without the CPU bottleneck."}