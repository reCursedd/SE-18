{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/326656939", "html_url": "https://github.com/pytorch/pytorch/issues/1637#issuecomment-326656939", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1637", "id": 326656939, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjY1NjkzOQ==", "user": {"login": "dominic-rossi", "id": 12012295, "node_id": "MDQ6VXNlcjEyMDEyMjk1", "avatar_url": "https://avatars1.githubusercontent.com/u/12012295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dominic-rossi", "html_url": "https://github.com/dominic-rossi", "followers_url": "https://api.github.com/users/dominic-rossi/followers", "following_url": "https://api.github.com/users/dominic-rossi/following{/other_user}", "gists_url": "https://api.github.com/users/dominic-rossi/gists{/gist_id}", "starred_url": "https://api.github.com/users/dominic-rossi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dominic-rossi/subscriptions", "organizations_url": "https://api.github.com/users/dominic-rossi/orgs", "repos_url": "https://api.github.com/users/dominic-rossi/repos", "events_url": "https://api.github.com/users/dominic-rossi/events{/privacy}", "received_events_url": "https://api.github.com/users/dominic-rossi/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-01T18:48:28Z", "updated_at": "2017-09-01T18:48:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5611862\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/davidmascharka\">@davidmascharka</a> I was able to get your code to run on a machine with multiple GPUs simply by changing:</p>\n<pre><code>from data_parallel import DataParallel\n...\nmodel = DataParallel(Net())\n</code></pre>\n<p>to:<br>\n<code>model = nn.DataParallel(Net())</code></p>\n<p>All of the following configurations ran to completion:<br>\nCUDA_VISIBLE_DEVICES unset (defaults to discovering 4 GPUs on the machine I used)<br>\nCUDA_VISIBLE_DEVICES=0,1<br>\nCUDA_VISIBLE_DEVICES=0</p>\n<p>Perhaps DataParallel has been updated/fixed since this issue was reported?</p>", "body_text": "@davidmascharka I was able to get your code to run on a machine with multiple GPUs simply by changing:\nfrom data_parallel import DataParallel\n...\nmodel = DataParallel(Net())\n\nto:\nmodel = nn.DataParallel(Net())\nAll of the following configurations ran to completion:\nCUDA_VISIBLE_DEVICES unset (defaults to discovering 4 GPUs on the machine I used)\nCUDA_VISIBLE_DEVICES=0,1\nCUDA_VISIBLE_DEVICES=0\nPerhaps DataParallel has been updated/fixed since this issue was reported?", "body": "@davidmascharka I was able to get your code to run on a machine with multiple GPUs simply by changing:\r\n```\r\nfrom data_parallel import DataParallel\r\n...\r\nmodel = DataParallel(Net())\r\n```\r\nto:\r\n`model = nn.DataParallel(Net())`\r\n\r\nAll of the following configurations ran to completion:\r\nCUDA_VISIBLE_DEVICES unset (defaults to discovering 4 GPUs on the machine I used)\r\nCUDA_VISIBLE_DEVICES=0,1\r\nCUDA_VISIBLE_DEVICES=0\r\n\r\nPerhaps DataParallel has been updated/fixed since this issue was reported?"}