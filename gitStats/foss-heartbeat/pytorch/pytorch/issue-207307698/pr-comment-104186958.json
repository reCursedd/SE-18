{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/104186958", "pull_request_review_id": 25009912, "id": 104186958, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNDE4Njk1OA==", "diff_hunk": "@@ -294,31 +367,108 @@ int THSTensor_(isContiguous)(const THSTensor *self) {\n   return self->contiguous;\n }\n \n+/* Internal slice operations. Buffers can be reused across calls to avoid\n+allocating tensors every time */\n+\n+void THSTensor_(addSlice)(\n+  THTensor *dstBuffer, THTensor *src1Buffer, THTensor *src2Buffer,\n+  THTensor *dst, THTensor *src1, real value, THTensor *src2,\n+  long dim, long dstIdx, long src1Idx, long src2Idx) {\n+  if (src1->nDimension > 1) {", "path": "torch/lib/THS/generic/THSTensor.c", "position": 308, "original_position": 308, "commit_id": "d5a99574d20676583112f982ab429a1ea1ae1a5b", "original_commit_id": "ab0b15c53e007b0e8e04a99697699bf6665a3ef0", "user": {"login": "martinraison", "id": 2560662, "node_id": "MDQ6VXNlcjI1NjA2NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2560662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinraison", "html_url": "https://github.com/martinraison", "followers_url": "https://api.github.com/users/martinraison/followers", "following_url": "https://api.github.com/users/martinraison/following{/other_user}", "gists_url": "https://api.github.com/users/martinraison/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinraison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinraison/subscriptions", "organizations_url": "https://api.github.com/users/martinraison/orgs", "repos_url": "https://api.github.com/users/martinraison/repos", "events_url": "https://api.github.com/users/martinraison/events{/privacy}", "received_events_url": "https://api.github.com/users/martinraison/received_events", "type": "User", "site_admin": false}, "body": "That's interesting, I didn't realize the variant of `addSlice` with `dstBuffer` different from `src1Buffer` isn't actually used (it is used for `mulSlice` though, so it's probably better to keep it around so that the interface is consistent). That's why the tests were happy.", "created_at": "2017-03-03T16:16:44Z", "updated_at": "2018-11-23T15:32:44Z", "html_url": "https://github.com/pytorch/pytorch/pull/735#discussion_r104186958", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/735", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/104186958"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/735#discussion_r104186958"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/735"}}, "body_html": "<p>That's interesting, I didn't realize the variant of <code>addSlice</code> with <code>dstBuffer</code> different from <code>src1Buffer</code> isn't actually used (it is used for <code>mulSlice</code> though, so it's probably better to keep it around so that the interface is consistent). That's why the tests were happy.</p>", "body_text": "That's interesting, I didn't realize the variant of addSlice with dstBuffer different from src1Buffer isn't actually used (it is used for mulSlice though, so it's probably better to keep it around so that the interface is consistent). That's why the tests were happy.", "in_reply_to_id": 104181514}