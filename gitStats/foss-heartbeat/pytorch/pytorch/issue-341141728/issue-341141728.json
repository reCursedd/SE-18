{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9430", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9430/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9430/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9430/events", "html_url": "https://github.com/pytorch/pytorch/issues/9430", "id": 341141728, "node_id": "MDU6SXNzdWUzNDExNDE3Mjg=", "number": 9430, "title": "Port dropout to ATen", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-13T19:57:45Z", "updated_at": "2018-08-14T02:50:42Z", "closed_at": "2018-08-13T21:39:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Dropout is currently implemented in Python at <code>torch/nn/_functions/dropout.py</code>. We'd like it to be implemented as a native function in ATen as two functions: an out-of-place <code>dropout</code> and an inplace <code>dropout_</code>.</p>\n<p>Reading material:</p>\n<ul>\n<li>How to add a native function: <a href=\"https://github.com/pytorch/pytorch/tree/master/aten/src/ATen/native/\">https://github.com/pytorch/pytorch/tree/master/aten/src/ATen/native/</a></li>\n<li>Derivatives are added in <code>tools/autograd/derivatives.yaml</code></li>\n<li>You'll need to port the ONNX export. These live in <code>torch/onnx/symbolic.py</code></li>\n</ul>\n<p>Tips:</p>\n<ul>\n<li>There is no context object in native functions; instead, return anything you need to be saved for backwards as outputs of the function</li>\n</ul>\n<p>Note:</p>\n<ul>\n<li>Due to <code>jit</code>'s inability to trace tensor factory method (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"337234307\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9069\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9069/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9069\">#9069</a>), this is actually quite hard to do currently. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> 's ongoing work will be able to support it!</li>\n</ul>\n<p>This task unblocks <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"332170392\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8450\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/8450/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/8450\">#8450</a></p>", "body_text": "Dropout is currently implemented in Python at torch/nn/_functions/dropout.py. We'd like it to be implemented as a native function in ATen as two functions: an out-of-place dropout and an inplace dropout_.\nReading material:\n\nHow to add a native function: https://github.com/pytorch/pytorch/tree/master/aten/src/ATen/native/\nDerivatives are added in tools/autograd/derivatives.yaml\nYou'll need to port the ONNX export. These live in torch/onnx/symbolic.py\n\nTips:\n\nThere is no context object in native functions; instead, return anything you need to be saved for backwards as outputs of the function\n\nNote:\n\nDue to jit's inability to trace tensor factory method (see #9069), this is actually quite hard to do currently. @apaszke 's ongoing work will be able to support it!\n\nThis task unblocks #8450", "body": "Dropout is currently implemented in Python at `torch/nn/_functions/dropout.py`. We'd like it to be implemented as a native function in ATen as two functions: an out-of-place `dropout` and an inplace `dropout_`.\r\n\r\nReading material:\r\n* How to add a native function: https://github.com/pytorch/pytorch/tree/master/aten/src/ATen/native/\r\n* Derivatives are added in `tools/autograd/derivatives.yaml`\r\n* You'll need to port the ONNX export. These live in `torch/onnx/symbolic.py`\r\n\r\nTips:\r\n* There is no context object in native functions; instead, return anything you need to be saved for backwards as outputs of the function\r\n\r\nNote: \r\n* Due to `jit`'s inability to trace tensor factory method (see https://github.com/pytorch/pytorch/issues/9069), this is actually quite hard to do currently. @apaszke 's ongoing work will be able to support it!\r\n\r\nThis task unblocks #8450"}