{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/291743047", "html_url": "https://github.com/pytorch/pytorch/issues/537#issuecomment-291743047", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/537", "id": 291743047, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTc0MzA0Nw==", "user": {"login": "stepelu", "id": 6617696, "node_id": "MDQ6VXNlcjY2MTc2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6617696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepelu", "html_url": "https://github.com/stepelu", "followers_url": "https://api.github.com/users/stepelu/followers", "following_url": "https://api.github.com/users/stepelu/following{/other_user}", "gists_url": "https://api.github.com/users/stepelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepelu/subscriptions", "organizations_url": "https://api.github.com/users/stepelu/orgs", "repos_url": "https://api.github.com/users/stepelu/repos", "events_url": "https://api.github.com/users/stepelu/events{/privacy}", "received_events_url": "https://api.github.com/users/stepelu/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-05T03:40:57Z", "updated_at": "2017-04-05T03:40:57Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a>  yep, I actually just added you to the channel list and ran <code>conda update --all</code>:</p>\n<pre><code>(py3env) stepelu@xxx:~/Dropbox/Prj/pytorch/pthwr$ conda install pytorch torchvision cuda80 -c soumith\nFetching package metadata ...........\nSolving package specifications: .\n\n# All requested packages already installed.\n# packages in environment at /home/stepelu/conda3/envs/py3env:\n#\n\n</code></pre>\n<p>CUDA info:</p>\n<pre><code>NVIDIA-SMI 375.26                 Driver Version: 375.26\n</code></pre>\n<p>So, <code>torch.cuda.is_available()</code> returns True, the call to <code>model.cuda()</code> completes in around 4 minutes, if I interrupt it I get:</p>\n<pre><code>...\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda\n    return self._apply(lambda t: t.cuda(device_id))\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\n    module._apply(fn)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\n    module._apply(fn)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply\n    param.data = fn(param.data)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in &lt;lambda&gt;\n    return self._apply(lambda t: t.cuda(device_id))\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda\n    return new_type(self.size()).copy_(self, async)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 280, in __new__\n    return super(_CudaBase, cls).__new__(cls, *args, **kwargs)\nKeyboardInterrupt\n</code></pre>\n<p>However everything CUDA relates seems to run very slowly.<br>\nFor example I interrupted the code while evaluating for testing and it was way slower than normal and got the following (truncated) stacktrace:</p>\n<pre><code>...\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 64, in forward\n    input = module(input)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 237, in forward\n    self.padding, self.dilation, self.groups)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/functional.py\", line 39, in conv2d\n    return f(input, weight, bias)\nKeyboardInterrupt\n</code></pre>\n<p>Version 0.1.10 doesn't have this issue.</p>\n<p>I cannot completely rule out that it's a problem with the machine I'm training on, but is there anything I can do to help with this issue?</p>", "body_text": "@soumith  yep, I actually just added you to the channel list and ran conda update --all:\n(py3env) stepelu@xxx:~/Dropbox/Prj/pytorch/pthwr$ conda install pytorch torchvision cuda80 -c soumith\nFetching package metadata ...........\nSolving package specifications: .\n\n# All requested packages already installed.\n# packages in environment at /home/stepelu/conda3/envs/py3env:\n#\n\n\nCUDA info:\nNVIDIA-SMI 375.26                 Driver Version: 375.26\n\nSo, torch.cuda.is_available() returns True, the call to model.cuda() completes in around 4 minutes, if I interrupt it I get:\n...\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda\n    return self._apply(lambda t: t.cuda(device_id))\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\n    module._apply(fn)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\n    module._apply(fn)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply\n    param.data = fn(param.data)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in <lambda>\n    return self._apply(lambda t: t.cuda(device_id))\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda\n    return new_type(self.size()).copy_(self, async)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 280, in __new__\n    return super(_CudaBase, cls).__new__(cls, *args, **kwargs)\nKeyboardInterrupt\n\nHowever everything CUDA relates seems to run very slowly.\nFor example I interrupted the code while evaluating for testing and it was way slower than normal and got the following (truncated) stacktrace:\n...\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 64, in forward\n    input = module(input)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 237, in forward\n    self.padding, self.dilation, self.groups)\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/functional.py\", line 39, in conv2d\n    return f(input, weight, bias)\nKeyboardInterrupt\n\nVersion 0.1.10 doesn't have this issue.\nI cannot completely rule out that it's a problem with the machine I'm training on, but is there anything I can do to help with this issue?", "body": "@soumith  yep, I actually just added you to the channel list and ran `conda update --all`:\r\n\r\n```\r\n(py3env) stepelu@xxx:~/Dropbox/Prj/pytorch/pthwr$ conda install pytorch torchvision cuda80 -c soumith\r\nFetching package metadata ...........\r\nSolving package specifications: .\r\n\r\n# All requested packages already installed.\r\n# packages in environment at /home/stepelu/conda3/envs/py3env:\r\n#\r\n\r\n```\r\n\r\nCUDA info:\r\n\r\n```\r\nNVIDIA-SMI 375.26                 Driver Version: 375.26\r\n```\r\n\r\nSo, `torch.cuda.is_available()` returns True, the call to `model.cuda()` completes in around 4 minutes, if I interrupt it I get:\r\n\r\n```\r\n...\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in cuda\r\n    return self._apply(lambda t: t.cuda(device_id))\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\r\n    module._apply(fn)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 118, in _apply\r\n    module._apply(fn)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 124, in _apply\r\n    param.data = fn(param.data)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 147, in <lambda>\r\n    return self._apply(lambda t: t.cuda(device_id))\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda\r\n    return new_type(self.size()).copy_(self, async)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 280, in __new__\r\n    return super(_CudaBase, cls).__new__(cls, *args, **kwargs)\r\nKeyboardInterrupt\r\n```\r\n\r\n\r\nHowever everything CUDA relates seems to run very slowly.\r\nFor example I interrupted the code while evaluating for testing and it was way slower than normal and got the following (truncated) stacktrace:\r\n\r\n```\r\n...\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/container.py\", line 64, in forward\r\n    input = module(input)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 206, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/modules/conv.py\", line 237, in forward\r\n    self.padding, self.dilation, self.groups)\r\n  File \"/home/stepelu/conda3/envs/py3env/lib/python3.6/site-packages/torch/nn/functional.py\", line 39, in conv2d\r\n    return f(input, weight, bias)\r\nKeyboardInterrupt\r\n```\r\n\r\nVersion 0.1.10 doesn't have this issue. \r\n\r\nI cannot completely rule out that it's a problem with the machine I'm training on, but is there anything I can do to help with this issue?"}