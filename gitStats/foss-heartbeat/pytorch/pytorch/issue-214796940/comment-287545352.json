{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/287545352", "html_url": "https://github.com/pytorch/pytorch/pull/1017#issuecomment-287545352", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1017", "id": 287545352, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU0NTM1Mg==", "user": {"login": "skaae", "id": 2623134, "node_id": "MDQ6VXNlcjI2MjMxMzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2623134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skaae", "html_url": "https://github.com/skaae", "followers_url": "https://api.github.com/users/skaae/followers", "following_url": "https://api.github.com/users/skaae/following{/other_user}", "gists_url": "https://api.github.com/users/skaae/gists{/gist_id}", "starred_url": "https://api.github.com/users/skaae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skaae/subscriptions", "organizations_url": "https://api.github.com/users/skaae/orgs", "repos_url": "https://api.github.com/users/skaae/repos", "events_url": "https://api.github.com/users/skaae/events{/privacy}", "received_events_url": "https://api.github.com/users/skaae/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-18T13:08:25Z", "updated_at": "2017-03-18T13:08:25Z", "author_association": "NONE", "body_html": "<p>I think pytorch is still detectig cudnn 5.105 even though I'm building with 6.05.</p>\n<p>I build with</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">export</span> CUDA_HOME=/usr/local/cuda\n<span class=\"pl-k\">export</span> LD_LIBRARY_PATH=/home/sorson/cudnn605/lib64/:/home/sorson/cudnn605/include/\n<span class=\"pl-k\">export</span> CUDNN_LIB_DIR=/home/sorson/cudnn605/lib64/\n<span class=\"pl-k\">export</span> CUDNN_INCLUDE_DIR=/home/sorson/cudnn605/include/\npip install -r requirements.txt\npython setup.py build_deps <span class=\"pl-k\">&amp;&amp;</span> python setup.py develop\n... Build output \n...\n-- Detected cuDNN at /home/sorson/cudnn605/lib64/, /home/sorson/cudnn605/include/</pre></div>\n<p>Then in python</p>\n<pre><code>&gt;&gt;&gt; import torch\n&gt;&gt;&gt; torch.backends.cudnn.is_acceptable(torch.cuda.FloatTensor(1))\n\nTrue\n&gt;&gt;&gt; cudnn_version = torch.backends.cudnn.version()\n&gt;&gt;&gt; print('CUDNN  VERSION', torch.backends.cudnn.version())\nCUDNN VERSION 5105\n</code></pre>\n<p>The full build output is here: <a href=\"https://gist.github.com/skaae/f434450b16df01739bada8a92fcfba97\">https://gist.github.com/skaae/f434450b16df01739bada8a92fcfba97</a></p>\n<p>I have cudnn 5105 in <code>/usr/local/cuda/include</code> and <code>/usr/local/cuda/lib64</code></p>", "body_text": "I think pytorch is still detectig cudnn 5.105 even though I'm building with 6.05.\nI build with\nexport CUDA_HOME=/usr/local/cuda\nexport LD_LIBRARY_PATH=/home/sorson/cudnn605/lib64/:/home/sorson/cudnn605/include/\nexport CUDNN_LIB_DIR=/home/sorson/cudnn605/lib64/\nexport CUDNN_INCLUDE_DIR=/home/sorson/cudnn605/include/\npip install -r requirements.txt\npython setup.py build_deps && python setup.py develop\n... Build output \n...\n-- Detected cuDNN at /home/sorson/cudnn605/lib64/, /home/sorson/cudnn605/include/\nThen in python\n>>> import torch\n>>> torch.backends.cudnn.is_acceptable(torch.cuda.FloatTensor(1))\n\nTrue\n>>> cudnn_version = torch.backends.cudnn.version()\n>>> print('CUDNN  VERSION', torch.backends.cudnn.version())\nCUDNN VERSION 5105\n\nThe full build output is here: https://gist.github.com/skaae/f434450b16df01739bada8a92fcfba97\nI have cudnn 5105 in /usr/local/cuda/include and /usr/local/cuda/lib64", "body": "I think pytorch is still detectig cudnn 5.105 even though I'm building with 6.05. \r\n\r\nI build with\r\n```Bash\r\nexport CUDA_HOME=/usr/local/cuda\r\nexport LD_LIBRARY_PATH=/home/sorson/cudnn605/lib64/:/home/sorson/cudnn605/include/\r\nexport CUDNN_LIB_DIR=/home/sorson/cudnn605/lib64/\r\nexport CUDNN_INCLUDE_DIR=/home/sorson/cudnn605/include/\r\npip install -r requirements.txt\r\npython setup.py build_deps && python setup.py develop\r\n... Build output \r\n...\r\n-- Detected cuDNN at /home/sorson/cudnn605/lib64/, /home/sorson/cudnn605/include/\r\n```\r\nThen in python\r\n```\r\n>>> import torch\r\n>>> torch.backends.cudnn.is_acceptable(torch.cuda.FloatTensor(1))\r\n\r\nTrue\r\n>>> cudnn_version = torch.backends.cudnn.version()\r\n>>> print('CUDNN  VERSION', torch.backends.cudnn.version())\r\nCUDNN VERSION 5105\r\n```\r\nThe full build output is here: https://gist.github.com/skaae/f434450b16df01739bada8a92fcfba97\r\n\r\nI have cudnn 5105 in `/usr/local/cuda/include` and `/usr/local/cuda/lib64`\r\n\r\n\r\n\r\n"}