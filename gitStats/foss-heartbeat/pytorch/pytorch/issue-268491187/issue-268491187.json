{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3287", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3287/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3287/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3287/events", "html_url": "https://github.com/pytorch/pytorch/pull/3287", "id": 268491187, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQ4NzM4MTIy", "number": 3287, "title": "[wip] Add index_add_ and scatter_add_ safety check", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-25T17:55:58Z", "updated_at": "2018-05-18T15:49:06Z", "closed_at": "2018-05-18T15:49:06Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/3287", "html_url": "https://github.com/pytorch/pytorch/pull/3287", "diff_url": "https://github.com/pytorch/pytorch/pull/3287.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/3287.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #3176.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"266831072\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3176\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3176/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3176\">#3176</a>.</p>\n<p>index_add_ and scatter_add_ are not well defined when the input tensor uses the same storage as the output tensor (the result will depend on the order the additions are performed in). This adds a safety check to disallow that.</p>\n<h3>Test Plan</h3>\n<p>Check that the safety checks work when they're supposed to and aren't triggered otherwise.<br>\nRun gist: <a href=\"https://gist.github.com/zou3519/4c57da40fc287fa8a8399308412a5d0d\">https://gist.github.com/zou3519/4c57da40fc287fa8a8399308412a5d0d</a></p>", "body_text": "Fixes #3176.\nindex_add_ and scatter_add_ are not well defined when the input tensor uses the same storage as the output tensor (the result will depend on the order the additions are performed in). This adds a safety check to disallow that.\nTest Plan\nCheck that the safety checks work when they're supposed to and aren't triggered otherwise.\nRun gist: https://gist.github.com/zou3519/4c57da40fc287fa8a8399308412a5d0d", "body": "Fixes #3176.\r\n\r\nindex_add_ and scatter_add_ are not well defined when the input tensor uses the same storage as the output tensor (the result will depend on the order the additions are performed in). This adds a safety check to disallow that.\r\n\r\n### Test Plan\r\nCheck that the safety checks work when they're supposed to and aren't triggered otherwise.\r\nRun gist: https://gist.github.com/zou3519/4c57da40fc287fa8a8399308412a5d0d"}