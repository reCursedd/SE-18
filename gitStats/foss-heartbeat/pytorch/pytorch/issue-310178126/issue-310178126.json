{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6157", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6157/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6157/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6157/events", "html_url": "https://github.com/pytorch/pytorch/issues/6157", "id": 310178126, "node_id": "MDU6SXNzdWUzMTAxNzgxMjY=", "number": 6157, "title": "Sums of ByteTensor Variables are bytes.", "user": {"login": "spott", "id": 53284, "node_id": "MDQ6VXNlcjUzMjg0", "avatar_url": "https://avatars2.githubusercontent.com/u/53284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spott", "html_url": "https://github.com/spott", "followers_url": "https://api.github.com/users/spott/followers", "following_url": "https://api.github.com/users/spott/following{/other_user}", "gists_url": "https://api.github.com/users/spott/gists{/gist_id}", "starred_url": "https://api.github.com/users/spott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spott/subscriptions", "organizations_url": "https://api.github.com/users/spott/orgs", "repos_url": "https://api.github.com/users/spott/repos", "events_url": "https://api.github.com/users/spott/events{/privacy}", "received_events_url": "https://api.github.com/users/spott/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-30T21:57:07Z", "updated_at": "2018-03-30T22:02:23Z", "closed_at": "2018-03-30T22:02:23Z", "author_association": "NONE", "body_html": "<p>This is incredibly unexpected behavior that should have a warning or throw an error:</p>\n<pre><code>var1 = Variable(torch.from_numpy(np.ones(300))).long()\nvar2 = Variable(torch.from_numpy(np.ones(300))).long()\ncount = (var1 == var2).sum()\nprint(count)\n</code></pre>\n<p>prints:</p>\n<pre><code>Variable containing:\n 44\n[torch.ByteTensor of size 1 (GPU 0)]\n</code></pre>\n<p>It should have the value \"300\".</p>\n<p>This is on pytorch 3.1, in python 3.6.  It happens if the variables are cuda variables or not.  It <em>does not</em> happen with tensors, just with variables.</p>", "body_text": "This is incredibly unexpected behavior that should have a warning or throw an error:\nvar1 = Variable(torch.from_numpy(np.ones(300))).long()\nvar2 = Variable(torch.from_numpy(np.ones(300))).long()\ncount = (var1 == var2).sum()\nprint(count)\n\nprints:\nVariable containing:\n 44\n[torch.ByteTensor of size 1 (GPU 0)]\n\nIt should have the value \"300\".\nThis is on pytorch 3.1, in python 3.6.  It happens if the variables are cuda variables or not.  It does not happen with tensors, just with variables.", "body": "This is incredibly unexpected behavior that should have a warning or throw an error:\r\n\r\n```\r\nvar1 = Variable(torch.from_numpy(np.ones(300))).long()\r\nvar2 = Variable(torch.from_numpy(np.ones(300))).long()\r\ncount = (var1 == var2).sum()\r\nprint(count)\r\n```\r\nprints:\r\n```\r\nVariable containing:\r\n 44\r\n[torch.ByteTensor of size 1 (GPU 0)]\r\n```\r\n\r\nIt should have the value \"300\".\r\n\r\nThis is on pytorch 3.1, in python 3.6.  It happens if the variables are cuda variables or not.  It *does not* happen with tensors, just with variables."}