{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/321211287", "html_url": "https://github.com/pytorch/pytorch/issues/2338#issuecomment-321211287", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2338", "id": 321211287, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTIxMTI4Nw==", "user": {"login": "xuancong84", "id": 10172392, "node_id": "MDQ6VXNlcjEwMTcyMzky", "avatar_url": "https://avatars0.githubusercontent.com/u/10172392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuancong84", "html_url": "https://github.com/xuancong84", "followers_url": "https://api.github.com/users/xuancong84/followers", "following_url": "https://api.github.com/users/xuancong84/following{/other_user}", "gists_url": "https://api.github.com/users/xuancong84/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuancong84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuancong84/subscriptions", "organizations_url": "https://api.github.com/users/xuancong84/orgs", "repos_url": "https://api.github.com/users/xuancong84/repos", "events_url": "https://api.github.com/users/xuancong84/events{/privacy}", "received_events_url": "https://api.github.com/users/xuancong84/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-09T10:00:46Z", "updated_at": "2017-08-09T10:00:46Z", "author_association": "NONE", "body_html": "<p>I have just finished benchmarking the correctness/accuracy. Fortunately, the accuracy is the same.<br>\nFor OpenNMT-py, on 1M parallel sentences, using 50k num_ops for subword:<br>\n<strong>v0.1.12_2:</strong><br>\nEpoch 15, 12250/12296; acc:  49.58; ppl:  13.18; 6873 src tok/s; 4762 tgt tok/s;  66690 s elapsed<br>\nTrain perplexity: 12.9717<br>\nTrain accuracy: 49.8811<br>\nValidation perplexity: 22.4254<br>\nValidation accuracy: 46.0955<br>\nFor testing (with beam search)<br>\nBLEU 0.1176<br>\nNIST 4.4079<br>\nTER 0.748756287277025<br>\nMETEOR 0.20517773332505518</p>\n<p><strong>v0.2.0_1:</strong><br>\nEpoch 15, 12250/12296; acc:  50.47; ppl:  12.59; 6505 src tok/s; 4514 tgt tok/s;  73246 s elapsed<br>\nTrain perplexity: 12.9133<br>\nTrain accuracy: 49.9525<br>\nValidation perplexity: 22.5645<br>\nValidation accuracy: 45.7346<br>\nFor testing (with beam search)<br>\nBLEU 0.1144<br>\nNIST 4.2997<br>\nTER 0.7462276337850094<br>\nMETEOR 0.20318649362871716</p>\n<p>The difference is within the random fluctuation margin. So I can conclude that the new version can achieve the same accuracy in calculations.</p>", "body_text": "I have just finished benchmarking the correctness/accuracy. Fortunately, the accuracy is the same.\nFor OpenNMT-py, on 1M parallel sentences, using 50k num_ops for subword:\nv0.1.12_2:\nEpoch 15, 12250/12296; acc:  49.58; ppl:  13.18; 6873 src tok/s; 4762 tgt tok/s;  66690 s elapsed\nTrain perplexity: 12.9717\nTrain accuracy: 49.8811\nValidation perplexity: 22.4254\nValidation accuracy: 46.0955\nFor testing (with beam search)\nBLEU 0.1176\nNIST 4.4079\nTER 0.748756287277025\nMETEOR 0.20517773332505518\nv0.2.0_1:\nEpoch 15, 12250/12296; acc:  50.47; ppl:  12.59; 6505 src tok/s; 4514 tgt tok/s;  73246 s elapsed\nTrain perplexity: 12.9133\nTrain accuracy: 49.9525\nValidation perplexity: 22.5645\nValidation accuracy: 45.7346\nFor testing (with beam search)\nBLEU 0.1144\nNIST 4.2997\nTER 0.7462276337850094\nMETEOR 0.20318649362871716\nThe difference is within the random fluctuation margin. So I can conclude that the new version can achieve the same accuracy in calculations.", "body": "I have just finished benchmarking the correctness/accuracy. Fortunately, the accuracy is the same.\r\nFor OpenNMT-py, on 1M parallel sentences, using 50k num_ops for subword:\r\n**v0.1.12_2:**\r\nEpoch 15, 12250/12296; acc:  49.58; ppl:  13.18; 6873 src tok/s; 4762 tgt tok/s;  66690 s elapsed\r\nTrain perplexity: 12.9717                                                                        \r\nTrain accuracy: 49.8811                                                                          \r\nValidation perplexity: 22.4254                                                                   \r\nValidation accuracy: 46.0955      \r\nFor testing (with beam search)\r\nBLEU 0.1176               \r\nNIST 4.4079               \r\nTER 0.748756287277025     \r\nMETEOR 0.20517773332505518                                                 \r\n\r\n**v0.2.0_1:**\r\nEpoch 15, 12250/12296; acc:  50.47; ppl:  12.59; 6505 src tok/s; 4514 tgt tok/s;  73246 s elapsed\r\nTrain perplexity: 12.9133                                                                        \r\nTrain accuracy: 49.9525                                                                          \r\nValidation perplexity: 22.5645                                                                   \r\nValidation accuracy: 45.7346                                                                     \r\nFor testing (with beam search)\r\nBLEU 0.1144               \r\nNIST 4.2997               \r\nTER 0.7462276337850094    \r\nMETEOR 0.20318649362871716\r\n\r\nThe difference is within the random fluctuation margin. So I can conclude that the new version can achieve the same accuracy in calculations."}