{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/424723645", "html_url": "https://github.com/pytorch/pytorch/pull/11846#issuecomment-424723645", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11846", "id": 424723645, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDcyMzY0NQ==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-26T13:53:15Z", "updated_at": "2018-09-26T13:53:15Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=22670479\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zrphercule\">@zrphercule</a> When you say leak problems, do you mean this error?</p>\n<pre><code>03:27:12 ==6370== Warning: noted but unhandled ioctl 0x30000001 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x27 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x7ff with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x25 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x17 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: set address range perms: large range [0x1000000000, 0x4e00000000) (noaccess)\n03:27:14 ==6370== Warning: set address range perms: large range [0x200000000, 0x700000000) (noaccess)\n03:27:14 ==6370== Warning: set address range perms: large range [0x3c14d000, 0x5c14c000) (noaccess)\n03:27:14 vex amd64-&gt;IR: unhandled instruction bytes: 0xF 0xC7 0xF0 0x89 0x44 0x24 0xC 0xF\n03:27:14 vex amd64-&gt;IR:   REX=0 REX.W=0 REX.R=0 REX.X=0 REX.B=0\n03:27:14 vex amd64-&gt;IR:   VEX=0 VEX.L=0 VEX.nVVVV=0x0 ESC=0F\n03:27:14 vex amd64-&gt;IR:   PFX.66=0 PFX.F2=0 PFX.F3=0\n03:27:14 ==6370== valgrind: Unrecognised instruction at address 0x40e6a41.\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x73: ???\n03:27:14 ==6370==    by 0x337B641F: ???\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0x337B57EF: ???\n03:27:14 ==6370==    by 0x337C067F: ???\n03:27:14 ==6370== Your program just tried to execute an instruction that Valgrind\n03:27:14 ==6370== did not recognise.  There are two possible reasons for this.\n03:27:14 ==6370== 1. Your program has a bug and erroneously jumped to a non-code\n03:27:14 ==6370==    location.  If you are running Memcheck and you just saw a\n03:27:14 ==6370==    warning about a bad jump, it's probably your program's fault.\n03:27:14 ==6370== 2. The instruction is legitimate but Valgrind doesn't handle it,\n03:27:14 ==6370==    i.e. it's Valgrind's fault.  If you think this is the case or\n03:27:14 ==6370==    you are not sure, please let us know and we'll try to fix it.\n03:27:14 ==6370== Either way, Valgrind will now raise a SIGILL signal which will\n03:27:14 ==6370== probably kill your program.\n03:27:14 ==6370== \n03:27:14 ==6370== Process terminating with default action of signal 4 (SIGILL): dumping core\n03:27:14 ==6370==  Illegal opcode at address 0x40E6A41\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x73: ???\n03:27:14 ==6370==    by 0x337B641F: ???\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0x337B57EF: ???\n03:27:14 ==6370==    by 0x337C067F: ???\n03:27:16 ==6370== \n03:27:16 ==6370== HEAP SUMMARY:\n03:27:16 ==6370==     in use at exit: 7,066,633 bytes in 72,797 blocks\n03:27:16 ==6370==   total heap usage: 1,287,426 allocs, 1,214,629 frees, 490,560,597 bytes allocated\n03:27:16 ==6370== \n03:27:16 ==6370== LEAK SUMMARY:\n03:27:16 ==6370==    definitely lost: 0 bytes in 0 blocks\n03:27:16 ==6370==    indirectly lost: 0 bytes in 0 blocks\n03:27:16 ==6370==      possibly lost: 4,400 bytes in 32 blocks\n03:27:16 ==6370==    still reachable: 7,062,233 bytes in 72,765 blocks\n03:27:16 ==6370==         suppressed: 0 bytes in 0 blocks\n03:27:16 ==6370== Rerun with --leak-check=full to see details of leaked memory\n03:27:16 ==6370== \n03:27:16 ==6370== For counts of detected and suppressed errors, rerun with: -v\n03:27:16 ==6370== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n03:27:16 aten/tools/run_tests.sh: line 40:  6370 Killed                  valgrind --suppressions=\"$VALGRIND_SUP\" --error-exitcode=1 ./basic \"[cpu]\"\n03:27:16 + cleanup\n03:27:16 + retcode=137\n03:27:16 + set +x\n03:27:16 =================== sccache compilation log ===================\n03:27:16 =========== If your build fails, please take a look at the log above for possible reasons ===========\n03:27:16 Compile requests               150\n03:27:16 Compile requests executed       73\n03:27:16 Cache hits                      23\n03:27:16 Cache misses                    50\n03:27:16 Cache timeouts                   0\n03:27:16 Cache read errors                0\n03:27:16 Forced recaches                  0\n03:27:16 Cache write errors               0\n03:27:16 Compilation failures             0\n03:27:16 Cache errors                     0\n03:27:16 Non-cacheable compilations       0\n03:27:16 Non-cacheable calls             30\n03:27:16 Non-compilation calls           47\n03:27:16 Unsupported compiler calls       0\n03:27:16 Average cache write          0.000 s\n03:27:16 Average cache read miss      1.663 s\n03:27:16 Average cache read hit       0.010 s\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\n03:27:16 Cache size                       7 MiB\n03:27:16 Max cache size                  10 GiB\n03:27:16 Stopping sccache server...\n03:27:16 Compile requests               150\n03:27:16 Compile requests executed       73\n03:27:16 Cache hits                      23\n03:27:16 Cache misses                    50\n03:27:16 Cache timeouts                   0\n03:27:16 Cache read errors                0\n03:27:16 Forced recaches                  0\n03:27:16 Cache write errors               0\n03:27:16 Compilation failures             0\n03:27:16 Cache errors                     0\n03:27:16 Non-cacheable compilations       0\n03:27:16 Non-cacheable calls             30\n03:27:16 Non-compilation calls           47\n03:27:16 Unsupported compiler calls       0\n03:27:16 Average cache write          0.000 s\n03:27:16 Average cache read miss      1.663 s\n03:27:16 Average cache read hit       0.010 s\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\n03:27:16 Cache size                       7 MiB\n03:27:16 Max cache size                  10 GiB\n03:27:16 + echo 'Stopping container...'\n03:27:16 Stopping container...\n</code></pre>\n<p>Valgrind is choking for a very different reason: it's hitting an unrecognized instruction. 0xF 0xC7 is RDRAND <a href=\"https://en.wikipedia.org/wiki/RdRand\" rel=\"nofollow\">https://en.wikipedia.org/wiki/RdRand</a> and it is known to not be supported on some versions of valgrind. One way to fix this problem is try to install a newer version of valgrind on these servers.</p>", "body_text": "@zrphercule When you say leak problems, do you mean this error?\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x30000001 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x27 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x7ff with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x25 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x17 with no size/direction hints.\n03:27:12 ==6370==    This could cause spurious value errors to appear.\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\n03:27:12 ==6370== Warning: set address range perms: large range [0x1000000000, 0x4e00000000) (noaccess)\n03:27:14 ==6370== Warning: set address range perms: large range [0x200000000, 0x700000000) (noaccess)\n03:27:14 ==6370== Warning: set address range perms: large range [0x3c14d000, 0x5c14c000) (noaccess)\n03:27:14 vex amd64->IR: unhandled instruction bytes: 0xF 0xC7 0xF0 0x89 0x44 0x24 0xC 0xF\n03:27:14 vex amd64->IR:   REX=0 REX.W=0 REX.R=0 REX.X=0 REX.B=0\n03:27:14 vex amd64->IR:   VEX=0 VEX.L=0 VEX.nVVVV=0x0 ESC=0F\n03:27:14 vex amd64->IR:   PFX.66=0 PFX.F2=0 PFX.F3=0\n03:27:14 ==6370== valgrind: Unrecognised instruction at address 0x40e6a41.\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x73: ???\n03:27:14 ==6370==    by 0x337B641F: ???\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0x337B57EF: ???\n03:27:14 ==6370==    by 0x337C067F: ???\n03:27:14 ==6370== Your program just tried to execute an instruction that Valgrind\n03:27:14 ==6370== did not recognise.  There are two possible reasons for this.\n03:27:14 ==6370== 1. Your program has a bug and erroneously jumped to a non-code\n03:27:14 ==6370==    location.  If you are running Memcheck and you just saw a\n03:27:14 ==6370==    warning about a bad jump, it's probably your program's fault.\n03:27:14 ==6370== 2. The instruction is legitimate but Valgrind doesn't handle it,\n03:27:14 ==6370==    i.e. it's Valgrind's fault.  If you think this is the case or\n03:27:14 ==6370==    you are not sure, please let us know and we'll try to fix it.\n03:27:14 ==6370== Either way, Valgrind will now raise a SIGILL signal which will\n03:27:14 ==6370== probably kill your program.\n03:27:14 ==6370== \n03:27:14 ==6370== Process terminating with default action of signal 4 (SIGILL): dumping core\n03:27:14 ==6370==  Illegal opcode at address 0x40E6A41\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x73: ???\n03:27:14 ==6370==    by 0x337B641F: ???\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\n03:27:14 ==6370==    by 0x337B57EF: ???\n03:27:14 ==6370==    by 0x337C067F: ???\n03:27:16 ==6370== \n03:27:16 ==6370== HEAP SUMMARY:\n03:27:16 ==6370==     in use at exit: 7,066,633 bytes in 72,797 blocks\n03:27:16 ==6370==   total heap usage: 1,287,426 allocs, 1,214,629 frees, 490,560,597 bytes allocated\n03:27:16 ==6370== \n03:27:16 ==6370== LEAK SUMMARY:\n03:27:16 ==6370==    definitely lost: 0 bytes in 0 blocks\n03:27:16 ==6370==    indirectly lost: 0 bytes in 0 blocks\n03:27:16 ==6370==      possibly lost: 4,400 bytes in 32 blocks\n03:27:16 ==6370==    still reachable: 7,062,233 bytes in 72,765 blocks\n03:27:16 ==6370==         suppressed: 0 bytes in 0 blocks\n03:27:16 ==6370== Rerun with --leak-check=full to see details of leaked memory\n03:27:16 ==6370== \n03:27:16 ==6370== For counts of detected and suppressed errors, rerun with: -v\n03:27:16 ==6370== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n03:27:16 aten/tools/run_tests.sh: line 40:  6370 Killed                  valgrind --suppressions=\"$VALGRIND_SUP\" --error-exitcode=1 ./basic \"[cpu]\"\n03:27:16 + cleanup\n03:27:16 + retcode=137\n03:27:16 + set +x\n03:27:16 =================== sccache compilation log ===================\n03:27:16 =========== If your build fails, please take a look at the log above for possible reasons ===========\n03:27:16 Compile requests               150\n03:27:16 Compile requests executed       73\n03:27:16 Cache hits                      23\n03:27:16 Cache misses                    50\n03:27:16 Cache timeouts                   0\n03:27:16 Cache read errors                0\n03:27:16 Forced recaches                  0\n03:27:16 Cache write errors               0\n03:27:16 Compilation failures             0\n03:27:16 Cache errors                     0\n03:27:16 Non-cacheable compilations       0\n03:27:16 Non-cacheable calls             30\n03:27:16 Non-compilation calls           47\n03:27:16 Unsupported compiler calls       0\n03:27:16 Average cache write          0.000 s\n03:27:16 Average cache read miss      1.663 s\n03:27:16 Average cache read hit       0.010 s\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\n03:27:16 Cache size                       7 MiB\n03:27:16 Max cache size                  10 GiB\n03:27:16 Stopping sccache server...\n03:27:16 Compile requests               150\n03:27:16 Compile requests executed       73\n03:27:16 Cache hits                      23\n03:27:16 Cache misses                    50\n03:27:16 Cache timeouts                   0\n03:27:16 Cache read errors                0\n03:27:16 Forced recaches                  0\n03:27:16 Cache write errors               0\n03:27:16 Compilation failures             0\n03:27:16 Cache errors                     0\n03:27:16 Non-cacheable compilations       0\n03:27:16 Non-cacheable calls             30\n03:27:16 Non-compilation calls           47\n03:27:16 Unsupported compiler calls       0\n03:27:16 Average cache write          0.000 s\n03:27:16 Average cache read miss      1.663 s\n03:27:16 Average cache read hit       0.010 s\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\n03:27:16 Cache size                       7 MiB\n03:27:16 Max cache size                  10 GiB\n03:27:16 + echo 'Stopping container...'\n03:27:16 Stopping container...\n\nValgrind is choking for a very different reason: it's hitting an unrecognized instruction. 0xF 0xC7 is RDRAND https://en.wikipedia.org/wiki/RdRand and it is known to not be supported on some versions of valgrind. One way to fix this problem is try to install a newer version of valgrind on these servers.", "body": "@zrphercule When you say leak problems, do you mean this error?\r\n\r\n```\r\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x30000001 with no size/direction hints.\r\n03:27:12 ==6370==    This could cause spurious value errors to appear.\r\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\r\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x27 with no size/direction hints.\r\n03:27:12 ==6370==    This could cause spurious value errors to appear.\r\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\r\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x7ff with no size/direction hints.\r\n03:27:12 ==6370==    This could cause spurious value errors to appear.\r\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\r\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x25 with no size/direction hints.\r\n03:27:12 ==6370==    This could cause spurious value errors to appear.\r\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\r\n03:27:12 ==6370== Warning: noted but unhandled ioctl 0x17 with no size/direction hints.\r\n03:27:12 ==6370==    This could cause spurious value errors to appear.\r\n03:27:12 ==6370==    See README_MISSING_SYSCALL_OR_IOCTL for guidance on writing a proper wrapper.\r\n03:27:12 ==6370== Warning: set address range perms: large range [0x1000000000, 0x4e00000000) (noaccess)\r\n03:27:14 ==6370== Warning: set address range perms: large range [0x200000000, 0x700000000) (noaccess)\r\n03:27:14 ==6370== Warning: set address range perms: large range [0x3c14d000, 0x5c14c000) (noaccess)\r\n03:27:14 vex amd64->IR: unhandled instruction bytes: 0xF 0xC7 0xF0 0x89 0x44 0x24 0xC 0xF\r\n03:27:14 vex amd64->IR:   REX=0 REX.W=0 REX.R=0 REX.X=0 REX.B=0\r\n03:27:14 vex amd64->IR:   VEX=0 VEX.L=0 VEX.nVVVV=0x0 ESC=0F\r\n03:27:14 vex amd64->IR:   PFX.66=0 PFX.F2=0 PFX.F3=0\r\n03:27:14 ==6370== valgrind: Unrecognised instruction at address 0x40e6a41.\r\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\r\n03:27:14 ==6370==    by 0x73: ???\r\n03:27:14 ==6370==    by 0x337B641F: ???\r\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\r\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0x337B57EF: ???\r\n03:27:14 ==6370==    by 0x337C067F: ???\r\n03:27:14 ==6370== Your program just tried to execute an instruction that Valgrind\r\n03:27:14 ==6370== did not recognise.  There are two possible reasons for this.\r\n03:27:14 ==6370== 1. Your program has a bug and erroneously jumped to a non-code\r\n03:27:14 ==6370==    location.  If you are running Memcheck and you just saw a\r\n03:27:14 ==6370==    warning about a bad jump, it's probably your program's fault.\r\n03:27:14 ==6370== 2. The instruction is legitimate but Valgrind doesn't handle it,\r\n03:27:14 ==6370==    i.e. it's Valgrind's fault.  If you think this is the case or\r\n03:27:14 ==6370==    you are not sure, please let us know and we'll try to fix it.\r\n03:27:14 ==6370== Either way, Valgrind will now raise a SIGILL signal which will\r\n03:27:14 ==6370== probably kill your program.\r\n03:27:14 ==6370== \r\n03:27:14 ==6370== Process terminating with default action of signal 4 (SIGILL): dumping core\r\n03:27:14 ==6370==  Illegal opcode at address 0x40E6A41\r\n03:27:14 ==6370==    at 0x40E6A41: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\r\n03:27:14 ==6370==    by 0x73: ???\r\n03:27:14 ==6370==    by 0x337B641F: ???\r\n03:27:14 ==6370==    by 0x40E6B2A: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0xFFEFFDF0F: ???\r\n03:27:14 ==6370==    by 0x40E6A83: ??? (in /opt/conda/lib/libstdc++.so.6.0.25)\r\n03:27:14 ==6370==    by 0x337B57EF: ???\r\n03:27:14 ==6370==    by 0x337C067F: ???\r\n03:27:16 ==6370== \r\n03:27:16 ==6370== HEAP SUMMARY:\r\n03:27:16 ==6370==     in use at exit: 7,066,633 bytes in 72,797 blocks\r\n03:27:16 ==6370==   total heap usage: 1,287,426 allocs, 1,214,629 frees, 490,560,597 bytes allocated\r\n03:27:16 ==6370== \r\n03:27:16 ==6370== LEAK SUMMARY:\r\n03:27:16 ==6370==    definitely lost: 0 bytes in 0 blocks\r\n03:27:16 ==6370==    indirectly lost: 0 bytes in 0 blocks\r\n03:27:16 ==6370==      possibly lost: 4,400 bytes in 32 blocks\r\n03:27:16 ==6370==    still reachable: 7,062,233 bytes in 72,765 blocks\r\n03:27:16 ==6370==         suppressed: 0 bytes in 0 blocks\r\n03:27:16 ==6370== Rerun with --leak-check=full to see details of leaked memory\r\n03:27:16 ==6370== \r\n03:27:16 ==6370== For counts of detected and suppressed errors, rerun with: -v\r\n03:27:16 ==6370== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\r\n03:27:16 aten/tools/run_tests.sh: line 40:  6370 Killed                  valgrind --suppressions=\"$VALGRIND_SUP\" --error-exitcode=1 ./basic \"[cpu]\"\r\n03:27:16 + cleanup\r\n03:27:16 + retcode=137\r\n03:27:16 + set +x\r\n03:27:16 =================== sccache compilation log ===================\r\n03:27:16 =========== If your build fails, please take a look at the log above for possible reasons ===========\r\n03:27:16 Compile requests               150\r\n03:27:16 Compile requests executed       73\r\n03:27:16 Cache hits                      23\r\n03:27:16 Cache misses                    50\r\n03:27:16 Cache timeouts                   0\r\n03:27:16 Cache read errors                0\r\n03:27:16 Forced recaches                  0\r\n03:27:16 Cache write errors               0\r\n03:27:16 Compilation failures             0\r\n03:27:16 Cache errors                     0\r\n03:27:16 Non-cacheable compilations       0\r\n03:27:16 Non-cacheable calls             30\r\n03:27:16 Non-compilation calls           47\r\n03:27:16 Unsupported compiler calls       0\r\n03:27:16 Average cache write          0.000 s\r\n03:27:16 Average cache read miss      1.663 s\r\n03:27:16 Average cache read hit       0.010 s\r\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\r\n03:27:16 Cache size                       7 MiB\r\n03:27:16 Max cache size                  10 GiB\r\n03:27:16 Stopping sccache server...\r\n03:27:16 Compile requests               150\r\n03:27:16 Compile requests executed       73\r\n03:27:16 Cache hits                      23\r\n03:27:16 Cache misses                    50\r\n03:27:16 Cache timeouts                   0\r\n03:27:16 Cache read errors                0\r\n03:27:16 Forced recaches                  0\r\n03:27:16 Cache write errors               0\r\n03:27:16 Compilation failures             0\r\n03:27:16 Cache errors                     0\r\n03:27:16 Non-cacheable compilations       0\r\n03:27:16 Non-cacheable calls             30\r\n03:27:16 Non-compilation calls           47\r\n03:27:16 Unsupported compiler calls       0\r\n03:27:16 Average cache write          0.000 s\r\n03:27:16 Average cache read miss      1.663 s\r\n03:27:16 Average cache read hit       0.010 s\r\n03:27:16 Cache location             Local disk: \"/var/lib/jenkins/.cache/sccache\"\r\n03:27:16 Cache size                       7 MiB\r\n03:27:16 Max cache size                  10 GiB\r\n03:27:16 + echo 'Stopping container...'\r\n03:27:16 Stopping container...\r\n```\r\n\r\nValgrind is choking for a very different reason: it's hitting an unrecognized instruction. 0xF 0xC7 is RDRAND https://en.wikipedia.org/wiki/RdRand and it is known to not be supported on some versions of valgrind. One way to fix this problem is try to install a newer version of valgrind on these servers."}