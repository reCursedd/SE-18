{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6838", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6838/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6838/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6838/events", "html_url": "https://github.com/pytorch/pytorch/issues/6838", "id": 316473284, "node_id": "MDU6SXNzdWUzMTY0NzMyODQ=", "number": 6838, "title": "[Pytorch] Weird behavior of LBFGS optim.", "user": {"login": "fehiepsi", "id": 4736342, "node_id": "MDQ6VXNlcjQ3MzYzNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/4736342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fehiepsi", "html_url": "https://github.com/fehiepsi", "followers_url": "https://api.github.com/users/fehiepsi/followers", "following_url": "https://api.github.com/users/fehiepsi/following{/other_user}", "gists_url": "https://api.github.com/users/fehiepsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/fehiepsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fehiepsi/subscriptions", "organizations_url": "https://api.github.com/users/fehiepsi/orgs", "repos_url": "https://api.github.com/users/fehiepsi/repos", "events_url": "https://api.github.com/users/fehiepsi/events{/privacy}", "received_events_url": "https://api.github.com/users/fehiepsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-21T08:23:53Z", "updated_at": "2018-06-22T11:20:25Z", "closed_at": "2018-06-22T11:20:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I am trying to use LBFGS to optimize acquisition function of a Bayesian optimization process. During the training, I observed that LBFGS made some weird behavior at some points.</p>\n<p>Here is the notebook to observe the issue:<br>\n<a href=\"https://gist.github.com/fehiepsi/bda728ca40b7cb46208eb355b312bacd\">https://gist.github.com/fehiepsi/bda728ca40b7cb46208eb355b312bacd</a></p>\n<p>At the 4-to-last steps, despite that the previous x_grad is small, the new unconstrained_x has made a big move. So I think that this is a problem of LBFGS.</p>\n<p>FYI, I used the lastest pytorch version in 0.4 branch.</p>", "body_text": "I am trying to use LBFGS to optimize acquisition function of a Bayesian optimization process. During the training, I observed that LBFGS made some weird behavior at some points.\nHere is the notebook to observe the issue:\nhttps://gist.github.com/fehiepsi/bda728ca40b7cb46208eb355b312bacd\nAt the 4-to-last steps, despite that the previous x_grad is small, the new unconstrained_x has made a big move. So I think that this is a problem of LBFGS.\nFYI, I used the lastest pytorch version in 0.4 branch.", "body": "I am trying to use LBFGS to optimize acquisition function of a Bayesian optimization process. During the training, I observed that LBFGS made some weird behavior at some points.\r\n\r\nHere is the notebook to observe the issue:\r\nhttps://gist.github.com/fehiepsi/bda728ca40b7cb46208eb355b312bacd\r\n\r\nAt the 4-to-last steps, despite that the previous x_grad is small, the new unconstrained_x has made a big move. So I think that this is a problem of LBFGS.\r\n\r\nFYI, I used the lastest pytorch version in 0.4 branch."}