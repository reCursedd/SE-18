{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/432013926", "html_url": "https://github.com/pytorch/pytorch/pull/12916#issuecomment-432013926", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12916", "id": 432013926, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjAxMzkyNg==", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-22T22:30:10Z", "updated_at": "2018-10-22T22:30:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p>This breaks for me on python2:</p>\n<pre><code>[zdevito@devgpu172.prn2 /data/users/zdevito/pytorch] doit build develop &amp;&amp; python test/test_jit.py\nNVCC VERSION nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2018 NVIDIA Corporation Built on Wed_Apr_11_23:16:29_CDT_2018 Cuda compilation tools, release 9.2, V9.2.88\nGCC=/home/zdevito/local/ccache/bin/gcc\nNVCC=/usr/local/cuda/bin/nvcc\nCUDA_NVCC_EXECUTABLE=/home/zdevito/local/ccache/cuda/nvcc\nBuilding wheel torch-1.0.0a0+e64f75a\nrunning build\nrunning build_deps\nsetup.py::build_deps::run()\n+ SYNC_COMMAND=cp\n++ command -v rsync\n+ '[' -x /bin/rsync ']'\n+ SYNC_COMMAND='rsync -lptgoD'\n+ CMAKE_COMMAND=cmake\n++ command -v cmake3\n+ [[ -x /bin/cmake3 ]]\n++ command -v cmake\n+ [[ -x /home/zdevito/local/anaconda2/bin/cmake ]]\n++ cmake --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE_VERSION=3.11.1\n++ cmake3 --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE3_VERSION=\n++ /home/zdevito/local/anaconda2/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") &gt;= StrictVersion(\"3.11.1\") else 0)'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/home/zdevito/local/anaconda2/lib/python2.7/distutils/version.py\", line 140, in __cmp__\n    compare = cmp(self.version, other.version)\nAttributeError: StrictVersion instance has no attribute 'version'\n+ CMAKE3_IS_NEWER=\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm c10d THD'\ntotal build time: 0:00:00.565524, total build time today: 0:00:03.531141\n</code></pre>", "body_text": "This breaks for me on python2:\n[zdevito@devgpu172.prn2 /data/users/zdevito/pytorch] doit build develop && python test/test_jit.py\nNVCC VERSION nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2018 NVIDIA Corporation Built on Wed_Apr_11_23:16:29_CDT_2018 Cuda compilation tools, release 9.2, V9.2.88\nGCC=/home/zdevito/local/ccache/bin/gcc\nNVCC=/usr/local/cuda/bin/nvcc\nCUDA_NVCC_EXECUTABLE=/home/zdevito/local/ccache/cuda/nvcc\nBuilding wheel torch-1.0.0a0+e64f75a\nrunning build\nrunning build_deps\nsetup.py::build_deps::run()\n+ SYNC_COMMAND=cp\n++ command -v rsync\n+ '[' -x /bin/rsync ']'\n+ SYNC_COMMAND='rsync -lptgoD'\n+ CMAKE_COMMAND=cmake\n++ command -v cmake3\n+ [[ -x /bin/cmake3 ]]\n++ command -v cmake\n+ [[ -x /home/zdevito/local/anaconda2/bin/cmake ]]\n++ cmake --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE_VERSION=3.11.1\n++ cmake3 --version\n++ grep 'cmake version'\n++ awk '{print $NF}'\n+ CMAKE3_VERSION=\n++ /home/zdevito/local/anaconda2/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") >= StrictVersion(\"3.11.1\") else 0)'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/zdevito/local/anaconda2/lib/python2.7/distutils/version.py\", line 140, in __cmp__\n    compare = cmp(self.version, other.version)\nAttributeError: StrictVersion instance has no attribute 'version'\n+ CMAKE3_IS_NEWER=\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm c10d THD'\ntotal build time: 0:00:00.565524, total build time today: 0:00:03.531141", "body": "This breaks for me on python2:\r\n\r\n```\r\n[zdevito@devgpu172.prn2 /data/users/zdevito/pytorch] doit build develop && python test/test_jit.py\r\nNVCC VERSION nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2018 NVIDIA Corporation Built on Wed_Apr_11_23:16:29_CDT_2018 Cuda compilation tools, release 9.2, V9.2.88\r\nGCC=/home/zdevito/local/ccache/bin/gcc\r\nNVCC=/usr/local/cuda/bin/nvcc\r\nCUDA_NVCC_EXECUTABLE=/home/zdevito/local/ccache/cuda/nvcc\r\nBuilding wheel torch-1.0.0a0+e64f75a\r\nrunning build\r\nrunning build_deps\r\nsetup.py::build_deps::run()\r\n+ SYNC_COMMAND=cp\r\n++ command -v rsync\r\n+ '[' -x /bin/rsync ']'\r\n+ SYNC_COMMAND='rsync -lptgoD'\r\n+ CMAKE_COMMAND=cmake\r\n++ command -v cmake3\r\n+ [[ -x /bin/cmake3 ]]\r\n++ command -v cmake\r\n+ [[ -x /home/zdevito/local/anaconda2/bin/cmake ]]\r\n++ cmake --version\r\n++ grep 'cmake version'\r\n++ awk '{print $NF}'\r\n+ CMAKE_VERSION=3.11.1\r\n++ cmake3 --version\r\n++ grep 'cmake version'\r\n++ awk '{print $NF}'\r\n+ CMAKE3_VERSION=\r\n++ /home/zdevito/local/anaconda2/bin/python -c 'from distutils.version import StrictVersion; print(1 if StrictVersion(\"\") >= StrictVersion(\"3.11.1\") else 0)'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/home/zdevito/local/anaconda2/lib/python2.7/distutils/version.py\", line 140, in __cmp__\r\n    compare = cmp(self.version, other.version)\r\nAttributeError: StrictVersion instance has no attribute 'version'\r\n+ CMAKE3_IS_NEWER=\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm c10d THD'\r\ntotal build time: 0:00:00.565524, total build time today: 0:00:03.531141\r\n```"}