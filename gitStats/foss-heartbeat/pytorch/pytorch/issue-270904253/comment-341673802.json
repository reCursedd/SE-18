{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/341673802", "html_url": "https://github.com/pytorch/pytorch/pull/3463#issuecomment-341673802", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3463", "id": 341673802, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTY3MzgwMg==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-03T11:00:49Z", "updated_at": "2017-11-03T11:00:49Z", "author_association": "MEMBER", "body_html": "<p>This will not work. Even if you move the state to CUDA, the parameters held in the optimizer will still point to the old ones on CPU (<code>module.cuda()</code> doesn't update it anyhow). In general all device changes require re-creating the optimizer and there's nothing that can be done about it. I have another patch that resolves these issues but I have to finalize it. Thanks for the PR!</p>", "body_text": "This will not work. Even if you move the state to CUDA, the parameters held in the optimizer will still point to the old ones on CPU (module.cuda() doesn't update it anyhow). In general all device changes require re-creating the optimizer and there's nothing that can be done about it. I have another patch that resolves these issues but I have to finalize it. Thanks for the PR!", "body": "This will not work. Even if you move the state to CUDA, the parameters held in the optimizer will still point to the old ones on CPU (`module.cuda()` doesn't update it anyhow). In general all device changes require re-creating the optimizer and there's nothing that can be done about it. I have another patch that resolves these issues but I have to finalize it. Thanks for the PR!"}