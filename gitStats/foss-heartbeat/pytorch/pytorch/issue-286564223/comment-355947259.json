{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/355947259", "html_url": "https://github.com/pytorch/pytorch/issues/4523#issuecomment-355947259", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4523", "id": 355947259, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTk0NzI1OQ==", "user": {"login": "klyao", "id": 9946494, "node_id": "MDQ6VXNlcjk5NDY0OTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/9946494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klyao", "html_url": "https://github.com/klyao", "followers_url": "https://api.github.com/users/klyao/followers", "following_url": "https://api.github.com/users/klyao/following{/other_user}", "gists_url": "https://api.github.com/users/klyao/gists{/gist_id}", "starred_url": "https://api.github.com/users/klyao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klyao/subscriptions", "organizations_url": "https://api.github.com/users/klyao/orgs", "repos_url": "https://api.github.com/users/klyao/repos", "events_url": "https://api.github.com/users/klyao/events{/privacy}", "received_events_url": "https://api.github.com/users/klyao/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-08T11:53:43Z", "updated_at": "2018-01-08T12:21:16Z", "author_association": "NONE", "body_html": "<p>torch version: 0.2.0_4\u3002</p>\n<p>completely different means that they got a different result, but actually it should get the same result because  torch.mm(c-b, e).to_dense()) and torch.mm(c.to_dense()-b.to_dense(), e)) are equal operations.</p>\n<pre><code>a FloatTensor of size 5x5 with indices:\n\n    0     1     1     2     2     2     3     4     4\n    0     3     4     0     1     2     1     0     2\n[torch.LongTensor of size 2x9]\nand values:\n\n 0.1158\n 0.6157\n 0.4471\n 0.7534\n 0.1117\n 1.0840\n 0.7736\n 0.6148\n 0.0119\n[torch.FloatTensor of size 9]\n\nindice shape[0] 9\nsp_mat FloatTensor of size 5x5 with indices:\n\n 4  1  3  2\n 0  3  1  2\n[torch.LongTensor of size 2x4]\nand values:\n\n 0.6148\n 0.6157\n 0.7736\n 1.0840\n[torch.FloatTensor of size 4]\n\nmaska [[False False  True False]\n [ True  True  True False]\n [False  True  True False]\n [ True  True  True False]]\nmaskb [[ True  True False False]\n [ True  True  True False]\n [ True  True False False]\n [False False  True False]]\nc   (1, 0)\t0.0563150498228\n  (1, 1)\t1.03345423705\n  (1, 2)\t0.485153149501\n  (2, 1)\t0.646971010225\n  (3, 2)\t0.641284682773\nc.data [ 0.05631505  1.03345424  0.48515315  0.64697101  0.64128468]\nc.t() FloatTensor of size 4x4 with indices:\n\n 0  1  1  2  2\n 1  1  2  1  3\n[torch.LongTensor of size 2x5]\nand values:\n\n 0.0563\n 1.0335\n 0.6470\n 0.4852\n 0.6413\n[torch.FloatTensor of size 5]\n\ne \n 0  2  1  2\n 0  2  2  2\n 1  0  2  1\n 2  2  0  2\n[torch.FloatTensor of size 4x4]\n\ntorch.mm(c - b, e) \n 0.0000 -3.8641 -2.5149 -3.8641\n-0.2720 -3.2883 -2.2624 -3.5603\n 0.0000  0.0000  0.0000  0.0000\n-1.0113  0.0000 -2.0226 -1.0113\n[torch.FloatTensor of size 4x4]\n\ntorch.mm(c.to_dense() - b.to_dense(), e) \n 0.0000 -3.8641 -2.5149 -3.8641\n-0.2720 -1.0218 -1.0336 -1.2939\n 0.0000 -2.2665 -1.2289 -2.2665\n-1.0113  0.0000 -2.0226 -1.0113\n[torch.FloatTensor of size 4x4]\n</code></pre>", "body_text": "torch version: 0.2.0_4\u3002\ncompletely different means that they got a different result, but actually it should get the same result because  torch.mm(c-b, e).to_dense()) and torch.mm(c.to_dense()-b.to_dense(), e)) are equal operations.\na FloatTensor of size 5x5 with indices:\n\n    0     1     1     2     2     2     3     4     4\n    0     3     4     0     1     2     1     0     2\n[torch.LongTensor of size 2x9]\nand values:\n\n 0.1158\n 0.6157\n 0.4471\n 0.7534\n 0.1117\n 1.0840\n 0.7736\n 0.6148\n 0.0119\n[torch.FloatTensor of size 9]\n\nindice shape[0] 9\nsp_mat FloatTensor of size 5x5 with indices:\n\n 4  1  3  2\n 0  3  1  2\n[torch.LongTensor of size 2x4]\nand values:\n\n 0.6148\n 0.6157\n 0.7736\n 1.0840\n[torch.FloatTensor of size 4]\n\nmaska [[False False  True False]\n [ True  True  True False]\n [False  True  True False]\n [ True  True  True False]]\nmaskb [[ True  True False False]\n [ True  True  True False]\n [ True  True False False]\n [False False  True False]]\nc   (1, 0)\t0.0563150498228\n  (1, 1)\t1.03345423705\n  (1, 2)\t0.485153149501\n  (2, 1)\t0.646971010225\n  (3, 2)\t0.641284682773\nc.data [ 0.05631505  1.03345424  0.48515315  0.64697101  0.64128468]\nc.t() FloatTensor of size 4x4 with indices:\n\n 0  1  1  2  2\n 1  1  2  1  3\n[torch.LongTensor of size 2x5]\nand values:\n\n 0.0563\n 1.0335\n 0.6470\n 0.4852\n 0.6413\n[torch.FloatTensor of size 5]\n\ne \n 0  2  1  2\n 0  2  2  2\n 1  0  2  1\n 2  2  0  2\n[torch.FloatTensor of size 4x4]\n\ntorch.mm(c - b, e) \n 0.0000 -3.8641 -2.5149 -3.8641\n-0.2720 -3.2883 -2.2624 -3.5603\n 0.0000  0.0000  0.0000  0.0000\n-1.0113  0.0000 -2.0226 -1.0113\n[torch.FloatTensor of size 4x4]\n\ntorch.mm(c.to_dense() - b.to_dense(), e) \n 0.0000 -3.8641 -2.5149 -3.8641\n-0.2720 -1.0218 -1.0336 -1.2939\n 0.0000 -2.2665 -1.2289 -2.2665\n-1.0113  0.0000 -2.0226 -1.0113\n[torch.FloatTensor of size 4x4]", "body": "torch version: 0.2.0_4\u3002\r\n\r\ncompletely different means that they got a different result, but actually it should get the same result because  torch.mm(c-b, e).to_dense()) and torch.mm(c.to_dense()-b.to_dense(), e)) are equal operations.\r\n\r\n```\r\na FloatTensor of size 5x5 with indices:\r\n\r\n    0     1     1     2     2     2     3     4     4\r\n    0     3     4     0     1     2     1     0     2\r\n[torch.LongTensor of size 2x9]\r\nand values:\r\n\r\n 0.1158\r\n 0.6157\r\n 0.4471\r\n 0.7534\r\n 0.1117\r\n 1.0840\r\n 0.7736\r\n 0.6148\r\n 0.0119\r\n[torch.FloatTensor of size 9]\r\n\r\nindice shape[0] 9\r\nsp_mat FloatTensor of size 5x5 with indices:\r\n\r\n 4  1  3  2\r\n 0  3  1  2\r\n[torch.LongTensor of size 2x4]\r\nand values:\r\n\r\n 0.6148\r\n 0.6157\r\n 0.7736\r\n 1.0840\r\n[torch.FloatTensor of size 4]\r\n\r\nmaska [[False False  True False]\r\n [ True  True  True False]\r\n [False  True  True False]\r\n [ True  True  True False]]\r\nmaskb [[ True  True False False]\r\n [ True  True  True False]\r\n [ True  True False False]\r\n [False False  True False]]\r\nc   (1, 0)\t0.0563150498228\r\n  (1, 1)\t1.03345423705\r\n  (1, 2)\t0.485153149501\r\n  (2, 1)\t0.646971010225\r\n  (3, 2)\t0.641284682773\r\nc.data [ 0.05631505  1.03345424  0.48515315  0.64697101  0.64128468]\r\nc.t() FloatTensor of size 4x4 with indices:\r\n\r\n 0  1  1  2  2\r\n 1  1  2  1  3\r\n[torch.LongTensor of size 2x5]\r\nand values:\r\n\r\n 0.0563\r\n 1.0335\r\n 0.6470\r\n 0.4852\r\n 0.6413\r\n[torch.FloatTensor of size 5]\r\n\r\ne \r\n 0  2  1  2\r\n 0  2  2  2\r\n 1  0  2  1\r\n 2  2  0  2\r\n[torch.FloatTensor of size 4x4]\r\n\r\ntorch.mm(c - b, e) \r\n 0.0000 -3.8641 -2.5149 -3.8641\r\n-0.2720 -3.2883 -2.2624 -3.5603\r\n 0.0000  0.0000  0.0000  0.0000\r\n-1.0113  0.0000 -2.0226 -1.0113\r\n[torch.FloatTensor of size 4x4]\r\n\r\ntorch.mm(c.to_dense() - b.to_dense(), e) \r\n 0.0000 -3.8641 -2.5149 -3.8641\r\n-0.2720 -1.0218 -1.0336 -1.2939\r\n 0.0000 -2.2665 -1.2289 -2.2665\r\n-1.0113  0.0000 -2.0226 -1.0113\r\n[torch.FloatTensor of size 4x4]\r\n```\r\n\r\n\r\n  "}