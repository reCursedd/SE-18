{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9128", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9128/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9128/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9128/events", "html_url": "https://github.com/pytorch/pytorch/issues/9128", "id": 337822679, "node_id": "MDU6SXNzdWUzMzc4MjI2Nzk=", "number": 9128, "title": "onnx-caffe2 resnetv1_50 SpatialBN error ", "user": {"login": "laobadao", "id": 11796499, "node_id": "MDQ6VXNlcjExNzk2NDk5", "avatar_url": "https://avatars0.githubusercontent.com/u/11796499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laobadao", "html_url": "https://github.com/laobadao", "followers_url": "https://api.github.com/users/laobadao/followers", "following_url": "https://api.github.com/users/laobadao/following{/other_user}", "gists_url": "https://api.github.com/users/laobadao/gists{/gist_id}", "starred_url": "https://api.github.com/users/laobadao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laobadao/subscriptions", "organizations_url": "https://api.github.com/users/laobadao/orgs", "repos_url": "https://api.github.com/users/laobadao/repos", "events_url": "https://api.github.com/users/laobadao/events{/privacy}", "received_events_url": "https://api.github.com/users/laobadao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-03T09:45:15Z", "updated_at": "2018-07-11T01:39:04Z", "closed_at": "2018-07-11T01:39:04Z", "author_association": "NONE", "body_html": "<p>E0703 17:37:20.831506 67212 operator_schema.cc:64]<br>\nInput index 3 (resnet_v1_50/conv1/BatchNorm/moving_mean:0) and output idx 1 (resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3) are not in-place but should be as required by op SpatialBN</p>\n<p>WARNING:caffe2.python.workspace:Original python traceback for operator <code>4</code> in network <code>tf2onnx_predict</code> in exception above (most recent call last):<br>\nrun_onnx FAIL [enforce fail at operator.cc:113] schema-&gt;Verify(operator_def). Operator def did not pass schema checking: input: \"resnet_v1_50/conv1/Conv2D__3:0\" input: \"resnet_v1_50/conv1/BatchNorm/gamma:0\" input: \"resnet_v1_50/conv1/BatchNorm/beta:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_mean:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_variance:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:1\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:2\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:4\" name: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm\" type: \"SpatialBN\" arg { name: \"epsilon\" f: 1.001e-05 } arg { name: \"is_test\" i: 1 } device_option { device_type: 0 cuda_gpu_id: 0 }<br>\n=== RESULT: 1 failed of 1, backend=caffe2</p>", "body_text": "E0703 17:37:20.831506 67212 operator_schema.cc:64]\nInput index 3 (resnet_v1_50/conv1/BatchNorm/moving_mean:0) and output idx 1 (resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3) are not in-place but should be as required by op SpatialBN\nWARNING:caffe2.python.workspace:Original python traceback for operator 4 in network tf2onnx_predict in exception above (most recent call last):\nrun_onnx FAIL [enforce fail at operator.cc:113] schema->Verify(operator_def). Operator def did not pass schema checking: input: \"resnet_v1_50/conv1/Conv2D__3:0\" input: \"resnet_v1_50/conv1/BatchNorm/gamma:0\" input: \"resnet_v1_50/conv1/BatchNorm/beta:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_mean:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_variance:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:1\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:2\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:4\" name: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm\" type: \"SpatialBN\" arg { name: \"epsilon\" f: 1.001e-05 } arg { name: \"is_test\" i: 1 } device_option { device_type: 0 cuda_gpu_id: 0 }\n=== RESULT: 1 failed of 1, backend=caffe2", "body": "E0703 17:37:20.831506 67212 operator_schema.cc:64] \r\nInput index 3 (resnet_v1_50/conv1/BatchNorm/moving_mean:0) and output idx 1 (resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3) are not in-place but should be as required by op SpatialBN\r\n\r\nWARNING:caffe2.python.workspace:Original python traceback for operator `4` in network `tf2onnx_predict` in exception above (most recent call last):\r\n\trun_onnx FAIL [enforce fail at operator.cc:113] schema->Verify(operator_def). Operator def did not pass schema checking: input: \"resnet_v1_50/conv1/Conv2D__3:0\" input: \"resnet_v1_50/conv1/BatchNorm/gamma:0\" input: \"resnet_v1_50/conv1/BatchNorm/beta:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_mean:0\" input: \"resnet_v1_50/conv1/BatchNorm/moving_variance:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:0\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:1\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:2\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:3\" output: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm:4\" name: \"resnet_v1_50/conv1/BatchNorm/FusedBatchNorm\" type: \"SpatialBN\" arg { name: \"epsilon\" f: 1.001e-05 } arg { name: \"is_test\" i: 1 } device_option { device_type: 0 cuda_gpu_id: 0 } \r\n=== RESULT: 1 failed of 1, backend=caffe2"}