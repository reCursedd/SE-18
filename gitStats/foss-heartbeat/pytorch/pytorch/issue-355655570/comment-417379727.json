{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417379727", "html_url": "https://github.com/pytorch/pytorch/pull/11090#issuecomment-417379727", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11090", "id": 417379727, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzM3OTcyNw==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-30T16:22:37Z", "updated_at": "2018-08-30T16:22:37Z", "author_association": "MEMBER", "body_html": "<p>Because I just spent over 2h waiting for 2 CI runs (and it's not the first time I had that problem). Both failed only because of <code>-Werror</code> on mac build. I think <code>-Werror</code> is great, but there are a couple problems with our settings right now, which makes working with it terribly annoying:</p>\n<ul>\n<li>Those errors are irreproducible in a Linux environment. I tried building with <code>WERROR=1</code> locally and everything was fine, but CI has still failed.</li>\n<li>The CI build fails at the first file that triggers an error. This means that unless you have a macOS env ready for debugging, you'll need as many CI runs as you have files with warnings to fix the issue.</li>\n<li>The <code>-Werror</code> build is part of the test phase, which means you need to wait over 30 mins to actually see that it's failing. It should happen in the build phase.</li>\n</ul>\n<p>I'd be very happy to reenable this check, but we need to make sure we can reproduce all the failures locally without having to build PyTorch from scratch on a 4 core laptop.</p>", "body_text": "Because I just spent over 2h waiting for 2 CI runs (and it's not the first time I had that problem). Both failed only because of -Werror on mac build. I think -Werror is great, but there are a couple problems with our settings right now, which makes working with it terribly annoying:\n\nThose errors are irreproducible in a Linux environment. I tried building with WERROR=1 locally and everything was fine, but CI has still failed.\nThe CI build fails at the first file that triggers an error. This means that unless you have a macOS env ready for debugging, you'll need as many CI runs as you have files with warnings to fix the issue.\nThe -Werror build is part of the test phase, which means you need to wait over 30 mins to actually see that it's failing. It should happen in the build phase.\n\nI'd be very happy to reenable this check, but we need to make sure we can reproduce all the failures locally without having to build PyTorch from scratch on a 4 core laptop.", "body": "Because I just spent over 2h waiting for 2 CI runs (and it's not the first time I had that problem). Both failed only because of `-Werror` on mac build. I think `-Werror` is great, but there are a couple problems with our settings right now, which makes working with it terribly annoying:\r\n- Those errors are irreproducible in a Linux environment. I tried building with `WERROR=1` locally and everything was fine, but CI has still failed.\r\n- The CI build fails at the first file that triggers an error. This means that unless you have a macOS env ready for debugging, you'll need as many CI runs as you have files with warnings to fix the issue.\r\n- The `-Werror` build is part of the test phase, which means you need to wait over 30 mins to actually see that it's failing. It should happen in the build phase.\r\n\r\nI'd be very happy to reenable this check, but we need to make sure we can reproduce all the failures locally without having to build PyTorch from scratch on a 4 core laptop."}