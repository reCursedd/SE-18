{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/335724793", "html_url": "https://github.com/pytorch/pytorch/pull/3042#issuecomment-335724793", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3042", "id": 335724793, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTcyNDc5Mw==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-11T08:11:20Z", "updated_at": "2017-10-11T08:11:20Z", "author_association": "MEMBER", "body_html": "<p>I don't think we want to let random return integers up to DBL_MAX. The problem is that above 1 &lt;&lt; DBL_MANT_DIG they can't even be represented properly, so we'll end up with a lot of rounding. Even though the range seems to be very large (i.e. to represent all these integers you'd need 1024 bits), we are still limited to 64bit randomness, and scale this so elements will be spread out very far from each other (and a lot of them will never be sampled). Worse - choosing a different upper limit, will change the rounding which means that you'll be always getting disjoint sets of numbers from calls to <code>random_</code> with different bounds.</p>", "body_text": "I don't think we want to let random return integers up to DBL_MAX. The problem is that above 1 << DBL_MANT_DIG they can't even be represented properly, so we'll end up with a lot of rounding. Even though the range seems to be very large (i.e. to represent all these integers you'd need 1024 bits), we are still limited to 64bit randomness, and scale this so elements will be spread out very far from each other (and a lot of them will never be sampled). Worse - choosing a different upper limit, will change the rounding which means that you'll be always getting disjoint sets of numbers from calls to random_ with different bounds.", "body": "I don't think we want to let random return integers up to DBL_MAX. The problem is that above 1 << DBL_MANT_DIG they can't even be represented properly, so we'll end up with a lot of rounding. Even though the range seems to be very large (i.e. to represent all these integers you'd need 1024 bits), we are still limited to 64bit randomness, and scale this so elements will be spread out very far from each other (and a lot of them will never be sampled). Worse - choosing a different upper limit, will change the rounding which means that you'll be always getting disjoint sets of numbers from calls to `random_` with different bounds."}