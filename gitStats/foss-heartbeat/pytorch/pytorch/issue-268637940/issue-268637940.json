{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3299", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3299/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3299/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3299/events", "html_url": "https://github.com/pytorch/pytorch/issues/3299", "id": 268637940, "node_id": "MDU6SXNzdWUyNjg2Mzc5NDA=", "number": 3299, "title": "DataLoader or Dataset loading dif. formats in dif. order", "user": {"login": "fducau", "id": 14301616, "node_id": "MDQ6VXNlcjE0MzAxNjE2", "avatar_url": "https://avatars3.githubusercontent.com/u/14301616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fducau", "html_url": "https://github.com/fducau", "followers_url": "https://api.github.com/users/fducau/followers", "following_url": "https://api.github.com/users/fducau/following{/other_user}", "gists_url": "https://api.github.com/users/fducau/gists{/gist_id}", "starred_url": "https://api.github.com/users/fducau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fducau/subscriptions", "organizations_url": "https://api.github.com/users/fducau/orgs", "repos_url": "https://api.github.com/users/fducau/repos", "events_url": "https://api.github.com/users/fducau/events{/privacy}", "received_events_url": "https://api.github.com/users/fducau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-26T05:56:03Z", "updated_at": "2017-10-26T05:56:57Z", "closed_at": "2017-10-26T05:56:57Z", "author_association": "NONE", "body_html": "<p>Same naming convention and number of files but different format is getting loaded in different order. Happened with <code>.jpg</code> and <code>.png</code>.</p>\n<p>My case (almost the same as (pix2pix)[https://github.com/phillipi/pix2pix]):</p>\n<div class=\"highlight highlight-source-python\"><pre>dataset_faces <span class=\"pl-k\">=</span> dset.ImageFolder(\n    <span class=\"pl-v\">root</span><span class=\"pl-k\">=</span>opt.dataroot_faces,\n    <span class=\"pl-v\">transform</span><span class=\"pl-k\">=</span>transforms.Compose([\n        transforms.ToTensor(),\n        transforms.Normalize((<span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>), (<span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>)),\n    ])\n)\ndataloader_faces <span class=\"pl-k\">=</span> torch.utils.data.DataLoader(dataset_faces,\n                                               <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span>opt.batchSize,\n                                               <span class=\"pl-v\">shuffle</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>,\n                                               <span class=\"pl-v\">num_workers</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)\n\ndataset_edges <span class=\"pl-k\">=</span> dset.ImageFolder(\n    <span class=\"pl-v\">root</span><span class=\"pl-k\">=</span>opt.dataroot_edges,\n    <span class=\"pl-v\">transform</span><span class=\"pl-k\">=</span>transforms.Compose([\n        transforms.ToTensor(),\n        transforms.Normalize((<span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>), (<span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>, <span class=\"pl-c1\">0.5</span>)),\n    ])\n)\ndataloader_edges <span class=\"pl-k\">=</span> torch.utils.data.DataLoader(dataset_edges,\n                                               <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span>opt.batchSize,\n                                               <span class=\"pl-v\">shuffle</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>,\n                                               <span class=\"pl-v\">num_workers</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">int</span>(opt.workers))</pre></div>\n<div class=\"highlight highlight-source-python\"><pre>torch.<span class=\"pl-c1\">__version__</span>\n<span class=\"pl-c1\">0.1</span>.11_5</pre></div>", "body_text": "Same naming convention and number of files but different format is getting loaded in different order. Happened with .jpg and .png.\nMy case (almost the same as (pix2pix)[https://github.com/phillipi/pix2pix]):\ndataset_faces = dset.ImageFolder(\n    root=opt.dataroot_faces,\n    transform=transforms.Compose([\n        transforms.ToTensor(),\n        transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5)),\n    ])\n)\ndataloader_faces = torch.utils.data.DataLoader(dataset_faces,\n                                               batch_size=opt.batchSize,\n                                               shuffle=False,\n                                               num_workers=1)\n\ndataset_edges = dset.ImageFolder(\n    root=opt.dataroot_edges,\n    transform=transforms.Compose([\n        transforms.ToTensor(),\n        transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5)),\n    ])\n)\ndataloader_edges = torch.utils.data.DataLoader(dataset_edges,\n                                               batch_size=opt.batchSize,\n                                               shuffle=False,\n                                               num_workers=int(opt.workers))\ntorch.__version__\n0.1.11_5", "body": "Same naming convention and number of files but different format is getting loaded in different order. Happened with `.jpg` and `.png`. \r\n\r\nMy case (almost the same as (pix2pix)[https://github.com/phillipi/pix2pix]):\r\n```python\r\ndataset_faces = dset.ImageFolder(\r\n    root=opt.dataroot_faces,\r\n    transform=transforms.Compose([\r\n        transforms.ToTensor(),\r\n        transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5)),\r\n    ])\r\n)\r\ndataloader_faces = torch.utils.data.DataLoader(dataset_faces,\r\n                                               batch_size=opt.batchSize,\r\n                                               shuffle=False,\r\n                                               num_workers=1)\r\n\r\ndataset_edges = dset.ImageFolder(\r\n    root=opt.dataroot_edges,\r\n    transform=transforms.Compose([\r\n        transforms.ToTensor(),\r\n        transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5)),\r\n    ])\r\n)\r\ndataloader_edges = torch.utils.data.DataLoader(dataset_edges,\r\n                                               batch_size=opt.batchSize,\r\n                                               shuffle=False,\r\n                                               num_workers=int(opt.workers))\r\n```\r\n```python\r\ntorch.__version__\r\n0.1.11_5\r\n```"}