{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/395436362", "html_url": "https://github.com/pytorch/pytorch/issues/7129#issuecomment-395436362", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7129", "id": 395436362, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTQzNjM2Mg==", "user": {"login": "adizhol", "id": 13086455, "node_id": "MDQ6VXNlcjEzMDg2NDU1", "avatar_url": "https://avatars1.githubusercontent.com/u/13086455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adizhol", "html_url": "https://github.com/adizhol", "followers_url": "https://api.github.com/users/adizhol/followers", "following_url": "https://api.github.com/users/adizhol/following{/other_user}", "gists_url": "https://api.github.com/users/adizhol/gists{/gist_id}", "starred_url": "https://api.github.com/users/adizhol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adizhol/subscriptions", "organizations_url": "https://api.github.com/users/adizhol/orgs", "repos_url": "https://api.github.com/users/adizhol/repos", "events_url": "https://api.github.com/users/adizhol/events{/privacy}", "received_events_url": "https://api.github.com/users/adizhol/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-07T14:16:02Z", "updated_at": "2018-06-07T14:29:27Z", "author_association": "NONE", "body_html": "<p>with CUDA_LAUNCH_BLOCKING=1<br>\npython 3.5<br>\npytorch 0.4<br>\nWin 10<br>\nCUDA 8.0<br>\ncudnn 6</p>\n<p>I get the following stack trace:</p>\n<blockquote>\n<p>File \"C:\\Users\\owner\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\torch\\nn\\functional.py\", line 1334, in nll_loss<br>\nreturn torch._C._nn.nll_loss2d(input, target, weight, size_average, ignore_index, reduce)<br>\nRuntimeError: cuda runtime error (77) : an illegal memory access was encountered at c:\\users\\administrator\\downloads\\new-builder\\win-wheel\\pytorch\\aten\\src\\thcunn\\generic/SpatialClassNLLCriterion.cu:131</p>\n</blockquote>\n<p><strong>This code is using CrossEntropyLoss, but another code that uses BCEWithLogits doen't throw any exceptions.</strong></p>\n<p>Update: This exception is thrown on the <strong>second</strong> iteration</p>", "body_text": "with CUDA_LAUNCH_BLOCKING=1\npython 3.5\npytorch 0.4\nWin 10\nCUDA 8.0\ncudnn 6\nI get the following stack trace:\n\nFile \"C:\\Users\\owner\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\torch\\nn\\functional.py\", line 1334, in nll_loss\nreturn torch._C._nn.nll_loss2d(input, target, weight, size_average, ignore_index, reduce)\nRuntimeError: cuda runtime error (77) : an illegal memory access was encountered at c:\\users\\administrator\\downloads\\new-builder\\win-wheel\\pytorch\\aten\\src\\thcunn\\generic/SpatialClassNLLCriterion.cu:131\n\nThis code is using CrossEntropyLoss, but another code that uses BCEWithLogits doen't throw any exceptions.\nUpdate: This exception is thrown on the second iteration", "body": "with CUDA_LAUNCH_BLOCKING=1\r\npython 3.5\r\npytorch 0.4\r\nWin 10\r\nCUDA 8.0\r\ncudnn 6\r\n\r\nI get the following stack trace:\r\n\r\n>   File \"C:\\Users\\owner\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\torch\\nn\\functional.py\", line 1334, in nll_loss\r\n>     return torch._C._nn.nll_loss2d(input, target, weight, size_average, ignore_index, reduce)\r\n> RuntimeError: cuda runtime error (77) : an illegal memory access was encountered at c:\\users\\administrator\\downloads\\new-builder\\win-wheel\\pytorch\\aten\\src\\thcunn\\generic/SpatialClassNLLCriterion.cu:131\r\n> \r\n\r\n**This code is using CrossEntropyLoss, but another code that uses BCEWithLogits doen't throw any exceptions.**\r\n\r\nUpdate: This exception is thrown on the **second** iteration"}