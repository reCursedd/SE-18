{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10119", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10119/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10119/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10119/events", "html_url": "https://github.com/pytorch/pytorch/issues/10119", "id": 346630893, "node_id": "MDU6SXNzdWUzNDY2MzA4OTM=", "number": 10119, "title": "[Caffe2] MNIST Tutorial LMDB Error \"Cannot open db\" ", "user": {"login": "johnknelsonintific", "id": 35232990, "node_id": "MDQ6VXNlcjM1MjMyOTkw", "avatar_url": "https://avatars0.githubusercontent.com/u/35232990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnknelsonintific", "html_url": "https://github.com/johnknelsonintific", "followers_url": "https://api.github.com/users/johnknelsonintific/followers", "following_url": "https://api.github.com/users/johnknelsonintific/following{/other_user}", "gists_url": "https://api.github.com/users/johnknelsonintific/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnknelsonintific/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnknelsonintific/subscriptions", "organizations_url": "https://api.github.com/users/johnknelsonintific/orgs", "repos_url": "https://api.github.com/users/johnknelsonintific/repos", "events_url": "https://api.github.com/users/johnknelsonintific/events{/privacy}", "received_events_url": "https://api.github.com/users/johnknelsonintific/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-01T14:41:50Z", "updated_at": "2018-10-05T15:59:27Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>I am trying to learn Caffe2, and am trying to run through the tutorials. For the MNIST tutorial (located here: <a href=\"https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb\">https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb</a>), I am seeing an error when executing the line <code>workspace.RunNetOnce(train_model.param_init_net)</code>. I get:</p>\n<pre><code>RuntimeError: [enforce fail at db.h:190] db_. Cannot open db: /Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb of type lmdb Error from operator: \noutput: \"dbreader_/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db\" s: \"/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" } arg { name: \"db_type\" s: \"lmdb\" }\n</code></pre>\n<p>This is for an unmodified MNIST.ipynb notebook. I have confirmed there are data.mdb and lock.mdb files in the following path: <code>/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb</code>. In the past, I have also tried all four combinations of using the MLP vs LeNet models and loading data by brew.db_input vs model.TensorProtosDBInput - none of these combos work.</p>\n<p>I've seen other posts on this issue such as:</p>\n<ul>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249477138\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/caffe2/caffe2/issues/1074\" data-hovercard-type=\"issue\" data-hovercard-url=\"/caffe2/caffe2/issues/1074/hovercard\" href=\"https://github.com/caffe2/caffe2/issues/1074\">caffe2/caffe2#1074</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"305832234\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/caffe2/caffe2/issues/2282\" data-hovercard-type=\"issue\" data-hovercard-url=\"/caffe2/caffe2/issues/2282/hovercard\" href=\"https://github.com/caffe2/caffe2/issues/2282\">caffe2/caffe2#2282</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"343834263\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9736\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9736/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9736\">#9736</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"326074198\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/7807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/7807/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/7807\">#7807</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"339786050\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/caffe2/tutorials/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/caffe2/tutorials/issues/7/hovercard\" href=\"https://github.com/caffe2/tutorials/issues/7\">caffe2/tutorials#7</a></li>\n</ul>\n<p>But most of these issues were either older, posted by those who built from source or had different environment variables otherwise, or were posted in the caffe2 repo before the source was merged into pytorch. Most also did not have resolutions.</p>\n<p>I really want to use Caffe2 for an upcoming research project I'm doing, but am having quite a hard time getting these tutorials to run so that I can have confidence I'll be able to learn the platform and create and train my own models. I've read fantastic things about Caffe2/Pytorch, but I'm beginning to worry if it's a little young or the documentation isn't robust enough for a new guy like me (the learning process is going to be a large part of my endeavor, so tutorials like this are <strong>very</strong> helpful when they work). If anyone can help get me back on track and moving forward with Caffe2 that would be stellar! Thanks.</p>\n<h2>Code example</h2>\n<p>You can download and run the code in a Jupyter Notebook exactly as I'm running it: <a href=\"https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb\">https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb</a></p>\n<h2>System Info</h2>\n<p>Please copy and paste the output from our<br>\n[environment collection script]</p>\n<p>N/A. I've only installed Caffe2 via conda. So the output of this script is just:</p>\n<pre><code>Traceback (most recent call last):\n  File \"collect_env.py\", line 11, in &lt;module&gt;\n    import torch\nModuleNotFoundError: No module named 'torch'\n</code></pre>\n<ul>\n<li>PyTorch or Caffe2: Caffe2</li>\n<li>How you installed PyTorch (conda, pip, source): Conda pre-built binaries according to these instructions: <a href=\"https://caffe2.ai/docs/getting-started.html?platform=mac&amp;configuration=prebuilt\" rel=\"nofollow\">https://caffe2.ai/docs/getting-started.html?platform=mac&amp;configuration=prebuilt</a></li>\n<li>Build command you used (if compiling from source): N/A</li>\n<li>OS: Mac OS 10.13.6</li>\n<li>PyTorch version: N/A</li>\n<li>Python version: 3.5.6</li>\n<li>CUDA/cuDNN version: N/A (have not elected to use GPU yet)</li>\n<li>GPU models and configuration: N/A</li>\n<li>GCC version (if compiling from source): N/A</li>\n<li>CMake version: ? (N/A but I've seen others with this issue describe fixing it this way, but those folks built from source)</li>\n<li>Versions of any other relevant libraries: lmdb version 0.94 (installed into Conda environment via pip since the Anaconda package is out of date), conda version 4.5.8, Caffe2 pre-built binary version \"0.8.dev\" and build \"py36_2018.07.20\" (from Anaconda)</li>\n</ul>", "body_text": "Issue description\nI am trying to learn Caffe2, and am trying to run through the tutorials. For the MNIST tutorial (located here: https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb), I am seeing an error when executing the line workspace.RunNetOnce(train_model.param_init_net). I get:\nRuntimeError: [enforce fail at db.h:190] db_. Cannot open db: /Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb of type lmdb Error from operator: \noutput: \"dbreader_/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db\" s: \"/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" } arg { name: \"db_type\" s: \"lmdb\" }\n\nThis is for an unmodified MNIST.ipynb notebook. I have confirmed there are data.mdb and lock.mdb files in the following path: /Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb. In the past, I have also tried all four combinations of using the MLP vs LeNet models and loading data by brew.db_input vs model.TensorProtosDBInput - none of these combos work.\nI've seen other posts on this issue such as:\n\ncaffe2/caffe2#1074\ncaffe2/caffe2#2282\n#9736\n#7807\ncaffe2/tutorials#7\n\nBut most of these issues were either older, posted by those who built from source or had different environment variables otherwise, or were posted in the caffe2 repo before the source was merged into pytorch. Most also did not have resolutions.\nI really want to use Caffe2 for an upcoming research project I'm doing, but am having quite a hard time getting these tutorials to run so that I can have confidence I'll be able to learn the platform and create and train my own models. I've read fantastic things about Caffe2/Pytorch, but I'm beginning to worry if it's a little young or the documentation isn't robust enough for a new guy like me (the learning process is going to be a large part of my endeavor, so tutorials like this are very helpful when they work). If anyone can help get me back on track and moving forward with Caffe2 that would be stellar! Thanks.\nCode example\nYou can download and run the code in a Jupyter Notebook exactly as I'm running it: https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb\nSystem Info\nPlease copy and paste the output from our\n[environment collection script]\nN/A. I've only installed Caffe2 via conda. So the output of this script is just:\nTraceback (most recent call last):\n  File \"collect_env.py\", line 11, in <module>\n    import torch\nModuleNotFoundError: No module named 'torch'\n\n\nPyTorch or Caffe2: Caffe2\nHow you installed PyTorch (conda, pip, source): Conda pre-built binaries according to these instructions: https://caffe2.ai/docs/getting-started.html?platform=mac&configuration=prebuilt\nBuild command you used (if compiling from source): N/A\nOS: Mac OS 10.13.6\nPyTorch version: N/A\nPython version: 3.5.6\nCUDA/cuDNN version: N/A (have not elected to use GPU yet)\nGPU models and configuration: N/A\nGCC version (if compiling from source): N/A\nCMake version: ? (N/A but I've seen others with this issue describe fixing it this way, but those folks built from source)\nVersions of any other relevant libraries: lmdb version 0.94 (installed into Conda environment via pip since the Anaconda package is out of date), conda version 4.5.8, Caffe2 pre-built binary version \"0.8.dev\" and build \"py36_2018.07.20\" (from Anaconda)", "body": "## Issue description\r\n\r\nI am trying to learn Caffe2, and am trying to run through the tutorials. For the MNIST tutorial (located here: https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb), I am seeing an error when executing the line `workspace.RunNetOnce(train_model.param_init_net)`. I get:\r\n\r\n```\r\nRuntimeError: [enforce fail at db.h:190] db_. Cannot open db: /Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb of type lmdb Error from operator: \r\noutput: \"dbreader_/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db\" s: \"/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb\" } arg { name: \"db_type\" s: \"lmdb\" }\r\n```\r\n\r\nThis is for an unmodified MNIST.ipynb notebook. I have confirmed there are data.mdb and lock.mdb files in the following path: `/Users/205314/caffe2_notebooks/tutorial_data/mnist/mnist-train-nchw-lmdb`. In the past, I have also tried all four combinations of using the MLP vs LeNet models and loading data by brew.db_input vs model.TensorProtosDBInput - none of these combos work. \r\n\r\nI've seen other posts on this issue such as:\r\n\r\n- https://github.com/caffe2/caffe2/issues/1074\r\n- https://github.com/caffe2/caffe2/issues/2282\r\n- https://github.com/pytorch/pytorch/issues/9736\r\n- https://github.com/pytorch/pytorch/issues/7807\r\n- https://github.com/caffe2/tutorials/issues/7\r\n\r\nBut most of these issues were either older, posted by those who built from source or had different environment variables otherwise, or were posted in the caffe2 repo before the source was merged into pytorch. Most also did not have resolutions.\r\n\r\nI really want to use Caffe2 for an upcoming research project I'm doing, but am having quite a hard time getting these tutorials to run so that I can have confidence I'll be able to learn the platform and create and train my own models. I've read fantastic things about Caffe2/Pytorch, but I'm beginning to worry if it's a little young or the documentation isn't robust enough for a new guy like me (the learning process is going to be a large part of my endeavor, so tutorials like this are **very** helpful when they work). If anyone can help get me back on track and moving forward with Caffe2 that would be stellar! Thanks.\r\n\r\n## Code example\r\n\r\nYou can download and run the code in a Jupyter Notebook exactly as I'm running it: https://github.com/caffe2/tutorials/blob/master/MNIST.ipynb\r\n\r\n## System Info\r\nPlease copy and paste the output from our\r\n[environment collection script]\r\n\r\nN/A. I've only installed Caffe2 via conda. So the output of this script is just:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"collect_env.py\", line 11, in <module>\r\n    import torch\r\nModuleNotFoundError: No module named 'torch'\r\n```\r\n\r\n- PyTorch or Caffe2: Caffe2\r\n- How you installed PyTorch (conda, pip, source): Conda pre-built binaries according to these instructions: https://caffe2.ai/docs/getting-started.html?platform=mac&configuration=prebuilt\r\n- Build command you used (if compiling from source): N/A\r\n- OS: Mac OS 10.13.6\r\n- PyTorch version: N/A\r\n- Python version: 3.5.6\r\n- CUDA/cuDNN version: N/A (have not elected to use GPU yet)\r\n- GPU models and configuration: N/A\r\n- GCC version (if compiling from source): N/A\r\n- CMake version: ? (N/A but I've seen others with this issue describe fixing it this way, but those folks built from source)\r\n- Versions of any other relevant libraries: lmdb version 0.94 (installed into Conda environment via pip since the Anaconda package is out of date), conda version 4.5.8, Caffe2 pre-built binary version \"0.8.dev\" and build \"py36_2018.07.20\" (from Anaconda)\r\n"}