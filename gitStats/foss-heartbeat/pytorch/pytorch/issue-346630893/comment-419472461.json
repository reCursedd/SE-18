{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/419472461", "html_url": "https://github.com/pytorch/pytorch/issues/10119#issuecomment-419472461", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10119", "id": 419472461, "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTQ3MjQ2MQ==", "user": {"login": "PengfeiZheng", "id": 10581411, "node_id": "MDQ6VXNlcjEwNTgxNDEx", "avatar_url": "https://avatars3.githubusercontent.com/u/10581411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PengfeiZheng", "html_url": "https://github.com/PengfeiZheng", "followers_url": "https://api.github.com/users/PengfeiZheng/followers", "following_url": "https://api.github.com/users/PengfeiZheng/following{/other_user}", "gists_url": "https://api.github.com/users/PengfeiZheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/PengfeiZheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PengfeiZheng/subscriptions", "organizations_url": "https://api.github.com/users/PengfeiZheng/orgs", "repos_url": "https://api.github.com/users/PengfeiZheng/repos", "events_url": "https://api.github.com/users/PengfeiZheng/events{/privacy}", "received_events_url": "https://api.github.com/users/PengfeiZheng/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-07T15:16:46Z", "updated_at": "2018-10-05T15:59:27Z", "author_association": "NONE", "body_html": "<p>I also encountered this issue when running the MNIST testcase. And I resolved this issue on my machine as below (anaconda2, python 2.7):<br>\n(1) Build caffe2 from scratch with the following instructions:<br>\n(a) git clone --recursive <a href=\"https://github.com/pytorch/pytorch.git\">https://github.com/pytorch/pytorch.git</a> &amp;&amp; cd pytorch<br>\n(b) git submodule update --init --recursive<br>\n(c) Modify one line in PATH_TO_PYTORCH/scripts/build_anaconda.sh, where PATH_TO_PYTORCH is the directory that you download pytorch:<br>\nPlease modify -caffe2_cmake_args+=(\"-DUSE_LMDB=OFF\") into -caffe2_cmake_args+=(\"-DUSE_LMDB=ON\")<br>\n(d) Before compiling caffe2, make sure the lmdb library on your machine exists and is up to date. You could simply do:<br>\nsudo apt-get update<br>\nsudo apt-get install liblmdb-dev<br>\n(e) Also make sure the lmdb and python-lmdb libraries is in your anaconda installation, and is up to date. You could simply do:<br>\nconda insatll -c caffe2 lmdb<br>\nconda install -c caffe2 python-lmdb<br>\n(f) After you finish the modification. Run the following to build caffe2 from source with your local anaconda installation:<br>\nPATH_TO_PYTORCH/scripts/build_anaconda.sh --install-locally</p>", "body_text": "I also encountered this issue when running the MNIST testcase. And I resolved this issue on my machine as below (anaconda2, python 2.7):\n(1) Build caffe2 from scratch with the following instructions:\n(a) git clone --recursive https://github.com/pytorch/pytorch.git && cd pytorch\n(b) git submodule update --init --recursive\n(c) Modify one line in PATH_TO_PYTORCH/scripts/build_anaconda.sh, where PATH_TO_PYTORCH is the directory that you download pytorch:\nPlease modify -caffe2_cmake_args+=(\"-DUSE_LMDB=OFF\") into -caffe2_cmake_args+=(\"-DUSE_LMDB=ON\")\n(d) Before compiling caffe2, make sure the lmdb library on your machine exists and is up to date. You could simply do:\nsudo apt-get update\nsudo apt-get install liblmdb-dev\n(e) Also make sure the lmdb and python-lmdb libraries is in your anaconda installation, and is up to date. You could simply do:\nconda insatll -c caffe2 lmdb\nconda install -c caffe2 python-lmdb\n(f) After you finish the modification. Run the following to build caffe2 from source with your local anaconda installation:\nPATH_TO_PYTORCH/scripts/build_anaconda.sh --install-locally", "body": "I also encountered this issue when running the MNIST testcase. And I resolved this issue on my machine as below (anaconda2, python 2.7):\r\n(1) Build caffe2 from scratch with the following instructions:\r\n     (a) git clone --recursive https://github.com/pytorch/pytorch.git && cd pytorch\r\n     (b) git submodule update --init --recursive\r\n     (c) Modify one line in PATH_TO_PYTORCH/scripts/build_anaconda.sh, where PATH_TO_PYTORCH is the directory that you download pytorch:\r\n          Please modify -caffe2_cmake_args+=(\"-DUSE_LMDB=OFF\") into -caffe2_cmake_args+=(\"-DUSE_LMDB=ON\")\r\n     (d) Before compiling caffe2, make sure the lmdb library on your machine exists and is up to date. You could simply do:\r\n           sudo apt-get update\r\n           sudo apt-get install liblmdb-dev\r\n     (e) Also make sure the lmdb and python-lmdb libraries is in your anaconda installation, and is up to date. You could simply do:\r\n           conda insatll -c caffe2 lmdb\r\n           conda install -c caffe2 python-lmdb\r\n     (f) After you finish the modification. Run the following to build caffe2 from source with your local anaconda installation:\r\n           PATH_TO_PYTORCH/scripts/build_anaconda.sh --install-locally\r\n\r\n\r\n"}