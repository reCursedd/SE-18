{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10295", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10295/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10295/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10295/events", "html_url": "https://github.com/pytorch/pytorch/issues/10295", "id": 348231405, "node_id": "MDU6SXNzdWUzNDgyMzE0MDU=", "number": 10295, "title": "Error:Read timeout when start pytorch ", "user": {"login": "zsk423200", "id": 18025765, "node_id": "MDQ6VXNlcjE4MDI1NzY1", "avatar_url": "https://avatars3.githubusercontent.com/u/18025765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsk423200", "html_url": "https://github.com/zsk423200", "followers_url": "https://api.github.com/users/zsk423200/followers", "following_url": "https://api.github.com/users/zsk423200/following{/other_user}", "gists_url": "https://api.github.com/users/zsk423200/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsk423200/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsk423200/subscriptions", "organizations_url": "https://api.github.com/users/zsk423200/orgs", "repos_url": "https://api.github.com/users/zsk423200/repos", "events_url": "https://api.github.com/users/zsk423200/events{/privacy}", "received_events_url": "https://api.github.com/users/zsk423200/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 679953883, "node_id": "MDU6TGFiZWw2Nzk5NTM4ODM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/distributed", "name": "distributed", "color": "c2e0c6", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-07T09:04:35Z", "updated_at": "2018-08-24T07:14:50Z", "closed_at": "2018-08-20T22:49:15Z", "author_association": "NONE", "body_html": "<p>i change my presentation:</p>\n<p>install from source:<br>\n<code>python setup.py install</code><br>\nand use gloo, get the error:<br>\n<code>[/home/zhoushengkai/code/pytorch_v0.4.1/third_party/gloo/gloo/transport/ibverbs/buffer.cc:108] Read timeout LID: 5 QPN: 27156 PSN: 14966066</code></p>\n<p>but install from binaries, and also use gloo, is ok.<br>\ni print info, and show it has block at broadcast (waitRecv)when start pytorch</p>\n<p>today, i reinstall with the command:<br>\n<code>USE_GLOO_IBVERBS=0 python setup.py build develop</code><br>\nis ok, and i know this way is only support tcp  rather than IB</p>\n<p>what's more, i run on a server which has only one IB card and phys_port_cnt is 1, and i test in single mechine, use<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/18025765/44246710-33fb0500-a212-11e8-9c86-7666a4acbc58.png\"><img src=\"https://user-images.githubusercontent.com/18025765/44246710-33fb0500-a212-11e8-9c86-7666a4acbc58.png\" alt=\"image\" style=\"max-width:100%;\"></a><br>\nData does not pass through the NIC, and form a loop in protocol layer. in two-mechine test, data go through the NIC</p>\n<p>so why get error when i use IB mode</p>", "body_text": "i change my presentation:\ninstall from source:\npython setup.py install\nand use gloo, get the error:\n[/home/zhoushengkai/code/pytorch_v0.4.1/third_party/gloo/gloo/transport/ibverbs/buffer.cc:108] Read timeout LID: 5 QPN: 27156 PSN: 14966066\nbut install from binaries, and also use gloo, is ok.\ni print info, and show it has block at broadcast (waitRecv)when start pytorch\ntoday, i reinstall with the command:\nUSE_GLOO_IBVERBS=0 python setup.py build develop\nis ok, and i know this way is only support tcp  rather than IB\nwhat's more, i run on a server which has only one IB card and phys_port_cnt is 1, and i test in single mechine, use\n\nData does not pass through the NIC, and form a loop in protocol layer. in two-mechine test, data go through the NIC\nso why get error when i use IB mode", "body": "i change my presentation:\r\n\r\ninstall from source:\r\n`python setup.py install`\r\nand use gloo, get the error:\r\n`[/home/zhoushengkai/code/pytorch_v0.4.1/third_party/gloo/gloo/transport/ibverbs/buffer.cc:108] Read timeout LID: 5 QPN: 27156 PSN: 14966066`\r\n\r\nbut install from binaries, and also use gloo, is ok.\r\ni print info, and show it has block at broadcast (waitRecv)when start pytorch\r\n\r\ntoday, i reinstall with the command:\r\n`USE_GLOO_IBVERBS=0 python setup.py build develop`\r\nis ok, and i know this way is only support tcp  rather than IB \r\n\r\nwhat's more, i run on a server which has only one IB card and phys_port_cnt is 1, and i test in single mechine, use \r\n![image](https://user-images.githubusercontent.com/18025765/44246710-33fb0500-a212-11e8-9c86-7666a4acbc58.png)\r\nData does not pass through the NIC, and form a loop in protocol layer. in two-mechine test, data go through the NIC\r\n\r\nso why get error when i use IB mode"}