{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10853", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10853/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10853/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10853/events", "html_url": "https://github.com/pytorch/pytorch/issues/10853", "id": 353841971, "node_id": "MDU6SXNzdWUzNTM4NDE5NzE=", "number": 10853, "title": "Cuda runtime error : the launch timed out and was terminated", "user": {"login": "saddy001", "id": 13658554, "node_id": "MDQ6VXNlcjEzNjU4NTU0", "avatar_url": "https://avatars3.githubusercontent.com/u/13658554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saddy001", "html_url": "https://github.com/saddy001", "followers_url": "https://api.github.com/users/saddy001/followers", "following_url": "https://api.github.com/users/saddy001/following{/other_user}", "gists_url": "https://api.github.com/users/saddy001/gists{/gist_id}", "starred_url": "https://api.github.com/users/saddy001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saddy001/subscriptions", "organizations_url": "https://api.github.com/users/saddy001/orgs", "repos_url": "https://api.github.com/users/saddy001/repos", "events_url": "https://api.github.com/users/saddy001/events{/privacy}", "received_events_url": "https://api.github.com/users/saddy001/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-24T16:04:12Z", "updated_at": "2018-10-24T15:40:41Z", "closed_at": "2018-10-24T15:40:41Z", "author_association": "NONE", "body_html": "<p>I'm getting a cuda runtime error for various deep learning applications. Here is a minimal example</p>\n<pre><code>$ &lt;fresh conda install&gt;\n$ conda update conda\n$ conda update python\n$ conda install pytorch torchvision cuda92 -c pytorch\n$ git clone https://github.com/pytorch/examples\n$ cd examples/mnist\n$ python main.py\n\nDownloading http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\nProcessing...\nDone!\nTrain Epoch: 1 [0/60000 (0%)]\tLoss: 2.373651\nTHCudaCheck FAIL file=/opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp line=21 error=6 : the launch timed out and was terminated\nTraceback (most recent call last):\n  File \"main.py\", line 109, in &lt;module&gt;\n    main()\n  File \"main.py\", line 104, in main\n    train(args, model, device, train_loader, optimizer, epoch)\n  File \"main.py\", line 30, in train\n    data, target = data.to(device), target.to(device)\nRuntimeError: cuda runtime error (6) : the launch timed out and was terminated at /opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp:21\n</code></pre>\n<p>At the same time, I get a Xid in dmesg:</p>\n<pre><code>$ dmesg|grep -i xid\n[  347.164529] NVRM: Xid (PCI:0000:65:00): 8, Channel 00000010\n</code></pre>\n<p>I'm also seeing this error for training on <a href=\"https://github.com/ikostrikov/pytorch-a2c-ppo-acktr\">https://github.com/ikostrikov/pytorch-a2c-ppo-acktr</a></p>\n<p>Nvidia's <a href=\"https://docs.nvidia.com/deploy/xid-errors/\" rel=\"nofollow\">Xid error page</a> states, that Xid 8 means \"GPU stopped processing\" with the following possible causes:</p>\n<ul>\n<li>\n<p>Driver Error<br>\nI tested different driver versions from 387 to 396.51 and cuda versions from 8.0 to 9.2, same error</p>\n</li>\n<li>\n<p>Thermal Issue<br>\nThe error appears shortly after starting the training, at 60 degrees celsius GPU temp</p>\n</li>\n<li>\n<p>Bus Error<br>\nI made different stability tests from gpu_burn to unigine heaven. All stable. I even sent my graphics card to MSI that found no device failure</p>\n</li>\n<li>\n<p>User App Error<br>\nThat's why I'm here</p>\n</li>\n</ul>\n<p>I'm a little lost right now, hope you can help me spotting the cause of this issue.</p>\n<h2>System Info</h2>\n<pre><code>PyTorch version: 0.4.1\nIs debug build: No\nCUDA used to build PyTorch: 9.2.148\n\nOS: Ubuntu 18.04.1 LTS\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\nCMake version: version 3.10.2\n\nPython version: 3.7\nIs CUDA available: Yes\nCUDA runtime version: 9.2.148\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\nNvidia driver version: 396.51\ncuDNN version: Probably one of the following:\n/usr/local/cuda-9.0/lib64/libcudnn.so\n/usr/local/cuda-9.0/lib64/libcudnn.so.7\n/usr/local/cuda-9.0/lib64/libcudnn.so.7.0.5\n/usr/local/cuda-9.0/lib64/libcudnn_static.a\n\n# At the moment, /usr/local/cuda points at /usr/local/cuda-9.2, which is my current version.\n# $ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2018 NVIDIA Corporation\nBuilt on Tue_Jun_12_23:07:04_CDT_2018\nCuda compilation tools, release 9.2, V9.2.148\n\nVersions of relevant libraries:\n[pip3] numpy (1.13.3)\n[conda] cuda92                    1.0                           0    pytorch\n[conda] pytorch                   0.4.1           py37_cuda9.2.148_cudnn7.1.4_1  [cuda92]  pytorch\n[conda] torchvision               0.2.1                    py37_1    pytorch\n</code></pre>", "body_text": "I'm getting a cuda runtime error for various deep learning applications. Here is a minimal example\n$ <fresh conda install>\n$ conda update conda\n$ conda update python\n$ conda install pytorch torchvision cuda92 -c pytorch\n$ git clone https://github.com/pytorch/examples\n$ cd examples/mnist\n$ python main.py\n\nDownloading http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\nDownloading http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\nProcessing...\nDone!\nTrain Epoch: 1 [0/60000 (0%)]\tLoss: 2.373651\nTHCudaCheck FAIL file=/opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp line=21 error=6 : the launch timed out and was terminated\nTraceback (most recent call last):\n  File \"main.py\", line 109, in <module>\n    main()\n  File \"main.py\", line 104, in main\n    train(args, model, device, train_loader, optimizer, epoch)\n  File \"main.py\", line 30, in train\n    data, target = data.to(device), target.to(device)\nRuntimeError: cuda runtime error (6) : the launch timed out and was terminated at /opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp:21\n\nAt the same time, I get a Xid in dmesg:\n$ dmesg|grep -i xid\n[  347.164529] NVRM: Xid (PCI:0000:65:00): 8, Channel 00000010\n\nI'm also seeing this error for training on https://github.com/ikostrikov/pytorch-a2c-ppo-acktr\nNvidia's Xid error page states, that Xid 8 means \"GPU stopped processing\" with the following possible causes:\n\n\nDriver Error\nI tested different driver versions from 387 to 396.51 and cuda versions from 8.0 to 9.2, same error\n\n\nThermal Issue\nThe error appears shortly after starting the training, at 60 degrees celsius GPU temp\n\n\nBus Error\nI made different stability tests from gpu_burn to unigine heaven. All stable. I even sent my graphics card to MSI that found no device failure\n\n\nUser App Error\nThat's why I'm here\n\n\nI'm a little lost right now, hope you can help me spotting the cause of this issue.\nSystem Info\nPyTorch version: 0.4.1\nIs debug build: No\nCUDA used to build PyTorch: 9.2.148\n\nOS: Ubuntu 18.04.1 LTS\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\nCMake version: version 3.10.2\n\nPython version: 3.7\nIs CUDA available: Yes\nCUDA runtime version: 9.2.148\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\nNvidia driver version: 396.51\ncuDNN version: Probably one of the following:\n/usr/local/cuda-9.0/lib64/libcudnn.so\n/usr/local/cuda-9.0/lib64/libcudnn.so.7\n/usr/local/cuda-9.0/lib64/libcudnn.so.7.0.5\n/usr/local/cuda-9.0/lib64/libcudnn_static.a\n\n# At the moment, /usr/local/cuda points at /usr/local/cuda-9.2, which is my current version.\n# $ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2018 NVIDIA Corporation\nBuilt on Tue_Jun_12_23:07:04_CDT_2018\nCuda compilation tools, release 9.2, V9.2.148\n\nVersions of relevant libraries:\n[pip3] numpy (1.13.3)\n[conda] cuda92                    1.0                           0    pytorch\n[conda] pytorch                   0.4.1           py37_cuda9.2.148_cudnn7.1.4_1  [cuda92]  pytorch\n[conda] torchvision               0.2.1                    py37_1    pytorch", "body": "I'm getting a cuda runtime error for various deep learning applications. Here is a minimal example\r\n\r\n```\r\n$ <fresh conda install>\r\n$ conda update conda\r\n$ conda update python\r\n$ conda install pytorch torchvision cuda92 -c pytorch\r\n$ git clone https://github.com/pytorch/examples\r\n$ cd examples/mnist\r\n$ python main.py\r\n\r\nDownloading http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz\r\nDownloading http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\r\nDownloading http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\r\nDownloading http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\r\nProcessing...\r\nDone!\r\nTrain Epoch: 1 [0/60000 (0%)]\tLoss: 2.373651\r\nTHCudaCheck FAIL file=/opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp line=21 error=6 : the launch timed out and was terminated\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 109, in <module>\r\n    main()\r\n  File \"main.py\", line 104, in main\r\n    train(args, model, device, train_loader, optimizer, epoch)\r\n  File \"main.py\", line 30, in train\r\n    data, target = data.to(device), target.to(device)\r\nRuntimeError: cuda runtime error (6) : the launch timed out and was terminated at /opt/conda/conda-bld/pytorch_1532582123400/work/aten/src/THC/generic/THCTensorCopy.cpp:21\r\n```\r\nAt the same time, I get a Xid in dmesg:\r\n```\r\n$ dmesg|grep -i xid\r\n[  347.164529] NVRM: Xid (PCI:0000:65:00): 8, Channel 00000010\r\n```\r\nI'm also seeing this error for training on https://github.com/ikostrikov/pytorch-a2c-ppo-acktr\r\n\r\nNvidia's [Xid error page](https://docs.nvidia.com/deploy/xid-errors/) states, that Xid 8 means \"GPU stopped processing\" with the following possible causes:\r\n* Driver Error\r\nI tested different driver versions from 387 to 396.51 and cuda versions from 8.0 to 9.2, same error\r\n\r\n* Thermal Issue\r\nThe error appears shortly after starting the training, at 60 degrees celsius GPU temp\r\n\r\n* Bus Error\r\nI made different stability tests from gpu_burn to unigine heaven. All stable. I even sent my graphics card to MSI that found no device failure\r\n\r\n* User App Error\r\nThat's why I'm here\r\n\r\nI'm a little lost right now, hope you can help me spotting the cause of this issue.\r\n\r\n## System Info\r\n```\r\nPyTorch version: 0.4.1\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.2.148\r\n\r\nOS: Ubuntu 18.04.1 LTS\r\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\nCMake version: version 3.10.2\r\n\r\nPython version: 3.7\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.2.148\r\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\r\nNvidia driver version: 396.51\r\ncuDNN version: Probably one of the following:\r\n/usr/local/cuda-9.0/lib64/libcudnn.so\r\n/usr/local/cuda-9.0/lib64/libcudnn.so.7\r\n/usr/local/cuda-9.0/lib64/libcudnn.so.7.0.5\r\n/usr/local/cuda-9.0/lib64/libcudnn_static.a\r\n\r\n# At the moment, /usr/local/cuda points at /usr/local/cuda-9.2, which is my current version.\r\n# $ nvcc --version\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2018 NVIDIA Corporation\r\nBuilt on Tue_Jun_12_23:07:04_CDT_2018\r\nCuda compilation tools, release 9.2, V9.2.148\r\n\r\nVersions of relevant libraries:\r\n[pip3] numpy (1.13.3)\r\n[conda] cuda92                    1.0                           0    pytorch\r\n[conda] pytorch                   0.4.1           py37_cuda9.2.148_cudnn7.1.4_1  [cuda92]  pytorch\r\n[conda] torchvision               0.2.1                    py37_1    pytorch\r\n```"}