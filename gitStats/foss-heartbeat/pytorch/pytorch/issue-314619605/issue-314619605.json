{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6622", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6622/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6622/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6622/events", "html_url": "https://github.com/pytorch/pytorch/issues/6622", "id": 314619605, "node_id": "MDU6SXNzdWUzMTQ2MTk2MDU=", "number": 6622, "title": "Possible KL_loss bug on output dimension average.", "user": {"login": "Lan1991Xu", "id": 22507798, "node_id": "MDQ6VXNlcjIyNTA3Nzk4", "avatar_url": "https://avatars0.githubusercontent.com/u/22507798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lan1991Xu", "html_url": "https://github.com/Lan1991Xu", "followers_url": "https://api.github.com/users/Lan1991Xu/followers", "following_url": "https://api.github.com/users/Lan1991Xu/following{/other_user}", "gists_url": "https://api.github.com/users/Lan1991Xu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lan1991Xu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lan1991Xu/subscriptions", "organizations_url": "https://api.github.com/users/Lan1991Xu/orgs", "repos_url": "https://api.github.com/users/Lan1991Xu/repos", "events_url": "https://api.github.com/users/Lan1991Xu/events{/privacy}", "received_events_url": "https://api.github.com/users/Lan1991Xu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1002728630, "node_id": "MDU6TGFiZWwxMDAyNzI4NjMw", "url": "https://api.github.com/repos/pytorch/pytorch/labels/1.0", "name": "1.0", "color": "f9db31", "default": false}, {"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}], "state": "open", "locked": false, "assignee": {"login": "li-roy", "id": 8813817, "node_id": "MDQ6VXNlcjg4MTM4MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8813817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/li-roy", "html_url": "https://github.com/li-roy", "followers_url": "https://api.github.com/users/li-roy/followers", "following_url": "https://api.github.com/users/li-roy/following{/other_user}", "gists_url": "https://api.github.com/users/li-roy/gists{/gist_id}", "starred_url": "https://api.github.com/users/li-roy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/li-roy/subscriptions", "organizations_url": "https://api.github.com/users/li-roy/orgs", "repos_url": "https://api.github.com/users/li-roy/repos", "events_url": "https://api.github.com/users/li-roy/events{/privacy}", "received_events_url": "https://api.github.com/users/li-roy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "li-roy", "id": 8813817, "node_id": "MDQ6VXNlcjg4MTM4MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8813817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/li-roy", "html_url": "https://github.com/li-roy", "followers_url": "https://api.github.com/users/li-roy/followers", "following_url": "https://api.github.com/users/li-roy/following{/other_user}", "gists_url": "https://api.github.com/users/li-roy/gists{/gist_id}", "starred_url": "https://api.github.com/users/li-roy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/li-roy/subscriptions", "organizations_url": "https://api.github.com/users/li-roy/orgs", "repos_url": "https://api.github.com/users/li-roy/repos", "events_url": "https://api.github.com/users/li-roy/events{/privacy}", "received_events_url": "https://api.github.com/users/li-roy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-04-16T12:00:37Z", "updated_at": "2018-08-28T01:47:13Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>HI I find the KL_loss compute by pytorch is always small than tensorflow. Then I check the defination of KL loss <a href=\"https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence</a>, and also the decuments of the <a href=\"http://pytorch.org/docs/master/nn.html\" rel=\"nofollow\">http://pytorch.org/docs/master/nn.html</a>, It shows <strong>By default, the losses are averaged for each minibatch over observations as well as over dimensions. However, if the field size_average is set to False, the losses are instead summed.</strong> in pytorch. The problem is the KL loss from wikipedia is not using average dimensions. Any misunderstanding for KL loss implement by pytorch.</p>", "body_text": "HI I find the KL_loss compute by pytorch is always small than tensorflow. Then I check the defination of KL loss https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence, and also the decuments of the http://pytorch.org/docs/master/nn.html, It shows By default, the losses are averaged for each minibatch over observations as well as over dimensions. However, if the field size_average is set to False, the losses are instead summed. in pytorch. The problem is the KL loss from wikipedia is not using average dimensions. Any misunderstanding for KL loss implement by pytorch.", "body": "HI I find the KL_loss compute by pytorch is always small than tensorflow. Then I check the defination of KL loss https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence, and also the decuments of the http://pytorch.org/docs/master/nn.html, It shows **By default, the losses are averaged for each minibatch over observations as well as over dimensions. However, if the field size_average is set to False, the losses are instead summed.** in pytorch. The problem is the KL loss from wikipedia is not using average dimensions. Any misunderstanding for KL loss implement by pytorch.\r\n"}