{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/365764327", "html_url": "https://github.com/pytorch/pytorch/issues/5244#issuecomment-365764327", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5244", "id": 365764327, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTc2NDMyNw==", "user": {"login": "rudedogg", "id": 2127629, "node_id": "MDQ6VXNlcjIxMjc2Mjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2127629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rudedogg", "html_url": "https://github.com/rudedogg", "followers_url": "https://api.github.com/users/rudedogg/followers", "following_url": "https://api.github.com/users/rudedogg/following{/other_user}", "gists_url": "https://api.github.com/users/rudedogg/gists{/gist_id}", "starred_url": "https://api.github.com/users/rudedogg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rudedogg/subscriptions", "organizations_url": "https://api.github.com/users/rudedogg/orgs", "repos_url": "https://api.github.com/users/rudedogg/repos", "events_url": "https://api.github.com/users/rudedogg/events{/privacy}", "received_events_url": "https://api.github.com/users/rudedogg/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-14T22:21:06Z", "updated_at": "2018-02-14T22:21:45Z", "author_association": "NONE", "body_html": "<p>Thanks <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5674597\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SsnL\">@SsnL</a>, I gave that a try but no luck:</p>\n<p>My output from gcc --version:</p>\n<div class=\"highlight highlight-source-shell\"><pre>Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 9.0.0 (clang-900.0.39.2)\nTarget: x86_64-apple-darwin17.4.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin</pre></div>\n<p>My build command:</p>\n<div class=\"highlight highlight-source-shell\"><pre>env CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install</pre></div>\n<p>Error output:</p>\n<div class=\"highlight highlight-source-shell\"><pre>[ 39%] Building NVCC (Device) object CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTChar.cu.o\nnvcc error   <span class=\"pl-c1\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ptxas<span class=\"pl-pds\">'</span></span> died due to signal 11 (Invalid memory reference)\nCMake Error at THC_generated_THCTensorMathCompareTByte.cu.o.cmake:267 (message):\n  Error generating file\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir/generated/./THC_generated_THCTensorMathCompareTByte.cu.o\n\n\nmake[2]: <span class=\"pl-k\">***</span> [CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTByte.cu.o] Error 1\nmake[2]: <span class=\"pl-k\">***</span> Waiting <span class=\"pl-k\">for</span> unfinished jobs....\nptxas /var/folders/b7/fqvwqsh503zbn1_xj3qlwh0h0000gn/T//tmpxft_00011800_00000000-5_THCTensorIndex.ptx, line 402647<span class=\"pl-k\">;</span> error   <span class=\"pl-c1\">:</span> Unknown modifier <span class=\"pl-s\"><span class=\"pl-pds\">'</span>.pavam<span class=\"pl-pds\">'</span></span>\nptxas fatal   <span class=\"pl-c1\">:</span> Ptx assembly aborted due to errors\nCMake Error at THC_generated_THCTensorIndex.cu.o.cmake:267 (message):\n  Error generating file\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir//./THC_generated_THCTensorIndex.cu.o\n\n\nmake[2]: <span class=\"pl-k\">***</span> [CMakeFiles/THC.dir/THC_generated_THCTensorIndex.cu.o] Error 1\nmake[1]: <span class=\"pl-k\">***</span> [CMakeFiles/THC.dir/all] Error 2\nmake: <span class=\"pl-k\">***</span> [all] Error 2</pre></div>\n<p>I also tried a few other build options, but ran into errors with them as well:</p>\n<div class=\"highlight highlight-source-shell\"><pre>env CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install</pre></div>\n<p>Is there anywhere I can get a binary of pytorch with cuda support for macOS?</p>", "body_text": "Thanks @SsnL, I gave that a try but no luck:\nMy output from gcc --version:\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 9.0.0 (clang-900.0.39.2)\nTarget: x86_64-apple-darwin17.4.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\nMy build command:\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\nError output:\n[ 39%] Building NVCC (Device) object CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTChar.cu.o\nnvcc error   : 'ptxas' died due to signal 11 (Invalid memory reference)\nCMake Error at THC_generated_THCTensorMathCompareTByte.cu.o.cmake:267 (message):\n  Error generating file\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir/generated/./THC_generated_THCTensorMathCompareTByte.cu.o\n\n\nmake[2]: *** [CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTByte.cu.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nptxas /var/folders/b7/fqvwqsh503zbn1_xj3qlwh0h0000gn/T//tmpxft_00011800_00000000-5_THCTensorIndex.ptx, line 402647; error   : Unknown modifier '.pavam'\nptxas fatal   : Ptx assembly aborted due to errors\nCMake Error at THC_generated_THCTensorIndex.cu.o.cmake:267 (message):\n  Error generating file\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir//./THC_generated_THCTensorIndex.cu.o\n\n\nmake[2]: *** [CMakeFiles/THC.dir/THC_generated_THCTensorIndex.cu.o] Error 1\nmake[1]: *** [CMakeFiles/THC.dir/all] Error 2\nmake: *** [all] Error 2\nI also tried a few other build options, but ran into errors with them as well:\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py install\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\nIs there anywhere I can get a binary of pytorch with cuda support for macOS?", "body": "Thanks @SsnL, I gave that a try but no luck:\r\n\r\nMy output from gcc --version:\r\n```bash\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\r\nApple LLVM version 9.0.0 (clang-900.0.39.2)\r\nTarget: x86_64-apple-darwin17.4.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n\r\nMy build command:\r\n```bash\r\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\r\n```\r\n\r\nError output:\r\n```bash\r\n[ 39%] Building NVCC (Device) object CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTChar.cu.o\r\nnvcc error   : 'ptxas' died due to signal 11 (Invalid memory reference)\r\nCMake Error at THC_generated_THCTensorMathCompareTByte.cu.o.cmake:267 (message):\r\n  Error generating file\r\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir/generated/./THC_generated_THCTensorMathCompareTByte.cu.o\r\n\r\n\r\nmake[2]: *** [CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathCompareTByte.cu.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\nptxas /var/folders/b7/fqvwqsh503zbn1_xj3qlwh0h0000gn/T//tmpxft_00011800_00000000-5_THCTensorIndex.ptx, line 402647; error   : Unknown modifier '.pavam'\r\nptxas fatal   : Ptx assembly aborted due to errors\r\nCMake Error at THC_generated_THCTensorIndex.cu.o.cmake:267 (message):\r\n  Error generating file\r\n  /Users/rudedogg/Development/Contrib/pytorch/torch/lib/build/THC/CMakeFiles/THC.dir//./THC_generated_THCTensorIndex.cu.o\r\n\r\n\r\nmake[2]: *** [CMakeFiles/THC.dir/THC_generated_THCTensorIndex.cu.o] Error 1\r\nmake[1]: *** [CMakeFiles/THC.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```\r\n\r\nI also tried a few other build options, but ran into errors with them as well:\r\n```bash\r\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\r\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ CXXFLAGS=-stdlib=libc++ python setup.py install\r\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py install\r\nenv CMAKE_PREFIX_PATH=/usr/local/anaconda3 MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\r\n```\r\nIs there anywhere I can get a binary of pytorch with cuda support for macOS?"}