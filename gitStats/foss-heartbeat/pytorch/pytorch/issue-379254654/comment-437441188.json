{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/437441188", "html_url": "https://github.com/pytorch/pytorch/pull/13777#issuecomment-437441188", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13777", "id": 437441188, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzQ0MTE4OA==", "user": {"login": "jamesr66a", "id": 4685384, "node_id": "MDQ6VXNlcjQ2ODUzODQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/4685384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesr66a", "html_url": "https://github.com/jamesr66a", "followers_url": "https://api.github.com/users/jamesr66a/followers", "following_url": "https://api.github.com/users/jamesr66a/following{/other_user}", "gists_url": "https://api.github.com/users/jamesr66a/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesr66a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesr66a/subscriptions", "organizations_url": "https://api.github.com/users/jamesr66a/orgs", "repos_url": "https://api.github.com/users/jamesr66a/repos", "events_url": "https://api.github.com/users/jamesr66a/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesr66a/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-09T17:54:12Z", "updated_at": "2018-11-09T17:54:12Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hey <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5545022\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jspark1105\">@jspark1105</a> thanks for the comments! I've updated the code and am now receiving this different error in <code>ReQuantizeForFloat</code>:</p>\n<pre><code>==41228==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x603000140db4 at pc 0x000123b8b1d7 bp 0x7ffee8478980 sp 0x7ffee8478978\nWRITE of size 4 at 0x603000140db4 thread T0\n    #0 0x123b8b1d6 in int fbgemm2::ReQuantizeForFloat&lt;false, float, int, fbgemm2::DoNothing&lt;float, float&gt; &gt;::f&lt;(fbgemm2::inst_set_t)1&gt;(float*, int*, fbgemm2::block_type_t const&amp;, int, int) const OutputProcessing-inl.h:348\n    #1 0x123b8a68d in fbgemm2::ExecuteKernel&lt;fbgemm2::PackAWithQuantRowOffset&lt;unsigned char, int&gt;, fbgemm2::PackBMatrix&lt;signed char, int&gt;, float, fbgemm2::ReQuantizeForFloat&lt;false, float, int, fbgemm2::DoNothing&lt;float, float&gt; &gt; &gt;::execute(int) ExecuteKernelU8S8.cc:196\n    #2 0x123bc39ec in void fbgemm2::fbgemmPacked&lt;fbgemm2::PackAWithQuantRowOffset&lt;unsigned char, int&gt;, fbgemm2::PackBMatrix&lt;signed char, int&gt;, float, fbgemm2::ReQuantizeForFloat&lt;false, float, int, fbgemm2::DoNothing&lt;float, float&gt; &gt; &gt;(fbgemm2::PackMatrix&lt;fbgemm2::PackAWithQuantRowOffset&lt;unsigned char, int&gt;, fbgemm2::PackAWithQuantRowOffset&lt;unsigned char, int&gt;::inpType, fbgemm2::PackAWithQuantRowOffset&lt;unsigned char, int&gt;::accType&gt;&amp;, fbgemm2::PackMatrix&lt;fbgemm2::PackBMatrix&lt;signed char, int&gt;, fbgemm2::PackBMatrix&lt;signed char, int&gt;::inpType, fbgemm2::PackBMatrix&lt;signed char, int&gt;::accType&gt;&amp;, float*, int*, unsigned int, fbgemm2::ReQuantizeForFloat&lt;false, float, int, fbgemm2::DoNothing&lt;float, float&gt; &gt; const&amp;, int, int) Fbgemm.cc:124\n    #3 0x11f981d2c in at::native::linear_int8_weight(at::Tensor const&amp;, at::Tensor const&amp;, at::Tensor const&amp;) Linear.cpp:136\n    #4 0x120603a7c in at::TypeDefault::linear_int8_weight(at::Tensor const&amp;, at::Tensor const&amp;, at::Tensor const&amp;) const TypeDefault.cpp:3578\n    #5 0x12755dee0 in torch::autograd::VariableType::linear_int8_weight(at::Tensor const&amp;, at::Tensor const&amp;, at::Tensor const&amp;) const VariableType_0.cpp:5262\n    #6 0x11d29a73b in at::linear_int8_weight(at::Tensor const&amp;, at::Tensor const&amp;, at::Tensor const&amp;) Functions.h:3854\n    #7 0x11d29a564 in torch::autograd::dispatch_linear_int8_weight(at::Tensor const&amp;, at::Tensor const&amp;, at::Tensor const&amp;) python_torch_functions_dispatch.h:1780\n    #8 0x11d09be07 in torch::autograd::THPVariable_linear_int8_weight(_object*, _object*, _object*) python_torch_functions.cpp:4322\nProvided dSYM: [/Users/jamesreed/anaconda3/lib/libpython3.6m.dylib.dSYM/Contents/Resources/DWARF/libpython3.6m.dylib] does not match symbol owner 0x7fcd58d01030\n    #9 0x10884c966 in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56966)\n    #10 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\n    #11 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #12 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #13 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #14 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #15 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #16 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #17 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #18 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #19 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #20 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #21 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #22 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #23 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #24 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #25 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #26 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #27 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #28 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #29 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #30 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #31 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #32 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #33 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #34 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #35 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #36 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #37 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #38 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #39 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #40 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #41 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #42 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #43 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #44 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #45 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #46 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #47 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #48 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #49 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #50 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #51 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #52 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #53 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #54 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #55 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #56 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #57 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #58 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #59 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #60 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #61 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #62 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #63 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #64 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #65 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #66 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #67 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #68 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #69 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #70 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #71 0x108864c6c in slot_tp_init (libpython3.6m.dylib:x86_64+0x6ec6c)\n    #72 0x108860eb8 in type_call (libpython3.6m.dylib:x86_64+0x6aeb8)\n    #73 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #74 0x108804294 in _PyObject_FastCallKeywords (libpython3.6m.dylib:x86_64+0xe294)\n    #75 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #76 0x1088cb170 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd5170)\n    #77 0x1088cfafb in fast_function (libpython3.6m.dylib:x86_64+0xd9afb)\n    #78 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #79 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #80 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #81 0x1088c4533 in PyEval_EvalCode (libpython3.6m.dylib:x86_64+0xce533)\n    #82 0x1088fa510 in PyRun_FileExFlags (libpython3.6m.dylib:x86_64+0x104510)\n    #83 0x1088f9cc2 in PyRun_SimpleFileExFlags (libpython3.6m.dylib:x86_64+0x103cc2)\n    #84 0x108912c48 in Py_Main (libpython3.6m.dylib:x86_64+0x11cc48)\nProvided dSYM: [/Users/jamesreed/anaconda3/bin/python.dSYM/Contents/Resources/DWARF/python] does not match symbol owner 0x7fcd58d008a0\n    #85 0x107781df7 in main (python:x86_64+0x100000df7)\n    #86 0x7fff5cafa014 in start (libdyld.dylib:x86_64+0x1014)\n\n0x603000140db4 is located 0 bytes to the right of 20-byte region [0x603000140da0,0x603000140db4)\nallocated by thread T0 here:\n    #0 0x1077ddf53 in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x56f53)\n    #1 0x120661169 in THAllocInternal(long) THGeneral.cpp:180\n    #2 0x120660f61 in THAlloc THGeneral.cpp:196\n    #3 0x1206749b9 in THDefaultAllocator::allocate(unsigned long) const THAllocator.cpp:24\n    #4 0x120677b99 in THStorage_resize THStorageFunctions.cpp:52\n    #5 0x11fb76e75 in at::native::maybe_resize_storage_cpu(at::TensorImpl*, long long) Resize.h:18\n    #6 0x11fb745f5 in at::native::resize_impl_cpu_(at::TensorImpl*, at::ArrayRef&lt;long long&gt;, c10::optional&lt;at::ArrayRef&lt;long long&gt; &gt;) Resize.h:46\n    #7 0x11fb739e7 in at::native::resize_cpu_(at::Tensor&amp;, at::ArrayRef&lt;long long&gt;) Resize.cpp:8\n    #8 0x11fc3a6f7 in at::native::empty_cpu(at::ArrayRef&lt;long long&gt;, at::TensorOptions const&amp;) TensorFactories.cpp:113\n    #9 0x1202ea974 in at::CPUFloatType::empty(at::ArrayRef&lt;long long&gt;, at::TensorOptions const&amp;) const CPUFloatType.cpp:5583\n    #10 0x12812a9c4 in torch::autograd::VariableType::empty(at::ArrayRef&lt;long long&gt;, at::TensorOptions const&amp;) const VariableType_4.cpp:4353\n    #11 0x1204b75ce in at::empty(at::ArrayRef&lt;long long&gt;, at::TensorOptions const&amp;) Functions.h:3608\n    #12 0x1204b6f70 in at::TypeDefault::copy(at::Tensor const&amp;, bool, c10::optional&lt;c10::Device&gt;) const TypeDefault.cpp:37\n    #13 0x11fc33138 in at::native::to_impl(at::Tensor const&amp;, at::TensorOptions const&amp;, bool) TensorConversions.cpp:23\n    #14 0x11fc34230 in at::native::to(at::Tensor const&amp;, at::ScalarType, bool, bool) TensorConversions.cpp:68\n    #15 0x120646128 in at::TypeDefault::to(at::Tensor const&amp;, at::ScalarType, bool, bool) const TypeDefault.cpp:4663\n    #16 0x127c7e908 in torch::autograd::VariableType::to(at::Tensor const&amp;, at::ScalarType, bool, bool) const VariableType_2.cpp:8402\n    #17 0x11d54fb34 in at::Tensor::to(at::ScalarType, bool, bool) const TensorMethods.h:1236\n    #18 0x11d54f910 in torch::autograd::dispatch_to(at::Tensor const&amp;, at::ScalarType, bool, bool) python_variable_methods.cpp:267\n    #19 0x11d54e80a in torch::autograd::THPVariable_to_type(_object*, at::ScalarType) python_variable_methods.cpp:303\n    #20 0x11d3359cf in torch::autograd::THPVariable_float(_object*, _object*) python_variable_methods.cpp:319\n    #21 0x10884cadf in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56adf)\n    #22 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\n    #23 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #24 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #25 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #26 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #27 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #28 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #29 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n\nSUMMARY: AddressSanitizer: heap-buffer-overflow OutputProcessing-inl.h:348 in int fbgemm2::ReQuantizeForFloat&lt;false, float, int, fbgemm2::DoNothing&lt;float, float&gt; &gt;::f&lt;(fbgemm2::inst_set_t)1&gt;(float*, int*, fbgemm2::block_type_t const&amp;, int, int) const\nShadow bytes around the buggy address:\n  0x1c0600028160: 00 00 00 00 fa fa fd fd fd fa fa fa fd fd fd fd\n  0x1c0600028170: fa fa 00 00 00 00 fa fa fd fd fd fa fa fa fd fd\n  0x1c0600028180: fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa\n  0x1c0600028190: 00 00 04 fa fa fa 00 00 00 00 fa fa fd fd fd fa\n  0x1c06000281a0: fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd\n=&gt;0x1c06000281b0: fd fd fa fa 00 00[04]fa fa fa 00 00 00 00 fa fa\n  0x1c06000281c0: fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fa\n  0x1c06000281d0: fa fa fd fd fd fd fa fa fa fa fa fa fa fa fa fa\n  0x1c06000281e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x1c06000281f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x1c0600028200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\nShadow byte legend (one shadow byte represents 8 application bytes):\n  Addressable:           00\n  Partially addressable: 01 02 03 04 05 06 07\n  Heap left redzone:       fa\n  Freed heap region:       fd\n  Stack left redzone:      f1\n  Stack mid redzone:       f2\n  Stack right redzone:     f3\n  Stack after return:      f5\n  Stack use after scope:   f8\n  Global redzone:          f9\n  Global init order:       f6\n  Poisoned by user:        f7\n  Container overflow:      fc\n  Array cookie:            ac\n  Intra object redzone:    bb\n  ASan internal:           fe\n  Left alloca redzone:     ca\n  Right alloca redzone:    cb\n==41228==ABORTING\nAbort trap: 6\n</code></pre>", "body_text": "Hey @jspark1105 thanks for the comments! I've updated the code and am now receiving this different error in ReQuantizeForFloat:\n==41228==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x603000140db4 at pc 0x000123b8b1d7 bp 0x7ffee8478980 sp 0x7ffee8478978\nWRITE of size 4 at 0x603000140db4 thread T0\n    #0 0x123b8b1d6 in int fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> >::f<(fbgemm2::inst_set_t)1>(float*, int*, fbgemm2::block_type_t const&, int, int) const OutputProcessing-inl.h:348\n    #1 0x123b8a68d in fbgemm2::ExecuteKernel<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackBMatrix<signed char, int>, float, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > >::execute(int) ExecuteKernelU8S8.cc:196\n    #2 0x123bc39ec in void fbgemm2::fbgemmPacked<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackBMatrix<signed char, int>, float, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > >(fbgemm2::PackMatrix<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackAWithQuantRowOffset<unsigned char, int>::inpType, fbgemm2::PackAWithQuantRowOffset<unsigned char, int>::accType>&, fbgemm2::PackMatrix<fbgemm2::PackBMatrix<signed char, int>, fbgemm2::PackBMatrix<signed char, int>::inpType, fbgemm2::PackBMatrix<signed char, int>::accType>&, float*, int*, unsigned int, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > const&, int, int) Fbgemm.cc:124\n    #3 0x11f981d2c in at::native::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) Linear.cpp:136\n    #4 0x120603a7c in at::TypeDefault::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) const TypeDefault.cpp:3578\n    #5 0x12755dee0 in torch::autograd::VariableType::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) const VariableType_0.cpp:5262\n    #6 0x11d29a73b in at::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) Functions.h:3854\n    #7 0x11d29a564 in torch::autograd::dispatch_linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) python_torch_functions_dispatch.h:1780\n    #8 0x11d09be07 in torch::autograd::THPVariable_linear_int8_weight(_object*, _object*, _object*) python_torch_functions.cpp:4322\nProvided dSYM: [/Users/jamesreed/anaconda3/lib/libpython3.6m.dylib.dSYM/Contents/Resources/DWARF/libpython3.6m.dylib] does not match symbol owner 0x7fcd58d01030\n    #9 0x10884c966 in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56966)\n    #10 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\n    #11 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #12 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #13 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #14 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #15 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #16 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #17 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #18 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #19 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #20 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #21 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #22 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #23 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #24 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #25 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #26 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #27 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #28 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #29 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #30 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #31 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #32 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #33 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #34 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #35 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #36 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #37 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #38 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #39 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #40 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #41 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #42 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #43 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #44 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #45 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #46 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #47 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #48 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #49 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #50 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\n    #51 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #52 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #53 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #54 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #55 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #56 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\n    #57 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #58 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #59 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #60 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #61 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #62 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #63 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #64 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #65 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #66 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #67 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #68 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n    #69 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\n    #70 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\n    #71 0x108864c6c in slot_tp_init (libpython3.6m.dylib:x86_64+0x6ec6c)\n    #72 0x108860eb8 in type_call (libpython3.6m.dylib:x86_64+0x6aeb8)\n    #73 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\n    #74 0x108804294 in _PyObject_FastCallKeywords (libpython3.6m.dylib:x86_64+0xe294)\n    #75 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\n    #76 0x1088cb170 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd5170)\n    #77 0x1088cfafb in fast_function (libpython3.6m.dylib:x86_64+0xd9afb)\n    #78 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #79 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #80 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #81 0x1088c4533 in PyEval_EvalCode (libpython3.6m.dylib:x86_64+0xce533)\n    #82 0x1088fa510 in PyRun_FileExFlags (libpython3.6m.dylib:x86_64+0x104510)\n    #83 0x1088f9cc2 in PyRun_SimpleFileExFlags (libpython3.6m.dylib:x86_64+0x103cc2)\n    #84 0x108912c48 in Py_Main (libpython3.6m.dylib:x86_64+0x11cc48)\nProvided dSYM: [/Users/jamesreed/anaconda3/bin/python.dSYM/Contents/Resources/DWARF/python] does not match symbol owner 0x7fcd58d008a0\n    #85 0x107781df7 in main (python:x86_64+0x100000df7)\n    #86 0x7fff5cafa014 in start (libdyld.dylib:x86_64+0x1014)\n\n0x603000140db4 is located 0 bytes to the right of 20-byte region [0x603000140da0,0x603000140db4)\nallocated by thread T0 here:\n    #0 0x1077ddf53 in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x56f53)\n    #1 0x120661169 in THAllocInternal(long) THGeneral.cpp:180\n    #2 0x120660f61 in THAlloc THGeneral.cpp:196\n    #3 0x1206749b9 in THDefaultAllocator::allocate(unsigned long) const THAllocator.cpp:24\n    #4 0x120677b99 in THStorage_resize THStorageFunctions.cpp:52\n    #5 0x11fb76e75 in at::native::maybe_resize_storage_cpu(at::TensorImpl*, long long) Resize.h:18\n    #6 0x11fb745f5 in at::native::resize_impl_cpu_(at::TensorImpl*, at::ArrayRef<long long>, c10::optional<at::ArrayRef<long long> >) Resize.h:46\n    #7 0x11fb739e7 in at::native::resize_cpu_(at::Tensor&, at::ArrayRef<long long>) Resize.cpp:8\n    #8 0x11fc3a6f7 in at::native::empty_cpu(at::ArrayRef<long long>, at::TensorOptions const&) TensorFactories.cpp:113\n    #9 0x1202ea974 in at::CPUFloatType::empty(at::ArrayRef<long long>, at::TensorOptions const&) const CPUFloatType.cpp:5583\n    #10 0x12812a9c4 in torch::autograd::VariableType::empty(at::ArrayRef<long long>, at::TensorOptions const&) const VariableType_4.cpp:4353\n    #11 0x1204b75ce in at::empty(at::ArrayRef<long long>, at::TensorOptions const&) Functions.h:3608\n    #12 0x1204b6f70 in at::TypeDefault::copy(at::Tensor const&, bool, c10::optional<c10::Device>) const TypeDefault.cpp:37\n    #13 0x11fc33138 in at::native::to_impl(at::Tensor const&, at::TensorOptions const&, bool) TensorConversions.cpp:23\n    #14 0x11fc34230 in at::native::to(at::Tensor const&, at::ScalarType, bool, bool) TensorConversions.cpp:68\n    #15 0x120646128 in at::TypeDefault::to(at::Tensor const&, at::ScalarType, bool, bool) const TypeDefault.cpp:4663\n    #16 0x127c7e908 in torch::autograd::VariableType::to(at::Tensor const&, at::ScalarType, bool, bool) const VariableType_2.cpp:8402\n    #17 0x11d54fb34 in at::Tensor::to(at::ScalarType, bool, bool) const TensorMethods.h:1236\n    #18 0x11d54f910 in torch::autograd::dispatch_to(at::Tensor const&, at::ScalarType, bool, bool) python_variable_methods.cpp:267\n    #19 0x11d54e80a in torch::autograd::THPVariable_to_type(_object*, at::ScalarType) python_variable_methods.cpp:303\n    #20 0x11d3359cf in torch::autograd::THPVariable_float(_object*, _object*) python_variable_methods.cpp:319\n    #21 0x10884cadf in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56adf)\n    #22 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\n    #23 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #24 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\n    #25 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\n    #26 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\n    #27 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\n    #28 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\n    #29 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\n\nSUMMARY: AddressSanitizer: heap-buffer-overflow OutputProcessing-inl.h:348 in int fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> >::f<(fbgemm2::inst_set_t)1>(float*, int*, fbgemm2::block_type_t const&, int, int) const\nShadow bytes around the buggy address:\n  0x1c0600028160: 00 00 00 00 fa fa fd fd fd fa fa fa fd fd fd fd\n  0x1c0600028170: fa fa 00 00 00 00 fa fa fd fd fd fa fa fa fd fd\n  0x1c0600028180: fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa\n  0x1c0600028190: 00 00 04 fa fa fa 00 00 00 00 fa fa fd fd fd fa\n  0x1c06000281a0: fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd\n=>0x1c06000281b0: fd fd fa fa 00 00[04]fa fa fa 00 00 00 00 fa fa\n  0x1c06000281c0: fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fa\n  0x1c06000281d0: fa fa fd fd fd fd fa fa fa fa fa fa fa fa fa fa\n  0x1c06000281e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x1c06000281f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\n  0x1c0600028200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\nShadow byte legend (one shadow byte represents 8 application bytes):\n  Addressable:           00\n  Partially addressable: 01 02 03 04 05 06 07\n  Heap left redzone:       fa\n  Freed heap region:       fd\n  Stack left redzone:      f1\n  Stack mid redzone:       f2\n  Stack right redzone:     f3\n  Stack after return:      f5\n  Stack use after scope:   f8\n  Global redzone:          f9\n  Global init order:       f6\n  Poisoned by user:        f7\n  Container overflow:      fc\n  Array cookie:            ac\n  Intra object redzone:    bb\n  ASan internal:           fe\n  Left alloca redzone:     ca\n  Right alloca redzone:    cb\n==41228==ABORTING\nAbort trap: 6", "body": "Hey @jspark1105 thanks for the comments! I've updated the code and am now receiving this different error in `ReQuantizeForFloat`:\r\n\r\n```\r\n==41228==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x603000140db4 at pc 0x000123b8b1d7 bp 0x7ffee8478980 sp 0x7ffee8478978\r\nWRITE of size 4 at 0x603000140db4 thread T0\r\n    #0 0x123b8b1d6 in int fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> >::f<(fbgemm2::inst_set_t)1>(float*, int*, fbgemm2::block_type_t const&, int, int) const OutputProcessing-inl.h:348\r\n    #1 0x123b8a68d in fbgemm2::ExecuteKernel<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackBMatrix<signed char, int>, float, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > >::execute(int) ExecuteKernelU8S8.cc:196\r\n    #2 0x123bc39ec in void fbgemm2::fbgemmPacked<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackBMatrix<signed char, int>, float, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > >(fbgemm2::PackMatrix<fbgemm2::PackAWithQuantRowOffset<unsigned char, int>, fbgemm2::PackAWithQuantRowOffset<unsigned char, int>::inpType, fbgemm2::PackAWithQuantRowOffset<unsigned char, int>::accType>&, fbgemm2::PackMatrix<fbgemm2::PackBMatrix<signed char, int>, fbgemm2::PackBMatrix<signed char, int>::inpType, fbgemm2::PackBMatrix<signed char, int>::accType>&, float*, int*, unsigned int, fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> > const&, int, int) Fbgemm.cc:124\r\n    #3 0x11f981d2c in at::native::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) Linear.cpp:136\r\n    #4 0x120603a7c in at::TypeDefault::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) const TypeDefault.cpp:3578\r\n    #5 0x12755dee0 in torch::autograd::VariableType::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) const VariableType_0.cpp:5262\r\n    #6 0x11d29a73b in at::linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) Functions.h:3854\r\n    #7 0x11d29a564 in torch::autograd::dispatch_linear_int8_weight(at::Tensor const&, at::Tensor const&, at::Tensor const&) python_torch_functions_dispatch.h:1780\r\n    #8 0x11d09be07 in torch::autograd::THPVariable_linear_int8_weight(_object*, _object*, _object*) python_torch_functions.cpp:4322\r\nProvided dSYM: [/Users/jamesreed/anaconda3/lib/libpython3.6m.dylib.dSYM/Contents/Resources/DWARF/libpython3.6m.dylib] does not match symbol owner 0x7fcd58d01030\r\n    #9 0x10884c966 in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56966)\r\n    #10 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\r\n    #11 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #12 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\r\n    #13 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\r\n    #14 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #15 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #16 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #17 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #18 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #19 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #20 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\r\n    #21 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #22 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #23 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #24 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #25 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #26 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\r\n    #27 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\r\n    #28 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\r\n    #29 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #30 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #31 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #32 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #33 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #34 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #35 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\r\n    #36 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #37 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #38 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #39 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #40 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #41 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\r\n    #42 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\r\n    #43 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\r\n    #44 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #45 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #46 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #47 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #48 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #49 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #50 0x1088cb3b4 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd53b4)\r\n    #51 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #52 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #53 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #54 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #55 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #56 0x108863e14 in slot_tp_call (libpython3.6m.dylib:x86_64+0x6de14)\r\n    #57 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\r\n    #58 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\r\n    #59 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #60 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\r\n    #61 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\r\n    #62 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #63 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\r\n    #64 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\r\n    #65 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #66 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #67 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #68 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n    #69 0x108803fa4 in _PyObject_Call_Prepend (libpython3.6m.dylib:x86_64+0xdfa4)\r\n    #70 0x108803cbf in PyObject_Call (libpython3.6m.dylib:x86_64+0xdcbf)\r\n    #71 0x108864c6c in slot_tp_init (libpython3.6m.dylib:x86_64+0x6ec6c)\r\n    #72 0x108860eb8 in type_call (libpython3.6m.dylib:x86_64+0x6aeb8)\r\n    #73 0x108803e54 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde54)\r\n    #74 0x108804294 in _PyObject_FastCallKeywords (libpython3.6m.dylib:x86_64+0xe294)\r\n    #75 0x1088ce827 in call_function (libpython3.6m.dylib:x86_64+0xd8827)\r\n    #76 0x1088cb170 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd5170)\r\n    #77 0x1088cfafb in fast_function (libpython3.6m.dylib:x86_64+0xd9afb)\r\n    #78 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\r\n    #79 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #80 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #81 0x1088c4533 in PyEval_EvalCode (libpython3.6m.dylib:x86_64+0xce533)\r\n    #82 0x1088fa510 in PyRun_FileExFlags (libpython3.6m.dylib:x86_64+0x104510)\r\n    #83 0x1088f9cc2 in PyRun_SimpleFileExFlags (libpython3.6m.dylib:x86_64+0x103cc2)\r\n    #84 0x108912c48 in Py_Main (libpython3.6m.dylib:x86_64+0x11cc48)\r\nProvided dSYM: [/Users/jamesreed/anaconda3/bin/python.dSYM/Contents/Resources/DWARF/python] does not match symbol owner 0x7fcd58d008a0\r\n    #85 0x107781df7 in main (python:x86_64+0x100000df7)\r\n    #86 0x7fff5cafa014 in start (libdyld.dylib:x86_64+0x1014)\r\n\r\n0x603000140db4 is located 0 bytes to the right of 20-byte region [0x603000140da0,0x603000140db4)\r\nallocated by thread T0 here:\r\n    #0 0x1077ddf53 in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x56f53)\r\n    #1 0x120661169 in THAllocInternal(long) THGeneral.cpp:180\r\n    #2 0x120660f61 in THAlloc THGeneral.cpp:196\r\n    #3 0x1206749b9 in THDefaultAllocator::allocate(unsigned long) const THAllocator.cpp:24\r\n    #4 0x120677b99 in THStorage_resize THStorageFunctions.cpp:52\r\n    #5 0x11fb76e75 in at::native::maybe_resize_storage_cpu(at::TensorImpl*, long long) Resize.h:18\r\n    #6 0x11fb745f5 in at::native::resize_impl_cpu_(at::TensorImpl*, at::ArrayRef<long long>, c10::optional<at::ArrayRef<long long> >) Resize.h:46\r\n    #7 0x11fb739e7 in at::native::resize_cpu_(at::Tensor&, at::ArrayRef<long long>) Resize.cpp:8\r\n    #8 0x11fc3a6f7 in at::native::empty_cpu(at::ArrayRef<long long>, at::TensorOptions const&) TensorFactories.cpp:113\r\n    #9 0x1202ea974 in at::CPUFloatType::empty(at::ArrayRef<long long>, at::TensorOptions const&) const CPUFloatType.cpp:5583\r\n    #10 0x12812a9c4 in torch::autograd::VariableType::empty(at::ArrayRef<long long>, at::TensorOptions const&) const VariableType_4.cpp:4353\r\n    #11 0x1204b75ce in at::empty(at::ArrayRef<long long>, at::TensorOptions const&) Functions.h:3608\r\n    #12 0x1204b6f70 in at::TypeDefault::copy(at::Tensor const&, bool, c10::optional<c10::Device>) const TypeDefault.cpp:37\r\n    #13 0x11fc33138 in at::native::to_impl(at::Tensor const&, at::TensorOptions const&, bool) TensorConversions.cpp:23\r\n    #14 0x11fc34230 in at::native::to(at::Tensor const&, at::ScalarType, bool, bool) TensorConversions.cpp:68\r\n    #15 0x120646128 in at::TypeDefault::to(at::Tensor const&, at::ScalarType, bool, bool) const TypeDefault.cpp:4663\r\n    #16 0x127c7e908 in torch::autograd::VariableType::to(at::Tensor const&, at::ScalarType, bool, bool) const VariableType_2.cpp:8402\r\n    #17 0x11d54fb34 in at::Tensor::to(at::ScalarType, bool, bool) const TensorMethods.h:1236\r\n    #18 0x11d54f910 in torch::autograd::dispatch_to(at::Tensor const&, at::ScalarType, bool, bool) python_variable_methods.cpp:267\r\n    #19 0x11d54e80a in torch::autograd::THPVariable_to_type(_object*, at::ScalarType) python_variable_methods.cpp:303\r\n    #20 0x11d3359cf in torch::autograd::THPVariable_float(_object*, _object*) python_variable_methods.cpp:319\r\n    #21 0x10884cadf in _PyCFunction_FastCallDict (libpython3.6m.dylib:x86_64+0x56adf)\r\n    #22 0x1088ce926 in call_function (libpython3.6m.dylib:x86_64+0xd8926)\r\n    #23 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #24 0x1088cfb9c in fast_function (libpython3.6m.dylib:x86_64+0xd9b9c)\r\n    #25 0x1088ce900 in call_function (libpython3.6m.dylib:x86_64+0xd8900)\r\n    #26 0x1088cb0d1 in _PyEval_EvalFrameDefault (libpython3.6m.dylib:x86_64+0xd50d1)\r\n    #27 0x1088cf38e in _PyEval_EvalCodeWithName (libpython3.6m.dylib:x86_64+0xd938e)\r\n    #28 0x1088cff41 in _PyFunction_FastCallDict (libpython3.6m.dylib:x86_64+0xd9f41)\r\n    #29 0x108803e86 in _PyObject_FastCallDict (libpython3.6m.dylib:x86_64+0xde86)\r\n\r\nSUMMARY: AddressSanitizer: heap-buffer-overflow OutputProcessing-inl.h:348 in int fbgemm2::ReQuantizeForFloat<false, float, int, fbgemm2::DoNothing<float, float> >::f<(fbgemm2::inst_set_t)1>(float*, int*, fbgemm2::block_type_t const&, int, int) const\r\nShadow bytes around the buggy address:\r\n  0x1c0600028160: 00 00 00 00 fa fa fd fd fd fa fa fa fd fd fd fd\r\n  0x1c0600028170: fa fa 00 00 00 00 fa fa fd fd fd fa fa fa fd fd\r\n  0x1c0600028180: fd fa fa fa fd fd fd fa fa fa fd fd fd fd fa fa\r\n  0x1c0600028190: 00 00 04 fa fa fa 00 00 00 00 fa fa fd fd fd fa\r\n  0x1c06000281a0: fa fa fd fd fd fa fa fa fd fd fd fa fa fa fd fd\r\n=>0x1c06000281b0: fd fd fa fa 00 00[04]fa fa fa 00 00 00 00 fa fa\r\n  0x1c06000281c0: fd fd fd fa fa fa fd fd fd fa fa fa fd fd fd fa\r\n  0x1c06000281d0: fa fa fd fd fd fd fa fa fa fa fa fa fa fa fa fa\r\n  0x1c06000281e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x1c06000281f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x1c0600028200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\nShadow byte legend (one shadow byte represents 8 application bytes):\r\n  Addressable:           00\r\n  Partially addressable: 01 02 03 04 05 06 07\r\n  Heap left redzone:       fa\r\n  Freed heap region:       fd\r\n  Stack left redzone:      f1\r\n  Stack mid redzone:       f2\r\n  Stack right redzone:     f3\r\n  Stack after return:      f5\r\n  Stack use after scope:   f8\r\n  Global redzone:          f9\r\n  Global init order:       f6\r\n  Poisoned by user:        f7\r\n  Container overflow:      fc\r\n  Array cookie:            ac\r\n  Intra object redzone:    bb\r\n  ASan internal:           fe\r\n  Left alloca redzone:     ca\r\n  Right alloca redzone:    cb\r\n==41228==ABORTING\r\nAbort trap: 6\r\n```"}