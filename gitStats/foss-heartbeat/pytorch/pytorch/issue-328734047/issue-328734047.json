{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8069", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8069/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8069/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8069/events", "html_url": "https://github.com/pytorch/pytorch/issues/8069", "id": 328734047, "node_id": "MDU6SXNzdWUzMjg3MzQwNDc=", "number": 8069, "title": "[feature request] About Nan error using acos() function", "user": {"login": "syinari0123", "id": 23020556, "node_id": "MDQ6VXNlcjIzMDIwNTU2", "avatar_url": "https://avatars0.githubusercontent.com/u/23020556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/syinari0123", "html_url": "https://github.com/syinari0123", "followers_url": "https://api.github.com/users/syinari0123/followers", "following_url": "https://api.github.com/users/syinari0123/following{/other_user}", "gists_url": "https://api.github.com/users/syinari0123/gists{/gist_id}", "starred_url": "https://api.github.com/users/syinari0123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/syinari0123/subscriptions", "organizations_url": "https://api.github.com/users/syinari0123/orgs", "repos_url": "https://api.github.com/users/syinari0123/repos", "events_url": "https://api.github.com/users/syinari0123/events{/privacy}", "received_events_url": "https://api.github.com/users/syinari0123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-02T10:46:06Z", "updated_at": "2018-10-29T05:54:41Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I created a network using torch.acos() and encountered a Nan error during its training.</p>\n<p>The reason is that an input value to torch.acos () approaches 1 or -1, causing the grad to diverge, and resulting in value.grad = Nan.</p>\n<p>I know that torch.acos () can only handle values \u200b\u200bin the range from -1 to 1, and limited the input value's range from -1 to 1 using clamp(min=-1,max=1). However this error has occurred.<br>\nFinally I solved this by limiting input from -1 + eps to 1-eps with eps = 1e-7.</p>\n<p>I think that many users would encounter this error.<br>\nI suggest \"to alert this in the explanation of torch.acos() function in document\" or \"to change function to explicitly limit the range of values \u200b\u200bby including eps as argument\".</p>", "body_text": "I created a network using torch.acos() and encountered a Nan error during its training.\nThe reason is that an input value to torch.acos () approaches 1 or -1, causing the grad to diverge, and resulting in value.grad = Nan.\nI know that torch.acos () can only handle values \u200b\u200bin the range from -1 to 1, and limited the input value's range from -1 to 1 using clamp(min=-1,max=1). However this error has occurred.\nFinally I solved this by limiting input from -1 + eps to 1-eps with eps = 1e-7.\nI think that many users would encounter this error.\nI suggest \"to alert this in the explanation of torch.acos() function in document\" or \"to change function to explicitly limit the range of values \u200b\u200bby including eps as argument\".", "body": "I created a network using torch.acos() and encountered a Nan error during its training.\r\n\r\nThe reason is that an input value to torch.acos () approaches 1 or -1, causing the grad to diverge, and resulting in value.grad = Nan.\r\n\r\nI know that torch.acos () can only handle values \u200b\u200bin the range from -1 to 1, and limited the input value's range from -1 to 1 using clamp(min=-1,max=1). However this error has occurred.\r\nFinally I solved this by limiting input from -1 + eps to 1-eps with eps = 1e-7.\r\n\r\nI think that many users would encounter this error.\r\nI suggest \"to alert this in the explanation of torch.acos() function in document\" or \"to change function to explicitly limit the range of values \u200b\u200bby including eps as argument\"."}