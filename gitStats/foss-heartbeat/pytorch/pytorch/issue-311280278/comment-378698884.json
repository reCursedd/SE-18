{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/378698884", "html_url": "https://github.com/pytorch/pytorch/issues/6273#issuecomment-378698884", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6273", "id": 378698884, "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODY5ODg4NA==", "user": {"login": "ateymour", "id": 19393570, "node_id": "MDQ6VXNlcjE5MzkzNTcw", "avatar_url": "https://avatars2.githubusercontent.com/u/19393570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ateymour", "html_url": "https://github.com/ateymour", "followers_url": "https://api.github.com/users/ateymour/followers", "following_url": "https://api.github.com/users/ateymour/following{/other_user}", "gists_url": "https://api.github.com/users/ateymour/gists{/gist_id}", "starred_url": "https://api.github.com/users/ateymour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ateymour/subscriptions", "organizations_url": "https://api.github.com/users/ateymour/orgs", "repos_url": "https://api.github.com/users/ateymour/repos", "events_url": "https://api.github.com/users/ateymour/events{/privacy}", "received_events_url": "https://api.github.com/users/ateymour/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-04T18:26:38Z", "updated_at": "2018-04-04T18:26:38Z", "author_association": "NONE", "body_html": "<p>I guess it's worth mentioning that Im getting a cudnn error even though Im running with --cpu mode. Is that normal (see results below)?</p>\n<p>As for taskset I gave it a go. If its ' cpu-migrations' youre looking at when running perft stat in seems like affinity is working correctly.</p>\n<p>Lastly to answer your question, yes my CPU has 16 physical cores.</p>\n<pre><code># perf stat taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\n\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\nAlexNet: running forward-backward.\nI0404 11:11:07.561738 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.561882 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.561923 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562003 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562086 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562119 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562201 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562281 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562312 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562398 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562430 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562513 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562544 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562646 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562701 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562753 29828 operator.cc:181] Engine CUDNN is not available for operator Softmax.\nI0404 11:11:07.562861 29828 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\nI0404 11:11:07.562928 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.562986 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563050 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563138 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563172 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563266 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563299 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563387 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563421 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563513 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563591 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563623 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563714 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563796 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563830 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.564230 29828 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5698e-05 secs\nI0404 11:11:07.564324 29828 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\nStarting benchmark.\nRunning warmup runs.\nMain runs.\nMain run finished. Milliseconds per iter: 4204.41. Iters per second: 0.237845\n\n Performance counter stats for 'taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\n\n      48041.142217      task-clock (msec)         #    0.998 CPUs utilized          \n            99,146      context-switches          #    0.002 M/sec                  \n                 0      cpu-migrations            #    0.000 K/sec                  \n            36,716      page-faults               #    0.764 K/sec                  \n   115,221,032,977      cycles                    #    2.398 GHz                    \n   &lt;not supported&gt;      stalled-cycles-frontend  \n   &lt;not supported&gt;      stalled-cycles-backend   \n   225,212,586,632      instructions              #    1.95  insns per cycle        \n     5,673,951,159      branches                  #  118.106 M/sec                  \n        57,108,496      branch-misses             #    1.01% of all branches        \n\n      48.134890137 seconds time elapsed\n</code></pre>\n<pre><code># perf stat taskset -c 0-16 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\n\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\nAlexNet: running forward-backward.\nI0404 11:11:58.606328 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606477 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606514 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.606595 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606681 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606714 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.606798 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606881 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606914 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606999 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607031 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.607115 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607147 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.607255 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607311 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607364 29870 operator.cc:181] Engine CUDNN is not available for operator Softmax.\nI0404 11:11:58.607472 29870 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\nI0404 11:11:58.607540 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607599 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607664 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.607753 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607787 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.607934 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607970 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608059 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608093 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608187 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.608265 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608304 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608388 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.608472 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608507 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608892 29870 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5579e-05 secs\nI0404 11:11:58.608986 29870 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\nStarting benchmark.\nRunning warmup runs.\nMain runs.\nMain run finished. Milliseconds per iter: 4091.24. Iters per second: 0.244424\n\n Performance counter stats for 'taskset -c 0-8 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\n\n      48365.567719      task-clock (msec)         #    1.034 CPUs utilized          \n           209,627      context-switches          #    0.004 M/sec                  \n                58      cpu-migrations            #    0.001 K/sec                  \n            38,177      page-faults               #    0.789 K/sec                  \n   115,973,629,353      cycles                    #    2.398 GHz                    \n   &lt;not supported&gt;      stalled-cycles-frontend  \n   &lt;not supported&gt;      stalled-cycles-backend   \n   225,427,476,233      instructions              #    1.94  insns per cycle        \n     5,716,632,833      branches                  #  118.196 M/sec                  \n        57,251,126      branch-misses             #    1.00% of all branches        \n\n      46.775994233 seconds time elapsed\n</code></pre>", "body_text": "I guess it's worth mentioning that Im getting a cudnn error even though Im running with --cpu mode. Is that normal (see results below)?\nAs for taskset I gave it a go. If its ' cpu-migrations' youre looking at when running perft stat in seems like affinity is working correctly.\nLastly to answer your question, yes my CPU has 16 physical cores.\n# perf stat taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\n\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\nAlexNet: running forward-backward.\nI0404 11:11:07.561738 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.561882 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.561923 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562003 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562086 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562119 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562201 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562281 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562312 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562398 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562430 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:07.562513 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562544 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:07.562646 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562701 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:07.562753 29828 operator.cc:181] Engine CUDNN is not available for operator Softmax.\nI0404 11:11:07.562861 29828 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\nI0404 11:11:07.562928 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.562986 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563050 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563138 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563172 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563266 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563299 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563387 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563421 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563513 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563591 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563623 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.563714 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:07.563796 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:07.563830 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:07.564230 29828 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5698e-05 secs\nI0404 11:11:07.564324 29828 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\nStarting benchmark.\nRunning warmup runs.\nMain runs.\nMain run finished. Milliseconds per iter: 4204.41. Iters per second: 0.237845\n\n Performance counter stats for 'taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\n\n      48041.142217      task-clock (msec)         #    0.998 CPUs utilized          \n            99,146      context-switches          #    0.002 M/sec                  \n                 0      cpu-migrations            #    0.000 K/sec                  \n            36,716      page-faults               #    0.764 K/sec                  \n   115,221,032,977      cycles                    #    2.398 GHz                    \n   <not supported>      stalled-cycles-frontend  \n   <not supported>      stalled-cycles-backend   \n   225,212,586,632      instructions              #    1.95  insns per cycle        \n     5,673,951,159      branches                  #  118.106 M/sec                  \n        57,108,496      branch-misses             #    1.01% of all branches        \n\n      48.134890137 seconds time elapsed\n\n# perf stat taskset -c 0-16 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\n\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\nAlexNet: running forward-backward.\nI0404 11:11:58.606328 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606477 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606514 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.606595 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606681 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606714 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.606798 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606881 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.606914 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.606999 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607031 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\nI0404 11:11:58.607115 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607147 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\nI0404 11:11:58.607255 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607311 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\nI0404 11:11:58.607364 29870 operator.cc:181] Engine CUDNN is not available for operator Softmax.\nI0404 11:11:58.607472 29870 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\nI0404 11:11:58.607540 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607599 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607664 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.607753 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607787 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.607934 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.607970 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608059 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608093 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608187 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.608265 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608304 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608388 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\nI0404 11:11:58.608472 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\nI0404 11:11:58.608507 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\nI0404 11:11:58.608892 29870 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5579e-05 secs\nI0404 11:11:58.608986 29870 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\nStarting benchmark.\nRunning warmup runs.\nMain runs.\nMain run finished. Milliseconds per iter: 4091.24. Iters per second: 0.244424\n\n Performance counter stats for 'taskset -c 0-8 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\n\n      48365.567719      task-clock (msec)         #    1.034 CPUs utilized          \n           209,627      context-switches          #    0.004 M/sec                  \n                58      cpu-migrations            #    0.001 K/sec                  \n            38,177      page-faults               #    0.789 K/sec                  \n   115,973,629,353      cycles                    #    2.398 GHz                    \n   <not supported>      stalled-cycles-frontend  \n   <not supported>      stalled-cycles-backend   \n   225,427,476,233      instructions              #    1.94  insns per cycle        \n     5,716,632,833      branches                  #  118.196 M/sec                  \n        57,251,126      branch-misses             #    1.00% of all branches        \n\n      46.775994233 seconds time elapsed", "body": "I guess it's worth mentioning that Im getting a cudnn error even though Im running with --cpu mode. Is that normal (see results below)?\r\n\r\nAs for taskset I gave it a go. If its ' cpu-migrations' youre looking at when running perft stat in seems like affinity is working correctly.\r\n\r\nLastly to answer your question, yes my CPU has 16 physical cores. \r\n\r\n```\r\n# perf stat taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\r\n\r\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\r\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\r\nAlexNet: running forward-backward.\r\nI0404 11:11:07.561738 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:07.561882 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.561923 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:07.562003 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:07.562086 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562119 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:07.562201 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:07.562281 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562312 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:07.562398 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562430 29828 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:07.562513 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562544 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:07.562646 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562701 29828 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:07.562753 29828 operator.cc:181] Engine CUDNN is not available for operator Softmax.\r\nI0404 11:11:07.562861 29828 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\r\nI0404 11:11:07.562928 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.562986 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563050 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:07.563138 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563172 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:07.563266 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563299 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:07.563387 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563421 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:07.563513 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:07.563591 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563623 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:07.563714 29828 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:07.563796 29828 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:07.563830 29828 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:07.564230 29828 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5698e-05 secs\r\nI0404 11:11:07.564324 29828 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\r\nStarting benchmark.\r\nRunning warmup runs.\r\nMain runs.\r\nMain run finished. Milliseconds per iter: 4204.41. Iters per second: 0.237845\r\n\r\n Performance counter stats for 'taskset -c 0 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\r\n\r\n      48041.142217      task-clock (msec)         #    0.998 CPUs utilized          \r\n            99,146      context-switches          #    0.002 M/sec                  \r\n                 0      cpu-migrations            #    0.000 K/sec                  \r\n            36,716      page-faults               #    0.764 K/sec                  \r\n   115,221,032,977      cycles                    #    2.398 GHz                    \r\n   <not supported>      stalled-cycles-frontend  \r\n   <not supported>      stalled-cycles-backend   \r\n   225,212,586,632      instructions              #    1.95  insns per cycle        \r\n     5,673,951,159      branches                  #  118.106 M/sec                  \r\n        57,108,496      branch-misses             #    1.01% of all branches        \r\n\r\n      48.134890137 seconds time elapsed\r\n```\r\n\r\n```\r\n# perf stat taskset -c 0-16 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu\r\n\r\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\r\nWARNING:root:Debug message: No module named caffe2_pybind11_state_gpu\r\nAlexNet: running forward-backward.\r\nI0404 11:11:58.606328 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:58.606477 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.606514 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:58.606595 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:58.606681 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.606714 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:58.606798 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:58.606881 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.606914 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:58.606999 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.607031 29870 operator.cc:181] Engine CUDNN is not available for operator Conv.\r\nI0404 11:11:58.607115 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.607147 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPool.\r\nI0404 11:11:58.607255 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.607311 29870 operator.cc:181] Engine CUDNN is not available for operator Relu.\r\nI0404 11:11:58.607364 29870 operator.cc:181] Engine CUDNN is not available for operator Softmax.\r\nI0404 11:11:58.607472 29870 operator.cc:181] Engine CUDNN is not available for operator SoftmaxGradient.\r\nI0404 11:11:58.607540 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.607599 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.607664 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:58.607753 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.607787 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:58.607934 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.607970 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:58.608059 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.608093 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:58.608187 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:58.608265 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.608304 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:58.608388 29870 operator.cc:181] Engine CUDNN is not available for operator MaxPoolGradient.\r\nI0404 11:11:58.608472 29870 operator.cc:181] Engine CUDNN is not available for operator ReluGradient.\r\nI0404 11:11:58.608507 29870 operator.cc:181] Engine CUDNN is not available for operator ConvGradient.\r\nI0404 11:11:58.608892 29870 net_dag_utils.cc:118] Operator graph pruning prior to chain compute took: 5.5579e-05 secs\r\nI0404 11:11:58.608986 29870 net_dag.cc:62] Number of parallel execution chains 34 Number of operators = 61\r\nStarting benchmark.\r\nRunning warmup runs.\r\nMain runs.\r\nMain run finished. Milliseconds per iter: 4091.24. Iters per second: 0.244424\r\n\r\n Performance counter stats for 'taskset -c 0-8 python convnet_benchmarks.py --batch_size 10 --model AlexNet --iterations 10 --warmup_iterations 1 --cpu':\r\n\r\n      48365.567719      task-clock (msec)         #    1.034 CPUs utilized          \r\n           209,627      context-switches          #    0.004 M/sec                  \r\n                58      cpu-migrations            #    0.001 K/sec                  \r\n            38,177      page-faults               #    0.789 K/sec                  \r\n   115,973,629,353      cycles                    #    2.398 GHz                    \r\n   <not supported>      stalled-cycles-frontend  \r\n   <not supported>      stalled-cycles-backend   \r\n   225,427,476,233      instructions              #    1.94  insns per cycle        \r\n     5,716,632,833      branches                  #  118.196 M/sec                  \r\n        57,251,126      branch-misses             #    1.00% of all branches        \r\n\r\n      46.775994233 seconds time elapsed\r\n```\r\n\r\n"}