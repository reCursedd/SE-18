{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/368678321", "html_url": "https://github.com/pytorch/pytorch/pull/5420#issuecomment-368678321", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5420", "id": 368678321, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODY3ODMyMQ==", "user": {"login": "anderspapitto", "id": 1388690, "node_id": "MDQ6VXNlcjEzODg2OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1388690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anderspapitto", "html_url": "https://github.com/anderspapitto", "followers_url": "https://api.github.com/users/anderspapitto/followers", "following_url": "https://api.github.com/users/anderspapitto/following{/other_user}", "gists_url": "https://api.github.com/users/anderspapitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/anderspapitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderspapitto/subscriptions", "organizations_url": "https://api.github.com/users/anderspapitto/orgs", "repos_url": "https://api.github.com/users/anderspapitto/repos", "events_url": "https://api.github.com/users/anderspapitto/events{/privacy}", "received_events_url": "https://api.github.com/users/anderspapitto/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-26T22:45:47Z", "updated_at": "2018-02-26T22:45:47Z", "author_association": "MEMBER", "body_html": "<p>yes, updated to handle padding_value as well.</p>\n<p>I see your point. At the moment it's the only way though, due to how the tracer is implemented, so we would have to find another implementation strategy or discard the tracer.</p>\n<p>Also, in general I feel that \"arguments to forward() must be Variables\" seems to be a decent principle independent of ONNX, and makes the code cleaner/simpler on its own. For example in this diff, notice that now once the transpose() is moved outside of forward(), it's no longer necessary to manually reverse it in backward().</p>", "body_text": "yes, updated to handle padding_value as well.\nI see your point. At the moment it's the only way though, due to how the tracer is implemented, so we would have to find another implementation strategy or discard the tracer.\nAlso, in general I feel that \"arguments to forward() must be Variables\" seems to be a decent principle independent of ONNX, and makes the code cleaner/simpler on its own. For example in this diff, notice that now once the transpose() is moved outside of forward(), it's no longer necessary to manually reverse it in backward().", "body": "yes, updated to handle padding_value as well.\r\n\r\nI see your point. At the moment it's the only way though, due to how the tracer is implemented, so we would have to find another implementation strategy or discard the tracer.\r\n\r\nAlso, in general I feel that \"arguments to forward() must be Variables\" seems to be a decent principle independent of ONNX, and makes the code cleaner/simpler on its own. For example in this diff, notice that now once the transpose() is moved outside of forward(), it's no longer necessary to manually reverse it in backward()."}