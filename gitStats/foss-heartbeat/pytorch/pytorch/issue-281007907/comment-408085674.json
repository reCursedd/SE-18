{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/408085674", "html_url": "https://github.com/pytorch/pytorch/issues/4111#issuecomment-408085674", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4111", "id": 408085674, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODA4NTY3NA==", "user": {"login": "ankitsinghalIITD", "id": 8394274, "node_id": "MDQ6VXNlcjgzOTQyNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/8394274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ankitsinghalIITD", "html_url": "https://github.com/ankitsinghalIITD", "followers_url": "https://api.github.com/users/ankitsinghalIITD/followers", "following_url": "https://api.github.com/users/ankitsinghalIITD/following{/other_user}", "gists_url": "https://api.github.com/users/ankitsinghalIITD/gists{/gist_id}", "starred_url": "https://api.github.com/users/ankitsinghalIITD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ankitsinghalIITD/subscriptions", "organizations_url": "https://api.github.com/users/ankitsinghalIITD/orgs", "repos_url": "https://api.github.com/users/ankitsinghalIITD/repos", "events_url": "https://api.github.com/users/ankitsinghalIITD/events{/privacy}", "received_events_url": "https://api.github.com/users/ankitsinghalIITD/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-26T12:47:46Z", "updated_at": "2018-07-26T12:47:46Z", "author_association": "NONE", "body_html": "<p>Hi ,<br>\nHi, I have installed torch and torchvision from pip. But, now I am getting seg fault when I import torch.<br>\nI have seen various posts on this issue like<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"280757044\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4101\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/4101/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/4101\">#4101</a>.<br>\nBut none of them actually helped.<br>\nI have done a user installation by command<br>\npip install --force-reinstall torch torchvision --no-cache-dir --user<br>\nI have added /usr/lib/nvidia-390 to LD_LIBRARY_PATH.<br>\nThe output of<br>\nldd /home/ankit/.local/lib/python2.7/site-packages/torch/_C.so<br>\nis<br>\nlinux-vdso.so.1 =&gt;  (0x00007ffc59702000)<br>\nlibshm.so =&gt; /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libshm.so (0x00007fb130050000)<br>\nlibcudart-5d6d23a3.so.8.0.61 =&gt; /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libcudart-5d6d23a3.so.8.0.61 (0x00007fb12fde7000)<br>\nlibnvToolsExt-422e3301.so.1 =&gt; /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libnvToolsExt-422e3301.so.1 (0x00007fb12fbdd000)<br>\nlibATen.so =&gt; /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libATen.so (0x00007fb10a079000)<br>\nlibgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fb109e63000)<br>\nlibpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fb109c46000)<br>\nlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fb10987c000)<br>\n/lib64/ld-linux-x86-64.so.2 (0x00007fb1392fb000)<br>\nlibrt.so.1 =&gt; /lib/x86_64-linux-gnu/librt.so.1 (0x00007fb109674000)<br>\nlibstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fb1092f2000)<br>\nlibm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fb108fe9000)<br>\nlibdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fb108de5000)<br>\nlibgomp-c0d7b783.so.1 =&gt; /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libgomp-c0d7b783.so.1 (0x00007fb108bbb000)</p>\n<p>Also,<br>\nI have downloaded cudnn v7 deb. extracted it and used following exports to use cudnn v7<br>\nexport CPATH=libcudnn/usr/include/x86_64-linux-gnu:$CPATH<br>\nexport LD_LIBRARY_PATH=libcudnn/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH</p>\n<p>Also,<br>\nI have put all the required paths in the ldd command to the LD_LIBRARY_PATH in bashrc.<br>\nThis has been put after the above exports:<br>\nexport CUDA_HOME=/usr/local/cuda-8.0<br>\nexport LD_LIBRARY_PATH=$CUDA_HOME/lib64:$CUDA_HOME/extras/CUPTI/lib64:/usr/lib/x86_64-linux-gnu:/lib/x86_64-linux-gnu:/lib64:$LD_LIBRARY_PATH<br>\nexport LD_LIBRARY_PATH=/usr/lib/nvidia-390:$LD_LIBRARY_PATH<br>\nexport PYTHONPATH=/home/ankit/.local/lib/python2.7/site-packages/:$PYTHONPATH</p>\n<p>Also when I do following:<br>\n~$ gdb python<br>\n(gdb) run<br>\nStarting program: /usr/bin/python<br>\n[Thread debugging using libthread_db enabled]<br>\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".<br>\nPython 2.7.12 (default, Dec  4 2017, 14:50:18)<br>\n[GCC 5.4.0 20160609] on linux2<br>\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.</p>\n<blockquote>\n<blockquote>\n<blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>and then importing torch gives</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>import torch<br>\n[New Thread 0x7fffec5cf700 (LWP 4421)]<br>\n[New Thread 0x7fffebdce700 (LWP 4422)]<br>\n[New Thread 0x7fffe95cd700 (LWP 4423)]<br>\n[New Thread 0x7fffe6dcc700 (LWP 4424)]<br>\n[New Thread 0x7fffe25cb700 (LWP 4425)]<br>\n[New Thread 0x7fffdfdca700 (LWP 4426)]<br>\n[New Thread 0x7fffdd5c9700 (LWP 4427)]<br>\n[New Thread 0x7fffdadc8700 (LWP 4428)]<br>\n[New Thread 0x7fffd85c7700 (LWP 4429)]<br>\n[New Thread 0x7fffd5dc6700 (LWP 4430)]<br>\n[New Thread 0x7fffd35c5700 (LWP 4431)]<br>\n[Thread 0x7fffd35c5700 (LWP 4431) exited]<br>\n[Thread 0x7fffd5dc6700 (LWP 4430) exited]<br>\n[Thread 0x7fffd85c7700 (LWP 4429) exited]<br>\n[Thread 0x7fffdadc8700 (LWP 4428) exited]<br>\n[Thread 0x7fffdd5c9700 (LWP 4427) exited]<br>\n[Thread 0x7fffdfdca700 (LWP 4426) exited]<br>\n[Thread 0x7fffe25cb700 (LWP 4425) exited]<br>\n[Thread 0x7fffe6dcc700 (LWP 4424) exited]<br>\n[Thread 0x7fffe95cd700 (LWP 4423) exited]<br>\n[Thread 0x7fffebdce700 (LWP 4422) exited]<br>\n[Thread 0x7fffec5cf700 (LWP 4421) exited]</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Thread 1 \"python\" received signal SIGSEGV, Segmentation fault.<br>\n0x0000000000002260 in ?? ()</p>\n<p>and the output of bt is<br>\n(gdb) bt<br>\n#0  0x0000000000002260 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171281708\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/1/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/1\">#1</a>  0x00007ffff7de76ba in call_init (l=, argc=argc@entry=1, argv=argv@entry=0x7fffffffe318, env=env@entry=0xa58270) at dl-init.c:72<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171402941\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/2/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/2\">#2</a>  0x00007ffff7de77cb in call_init (env=0xa58270, argv=0x7fffffffe318, argc=1, l=) at dl-init.c:30<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171485123\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3\">#3</a>  _dl_init (main_map=main_map@entry=0xe98000, argc=1, argv=0x7fffffffe318, env=0xa58270) at dl-init.c:120<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171522963\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4\">#4</a>  0x00007ffff7dec8e2 in dl_open_worker (a=a@entry=0x7fffffffd220) at dl-open.c:575<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"173498149\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5\">#5</a>  0x00007ffff7de7564 in _dl_catch_error (objname=objname@entry=0x7fffffffd210, errstring=errstring@entry=0x7fffffffd218,<br>\nmallocedp=mallocedp@entry=0x7fffffffd20f, operate=operate@entry=0x7ffff7dec4d0 &lt;dl_open_worker&gt;, args=args@entry=0x7fffffffd220) at dl-error.c:187<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174289461\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/6\">#6</a>  0x00007ffff7debda9 in _dl_open (file=0xa64fc0 \"/home/ankit/.local/lib/python2.7/site-packages/torch/_C.so\", mode=-2147483391,<br>\ncaller_dlopen=0x51ad19 &lt;_PyImport_GetDynLoadFunc+233&gt;, nsid=-2, argc=, argv=, env=0xa58270) at dl-open.c:660<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174818921\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/7/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/7\">#7</a>  0x00007ffff75ecf09 in dlopen_doit (a=a@entry=0x7fffffffd450) at dlopen.c:66<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174871471\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/8/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/8\">#8</a>  0x00007ffff7de7564 in _dl_catch_error (objname=0x9ea5f0, errstring=0x9ea5f8, mallocedp=0x9ea5e8, operate=0x7ffff75eceb0 &lt;dlopen_doit&gt;,<br>\nargs=0x7fffffffd450) at dl-error.c:187<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175537036\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/9/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/9\">#9</a>  0x00007ffff75ed571 in _dlerror_run (operate=operate@entry=0x7ffff75eceb0 &lt;dlopen_doit&gt;, args=args@entry=0x7fffffffd450) at dlerror.c:163<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175552272\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/10/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/10\">#10</a> 0x00007ffff75ecfa1 in __dlopen (file=, mode=) at dlopen.c:87<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559413\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11\">#11</a> 0x000000000051ad19 in _PyImport_GetDynLoadFunc ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559558\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12\">#12</a> 0x000000000051a8e4 in _PyImport_LoadDynamicModule ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175567843\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/13\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/13/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/13\">#13</a> 0x00000000004a4ae1 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175574237\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/14\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/14/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/14\">#14</a> 0x00000000004a4513 in PyImport_ImportModuleLevel ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175627398\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/15\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/15/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/15\">#15</a> 0x00000000004a59e4 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175834985\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/16/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/16\">#16</a> 0x00000000004a577e in PyObject_Call ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175835445\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/17/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/17\">#17</a> 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176034421\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/18/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/18\">#18</a> 0x00000000004be6d7 in PyEval_EvalFrameEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176075690\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/19\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/19/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/19\">#19</a> 0x00000000004b9ab6 in PyEval_EvalCodeEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176137249\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/20\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/20/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/20\">#20</a> 0x00000000004b97a6 in PyEval_EvalCode ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176185026\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/21\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/21/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/21\">#21</a> 0x00000000004b96df in PyImport_ExecCodeModuleEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176215499\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/22\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/22/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/22\">#22</a> 0x00000000004b2b06 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176505650\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/23\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/23/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/23\">#23</a> 0x00000000004b402c in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176797914\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/24\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/24/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/24\">#24</a> 0x00000000004a4ae1 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177047931\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/25\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/25/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/25\">#25</a> 0x00000000004a3e84 in PyImport_ImportModuleLevel ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177048050\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/26\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/26/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/26\">#26</a> 0x00000000004a59e4 in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177048383\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/27\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/27/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/27\">#27</a> 0x00000000004a577e in PyObject_Call ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177048587\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/28\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/28/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/28\">#28</a> 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177056361\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/29\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/29/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/29\">#29</a> 0x00000000004be6d7 in PyEval_EvalFrameEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177056667\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/30\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/30/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/30\">#30</a> 0x00000000004b9ab6 in PyEval_EvalCodeEx ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177075310\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/31\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/31/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/31\">#31</a> 0x00000000004eb30f in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177237199\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/32\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/32/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/32\">#32</a> 0x000000000044a7a2 in PyRun_InteractiveOneFlags ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177275041\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/33\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/33/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/33\">#33</a> 0x000000000044a56d in PyRun_InteractiveLoopFlags ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177291339\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/34\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/34/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/34\">#34</a> 0x000000000043092e in ?? ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177307709\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/35\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/35/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/35\">#35</a> 0x0000000000493ae2 in Py_Main ()<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177310170\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/36\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/36/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/36\">#36</a> 0x00007ffff7810830 in __libc_start_main (main=0x4934c0 </p>, argc=1, argv=0x7fffffffe318, init=, fini=,<br>\nrtld_fini=, stack_end=0x7fffffffe308) at ../csu/libc-start.c:291<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177524405\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/37\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/37/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/37\">#37</a> 0x00000000004933e9 in _start ()<br>\n(gdb)<p></p>", "body_text": "Hi ,\nHi, I have installed torch and torchvision from pip. But, now I am getting seg fault when I import torch.\nI have seen various posts on this issue like\n#4101.\nBut none of them actually helped.\nI have done a user installation by command\npip install --force-reinstall torch torchvision --no-cache-dir --user\nI have added /usr/lib/nvidia-390 to LD_LIBRARY_PATH.\nThe output of\nldd /home/ankit/.local/lib/python2.7/site-packages/torch/_C.so\nis\nlinux-vdso.so.1 =>  (0x00007ffc59702000)\nlibshm.so => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libshm.so (0x00007fb130050000)\nlibcudart-5d6d23a3.so.8.0.61 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libcudart-5d6d23a3.so.8.0.61 (0x00007fb12fde7000)\nlibnvToolsExt-422e3301.so.1 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libnvToolsExt-422e3301.so.1 (0x00007fb12fbdd000)\nlibATen.so => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libATen.so (0x00007fb10a079000)\nlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fb109e63000)\nlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fb109c46000)\nlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fb10987c000)\n/lib64/ld-linux-x86-64.so.2 (0x00007fb1392fb000)\nlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fb109674000)\nlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fb1092f2000)\nlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fb108fe9000)\nlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fb108de5000)\nlibgomp-c0d7b783.so.1 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libgomp-c0d7b783.so.1 (0x00007fb108bbb000)\nAlso,\nI have downloaded cudnn v7 deb. extracted it and used following exports to use cudnn v7\nexport CPATH=libcudnn/usr/include/x86_64-linux-gnu:$CPATH\nexport LD_LIBRARY_PATH=libcudnn/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH\nAlso,\nI have put all the required paths in the ldd command to the LD_LIBRARY_PATH in bashrc.\nThis has been put after the above exports:\nexport CUDA_HOME=/usr/local/cuda-8.0\nexport LD_LIBRARY_PATH=$CUDA_HOME/lib64:$CUDA_HOME/extras/CUPTI/lib64:/usr/lib/x86_64-linux-gnu:/lib/x86_64-linux-gnu:/lib64:$LD_LIBRARY_PATH\nexport LD_LIBRARY_PATH=/usr/lib/nvidia-390:$LD_LIBRARY_PATH\nexport PYTHONPATH=/home/ankit/.local/lib/python2.7/site-packages/:$PYTHONPATH\nAlso when I do following:\n~$ gdb python\n(gdb) run\nStarting program: /usr/bin/python\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nPython 2.7.12 (default, Dec  4 2017, 14:50:18)\n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\n\n\n\nand then importing torch gives\n\n\n\nimport torch\n[New Thread 0x7fffec5cf700 (LWP 4421)]\n[New Thread 0x7fffebdce700 (LWP 4422)]\n[New Thread 0x7fffe95cd700 (LWP 4423)]\n[New Thread 0x7fffe6dcc700 (LWP 4424)]\n[New Thread 0x7fffe25cb700 (LWP 4425)]\n[New Thread 0x7fffdfdca700 (LWP 4426)]\n[New Thread 0x7fffdd5c9700 (LWP 4427)]\n[New Thread 0x7fffdadc8700 (LWP 4428)]\n[New Thread 0x7fffd85c7700 (LWP 4429)]\n[New Thread 0x7fffd5dc6700 (LWP 4430)]\n[New Thread 0x7fffd35c5700 (LWP 4431)]\n[Thread 0x7fffd35c5700 (LWP 4431) exited]\n[Thread 0x7fffd5dc6700 (LWP 4430) exited]\n[Thread 0x7fffd85c7700 (LWP 4429) exited]\n[Thread 0x7fffdadc8700 (LWP 4428) exited]\n[Thread 0x7fffdd5c9700 (LWP 4427) exited]\n[Thread 0x7fffdfdca700 (LWP 4426) exited]\n[Thread 0x7fffe25cb700 (LWP 4425) exited]\n[Thread 0x7fffe6dcc700 (LWP 4424) exited]\n[Thread 0x7fffe95cd700 (LWP 4423) exited]\n[Thread 0x7fffebdce700 (LWP 4422) exited]\n[Thread 0x7fffec5cf700 (LWP 4421) exited]\n\n\n\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\n0x0000000000002260 in ?? ()\nand the output of bt is\n(gdb) bt\n#0  0x0000000000002260 in ?? ()\n#1  0x00007ffff7de76ba in call_init (l=, argc=argc@entry=1, argv=argv@entry=0x7fffffffe318, env=env@entry=0xa58270) at dl-init.c:72\n#2  0x00007ffff7de77cb in call_init (env=0xa58270, argv=0x7fffffffe318, argc=1, l=) at dl-init.c:30\n#3  _dl_init (main_map=main_map@entry=0xe98000, argc=1, argv=0x7fffffffe318, env=0xa58270) at dl-init.c:120\n#4  0x00007ffff7dec8e2 in dl_open_worker (a=a@entry=0x7fffffffd220) at dl-open.c:575\n#5  0x00007ffff7de7564 in _dl_catch_error (objname=objname@entry=0x7fffffffd210, errstring=errstring@entry=0x7fffffffd218,\nmallocedp=mallocedp@entry=0x7fffffffd20f, operate=operate@entry=0x7ffff7dec4d0 <dl_open_worker>, args=args@entry=0x7fffffffd220) at dl-error.c:187\n#6  0x00007ffff7debda9 in _dl_open (file=0xa64fc0 \"/home/ankit/.local/lib/python2.7/site-packages/torch/_C.so\", mode=-2147483391,\ncaller_dlopen=0x51ad19 <_PyImport_GetDynLoadFunc+233>, nsid=-2, argc=, argv=, env=0xa58270) at dl-open.c:660\n#7  0x00007ffff75ecf09 in dlopen_doit (a=a@entry=0x7fffffffd450) at dlopen.c:66\n#8  0x00007ffff7de7564 in _dl_catch_error (objname=0x9ea5f0, errstring=0x9ea5f8, mallocedp=0x9ea5e8, operate=0x7ffff75eceb0 <dlopen_doit>,\nargs=0x7fffffffd450) at dl-error.c:187\n#9  0x00007ffff75ed571 in _dlerror_run (operate=operate@entry=0x7ffff75eceb0 <dlopen_doit>, args=args@entry=0x7fffffffd450) at dlerror.c:163\n#10 0x00007ffff75ecfa1 in __dlopen (file=, mode=) at dlopen.c:87\n#11 0x000000000051ad19 in _PyImport_GetDynLoadFunc ()\n#12 0x000000000051a8e4 in _PyImport_LoadDynamicModule ()\n#13 0x00000000004a4ae1 in ?? ()\n#14 0x00000000004a4513 in PyImport_ImportModuleLevel ()\n#15 0x00000000004a59e4 in ?? ()\n#16 0x00000000004a577e in PyObject_Call ()\n#17 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()\n#18 0x00000000004be6d7 in PyEval_EvalFrameEx ()\n#19 0x00000000004b9ab6 in PyEval_EvalCodeEx ()\n#20 0x00000000004b97a6 in PyEval_EvalCode ()\n#21 0x00000000004b96df in PyImport_ExecCodeModuleEx ()\n#22 0x00000000004b2b06 in ?? ()\n#23 0x00000000004b402c in ?? ()\n#24 0x00000000004a4ae1 in ?? ()\n#25 0x00000000004a3e84 in PyImport_ImportModuleLevel ()\n#26 0x00000000004a59e4 in ?? ()\n#27 0x00000000004a577e in PyObject_Call ()\n#28 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()\n#29 0x00000000004be6d7 in PyEval_EvalFrameEx ()\n#30 0x00000000004b9ab6 in PyEval_EvalCodeEx ()\n#31 0x00000000004eb30f in ?? ()\n#32 0x000000000044a7a2 in PyRun_InteractiveOneFlags ()\n#33 0x000000000044a56d in PyRun_InteractiveLoopFlags ()\n#34 0x000000000043092e in ?? ()\n#35 0x0000000000493ae2 in Py_Main ()\n#36 0x00007ffff7810830 in __libc_start_main (main=0x4934c0 , argc=1, argv=0x7fffffffe318, init=, fini=,\nrtld_fini=, stack_end=0x7fffffffe308) at ../csu/libc-start.c:291\n#37 0x00000000004933e9 in _start ()\n(gdb)", "body": "Hi ,\r\nHi, I have installed torch and torchvision from pip. But, now I am getting seg fault when I import torch.\r\nI have seen various posts on this issue like \r\nhttps://github.com/pytorch/pytorch/issues/4101.\r\nBut none of them actually helped.\r\nI have done a user installation by command \r\npip install --force-reinstall torch torchvision --no-cache-dir --user\r\nI have added /usr/lib/nvidia-390 to LD_LIBRARY_PATH.\r\nThe output of \r\nldd /home/ankit/.local/lib/python2.7/site-packages/torch/_C.so \r\nis\r\n\tlinux-vdso.so.1 =>  (0x00007ffc59702000)\r\n\tlibshm.so => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libshm.so (0x00007fb130050000)\r\n\tlibcudart-5d6d23a3.so.8.0.61 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libcudart-5d6d23a3.so.8.0.61 (0x00007fb12fde7000)\r\n\tlibnvToolsExt-422e3301.so.1 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libnvToolsExt-422e3301.so.1 (0x00007fb12fbdd000)\r\n\tlibATen.so => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libATen.so (0x00007fb10a079000)\r\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fb109e63000)\r\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fb109c46000)\r\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fb10987c000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fb1392fb000)\r\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fb109674000)\r\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fb1092f2000)\r\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fb108fe9000)\r\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fb108de5000)\r\n\tlibgomp-c0d7b783.so.1 => /home/ankit/.local/lib/python2.7/site-packages/torch/lib/libgomp-c0d7b783.so.1 (0x00007fb108bbb000)\r\n\r\nAlso,\r\nI have downloaded cudnn v7 deb. extracted it and used following exports to use cudnn v7\r\nexport CPATH=libcudnn/usr/include/x86_64-linux-gnu:$CPATH\r\nexport LD_LIBRARY_PATH=libcudnn/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH \r\n\r\nAlso,\r\nI have put all the required paths in the ldd command to the LD_LIBRARY_PATH in bashrc.\r\nThis has been put after the above exports:\r\nexport CUDA_HOME=/usr/local/cuda-8.0\r\nexport LD_LIBRARY_PATH=$CUDA_HOME/lib64:$CUDA_HOME/extras/CUPTI/lib64:/usr/lib/x86_64-linux-gnu:/lib/x86_64-linux-gnu:/lib64:$LD_LIBRARY_PATH\r\nexport LD_LIBRARY_PATH=/usr/lib/nvidia-390:$LD_LIBRARY_PATH\r\nexport PYTHONPATH=/home/ankit/.local/lib/python2.7/site-packages/:$PYTHONPATH\r\n\r\nAlso when I do following:\r\n~$ gdb python\r\n(gdb) run\r\nStarting program: /usr/bin/python \r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \r\n[GCC 5.4.0 20160609] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>\r\n\r\nand then importing torch gives\r\n\r\n>>> import torch\r\n[New Thread 0x7fffec5cf700 (LWP 4421)]\r\n[New Thread 0x7fffebdce700 (LWP 4422)]\r\n[New Thread 0x7fffe95cd700 (LWP 4423)]\r\n[New Thread 0x7fffe6dcc700 (LWP 4424)]\r\n[New Thread 0x7fffe25cb700 (LWP 4425)]\r\n[New Thread 0x7fffdfdca700 (LWP 4426)]\r\n[New Thread 0x7fffdd5c9700 (LWP 4427)]\r\n[New Thread 0x7fffdadc8700 (LWP 4428)]\r\n[New Thread 0x7fffd85c7700 (LWP 4429)]\r\n[New Thread 0x7fffd5dc6700 (LWP 4430)]\r\n[New Thread 0x7fffd35c5700 (LWP 4431)]\r\n[Thread 0x7fffd35c5700 (LWP 4431) exited]\r\n[Thread 0x7fffd5dc6700 (LWP 4430) exited]\r\n[Thread 0x7fffd85c7700 (LWP 4429) exited]\r\n[Thread 0x7fffdadc8700 (LWP 4428) exited]\r\n[Thread 0x7fffdd5c9700 (LWP 4427) exited]\r\n[Thread 0x7fffdfdca700 (LWP 4426) exited]\r\n[Thread 0x7fffe25cb700 (LWP 4425) exited]\r\n[Thread 0x7fffe6dcc700 (LWP 4424) exited]\r\n[Thread 0x7fffe95cd700 (LWP 4423) exited]\r\n[Thread 0x7fffebdce700 (LWP 4422) exited]\r\n[Thread 0x7fffec5cf700 (LWP 4421) exited]\r\n\r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\n0x0000000000002260 in ?? ()\r\n\r\nand the output of bt is \r\n(gdb) bt\r\n#0  0x0000000000002260 in ?? ()\r\n#1  0x00007ffff7de76ba in call_init (l=<optimized out>, argc=argc@entry=1, argv=argv@entry=0x7fffffffe318, env=env@entry=0xa58270) at dl-init.c:72\r\n#2  0x00007ffff7de77cb in call_init (env=0xa58270, argv=0x7fffffffe318, argc=1, l=<optimized out>) at dl-init.c:30\r\n#3  _dl_init (main_map=main_map@entry=0xe98000, argc=1, argv=0x7fffffffe318, env=0xa58270) at dl-init.c:120\r\n#4  0x00007ffff7dec8e2 in dl_open_worker (a=a@entry=0x7fffffffd220) at dl-open.c:575\r\n#5  0x00007ffff7de7564 in _dl_catch_error (objname=objname@entry=0x7fffffffd210, errstring=errstring@entry=0x7fffffffd218, \r\n    mallocedp=mallocedp@entry=0x7fffffffd20f, operate=operate@entry=0x7ffff7dec4d0 <dl_open_worker>, args=args@entry=0x7fffffffd220) at dl-error.c:187\r\n#6  0x00007ffff7debda9 in _dl_open (file=0xa64fc0 \"/home/ankit/.local/lib/python2.7/site-packages/torch/_C.so\", mode=-2147483391, \r\n    caller_dlopen=0x51ad19 <_PyImport_GetDynLoadFunc+233>, nsid=-2, argc=<optimized out>, argv=<optimized out>, env=0xa58270) at dl-open.c:660\r\n#7  0x00007ffff75ecf09 in dlopen_doit (a=a@entry=0x7fffffffd450) at dlopen.c:66\r\n#8  0x00007ffff7de7564 in _dl_catch_error (objname=0x9ea5f0, errstring=0x9ea5f8, mallocedp=0x9ea5e8, operate=0x7ffff75eceb0 <dlopen_doit>, \r\n    args=0x7fffffffd450) at dl-error.c:187\r\n#9  0x00007ffff75ed571 in _dlerror_run (operate=operate@entry=0x7ffff75eceb0 <dlopen_doit>, args=args@entry=0x7fffffffd450) at dlerror.c:163\r\n#10 0x00007ffff75ecfa1 in __dlopen (file=<optimized out>, mode=<optimized out>) at dlopen.c:87\r\n#11 0x000000000051ad19 in _PyImport_GetDynLoadFunc ()\r\n#12 0x000000000051a8e4 in _PyImport_LoadDynamicModule ()\r\n#13 0x00000000004a4ae1 in ?? ()\r\n#14 0x00000000004a4513 in PyImport_ImportModuleLevel ()\r\n#15 0x00000000004a59e4 in ?? ()\r\n#16 0x00000000004a577e in PyObject_Call ()\r\n#17 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()\r\n#18 0x00000000004be6d7 in PyEval_EvalFrameEx ()\r\n#19 0x00000000004b9ab6 in PyEval_EvalCodeEx ()\r\n#20 0x00000000004b97a6 in PyEval_EvalCode ()\r\n#21 0x00000000004b96df in PyImport_ExecCodeModuleEx ()\r\n#22 0x00000000004b2b06 in ?? ()\r\n#23 0x00000000004b402c in ?? ()\r\n#24 0x00000000004a4ae1 in ?? ()\r\n#25 0x00000000004a3e84 in PyImport_ImportModuleLevel ()\r\n#26 0x00000000004a59e4 in ?? ()\r\n#27 0x00000000004a577e in PyObject_Call ()\r\n#28 0x00000000004c5e10 in PyEval_CallObjectWithKeywords ()\r\n#29 0x00000000004be6d7 in PyEval_EvalFrameEx ()\r\n#30 0x00000000004b9ab6 in PyEval_EvalCodeEx ()\r\n#31 0x00000000004eb30f in ?? ()\r\n#32 0x000000000044a7a2 in PyRun_InteractiveOneFlags ()\r\n#33 0x000000000044a56d in PyRun_InteractiveLoopFlags ()\r\n#34 0x000000000043092e in ?? ()\r\n#35 0x0000000000493ae2 in Py_Main ()\r\n#36 0x00007ffff7810830 in __libc_start_main (main=0x4934c0 <main>, argc=1, argv=0x7fffffffe318, init=<optimized out>, fini=<optimized out>, \r\n    rtld_fini=<optimized out>, stack_end=0x7fffffffe308) at ../csu/libc-start.c:291\r\n#37 0x00000000004933e9 in _start ()\r\n(gdb) \r\n\r\n\r\n\r\n"}