{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/287587372", "html_url": "https://github.com/pytorch/pytorch/issues/1011#issuecomment-287587372", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1011", "id": 287587372, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzU4NzM3Mg==", "user": {"login": "Smerity", "id": 32325, "node_id": "MDQ6VXNlcjMyMzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/32325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smerity", "html_url": "https://github.com/Smerity", "followers_url": "https://api.github.com/users/Smerity/followers", "following_url": "https://api.github.com/users/Smerity/following{/other_user}", "gists_url": "https://api.github.com/users/Smerity/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smerity/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smerity/subscriptions", "organizations_url": "https://api.github.com/users/Smerity/orgs", "repos_url": "https://api.github.com/users/Smerity/repos", "events_url": "https://api.github.com/users/Smerity/events{/privacy}", "received_events_url": "https://api.github.com/users/Smerity/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-19T01:28:00Z", "updated_at": "2017-03-19T01:29:13Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Gosh, thank you <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> for the much needed clarification on my end!</p>\n<p>I may provide a pull request for the documentation to help others avoid my mistake.</p>\n<blockquote>\n<p>Copies elements from source into this tensor at positions where the mask is one. The mask should have the same number of elements as this tensor. The source should have at least as many elements as the number of ones in mask.</p>\n</blockquote>\n<p>The first sentence can be misread as \"copy elements from a given position i in B to A (i.e. A[i] = B[i])\" and I assumed the last sentence meant \"at least as many elements as the (maximum index of a one) in mask\".</p>\n<p>Both are me misreading the documentation but I will try to ensure others don't make my mistake. I will separately implement a function equivalent to my mental image of <code>masked_copy</code> and use that for zoneout instead :)</p>\n<p>(I will note that <code>MaskedCopy</code> may still be problematic for anyone wanting to use the gradient given the gradient's dimensionality won't match the input argument's dimensionality, but that's quite a separate problem to the one I reported.)</p>", "body_text": "Gosh, thank you @apaszke for the much needed clarification on my end!\nI may provide a pull request for the documentation to help others avoid my mistake.\n\nCopies elements from source into this tensor at positions where the mask is one. The mask should have the same number of elements as this tensor. The source should have at least as many elements as the number of ones in mask.\n\nThe first sentence can be misread as \"copy elements from a given position i in B to A (i.e. A[i] = B[i])\" and I assumed the last sentence meant \"at least as many elements as the (maximum index of a one) in mask\".\nBoth are me misreading the documentation but I will try to ensure others don't make my mistake. I will separately implement a function equivalent to my mental image of masked_copy and use that for zoneout instead :)\n(I will note that MaskedCopy may still be problematic for anyone wanting to use the gradient given the gradient's dimensionality won't match the input argument's dimensionality, but that's quite a separate problem to the one I reported.)", "body": "Gosh, thank you @apaszke for the much needed clarification on my end!\r\n\r\nI may provide a pull request for the documentation to help others avoid my mistake.\r\n\r\n> Copies elements from source into this tensor at positions where the mask is one. The mask should have the same number of elements as this tensor. The source should have at least as many elements as the number of ones in mask.\r\n\r\nThe first sentence can be misread as \"copy elements from a given position i in B to A (i.e. A[i] = B[i])\" and I assumed the last sentence meant \"at least as many elements as the (maximum index of a one) in mask\".\r\n\r\nBoth are me misreading the documentation but I will try to ensure others don't make my mistake. I will separately implement a function equivalent to my mental image of `masked_copy` and use that for zoneout instead :)\r\n\r\n(I will note that `MaskedCopy` may still be problematic for anyone wanting to use the gradient given the gradient's dimensionality won't match the input argument's dimensionality, but that's quite a separate problem to the one I reported.)"}