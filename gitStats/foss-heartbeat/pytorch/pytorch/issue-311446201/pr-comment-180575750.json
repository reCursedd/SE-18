{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/180575750", "pull_request_review_id": 111020734, "id": 180575750, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDU3NTc1MA==", "diff_hunk": "@@ -309,8 +310,68 @@ def forward(input, *fargs, **fkwargs):\n         import torch\n         if torch._C._jit_is_tracing(input):\n             import torch.onnx.symbolic\n+            sym = torch.onnx.symbolic.RNN_symbolic_builder(*args, **kwargs)\n+            cell_type = args[0]\n+\n+            def rnn_trace_override_symbolic(g, input, weights, hiddens, batch_sizes):", "path": "torch/nn/_functions/rnn.py", "position": null, "original_position": 15, "commit_id": "75715e2007cd83857ac6146def2ae9afc1d19e95", "original_commit_id": "76b33d7c803752c2f74051d63dcfcce70f47ff71", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "I guess it's ok to have 10 line symbolics in different files, but inlining this into `RNN` is too much. Can this be moved to `torch.onnx` somehow? It basically reimplements the RNN which is not great.", "created_at": "2018-04-10T21:38:28Z", "updated_at": "2018-11-23T15:42:12Z", "html_url": "https://github.com/pytorch/pytorch/pull/6297#discussion_r180575750", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/6297", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/180575750"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/6297#discussion_r180575750"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/6297"}}, "body_html": "<p>I guess it's ok to have 10 line symbolics in different files, but inlining this into <code>RNN</code> is too much. Can this be moved to <code>torch.onnx</code> somehow? It basically reimplements the RNN which is not great.</p>", "body_text": "I guess it's ok to have 10 line symbolics in different files, but inlining this into RNN is too much. Can this be moved to torch.onnx somehow? It basically reimplements the RNN which is not great."}