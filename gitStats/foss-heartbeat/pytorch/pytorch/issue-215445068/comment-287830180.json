{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/287830180", "html_url": "https://github.com/pytorch/pytorch/issues/1048#issuecomment-287830180", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1048", "id": 287830180, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzgzMDE4MA==", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-20T17:13:07Z", "updated_at": "2017-03-20T17:13:07Z", "author_association": "MEMBER", "body_html": "<p>Might be easier to just wrap <code>im2col</code> and <code>col2im</code>.<br>\nI believe <code>unfold</code> was originally written to have efficient <code>im2col</code> just by playing with strides, but it turned out that the <code>contiguous</code> call needed by <code>gemm</code> made things slower than a dedicated function.<br>\nFurthermore, <code>unfold</code> does not accept padding / dilatation.<br>\nAre there people out there using <code>unfold</code> as is? If not, maybe we should replace it with an equivalent (in the spatial domain) <code>im2col</code>, which has it's backward pass implemented via <code>col2im</code>?</p>", "body_text": "Might be easier to just wrap im2col and col2im.\nI believe unfold was originally written to have efficient im2col just by playing with strides, but it turned out that the contiguous call needed by gemm made things slower than a dedicated function.\nFurthermore, unfold does not accept padding / dilatation.\nAre there people out there using unfold as is? If not, maybe we should replace it with an equivalent (in the spatial domain) im2col, which has it's backward pass implemented via col2im?", "body": "Might be easier to just wrap `im2col` and `col2im`.\r\nI believe `unfold` was originally written to have efficient `im2col` just by playing with strides, but it turned out that the `contiguous` call needed by `gemm` made things slower than a dedicated function.\r\nFurthermore, `unfold` does not accept padding / dilatation.\r\nAre there people out there using `unfold` as is? If not, maybe we should replace it with an equivalent (in the spatial domain) `im2col`, which has it's backward pass implemented via `col2im`?"}