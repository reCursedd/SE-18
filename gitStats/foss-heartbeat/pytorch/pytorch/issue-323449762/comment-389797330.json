{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/389797330", "html_url": "https://github.com/pytorch/pytorch/pull/7606#issuecomment-389797330", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7606", "id": 389797330, "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTc5NzMzMA==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-17T09:03:03Z", "updated_at": "2018-05-17T09:03:03Z", "author_association": "MEMBER", "body_html": "<p>+1 for offloading randperm generation to the CPU and only doing a memcpy for small inputs. The CUDA overhead seems huge in those cases. On the other hand, if this is caused by allocations then moving the compute to the CPU won't help all that much. Can you please post the benchmarking script <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4063635\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yf225\">@yf225</a>?</p>", "body_text": "+1 for offloading randperm generation to the CPU and only doing a memcpy for small inputs. The CUDA overhead seems huge in those cases. On the other hand, if this is caused by allocations then moving the compute to the CPU won't help all that much. Can you please post the benchmarking script @yf225?", "body": "+1 for offloading randperm generation to the CPU and only doing a memcpy for small inputs. The CUDA overhead seems huge in those cases. On the other hand, if this is caused by allocations then moving the compute to the CPU won't help all that much. Can you please post the benchmarking script @yf225?"}