{"url": "https://api.github.com/repos/pytorch/pytorch/issues/719", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/719/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/719/events", "html_url": "https://github.com/pytorch/pytorch/issues/719", "id": 206975041, "node_id": "MDU6SXNzdWUyMDY5NzUwNDE=", "number": 719, "title": "Module.zero_grad fails for Parameters with requires_grad=False", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-02-11T11:39:06Z", "updated_at": "2017-02-14T20:35:19Z", "closed_at": "2017-02-14T20:35:19Z", "author_association": "MEMBER", "body_html": "<p>Reported <a href=\"https://discuss.pytorch.org/t/module-zero-grad-with-requires-grad-false-for-some-parameter/431\" rel=\"nofollow\">on the forums</a>.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n\n<span class=\"pl-k\">from</span> torch <span class=\"pl-k\">import</span> Tensor\n<span class=\"pl-k\">from</span> torch.nn.parameter <span class=\"pl-k\">import</span> Parameter\n<span class=\"pl-k\">from</span> torch.nn <span class=\"pl-k\">import</span> Module\n\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">Blah</span>(<span class=\"pl-e\">Module</span>):\n    <span class=\"pl-k\">def</span> <span class=\"pl-c1\">__init__</span>(<span class=\"pl-smi\"><span class=\"pl-smi\">self</span></span>, <span class=\"pl-smi\">dim</span>):\n        <span class=\"pl-c1\">super</span>(Blah, <span class=\"pl-c1\">self</span>).<span class=\"pl-c1\">__init__</span>()\n        <span class=\"pl-c1\">self</span>.s <span class=\"pl-k\">=</span> Parameter(torch.rand(<span class=\"pl-c1\">1</span>, dim), <span class=\"pl-v\">requires_grad</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">False</span>)\n        <span class=\"pl-c1\">self</span>.t <span class=\"pl-k\">=</span> Parameter(torch.rand(<span class=\"pl-c1\">1</span>, dim))\n\nblah <span class=\"pl-k\">=</span> Blah(<span class=\"pl-c1\">10</span>)\n\nblah.zero_grad()</pre></div>", "body_text": "Reported on the forums.\nimport torch\n\nfrom torch import Tensor\nfrom torch.nn.parameter import Parameter\nfrom torch.nn import Module\n\nclass Blah(Module):\n    def __init__(self, dim):\n        super(Blah, self).__init__()\n        self.s = Parameter(torch.rand(1, dim), requires_grad = False)\n        self.t = Parameter(torch.rand(1, dim))\n\nblah = Blah(10)\n\nblah.zero_grad()", "body": "Reported [on the forums](https://discuss.pytorch.org/t/module-zero-grad-with-requires-grad-false-for-some-parameter/431).\r\n\r\n```python\r\nimport torch\r\n\r\nfrom torch import Tensor\r\nfrom torch.nn.parameter import Parameter\r\nfrom torch.nn import Module\r\n\r\nclass Blah(Module):\r\n    def __init__(self, dim):\r\n        super(Blah, self).__init__()\r\n        self.s = Parameter(torch.rand(1, dim), requires_grad = False)\r\n        self.t = Parameter(torch.rand(1, dim))\r\n\r\nblah = Blah(10)\r\n\r\nblah.zero_grad()\r\n```"}