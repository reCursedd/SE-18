{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9454", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9454/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9454/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9454/events", "html_url": "https://github.com/pytorch/pytorch/pull/9454", "id": 341287550, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAxNDc4MzYy", "number": 9454, "title": "Implementation of Weibull distribution", "user": {"login": "tonyduan", "id": 1163598, "node_id": "MDQ6VXNlcjExNjM1OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1163598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tonyduan", "html_url": "https://github.com/tonyduan", "followers_url": "https://api.github.com/users/tonyduan/followers", "following_url": "https://api.github.com/users/tonyduan/following{/other_user}", "gists_url": "https://api.github.com/users/tonyduan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tonyduan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tonyduan/subscriptions", "organizations_url": "https://api.github.com/users/tonyduan/orgs", "repos_url": "https://api.github.com/users/tonyduan/repos", "events_url": "https://api.github.com/users/tonyduan/events{/privacy}", "received_events_url": "https://api.github.com/users/tonyduan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-07-15T03:00:25Z", "updated_at": "2018-11-23T15:47:34Z", "closed_at": "2018-07-25T03:41:19Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/9454", "html_url": "https://github.com/pytorch/pytorch/pull/9454", "diff_url": "https://github.com/pytorch/pytorch/pull/9454.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/9454.patch"}, "body_html": "<p>This implements the two-parameter Weibull distribution, with scale $\\lambda$ and shape $k$ parameters as described on <a href=\"https://en.wikipedia.org/wiki/Weibull_distribution\" rel=\"nofollow\">Wikipedia</a>.</p>\n<p><strong>Details</strong></p>\n<ul>\n<li>We implement as a transformed exponential distribution, as described <a href=\"https://en.wikipedia.org/wiki/Weibull_distribution#Related_distributions\" rel=\"nofollow\">here</a>.</li>\n<li>The <code>weibull_min</code> variance function in scipy does not yet support a vector of distributions, so our unit test uses a scalar distribution instead of a vector.</li>\n</ul>\n<p>Example of the bug:</p>\n<pre><code>&gt;&gt;&gt; sp.stats.expon(np.array([0.5, 1, 2])).var() # fine\narray([1., 1., 1.])\n&gt;&gt;&gt; sp.stats.weibull_min(c=np.array([0.5, 1, 2])).var() # buggy\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 490, in var\n    return self.dist.var(*self.args, **self.kwds)\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1242, in var\n    res = self.stats(*args, **kwds)\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1038, in stats\n    if np.isinf(mu):\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>", "body_text": "This implements the two-parameter Weibull distribution, with scale $\\lambda$ and shape $k$ parameters as described on Wikipedia.\nDetails\n\nWe implement as a transformed exponential distribution, as described here.\nThe weibull_min variance function in scipy does not yet support a vector of distributions, so our unit test uses a scalar distribution instead of a vector.\n\nExample of the bug:\n>>> sp.stats.expon(np.array([0.5, 1, 2])).var() # fine\narray([1., 1., 1.])\n>>> sp.stats.weibull_min(c=np.array([0.5, 1, 2])).var() # buggy\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 490, in var\n    return self.dist.var(*self.args, **self.kwds)\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1242, in var\n    res = self.stats(*args, **kwds)\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1038, in stats\n    if np.isinf(mu):\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "body": "This implements the two-parameter Weibull distribution, with scale $\\lambda$ and shape $k$ parameters as described on [Wikipedia](https://en.wikipedia.org/wiki/Weibull_distribution).\r\n\r\n**Details** \r\n- We implement as a transformed exponential distribution, as described [here](https://en.wikipedia.org/wiki/Weibull_distribution#Related_distributions).\r\n- The `weibull_min` variance function in scipy does not yet support a vector of distributions, so our unit test uses a scalar distribution instead of a vector.\r\n\r\nExample of the bug:\r\n\r\n```\r\n>>> sp.stats.expon(np.array([0.5, 1, 2])).var() # fine\r\narray([1., 1., 1.])\r\n>>> sp.stats.weibull_min(c=np.array([0.5, 1, 2])).var() # buggy\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 490, in var\r\n    return self.dist.var(*self.args, **self.kwds)\r\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1242, in var\r\n    res = self.stats(*args, **kwds)\r\n  File \"/usr/local/lib/python3.7/site-packages/scipy/stats/_distn_infrastructure.py\", line 1038, in stats\r\n    if np.isinf(mu):\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```"}