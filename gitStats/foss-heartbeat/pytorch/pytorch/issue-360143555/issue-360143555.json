{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11690", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11690/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11690/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11690/events", "html_url": "https://github.com/pytorch/pytorch/issues/11690", "id": 360143555, "node_id": "MDU6SXNzdWUzNjAxNDM1NTU=", "number": 11690, "title": "make install error,python setup.py install error", "user": {"login": "emmra", "id": 38374665, "node_id": "MDQ6VXNlcjM4Mzc0NjY1", "avatar_url": "https://avatars2.githubusercontent.com/u/38374665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmra", "html_url": "https://github.com/emmra", "followers_url": "https://api.github.com/users/emmra/followers", "following_url": "https://api.github.com/users/emmra/following{/other_user}", "gists_url": "https://api.github.com/users/emmra/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmra/subscriptions", "organizations_url": "https://api.github.com/users/emmra/orgs", "repos_url": "https://api.github.com/users/emmra/repos", "events_url": "https://api.github.com/users/emmra/events{/privacy}", "received_events_url": "https://api.github.com/users/emmra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-09-14T03:27:09Z", "updated_at": "2018-09-24T17:44:40Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>when performing \"make install\", error is produced. I use cuda8,cudnn6,gcc5.4.0<br>\nplease tell me the whether GCC version is correct or not,and how to solve this error.<br>\nthe path is blow:<br>\nexport LD_LIBRARY_PATH=/usr/lib:/usr/lib/x86_64-linux-gnu</p>\n<p>[ 97%] Linking CXX executable ../bin/db_throughput<br>\nCMakeFiles/db_throughput.dir/db_throughput.cc.o: In function <code>_GLOBAL__sub_I_db_throughput.cc': db_throughput.cc:(.text.startup+0xde): undefined reference to </code>google::FlagRegisterer::FlagRegisterer&lt;std::__cxx11::basic_string&lt;char, std::char_traits, std::allocator &gt; &gt;(char const*, char const*, char const*, std::__cxx11::basic_string&lt;char, std::char_traits, std::allocator &gt;<em>, std::__cxx11::basic_string&lt;char, std::char_traits, std::allocator &gt;</em>)'<br>\ndb_throughput.cc:(.text.startup+0x1a3): undefined reference to <code>google::FlagRegisterer::FlagRegisterer&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;(char const*, char const*, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;*)' ../lib/libcaffe2.so: undefined reference to </code>leveldb::Status::ToString<a href=\"\">abi:cxx11</a> const'<br>\n../lib/libcaffe2.so: undefined reference to <code>google::SetUsageMessage(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)' ../lib/libcaffe2.so: undefined reference to </code>leveldb::DB::Open(leveldb::Options const&amp;, std::__cxx11::basic_string&lt;char, std::char_traits, std::allocator &gt; const&amp;, leveldb::DB**)'<br>\n/disk1/g201708021059/gg/pytorch/build/lib/libcaffe2_gpu.so: undefined reference to `google::base::CheckOpMessageBuilder::NewString<a href=\"\">abi:cxx11</a>'<br>\ncollect2: error: ld returned 1 exit status<br>\nmake[2]: *** [bin/db_throughput] Error 1<br>\nmake[1]: *** [binaries/CMakeFiles/db_throughput.dir/all] Error 2<br>\nmake: *** [all] Error 2</p>\n<p>when  I according to website with new method and got the error blew:<br>\npython setup.py install</p>\n<p>[ 87%] Linking CXX executable ../bin/integer_divider_test<br>\n/usr/bin/ld: warning: libmklml_intel.so, needed by //disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)<br>\n//disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0: undefined reference to `cblas_gemm_s8u8s32'<br>\ncollect2: error: ld returned 1 exit status<br>\nmake[2]: *** [bin/integer_divider_test] Error 1<br>\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn caffe2 libshm gloo THD c10d'</p>\n<p>If you have a question or would like help and support, please ask at our<br>\n<a href=\"https://discuss.pytorch.org/\" rel=\"nofollow\">forums</a>.</p>\n<p>If you are submitting a feature request, please preface the title with [feature request].<br>\nIf you are submitting a bug report, please fill in the following details.</p>\n<h2>Issue description</h2>\n<p>Provide a short description.</p>\n<h2>Code example</h2>\n<p>Please try to provide a minimal example to repro the bug.<br>\nError messages and stack traces are also helpful.</p>\n<h2>System Info</h2>\n<p>Please copy and paste the output from our<br>\n<a href=\"https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\" rel=\"nofollow\">environment collection script</a><br>\n(or fill out the checklist below manually).</p>\n<p>You can get the script and run it with:</p>\n<pre><code>wget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n</code></pre>\n<ul>\n<li>PyTorch or Caffe2:</li>\n<li>How you installed PyTorch (conda, pip, source):</li>\n<li>Build command you used (if compiling from source):</li>\n<li>OS:</li>\n<li>PyTorch version:</li>\n<li>Python version:</li>\n<li>CUDA/cuDNN version:</li>\n<li>GPU models and configuration:</li>\n<li>GCC version (if compiling from source):</li>\n<li>CMake version:</li>\n<li>Versions of any other relevant libraries:</li>\n</ul>", "body_text": "when performing \"make install\", error is produced. I use cuda8,cudnn6,gcc5.4.0\nplease tell me the whether GCC version is correct or not,and how to solve this error.\nthe path is blow:\nexport LD_LIBRARY_PATH=/usr/lib:/usr/lib/x86_64-linux-gnu\n[ 97%] Linking CXX executable ../bin/db_throughput\nCMakeFiles/db_throughput.dir/db_throughput.cc.o: In function _GLOBAL__sub_I_db_throughput.cc': db_throughput.cc:(.text.startup+0xde): undefined reference to google::FlagRegisterer::FlagRegisterer<std::__cxx11::basic_string<char, std::char_traits, std::allocator > >(char const*, char const*, char const*, std::__cxx11::basic_string<char, std::char_traits, std::allocator >, std::__cxx11::basic_string<char, std::char_traits, std::allocator >)'\ndb_throughput.cc:(.text.startup+0x1a3): undefined reference to google::FlagRegisterer::FlagRegisterer<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(char const*, char const*, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*)' ../lib/libcaffe2.so: undefined reference to leveldb::Status::ToStringabi:cxx11 const'\n../lib/libcaffe2.so: undefined reference to google::SetUsageMessage(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' ../lib/libcaffe2.so: undefined reference to leveldb::DB::Open(leveldb::Options const&, std::__cxx11::basic_string<char, std::char_traits, std::allocator > const&, leveldb::DB**)'\n/disk1/g201708021059/gg/pytorch/build/lib/libcaffe2_gpu.so: undefined reference to `google::base::CheckOpMessageBuilder::NewStringabi:cxx11'\ncollect2: error: ld returned 1 exit status\nmake[2]: *** [bin/db_throughput] Error 1\nmake[1]: *** [binaries/CMakeFiles/db_throughput.dir/all] Error 2\nmake: *** [all] Error 2\nwhen  I according to website with new method and got the error blew:\npython setup.py install\n[ 87%] Linking CXX executable ../bin/integer_divider_test\n/usr/bin/ld: warning: libmklml_intel.so, needed by //disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)\n//disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0: undefined reference to `cblas_gemm_s8u8s32'\ncollect2: error: ld returned 1 exit status\nmake[2]: *** [bin/integer_divider_test] Error 1\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn caffe2 libshm gloo THD c10d'\nIf you have a question or would like help and support, please ask at our\nforums.\nIf you are submitting a feature request, please preface the title with [feature request].\nIf you are submitting a bug report, please fill in the following details.\nIssue description\nProvide a short description.\nCode example\nPlease try to provide a minimal example to repro the bug.\nError messages and stack traces are also helpful.\nSystem Info\nPlease copy and paste the output from our\nenvironment collection script\n(or fill out the checklist below manually).\nYou can get the script and run it with:\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n\n\nPyTorch or Caffe2:\nHow you installed PyTorch (conda, pip, source):\nBuild command you used (if compiling from source):\nOS:\nPyTorch version:\nPython version:\nCUDA/cuDNN version:\nGPU models and configuration:\nGCC version (if compiling from source):\nCMake version:\nVersions of any other relevant libraries:", "body": "when performing \"make install\", error is produced. I use cuda8,cudnn6,gcc5.4.0\r\nplease tell me the whether GCC version is correct or not,and how to solve this error.\r\nthe path is blow:\r\nexport LD_LIBRARY_PATH=/usr/lib:/usr/lib/x86_64-linux-gnu\r\n\r\n[ 97%] Linking CXX executable ../bin/db_throughput\r\nCMakeFiles/db_throughput.dir/db_throughput.cc.o: In function `_GLOBAL__sub_I_db_throughput.cc':\r\ndb_throughput.cc:(.text.startup+0xde): undefined reference to `google::FlagRegisterer::FlagRegisterer<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(char const*, char const*, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*)'\r\ndb_throughput.cc:(.text.startup+0x1a3): undefined reference to `google::FlagRegisterer::FlagRegisterer<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >(char const*, char const*, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*)'\r\n../lib/libcaffe2.so: undefined reference to `leveldb::Status::ToString[abi:cxx11]() const'\r\n../lib/libcaffe2.so: undefined reference to `google::SetUsageMessage(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n../lib/libcaffe2.so: undefined reference to `leveldb::DB::Open(leveldb::Options const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, leveldb::DB**)'\r\n/disk1/g201708021059/gg/pytorch/build/lib/libcaffe2_gpu.so: undefined reference to `google::base::CheckOpMessageBuilder::NewString[abi:cxx11]()'\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [bin/db_throughput] Error 1\r\nmake[1]: *** [binaries/CMakeFiles/db_throughput.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n\r\n\r\nwhen  I according to website with new method and got the error blew:\r\npython setup.py install\r\n\r\n[ 87%] Linking CXX executable ../bin/integer_divider_test\r\n/usr/bin/ld: warning: libmklml_intel.so, needed by //disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0, not found (try using -rpath or -rpath-link)\r\n//disk1/g201708021059/anaconda3/envs/py27-3/lib/libmkldnn.so.0: undefined reference to `cblas_gemm_s8u8s32'\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [bin/integer_divider_test] Error 1\r\nmake[1]: *** [caffe2/CMakeFiles/integer_divider_test.dir/all] Error 2\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn caffe2 libshm gloo THD c10d'\r\n\r\n\r\nIf you have a question or would like help and support, please ask at our\r\n[forums](https://discuss.pytorch.org/).\r\n\r\nIf you are submitting a feature request, please preface the title with [feature request].\r\nIf you are submitting a bug report, please fill in the following details.\r\n\r\n## Issue description\r\n\r\nProvide a short description.\r\n\r\n## Code example\r\n\r\nPlease try to provide a minimal example to repro the bug.\r\nError messages and stack traces are also helpful.\r\n\r\n## System Info\r\nPlease copy and paste the output from our\r\n[environment collection script](https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py)\r\n(or fill out the checklist below manually).\r\n\r\nYou can get the script and run it with:\r\n```\r\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\r\n# For security purposes, please check the contents of collect_env.py before running it.\r\npython collect_env.py\r\n```\r\n\r\n- PyTorch or Caffe2:\r\n- How you installed PyTorch (conda, pip, source):\r\n- Build command you used (if compiling from source):\r\n- OS:\r\n- PyTorch version:\r\n- Python version:\r\n- CUDA/cuDNN version:\r\n- GPU models and configuration:\r\n- GCC version (if compiling from source):\r\n- CMake version:\r\n- Versions of any other relevant libraries:\r\n"}