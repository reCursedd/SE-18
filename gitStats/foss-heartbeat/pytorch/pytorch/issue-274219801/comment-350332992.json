{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/350332992", "html_url": "https://github.com/pytorch/pytorch/issues/3716#issuecomment-350332992", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3716", "id": 350332992, "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDMzMjk5Mg==", "user": {"login": "sdmonov", "id": 11948233, "node_id": "MDQ6VXNlcjExOTQ4MjMz", "avatar_url": "https://avatars3.githubusercontent.com/u/11948233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdmonov", "html_url": "https://github.com/sdmonov", "followers_url": "https://api.github.com/users/sdmonov/followers", "following_url": "https://api.github.com/users/sdmonov/following{/other_user}", "gists_url": "https://api.github.com/users/sdmonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdmonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdmonov/subscriptions", "organizations_url": "https://api.github.com/users/sdmonov/orgs", "repos_url": "https://api.github.com/users/sdmonov/repos", "events_url": "https://api.github.com/users/sdmonov/events{/privacy}", "received_events_url": "https://api.github.com/users/sdmonov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-08T18:12:42Z", "updated_at": "2017-12-08T18:14:55Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi,</p>\n<p>I found that the problem is in the LAPACK implementation in OpenBLAS. OpenBLAS 0.2.19 has issues detecting the correct number of CPUs and this leads to some threading issues as far as I can understand. This happens on Virtual Machines and also on other systems where there are CPU limitations. As of today Conda provides OpenBLAS 0.2.19 on ppc64le. RHEL 7.4 ships with OpenBLAS 0.2.20 and Ubuntu 16.04 ships with OpenBLAS 0.2.18. I tested both RHEL 7.4 and Ubuntu 16.04 and it works fine with them.</p>\n<p>The PR in OpenBLAS that fixes the problem is <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"182778304\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/xianyi/OpenBLAS/issues/981\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/xianyi/OpenBLAS/pull/981/hovercard\" href=\"https://github.com/xianyi/OpenBLAS/pull/981\">xianyi/OpenBLAS#981</a>.</p>\n<p>Edit: To summarize: the problem is in OpenBLAS 0.2.19, earlier and later versions work fine.</p>", "body_text": "Hi,\nI found that the problem is in the LAPACK implementation in OpenBLAS. OpenBLAS 0.2.19 has issues detecting the correct number of CPUs and this leads to some threading issues as far as I can understand. This happens on Virtual Machines and also on other systems where there are CPU limitations. As of today Conda provides OpenBLAS 0.2.19 on ppc64le. RHEL 7.4 ships with OpenBLAS 0.2.20 and Ubuntu 16.04 ships with OpenBLAS 0.2.18. I tested both RHEL 7.4 and Ubuntu 16.04 and it works fine with them.\nThe PR in OpenBLAS that fixes the problem is xianyi/OpenBLAS#981.\nEdit: To summarize: the problem is in OpenBLAS 0.2.19, earlier and later versions work fine.", "body": "Hi,\r\n\r\nI found that the problem is in the LAPACK implementation in OpenBLAS. OpenBLAS 0.2.19 has issues detecting the correct number of CPUs and this leads to some threading issues as far as I can understand. This happens on Virtual Machines and also on other systems where there are CPU limitations. As of today Conda provides OpenBLAS 0.2.19 on ppc64le. RHEL 7.4 ships with OpenBLAS 0.2.20 and Ubuntu 16.04 ships with OpenBLAS 0.2.18. I tested both RHEL 7.4 and Ubuntu 16.04 and it works fine with them.\r\n\r\nThe PR in OpenBLAS that fixes the problem is https://github.com/xianyi/OpenBLAS/pull/981.\r\n\r\nEdit: To summarize: the problem is in OpenBLAS 0.2.19, earlier and later versions work fine."}