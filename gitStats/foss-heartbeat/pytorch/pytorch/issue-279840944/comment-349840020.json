{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/349840020", "html_url": "https://github.com/pytorch/pytorch/issues/4055#issuecomment-349840020", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4055", "id": 349840020, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTg0MDAyMA==", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-07T02:13:42Z", "updated_at": "2017-12-07T02:14:03Z", "author_association": "MEMBER", "body_html": "<p>That's from here:</p>\n<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/pytorch/pytorch/blob/d0cabbde74014a4695d07ca464a21ce7d4a148b8/aten/CMakeLists.txt#L158-L168\">pytorch/aten/CMakeLists.txt</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 158 to 168\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/pytorch/pytorch/commit/d0cabbde74014a4695d07ca464a21ce7d4a148b8\">d0cabbd</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L158\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"158\"></td>\n          <td id=\"LC158\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-c1\">MESSAGE</span>(STATUS <span class=\"pl-s\">\"MAGMA not found. Compiling without MAGMA support\"</span>) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L159\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"159\"></td>\n          <td id=\"LC159\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">ENDIF</span>() </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L160\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"160\"></td>\n          <td id=\"LC160\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L161\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"161\"></td>\n          <td id=\"LC161\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c1\">find_package</span>(CuDNN) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L162\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"162\"></td>\n          <td id=\"LC162\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">IF</span>(<span class=\"pl-k\">NOT</span> CUDNN_FOUND) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L163\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"163\"></td>\n          <td id=\"LC163\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-c1\">MESSAGE</span>(STATUS <span class=\"pl-s\">\"CuDNN not found. Compiling without CUDNN support\"</span>) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L164\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"164\"></td>\n          <td id=\"LC164\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-c1\">set</span>(AT_CUDNN_ENABLED 0) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L165\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"165\"></td>\n          <td id=\"LC165\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">ELSE</span>() </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L166\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"166\"></td>\n          <td id=\"LC166\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-c1\">INCLUDE_DIRECTORIES</span>(<span class=\"pl-smi\">${CUDNN_INCLUDE_DIRS}</span>) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L167\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"167\"></td>\n          <td id=\"LC167\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-c1\">set</span>(AT_CUDNN_ENABLED 1) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L168\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"168\"></td>\n          <td id=\"LC168\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">ENDIF</span>() </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>My guess is that it's hanging in <code>find_package(CuDNN) </code> That's implemented in <code>FindCuDNN.cmake</code>:</p>\n<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/pytorch/pytorch/blob/d0cabbde74014a4695d07ca464a21ce7d4a148b8/aten/cmake/FindCuDNN.cmake#L1-L10\">pytorch/aten/cmake/FindCuDNN.cmake</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 1 to 10\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/pytorch/pytorch/commit/d0cabbde74014a4695d07ca464a21ce7d4a148b8\">d0cabbd</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"1\"></td>\n          <td id=\"LC1\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span> - Try to find cuDNN</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L2\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"2\"></td>\n          <td id=\"LC2\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L3\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"3\"></td>\n          <td id=\"LC3\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span> The following variables are optionally searched for defaults</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L4\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"4\"></td>\n          <td id=\"LC4\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span>  CUDNN_ROOT_DIR:            Base directory where all cuDNN components are found</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L5\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"5\"></td>\n          <td id=\"LC5\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L6\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"6\"></td>\n          <td id=\"LC6\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span> The following are set after configuration is done:</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L7\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"7\"></td>\n          <td id=\"LC7\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span>  CUDNN_FOUND</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L8\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"8\"></td>\n          <td id=\"LC8\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span>  CUDNN_INCLUDE_DIRS</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L9\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"9\"></td>\n          <td id=\"LC9\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span>  CUDNN_LIBRARIES</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L10\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"10\"></td>\n          <td id=\"LC10\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">#</span>  CUDNN_LIBRARY_DIRS</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>Add a bunch of <code>MESSAGE(STATUS \"some debug str\")</code> to <code>FindCuDNN.cmake</code> to see where it hangs.</p>", "body_text": "That's from here:\n\n  \n    \n      pytorch/aten/CMakeLists.txt\n    \n    \n        Lines 158 to 168\n      in\n      d0cabbd\n    \n    \n    \n    \n\n        \n          \n             MESSAGE(STATUS \"MAGMA not found. Compiling without MAGMA support\") \n        \n\n        \n          \n           ENDIF() \n        \n\n        \n          \n            \n        \n\n        \n          \n           find_package(CuDNN) \n        \n\n        \n          \n           IF(NOT CUDNN_FOUND) \n        \n\n        \n          \n             MESSAGE(STATUS \"CuDNN not found. Compiling without CUDNN support\") \n        \n\n        \n          \n             set(AT_CUDNN_ENABLED 0) \n        \n\n        \n          \n           ELSE() \n        \n\n        \n          \n             INCLUDE_DIRECTORIES(${CUDNN_INCLUDE_DIRS}) \n        \n\n        \n          \n             set(AT_CUDNN_ENABLED 1) \n        \n\n        \n          \n           ENDIF() \n        \n    \n  \n\n\nMy guess is that it's hanging in find_package(CuDNN)  That's implemented in FindCuDNN.cmake:\n\n  \n    \n      pytorch/aten/cmake/FindCuDNN.cmake\n    \n    \n        Lines 1 to 10\n      in\n      d0cabbd\n    \n    \n    \n    \n\n        \n          \n           # - Try to find cuDNN \n        \n\n        \n          \n           # \n        \n\n        \n          \n           # The following variables are optionally searched for defaults \n        \n\n        \n          \n           #  CUDNN_ROOT_DIR:            Base directory where all cuDNN components are found \n        \n\n        \n          \n           # \n        \n\n        \n          \n           # The following are set after configuration is done: \n        \n\n        \n          \n           #  CUDNN_FOUND \n        \n\n        \n          \n           #  CUDNN_INCLUDE_DIRS \n        \n\n        \n          \n           #  CUDNN_LIBRARIES \n        \n\n        \n          \n           #  CUDNN_LIBRARY_DIRS \n        \n    \n  \n\n\nAdd a bunch of MESSAGE(STATUS \"some debug str\") to FindCuDNN.cmake to see where it hangs.", "body": "That's from here:\r\n\r\nhttps://github.com/pytorch/pytorch/blob/d0cabbde74014a4695d07ca464a21ce7d4a148b8/aten/CMakeLists.txt#L158-L168\r\n\r\nMy guess is that it's hanging in `find_package(CuDNN) ` That's implemented in `FindCuDNN.cmake`:\r\n\r\nhttps://github.com/pytorch/pytorch/blob/d0cabbde74014a4695d07ca464a21ce7d4a148b8/aten/cmake/FindCuDNN.cmake#L1-L10\r\n\r\nAdd a bunch of `MESSAGE(STATUS \"some debug str\")` to `FindCuDNN.cmake` to see where it hangs."}