{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8036", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8036/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8036/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8036/events", "html_url": "https://github.com/pytorch/pytorch/issues/8036", "id": 328618729, "node_id": "MDU6SXNzdWUzMjg2MTg3Mjk=", "number": 8036, "title": "[feature request] Clarify document to avoid \"Error Importing cuda extension\"", "user": {"login": "dashesy", "id": 873905, "node_id": "MDQ6VXNlcjg3MzkwNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/873905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dashesy", "html_url": "https://github.com/dashesy", "followers_url": "https://api.github.com/users/dashesy/followers", "following_url": "https://api.github.com/users/dashesy/following{/other_user}", "gists_url": "https://api.github.com/users/dashesy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dashesy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dashesy/subscriptions", "organizations_url": "https://api.github.com/users/dashesy/orgs", "repos_url": "https://api.github.com/users/dashesy/repos", "events_url": "https://api.github.com/users/dashesy/events{/privacy}", "received_events_url": "https://api.github.com/users/dashesy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-01T18:31:55Z", "updated_at": "2018-06-21T18:49:28Z", "closed_at": "2018-06-21T18:49:28Z", "author_association": "CONTRIBUTOR", "body_html": "<ul>\n<li>PyTorch: 0.4</li>\n<li>How you installed PyTorch (conda, pip, source): conda</li>\n<li>Build command you used (if compiling from source):</li>\n<li>OS: Ubuntu 16.04</li>\n<li>PyTorch version: 0,4</li>\n<li>Python version: 2.7</li>\n<li>CUDA/cuDNN version: 8.0</li>\n<li>GPU models and configuration: 1070</li>\n</ul>\n<p>Following <a href=\"https://pytorch.org/tutorials/advanced/cpp_extension.html\" rel=\"nofollow\">here</a> I compiled my extension with</p>\n<pre><code>python setup.py develop\n</code></pre>\n<p>If I import my extension</p>\n<pre><code>import smtl_cuda\n</code></pre>\n<p>I get the error:</p>\n<pre lang=\"text\"><code>    ImportError: ./smtl_cuda.so: undefined symbol: THPVariableClass\n</code></pre>\n<p>But to avoid it I just had to first import torch:</p>\n<pre><code>import torch\nimport smtl_cuda\n</code></pre>\n<p>Perhaps this should be mentioned in the above document about cpp_extension (or I am doing something wrong?)</p>\n<p>P.S. great setup with the seamless extension compilation and ATen is great!</p>", "body_text": "PyTorch: 0.4\nHow you installed PyTorch (conda, pip, source): conda\nBuild command you used (if compiling from source):\nOS: Ubuntu 16.04\nPyTorch version: 0,4\nPython version: 2.7\nCUDA/cuDNN version: 8.0\nGPU models and configuration: 1070\n\nFollowing here I compiled my extension with\npython setup.py develop\n\nIf I import my extension\nimport smtl_cuda\n\nI get the error:\n    ImportError: ./smtl_cuda.so: undefined symbol: THPVariableClass\n\nBut to avoid it I just had to first import torch:\nimport torch\nimport smtl_cuda\n\nPerhaps this should be mentioned in the above document about cpp_extension (or I am doing something wrong?)\nP.S. great setup with the seamless extension compilation and ATen is great!", "body": "- PyTorch: 0.4\r\n- How you installed PyTorch (conda, pip, source): conda\r\n- Build command you used (if compiling from source):\r\n- OS: Ubuntu 16.04\r\n- PyTorch version: 0,4\r\n- Python version: 2.7\r\n- CUDA/cuDNN version: 8.0\r\n- GPU models and configuration: 1070\r\n\r\nFollowing [here](https://pytorch.org/tutorials/advanced/cpp_extension.html) I compiled my extension with\r\n\r\n    python setup.py develop\r\n\r\nIf I import my extension\r\n    \r\n    import smtl_cuda\r\n\r\nI get the error:\r\n\r\n```text    \r\n    ImportError: ./smtl_cuda.so: undefined symbol: THPVariableClass\r\n```\r\nBut to avoid it I just had to first import torch:\r\n\r\n    import torch\r\n    import smtl_cuda\r\n\r\nPerhaps this should be mentioned in the above document about cpp_extension (or I am doing something wrong?)\r\n\r\nP.S. great setup with the seamless extension compilation and ATen is great!"}