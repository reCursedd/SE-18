{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6720", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6720/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6720/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6720/events", "html_url": "https://github.com/pytorch/pytorch/pull/6720", "id": 315619875, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyNTg1NTQ3", "number": 6720, "title": "Allowing for vectorized counts in Binomial Distribution", "user": {"login": "neerajprad", "id": 1762463, "node_id": "MDQ6VXNlcjE3NjI0NjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1762463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neerajprad", "html_url": "https://github.com/neerajprad", "followers_url": "https://api.github.com/users/neerajprad/followers", "following_url": "https://api.github.com/users/neerajprad/following{/other_user}", "gists_url": "https://api.github.com/users/neerajprad/gists{/gist_id}", "starred_url": "https://api.github.com/users/neerajprad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neerajprad/subscriptions", "organizations_url": "https://api.github.com/users/neerajprad/orgs", "repos_url": "https://api.github.com/users/neerajprad/repos", "events_url": "https://api.github.com/users/neerajprad/events{/privacy}", "received_events_url": "https://api.github.com/users/neerajprad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-04-18T19:54:43Z", "updated_at": "2018-11-23T15:43:04Z", "closed_at": "2018-04-26T13:53:02Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6720", "html_url": "https://github.com/pytorch/pytorch/pull/6720", "diff_url": "https://github.com/pytorch/pytorch/pull/6720.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6720.patch"}, "body_html": "<p>Currently the <code>Binomial</code> distribution only allows for integer counts, i.e. <code>total_count</code> remains fixed while we can vary the probability tensor. Since we are drawing Bernoullis internally when sampling from Binomial, there is no need to restrict <code>total_count</code> to be an integer, and we can support vectorized counts with a small modification. This will be really useful for building beta-binomial regression models, for instance.</p>\n<p>Additionally, some of the methods assumed that <code>total_count &gt; 0</code>. Made some minor changes to ensure that <code>total_count = 0</code> works as expected, and added this special case to the tests.</p>\n<p>Hat tip to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=648532\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fritzo\">@fritzo</a> for suggesting this. Math reviewed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"315348345\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/probtorch/pytorch/issues/148\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/probtorch/pytorch/pull/148/hovercard\" href=\"https://github.com/probtorch/pytorch/pull/148\">probtorch#148</a>.</p>\n<p>cc. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "Currently the Binomial distribution only allows for integer counts, i.e. total_count remains fixed while we can vary the probability tensor. Since we are drawing Bernoullis internally when sampling from Binomial, there is no need to restrict total_count to be an integer, and we can support vectorized counts with a small modification. This will be really useful for building beta-binomial regression models, for instance.\nAdditionally, some of the methods assumed that total_count > 0. Made some minor changes to ensure that total_count = 0 works as expected, and added this special case to the tests.\nHat tip to @fritzo for suggesting this. Math reviewed in probtorch#148.\ncc. @apaszke", "body": "Currently the `Binomial` distribution only allows for integer counts, i.e. `total_count` remains fixed while we can vary the probability tensor. Since we are drawing Bernoullis internally when sampling from Binomial, there is no need to restrict `total_count` to be an integer, and we can support vectorized counts with a small modification. This will be really useful for building beta-binomial regression models, for instance.\r\n\r\nAdditionally, some of the methods assumed that `total_count > 0`. Made some minor changes to ensure that `total_count = 0` works as expected, and added this special case to the tests.\r\n\r\nHat tip to @fritzo for suggesting this. Math reviewed in https://github.com/probtorch/pytorch/pull/148.\r\n\r\ncc. @apaszke "}