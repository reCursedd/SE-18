{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1818", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1818/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1818/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1818/events", "html_url": "https://github.com/pytorch/pytorch/issues/1818", "id": 236394731, "node_id": "MDU6SXNzdWUyMzYzOTQ3MzE=", "number": 1818, "title": "Undefined symbol \"_state\"", "user": {"login": "personjerry", "id": 160582, "node_id": "MDQ6VXNlcjE2MDU4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/160582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/personjerry", "html_url": "https://github.com/personjerry", "followers_url": "https://api.github.com/users/personjerry/followers", "following_url": "https://api.github.com/users/personjerry/following{/other_user}", "gists_url": "https://api.github.com/users/personjerry/gists{/gist_id}", "starred_url": "https://api.github.com/users/personjerry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/personjerry/subscriptions", "organizations_url": "https://api.github.com/users/personjerry/orgs", "repos_url": "https://api.github.com/users/personjerry/repos", "events_url": "https://api.github.com/users/personjerry/events{/privacy}", "received_events_url": "https://api.github.com/users/personjerry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2017-06-16T06:46:51Z", "updated_at": "2017-07-14T02:32:11Z", "closed_at": "2017-07-14T02:32:11Z", "author_association": "NONE", "body_html": "<p>I'm trying to build on Mac OS X, using</p>\n<p><code>MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python3 setup.py install</code></p>\n<p>And I'm running into this error:</p>\n<pre><code>[  4%] Linking CXX shared library libTHD.dylib\nld: warning: directory not found for option '-L/usr/local/cuda/lib64'\nUndefined symbols for architecture x86_64:\n  \"_state\", referenced from:\n      _THDTensorDescriptor_newFromTHCudaDoubleTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaFloatTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaLongTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaIntTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaShortTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaCharTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaByteTensor in TensorDescriptor.cpp.o\n      ...\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [libTHD.1.dylib] Error 1\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>\n<p>Is this a bug or did I miss something?</p>\n<p>Edit:</p>\n<p>This might be relevant:</p>\n<pre><code>error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: no LC_RPATH load command with path: /usr/local/cuda/lib found in: ~/Desktop/pytorch/torch/lib/tmp_install/lib/libTHPP.1.dylib (for architecture x86_64), required for specified option \"-delete_rpath /usr/local/cuda/lib\"\n</code></pre>", "body_text": "I'm trying to build on Mac OS X, using\nMACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python3 setup.py install\nAnd I'm running into this error:\n[  4%] Linking CXX shared library libTHD.dylib\nld: warning: directory not found for option '-L/usr/local/cuda/lib64'\nUndefined symbols for architecture x86_64:\n  \"_state\", referenced from:\n      _THDTensorDescriptor_newFromTHCudaDoubleTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaFloatTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaLongTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaIntTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaShortTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaCharTensor in TensorDescriptor.cpp.o\n      _THDTensorDescriptor_newFromTHCudaByteTensor in TensorDescriptor.cpp.o\n      ...\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [libTHD.1.dylib] Error 1\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\nmake: *** [all] Error 2\n\nIs this a bug or did I miss something?\nEdit:\nThis might be relevant:\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: no LC_RPATH load command with path: /usr/local/cuda/lib found in: ~/Desktop/pytorch/torch/lib/tmp_install/lib/libTHPP.1.dylib (for architecture x86_64), required for specified option \"-delete_rpath /usr/local/cuda/lib\"", "body": "I'm trying to build on Mac OS X, using\r\n\r\n`MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python3 setup.py install`\r\n\r\nAnd I'm running into this error:\r\n\r\n```\r\n[  4%] Linking CXX shared library libTHD.dylib\r\nld: warning: directory not found for option '-L/usr/local/cuda/lib64'\r\nUndefined symbols for architecture x86_64:\r\n  \"_state\", referenced from:\r\n      _THDTensorDescriptor_newFromTHCudaDoubleTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaFloatTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaLongTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaIntTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaShortTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaCharTensor in TensorDescriptor.cpp.o\r\n      _THDTensorDescriptor_newFromTHCudaByteTensor in TensorDescriptor.cpp.o\r\n      ...\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [libTHD.1.dylib] Error 1\r\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```\r\n\r\nIs this a bug or did I miss something?\r\n\r\nEdit:\r\n\r\nThis might be relevant:\r\n\r\n```\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: no LC_RPATH load command with path: /usr/local/cuda/lib found in: ~/Desktop/pytorch/torch/lib/tmp_install/lib/libTHPP.1.dylib (for architecture x86_64), required for specified option \"-delete_rpath /usr/local/cuda/lib\"\r\n```"}