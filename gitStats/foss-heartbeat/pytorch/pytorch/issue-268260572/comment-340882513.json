{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/340882513", "html_url": "https://github.com/pytorch/pytorch/issues/3277#issuecomment-340882513", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3277", "id": 340882513, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDg4MjUxMw==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-31T19:35:27Z", "updated_at": "2017-11-01T10:35:48Z", "author_association": "CONTRIBUTOR", "body_html": "<p>hi, it looks like there is something going on when passing torch tensor to numpy.<br>\nHere is a sample code</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n<span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n\ndtype <span class=\"pl-k\">=</span> np.uint8 \nx <span class=\"pl-k\">=</span> torch.Tensor([<span class=\"pl-c1\">1</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">4</span>])\nasarray <span class=\"pl-k\">=</span> np.asarray(x, <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>dtype)\n<span class=\"pl-c1\">print</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>asarray<span class=\"pl-pds\">\"</span></span>, asarray)\nnp_array <span class=\"pl-k\">=</span> np.array(x, <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>dtype)\n<span class=\"pl-c1\">print</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>array x from torch<span class=\"pl-pds\">\"</span></span>, np_array)\narray <span class=\"pl-k\">=</span> np.array([<span class=\"pl-c1\">1</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">4</span>], <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>dtype)\n<span class=\"pl-c1\">print</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>array x not from torch<span class=\"pl-pds\">\"</span></span>, array)</pre></div>\n<p>output</p>\n<pre><code>&lt;class 'numpy.uint8'&gt;\nasarray [1 0 3 0]\narray x from torch [1 0 3 0]\narray x not from torch [  1 254   3 252]\n</code></pre>\n<p>If you can give me some suggestions on which code to look in  pytorch, I can try and help</p>", "body_text": "hi, it looks like there is something going on when passing torch tensor to numpy.\nHere is a sample code\nimport torch\nimport numpy as np\n\ndtype = np.uint8 \nx = torch.Tensor([1, -2, 3, -4])\nasarray = np.asarray(x, dtype=dtype)\nprint (\"asarray\", asarray)\nnp_array = np.array(x, dtype=dtype)\nprint (\"array x from torch\", np_array)\narray = np.array([1, -2, 3, -4], dtype=dtype)\nprint (\"array x not from torch\", array)\noutput\n<class 'numpy.uint8'>\nasarray [1 0 3 0]\narray x from torch [1 0 3 0]\narray x not from torch [  1 254   3 252]\n\nIf you can give me some suggestions on which code to look in  pytorch, I can try and help", "body": "hi, it looks like there is something going on when passing torch tensor to numpy.  \r\nHere is a sample code\r\n\r\n```python\r\nimport torch\r\nimport numpy as np\r\n\r\ndtype = np.uint8 \r\nx = torch.Tensor([1, -2, 3, -4])\r\nasarray = np.asarray(x, dtype=dtype)\r\nprint (\"asarray\", asarray)\r\nnp_array = np.array(x, dtype=dtype)\r\nprint (\"array x from torch\", np_array)\r\narray = np.array([1, -2, 3, -4], dtype=dtype)\r\nprint (\"array x not from torch\", array)\r\n```\r\n\r\noutput\r\n```\r\n<class 'numpy.uint8'>\r\nasarray [1 0 3 0]\r\narray x from torch [1 0 3 0]\r\narray x not from torch [  1 254   3 252]\r\n```\r\n\r\nIf you can give me some suggestions on which code to look in  pytorch, I can try and help"}