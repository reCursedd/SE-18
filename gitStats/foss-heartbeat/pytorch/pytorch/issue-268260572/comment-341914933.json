{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/341914933", "html_url": "https://github.com/pytorch/pytorch/issues/3277#issuecomment-341914933", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3277", "id": 341914933, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTkxNDkzMw==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-04T17:27:29Z", "updated_at": "2017-11-04T17:27:29Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think this test depending on which architecture you run x86 vs ppc64 or ARM will result in undefined behavior.  See this link <a href=\"http://www.embeddeduse.com/2013/08/25/casting-a-negative-float-to-an-unsigned-int/\" rel=\"nofollow\">http://www.embeddeduse.com/2013/08/25/casting-a-negative-float-to-an-unsigned-int/</a>.<br>\nAlso I tried doing the following on ppc64le</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>x = np.array([1.,-2.])<br>\nx<br>\narray([ 1., -2.])<br>\ny = x.astype(np.uint8)<br>\ny<br>\narray([1, 0], dtype=uint8)<br>\nSo even numpy gives back a 0 when casting a negative float to unit8</p>\n</blockquote>\n</blockquote>\n</blockquote>", "body_text": "I think this test depending on which architecture you run x86 vs ppc64 or ARM will result in undefined behavior.  See this link http://www.embeddeduse.com/2013/08/25/casting-a-negative-float-to-an-unsigned-int/.\nAlso I tried doing the following on ppc64le\n\n\n\nx = np.array([1.,-2.])\nx\narray([ 1., -2.])\ny = x.astype(np.uint8)\ny\narray([1, 0], dtype=uint8)\nSo even numpy gives back a 0 when casting a negative float to unit8", "body": "I think this test depending on which architecture you run x86 vs ppc64 or ARM will result in undefined behavior.  See this link http://www.embeddeduse.com/2013/08/25/casting-a-negative-float-to-an-unsigned-int/.  \r\nAlso I tried doing the following on ppc64le \r\n>>> x = np.array([1.,-2.])\r\n>>> x\r\narray([ 1., -2.])\r\n>>> y = x.astype(np.uint8)\r\n>>> y\r\narray([1, 0], dtype=uint8)\r\nSo even numpy gives back a 0 when casting a negative float to unit8\r\n"}