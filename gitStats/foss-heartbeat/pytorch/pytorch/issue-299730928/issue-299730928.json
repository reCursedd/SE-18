{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5372", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5372/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5372/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5372/events", "html_url": "https://github.com/pytorch/pytorch/issues/5372", "id": 299730928, "node_id": "MDU6SXNzdWUyOTk3MzA5Mjg=", "number": 5372, "title": "Windows CPU Build Fails on Link Step", "user": {"login": "paddyhoran", "id": 5733408, "node_id": "MDQ6VXNlcjU3MzM0MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/5733408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paddyhoran", "html_url": "https://github.com/paddyhoran", "followers_url": "https://api.github.com/users/paddyhoran/followers", "following_url": "https://api.github.com/users/paddyhoran/following{/other_user}", "gists_url": "https://api.github.com/users/paddyhoran/gists{/gist_id}", "starred_url": "https://api.github.com/users/paddyhoran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paddyhoran/subscriptions", "organizations_url": "https://api.github.com/users/paddyhoran/orgs", "repos_url": "https://api.github.com/users/paddyhoran/repos", "events_url": "https://api.github.com/users/paddyhoran/events{/privacy}", "received_events_url": "https://api.github.com/users/paddyhoran/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-23T14:34:37Z", "updated_at": "2018-02-23T23:54:31Z", "closed_at": "2018-02-23T23:54:31Z", "author_association": "NONE", "body_html": "<p><strong>Overview</strong></p>\n<p>I know windows is not officially supported, I can move to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"201800912\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/494\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/494/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/494\">#494</a> if you would prefer...</p>\n<p>Until recently I was able to build pytorch from source with the steps below.  I am now getting a linker error.  <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> thought that <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"299591107\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5365\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/5365/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/5365\">#5365</a> would fix it but the issue remains.</p>\n<p><strong>General Information</strong></p>\n<ul>\n<li>OS: Windows 10</li>\n<li>PyTorch version: master (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/cc9d3b265d7e688865fde055ee3a2f9b77b5714a/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/cc9d3b265d7e688865fde055ee3a2f9b77b5714a\"><tt>cc9d3b2</tt></a>)</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Python version: 3.5</li>\n<li>CUDA/cuDNN version: None (CPU Build)</li>\n<li>GPU models and configuration: None</li>\n<li>MSVC version (if compiling from source):  Microsoft (R) C/C++ Optimizing Compiler Version 19.11.25547 for x64 (using build tools not Visual Studio)</li>\n</ul>\n<p><strong>The following can re-produce the error (once conda-forge channel is added):</strong></p>\n<ul>\n<li>conda create -n pytorch-build -y python=3.5 numpy mkl cffi pyyaml git cmake ninja</li>\n<li>activate pytorch-build</li>\n<li>git clone --recursive <a href=\"https://github.com/pytorch/pytorch\">https://github.com/pytorch/pytorch</a></li>\n<li>cd pytorch</li>\n<li>xcopy /Y aten\\src\\ATen\\common_with_cwrap.py tools\\shared\\cwrap_common.py</li>\n<li>conda uninstall git -y (causes issues with the linker)</li>\n<li>set DISTUTILS_USE_SDK=1</li>\n<li>set CMAKE_GENERATOR=Ninja</li>\n<li>set NO_CUDA=1</li>\n<li>python setup.py bdist_wheel</li>\n</ul>\n<p><strong>Error Message</strong></p>\n<p>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MT -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/pybind11/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/TH -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/THNN -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/ATen -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\lib\\site-packages\\numpy\\core\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\include\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\winrt\" /EHsc /Tptorch/csrc/generated/lazy_init_cpu_win.cpp /Fobuild\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj -D_THP_CORE /Z7 /EHa /DNOMINMAX -DWITH_NUMPY -DWITH_SCALARS<br>\ncl : Command line warning D9025 : overriding '/EHs' with '/EHa'<br>\nlazy_init_cpu_win.cpp<br>\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\link.exe /nologo /INCREMENTAL:NO /LTCG /nodefaultlib:libucrt.lib ucrt.lib /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIBPATH:C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\libs /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\PCbuild\\amd64 \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\lib\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\um\\x64\" shm.lib /EXPORT:PyInit__C build\\temp.win-amd64-3.5\\Release\\torch/csrc/PtrWrapper.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Module.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Generator.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Size.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Dtype.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Exceptions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Storage.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/DynamicTypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/assertions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/byte_order.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/expand_utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/invalid_arguments.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/object_ptr.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/python_arg_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_list.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_new.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_numpy.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_dtypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_types.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tuple_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_apply.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/variadic.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/allocators.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/serialization.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/fusion_compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/graph_executor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/test_jit.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer_state.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/shape_analysis.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interned_strings.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/type.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/export.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/autodiff.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter_autograd_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_arg_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_compiled_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/variable_flags.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/create_autodiff_subgraphs.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/graph_fuser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/dead_code_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/common_subexpression_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/inplace_check.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/canonicalize.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/batch_mm.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/generated/aten_dispatch.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/lexer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/python_tree_views.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/grad_mode.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/saved_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/input_buffer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/profiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_cpp_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable_indexing.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_hook.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/VariableType.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/Functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_torch_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_variable_methods.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_nn_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/basic_ops.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/tensor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/accumulate_grad.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/special.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.pb.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorDouble.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorFloat.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorHalf.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorLong.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorInt.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorShort.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorChar.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorByte.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/AutoGPU_cpu_win.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj /OUT:build\\lib.win-amd64-3.5\\torch_C.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\ATen.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\protobuf-nanopb.lib<br>\nCreating library build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.exp<br>\ntensor_new.obj : error LNK2001: unresolved external symbol \"void __cdecl torch::cuda::lazy_init(void)\" (?lazy_init@cuda@torch@@YAXXZ)<br>\nbuild\\lib.win-amd64-3.5\\torch_C.cp35-win_amd64.pyd : fatal error LNK1120: 1 unresolved externals<br>\nerror: command 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\link.exe' failed with exit status 1120</p>", "body_text": "Overview\nI know windows is not officially supported, I can move to #494 if you would prefer...\nUntil recently I was able to build pytorch from source with the steps below.  I am now getting a linker error.  @peterjc123 thought that #5365 would fix it but the issue remains.\nGeneral Information\n\nOS: Windows 10\nPyTorch version: master (cc9d3b2)\nHow you installed PyTorch (conda, pip, source): source\nPython version: 3.5\nCUDA/cuDNN version: None (CPU Build)\nGPU models and configuration: None\nMSVC version (if compiling from source):  Microsoft (R) C/C++ Optimizing Compiler Version 19.11.25547 for x64 (using build tools not Visual Studio)\n\nThe following can re-produce the error (once conda-forge channel is added):\n\nconda create -n pytorch-build -y python=3.5 numpy mkl cffi pyyaml git cmake ninja\nactivate pytorch-build\ngit clone --recursive https://github.com/pytorch/pytorch\ncd pytorch\nxcopy /Y aten\\src\\ATen\\common_with_cwrap.py tools\\shared\\cwrap_common.py\nconda uninstall git -y (causes issues with the linker)\nset DISTUTILS_USE_SDK=1\nset CMAKE_GENERATOR=Ninja\nset NO_CUDA=1\npython setup.py bdist_wheel\n\nError Message\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MT -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/pybind11/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/TH -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/THNN -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/ATen -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\lib\\site-packages\\numpy\\core\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\include\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\winrt\" /EHsc /Tptorch/csrc/generated/lazy_init_cpu_win.cpp /Fobuild\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj -D_THP_CORE /Z7 /EHa /DNOMINMAX -DWITH_NUMPY -DWITH_SCALARS\ncl : Command line warning D9025 : overriding '/EHs' with '/EHa'\nlazy_init_cpu_win.cpp\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\link.exe /nologo /INCREMENTAL:NO /LTCG /nodefaultlib:libucrt.lib ucrt.lib /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIBPATH:C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\libs /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\PCbuild\\amd64 \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\lib\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\um\\x64\" shm.lib /EXPORT:PyInit__C build\\temp.win-amd64-3.5\\Release\\torch/csrc/PtrWrapper.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Module.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Generator.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Size.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Dtype.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Exceptions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Storage.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/DynamicTypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/assertions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/byte_order.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/expand_utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/invalid_arguments.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/object_ptr.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/python_arg_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_list.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_new.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_numpy.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_dtypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_types.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tuple_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_apply.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/variadic.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/allocators.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/serialization.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/fusion_compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/graph_executor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/test_jit.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer_state.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/shape_analysis.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interned_strings.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/type.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/export.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/autodiff.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter_autograd_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_arg_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_compiled_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/variable_flags.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/create_autodiff_subgraphs.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/graph_fuser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/dead_code_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/common_subexpression_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/inplace_check.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/canonicalize.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/batch_mm.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/generated/aten_dispatch.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/lexer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/python_tree_views.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/grad_mode.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/saved_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/input_buffer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/profiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_cpp_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable_indexing.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_hook.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/VariableType.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/Functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_torch_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_variable_methods.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_nn_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/basic_ops.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/tensor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/accumulate_grad.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/special.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.pb.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorDouble.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorFloat.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorHalf.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorLong.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorInt.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorShort.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorChar.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorByte.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/AutoGPU_cpu_win.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj /OUT:build\\lib.win-amd64-3.5\\torch_C.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\ATen.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\protobuf-nanopb.lib\nCreating library build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\torch/csrc_C.cp35-win_amd64.exp\ntensor_new.obj : error LNK2001: unresolved external symbol \"void __cdecl torch::cuda::lazy_init(void)\" (?lazy_init@cuda@torch@@YAXXZ)\nbuild\\lib.win-amd64-3.5\\torch_C.cp35-win_amd64.pyd : fatal error LNK1120: 1 unresolved externals\nerror: command 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\link.exe' failed with exit status 1120", "body": "**Overview**\r\n\r\nI know windows is not officially supported, I can move to #494 if you would prefer...\r\n\r\nUntil recently I was able to build pytorch from source with the steps below.  I am now getting a linker error.  @peterjc123 thought that #5365 would fix it but the issue remains.\r\n\r\n**General Information**\r\n\r\n- OS: Windows 10\r\n- PyTorch version: master (cc9d3b2)\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Python version: 3.5\r\n- CUDA/cuDNN version: None (CPU Build)\r\n- GPU models and configuration: None\r\n- MSVC version (if compiling from source):  Microsoft (R) C/C++ Optimizing Compiler Version 19.11.25547 for x64 (using build tools not Visual Studio)\r\n\r\n**The following can re-produce the error (once conda-forge channel is added):**\r\n - conda create -n pytorch-build -y python=3.5 numpy mkl cffi pyyaml git cmake ninja\r\n - activate pytorch-build\r\n - git clone --recursive https://github.com/pytorch/pytorch\r\n - cd pytorch\r\n - xcopy /Y aten\\src\\ATen\\common_with_cwrap.py tools\\shared\\cwrap_common.py\r\n - conda uninstall git -y (causes issues with the linker)\r\n - set DISTUTILS_USE_SDK=1\r\n - set CMAKE_GENERATOR=Ninja\r\n - set NO_CUDA=1\r\n - python setup.py bdist_wheel\r\n\r\n**Error Message**\r\n\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MT -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/pybind11/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/TH -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/THNN -IC:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib/tmp_install/include/ATen -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\lib\\site-packages\\numpy\\core\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include -IC:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\include\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.16299.0\\winrt\" /EHsc /Tptorch/csrc/generated/lazy_init_cpu_win.cpp /Fobuild\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj -D_THP_CORE /Z7 /EHa /DNOMINMAX -DWITH_NUMPY -DWITH_SCALARS\r\ncl : Command line warning D9025 : overriding '/EHs' with '/EHa'\r\nlazy_init_cpu_win.cpp\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\bin\\HostX64\\x64\\link.exe /nologo /INCREMENTAL:NO /LTCG /nodefaultlib:libucrt.lib ucrt.lib /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIBPATH:C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\libs /LIBPATH:C:\\Users\\horanp\\miniconda3\\envs\\pytorch-build\\PCbuild\\amd64 \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\VC\\Tools\\MSVC\\14.11.25503\\lib\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.16299.0\\um\\x64\" shm.lib /EXPORT:PyInit__C build\\temp.win-amd64-3.5\\Release\\torch/csrc/PtrWrapper.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Module.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Generator.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Size.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Dtype.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Exceptions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/Storage.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/DynamicTypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/assertions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/byte_order.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/expand_utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/invalid_arguments.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/object_ptr.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/python_arg_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_list.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_new.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_numpy.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_dtypes.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_types.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tuple_parser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_apply.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/tensor_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/utils/variadic.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/allocators.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/serialization.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/fusion_compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/graph_executor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_ir.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/test_jit.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/tracer_state.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_tracer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/shape_analysis.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interned_strings.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/type.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/export.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/autodiff.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/interpreter_autograd_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_arg_flatten.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/python_compiled_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/variable_flags.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/create_autodiff_subgraphs.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/graph_fuser.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/dead_code_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/common_subexpression_elimination.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/inplace_check.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/canonicalize.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/batch_mm.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/passes/onnx/peephole.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/generated/aten_dispatch.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/lexer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/compiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/jit/script/python_tree_views.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/grad_mode.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/saved_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/input_buffer.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/profiler.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_cpp_function.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_variable_indexing.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_engine.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/python_hook.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/VariableType.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/Functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_torch_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_variable_methods.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/generated/python_nn_functions.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/basic_ops.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/tensor.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/accumulate_grad.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/special.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/utils.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/autograd/functions/init.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.pb.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/onnx/onnx.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorDouble.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorFloat.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorHalf.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorLong.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorInt.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorShort.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorChar.obj build\\temp.win-amd64-3.5\\Release\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\csrc\\generated\\TensorByte.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/AutoGPU_cpu_win.obj build\\temp.win-amd64-3.5\\Release\\torch/csrc/generated/lazy_init_cpu_win.obj /OUT:build\\lib.win-amd64-3.5\\torch\\_C.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Release\\torch/csrc\\_C.cp35-win_amd64.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\ATen.lib C:\\Users\\horanp\\projects\\pytorch-scripts\\pytorch\\torch\\lib\\protobuf-nanopb.lib\r\n   Creating library build\\temp.win-amd64-3.5\\Release\\torch/csrc\\_C.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\torch/csrc\\_C.cp35-win_amd64.exp\r\ntensor_new.obj : error LNK2001: unresolved external symbol \"void __cdecl torch::cuda::lazy_init(void)\" (?lazy_init@cuda@torch@@YAXXZ)\r\nbuild\\lib.win-amd64-3.5\\torch\\_C.cp35-win_amd64.pyd : fatal error LNK1120: 1 unresolved externals\r\nerror: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2017\\\\BuildTools\\\\VC\\\\Tools\\\\MSVC\\\\14.11.25503\\\\bin\\\\HostX64\\\\x64\\\\link.exe' failed with exit status 1120\r\n\r\n\r\n"}