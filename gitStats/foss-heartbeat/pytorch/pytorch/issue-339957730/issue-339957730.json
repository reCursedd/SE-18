{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9312", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9312/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9312/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9312/events", "html_url": "https://github.com/pytorch/pytorch/issues/9312", "id": 339957730, "node_id": "MDU6SXNzdWUzMzk5NTc3MzA=", "number": 9312, "title": "[JIT] Tuple phi nodes can produce incorrect graphs", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 679953983, "node_id": "MDU6TGFiZWw2Nzk5NTM5ODM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/jit", "name": "jit", "color": "c5def5", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-10T18:27:45Z", "updated_at": "2018-11-06T00:12:14Z", "closed_at": "2018-11-06T00:12:14Z", "author_association": "MEMBER", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-en\">@torch.jit.script</span>           \n<span class=\"pl-k\">def</span> <span class=\"pl-en\">split_two</span>(<span class=\"pl-smi\">tensor</span>):      \n    <span class=\"pl-k\">if</span> <span class=\"pl-c1\">True</span>:                \n        x <span class=\"pl-k\">=</span> (tensor, tensor)\n    <span class=\"pl-k\">else</span>:                   \n        x <span class=\"pl-k\">=</span> (tensor,)       \n    <span class=\"pl-k\">return</span> x                </pre></div>\n<p>produces this graph:</p>\n<pre><code>graph(%tensor : Dynamic) {\n  %1 : Byte() = prim::Constant[value={1}]()\n  %7 : Dynamic, %8 : Dynamic = prim::If(%1)\n    block0() {\n      -&gt; (%tensor, %tensor)\n    }\n    block1() {\n      -&gt; (%tensor)\n    }\n  return (%7, %8);\n}\n</code></pre>", "body_text": "@torch.jit.script           \ndef split_two(tensor):      \n    if True:                \n        x = (tensor, tensor)\n    else:                   \n        x = (tensor,)       \n    return x                \nproduces this graph:\ngraph(%tensor : Dynamic) {\n  %1 : Byte() = prim::Constant[value={1}]()\n  %7 : Dynamic, %8 : Dynamic = prim::If(%1)\n    block0() {\n      -> (%tensor, %tensor)\n    }\n    block1() {\n      -> (%tensor)\n    }\n  return (%7, %8);\n}", "body": "```python\r\n@torch.jit.script           \r\ndef split_two(tensor):      \r\n    if True:                \r\n        x = (tensor, tensor)\r\n    else:                   \r\n        x = (tensor,)       \r\n    return x                \r\n```\r\n\r\nproduces this graph:\r\n\r\n```\r\ngraph(%tensor : Dynamic) {\r\n  %1 : Byte() = prim::Constant[value={1}]()\r\n  %7 : Dynamic, %8 : Dynamic = prim::If(%1)\r\n    block0() {\r\n      -> (%tensor, %tensor)\r\n    }\r\n    block1() {\r\n      -> (%tensor)\r\n    }\r\n  return (%7, %8);\r\n}\r\n```"}