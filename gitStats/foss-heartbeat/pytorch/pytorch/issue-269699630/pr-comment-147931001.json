{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/147931001", "pull_request_review_id": 73094178, "id": 147931001, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzkzMTAwMQ==", "diff_hunk": "@@ -156,9 +157,15 @@ struct Node : public Attributes<Node> {\n     return unique_;\n   }\n   std::string uniqueName() const {\n-    if(debug_name_.size() > 0)\n-      return debugName() + \"_\" + std::to_string(unique());\n-    return std::to_string(unique());\n+    std::string debugPrefix = debug_name_.size() > 0\n+      ? debugName() + \"_\"\n+      : \"\"\n+      ;\n+    std::string ret = pretty_name_ != \"\"\n+      ? pretty_name_\n+      : std::to_string(unique())\n+      ;\n+    return debugPrefix + ret;", "path": "torch/csrc/jit/ir.h", "position": null, "original_position": 30, "commit_id": "1904c8a9c65f050513c1e1037861644b53fe6f34", "original_commit_id": "595289be0fca2e9c7f4daff3454a5fc604f57709", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "As seen in here, there is already a `debugName()` filed in all nodes. You can just reuse this to store the \"name\" taken from a Variable, and all these JIT modifications won't be necessary. If the \"debug\" prefix is what's worrying then we can always make it a \"name\"", "created_at": "2017-10-31T09:20:38Z", "updated_at": "2018-11-23T15:35:48Z", "html_url": "https://github.com/pytorch/pytorch/pull/3371#discussion_r147931001", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3371", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/147931001"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3371#discussion_r147931001"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3371"}}, "body_html": "<p>As seen in here, there is already a <code>debugName()</code> filed in all nodes. You can just reuse this to store the \"name\" taken from a Variable, and all these JIT modifications won't be necessary. If the \"debug\" prefix is what's worrying then we can always make it a \"name\"</p>", "body_text": "As seen in here, there is already a debugName() filed in all nodes. You can just reuse this to store the \"name\" taken from a Variable, and all these JIT modifications won't be necessary. If the \"debug\" prefix is what's worrying then we can always make it a \"name\""}