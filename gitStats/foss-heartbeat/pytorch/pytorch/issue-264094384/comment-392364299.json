{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/392364299", "html_url": "https://github.com/pytorch/pytorch/issues/3047#issuecomment-392364299", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3047", "id": 392364299, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjM2NDI5OQ==", "user": {"login": "Olshansk", "id": 1892194, "node_id": "MDQ6VXNlcjE4OTIxOTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1892194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Olshansk", "html_url": "https://github.com/Olshansk", "followers_url": "https://api.github.com/users/Olshansk/followers", "following_url": "https://api.github.com/users/Olshansk/following{/other_user}", "gists_url": "https://api.github.com/users/Olshansk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Olshansk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Olshansk/subscriptions", "organizations_url": "https://api.github.com/users/Olshansk/orgs", "repos_url": "https://api.github.com/users/Olshansk/repos", "events_url": "https://api.github.com/users/Olshansk/events{/privacy}", "received_events_url": "https://api.github.com/users/Olshansk/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-27T20:37:14Z", "updated_at": "2018-05-27T20:37:14Z", "author_association": "NONE", "body_html": "<p>I have very similar configs to what @yordun specified, but the following step keeps failing:</p>\n<blockquote>\n<p>[ 97%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/cudnn/Types.cpp.o<br>\nwarning: unknown warning option '-Wno-invalid-partial-specialization' [-Wunknown-warning-option]<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n1 warning generated.<br>\n[ 97%] Linking CXX shared library ../lib/libcaffe2_gpu.dylib<br>\nld: can't map file, errno=22 file '/Library/Frameworks/cuda.framework' for architecture x86_64<br>\nclang: error: linker command failed with exit code 1 (use -v to see invocation)<br>\nmake[2]: *** [lib/libcaffe2_gpu.1.dylib] Error 1<br>\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack caffe2 nanopb libshm THD'</p>\n</blockquote>\n<p>I've confirmed that the directory <em>/Library/Frameworks/cuda.framework</em> exists, but am not sure why this is happening. Would appreciate any advice.</p>", "body_text": "I have very similar configs to what @yordun specified, but the following step keeps failing:\n\n[ 97%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/cudnn/Types.cpp.o\nwarning: unknown warning option '-Wno-invalid-partial-specialization' [-Wunknown-warning-option]\n1 warning generated.\n1 warning generated.\n1 warning generated.\n1 warning generated.\n1 warning generated.\n1 warning generated.\n1 warning generated.\n1 warning generated.\n[ 97%] Linking CXX shared library ../lib/libcaffe2_gpu.dylib\nld: can't map file, errno=22 file '/Library/Frameworks/cuda.framework' for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [lib/libcaffe2_gpu.1.dylib] Error 1\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack caffe2 nanopb libshm THD'\n\nI've confirmed that the directory /Library/Frameworks/cuda.framework exists, but am not sure why this is happening. Would appreciate any advice.", "body": "I have very similar configs to what @yordun specified, but the following step keeps failing:\r\n\r\n> [ 97%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/cudnn/Types.cpp.o\r\n> warning: unknown warning option '-Wno-invalid-partial-specialization' [-Wunknown-warning-option]\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> 1 warning generated.\r\n> [ 97%] Linking CXX shared library ../lib/libcaffe2_gpu.dylib\r\n> ld: can't map file, errno=22 file '/Library/Frameworks/cuda.framework' for architecture x86_64\r\n> clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n> make[2]: *** [lib/libcaffe2_gpu.1.dylib] Error 1\r\n> make[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\r\n> make: *** [all] Error 2\r\n> Failed to run 'bash tools/build_pytorch_libs.sh --with-cuda --with-nnpack caffe2 nanopb libshm THD'\r\n\r\nI've confirmed that the directory _/Library/Frameworks/cuda.framework_ exists, but am not sure why this is happening. Would appreciate any advice."}