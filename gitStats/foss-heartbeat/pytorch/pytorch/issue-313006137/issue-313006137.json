{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6472", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6472/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6472/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6472/events", "html_url": "https://github.com/pytorch/pytorch/issues/6472", "id": 313006137, "node_id": "MDU6SXNzdWUzMTMwMDYxMzc=", "number": 6472, "title": "Advanced indexing doesn't validate negative indexes (regression)", "user": {"login": "wranai", "id": 1048544, "node_id": "MDQ6VXNlcjEwNDg1NDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1048544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wranai", "html_url": "https://github.com/wranai", "followers_url": "https://api.github.com/users/wranai/followers", "following_url": "https://api.github.com/users/wranai/following{/other_user}", "gists_url": "https://api.github.com/users/wranai/gists{/gist_id}", "starred_url": "https://api.github.com/users/wranai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wranai/subscriptions", "organizations_url": "https://api.github.com/users/wranai/orgs", "repos_url": "https://api.github.com/users/wranai/repos", "events_url": "https://api.github.com/users/wranai/events{/privacy}", "received_events_url": "https://api.github.com/users/wranai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 897288569, "node_id": "MDU6TGFiZWw4OTcyODg1Njk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/pytorch", "name": "pytorch", "color": "f05732", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-04-10T16:49:18Z", "updated_at": "2018-04-11T16:12:36Z", "closed_at": "2018-04-11T16:12:36Z", "author_association": "NONE", "body_html": "<p>Minimum example:</p>\n<pre><code>torch.zeros(10)[torch.LongTensor([-11])] # returns bogus result on 0.4, error on 0.3.1\n</code></pre>\n<p>These all fail as they should:</p>\n<pre><code>torch.zeros(10)[10]\ntorch.zeros(10)[-11]\ntorch.zeros(10)[torch.LongTensor([10])]\n</code></pre>\n<p>Works correctly on 0.3.1.post2.<br>\nDoesn't work on 0.4.0a0+df039e2.</p>\n<p>Compiled with:</p>\n<pre><code>\u27eb gcc-5 -v\nUsing built-in specs.\nCOLLECT_GCC=gcc-5\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.5.0-8ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 5.5.0 20171010 (Ubuntu 5.5.0-8ubuntu1) \n\n</code></pre>", "body_text": "Minimum example:\ntorch.zeros(10)[torch.LongTensor([-11])] # returns bogus result on 0.4, error on 0.3.1\n\nThese all fail as they should:\ntorch.zeros(10)[10]\ntorch.zeros(10)[-11]\ntorch.zeros(10)[torch.LongTensor([10])]\n\nWorks correctly on 0.3.1.post2.\nDoesn't work on 0.4.0a0+df039e2.\nCompiled with:\n\u27eb gcc-5 -v\nUsing built-in specs.\nCOLLECT_GCC=gcc-5\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.5.0-8ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 5.5.0 20171010 (Ubuntu 5.5.0-8ubuntu1)", "body": "Minimum example:\r\n\r\n    torch.zeros(10)[torch.LongTensor([-11])] # returns bogus result on 0.4, error on 0.3.1\r\n\r\nThese all fail as they should:\r\n\r\n    torch.zeros(10)[10]\r\n    torch.zeros(10)[-11]\r\n    torch.zeros(10)[torch.LongTensor([10])]\r\n\r\nWorks correctly on 0.3.1.post2.\r\nDoesn't work on 0.4.0a0+df039e2.\r\n\r\nCompiled with:\r\n```\r\n\u27eb gcc-5 -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc-5\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/5/lto-wrapper\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 5.5.0-8ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-5/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-5 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-5-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-5-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-5-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 5.5.0 20171010 (Ubuntu 5.5.0-8ubuntu1) \r\n\r\n```"}