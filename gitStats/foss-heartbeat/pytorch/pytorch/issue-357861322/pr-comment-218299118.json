{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/218299118", "pull_request_review_id": 156202446, "id": 218299118, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxODI5OTExOA==", "diff_hunk": "@@ -4,9 +4,15 @@ Major functionality lives in `serialized_test_util.py`\n \n ## How to use\n 1. Extend the test case class from `SerializedTestCase`\n-2. Change the `@given` decorator to `@given_and_seeded`. This runs a seeded hypothesis test instance which will generate outputs if desired in addition to the unseeded hypothesis tests normally run.\n-3. Change a call to `unittest.main()` in `__main__` to `testWithArgs`.\n-4.  Run your test `python caffe2/python/operator_test/my_test.py -g` to generate serialized outputs. They will live in `caffe2/python/serialized_test/data/operator_test`, one folder per test function\n-5. Thereafter, runs of the test without the flag will load serialized outputs and gradient operators for comparison against the seeded run. If for any reason the seeded run's inputs are different (this can happen with different hypothesis versions or different setups), then we'll run the serialized inputs through the serialized operator to get a runtime output for comparison. \n+2. Change the `@given` decorator to `@serialized_test_util.given`. This runs a seeded hypothesis test instance which will generate outputs if desired in addition to the unseeded hypothesis tests normally run.\n+3. [Optional] Add (or change a call of `unittest.main()` to) `testWithArgs` in `__main__`. This allows you to generate outputs using `python caffe2/python/operator_test/my_test.py -G`.\n+4.  Run your test `python -m pytest caffe2/python/operator_test/my_test.py -G` to generate serialized outputs. They will live in `caffe2/python/serialized_test/data/operator_test`, one npz file per test function. Use `-O` to change the output directory.\n+5. Thereafter, runs of the test without the flag will load serialized outputs and gradient operators for comparison against the seeded run. The comparison is done as long as you have a call to assertReferenceChecks. If for any reason the seeded run's inputs are different (this can happen with different hypothesis versions or different setups), then we'll run the serialized inputs through the serialized operator to get a runtime output for comparison. ", "path": "caffe2/python/serialized_test/README.md", "position": 11, "original_position": 11, "commit_id": "686dd2ed35280b4b1a2819c38746cee537445d55", "original_commit_id": "686dd2ed35280b4b1a2819c38746cee537445d55", "user": {"login": "houseroad", "id": 30275821, "node_id": "MDQ6VXNlcjMwMjc1ODIx", "avatar_url": "https://avatars0.githubusercontent.com/u/30275821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houseroad", "html_url": "https://github.com/houseroad", "followers_url": "https://api.github.com/users/houseroad/followers", "following_url": "https://api.github.com/users/houseroad/following{/other_user}", "gists_url": "https://api.github.com/users/houseroad/gists{/gist_id}", "starred_url": "https://api.github.com/users/houseroad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houseroad/subscriptions", "organizations_url": "https://api.github.com/users/houseroad/orgs", "repos_url": "https://api.github.com/users/houseroad/repos", "events_url": "https://api.github.com/users/houseroad/events{/privacy}", "received_events_url": "https://api.github.com/users/houseroad/received_events", "type": "User", "site_admin": false}, "body": "Would you like to mention that we have zipped the test cases of one operator into one zip?", "created_at": "2018-09-18T04:59:59Z", "updated_at": "2018-11-23T15:51:33Z", "html_url": "https://github.com/pytorch/pytorch/pull/11350#discussion_r218299118", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/11350", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/218299118"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/11350#discussion_r218299118"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/11350"}}, "body_html": "<p>Would you like to mention that we have zipped the test cases of one operator into one zip?</p>", "body_text": "Would you like to mention that we have zipped the test cases of one operator into one zip?"}