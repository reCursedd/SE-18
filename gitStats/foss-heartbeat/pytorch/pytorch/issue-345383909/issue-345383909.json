{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9961", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9961/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9961/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9961/events", "html_url": "https://github.com/pytorch/pytorch/pull/9961", "id": 345383909, "node_id": "MDExOlB1bGxSZXF1ZXN0MjA0NTUzNDg1", "number": 9961, "title": "Move grid sampler to ATen", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-27T22:28:26Z", "updated_at": "2018-11-23T15:48:27Z", "closed_at": "2018-08-01T14:55:49Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/9961", "html_url": "https://github.com/pytorch/pytorch/pull/9961", "diff_url": "https://github.com/pytorch/pytorch/pull/9961.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/9961.patch"}, "body_html": "<p>Spatial version benchmark</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>CPUFloat THNN</th>\n<th>CPUFloat ATen</th>\n<th>CPUDouble THNN</th>\n<th>CPUDouble ATen</th>\n<th>CUDAHalf THNN</th>\n<th>CUDAHalf ATen</th>\n<th>CUDAFloat THNN</th>\n<th>CUDAFloat ATen</th>\n<th>CUDADouble THNN</th>\n<th>CUDADouble ATen</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>[1024x1x28x28] zero pad</td>\n<td>2.19281888s</td>\n<td>0.21280479s</td>\n<td>2.52922535s</td>\n<td>0.23944831s</td>\n<td>0.17494774s</td>\n<td>0.06242800s</td>\n<td>0.31270599s</td>\n<td>0.03706479s</td>\n<td>0.40542483s</td>\n<td>0.07391024s</td>\n</tr>\n<tr>\n<td>[1024x1x28x28] border pad</td>\n<td>3.04329610s</td>\n<td>0.24705672s</td>\n<td>2.29205394s</td>\n<td>0.22336411s</td>\n<td>0.17980361s</td>\n<td>0.06212497s</td>\n<td>0.31415701s</td>\n<td>0.03847790s</td>\n<td>0.43020391s</td>\n<td>0.07540464s</td>\n</tr>\n<tr>\n<td>[32x3x244x244] zero pad</td>\n<td>18.29301333s</td>\n<td>2.18566656s</td>\n<td>19.01662397s</td>\n<td>3.51552224s</td>\n<td>1.72487235s</td>\n<td>0.28933954s</td>\n<td>2.02466702s</td>\n<td>0.18178749s</td>\n<td>2.63671613s</td>\n<td>0.41391206s</td>\n</tr>\n<tr>\n<td>[32x3x244x244] border pad</td>\n<td>18.72205329s</td>\n<td>2.02600884s</td>\n<td>20.13017297s</td>\n<td>3.25979590s</td>\n<td>1.96455693s</td>\n<td>0.33070564s</td>\n<td>2.18666625s</td>\n<td>0.19546938s</td>\n<td>2.91268897s</td>\n<td>0.38465047s</td>\n</tr>\n</tbody>\n</table>\n<p>For <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"343483817\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9702\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9702/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9702\">#9702</a></p>\n<p>basics:</p>\n<ul>\n<li>grid tensors have dimensions <code>[N, H, W, 2]</code> (or <code>[N, D, H, W, 3]</code> for 3d).</li>\n<li>input/output tensors have dimensions <code>[N, C, H, W]</code> (or <code>[N, C, D, H ,W]</code> for 3d)</li>\n<li>grid sampler maps <code>input([N, C, inp_H, inp_W]), grid([N, H, W, 2])</code> to <code>output([N, C, H, W])</code> (3d case is similar).</li>\n</ul>\n<p>variable naming:</p>\n<ul>\n<li><code>tensor_sH</code> means the stride of <code>tensor</code> at the dimension of <code>H</code>.</li>\n<li><code>tensor_ptr_NCH</code> is a data pointer that always points to the beginning of the <code>tensor[n][c][h]</code> slice in the loop.</li>\n</ul>", "body_text": "Spatial version benchmark\n\n\n\n\nCPUFloat THNN\nCPUFloat ATen\nCPUDouble THNN\nCPUDouble ATen\nCUDAHalf THNN\nCUDAHalf ATen\nCUDAFloat THNN\nCUDAFloat ATen\nCUDADouble THNN\nCUDADouble ATen\n\n\n\n\n[1024x1x28x28] zero pad\n2.19281888s\n0.21280479s\n2.52922535s\n0.23944831s\n0.17494774s\n0.06242800s\n0.31270599s\n0.03706479s\n0.40542483s\n0.07391024s\n\n\n[1024x1x28x28] border pad\n3.04329610s\n0.24705672s\n2.29205394s\n0.22336411s\n0.17980361s\n0.06212497s\n0.31415701s\n0.03847790s\n0.43020391s\n0.07540464s\n\n\n[32x3x244x244] zero pad\n18.29301333s\n2.18566656s\n19.01662397s\n3.51552224s\n1.72487235s\n0.28933954s\n2.02466702s\n0.18178749s\n2.63671613s\n0.41391206s\n\n\n[32x3x244x244] border pad\n18.72205329s\n2.02600884s\n20.13017297s\n3.25979590s\n1.96455693s\n0.33070564s\n2.18666625s\n0.19546938s\n2.91268897s\n0.38465047s\n\n\n\nFor #9702\nbasics:\n\ngrid tensors have dimensions [N, H, W, 2] (or [N, D, H, W, 3] for 3d).\ninput/output tensors have dimensions [N, C, H, W] (or [N, C, D, H ,W] for 3d)\ngrid sampler maps input([N, C, inp_H, inp_W]), grid([N, H, W, 2]) to output([N, C, H, W]) (3d case is similar).\n\nvariable naming:\n\ntensor_sH means the stride of tensor at the dimension of H.\ntensor_ptr_NCH is a data pointer that always points to the beginning of the tensor[n][c][h] slice in the loop.", "body": "Spatial version benchmark\r\n\r\n|                           | CPUFloat THNN | CPUFloat ATen | CPUDouble THNN | CPUDouble ATen | CUDAHalf THNN | CUDAHalf ATen | CUDAFloat THNN | CUDAFloat ATen | CUDADouble THNN | CUDADouble ATen |\r\n|---------------------------|---------------|---------------|----------------|----------------|---------------|---------------|----------------|----------------|-----------------|-----------------|\r\n| [1024x1x28x28] zero pad   | 2.19281888s   | 0.21280479s   | 2.52922535s    | 0.23944831s    | 0.17494774s   | 0.06242800s   | 0.31270599s    | 0.03706479s    | 0.40542483s     | 0.07391024s     |\r\n| [1024x1x28x28] border pad | 3.04329610s   | 0.24705672s   | 2.29205394s    | 0.22336411s    | 0.17980361s   | 0.06212497s   | 0.31415701s    | 0.03847790s    | 0.43020391s     | 0.07540464s     |\r\n| [32x3x244x244] zero pad   | 18.29301333s  | 2.18566656s   | 19.01662397s   | 3.51552224s    | 1.72487235s   | 0.28933954s   | 2.02466702s    | 0.18178749s    | 2.63671613s     | 0.41391206s     |\r\n| [32x3x244x244] border pad | 18.72205329s  | 2.02600884s   | 20.13017297s   | 3.25979590s    | 1.96455693s   | 0.33070564s   | 2.18666625s    | 0.19546938s    | 2.91268897s     | 0.38465047s     |\r\n\r\n\r\nFor #9702 \r\n\r\nbasics: \r\n+ grid tensors have dimensions `[N, H, W, 2]` (or `[N, D, H, W, 3]` for 3d).\r\n+ input/output tensors have dimensions `[N, C, H, W]` (or `[N, C, D, H ,W]` for 3d)\r\n+ grid sampler maps `input([N, C, inp_H, inp_W]), grid([N, H, W, 2])` to `output([N, C, H, W])` (3d case is similar).\r\n\r\nvariable naming:\r\n+ `tensor_sH` means the stride of `tensor` at the dimension of `H`.\r\n+ `tensor_ptr_NCH` is a data pointer that always points to the beginning of the `tensor[n][c][h]` slice in the loop."}