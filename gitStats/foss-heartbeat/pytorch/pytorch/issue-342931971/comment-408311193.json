{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/408311193", "html_url": "https://github.com/pytorch/pytorch/pull/9610#issuecomment-408311193", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9610", "id": 408311193, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODMxMTE5Mw==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-27T04:55:50Z", "updated_at": "2018-07-27T04:55:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Code organization question: in this PR, you moved C++17.h from caffe2 folder to aten folder. But isn't this file supposed to be shared between both Caffe2 and PyTorch?</p>\n<p>It's inappropriate to put C++17.h in ATen directly, because ATen is too heavy a dependency for us to put in mobile. It's best for us to have some directory which doesn't include anything outside of it, which is OK to ship to mobile (and we promise to keep an eye on binary sizes here). This directory should be depended on by both ATen and Caffe2, and in the near future Tensor and Storage classes will also live in this directory.</p>", "body_text": "Code organization question: in this PR, you moved C++17.h from caffe2 folder to aten folder. But isn't this file supposed to be shared between both Caffe2 and PyTorch?\nIt's inappropriate to put C++17.h in ATen directly, because ATen is too heavy a dependency for us to put in mobile. It's best for us to have some directory which doesn't include anything outside of it, which is OK to ship to mobile (and we promise to keep an eye on binary sizes here). This directory should be depended on by both ATen and Caffe2, and in the near future Tensor and Storage classes will also live in this directory.", "body": "Code organization question: in this PR, you moved C++17.h from caffe2 folder to aten folder. But isn't this file supposed to be shared between both Caffe2 and PyTorch?\r\n\r\nIt's inappropriate to put C++17.h in ATen directly, because ATen is too heavy a dependency for us to put in mobile. It's best for us to have some directory which doesn't include anything outside of it, which is OK to ship to mobile (and we promise to keep an eye on binary sizes here). This directory should be depended on by both ATen and Caffe2, and in the near future Tensor and Storage classes will also live in this directory."}