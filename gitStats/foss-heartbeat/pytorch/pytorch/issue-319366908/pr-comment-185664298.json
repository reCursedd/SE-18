{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/185664298", "pull_request_review_id": 117099687, "id": 185664298, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NTY2NDI5OA==", "diff_hunk": "@@ -1,215 +1,486 @@\n-# Find the MKL libraries\n+# - Find INTEL MKL library\n #\n-# Options:\n+# This module finds the Intel Mkl libraries.\n #\n-#   USE_IDEEP                         : use IDEEP interface\n-#   USE_MKLML                         : use MKLML interface\n-#   MKLML_USE_SINGLE_DYNAMIC_LIBRARY  : use single dynamic library interface\n-#   MKLML_USE_STATIC_LIBS             : use static libraries\n-#   MKLML_MULTI_THREADED              : use multi-threading\n-#\n-# This module defines the following variables:\n-#\n-#   MKL_FOUND            : True mkl is found\n-#   MKL_INCLUDE_DIR      : include directory\n-#   MKL_LIBRARIES        : the libraries to link against.\n-\n-# ---[ Options\n-include(CMakeDependentOption)\n-\n-if(USE_IDEEP)\n-  set(IDEEP_ROOT \"${PROJECT_SOURCE_DIR}/third_party/ideep\")\n-  set(MKLDNN_ROOT \"${IDEEP_ROOT}/mkl-dnn\")\n-  set(__ideep_looked_for IDEEP_ROOT)\n-\n-  find_path(IDEEP_INCLUDE_DIR ideep.hpp PATHS ${IDEEP_ROOT} PATH_SUFFIXES include)\n-  find_path(MKLDNN_INCLUDE_DIR mkldnn.hpp mkldnn.h PATHS ${MKLDNN_ROOT} PATH_SUFFIXES include)\n-  if (NOT MKLDNN_INCLUDE_DIR)\n-    execute_process(COMMAND git submodule update --init mkl-dnn WORKING_DIRECTORY ${IDEEP_ROOT})\n+# This module sets the following variables:\n+#  MKL_FOUND - set to true if a library implementing the CBLAS interface is found\n+#  MKL_VERSION - best guess\n+#  MKL_INCLUDE_DIR - path to include dir.\n+#  MKL_LIBRARIES - list of libraries for base mkl\n+#  MKL_LAPACK_LIBRARIES - list of libraries to add for lapack\n+#  MKL_SCALAPACK_LIBRARIES - list of libraries to add for scalapack\n+#  MKL_SOLVER_LIBRARIES - list of libraries to add for the solvers\n+#  MKL_CDFT_LIBRARIES - list of libraries to add for the solvers\n+\n+# ---[ Special code for IDEEP or MKLML flows\n+if(USE_MKL_IDEEP_OR_MKLML)\n+  if(USE_IDEEP)\n+    set(IDEEP_ROOT \"${PROJECT_SOURCE_DIR}/third_party/ideep\")\n+    set(MKLDNN_ROOT \"${IDEEP_ROOT}/mkl-dnn\")", "path": "cmake/Modules/FindMKL.cmake", "position": 45, "original_position": 45, "commit_id": "138a5824085b6fbf32b717fff8797798ea681764", "original_commit_id": "07c8a3942edfc10d0b13145e038ce6a9cfe7bf61", "user": {"login": "yinghai", "id": 1100089, "node_id": "MDQ6VXNlcjExMDAwODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1100089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yinghai", "html_url": "https://github.com/yinghai", "followers_url": "https://api.github.com/users/yinghai/followers", "following_url": "https://api.github.com/users/yinghai/following{/other_user}", "gists_url": "https://api.github.com/users/yinghai/gists{/gist_id}", "starred_url": "https://api.github.com/users/yinghai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yinghai/subscriptions", "organizations_url": "https://api.github.com/users/yinghai/orgs", "repos_url": "https://api.github.com/users/yinghai/repos", "events_url": "https://api.github.com/users/yinghai/events{/privacy}", "received_events_url": "https://api.github.com/users/yinghai/received_events", "type": "User", "site_admin": false}, "body": "Looks like there is already `FindMKLDNN.cmake` from Pytorch. Maybe check if this is set? ", "created_at": "2018-05-02T23:09:02Z", "updated_at": "2018-11-23T15:43:33Z", "html_url": "https://github.com/pytorch/pytorch/pull/7163#discussion_r185664298", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/7163", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/185664298"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/7163#discussion_r185664298"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/7163"}}, "body_html": "<p>Looks like there is already <code>FindMKLDNN.cmake</code> from Pytorch. Maybe check if this is set?</p>", "body_text": "Looks like there is already FindMKLDNN.cmake from Pytorch. Maybe check if this is set?"}