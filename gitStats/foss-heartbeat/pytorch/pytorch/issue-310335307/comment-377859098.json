{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/377859098", "html_url": "https://github.com/pytorch/pytorch/pull/6172#issuecomment-377859098", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6172", "id": 377859098, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzg1OTA5OA==", "user": {"login": "fehiepsi", "id": 4736342, "node_id": "MDQ6VXNlcjQ3MzYzNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/4736342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fehiepsi", "html_url": "https://github.com/fehiepsi", "followers_url": "https://api.github.com/users/fehiepsi/followers", "following_url": "https://api.github.com/users/fehiepsi/following{/other_user}", "gists_url": "https://api.github.com/users/fehiepsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/fehiepsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fehiepsi/subscriptions", "organizations_url": "https://api.github.com/users/fehiepsi/orgs", "repos_url": "https://api.github.com/users/fehiepsi/repos", "events_url": "https://api.github.com/users/fehiepsi/events{/privacy}", "received_events_url": "https://api.github.com/users/fehiepsi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-02T05:36:25Z", "updated_at": "2018-04-02T05:43:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=648532\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fritzo\">@fritzo</a> Assume <code>m = [x1, x2, ..., xn]</code> where <code>x1</code> is a row vector. Then <code>(m @ m.t()).diag() = [x1.x1t, x2.x2t, ... xn.xnt]</code>. I guess you concerned about the batch version of this formula? I will test it in that case.</p>\n<p>Sorry, I get your point. We should take an additional sum (over -2 dimension) as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23639302\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vishwakftw\">@vishwakftw</a> did (I forgot that we are calculating trace).</p>", "body_text": "@fritzo Assume m = [x1, x2, ..., xn] where x1 is a row vector. Then (m @ m.t()).diag() = [x1.x1t, x2.x2t, ... xn.xnt]. I guess you concerned about the batch version of this formula? I will test it in that case.\nSorry, I get your point. We should take an additional sum (over -2 dimension) as @vishwakftw did (I forgot that we are calculating trace).", "body": "@fritzo Assume `m = [x1, x2, ..., xn]` where `x1` is a row vector. Then `(m @ m.t()).diag() = [x1.x1t, x2.x2t, ... xn.xnt]`. I guess you concerned about the batch version of this formula? I will test it in that case.\r\n\r\nSorry, I get your point. We should take an additional sum (over -2 dimension) as @vishwakftw did (I forgot that we are calculating trace)."}