{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8150", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8150/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8150/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8150/events", "html_url": "https://github.com/pytorch/pytorch/issues/8150", "id": 329294378, "node_id": "MDU6SXNzdWUzMjkyOTQzNzg=", "number": 8150, "title": "Cant Build On Windows-Cannot Open file ``tbb.lib\"", "user": {"login": "magicwyzh", "id": 19240414, "node_id": "MDQ6VXNlcjE5MjQwNDE0", "avatar_url": "https://avatars1.githubusercontent.com/u/19240414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magicwyzh", "html_url": "https://github.com/magicwyzh", "followers_url": "https://api.github.com/users/magicwyzh/followers", "following_url": "https://api.github.com/users/magicwyzh/following{/other_user}", "gists_url": "https://api.github.com/users/magicwyzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/magicwyzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magicwyzh/subscriptions", "organizations_url": "https://api.github.com/users/magicwyzh/orgs", "repos_url": "https://api.github.com/users/magicwyzh/repos", "events_url": "https://api.github.com/users/magicwyzh/events{/privacy}", "received_events_url": "https://api.github.com/users/magicwyzh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-06-05T04:03:12Z", "updated_at": "2018-06-26T16:38:25Z", "closed_at": "2018-06-26T16:38:25Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>Hi,<br>\nI want to build pytorch from source on windows. I follow the step in the official github site, and all required dependencies are installed.</p>\n<p>However, when i run ``python setup.py build\", i meet the following error:</p>\n<p>LINK: fatal error LNK1104: cannot open file `tbb.lib\u2019 [C:\\Users\\yizhiw\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]<br>\nProvide a short description.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/19240414/40954495-6945efac-68b7-11e8-9736-b305c9418c7d.png\"><img src=\"https://user-images.githubusercontent.com/19240414/40954495-6945efac-68b7-11e8-9736-b305c9418c7d.png\" alt=\"image 1\" style=\"max-width:100%;\"></a></p>\n<p>I found tbb.lib is from intel SW tools, so I also installed it in my computer. But it seems it doesn't work...</p>\n<p>My OS is win10, and the visual studio 2017 professional version is installed.</p>\n<p>A simple environment setting script I used is as below:<br>\n`set CMAKE_INCLUDE_PATH=C:\\Users\\yizhiw\\pytorch\\mkl\\include</p>\n<p>set MAGMA_HOME=C:\\Users\\yizhiw\\pytorch\\magma<br>\nset CMAKE_PREFIX_PATH=C:\\Users\\yizhiw\\AppData\\Local\\Continuum\\anaconda3<br>\nset VS150COMNTOOLS=C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build<br>\nset CMAKE_GENERATOR=Visual Studio 15 2017 Win64</p>\n<p>set DISTUTILS_USE_SDK=1<br>\nset MKLProductDIR=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows<br>\nset LIB=%MKLProductDir%\\mkl\\lib\\intel64_win;%LIB%;<br>\nset LIB=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIB%<br>\nset LD_LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LD_LIBRARY_PATH%<br>\nset LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIBRARY_PATH%<br>\nset CMAKE_INCLUDE_PATH=%MKLProductDIR%\\mkl\\include</p>\n<p>REM The following line is needed for Python 2.7, but the support for it is very experimental.<br>\nset MSSdk=1<br>\ncall \"%VS150COMNTOOLS%\\vcvarsall.bat\" x64 -vcvars_ver=14.11<br>\n`</p>\n<p>Please help me,<br>\nThanks a lot!!</p>", "body_text": "Issue description\nHi,\nI want to build pytorch from source on windows. I follow the step in the official github site, and all required dependencies are installed.\nHowever, when i run ``python setup.py build\", i meet the following error:\nLINK: fatal error LNK1104: cannot open file `tbb.lib\u2019 [C:\\Users\\yizhiw\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]\nProvide a short description.\n\nI found tbb.lib is from intel SW tools, so I also installed it in my computer. But it seems it doesn't work...\nMy OS is win10, and the visual studio 2017 professional version is installed.\nA simple environment setting script I used is as below:\n`set CMAKE_INCLUDE_PATH=C:\\Users\\yizhiw\\pytorch\\mkl\\include\nset MAGMA_HOME=C:\\Users\\yizhiw\\pytorch\\magma\nset CMAKE_PREFIX_PATH=C:\\Users\\yizhiw\\AppData\\Local\\Continuum\\anaconda3\nset VS150COMNTOOLS=C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build\nset CMAKE_GENERATOR=Visual Studio 15 2017 Win64\nset DISTUTILS_USE_SDK=1\nset MKLProductDIR=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\nset LIB=%MKLProductDir%\\mkl\\lib\\intel64_win;%LIB%;\nset LIB=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIB%\nset LD_LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LD_LIBRARY_PATH%\nset LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIBRARY_PATH%\nset CMAKE_INCLUDE_PATH=%MKLProductDIR%\\mkl\\include\nREM The following line is needed for Python 2.7, but the support for it is very experimental.\nset MSSdk=1\ncall \"%VS150COMNTOOLS%\\vcvarsall.bat\" x64 -vcvars_ver=14.11\n`\nPlease help me,\nThanks a lot!!", "body": "\r\n## Issue description\r\nHi,\r\nI want to build pytorch from source on windows. I follow the step in the official github site, and all required dependencies are installed.\r\n\r\nHowever, when i run ``python setup.py build\", i meet the following error:\r\n\r\nLINK: fatal error LNK1104: cannot open file `tbb.lib\u2019 [C:\\Users\\yizhiw\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]\r\nProvide a short description.\r\n![image 1](https://user-images.githubusercontent.com/19240414/40954495-6945efac-68b7-11e8-9736-b305c9418c7d.png)\r\n\r\nI found tbb.lib is from intel SW tools, so I also installed it in my computer. But it seems it doesn't work...\r\n\r\nMy OS is win10, and the visual studio 2017 professional version is installed.\r\n\r\nA simple environment setting script I used is as below:\r\n`set CMAKE_INCLUDE_PATH=C:\\Users\\yizhiw\\pytorch\\mkl\\include\r\n\r\nset MAGMA_HOME=C:\\Users\\yizhiw\\pytorch\\magma\r\nset CMAKE_PREFIX_PATH=C:\\Users\\yizhiw\\AppData\\Local\\Continuum\\anaconda3\r\nset VS150COMNTOOLS=C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Auxiliary\\Build\r\nset CMAKE_GENERATOR=Visual Studio 15 2017 Win64\r\n\r\nset DISTUTILS_USE_SDK=1\r\nset MKLProductDIR=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\r\nset LIB=%MKLProductDir%\\mkl\\lib\\intel64_win;%LIB%;\r\nset LIB=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIB%\r\nset LD_LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LD_LIBRARY_PATH%\r\nset LIBRARY_PATH=C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64\\vc14;%LIBRARY_PATH%\r\nset CMAKE_INCLUDE_PATH=%MKLProductDIR%\\mkl\\include\r\n\r\nREM The following line is needed for Python 2.7, but the support for it is very experimental.\r\nset MSSdk=1\r\ncall \"%VS150COMNTOOLS%\\vcvarsall.bat\" x64 -vcvars_ver=14.11\r\n`\r\n\r\nPlease help me,\r\nThanks a lot!!"}