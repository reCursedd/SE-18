{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/408302270", "html_url": "https://github.com/pytorch/pytorch/issues/3665#issuecomment-408302270", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3665", "id": 408302270, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODMwMjI3MA==", "user": {"login": "Stonesjtu", "id": 4556044, "node_id": "MDQ6VXNlcjQ1NTYwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4556044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stonesjtu", "html_url": "https://github.com/Stonesjtu", "followers_url": "https://api.github.com/users/Stonesjtu/followers", "following_url": "https://api.github.com/users/Stonesjtu/following{/other_user}", "gists_url": "https://api.github.com/users/Stonesjtu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stonesjtu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stonesjtu/subscriptions", "organizations_url": "https://api.github.com/users/Stonesjtu/orgs", "repos_url": "https://api.github.com/users/Stonesjtu/repos", "events_url": "https://api.github.com/users/Stonesjtu/events{/privacy}", "received_events_url": "https://api.github.com/users/Stonesjtu/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-27T03:39:57Z", "updated_at": "2018-07-27T03:39:57Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I want to share some of my recent logs on the memory leaking issues.</p>\n<p>testing scipts:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n<span class=\"pl-k\">import</span> torch.nn <span class=\"pl-k\">as</span> nn\n\n<span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>torch-version: <span class=\"pl-pds\">'</span></span>, torch.<span class=\"pl-c1\">__version__</span>)\n<span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cudnn version: <span class=\"pl-pds\">'</span></span>, torch.backends.cudnn.version())\nlstm <span class=\"pl-k\">=</span> nn.LSTM(<span class=\"pl-c1\">200</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-v\">batch_first</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>).cuda()\n\n\nfake_data <span class=\"pl-k\">=</span> torch.Tensor(<span class=\"pl-c1\">96</span>, <span class=\"pl-c1\">200</span>, <span class=\"pl-c1\">200</span>).cuda()\n\n\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">test</span>():\n    <span class=\"pl-k\">import</span> os\n    <span class=\"pl-k\">import</span> psutil\n    pid <span class=\"pl-k\">=</span> os.getpid()\n    py <span class=\"pl-k\">=</span> psutil.Process(pid)\n    <span class=\"pl-k\">for</span> i <span class=\"pl-k\">in</span> <span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">2000</span>):\n        loss <span class=\"pl-k\">=</span> lstm(fake_data)[<span class=\"pl-c1\">0</span>].mean()\n        loss.backward()\n        <span class=\"pl-k\">if</span> i <span class=\"pl-k\">%</span> <span class=\"pl-c1\">100</span> <span class=\"pl-k\">==</span> <span class=\"pl-c1\">0</span>:\n            <span class=\"pl-k\">import</span> gc\n            gc.collect()\n            memoryUse <span class=\"pl-k\">=</span> py.memory_info()[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>.<span class=\"pl-k\">**</span><span class=\"pl-c1\">20</span>  <span class=\"pl-c\"><span class=\"pl-c\">#</span> memory use in MB...I think</span>\n            <span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>iteration <span class=\"pl-c1\">{}</span>: memory use: <span class=\"pl-c1\">{}</span>MB<span class=\"pl-pds\">'</span></span>.format(i, memoryUse))\n\n\ntest()\n\ntorch.backends.cudnn.enabled <span class=\"pl-k\">=</span> <span class=\"pl-c1\">False</span>\n<span class=\"pl-c1\">print</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>With cudnn disabled<span class=\"pl-pds\">'</span></span>)\ntest()</pre></div>\n<h2>logs:</h2>\n<h3>Driver=390</h3>\n<pre><code>torch-version:  0.4.0\ncudnn version:  7102\niteration 0: memory use: 1992.01953125MB\niteration 100: memory use: 1992.1953125MB\niteration 200: memory use: 1992.1953125MB\niteration 300: memory use: 1992.3125MB\niteration 400: memory use: 1992.34375MB\niteration 500: memory use: 1992.53125MB\niteration 600: memory use: 1992.55859375MB\niteration 700: memory use: 1992.55859375MB\niteration 800: memory use: 1992.6328125MB\niteration 900: memory use: 1992.6328125MB\niteration 1000: memory use: 1992.6328125MB\niteration 1100: memory use: 1992.72265625MB\niteration 1200: memory use: 1992.72265625MB\niteration 1300: memory use: 1992.81640625MB\niteration 1400: memory use: 1992.81640625MB\niteration 1500: memory use: 1992.890625MB\niteration 1600: memory use: 1992.890625MB\niteration 1700: memory use: 1992.9453125MB\niteration 1800: memory use: 1992.9453125MB\nWith cudnn disabled\niteration 0: memory use: 1997.7734375MB\niteration 100: memory use: 2000.4375MB\niteration 200: memory use: 2000.4375MB\niteration 300: memory use: 2000.4375MB\niteration 400: memory use: 2000.4375MB\niteration 500: memory use: 2000.4375MB\niteration 600: memory use: 2000.44140625MB\niteration 700: memory use: 2000.44140625MB\niteration 800: memory use: 2000.4453125MB\niteration 900: memory use: 2000.453125MB\niteration 1000: memory use: 2000.453125MB\niteration 1100: memory use: 2000.46484375MB\niteration 1200: memory use: 2000.46875MB\niteration 1300: memory use: 2000.4765625MB\niteration 1400: memory use: 2000.484375MB\niteration 1500: memory use: 2000.48828125MB\niteration 1600: memory use: 2000.5078125MB\niteration 1700: memory use: 2000.5078125MB\niteration 1800: memory use: 2000.5078125MB\n\n</code></pre>\n<h3>Driver=375.26</h3>\n<pre><code>torch-version:  0.4.0\ncudnn version:  7102\niteration 0: memory use: 2059.859375MB\niteration 100: memory use: 2060.09375MB\niteration 200: memory use: 2060.1328125MB\niteration 300: memory use: 2060.16796875MB\niteration 400: memory use: 2060.203125MB\niteration 500: memory use: 2060.2421875MB\niteration 600: memory use: 2060.2734375MB\niteration 700: memory use: 2060.3125MB\niteration 800: memory use: 2060.34765625MB\niteration 900: memory use: 2060.37890625MB\niteration 1000: memory use: 2060.4140625MB\niteration 1100: memory use: 2060.453125MB\niteration 1200: memory use: 2060.484375MB\niteration 1300: memory use: 2060.640625MB\niteration 1400: memory use: 2060.671875MB\niteration 1500: memory use: 2060.70703125MB\niteration 1600: memory use: 2060.7421875MB\niteration 1700: memory use: 2060.7734375MB\niteration 1800: memory use: 2060.80859375MB\niteration 1900: memory use: 2060.83984375MB\niteration 2000: memory use: 2060.875MB\nWith cudnn disabled\niteration 0: memory use: 2064.609375MB\niteration 100: memory use: 2064.98046875MB\niteration 200: memory use: 2064.98046875MB\niteration 300: memory use: 2064.98046875MB\niteration 400: memory use: 2064.98046875MB\niteration 500: memory use: 2065.16796875MB\niteration 600: memory use: 2065.16796875MB\niteration 700: memory use: 2065.16796875MB\niteration 800: memory use: 2065.16796875MB\niteration 900: memory use: 2066.71875MB\niteration 1000: memory use: 2068.16015625MB\niteration 1100: memory use: 2068.1640625MB\niteration 1200: memory use: 2068.16796875MB\niteration 1300: memory use: 2068.18359375MB\niteration 1400: memory use: 2068.18359375MB\niteration 1500: memory use: 2068.18359375MB\niteration 1600: memory use: 2068.1953125MB\niteration 1700: memory use: 2068.19921875MB\niteration 1800: memory use: 2068.19921875MB\niteration 1900: memory use: 2068.19921875MB\niteration 2000: memory use: 2068.20703125MB\n\n\ntorch-version:  0.5.0a0+4b61760\ncudnn version:  7005\niteration 0: memory use: 1704.07421875MB\niteration 100: memory use: 1704.07421875MB\niteration 200: memory use: 1704.07421875MB\niteration 300: memory use: 1704.07421875MB\niteration 400: memory use: 1704.07421875MB\niteration 500: memory use: 1704.5078125MB\niteration 600: memory use: 1704.5078125MB\niteration 700: memory use: 1704.5078125MB\niteration 800: memory use: 1704.5078125MB\niteration 900: memory use: 1704.5078125MB\niteration 1000: memory use: 1704.5078125MB\niteration 1100: memory use: 1704.5078125MB\niteration 1200: memory use: 1704.765625MB\niteration 1300: memory use: 1704.765625MB\niteration 1400: memory use: 1704.765625MB\niteration 1500: memory use: 1704.765625MB\niteration 1600: memory use: 1704.765625MB\niteration 1700: memory use: 1704.765625MB\niteration 1800: memory use: 1704.765625MB\niteration 1900: memory use: 1704.765625MB\niteration 2000: memory use: 1705.0234375MB\nWith cudnn disabled\niteration 0: memory use: 1881.109375MB\niteration 100: memory use: 1881.3671875MB\niteration 200: memory use: 1881.3671875MB\niteration 300: memory use: 1881.3671875MB\niteration 400: memory use: 1881.3671875MB\niteration 500: memory use: 1881.3671875MB\niteration 600: memory use: 1881.3671875MB\niteration 700: memory use: 1881.3671875MB\niteration 800: memory use: 1881.3671875MB\niteration 900: memory use: 1881.3671875MB\niteration 1000: memory use: 1881.3671875MB\niteration 1100: memory use: 1881.3671875MB\niteration 1200: memory use: 1881.3671875MB\niteration 1300: memory use: 1881.3671875MB\niteration 1400: memory use: 1881.3671875MB\niteration 1500: memory use: 1881.3671875MB\niteration 1600: memory use: 1881.3671875MB\niteration 1700: memory use: 1881.3671875MB\niteration 1800: memory use: 1881.3671875MB\niteration 1900: memory use: 1881.3671875MB\niteration 2000: memory use: 1881.3671875MB\n</code></pre>", "body_text": "I want to share some of my recent logs on the memory leaking issues.\ntesting scipts:\nimport torch\nimport torch.nn as nn\n\nprint('torch-version: ', torch.__version__)\nprint('cudnn version: ', torch.backends.cudnn.version())\nlstm = nn.LSTM(200, 2, batch_first=True).cuda()\n\n\nfake_data = torch.Tensor(96, 200, 200).cuda()\n\n\ndef test():\n    import os\n    import psutil\n    pid = os.getpid()\n    py = psutil.Process(pid)\n    for i in range(2000):\n        loss = lstm(fake_data)[0].mean()\n        loss.backward()\n        if i % 100 == 0:\n            import gc\n            gc.collect()\n            memoryUse = py.memory_info()[0] / 2.**20  # memory use in MB...I think\n            print('iteration {}: memory use: {}MB'.format(i, memoryUse))\n\n\ntest()\n\ntorch.backends.cudnn.enabled = False\nprint('With cudnn disabled')\ntest()\nlogs:\nDriver=390\ntorch-version:  0.4.0\ncudnn version:  7102\niteration 0: memory use: 1992.01953125MB\niteration 100: memory use: 1992.1953125MB\niteration 200: memory use: 1992.1953125MB\niteration 300: memory use: 1992.3125MB\niteration 400: memory use: 1992.34375MB\niteration 500: memory use: 1992.53125MB\niteration 600: memory use: 1992.55859375MB\niteration 700: memory use: 1992.55859375MB\niteration 800: memory use: 1992.6328125MB\niteration 900: memory use: 1992.6328125MB\niteration 1000: memory use: 1992.6328125MB\niteration 1100: memory use: 1992.72265625MB\niteration 1200: memory use: 1992.72265625MB\niteration 1300: memory use: 1992.81640625MB\niteration 1400: memory use: 1992.81640625MB\niteration 1500: memory use: 1992.890625MB\niteration 1600: memory use: 1992.890625MB\niteration 1700: memory use: 1992.9453125MB\niteration 1800: memory use: 1992.9453125MB\nWith cudnn disabled\niteration 0: memory use: 1997.7734375MB\niteration 100: memory use: 2000.4375MB\niteration 200: memory use: 2000.4375MB\niteration 300: memory use: 2000.4375MB\niteration 400: memory use: 2000.4375MB\niteration 500: memory use: 2000.4375MB\niteration 600: memory use: 2000.44140625MB\niteration 700: memory use: 2000.44140625MB\niteration 800: memory use: 2000.4453125MB\niteration 900: memory use: 2000.453125MB\niteration 1000: memory use: 2000.453125MB\niteration 1100: memory use: 2000.46484375MB\niteration 1200: memory use: 2000.46875MB\niteration 1300: memory use: 2000.4765625MB\niteration 1400: memory use: 2000.484375MB\niteration 1500: memory use: 2000.48828125MB\niteration 1600: memory use: 2000.5078125MB\niteration 1700: memory use: 2000.5078125MB\niteration 1800: memory use: 2000.5078125MB\n\n\nDriver=375.26\ntorch-version:  0.4.0\ncudnn version:  7102\niteration 0: memory use: 2059.859375MB\niteration 100: memory use: 2060.09375MB\niteration 200: memory use: 2060.1328125MB\niteration 300: memory use: 2060.16796875MB\niteration 400: memory use: 2060.203125MB\niteration 500: memory use: 2060.2421875MB\niteration 600: memory use: 2060.2734375MB\niteration 700: memory use: 2060.3125MB\niteration 800: memory use: 2060.34765625MB\niteration 900: memory use: 2060.37890625MB\niteration 1000: memory use: 2060.4140625MB\niteration 1100: memory use: 2060.453125MB\niteration 1200: memory use: 2060.484375MB\niteration 1300: memory use: 2060.640625MB\niteration 1400: memory use: 2060.671875MB\niteration 1500: memory use: 2060.70703125MB\niteration 1600: memory use: 2060.7421875MB\niteration 1700: memory use: 2060.7734375MB\niteration 1800: memory use: 2060.80859375MB\niteration 1900: memory use: 2060.83984375MB\niteration 2000: memory use: 2060.875MB\nWith cudnn disabled\niteration 0: memory use: 2064.609375MB\niteration 100: memory use: 2064.98046875MB\niteration 200: memory use: 2064.98046875MB\niteration 300: memory use: 2064.98046875MB\niteration 400: memory use: 2064.98046875MB\niteration 500: memory use: 2065.16796875MB\niteration 600: memory use: 2065.16796875MB\niteration 700: memory use: 2065.16796875MB\niteration 800: memory use: 2065.16796875MB\niteration 900: memory use: 2066.71875MB\niteration 1000: memory use: 2068.16015625MB\niteration 1100: memory use: 2068.1640625MB\niteration 1200: memory use: 2068.16796875MB\niteration 1300: memory use: 2068.18359375MB\niteration 1400: memory use: 2068.18359375MB\niteration 1500: memory use: 2068.18359375MB\niteration 1600: memory use: 2068.1953125MB\niteration 1700: memory use: 2068.19921875MB\niteration 1800: memory use: 2068.19921875MB\niteration 1900: memory use: 2068.19921875MB\niteration 2000: memory use: 2068.20703125MB\n\n\ntorch-version:  0.5.0a0+4b61760\ncudnn version:  7005\niteration 0: memory use: 1704.07421875MB\niteration 100: memory use: 1704.07421875MB\niteration 200: memory use: 1704.07421875MB\niteration 300: memory use: 1704.07421875MB\niteration 400: memory use: 1704.07421875MB\niteration 500: memory use: 1704.5078125MB\niteration 600: memory use: 1704.5078125MB\niteration 700: memory use: 1704.5078125MB\niteration 800: memory use: 1704.5078125MB\niteration 900: memory use: 1704.5078125MB\niteration 1000: memory use: 1704.5078125MB\niteration 1100: memory use: 1704.5078125MB\niteration 1200: memory use: 1704.765625MB\niteration 1300: memory use: 1704.765625MB\niteration 1400: memory use: 1704.765625MB\niteration 1500: memory use: 1704.765625MB\niteration 1600: memory use: 1704.765625MB\niteration 1700: memory use: 1704.765625MB\niteration 1800: memory use: 1704.765625MB\niteration 1900: memory use: 1704.765625MB\niteration 2000: memory use: 1705.0234375MB\nWith cudnn disabled\niteration 0: memory use: 1881.109375MB\niteration 100: memory use: 1881.3671875MB\niteration 200: memory use: 1881.3671875MB\niteration 300: memory use: 1881.3671875MB\niteration 400: memory use: 1881.3671875MB\niteration 500: memory use: 1881.3671875MB\niteration 600: memory use: 1881.3671875MB\niteration 700: memory use: 1881.3671875MB\niteration 800: memory use: 1881.3671875MB\niteration 900: memory use: 1881.3671875MB\niteration 1000: memory use: 1881.3671875MB\niteration 1100: memory use: 1881.3671875MB\niteration 1200: memory use: 1881.3671875MB\niteration 1300: memory use: 1881.3671875MB\niteration 1400: memory use: 1881.3671875MB\niteration 1500: memory use: 1881.3671875MB\niteration 1600: memory use: 1881.3671875MB\niteration 1700: memory use: 1881.3671875MB\niteration 1800: memory use: 1881.3671875MB\niteration 1900: memory use: 1881.3671875MB\niteration 2000: memory use: 1881.3671875MB", "body": "I want to share some of my recent logs on the memory leaking issues.\r\n\r\ntesting scipts:\r\n\r\n```python\r\nimport torch\r\nimport torch.nn as nn\r\n\r\nprint('torch-version: ', torch.__version__)\r\nprint('cudnn version: ', torch.backends.cudnn.version())\r\nlstm = nn.LSTM(200, 2, batch_first=True).cuda()\r\n\r\n\r\nfake_data = torch.Tensor(96, 200, 200).cuda()\r\n\r\n\r\ndef test():\r\n    import os\r\n    import psutil\r\n    pid = os.getpid()\r\n    py = psutil.Process(pid)\r\n    for i in range(2000):\r\n        loss = lstm(fake_data)[0].mean()\r\n        loss.backward()\r\n        if i % 100 == 0:\r\n            import gc\r\n            gc.collect()\r\n            memoryUse = py.memory_info()[0] / 2.**20  # memory use in MB...I think\r\n            print('iteration {}: memory use: {}MB'.format(i, memoryUse))\r\n\r\n\r\ntest()\r\n\r\ntorch.backends.cudnn.enabled = False\r\nprint('With cudnn disabled')\r\ntest()\r\n```\r\n\r\n## logs:\r\n\r\n### Driver=390\r\n```\r\ntorch-version:  0.4.0\r\ncudnn version:  7102\r\niteration 0: memory use: 1992.01953125MB\r\niteration 100: memory use: 1992.1953125MB\r\niteration 200: memory use: 1992.1953125MB\r\niteration 300: memory use: 1992.3125MB\r\niteration 400: memory use: 1992.34375MB\r\niteration 500: memory use: 1992.53125MB\r\niteration 600: memory use: 1992.55859375MB\r\niteration 700: memory use: 1992.55859375MB\r\niteration 800: memory use: 1992.6328125MB\r\niteration 900: memory use: 1992.6328125MB\r\niteration 1000: memory use: 1992.6328125MB\r\niteration 1100: memory use: 1992.72265625MB\r\niteration 1200: memory use: 1992.72265625MB\r\niteration 1300: memory use: 1992.81640625MB\r\niteration 1400: memory use: 1992.81640625MB\r\niteration 1500: memory use: 1992.890625MB\r\niteration 1600: memory use: 1992.890625MB\r\niteration 1700: memory use: 1992.9453125MB\r\niteration 1800: memory use: 1992.9453125MB\r\nWith cudnn disabled\r\niteration 0: memory use: 1997.7734375MB\r\niteration 100: memory use: 2000.4375MB\r\niteration 200: memory use: 2000.4375MB\r\niteration 300: memory use: 2000.4375MB\r\niteration 400: memory use: 2000.4375MB\r\niteration 500: memory use: 2000.4375MB\r\niteration 600: memory use: 2000.44140625MB\r\niteration 700: memory use: 2000.44140625MB\r\niteration 800: memory use: 2000.4453125MB\r\niteration 900: memory use: 2000.453125MB\r\niteration 1000: memory use: 2000.453125MB\r\niteration 1100: memory use: 2000.46484375MB\r\niteration 1200: memory use: 2000.46875MB\r\niteration 1300: memory use: 2000.4765625MB\r\niteration 1400: memory use: 2000.484375MB\r\niteration 1500: memory use: 2000.48828125MB\r\niteration 1600: memory use: 2000.5078125MB\r\niteration 1700: memory use: 2000.5078125MB\r\niteration 1800: memory use: 2000.5078125MB\r\n\r\n```\r\n\r\n\r\n\r\n### Driver=375.26\r\n\r\n```\r\ntorch-version:  0.4.0\r\ncudnn version:  7102\r\niteration 0: memory use: 2059.859375MB\r\niteration 100: memory use: 2060.09375MB\r\niteration 200: memory use: 2060.1328125MB\r\niteration 300: memory use: 2060.16796875MB\r\niteration 400: memory use: 2060.203125MB\r\niteration 500: memory use: 2060.2421875MB\r\niteration 600: memory use: 2060.2734375MB\r\niteration 700: memory use: 2060.3125MB\r\niteration 800: memory use: 2060.34765625MB\r\niteration 900: memory use: 2060.37890625MB\r\niteration 1000: memory use: 2060.4140625MB\r\niteration 1100: memory use: 2060.453125MB\r\niteration 1200: memory use: 2060.484375MB\r\niteration 1300: memory use: 2060.640625MB\r\niteration 1400: memory use: 2060.671875MB\r\niteration 1500: memory use: 2060.70703125MB\r\niteration 1600: memory use: 2060.7421875MB\r\niteration 1700: memory use: 2060.7734375MB\r\niteration 1800: memory use: 2060.80859375MB\r\niteration 1900: memory use: 2060.83984375MB\r\niteration 2000: memory use: 2060.875MB\r\nWith cudnn disabled\r\niteration 0: memory use: 2064.609375MB\r\niteration 100: memory use: 2064.98046875MB\r\niteration 200: memory use: 2064.98046875MB\r\niteration 300: memory use: 2064.98046875MB\r\niteration 400: memory use: 2064.98046875MB\r\niteration 500: memory use: 2065.16796875MB\r\niteration 600: memory use: 2065.16796875MB\r\niteration 700: memory use: 2065.16796875MB\r\niteration 800: memory use: 2065.16796875MB\r\niteration 900: memory use: 2066.71875MB\r\niteration 1000: memory use: 2068.16015625MB\r\niteration 1100: memory use: 2068.1640625MB\r\niteration 1200: memory use: 2068.16796875MB\r\niteration 1300: memory use: 2068.18359375MB\r\niteration 1400: memory use: 2068.18359375MB\r\niteration 1500: memory use: 2068.18359375MB\r\niteration 1600: memory use: 2068.1953125MB\r\niteration 1700: memory use: 2068.19921875MB\r\niteration 1800: memory use: 2068.19921875MB\r\niteration 1900: memory use: 2068.19921875MB\r\niteration 2000: memory use: 2068.20703125MB\r\n\r\n\r\ntorch-version:  0.5.0a0+4b61760\r\ncudnn version:  7005\r\niteration 0: memory use: 1704.07421875MB\r\niteration 100: memory use: 1704.07421875MB\r\niteration 200: memory use: 1704.07421875MB\r\niteration 300: memory use: 1704.07421875MB\r\niteration 400: memory use: 1704.07421875MB\r\niteration 500: memory use: 1704.5078125MB\r\niteration 600: memory use: 1704.5078125MB\r\niteration 700: memory use: 1704.5078125MB\r\niteration 800: memory use: 1704.5078125MB\r\niteration 900: memory use: 1704.5078125MB\r\niteration 1000: memory use: 1704.5078125MB\r\niteration 1100: memory use: 1704.5078125MB\r\niteration 1200: memory use: 1704.765625MB\r\niteration 1300: memory use: 1704.765625MB\r\niteration 1400: memory use: 1704.765625MB\r\niteration 1500: memory use: 1704.765625MB\r\niteration 1600: memory use: 1704.765625MB\r\niteration 1700: memory use: 1704.765625MB\r\niteration 1800: memory use: 1704.765625MB\r\niteration 1900: memory use: 1704.765625MB\r\niteration 2000: memory use: 1705.0234375MB\r\nWith cudnn disabled\r\niteration 0: memory use: 1881.109375MB\r\niteration 100: memory use: 1881.3671875MB\r\niteration 200: memory use: 1881.3671875MB\r\niteration 300: memory use: 1881.3671875MB\r\niteration 400: memory use: 1881.3671875MB\r\niteration 500: memory use: 1881.3671875MB\r\niteration 600: memory use: 1881.3671875MB\r\niteration 700: memory use: 1881.3671875MB\r\niteration 800: memory use: 1881.3671875MB\r\niteration 900: memory use: 1881.3671875MB\r\niteration 1000: memory use: 1881.3671875MB\r\niteration 1100: memory use: 1881.3671875MB\r\niteration 1200: memory use: 1881.3671875MB\r\niteration 1300: memory use: 1881.3671875MB\r\niteration 1400: memory use: 1881.3671875MB\r\niteration 1500: memory use: 1881.3671875MB\r\niteration 1600: memory use: 1881.3671875MB\r\niteration 1700: memory use: 1881.3671875MB\r\niteration 1800: memory use: 1881.3671875MB\r\niteration 1900: memory use: 1881.3671875MB\r\niteration 2000: memory use: 1881.3671875MB\r\n```"}