{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/393352759", "html_url": "https://github.com/pytorch/pytorch/issues/7962#issuecomment-393352759", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7962", "id": 393352759, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzM1Mjc1OQ==", "user": {"login": "skelleher", "id": 814866, "node_id": "MDQ6VXNlcjgxNDg2Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/814866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skelleher", "html_url": "https://github.com/skelleher", "followers_url": "https://api.github.com/users/skelleher/followers", "following_url": "https://api.github.com/users/skelleher/following{/other_user}", "gists_url": "https://api.github.com/users/skelleher/gists{/gist_id}", "starred_url": "https://api.github.com/users/skelleher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skelleher/subscriptions", "organizations_url": "https://api.github.com/users/skelleher/orgs", "repos_url": "https://api.github.com/users/skelleher/repos", "events_url": "https://api.github.com/users/skelleher/events{/privacy}", "received_events_url": "https://api.github.com/users/skelleher/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-30T23:34:51Z", "updated_at": "2018-05-30T23:34:51Z", "author_association": "NONE", "body_html": "<p>-DBUILD_SHARED_LIBS=ON seems to be the culprit.  Builds fine if I leave it set to OFF.</p>\n<p>I don't particularly care if Caffe2 and friends build as static or shared libs.  The problem is that pytorch\\cmake\\public\\cuda.cmake defaults to /MT unless BUILD_SHARED_LIBS=ON.</p>\n<p>Building caffe2_gpu.lib with /MT prevents me from actually using it, since my application uses many other libs built with /MD (the Visual Studio default) and we don't have the option of recompiling them all from source.</p>", "body_text": "-DBUILD_SHARED_LIBS=ON seems to be the culprit.  Builds fine if I leave it set to OFF.\nI don't particularly care if Caffe2 and friends build as static or shared libs.  The problem is that pytorch\\cmake\\public\\cuda.cmake defaults to /MT unless BUILD_SHARED_LIBS=ON.\nBuilding caffe2_gpu.lib with /MT prevents me from actually using it, since my application uses many other libs built with /MD (the Visual Studio default) and we don't have the option of recompiling them all from source.", "body": "-DBUILD_SHARED_LIBS=ON seems to be the culprit.  Builds fine if I leave it set to OFF.  \r\n\r\nI don't particularly care if Caffe2 and friends build as static or shared libs.  The problem is that pytorch\\cmake\\public\\cuda.cmake defaults to /MT unless BUILD_SHARED_LIBS=ON.  \r\n\r\nBuilding caffe2_gpu.lib with /MT prevents me from actually using it, since my application uses many other libs built with /MD (the Visual Studio default) and we don't have the option of recompiling them all from source.\r\n"}