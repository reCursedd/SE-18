{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7911", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7911/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7911/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7911/events", "html_url": "https://github.com/pytorch/pytorch/issues/7911", "id": 327211245, "node_id": "MDU6SXNzdWUzMjcyMTEyNDU=", "number": 7911, "title": "How to implement the internal zero padding for the feature map?", "user": {"login": "PkuRainBow", "id": 4639578, "node_id": "MDQ6VXNlcjQ2Mzk1Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4639578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PkuRainBow", "html_url": "https://github.com/PkuRainBow", "followers_url": "https://api.github.com/users/PkuRainBow/followers", "following_url": "https://api.github.com/users/PkuRainBow/following{/other_user}", "gists_url": "https://api.github.com/users/PkuRainBow/gists{/gist_id}", "starred_url": "https://api.github.com/users/PkuRainBow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PkuRainBow/subscriptions", "organizations_url": "https://api.github.com/users/PkuRainBow/orgs", "repos_url": "https://api.github.com/users/PkuRainBow/repos", "events_url": "https://api.github.com/users/PkuRainBow/events{/privacy}", "received_events_url": "https://api.github.com/users/PkuRainBow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-05-29T08:07:00Z", "updated_at": "2018-05-30T17:47:17Z", "closed_at": "2018-05-29T16:09:36Z", "author_association": "NONE", "body_html": "<p>I want to implment such padding operations within the pytorch framework.</p>\n<p>The traditional padding operations add zero at the boundary of the feature maps.</p>\n<p>I am wondering how can I insert zero between the feature map.</p>\n<p>Such as I have 5x5 feature map like:</p>\n<pre><code>1 2 3 4 5\n2 3 4 5 1\n3 4 5 1 2\n4 5 1 2 3\n5 1 2 3 4\n</code></pre>\n<p>Then our target is to insert zero between the values within the feature map and we should support various strides, here we assume the padding stride is one, then we should get the feature map like this,</p>\n<pre><code>1 0 2 0 3 0 4 0 5\n0 0 0 0 0 0 0 0 0\n2 0 3 0 4 0 5 0 1\n0 0 0 0 0 0 0 0 0\n3 0 4 0 5 0 1 0 2\n0 0 0 0 0 0 0 0 0\n4 0 5 0 1 0 2 0 3\n0 0 0 0 0 0 0 0 0\n5 0 1 0 2 0 3 0 4\n0 0 0 0 0 0 0 0 0\n</code></pre>\n<p>Could any one show me some cheap method to implement such padding operations?</p>\n<p>I find one possible method is to modify the files \"pytorch/caffe2/operators/pad_op.cc\" and implement a new padding layer to support such operations.</p>", "body_text": "I want to implment such padding operations within the pytorch framework.\nThe traditional padding operations add zero at the boundary of the feature maps.\nI am wondering how can I insert zero between the feature map.\nSuch as I have 5x5 feature map like:\n1 2 3 4 5\n2 3 4 5 1\n3 4 5 1 2\n4 5 1 2 3\n5 1 2 3 4\n\nThen our target is to insert zero between the values within the feature map and we should support various strides, here we assume the padding stride is one, then we should get the feature map like this,\n1 0 2 0 3 0 4 0 5\n0 0 0 0 0 0 0 0 0\n2 0 3 0 4 0 5 0 1\n0 0 0 0 0 0 0 0 0\n3 0 4 0 5 0 1 0 2\n0 0 0 0 0 0 0 0 0\n4 0 5 0 1 0 2 0 3\n0 0 0 0 0 0 0 0 0\n5 0 1 0 2 0 3 0 4\n0 0 0 0 0 0 0 0 0\n\nCould any one show me some cheap method to implement such padding operations?\nI find one possible method is to modify the files \"pytorch/caffe2/operators/pad_op.cc\" and implement a new padding layer to support such operations.", "body": "I want to implment such padding operations within the pytorch framework.\r\n\r\nThe traditional padding operations add zero at the boundary of the feature maps.\r\n\r\nI am wondering how can I insert zero between the feature map.\r\n\r\nSuch as I have 5x5 feature map like:\r\n\r\n```\r\n1 2 3 4 5\r\n2 3 4 5 1\r\n3 4 5 1 2\r\n4 5 1 2 3\r\n5 1 2 3 4\r\n```\r\n\r\n\r\nThen our target is to insert zero between the values within the feature map and we should support various strides, here we assume the padding stride is one, then we should get the feature map like this,\r\n\r\n\r\n```\r\n1 0 2 0 3 0 4 0 5\r\n0 0 0 0 0 0 0 0 0\r\n2 0 3 0 4 0 5 0 1\r\n0 0 0 0 0 0 0 0 0\r\n3 0 4 0 5 0 1 0 2\r\n0 0 0 0 0 0 0 0 0\r\n4 0 5 0 1 0 2 0 3\r\n0 0 0 0 0 0 0 0 0\r\n5 0 1 0 2 0 3 0 4\r\n0 0 0 0 0 0 0 0 0\r\n```\r\n\r\nCould any one show me some cheap method to implement such padding operations?\r\n\r\nI find one possible method is to modify the files \"pytorch/caffe2/operators/pad_op.cc\" and implement a new padding layer to support such operations.\r\n"}