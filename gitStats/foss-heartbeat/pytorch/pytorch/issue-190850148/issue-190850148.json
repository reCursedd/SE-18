{"url": "https://api.github.com/repos/pytorch/pytorch/issues/242", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/242/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/242/events", "html_url": "https://github.com/pytorch/pytorch/issues/242", "id": 190850148, "node_id": "MDU6SXNzdWUxOTA4NTAxNDg=", "number": 242, "title": "nn parallel scatter/gather ops do not support tuple inputs", "user": {"login": "ngimel", "id": 15841449, "node_id": "MDQ6VXNlcjE1ODQxNDQ5", "avatar_url": "https://avatars3.githubusercontent.com/u/15841449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngimel", "html_url": "https://github.com/ngimel", "followers_url": "https://api.github.com/users/ngimel/followers", "following_url": "https://api.github.com/users/ngimel/following{/other_user}", "gists_url": "https://api.github.com/users/ngimel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngimel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngimel/subscriptions", "organizations_url": "https://api.github.com/users/ngimel/orgs", "repos_url": "https://api.github.com/users/ngimel/repos", "events_url": "https://api.github.com/users/ngimel/events{/privacy}", "received_events_url": "https://api.github.com/users/ngimel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-11-21T22:09:31Z", "updated_at": "2016-11-23T17:49:26Z", "closed_at": "2016-11-23T17:49:26Z", "author_association": "CONTRIBUTOR", "body_html": "<p>nn parallel scatter/gather ops do not support tuple inputs (see the trace below). That happens when a network has more than one output rather than a single tensor, e.g., in segmentation workloads. The error below can be reproduced with imagenet sample, by modifying model to <code>return x,x</code> rather than <code>return x</code> in line 138 of resnet.py. We are working around that by concatenating outputs and then using custom criterion that unpacks them again, but would be nice to have support for this.</p>\n<pre lang=\"result\" data-meta=\"= self.forward(*input)\"><code>  File \"main.py\", line 75, in forward\n    return nn.parallel.data_parallel(self.model, input, gpu_ids)\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 38, in data_parallel\n    return gather(outputs, output_device)\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 21, in gather\n    return Gather(target_device)(*variables)\nRuntimeError: expected a Variable argument, but got tuple\n</code></pre>", "body_text": "nn parallel scatter/gather ops do not support tuple inputs (see the trace below). That happens when a network has more than one output rather than a single tensor, e.g., in segmentation workloads. The error below can be reproduced with imagenet sample, by modifying model to return x,x rather than return x in line 138 of resnet.py. We are working around that by concatenating outputs and then using custom criterion that unpacks them again, but would be nice to have support for this.\n  File \"main.py\", line 75, in forward\n    return nn.parallel.data_parallel(self.model, input, gpu_ids)\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 38, in data_parallel\n    return gather(outputs, output_device)\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 21, in gather\n    return Gather(target_device)(*variables)\nRuntimeError: expected a Variable argument, but got tuple", "body": "nn parallel scatter/gather ops do not support tuple inputs (see the trace below). That happens when a network has more than one output rather than a single tensor, e.g., in segmentation workloads. The error below can be reproduced with imagenet sample, by modifying model to ```return x,x``` rather than ```return x``` in line 138 of resnet.py. We are working around that by concatenating outputs and then using custom criterion that unpacks them again, but would be nice to have support for this. \r\n```    result = self.forward(*input)\r\n  File \"main.py\", line 75, in forward\r\n    return nn.parallel.data_parallel(self.model, input, gpu_ids)\r\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 38, in data_parallel\r\n    return gather(outputs, output_device)\r\n  File \"/home/ngimelshein/.local/lib/python2.7/site-packages/torch/nn/parallel/__init__.py\", line 21, in gather\r\n    return Gather(target_device)(*variables)\r\nRuntimeError: expected a Variable argument, but got tuple\r\n```"}