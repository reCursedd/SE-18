{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9334", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9334/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9334/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9334/events", "html_url": "https://github.com/pytorch/pytorch/pull/9334", "id": 340052574, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAwNTU4OTU1", "number": 9334, "title": "Add clang-format check to travis", "user": {"login": "goldsborough", "id": 6429851, "node_id": "MDQ6VXNlcjY0Mjk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6429851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldsborough", "html_url": "https://github.com/goldsborough", "followers_url": "https://api.github.com/users/goldsborough/followers", "following_url": "https://api.github.com/users/goldsborough/following{/other_user}", "gists_url": "https://api.github.com/users/goldsborough/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldsborough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldsborough/subscriptions", "organizations_url": "https://api.github.com/users/goldsborough/orgs", "repos_url": "https://api.github.com/users/goldsborough/repos", "events_url": "https://api.github.com/users/goldsborough/events{/privacy}", "received_events_url": "https://api.github.com/users/goldsborough/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-11T00:37:55Z", "updated_at": "2018-07-11T01:37:05Z", "closed_at": "2018-07-11T01:37:05Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/9334", "html_url": "https://github.com/pytorch/pytorch/pull/9334", "diff_url": "https://github.com/pytorch/pytorch/pull/9334.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/9334.patch"}, "body_html": "<p>This PR adds a clang-format check to Travis CI.</p>\n<p>It uses LLVM/clang's own <code>git-clang-format</code> utility, which runs clang format on the latest changes as determined by git, i.e. only what is different from the base revision (master).</p>\n<p>I also updated our clang-format to be 100% identical to fbcode, otherwise we'll run into inconsistencies sooner or later.</p>\n<p>For now, I have configured it such that it is allowed to fail, meaning it won't mark the CI job as failed.</p>\n<p>Unfortunately there is no good middle way between failing the CI job and just showing that this particular check failed in a user-visible way. Right now, you really have to explicitly click on the CI job and see that it failed on Travis (even though it didn't fail CI since it's allowed to fail).</p>\n<p>Thoughts?</p>", "body_text": "This PR adds a clang-format check to Travis CI.\nIt uses LLVM/clang's own git-clang-format utility, which runs clang format on the latest changes as determined by git, i.e. only what is different from the base revision (master).\nI also updated our clang-format to be 100% identical to fbcode, otherwise we'll run into inconsistencies sooner or later.\nFor now, I have configured it such that it is allowed to fail, meaning it won't mark the CI job as failed.\nUnfortunately there is no good middle way between failing the CI job and just showing that this particular check failed in a user-visible way. Right now, you really have to explicitly click on the CI job and see that it failed on Travis (even though it didn't fail CI since it's allowed to fail).\nThoughts?", "body": "This PR adds a clang-format check to Travis CI.\r\n\r\nIt uses LLVM/clang's own `git-clang-format` utility, which runs clang format on the latest changes as determined by git, i.e. only what is different from the base revision (master).\r\n\r\nI also updated our clang-format to be 100% identical to fbcode, otherwise we'll run into inconsistencies sooner or later.\r\n\r\nFor now, I have configured it such that it is allowed to fail, meaning it won't mark the CI job as failed.\r\n\r\nUnfortunately there is no good middle way between failing the CI job and just showing that this particular check failed in a user-visible way. Right now, you really have to explicitly click on the CI job and see that it failed on Travis (even though it didn't fail CI since it's allowed to fail).\r\n\r\nThoughts?"}