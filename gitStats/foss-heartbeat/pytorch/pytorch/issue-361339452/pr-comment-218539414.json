{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/218539414", "pull_request_review_id": 156500819, "id": 218539414, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxODUzOTQxNA==", "diff_hunk": "@@ -340,16 +349,19 @@ void addObjectMethods(py::module& m) {\n               CAFFE_ENFORCE(ParseProtoFromLargeString(\n                   py::bytes(device_option).cast<std::string>(), &option));\n             }\n+#ifdef USE_NUMPY\n             if (PyArray_Check(arg.ptr())) { // numpy array\n-              PyArrayObject* array =\n-                  reinterpret_cast<PyArrayObject*>(arg.ptr());\n+              PyArrayObject* array\n+                = reinterpret_cast<PyArrayObject*>(arg.ptr());\n               auto feeder = CreateFeeder(option.device_type());\n               CAFFE_ENFORCE(\n                   feeder, \"Unknown device type encountered in FeedBlob.\");\n               feeder->Feed(option, array, blob);\n               return true;\n             }\n-\n+#else\n+            CAFFE_THROW(\"Caffe2 compiled without NumPy support.\");", "path": "caffe2/python/pybind_state.cc", "position": 50, "original_position": 51, "commit_id": "b625c0596abf60970e697c01ec8ee281104a94e9", "original_commit_id": "fbcfffa7c3930a33f9feb11ced25cd9a511ff887", "user": {"login": "vishwakftw", "id": 23639302, "node_id": "MDQ6VXNlcjIzNjM5MzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/23639302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vishwakftw", "html_url": "https://github.com/vishwakftw", "followers_url": "https://api.github.com/users/vishwakftw/followers", "following_url": "https://api.github.com/users/vishwakftw/following{/other_user}", "gists_url": "https://api.github.com/users/vishwakftw/gists{/gist_id}", "starred_url": "https://api.github.com/users/vishwakftw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vishwakftw/subscriptions", "organizations_url": "https://api.github.com/users/vishwakftw/orgs", "repos_url": "https://api.github.com/users/vishwakftw/repos", "events_url": "https://api.github.com/users/vishwakftw/events{/privacy}", "received_events_url": "https://api.github.com/users/vishwakftw/received_events", "type": "User", "site_admin": false}, "body": "Why is this line causing the Caffe2 failures?", "created_at": "2018-09-18T18:12:01Z", "updated_at": "2018-11-23T15:51:36Z", "html_url": "https://github.com/pytorch/pytorch/pull/11798#discussion_r218539414", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/11798", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/218539414"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/11798#discussion_r218539414"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/11798"}}, "body_html": "<p>Why is this line causing the Caffe2 failures?</p>", "body_text": "Why is this line causing the Caffe2 failures?"}