{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/205239526", "pull_request_review_id": 140468879, "id": 205239526, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNTIzOTUyNg==", "diff_hunk": "@@ -15,14 +18,22 @@ THStorage::THStorage(\n       allocator(allocator),\n       finalizer(nullptr) {}\n \n-THStorage::THStorage(\n+StorageImpl::StorageImpl(\n     at::ScalarType scalar_type,\n     ptrdiff_t size,\n     at::Allocator* allocator,\n     char flag)\n-    : THStorage(\n+    : StorageImpl(\n           scalar_type,\n           size,\n           allocator->allocate(at::elementSize(scalar_type) * size),\n           allocator,\n           flag) {}\n+\n+Type& StorageImpl::type() const {\n+  if (data_ptr.device().is_cuda())", "path": "aten/src/ATen/StorageImpl.cpp", "position": null, "original_position": 31, "commit_id": "49a54a1620c5046ea3c1b3025214ca9c21385a37", "original_commit_id": "aa42020b145ba81eedf5e82a75ead6c838ef5070", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "body": "Does this work with variables?  It looks like this is only used in one place anyway, it's probably just better to do exactly what you need there rather than implement this generally.", "created_at": "2018-07-25T19:47:07Z", "updated_at": "2018-11-23T15:48:06Z", "html_url": "https://github.com/pytorch/pytorch/pull/9772#discussion_r205239526", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/9772", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/205239526"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/9772#discussion_r205239526"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/9772"}}, "body_html": "<p>Does this work with variables?  It looks like this is only used in one place anyway, it's probably just better to do exactly what you need there rather than implement this generally.</p>", "body_text": "Does this work with variables?  It looks like this is only used in one place anyway, it's probably just better to do exactly what you need there rather than implement this generally."}