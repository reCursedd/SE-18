{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/373511329", "html_url": "https://github.com/pytorch/pytorch/issues/5807#issuecomment-373511329", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5807", "id": 373511329, "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzUxMTMyOQ==", "user": {"login": "m-Just", "id": 11477925, "node_id": "MDQ6VXNlcjExNDc3OTI1", "avatar_url": "https://avatars1.githubusercontent.com/u/11477925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-Just", "html_url": "https://github.com/m-Just", "followers_url": "https://api.github.com/users/m-Just/followers", "following_url": "https://api.github.com/users/m-Just/following{/other_user}", "gists_url": "https://api.github.com/users/m-Just/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-Just/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-Just/subscriptions", "organizations_url": "https://api.github.com/users/m-Just/orgs", "repos_url": "https://api.github.com/users/m-Just/repos", "events_url": "https://api.github.com/users/m-Just/events{/privacy}", "received_events_url": "https://api.github.com/users/m-Just/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-15T20:25:21Z", "updated_at": "2018-03-15T20:40:35Z", "author_association": "NONE", "body_html": "<p>Here is the error log:<br>\n<a href=\"https://gist.github.com/m-Just/345307faae918cbdf54eb2699db3449d\">https://gist.github.com/m-Just/345307faae918cbdf54eb2699db3449d</a></p>\n<p>I noticed some initial calls tried to open the lib files of cudnn-5.1.10 and ended up with ENOENT, however I found my current cudnn version is actually 6.0.20 by <code>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</code>, which gives:</p>\n<pre><code>#define CUDNN_MAJOR      6\n#define CUDNN_MINOR      0\n#define CUDNN_PATCHLEVEL 20\n--\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\n</code></pre>\n<p>My system installed both torch and pytorch, as well as different versions of cudnn, so I thought it might be the wrong setting of environment variables, and then I found that<br>\n<code>LD_LIBRARY_PATH=/home/ryli/cudnn-5.1.10/lib64:/home/ryli/torch/install/lib</code></p>\n<p>Finally, I tried to figure out which version pytorch is using, and it becomes even stranger:</p>\n<pre><code>&gt;&gt;&gt; import torch\n&gt;&gt;&gt; torch.backends.cudnn.version()\n7003\n</code></pre>\n<p>I am new to pytorch. Why is it using a different version? Is the problem merely caused by the wrong path variable?</p>", "body_text": "Here is the error log:\nhttps://gist.github.com/m-Just/345307faae918cbdf54eb2699db3449d\nI noticed some initial calls tried to open the lib files of cudnn-5.1.10 and ended up with ENOENT, however I found my current cudnn version is actually 6.0.20 by cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2, which gives:\n#define CUDNN_MAJOR      6\n#define CUDNN_MINOR      0\n#define CUDNN_PATCHLEVEL 20\n--\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\n\nMy system installed both torch and pytorch, as well as different versions of cudnn, so I thought it might be the wrong setting of environment variables, and then I found that\nLD_LIBRARY_PATH=/home/ryli/cudnn-5.1.10/lib64:/home/ryli/torch/install/lib\nFinally, I tried to figure out which version pytorch is using, and it becomes even stranger:\n>>> import torch\n>>> torch.backends.cudnn.version()\n7003\n\nI am new to pytorch. Why is it using a different version? Is the problem merely caused by the wrong path variable?", "body": "Here is the error log:\r\nhttps://gist.github.com/m-Just/345307faae918cbdf54eb2699db3449d\r\n\r\nI noticed some initial calls tried to open the lib files of cudnn-5.1.10 and ended up with ENOENT, however I found my current cudnn version is actually 6.0.20 by `cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2`, which gives:\r\n```\r\n#define CUDNN_MAJOR      6\r\n#define CUDNN_MINOR      0\r\n#define CUDNN_PATCHLEVEL 20\r\n--\r\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\r\n```\r\n\r\nMy system installed both torch and pytorch, as well as different versions of cudnn, so I thought it might be the wrong setting of environment variables, and then I found that\r\n`LD_LIBRARY_PATH=/home/ryli/cudnn-5.1.10/lib64:/home/ryli/torch/install/lib`\r\n\r\nFinally, I tried to figure out which version pytorch is using, and it becomes even stranger:\r\n```\r\n>>> import torch\r\n>>> torch.backends.cudnn.version()\r\n7003\r\n```\r\n\r\nI am new to pytorch. Why is it using a different version? Is the problem merely caused by the wrong path variable?"}