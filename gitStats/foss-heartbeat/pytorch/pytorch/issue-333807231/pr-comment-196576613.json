{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196576613", "pull_request_review_id": 130157477, "id": 196576613, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjU3NjYxMw==", "diff_hunk": "@@ -0,0 +1,28 @@\n+#pragma once\n+\n+#include <functional>\n+#include <iostream>\n+\n+namespace c10 {\n+\n+enum class DeviceId : uint8_t {\n+    UNDEFINED,", "path": "caffe2/core/dispatch/DeviceId.h", "position": null, "original_position": 9, "commit_id": "dc0577c9f521b81b236c172357c8522af30c68b0", "original_commit_id": "65843f01c93c2a16c05f0b17cd3c711cb9165b19", "user": {"login": "smessmer", "id": 2373925, "node_id": "MDQ6VXNlcjIzNzM5MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2373925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smessmer", "html_url": "https://github.com/smessmer", "followers_url": "https://api.github.com/users/smessmer/followers", "following_url": "https://api.github.com/users/smessmer/following{/other_user}", "gists_url": "https://api.github.com/users/smessmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/smessmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smessmer/subscriptions", "organizations_url": "https://api.github.com/users/smessmer/orgs", "repos_url": "https://api.github.com/users/smessmer/repos", "events_url": "https://api.github.com/users/smessmer/events{/privacy}", "received_events_url": "https://api.github.com/users/smessmer/received_events", "type": "User", "site_admin": false}, "body": "Or wait, are you worried about the int values or about the default behavior? Default behavior is also independent of this class and the job of the tensor constructor or factory.\r\n\r\nRight now in the tensor prototype, this `UNDEFINED` is used to be able to create an undefined tensor when you just do\r\n\r\n    Tensor myTensor;\r\n\r\nThis is, however, something I don't really like to be honest. I'd rather force the tensor default constructor to either not exist, or to do something valid. Knowing that a `Tensor` instance is always something valid sounds much safer to me. cc @ezyang who had some points on why we unfortunately need undefined state.", "created_at": "2018-06-19T20:59:42Z", "updated_at": "2018-11-23T15:45:49Z", "html_url": "https://github.com/pytorch/pytorch/pull/8662#discussion_r196576613", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8662", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196576613"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8662#discussion_r196576613"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8662"}}, "body_html": "<p>Or wait, are you worried about the int values or about the default behavior? Default behavior is also independent of this class and the job of the tensor constructor or factory.</p>\n<p>Right now in the tensor prototype, this <code>UNDEFINED</code> is used to be able to create an undefined tensor when you just do</p>\n<pre><code>Tensor myTensor;\n</code></pre>\n<p>This is, however, something I don't really like to be honest. I'd rather force the tensor default constructor to either not exist, or to do something valid. Knowing that a <code>Tensor</code> instance is always something valid sounds much safer to me. cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> who had some points on why we unfortunately need undefined state.</p>", "body_text": "Or wait, are you worried about the int values or about the default behavior? Default behavior is also independent of this class and the job of the tensor constructor or factory.\nRight now in the tensor prototype, this UNDEFINED is used to be able to create an undefined tensor when you just do\nTensor myTensor;\n\nThis is, however, something I don't really like to be honest. I'd rather force the tensor default constructor to either not exist, or to do something valid. Knowing that a Tensor instance is always something valid sounds much safer to me. cc @ezyang who had some points on why we unfortunately need undefined state.", "in_reply_to_id": 196563346}