{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196609240", "pull_request_review_id": 130195501, "id": 196609240, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjYwOTI0MA==", "diff_hunk": "@@ -0,0 +1,28 @@\n+#pragma once\n+\n+#include <functional>\n+#include <iostream>\n+\n+namespace c10 {\n+\n+enum class DeviceId : uint8_t {\n+    UNDEFINED,", "path": "caffe2/core/dispatch/DeviceId.h", "position": null, "original_position": 9, "commit_id": "dc0577c9f521b81b236c172357c8522af30c68b0", "original_commit_id": "65843f01c93c2a16c05f0b17cd3c711cb9165b19", "user": {"login": "dzhulgakov", "id": 17890620, "node_id": "MDQ6VXNlcjE3ODkwNjIw", "avatar_url": "https://avatars2.githubusercontent.com/u/17890620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzhulgakov", "html_url": "https://github.com/dzhulgakov", "followers_url": "https://api.github.com/users/dzhulgakov/followers", "following_url": "https://api.github.com/users/dzhulgakov/following{/other_user}", "gists_url": "https://api.github.com/users/dzhulgakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzhulgakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzhulgakov/subscriptions", "organizations_url": "https://api.github.com/users/dzhulgakov/orgs", "repos_url": "https://api.github.com/users/dzhulgakov/repos", "events_url": "https://api.github.com/users/dzhulgakov/events{/privacy}", "received_events_url": "https://api.github.com/users/dzhulgakov/received_events", "type": "User", "site_admin": false}, "body": "I agree with YQ - let's just make this enum match DeviceType **exactly**. We can make UNDEFINED to be -1 if necessary?\r\n\r\nYes, I understand the type safety guarantees, but you'd have much easier life just matching them and ease cognitive load for people reading the code.\r\n\r\nAlso, we'd need to unify this DeviceId with tensor constructors in ATen at some point (at::kCPU).", "created_at": "2018-06-19T23:27:04Z", "updated_at": "2018-11-23T15:45:50Z", "html_url": "https://github.com/pytorch/pytorch/pull/8662#discussion_r196609240", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8662", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196609240"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8662#discussion_r196609240"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8662"}}, "body_html": "<p>I agree with YQ - let's just make this enum match DeviceType <strong>exactly</strong>. We can make UNDEFINED to be -1 if necessary?</p>\n<p>Yes, I understand the type safety guarantees, but you'd have much easier life just matching them and ease cognitive load for people reading the code.</p>\n<p>Also, we'd need to unify this DeviceId with tensor constructors in ATen at some point (at::kCPU).</p>", "body_text": "I agree with YQ - let's just make this enum match DeviceType exactly. We can make UNDEFINED to be -1 if necessary?\nYes, I understand the type safety guarantees, but you'd have much easier life just matching them and ease cognitive load for people reading the code.\nAlso, we'd need to unify this DeviceId with tensor constructors in ATen at some point (at::kCPU).", "in_reply_to_id": 196563346}