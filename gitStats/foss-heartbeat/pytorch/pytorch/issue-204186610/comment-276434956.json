{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/276434956", "html_url": "https://github.com/pytorch/pytorch/issues/651#issuecomment-276434956", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/651", "id": 276434956, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjQzNDk1Ng==", "user": {"login": "bmccann", "id": 3359909, "node_id": "MDQ6VXNlcjMzNTk5MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3359909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmccann", "html_url": "https://github.com/bmccann", "followers_url": "https://api.github.com/users/bmccann/followers", "following_url": "https://api.github.com/users/bmccann/following{/other_user}", "gists_url": "https://api.github.com/users/bmccann/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmccann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmccann/subscriptions", "organizations_url": "https://api.github.com/users/bmccann/orgs", "repos_url": "https://api.github.com/users/bmccann/repos", "events_url": "https://api.github.com/users/bmccann/events{/privacy}", "received_events_url": "https://api.github.com/users/bmccann/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-31T17:38:19Z", "updated_at": "2017-01-31T17:38:19Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">I went this route in my fork:\n<a href=\"https://github.com/bmccann/pytorch/tree/rnn_base_references\">https://github.com/bmccann/pytorch/tree/rnn_base_references</a>, and I can make\nthat a PR if it seems solid to you.\n\nAnd yeah! I'm working on adding DataParallel to OpenNMT here:\n<a href=\"https://github.com/bmccann/examples/tree/multi-gpu-nmt\">https://github.com/bmccann/examples/tree/multi-gpu-nmt</a>. That led me to this\nissue, and you can see the changes I've made so far in an attempt to use\nDataParallel, but there is still at least one lingering problem that I\nhaven't figured out. I can keep you updated on progress there.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Tue, Jan 31, 2017 at 8:27 AM Adam Lerer ***@***.***&gt; wrote:\n Thanks <a class=\"user-mention\" href=\"https://github.com/bmccann\">@bmccann</a> &lt;<a href=\"https://github.com/bmccann\">https://github.com/bmccann</a>&gt; . Yes, it seems that\n DataParallel has an implicit expectation that a module only holds\n parameters as module attributes.\n\n This can easily be fixed by constructing all_weights on the fly in forward.\n <a class=\"user-mention\" href=\"https://github.com/bmccann\">@bmccann</a> &lt;<a href=\"https://github.com/bmccann\">https://github.com/bmccann</a>&gt; are you working on this? Otherwise\n I can make a PR for it.\n\n P.S. Are you adding data parallel support to OpenNMT? That would be great.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"204186610\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/651\" href=\"https://github.com/pytorch/pytorch/issues/651#issuecomment-276413291\">#651 (comment)</a>&gt;,\n or mute the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ADNEpXne2Ne_xepCNKNqO3BGOOXsdfrAks5rX2DYgaJpZM4LyKSx\">https://github.com/notifications/unsubscribe-auth/ADNEpXne2Ne_xepCNKNqO3BGOOXsdfrAks5rX2DYgaJpZM4LyKSx</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I went this route in my fork:\nhttps://github.com/bmccann/pytorch/tree/rnn_base_references, and I can make\nthat a PR if it seems solid to you.\n\nAnd yeah! I'm working on adding DataParallel to OpenNMT here:\nhttps://github.com/bmccann/examples/tree/multi-gpu-nmt. That led me to this\nissue, and you can see the changes I've made so far in an attempt to use\nDataParallel, but there is still at least one lingering problem that I\nhaven't figured out. I can keep you updated on progress there.\n\u2026\nOn Tue, Jan 31, 2017 at 8:27 AM Adam Lerer ***@***.***> wrote:\n Thanks @bmccann <https://github.com/bmccann> . Yes, it seems that\n DataParallel has an implicit expectation that a module only holds\n parameters as module attributes.\n\n This can easily be fixed by constructing all_weights on the fly in forward.\n @bmccann <https://github.com/bmccann> are you working on this? Otherwise\n I can make a PR for it.\n\n P.S. Are you adding data parallel support to OpenNMT? That would be great.\n\n \u2014\n You are receiving this because you were mentioned.\n Reply to this email directly, view it on GitHub\n <#651 (comment)>,\n or mute the thread\n <https://github.com/notifications/unsubscribe-auth/ADNEpXne2Ne_xepCNKNqO3BGOOXsdfrAks5rX2DYgaJpZM4LyKSx>\n .", "body": "I went this route in my fork:\nhttps://github.com/bmccann/pytorch/tree/rnn_base_references, and I can make\nthat a PR if it seems solid to you.\n\nAnd yeah! I'm working on adding DataParallel to OpenNMT here:\nhttps://github.com/bmccann/examples/tree/multi-gpu-nmt. That led me to this\nissue, and you can see the changes I've made so far in an attempt to use\nDataParallel, but there is still at least one lingering problem that I\nhaven't figured out. I can keep you updated on progress there.\nOn Tue, Jan 31, 2017 at 8:27 AM Adam Lerer <notifications@github.com> wrote:\n\n> Thanks @bmccann <https://github.com/bmccann> . Yes, it seems that\n> DataParallel has an implicit expectation that a module only holds\n> parameters as module attributes.\n>\n> This can easily be fixed by constructing all_weights on the fly in forward.\n> @bmccann <https://github.com/bmccann> are you working on this? Otherwise\n> I can make a PR for it.\n>\n> P.S. Are you adding data parallel support to OpenNMT? That would be great.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pytorch/pytorch/issues/651#issuecomment-276413291>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ADNEpXne2Ne_xepCNKNqO3BGOOXsdfrAks5rX2DYgaJpZM4LyKSx>\n> .\n>\n"}