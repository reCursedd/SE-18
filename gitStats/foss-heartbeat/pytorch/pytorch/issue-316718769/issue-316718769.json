{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6856", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6856/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6856/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6856/events", "html_url": "https://github.com/pytorch/pytorch/pull/6856", "id": 316718769, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgzMzY0OTU5", "number": 6856, "title": "Add pos_weight argument to nn.BCEWithLogitsLoss (#5660)", "user": {"login": "velikodniy", "id": 1735272, "node_id": "MDQ6VXNlcjE3MzUyNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1735272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/velikodniy", "html_url": "https://github.com/velikodniy", "followers_url": "https://api.github.com/users/velikodniy/followers", "following_url": "https://api.github.com/users/velikodniy/following{/other_user}", "gists_url": "https://api.github.com/users/velikodniy/gists{/gist_id}", "starred_url": "https://api.github.com/users/velikodniy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/velikodniy/subscriptions", "organizations_url": "https://api.github.com/users/velikodniy/orgs", "repos_url": "https://api.github.com/users/velikodniy/repos", "events_url": "https://api.github.com/users/velikodniy/events{/privacy}", "received_events_url": "https://api.github.com/users/velikodniy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-23T08:51:42Z", "updated_at": "2018-11-23T15:44:42Z", "closed_at": "2018-06-26T16:31:08Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6856", "html_url": "https://github.com/pytorch/pytorch/pull/6856", "diff_url": "https://github.com/pytorch/pytorch/pull/6856.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6856.patch"}, "body_html": "<ul>\n<li>Add an option to control precision/recall in imbalanced datasets</li>\n<li>Add tests (but new_criterion_tests)</li>\n</ul>\n<p>Multiplier <code>1 + (pos_weight - 1) * target</code> is the only significant difference.</p>\n<p>Notes:</p>\n<ul>\n<li>I didn't implement pos_weight for <code>F.binary_cross_entropy</code>/<code>nn.BCELoss</code>. (It uses implementation from torch._C.) I can add a straightforward and numerically unstable implementation to this function but I'm not sure if it is really needed.</li>\n<li>I've added <code>pos_weight</code> as <em>last</em> argument to prevent errors in the code that doesn't use names for keyword arguments. But it looks quite ugly.</li>\n</ul>\n<p>P.S. I proposed these changes in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"303821364\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5660\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5660/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5660\">#5660</a></p>", "body_text": "Add an option to control precision/recall in imbalanced datasets\nAdd tests (but new_criterion_tests)\n\nMultiplier 1 + (pos_weight - 1) * target is the only significant difference.\nNotes:\n\nI didn't implement pos_weight for F.binary_cross_entropy/nn.BCELoss. (It uses implementation from torch._C.) I can add a straightforward and numerically unstable implementation to this function but I'm not sure if it is really needed.\nI've added pos_weight as last argument to prevent errors in the code that doesn't use names for keyword arguments. But it looks quite ugly.\n\nP.S. I proposed these changes in #5660", "body": "- Add an option to control precision/recall in imbalanced datasets\r\n- Add tests (but new_criterion_tests)\r\n\r\nMultiplier `1 + (pos_weight - 1) * target` is the only significant difference.\r\n\r\nNotes:\r\n\r\n- I didn't implement pos_weight for `F.binary_cross_entropy`/`nn.BCELoss`. (It uses implementation from torch._C.) I can add a straightforward and numerically unstable implementation to this function but I'm not sure if it is really needed.\r\n- I've added `pos_weight` as *last* argument to prevent errors in the code that doesn't use names for keyword arguments. But it looks quite ugly.\r\n\r\nP.S. I proposed these changes in #5660"}