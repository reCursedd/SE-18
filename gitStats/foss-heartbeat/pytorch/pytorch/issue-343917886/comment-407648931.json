{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/407648931", "html_url": "https://github.com/pytorch/pytorch/issues/9752#issuecomment-407648931", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9752", "id": 407648931, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzY0ODkzMQ==", "user": {"login": "avrum", "id": 7944539, "node_id": "MDQ6VXNlcjc5NDQ1Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7944539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avrum", "html_url": "https://github.com/avrum", "followers_url": "https://api.github.com/users/avrum/followers", "following_url": "https://api.github.com/users/avrum/following{/other_user}", "gists_url": "https://api.github.com/users/avrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/avrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avrum/subscriptions", "organizations_url": "https://api.github.com/users/avrum/orgs", "repos_url": "https://api.github.com/users/avrum/repos", "events_url": "https://api.github.com/users/avrum/events{/privacy}", "received_events_url": "https://api.github.com/users/avrum/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-25T06:34:56Z", "updated_at": "2018-07-25T06:34:56Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1093985\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Maratyszcza\">@Maratyszcza</a></p>\n<p>Thanks for the quick replay, I just tried it again on my Ubuntu machine (14) with:<br>\nNDK: r17b<br>\ncmake: 3.12<br>\nclang version 3.8.0-2ubuntu4 (tags/RELEASE_380/final)<br>\nTarget: x86_64-pc-linux-gnu</p>\n<p>I managed to run successfully the \"build_android.sh\" without any parameters<br>\nbut when run:</p>\n<p>./build_android.sh -DANDROID_ABI=x86 -DANDROID_TOOLCHAIN=clang</p>\n<h2>I'm now getting this error:</h2>\n<p>(*Attaching the first line of summary from the build output too)</p>\n<p>--<br>\n-- ******** Summary ********<br>\n-- General:<br>\n--   CMake version         : 3.12.0<br>\n--   CMake command         : /home/aviram/Downloads/cmake-3.12.0-Linux-x86_64/bin/cmake<br>\n--   Git version           : v0.1.11-9444-gba634c1<br>\n--   System                : Android<br>\n--   C++ compiler          : /home/aviram/Downloads/android-ndk-r17b/toolchains/x86-4.9/prebuilt/linux-x86_64/bin/i686-linux-android-g++<br>\n--   C++ compiler version  : 4.9.0<br>\n--   BLAS                  : Eigen<br>\n--   CXX flags             : -isystem /home/aviram/Downloads/android-ndk-r17b/sysroot/usr/include/i686-linux-android -D__ANDROID_API__=21 -g -DANDROID -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -mstackrealign -Wa,--noexecstack -Wformat -Werror=format-security -std=c++11 -frtti -fexceptions  -Wno-deprecated -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -s<br>\n--   Build type            : Release</p>\n<p>...<br>\n...</p>\n<p>--   USE_NNPACK            : ON<br>\n--   USE_OBSERVERS         : OFF<br>\n--   USE_OPENCL            : OFF<br>\n--   USE_OPENCV            : OFF<br>\n--   USE_OPENMP            : OFF<br>\n--   USE_PROF              : OFF<br>\n--   USE_REDIS             : OFF<br>\n--   USE_ROCKSDB           : OFF<br>\n--   USE_ZMQ               : OFF<br>\n--   Public Dependencies  : Threads::Threads<br>\n--   Private Dependencies : nnpack;cpuinfo;log;onnxifi_loader;dl<br>\n-- Configuring done<br>\nWARNING: Target \"libprotoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.<br>\nWARNING: Target \"protoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.<br>\n-- Generating done<br>\n-- Build files have been written to: /home/aviram/Workspaces/pytourch/pytorch/build_android<br>\n[  0%] Building CXX object third_party/protobuf/cmake/CMakeFiles/js_embed.dir/__/src/google/protobuf/compiler/js/embed.cc.o<br>\n[  0%] Linking CXX executable ../../../bin/js_embed<br>\ni686-linux-android-g++: error: unrecognized command line option '-nostdlib++'<br>\ni686-linux-android-g++: error: unrecognized command line option '-Qunused-arguments'<br>\nthird_party/protobuf/cmake/CMakeFiles/js_embed.dir/build.make:83: recipe for target 'bin/js_embed' failed<br>\nmake[2]: *** [bin/js_embed] Error 1<br>\nCMakeFiles/Makefile2:128: recipe for target 'third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all' failed<br>\nmake[1]: *** [third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all] Error 2<br>\nMakefile:140: recipe for target 'all' failed<br>\nmake: *** [all] Error 2</p>\n<p>Not sure what am I missing...<br>\nDid you tries the command with the x86 argument?</p>", "body_text": "@Maratyszcza\nThanks for the quick replay, I just tried it again on my Ubuntu machine (14) with:\nNDK: r17b\ncmake: 3.12\nclang version 3.8.0-2ubuntu4 (tags/RELEASE_380/final)\nTarget: x86_64-pc-linux-gnu\nI managed to run successfully the \"build_android.sh\" without any parameters\nbut when run:\n./build_android.sh -DANDROID_ABI=x86 -DANDROID_TOOLCHAIN=clang\nI'm now getting this error:\n(*Attaching the first line of summary from the build output too)\n--\n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.12.0\n--   CMake command         : /home/aviram/Downloads/cmake-3.12.0-Linux-x86_64/bin/cmake\n--   Git version           : v0.1.11-9444-gba634c1\n--   System                : Android\n--   C++ compiler          : /home/aviram/Downloads/android-ndk-r17b/toolchains/x86-4.9/prebuilt/linux-x86_64/bin/i686-linux-android-g++\n--   C++ compiler version  : 4.9.0\n--   BLAS                  : Eigen\n--   CXX flags             : -isystem /home/aviram/Downloads/android-ndk-r17b/sysroot/usr/include/i686-linux-android -D__ANDROID_API__=21 -g -DANDROID -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -mstackrealign -Wa,--noexecstack -Wformat -Werror=format-security -std=c++11 -frtti -fexceptions  -Wno-deprecated -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -s\n--   Build type            : Release\n...\n...\n--   USE_NNPACK            : ON\n--   USE_OBSERVERS         : OFF\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   Public Dependencies  : Threads::Threads\n--   Private Dependencies : nnpack;cpuinfo;log;onnxifi_loader;dl\n-- Configuring done\nWARNING: Target \"libprotoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.\nWARNING: Target \"protoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.\n-- Generating done\n-- Build files have been written to: /home/aviram/Workspaces/pytourch/pytorch/build_android\n[  0%] Building CXX object third_party/protobuf/cmake/CMakeFiles/js_embed.dir/__/src/google/protobuf/compiler/js/embed.cc.o\n[  0%] Linking CXX executable ../../../bin/js_embed\ni686-linux-android-g++: error: unrecognized command line option '-nostdlib++'\ni686-linux-android-g++: error: unrecognized command line option '-Qunused-arguments'\nthird_party/protobuf/cmake/CMakeFiles/js_embed.dir/build.make:83: recipe for target 'bin/js_embed' failed\nmake[2]: *** [bin/js_embed] Error 1\nCMakeFiles/Makefile2:128: recipe for target 'third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all' failed\nmake[1]: *** [third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nNot sure what am I missing...\nDid you tries the command with the x86 argument?", "body": "@Maratyszcza \r\n\r\nThanks for the quick replay, I just tried it again on my Ubuntu machine (14) with:\r\nNDK: r17b\r\ncmake: 3.12\r\nclang version 3.8.0-2ubuntu4 (tags/RELEASE_380/final)\r\nTarget: x86_64-pc-linux-gnu\r\n\r\nI managed to run successfully the \"build_android.sh\" without any parameters\r\nbut when run:\r\n\r\n./build_android.sh -DANDROID_ABI=x86 -DANDROID_TOOLCHAIN=clang\r\n\r\n## I'm now getting this error:\r\n(*Attaching the first line of summary from the build output too)\r\n\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.12.0\r\n--   CMake command         : /home/aviram/Downloads/cmake-3.12.0-Linux-x86_64/bin/cmake\r\n--   Git version           : v0.1.11-9444-gba634c1\r\n--   System                : Android\r\n--   C++ compiler          : /home/aviram/Downloads/android-ndk-r17b/toolchains/x86-4.9/prebuilt/linux-x86_64/bin/i686-linux-android-g++\r\n--   C++ compiler version  : 4.9.0\r\n--   BLAS                  : Eigen\r\n--   CXX flags             : -isystem /home/aviram/Downloads/android-ndk-r17b/sysroot/usr/include/i686-linux-android -D__ANDROID_API__=21 -g -DANDROID -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -mstackrealign -Wa,--noexecstack -Wformat -Werror=format-security -std=c++11 -frtti -fexceptions  -Wno-deprecated -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -s\r\n--   Build type            : Release\r\n\r\n...\r\n...\r\n\r\n--   USE_NNPACK            : ON\r\n--   USE_OBSERVERS         : OFF\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : OFF\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   Public Dependencies  : Threads::Threads\r\n--   Private Dependencies : nnpack;cpuinfo;log;onnxifi_loader;dl\r\n-- Configuring done\r\nWARNING: Target \"libprotoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.\r\nWARNING: Target \"protoc\" has EXCLUDE_FROM_ALL set and will not be built by default but an install rule has been provided for it.  CMake does not define behavior for this case.\r\n-- Generating done\r\n-- Build files have been written to: /home/aviram/Workspaces/pytourch/pytorch/build_android\r\n[  0%] Building CXX object third_party/protobuf/cmake/CMakeFiles/js_embed.dir/__/src/google/protobuf/compiler/js/embed.cc.o\r\n[  0%] Linking CXX executable ../../../bin/js_embed\r\ni686-linux-android-g++: error: unrecognized command line option '-nostdlib++'\r\ni686-linux-android-g++: error: unrecognized command line option '-Qunused-arguments'\r\nthird_party/protobuf/cmake/CMakeFiles/js_embed.dir/build.make:83: recipe for target 'bin/js_embed' failed\r\nmake[2]: *** [bin/js_embed] Error 1\r\nCMakeFiles/Makefile2:128: recipe for target 'third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all' failed\r\nmake[1]: *** [third_party/protobuf/cmake/CMakeFiles/js_embed.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n\r\n\r\n\r\nNot sure what am I missing...\r\nDid you tries the command with the x86 argument?"}