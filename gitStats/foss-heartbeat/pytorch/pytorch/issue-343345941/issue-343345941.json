{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9681", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9681/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9681/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9681/events", "html_url": "https://github.com/pytorch/pytorch/issues/9681", "id": 343345941, "node_id": "MDU6SXNzdWUzNDMzNDU5NDE=", "number": 9681, "title": "[feature request] Support for 0-length sequences in packed_sequences", "user": {"login": "AntoinePrv", "id": 11088808, "node_id": "MDQ6VXNlcjExMDg4ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/11088808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AntoinePrv", "html_url": "https://github.com/AntoinePrv", "followers_url": "https://api.github.com/users/AntoinePrv/followers", "following_url": "https://api.github.com/users/AntoinePrv/following{/other_user}", "gists_url": "https://api.github.com/users/AntoinePrv/gists{/gist_id}", "starred_url": "https://api.github.com/users/AntoinePrv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AntoinePrv/subscriptions", "organizations_url": "https://api.github.com/users/AntoinePrv/orgs", "repos_url": "https://api.github.com/users/AntoinePrv/repos", "events_url": "https://api.github.com/users/AntoinePrv/events{/privacy}", "received_events_url": "https://api.github.com/users/AntoinePrv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-21T18:26:23Z", "updated_at": "2018-08-05T07:48:54Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hello,</p>\n<p>Currently, calling <code>pack_padded_sequence</code> with some length of size zero raises the error:</p>\n<pre><code>ValueError: Length of all samples has to be greater than 0, but found an element in 'lengths' that is &lt;= 0\n</code></pre>\n<p>I believe it would be useful to support sequences of length zero for the following case. Working with variable lengths sequences, and implementing truncated backpropagation through time, I split my sequences in chunks along the time axis. In the last chunks some of the shortest sequences happened to be completely padded (hence of length zero).</p>\n<p>Of course there are workarounds but I believe supporting it would reduce the amount of code to write.</p>\n<p>Thank you</p>", "body_text": "Hello,\nCurrently, calling pack_padded_sequence with some length of size zero raises the error:\nValueError: Length of all samples has to be greater than 0, but found an element in 'lengths' that is <= 0\n\nI believe it would be useful to support sequences of length zero for the following case. Working with variable lengths sequences, and implementing truncated backpropagation through time, I split my sequences in chunks along the time axis. In the last chunks some of the shortest sequences happened to be completely padded (hence of length zero).\nOf course there are workarounds but I believe supporting it would reduce the amount of code to write.\nThank you", "body": "Hello,\r\n\r\nCurrently, calling `pack_padded_sequence` with some length of size zero raises the error:\r\n```\r\nValueError: Length of all samples has to be greater than 0, but found an element in 'lengths' that is <= 0\r\n```\r\n\r\nI believe it would be useful to support sequences of length zero for the following case. Working with variable lengths sequences, and implementing truncated backpropagation through time, I split my sequences in chunks along the time axis. In the last chunks some of the shortest sequences happened to be completely padded (hence of length zero).\r\n\r\nOf course there are workarounds but I believe supporting it would reduce the amount of code to write.\r\n\r\nThank you"}