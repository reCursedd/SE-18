{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/142463452", "pull_request_review_id": 66828420, "id": 142463452, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MjQ2MzQ1Mg==", "diff_hunk": "@@ -142,17 +179,30 @@ size_t getMaxWorkspaceSize(cudnnHandle_t handle, const Convolution& conv, algo_t\n     return max_ws_size;\n }\n \n+template<typename perf_t>\n+perf_t getBestAlgorithm(perf_t *perfResults, bool deterministic, int n_algo) {\n+  if (deterministic) {\n+    for (int i = 0; i < n_algo; i++) {\n+      if (perfResults[i].status == CUDNN_STATUS_SUCCESS && perfResults[i].determinism == CUDNN_DETERMINISTIC) {", "path": "torch/csrc/cudnn/Conv.cpp", "position": null, "original_position": 96, "commit_id": "a11d067ab623b2f98b836ad37c2b9c838436aa60", "original_commit_id": "67921358ed6906b666406a6dee8e78a5770904cc", "user": {"login": "prigoyal", "id": 13488275, "node_id": "MDQ6VXNlcjEzNDg4Mjc1", "avatar_url": "https://avatars0.githubusercontent.com/u/13488275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prigoyal", "html_url": "https://github.com/prigoyal", "followers_url": "https://api.github.com/users/prigoyal/followers", "following_url": "https://api.github.com/users/prigoyal/following{/other_user}", "gists_url": "https://api.github.com/users/prigoyal/gists{/gist_id}", "starred_url": "https://api.github.com/users/prigoyal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prigoyal/subscriptions", "organizations_url": "https://api.github.com/users/prigoyal/orgs", "repos_url": "https://api.github.com/users/prigoyal/repos", "events_url": "https://api.github.com/users/prigoyal/events{/privacy}", "received_events_url": "https://api.github.com/users/prigoyal/received_events", "type": "User", "site_admin": false}, "body": "the algorithms are returned in sorted way by cudnn i.e. first is the fastest etc.\r\nif there was error in benchmarking, we fallback to default algo which are also deterministic and could be a better choice to make", "created_at": "2017-10-03T17:10:14Z", "updated_at": "2018-11-23T15:34:59Z", "html_url": "https://github.com/pytorch/pytorch/pull/2893#discussion_r142463452", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2893", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/142463452"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2893#discussion_r142463452"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2893"}}, "body_html": "<p>the algorithms are returned in sorted way by cudnn i.e. first is the fastest etc.<br>\nif there was error in benchmarking, we fallback to default algo which are also deterministic and could be a better choice to make</p>", "body_text": "the algorithms are returned in sorted way by cudnn i.e. first is the fastest etc.\nif there was error in benchmarking, we fallback to default algo which are also deterministic and could be a better choice to make"}