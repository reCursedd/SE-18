{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/425586088", "html_url": "https://github.com/pytorch/pytorch/pull/11954#issuecomment-425586088", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11954", "id": 425586088, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTU4NjA4OA==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-28T22:43:08Z", "updated_at": "2018-09-28T22:43:08Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4842908\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bwasti\">@bwasti</a> I just pulled the latest master with your changes and it is failing as below.  Before your changes, it was building fine.</p>\n<p>CMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o: In function <code>Converter_InjectDataEdgeIndicators_Test::TestBody()': converter_nomigraph_test.cc:(.text+0x6398): undefined reference to </code>caffe2::injectDataEdgeIndicators(caffe2::NetDef*)'<br>\nconverter_nomigraph_test.cc:(.text+0x68c0): undefined reference to `caffe2::removeDataEdgeIndicators(caffe2::NetDef*)'<br>\ncollect2: error: ld returned 1 exit status</p>\n<p>This is the command that is failing:<br>\n/usr/bin/c++  --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized -O3   -L\"/home/jenkins/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN -rdynamic CMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o  -o ../bin/converter_nomigraph_test -Wl,-rpath,/home/jenkins/pytorch/build/lib:/usr/local/cuda/lib64:::::::::::::::: ../lib/libgtest_main.a -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2.so -Wl,--as-needed -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2_gpu.so -Wl,--as-needed /usr/local/cuda/lib64/libcudart_static.a -ldl /usr/lib/powerpc64le-linux-gnu/librt.so ../lib/libcaffe2.so ../lib/libprotobuf.a ../lib/libc10.so /usr/local/cuda/lib64/libcufft.so /usr/local/cuda/lib64/libcurand.so /usr/local/cuda/lib64/libcudnn.so.7 /usr/local/cuda/lib64/libcublas.so /usr/local/cuda/lib64/libcublas_device.a ../lib/libgtest.a -pthread</p>\n<p>Does this pass your x86 CI ?</p>", "body_text": "@bwasti I just pulled the latest master with your changes and it is failing as below.  Before your changes, it was building fine.\nCMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o: In function Converter_InjectDataEdgeIndicators_Test::TestBody()': converter_nomigraph_test.cc:(.text+0x6398): undefined reference to caffe2::injectDataEdgeIndicators(caffe2::NetDef*)'\nconverter_nomigraph_test.cc:(.text+0x68c0): undefined reference to `caffe2::removeDataEdgeIndicators(caffe2::NetDef*)'\ncollect2: error: ld returned 1 exit status\nThis is the command that is failing:\n/usr/bin/c++  --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized -O3   -L\"/home/jenkins/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN -rdynamic CMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o  -o ../bin/converter_nomigraph_test -Wl,-rpath,/home/jenkins/pytorch/build/lib:/usr/local/cuda/lib64:::::::::::::::: ../lib/libgtest_main.a -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2.so -Wl,--as-needed -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2_gpu.so -Wl,--as-needed /usr/local/cuda/lib64/libcudart_static.a -ldl /usr/lib/powerpc64le-linux-gnu/librt.so ../lib/libcaffe2.so ../lib/libprotobuf.a ../lib/libc10.so /usr/local/cuda/lib64/libcufft.so /usr/local/cuda/lib64/libcurand.so /usr/local/cuda/lib64/libcudnn.so.7 /usr/local/cuda/lib64/libcublas.so /usr/local/cuda/lib64/libcublas_device.a ../lib/libgtest.a -pthread\nDoes this pass your x86 CI ?", "body": "@bwasti I just pulled the latest master with your changes and it is failing as below.  Before your changes, it was building fine.\r\n\r\nCMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o: In function `Converter_InjectDataEdgeIndicators_Test::TestBody()':\r\nconverter_nomigraph_test.cc:(.text+0x6398): undefined reference to `caffe2::injectDataEdgeIndicators(caffe2::NetDef*)'\r\nconverter_nomigraph_test.cc:(.text+0x68c0): undefined reference to `caffe2::removeDataEdgeIndicators(caffe2::NetDef*)'\r\ncollect2: error: ld returned 1 exit status\r\n\r\nThis is the command that is failing:\r\n/usr/bin/c++  --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized -O3   -L\"/home/jenkins/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN -rdynamic CMakeFiles/converter_nomigraph_test.dir/opt/converter_nomigraph_test.cc.o  -o ../bin/converter_nomigraph_test -Wl,-rpath,/home/jenkins/pytorch/build/lib:/usr/local/cuda/lib64:::::::::::::::: ../lib/libgtest_main.a -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2.so -Wl,--as-needed -Wl,--no-as-needed,/home/jenkins/pytorch/build/lib/libcaffe2_gpu.so -Wl,--as-needed /usr/local/cuda/lib64/libcudart_static.a -ldl /usr/lib/powerpc64le-linux-gnu/librt.so ../lib/libcaffe2.so ../lib/libprotobuf.a ../lib/libc10.so /usr/local/cuda/lib64/libcufft.so /usr/local/cuda/lib64/libcurand.so /usr/local/cuda/lib64/libcudnn.so.7 /usr/local/cuda/lib64/libcublas.so /usr/local/cuda/lib64/libcublas_device.a ../lib/libgtest.a -pthread\r\n\r\nDoes this pass your x86 CI ?"}