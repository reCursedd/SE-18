{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/220836789", "pull_request_review_id": 159336415, "id": 220836789, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMDgzNjc4OQ==", "diff_hunk": "@@ -126,92 +125,83 @@ class CAFFE2_API Registerer {\n \n   template <class DerivedType>\n   static ObjectPtrType DefaultCreator(Args... args) {\n-    // TODO(jiayq): old versions of NVCC does not handle make_unique well\n-    // so we are forced to use a unique_ptr constructor here. Check if it is\n-    // fine to use make_unique in the future.\n-    // return make_unique<DerivedType>(args...);\n     return ObjectPtrType(new DerivedType(args...));\n   }\n };\n \n /**\n- * AT_ANONYMOUS_VARIABLE(str) introduces an identifier starting with\n+ * C10_ANONYMOUS_VARIABLE(str) introduces an identifier starting with\n  * str and ending with a number that varies with the line.\n- * Pretty much a copy from 'folly/Preprocessor.h'\n  */\n-#define AT_CONCATENATE_IMPL(s1, s2) s1##s2\n-#define AT_CONCATENATE(s1, s2) AT_CONCATENATE_IMPL(s1, s2)\n+#define C10_CONCATENATE_IMPL(s1, s2) s1##s2\n+#define C10_CONCATENATE(s1, s2) C10_CONCATENATE_IMPL(s1, s2)\n #ifdef __COUNTER__\n-#define AT_ANONYMOUS_VARIABLE(str) AT_CONCATENATE(str, __COUNTER__)\n+#define C10_ANONYMOUS_VARIABLE(str) C10_CONCATENATE(str, __COUNTER__)\n #else\n-#define AT_ANONYMOUS_VARIABLE(str) AT_CONCATENATE(str, __LINE__)\n+#define C10_ANONYMOUS_VARIABLE(str) C10_CONCATENATE(str, __LINE__)\n #endif\n \n /**\n- * AT_DECLARE_TYPED_REGISTRY is a macro that expands to a function\n+ * C10_DECLARE_TYPED_REGISTRY is a macro that expands to a function\n  * declaration, as well as creating a convenient typename for its corresponding\n  * registerer.\n  */\n-#define AT_DECLARE_TYPED_REGISTRY(                                \\\n+#define C10_DECLARE_TYPED_REGISTRY(                                \\\n     RegistryName, SrcType, ObjectType, PtrType, ...)              \\\n-  CAFFE2_API Registry<SrcType, PtrType<ObjectType>, __VA_ARGS__>* \\\n+  C10_IMPORT ::c10::Registry<SrcType, PtrType<ObjectType>, ##__VA_ARGS__>* \\", "path": "c10/util/Registry.h", "position": 129, "original_position": 116, "commit_id": "0f4377afed19a4bc5b8444255394bff97fbe9559", "original_commit_id": "e393dc538498133938629877101c1a4814b67a32", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "body": "seems to have a typo: `case` :) ", "created_at": "2018-09-27T08:34:10Z", "updated_at": "2018-11-23T15:52:04Z", "html_url": "https://github.com/pytorch/pytorch/pull/12077#discussion_r220836789", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12077", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/220836789"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12077#discussion_r220836789"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12077"}}, "body_html": "<p>seems to have a typo: <code>case</code> :)</p>", "body_text": "seems to have a typo: case :)", "in_reply_to_id": 220568222}