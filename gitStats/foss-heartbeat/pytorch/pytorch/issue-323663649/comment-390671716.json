{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/390671716", "html_url": "https://github.com/pytorch/pytorch/issues/7615#issuecomment-390671716", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7615", "id": 390671716, "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDY3MTcxNg==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-21T14:32:02Z", "updated_at": "2018-05-21T14:32:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I was able to re-create the error with debug on, it just took a while.<br>\nThis is on version torch (0.5.0a0+a890a0b)</p>\n<p>The pure virtual function is being called from<br>\n~/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h   line 509</p>\n<p>....<br>\n#endif /* __TBB_TASK_PRIORITY */<br>\nITT_STACK(SchedulerTraits::itt_possible, callee_enter, t-&gt;prefix().context-&gt;itt_caller);<br>\nt_next = t-&gt;execute();     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  line 509<br>\nITT_STACK(SchedulerTraits::itt_possible, callee_leave, t-&gt;prefix().context-&gt;itt_caller);<br>\nif (t_next) {<br>\n.....</p>\n<p>Here is the stack</p>\n<p>#0  0x00003fffb785eff0 in raise () from /lib64/libc.so.6<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171281708\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/1\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/1/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/1\">#1</a>  0x00003fffb786136c in abort () from /lib64/libc.so.6<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171402941\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/2/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/2\">#2</a>  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171485123\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/3/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/3\">#3</a>  0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=)<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"171522963\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4\">#4</a>  0x00003fff94a99eb0 in std::terminate ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"173498149\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5\">#5</a>  0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174289461\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/6\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/6\">#6</a>  <br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174818921\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/7\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/7/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/7\">#7</a>  0x00003fffb785eff0 in raise () from /lib64/libc.so.6<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"174871471\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/8/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/8\">#8</a>  0x00003fffb786136c in abort () from /lib64/libc.so.6<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175537036\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/9/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/9\">#9</a>  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175552272\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/10\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/10/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/10\">#10</a> 0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=)<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559413\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11\">#11</a> 0x00003fff94a99eb0 in std::terminate ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175559558\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12\">#12</a> 0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()<br>\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175567843\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/13\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/13/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/13\">#13</a> 0x00003fffaa8f8974 in tbb::internal::custom_schedulertbb::internal::IntelSchedulerTraits::local_wait_for_all (this=0x3efcdc000900, parent=...,<br>\nchild=0x3efd7c0029c0) at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h:509<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175574237\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/14\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/14/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/14\">#14</a> 0x00003fffaa8d87a0 in tbb::internal::arena::process (this=0x3effdccce400, s=...)<br>\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/arena.cpp:160<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175627398\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/15\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/15/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/15\">#15</a> 0x00003fffaa8eb430 in tbb::internal::market::process (this=0x3effdccb9880, j=...)<br>\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/market.cpp:693<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175834985\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/16/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/16\">#16</a> 0x00003fffaa8ef1d8 in tbb::internal::rml::private_worker::run (this=0x3effdccc4880)<br>\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:270<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"175835445\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/17\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/17/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/17\">#17</a> 0x00003fffaa8eef24 in tbb::internal::rml::private_worker::thread_routine (arg=0x3effdccc4880)<br>\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:223<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176034421\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/18\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/18/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/18\">#18</a> 0x00003fffb7b68af4 in start_thread () from /lib64/libpthread.so.0<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"176075690\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/19\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/19/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/19\">#19</a> 0x00003fffb7944ef4 in clone () from /lib64/libc.so.6</p>", "body_text": "I was able to re-create the error with debug on, it just took a while.\nThis is on version torch (0.5.0a0+a890a0b)\nThe pure virtual function is being called from\n~/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h   line 509\n....\n#endif /* __TBB_TASK_PRIORITY */\nITT_STACK(SchedulerTraits::itt_possible, callee_enter, t->prefix().context->itt_caller);\nt_next = t->execute();     <<<<<<<<<<<<<<<<<<<  line 509\nITT_STACK(SchedulerTraits::itt_possible, callee_leave, t->prefix().context->itt_caller);\nif (t_next) {\n.....\nHere is the stack\n#0  0x00003fffb785eff0 in raise () from /lib64/libc.so.6\n#1  0x00003fffb786136c in abort () from /lib64/libc.so.6\n#2  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95\n#3  0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=)\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47\n#4  0x00003fff94a99eb0 in std::terminate ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57\n#5  0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50\n#6  \n#7  0x00003fffb785eff0 in raise () from /lib64/libc.so.6\n#8  0x00003fffb786136c in abort () from /lib64/libc.so.6\n#9  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95\n#10 0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=)\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47\n#11 0x00003fff94a99eb0 in std::terminate ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57\n#12 0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()\nat /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50\n#13 0x00003fffaa8f8974 in tbb::internal::custom_schedulertbb::internal::IntelSchedulerTraits::local_wait_for_all (this=0x3efcdc000900, parent=...,\nchild=0x3efd7c0029c0) at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h:509\n#14 0x00003fffaa8d87a0 in tbb::internal::arena::process (this=0x3effdccce400, s=...)\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/arena.cpp:160\n#15 0x00003fffaa8eb430 in tbb::internal::market::process (this=0x3effdccb9880, j=...)\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/market.cpp:693\n#16 0x00003fffaa8ef1d8 in tbb::internal::rml::private_worker::run (this=0x3effdccc4880)\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:270\n#17 0x00003fffaa8eef24 in tbb::internal::rml::private_worker::thread_routine (arg=0x3effdccc4880)\nat /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:223\n#18 0x00003fffb7b68af4 in start_thread () from /lib64/libpthread.so.0\n#19 0x00003fffb7944ef4 in clone () from /lib64/libc.so.6", "body": "I was able to re-create the error with debug on, it just took a while.  \r\nThis is on version torch (0.5.0a0+a890a0b)\r\n\r\nThe pure virtual function is being called from \r\n~/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h   line 509 \r\n\r\n....\r\n#endif /* __TBB_TASK_PRIORITY */\r\n                    ITT_STACK(SchedulerTraits::itt_possible, callee_enter, t->prefix().context->itt_caller);\r\n                    t_next = t->execute();     <<<<<<<<<<<<<<<<<<<  line 509\r\n                    ITT_STACK(SchedulerTraits::itt_possible, callee_leave, t->prefix().context->itt_caller);\r\n                    if (t_next) {\r\n.....\r\n\r\nHere is the stack\r\n\r\n#0  0x00003fffb785eff0 in raise () from /lib64/libc.so.6\r\n#1  0x00003fffb786136c in abort () from /lib64/libc.so.6\r\n#2  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95\r\n#3  0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=<optimized out>)\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47\r\n#4  0x00003fff94a99eb0 in std::terminate ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57\r\n#5  0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50\r\n#6  <function called from gdb>\r\n#7  0x00003fffb785eff0 in raise () from /lib64/libc.so.6\r\n#8  0x00003fffb786136c in abort () from /lib64/libc.so.6\r\n#9  0x00003fff94a9ca60 in __gnu_cxx::__verbose_terminate_handler ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/vterminate.cc:95\r\n#10 0x00003fff94a99e04 in __cxxabiv1::__terminate (handler=<optimized out>)\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:47\r\n#11 0x00003fff94a99eb0 in std::terminate ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/eh_terminate.cc:57\r\n#12 0x00003fff94a9b508 in __cxxabiv1::__cxa_pure_virtual ()\r\n    at /opt/conda/conda-bld/compilers_linux-ppc64le_1511862875460/work/.build/src/gcc-7.2.0/libstdc++-v3/libsupc++/pure.cc:50\r\n#13 0x00003fffaa8f8974 in tbb::internal::custom_scheduler<tbb::internal::IntelSchedulerTraits>::local_wait_for_all (this=0x3efcdc000900, parent=...,\r\n    child=0x3efd7c0029c0) at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/custom_scheduler.h:509\r\n#14 0x00003fffaa8d87a0 in tbb::internal::arena::process (this=0x3effdccce400, s=...)\r\n    at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/arena.cpp:160\r\n#15 0x00003fffaa8eb430 in tbb::internal::market::process (this=0x3effdccb9880, j=...)\r\n    at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/market.cpp:693\r\n#16 0x00003fffaa8ef1d8 in tbb::internal::rml::private_worker::run (this=0x3effdccc4880)\r\n    at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:270\r\n#17 0x00003fffaa8eef24 in tbb::internal::rml::private_worker::thread_routine (arg=0x3effdccc4880)\r\n    at /home/freddie/builder/jenkins/pytorch/pytorch/third_party/tbb/src/tbb/private_server.cpp:223\r\n#18 0x00003fffb7b68af4 in start_thread () from /lib64/libpthread.so.0\r\n#19 0x00003fffb7944ef4 in clone () from /lib64/libc.so.6\r\n"}