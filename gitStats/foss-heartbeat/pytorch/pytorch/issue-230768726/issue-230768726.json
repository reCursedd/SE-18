{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1626", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1626/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1626/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1626/events", "html_url": "https://github.com/pytorch/pytorch/issues/1626", "id": 230768726, "node_id": "MDU6SXNzdWUyMzA3Njg3MjY=", "number": 1626, "title": " Modules/gcmodule.c:380: visit_decref: Assertion `((gc)->gc.gc_refs >> (1)) != 0' failed.", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pytorch/pytorch/milestones/2", "html_url": "https://github.com/pytorch/pytorch/milestone/2", "labels_url": "https://api.github.com/repos/pytorch/pytorch/milestones/2/labels", "id": 2536200, "node_id": "MDk6TWlsZXN0b25lMjUzNjIwMA==", "number": 2, "title": "v0.2", "description": "", "creator": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 34, "state": "closed", "created_at": "2017-05-22T18:19:28Z", "updated_at": "2018-08-06T21:16:06Z", "due_on": "2017-06-04T07:00:00Z", "closed_at": "2018-08-06T21:16:06Z"}, "comments": 4, "created_at": "2017-05-23T16:25:08Z", "updated_at": "2017-06-03T01:08:51Z", "closed_at": "2017-06-03T01:08:51Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Continued from: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"230748665\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/1624\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/1624/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/1624\">#1624</a> (running tests on a debug build of python3.6.1.</p>\n<p>The following tests in TestNN failed with gc problems:</p>\n<p>test_variable_sequence_cuda<br>\ntest_cuda_rnn_fused<br>\ntest_rnn_initial_hidden_state<br>\ntest_RNN_cpu_vs_cudnn_no_dropout<br>\ntest_RNN_cpu_vs_cudnn_with_dropout<br>\ntest_RNN_dropout_state<br>\ntest_RNN_change_dropout</p>\n<p>Error is:</p>\n<pre><code> Modules/gcmodule.c:380: visit_decref: Assertion `((gc)-&gt;gc.gc_refs &gt;&gt; (1)) != 0' failed.\n</code></pre>\n<p>Running it through gdb on \"test_variable_sequence_cuda\" yields the following stack trace:</p>\n<pre><code>#0  0x00007ffff712c1d7 in raise () at /lib64/libc.so.6\n#1  0x00007ffff712d8c8 in abort () at /lib64/libc.so.6\n#2  0x00007ffff7125146 in __assert_fail_base () at /lib64/libc.so.6\n#3  0x00007ffff71251f2 in  () at /lib64/libc.so.6\n#4  0x0000000000435f63 in visit_decref (op=0x7fffc006e4f8, data=&lt;optimized out&gt;) at Modules/gcmodule.c:380\n#5  0x00007fffecd7c20d in THPVariable_traverse(THPVariable*, visitproc, void*) (self=self@entry=0x7fffc00781f0, visit=visit@entry=0x435efd &lt;visit_decref&gt;, arg=arg@entry=0x0)\n    at torch/csrc/autograd/python_variable.cpp:92\n#6  0x00000000004a86ce in subtype_traverse (self=0x7fffc00781f0, visit=0x435efd &lt;visit_decref&gt;, arg=0x0) at Objects/typeobject.c:1021\n#7  0x00000000004356ee in subtract_refs (containers=containers@entry=0x885d20 &lt;generations&gt;) at Modules/gcmodule.c:399\n#8  0x0000000000436809 in collect (generation=generation@entry=0, n_collected=n_collected@entry=0x7fffffff96b8, n_uncollectable=n_uncollectable@entry=0x7fffffff96b0, nofail=nofail@entry=0)\n    at Modules/gcmodule.c:956\n#9  0x0000000000436c47 in collect_with_callback (generation=0) at Modules/gcmodule.c:1128\n#10 0x0000000000436d3f in collect_generations () at Modules/gcmodule.c:1151\n#11 0x0000000000436eac in _PyObject_GC_Alloc (use_calloc=use_calloc@entry=0, basicsize=basicsize@entry=72) at Modules/gcmodule.c:1726\n#12 0x0000000000437382 in _PyObject_GC_Malloc (basicsize=basicsize@entry=72) at Modules/gcmodule.c:1736\n#13 0x00000000004a8443 in PyType_GenericAlloc (type=0x7fffed9eb400 &lt;THPSizeType&gt;, nitems=2) at Objects/typeobject.c:936\n#14 0x00007fffecd3083f in THPSize_New(int, long*) (dim=2, sizes=0x4547f5c0) at torch/csrc/Size.cpp:16\n#15 0x00007fffed1c2102 in THCPDoubleTensor_size(_object*, _object*, _object*) (self=&lt;optimized out&gt;, args=0x7ffff7fa0058, kwargs=0x0)\n    at /data/users/gchanan/pytorch6/torch/csrc/generic/TensorMethods.cpp:650\n#16 0x00000000004950a9 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28df328, args=args@entry=0x4547e598, nargs=nargs@entry=0, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:231\n#17 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28df328, stack=stack@entry=0x4547e598, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\n#18 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9908, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\n#19 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#20 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547e3e8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#21 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc2406e80, globals=&lt;optimized out&gt;, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=4, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\n#22 0x0000000000531168 in PyEval_EvalCodeEx (_co=&lt;optimized out&gt;, globals=&lt;optimized out&gt;, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=&lt;optimized out&gt;, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=0x0, closure=0x0) at Python/ceval.c:4149\n#23 0x000000000047386f in function_call (func=0x7fffc23a6840, arg=0x7fffc008c458, kw=0x0) at Objects/funcobject.c:604\n#24 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23a6840, args=args@entry=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#25 0x00000000005316b0 in PyEval_CallObjectWithKeywords (func=0x7fffc23a6840, args=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Python/ceval.c:4718\n#26 0x0000000000444c69 in PyObject_CallObject (o=&lt;optimized out&gt;, a=&lt;optimized out&gt;) at Objects/abstract.c:2172\n#27 0x00007fffecd74eb3 in THPFunction_apply(_object*, _object*) (cls=0x11c9178, _inputs=0x7fffc1da3418) at torch/csrc/autograd/python_function.cpp:722\n#28 0x00000000004950b8 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28d61c0, args=args@entry=0x4547bf70, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:234\n#29 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28d61c0, stack=stack@entry=0x4547bf70, nargs=nargs@entry=3, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\n#30 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9e58, oparg=oparg@entry=3, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\n#31 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#32 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547bdc8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#33 0x00000000005301ec in _PyFunction_FastCall (co=co@entry=0x7fffc31e2640, args=0x7fffffffa038, args@entry=0x7fffffffa020, nargs=nargs@entry=3, globals=globals@entry=0x7fffc31e1e68)\n    at Python/ceval.c:4880\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#34 0x000000000053c110 in _PyFunction_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Python/ceval.c:4982\n#35 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#36 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffc23f61c8, obj=0x7fffc0085e28, args=0x7fffc22eb988, kwargs=0x0) at Objects/abstract.c:2358\n#37 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#38 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23963d8, args=args@entry=0x7fffc22eb988, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#39 0x00000000004af68e in call_method (o=&lt;optimized out&gt;, nameid=nameid@entry=0x8a5740 &lt;PyId___setitem__&gt;, format=format@entry=0x635a54 \"(OO)\") at Objects/typeobject.c:1453\n#40 0x00000000004af814 in slot_mp_ass_subscript (self=&lt;optimized out&gt;, key=&lt;optimized out&gt;, value=&lt;optimized out&gt;) at Objects/typeobject.c:5944\n#41 0x00000000004444f0 in PyObject_SetItem (o=o@entry=0x7fffc0085e28, key=key@entry=0x7fffc22eb838, value=value@entry=0x7fffc0089b80) at Objects/abstract.c:180\n#42 0x00000000005345cc in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:1727\n#43 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547ed58, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#44 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc1f6b700, globals=&lt;optimized out&gt;, locals=locals@entry=0x0, args=&lt;optimized out&gt;, argcount=1, kwnames=0x0, kwargs=0x307b1470, kwcount=0, kwstep=kwstep@entry=1, defs=0x7fffc1f69d18, defcount=defcount@entry=1, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x7fffefef55e0, qualname=qualname@entry=0x7fffefef55e0)\n    at Python/ceval.c:4128\n#45 0x0000000000530da7 in fast_function (func=func@entry=0x7fffc1f8a110, stack=&lt;optimized out&gt;, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4939\n#46 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa4e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#47 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#48 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b1208, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#49 0x00000000005301ec in _PyFunction_FastCall (co=&lt;optimized out&gt;, args=0x7fffc231ff18, nargs=nargs@entry=2, globals=&lt;optimized out&gt;) at Python/ceval.c:4880\n#50 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc39b0, stack=&lt;optimized out&gt;, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#51 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa6e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#52 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#53 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc231fd78, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#54 0x00000000005301ec in _PyFunction_FastCall (co=&lt;optimized out&gt;, args=0x307b0898, nargs=nargs@entry=1, globals=&lt;optimized out&gt;) at Python/ceval.c:4880\n#55 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc3b20, stack=&lt;optimized out&gt;, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#56 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa8e8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#57 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#58 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b0698, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#59 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede08340, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffab20, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffede0ff88, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffede054a0) at Python/ceval.c:4128\n#60 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Python/ceval.c:5031\n#61 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Objects/abstract.c:2295\n#62 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f280, obj=0x7fffc00d0e28, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2358\n#63 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#64 0x0000000000444e8c in PyObject_Call (func=0x7fffeff04838, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2246\n#65 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffeff04838, callargs=callargs@entry=0x7fffc00e1ae8, kwdict=kwdict@entry=0x7fffc00e09b8) at Python/ceval.c:5067\n#66 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3366\n#67 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc0064250, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#68 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede084c0, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffaec0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffede04ce8)\n    at Python/ceval.c:4128\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#69 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#70 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#71 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f3f0, obj=0x7fffc00d0e28, args=0x7fffc00e1b50, kwargs=0x0) at Objects/abstract.c:2358\n#72 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#73 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffede3c6e8, args=args@entry=0x7fffc00e1b50, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#74 0x00000000004b1e1d in slot_tp_call (self=&lt;optimized out&gt;, args=0x7fffc00e1b50, kwds=0x0) at Objects/typeobject.c:6167\n#75 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0e28, args=args@entry=0x307af060, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#76 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0e28, stack=0x307af060, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#77 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb0c8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#78 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#79 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307aee98, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#80 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb300, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\n#81 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Python/ceval.c:5031\n#82 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Objects/abstract.c:2295\n#83 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00e1400, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2358\n#84 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#85 0x0000000000444e8c in PyObject_Call (func=0x7ffff064cf38, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2246\n#86 0x000000000052f6b9 in do_call_core (func=func@entry=0x7ffff064cf38, callargs=callargs@entry=0x7fffc00e1cf0, kwdict=kwdict@entry=0x7fffc00e0a30) at Python/ceval.c:5067\n#87 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3366\n#88 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9e20, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#89 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb6a0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\n    at Python/ceval.c:4128\n#90 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#91 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#92 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00e1400, args=0x7fffc00d0e90, kwargs=0x0) at Objects/abstract.c:2358\n#93 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#94 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffedee0288, args=args@entry=0x7fffc00d0e90, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#95 0x00000000004b1e1d in slot_tp_call (self=&lt;optimized out&gt;, args=0x7fffc00d0e90, kwds=0x0) at Objects/typeobject.c:6167\n#96 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00e1400, args=args@entry=0x307ae830, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#97 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00e1400, stack=0x307ae830, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#98 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb8a8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#99 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#100 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ae668, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#101 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbae0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\n#102 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Python/ceval.c:5031\n#103 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Objects/abstract.c:2295\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#104 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00d0dc0, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2358\n#105 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#106 0x0000000000444e8c in PyObject_Call (func=0x7fffede3c7c8, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2246\n#107 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffede3c7c8, callargs=callargs@entry=0x7fffc00d0ae8, kwdict=kwdict@entry=0x7fffc00e0058) at Python/ceval.c:5067\n#108 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3366\n#109 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9c28, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#110 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbe80, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\n    at Python/ceval.c:4128\n#111 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#112 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#113 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00d0dc0, args=0x7fffc00d0bb8, kwargs=0x0) at Objects/abstract.c:2358\n#114 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#115 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff0655e58, args=args@entry=0x7fffc00d0bb8, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#116 0x00000000004b1e1d in slot_tp_call (self=&lt;optimized out&gt;, args=0x7fffc00d0bb8, kwds=0x0) at Objects/typeobject.c:6167\n#117 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0dc0, args=args@entry=0x307ad4b0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#118 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0dc0, stack=0x307ad4b0, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#119 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc088, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#120 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#121 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ad298, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#122 0x00000000005301ec in _PyFunction_FastCall (co=&lt;optimized out&gt;, args=0x307acf50, nargs=nargs@entry=2, globals=&lt;optimized out&gt;) at Python/ceval.c:4880\n#123 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1110, stack=&lt;optimized out&gt;, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#124 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc288, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#125 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#126 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307acda8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#127 0x00000000005301ec in _PyFunction_FastCall (co=&lt;optimized out&gt;, args=0x307a77b8, nargs=nargs@entry=1, globals=&lt;optimized out&gt;) at Python/ceval.c:4880\n#128 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1a68, stack=&lt;optimized out&gt;, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#129 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc488, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#130 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#131 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307a75b8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#132 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffedceb400, globals=globals@entry=0x7fffedd4c9b8, locals=locals@entry=0x0, args=args@entry=0x7fffffffc6c0, argcount=argcount@entry=1, kwnames=kwnames@entry=0x7fffc22e5e10, kwargs=kwargs@entry=0x7fffc22e5e18, kwcount=2,\n    kwcount@entry=1, kwstep=kwstep@entry=2, defs=0x7fffedca12a8, defcount=11, kwdefs=0x7fffedcefd78, closure=0x0, name=0x7ffff7fa3430, qualname=0x7fffedcef478) at Python/ceval.c:4128\n#133 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Python/ceval.c:5031\n#134 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2295\n#135 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedca1338, obj=0x7fffc00d09b0, args=0x7ffff7fa0058, kwargs=0x7fffc00d5238) at Objects/abstract.c:2358\n#136 0x000000000045ee6b in method_call (method=&lt;optimized out&gt;, args=&lt;optimized out&gt;, kwargs=&lt;optimized out&gt;) at Objects/classobject.c:317\n#137 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff064ce58, args=args@entry=0x7ffff7fa0058, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2246\n#138 0x00000000004b1a5c in slot_tp_init (self=&lt;optimized out&gt;, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:6380\n#139 0x00000000004ada4d in type_call (type=0xb5e1c8, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:915\n#140 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0xb5e1c8, args=args@entry=0x3079d738, nargs=nargs@entry=0, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2316\n---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---\n#141 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0xb5e1c8, stack=0x3079d738, nargs=nargs@entry=0, kwnames=kwnames@entry=0x7fffc1f43260) at Objects/abstract.c:2480\n#142 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc900, oparg=&lt;optimized out&gt;, kwnames=kwnames@entry=0x7fffc1f43260) at Python/ceval.c:4822\n#143 0x000000000053a6d4 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3300\n#144 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x3079d588, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#145 0x00000000005301ec in _PyFunction_FastCall (co=&lt;optimized out&gt;, args=0xa1a588, nargs=nargs@entry=0, globals=&lt;optimized out&gt;) at Python/ceval.c:4880\n#146 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1d9e3f0, stack=&lt;optimized out&gt;, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#147 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffcaf8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#148 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=&lt;optimized out&gt;, throwflag=&lt;optimized out&gt;) at Python/ceval.c:3284\n#149 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0xa1a3f8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#150 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\n#151 0x0000000000531168 in PyEval_EvalCodeEx (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0) at Python/ceval.c:4149\n#152 0x00000000005311b2 in PyEval_EvalCode (co=co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88) at Python/ceval.c:695\n#153 0x00000000004231c4 in run_mod (mod=mod@entry=0xab1fe0, filename=filename@entry=0x7ffff0b5f660, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, flags=flags@entry=0x7fffffffcea0, arena=arena@entry=0x7ffff0b94520) at Python/pythonrun.c:980\n#154 0x0000000000425a44 in PyRun_FileExFlags (fp=fp@entry=0x9501a0, filename_str=filename_str@entry=0x7ffff7efaeb0 \"test/test_nn.py\", start=start@entry=257, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:933\n#155 0x0000000000425ddb in PyRun_SimpleFileExFlags (fp=fp@entry=0x9501a0, filename=&lt;optimized out&gt;,\n    filename@entry=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:396\n#156 0x0000000000425f37 in PyRun_AnyFileExFlags (fp=fp@entry=0x9501a0, filename=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:80\n#157 0x00000000004349d9 in run_file (fp=fp@entry=0x9501a0, filename=filename@entry=0x917300 L\"test/test_nn.py\", p_cf=p_cf@entry=0x7fffffffcea0) at Modules/main.c:338\n#158 0x0000000000435583 in Py_Main (argc=argc@entry=3, argv=argv@entry=0x916010) at Modules/main.c:809\n#159 0x000000000041d21a in main (argc=3, argv=0x7fffffffd018) at ./Programs/python.c:69\n</code></pre>\n<p>Other tests from test/run_test.sh pass, although I didn't run the MAGMA tests because I haven't installed it outside of a conda environment.</p>", "body_text": "Continued from: #1624 (running tests on a debug build of python3.6.1.\nThe following tests in TestNN failed with gc problems:\ntest_variable_sequence_cuda\ntest_cuda_rnn_fused\ntest_rnn_initial_hidden_state\ntest_RNN_cpu_vs_cudnn_no_dropout\ntest_RNN_cpu_vs_cudnn_with_dropout\ntest_RNN_dropout_state\ntest_RNN_change_dropout\nError is:\n Modules/gcmodule.c:380: visit_decref: Assertion `((gc)->gc.gc_refs >> (1)) != 0' failed.\n\nRunning it through gdb on \"test_variable_sequence_cuda\" yields the following stack trace:\n#0  0x00007ffff712c1d7 in raise () at /lib64/libc.so.6\n#1  0x00007ffff712d8c8 in abort () at /lib64/libc.so.6\n#2  0x00007ffff7125146 in __assert_fail_base () at /lib64/libc.so.6\n#3  0x00007ffff71251f2 in  () at /lib64/libc.so.6\n#4  0x0000000000435f63 in visit_decref (op=0x7fffc006e4f8, data=<optimized out>) at Modules/gcmodule.c:380\n#5  0x00007fffecd7c20d in THPVariable_traverse(THPVariable*, visitproc, void*) (self=self@entry=0x7fffc00781f0, visit=visit@entry=0x435efd <visit_decref>, arg=arg@entry=0x0)\n    at torch/csrc/autograd/python_variable.cpp:92\n#6  0x00000000004a86ce in subtype_traverse (self=0x7fffc00781f0, visit=0x435efd <visit_decref>, arg=0x0) at Objects/typeobject.c:1021\n#7  0x00000000004356ee in subtract_refs (containers=containers@entry=0x885d20 <generations>) at Modules/gcmodule.c:399\n#8  0x0000000000436809 in collect (generation=generation@entry=0, n_collected=n_collected@entry=0x7fffffff96b8, n_uncollectable=n_uncollectable@entry=0x7fffffff96b0, nofail=nofail@entry=0)\n    at Modules/gcmodule.c:956\n#9  0x0000000000436c47 in collect_with_callback (generation=0) at Modules/gcmodule.c:1128\n#10 0x0000000000436d3f in collect_generations () at Modules/gcmodule.c:1151\n#11 0x0000000000436eac in _PyObject_GC_Alloc (use_calloc=use_calloc@entry=0, basicsize=basicsize@entry=72) at Modules/gcmodule.c:1726\n#12 0x0000000000437382 in _PyObject_GC_Malloc (basicsize=basicsize@entry=72) at Modules/gcmodule.c:1736\n#13 0x00000000004a8443 in PyType_GenericAlloc (type=0x7fffed9eb400 <THPSizeType>, nitems=2) at Objects/typeobject.c:936\n#14 0x00007fffecd3083f in THPSize_New(int, long*) (dim=2, sizes=0x4547f5c0) at torch/csrc/Size.cpp:16\n#15 0x00007fffed1c2102 in THCPDoubleTensor_size(_object*, _object*, _object*) (self=<optimized out>, args=0x7ffff7fa0058, kwargs=0x0)\n    at /data/users/gchanan/pytorch6/torch/csrc/generic/TensorMethods.cpp:650\n#16 0x00000000004950a9 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28df328, args=args@entry=0x4547e598, nargs=nargs@entry=0, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:231\n#17 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28df328, stack=stack@entry=0x4547e598, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\n#18 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9908, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\n#19 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#20 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547e3e8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#21 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc2406e80, globals=<optimized out>, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=4, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\n#22 0x0000000000531168 in PyEval_EvalCodeEx (_co=<optimized out>, globals=<optimized out>, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=<optimized out>, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=0x0, closure=0x0) at Python/ceval.c:4149\n#23 0x000000000047386f in function_call (func=0x7fffc23a6840, arg=0x7fffc008c458, kw=0x0) at Objects/funcobject.c:604\n#24 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23a6840, args=args@entry=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#25 0x00000000005316b0 in PyEval_CallObjectWithKeywords (func=0x7fffc23a6840, args=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Python/ceval.c:4718\n#26 0x0000000000444c69 in PyObject_CallObject (o=<optimized out>, a=<optimized out>) at Objects/abstract.c:2172\n#27 0x00007fffecd74eb3 in THPFunction_apply(_object*, _object*) (cls=0x11c9178, _inputs=0x7fffc1da3418) at torch/csrc/autograd/python_function.cpp:722\n#28 0x00000000004950b8 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28d61c0, args=args@entry=0x4547bf70, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:234\n#29 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28d61c0, stack=stack@entry=0x4547bf70, nargs=nargs@entry=3, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\n#30 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9e58, oparg=oparg@entry=3, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\n#31 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#32 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547bdc8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#33 0x00000000005301ec in _PyFunction_FastCall (co=co@entry=0x7fffc31e2640, args=0x7fffffffa038, args@entry=0x7fffffffa020, nargs=nargs@entry=3, globals=globals@entry=0x7fffc31e1e68)\n    at Python/ceval.c:4880\n---Type <return> to continue, or q <return> to quit---\n#34 0x000000000053c110 in _PyFunction_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Python/ceval.c:4982\n#35 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#36 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffc23f61c8, obj=0x7fffc0085e28, args=0x7fffc22eb988, kwargs=0x0) at Objects/abstract.c:2358\n#37 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#38 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23963d8, args=args@entry=0x7fffc22eb988, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#39 0x00000000004af68e in call_method (o=<optimized out>, nameid=nameid@entry=0x8a5740 <PyId___setitem__>, format=format@entry=0x635a54 \"(OO)\") at Objects/typeobject.c:1453\n#40 0x00000000004af814 in slot_mp_ass_subscript (self=<optimized out>, key=<optimized out>, value=<optimized out>) at Objects/typeobject.c:5944\n#41 0x00000000004444f0 in PyObject_SetItem (o=o@entry=0x7fffc0085e28, key=key@entry=0x7fffc22eb838, value=value@entry=0x7fffc0089b80) at Objects/abstract.c:180\n#42 0x00000000005345cc in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:1727\n#43 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547ed58, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#44 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc1f6b700, globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, argcount=1, kwnames=0x0, kwargs=0x307b1470, kwcount=0, kwstep=kwstep@entry=1, defs=0x7fffc1f69d18, defcount=defcount@entry=1, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x7fffefef55e0, qualname=qualname@entry=0x7fffefef55e0)\n    at Python/ceval.c:4128\n#45 0x0000000000530da7 in fast_function (func=func@entry=0x7fffc1f8a110, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4939\n#46 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa4e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#47 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#48 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b1208, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#49 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x7fffc231ff18, nargs=nargs@entry=2, globals=<optimized out>) at Python/ceval.c:4880\n#50 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc39b0, stack=<optimized out>, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#51 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa6e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#52 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#53 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc231fd78, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#54 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307b0898, nargs=nargs@entry=1, globals=<optimized out>) at Python/ceval.c:4880\n#55 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc3b20, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#56 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa8e8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#57 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#58 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b0698, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#59 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede08340, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffab20, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffede0ff88, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffede054a0) at Python/ceval.c:4128\n#60 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Python/ceval.c:5031\n#61 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Objects/abstract.c:2295\n#62 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f280, obj=0x7fffc00d0e28, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2358\n#63 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#64 0x0000000000444e8c in PyObject_Call (func=0x7fffeff04838, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2246\n#65 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffeff04838, callargs=callargs@entry=0x7fffc00e1ae8, kwdict=kwdict@entry=0x7fffc00e09b8) at Python/ceval.c:5067\n#66 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\n#67 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc0064250, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#68 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede084c0, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffaec0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffede04ce8)\n    at Python/ceval.c:4128\n---Type <return> to continue, or q <return> to quit---\n#69 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#70 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#71 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f3f0, obj=0x7fffc00d0e28, args=0x7fffc00e1b50, kwargs=0x0) at Objects/abstract.c:2358\n#72 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#73 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffede3c6e8, args=args@entry=0x7fffc00e1b50, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#74 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00e1b50, kwds=0x0) at Objects/typeobject.c:6167\n#75 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0e28, args=args@entry=0x307af060, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#76 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0e28, stack=0x307af060, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#77 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb0c8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#78 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#79 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307aee98, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#80 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb300, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\n#81 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Python/ceval.c:5031\n#82 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Objects/abstract.c:2295\n#83 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00e1400, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2358\n#84 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#85 0x0000000000444e8c in PyObject_Call (func=0x7ffff064cf38, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2246\n#86 0x000000000052f6b9 in do_call_core (func=func@entry=0x7ffff064cf38, callargs=callargs@entry=0x7fffc00e1cf0, kwdict=kwdict@entry=0x7fffc00e0a30) at Python/ceval.c:5067\n#87 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\n#88 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9e20, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#89 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb6a0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\n    at Python/ceval.c:4128\n#90 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#91 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#92 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00e1400, args=0x7fffc00d0e90, kwargs=0x0) at Objects/abstract.c:2358\n#93 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#94 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffedee0288, args=args@entry=0x7fffc00d0e90, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#95 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00d0e90, kwds=0x0) at Objects/typeobject.c:6167\n#96 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00e1400, args=args@entry=0x307ae830, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#97 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00e1400, stack=0x307ae830, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#98 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb8a8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#99 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#100 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ae668, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#101 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbae0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\n#102 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Python/ceval.c:5031\n#103 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Objects/abstract.c:2295\n---Type <return> to continue, or q <return> to quit---\n#104 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00d0dc0, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2358\n#105 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#106 0x0000000000444e8c in PyObject_Call (func=0x7fffede3c7c8, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2246\n#107 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffede3c7c8, callargs=callargs@entry=0x7fffc00d0ae8, kwdict=kwdict@entry=0x7fffc00e0058) at Python/ceval.c:5067\n#108 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\n#109 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9c28, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#110 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbe80, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\n    at Python/ceval.c:4128\n#111 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\n#112 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\n#113 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00d0dc0, args=0x7fffc00d0bb8, kwargs=0x0) at Objects/abstract.c:2358\n#114 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#115 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff0655e58, args=args@entry=0x7fffc00d0bb8, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\n#116 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00d0bb8, kwds=0x0) at Objects/typeobject.c:6167\n#117 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0dc0, args=args@entry=0x307ad4b0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\n#118 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0dc0, stack=0x307ad4b0, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\n#119 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc088, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\n#120 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#121 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ad298, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#122 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307acf50, nargs=nargs@entry=2, globals=<optimized out>) at Python/ceval.c:4880\n#123 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1110, stack=<optimized out>, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#124 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc288, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#125 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#126 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307acda8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#127 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307a77b8, nargs=nargs@entry=1, globals=<optimized out>) at Python/ceval.c:4880\n#128 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1a68, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#129 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc488, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#130 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#131 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307a75b8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#132 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffedceb400, globals=globals@entry=0x7fffedd4c9b8, locals=locals@entry=0x0, args=args@entry=0x7fffffffc6c0, argcount=argcount@entry=1, kwnames=kwnames@entry=0x7fffc22e5e10, kwargs=kwargs@entry=0x7fffc22e5e18, kwcount=2,\n    kwcount@entry=1, kwstep=kwstep@entry=2, defs=0x7fffedca12a8, defcount=11, kwdefs=0x7fffedcefd78, closure=0x0, name=0x7ffff7fa3430, qualname=0x7fffedcef478) at Python/ceval.c:4128\n#133 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Python/ceval.c:5031\n#134 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2295\n#135 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedca1338, obj=0x7fffc00d09b0, args=0x7ffff7fa0058, kwargs=0x7fffc00d5238) at Objects/abstract.c:2358\n#136 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\n#137 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff064ce58, args=args@entry=0x7ffff7fa0058, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2246\n#138 0x00000000004b1a5c in slot_tp_init (self=<optimized out>, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:6380\n#139 0x00000000004ada4d in type_call (type=0xb5e1c8, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:915\n#140 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0xb5e1c8, args=args@entry=0x3079d738, nargs=nargs@entry=0, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2316\n---Type <return> to continue, or q <return> to quit---\n#141 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0xb5e1c8, stack=0x3079d738, nargs=nargs@entry=0, kwnames=kwnames@entry=0x7fffc1f43260) at Objects/abstract.c:2480\n#142 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc900, oparg=<optimized out>, kwnames=kwnames@entry=0x7fffc1f43260) at Python/ceval.c:4822\n#143 0x000000000053a6d4 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3300\n#144 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x3079d588, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#145 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0xa1a588, nargs=nargs@entry=0, globals=<optimized out>) at Python/ceval.c:4880\n#146 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1d9e3f0, stack=<optimized out>, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\n#147 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffcaf8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\n#148 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\n#149 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0xa1a3f8, throwflag=throwflag@entry=0) at Python/ceval.c:718\n#150 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\n#151 0x0000000000531168 in PyEval_EvalCodeEx (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0) at Python/ceval.c:4149\n#152 0x00000000005311b2 in PyEval_EvalCode (co=co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88) at Python/ceval.c:695\n#153 0x00000000004231c4 in run_mod (mod=mod@entry=0xab1fe0, filename=filename@entry=0x7ffff0b5f660, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, flags=flags@entry=0x7fffffffcea0, arena=arena@entry=0x7ffff0b94520) at Python/pythonrun.c:980\n#154 0x0000000000425a44 in PyRun_FileExFlags (fp=fp@entry=0x9501a0, filename_str=filename_str@entry=0x7ffff7efaeb0 \"test/test_nn.py\", start=start@entry=257, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:933\n#155 0x0000000000425ddb in PyRun_SimpleFileExFlags (fp=fp@entry=0x9501a0, filename=<optimized out>,\n    filename@entry=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:396\n#156 0x0000000000425f37 in PyRun_AnyFileExFlags (fp=fp@entry=0x9501a0, filename=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:80\n#157 0x00000000004349d9 in run_file (fp=fp@entry=0x9501a0, filename=filename@entry=0x917300 L\"test/test_nn.py\", p_cf=p_cf@entry=0x7fffffffcea0) at Modules/main.c:338\n#158 0x0000000000435583 in Py_Main (argc=argc@entry=3, argv=argv@entry=0x916010) at Modules/main.c:809\n#159 0x000000000041d21a in main (argc=3, argv=0x7fffffffd018) at ./Programs/python.c:69\n\nOther tests from test/run_test.sh pass, although I didn't run the MAGMA tests because I haven't installed it outside of a conda environment.", "body": "Continued from: https://github.com/pytorch/pytorch/issues/1624 (running tests on a debug build of python3.6.1.\r\n\r\nThe following tests in TestNN failed with gc problems:\r\n\r\ntest_variable_sequence_cuda\r\ntest_cuda_rnn_fused\r\ntest_rnn_initial_hidden_state\r\ntest_RNN_cpu_vs_cudnn_no_dropout\r\ntest_RNN_cpu_vs_cudnn_with_dropout\r\ntest_RNN_dropout_state\r\ntest_RNN_change_dropout\r\n\r\nError is:\r\n```\r\n Modules/gcmodule.c:380: visit_decref: Assertion `((gc)->gc.gc_refs >> (1)) != 0' failed.\r\n```\r\n\r\nRunning it through gdb on \"test_variable_sequence_cuda\" yields the following stack trace:\r\n```\r\n#0  0x00007ffff712c1d7 in raise () at /lib64/libc.so.6\r\n#1  0x00007ffff712d8c8 in abort () at /lib64/libc.so.6\r\n#2  0x00007ffff7125146 in __assert_fail_base () at /lib64/libc.so.6\r\n#3  0x00007ffff71251f2 in  () at /lib64/libc.so.6\r\n#4  0x0000000000435f63 in visit_decref (op=0x7fffc006e4f8, data=<optimized out>) at Modules/gcmodule.c:380\r\n#5  0x00007fffecd7c20d in THPVariable_traverse(THPVariable*, visitproc, void*) (self=self@entry=0x7fffc00781f0, visit=visit@entry=0x435efd <visit_decref>, arg=arg@entry=0x0)\r\n    at torch/csrc/autograd/python_variable.cpp:92\r\n#6  0x00000000004a86ce in subtype_traverse (self=0x7fffc00781f0, visit=0x435efd <visit_decref>, arg=0x0) at Objects/typeobject.c:1021\r\n#7  0x00000000004356ee in subtract_refs (containers=containers@entry=0x885d20 <generations>) at Modules/gcmodule.c:399\r\n#8  0x0000000000436809 in collect (generation=generation@entry=0, n_collected=n_collected@entry=0x7fffffff96b8, n_uncollectable=n_uncollectable@entry=0x7fffffff96b0, nofail=nofail@entry=0)\r\n    at Modules/gcmodule.c:956\r\n#9  0x0000000000436c47 in collect_with_callback (generation=0) at Modules/gcmodule.c:1128\r\n#10 0x0000000000436d3f in collect_generations () at Modules/gcmodule.c:1151\r\n#11 0x0000000000436eac in _PyObject_GC_Alloc (use_calloc=use_calloc@entry=0, basicsize=basicsize@entry=72) at Modules/gcmodule.c:1726\r\n#12 0x0000000000437382 in _PyObject_GC_Malloc (basicsize=basicsize@entry=72) at Modules/gcmodule.c:1736\r\n#13 0x00000000004a8443 in PyType_GenericAlloc (type=0x7fffed9eb400 <THPSizeType>, nitems=2) at Objects/typeobject.c:936\r\n#14 0x00007fffecd3083f in THPSize_New(int, long*) (dim=2, sizes=0x4547f5c0) at torch/csrc/Size.cpp:16\r\n#15 0x00007fffed1c2102 in THCPDoubleTensor_size(_object*, _object*, _object*) (self=<optimized out>, args=0x7ffff7fa0058, kwargs=0x0)\r\n    at /data/users/gchanan/pytorch6/torch/csrc/generic/TensorMethods.cpp:650\r\n#16 0x00000000004950a9 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28df328, args=args@entry=0x4547e598, nargs=nargs@entry=0, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:231\r\n#17 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28df328, stack=stack@entry=0x4547e598, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\r\n#18 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9908, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\r\n#19 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#20 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547e3e8, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#21 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc2406e80, globals=<optimized out>, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=4, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\r\n#22 0x0000000000531168 in PyEval_EvalCodeEx (_co=<optimized out>, globals=<optimized out>, locals=locals@entry=0x0, args=args@entry=0x7fffc008c480, argcount=<optimized out>, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=0x0, closure=0x0) at Python/ceval.c:4149\r\n#23 0x000000000047386f in function_call (func=0x7fffc23a6840, arg=0x7fffc008c458, kw=0x0) at Objects/funcobject.c:604\r\n#24 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23a6840, args=args@entry=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\r\n#25 0x00000000005316b0 in PyEval_CallObjectWithKeywords (func=0x7fffc23a6840, args=0x7fffc008c458, kwargs=kwargs@entry=0x0) at Python/ceval.c:4718\r\n#26 0x0000000000444c69 in PyObject_CallObject (o=<optimized out>, a=<optimized out>) at Objects/abstract.c:2172\r\n#27 0x00007fffecd74eb3 in THPFunction_apply(_object*, _object*) (cls=0x11c9178, _inputs=0x7fffc1da3418) at torch/csrc/autograd/python_function.cpp:722\r\n#28 0x00000000004950b8 in _PyCFunction_FastCallDict (func_obj=func_obj@entry=0x7fffc28d61c0, args=args@entry=0x4547bf70, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/methodobject.c:234\r\n#29 0x000000000049545a in _PyCFunction_FastCallKeywords (func=func@entry=0x7fffc28d61c0, stack=stack@entry=0x4547bf70, nargs=nargs@entry=3, kwnames=kwnames@entry=0x0) at Objects/methodobject.c:295\r\n#30 0x0000000000530f41 in call_function (pp_stack=pp_stack@entry=0x7fffffff9e58, oparg=oparg@entry=3, kwnames=kwnames@entry=0x0) at Python/ceval.c:4798\r\n#31 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#32 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547bdc8, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#33 0x00000000005301ec in _PyFunction_FastCall (co=co@entry=0x7fffc31e2640, args=0x7fffffffa038, args@entry=0x7fffffffa020, nargs=nargs@entry=3, globals=globals@entry=0x7fffc31e1e68)\r\n    at Python/ceval.c:4880\r\n---Type <return> to continue, or q <return> to quit---\r\n#34 0x000000000053c110 in _PyFunction_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Python/ceval.c:4982\r\n#35 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffc23f61c8, args=args@entry=0x7fffffffa020, nargs=nargs@entry=3, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\r\n#36 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffc23f61c8, obj=0x7fffc0085e28, args=0x7fffc22eb988, kwargs=0x0) at Objects/abstract.c:2358\r\n#37 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#38 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffc23963d8, args=args@entry=0x7fffc22eb988, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\r\n#39 0x00000000004af68e in call_method (o=<optimized out>, nameid=nameid@entry=0x8a5740 <PyId___setitem__>, format=format@entry=0x635a54 \"(OO)\") at Objects/typeobject.c:1453\r\n#40 0x00000000004af814 in slot_mp_ass_subscript (self=<optimized out>, key=<optimized out>, value=<optimized out>) at Objects/typeobject.c:5944\r\n#41 0x00000000004444f0 in PyObject_SetItem (o=o@entry=0x7fffc0085e28, key=key@entry=0x7fffc22eb838, value=value@entry=0x7fffc0089b80) at Objects/abstract.c:180\r\n#42 0x00000000005345cc in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:1727\r\n#43 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x4547ed58, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#44 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=0x7fffc1f6b700, globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, argcount=1, kwnames=0x0, kwargs=0x307b1470, kwcount=0, kwstep=kwstep@entry=1, defs=0x7fffc1f69d18, defcount=defcount@entry=1, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x7fffefef55e0, qualname=qualname@entry=0x7fffefef55e0)\r\n    at Python/ceval.c:4128\r\n#45 0x0000000000530da7 in fast_function (func=func@entry=0x7fffc1f8a110, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4939\r\n#46 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa4e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#47 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#48 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b1208, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#49 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x7fffc231ff18, nargs=nargs@entry=2, globals=<optimized out>) at Python/ceval.c:4880\r\n#50 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc39b0, stack=<optimized out>, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\r\n#51 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa6e8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#52 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#53 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc231fd78, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#54 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307b0898, nargs=nargs@entry=1, globals=<optimized out>) at Python/ceval.c:4880\r\n#55 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1dc3b20, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\r\n#56 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffa8e8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#57 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#58 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307b0698, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#59 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede08340, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffab20, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffede0ff88, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffede054a0) at Python/ceval.c:4128\r\n#60 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Python/ceval.c:5031\r\n#61 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f280, args=args@entry=0x7fffffffab20, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e09b8) at Objects/abstract.c:2295\r\n#62 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f280, obj=0x7fffc00d0e28, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2358\r\n#63 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#64 0x0000000000444e8c in PyObject_Call (func=0x7fffeff04838, args=0x7fffc00e1ae8, kwargs=0x7fffc00e09b8) at Objects/abstract.c:2246\r\n#65 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffeff04838, callargs=callargs@entry=0x7fffc00e1ae8, kwdict=kwdict@entry=0x7fffc00e09b8) at Python/ceval.c:5067\r\n#66 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\r\n#67 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc0064250, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#68 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede084c0, globals=globals@entry=0x7fffede77670, locals=locals@entry=0x0, args=args@entry=0x7fffffffaec0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffede04ce8)\r\n    at Python/ceval.c:4128\r\n---Type <return> to continue, or q <return> to quit---\r\n#69 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\r\n#70 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd4f3f0, args=args@entry=0x7fffffffaec0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\r\n#71 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd4f3f0, obj=0x7fffc00d0e28, args=0x7fffc00e1b50, kwargs=0x0) at Objects/abstract.c:2358\r\n#72 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#73 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffede3c6e8, args=args@entry=0x7fffc00e1b50, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\r\n#74 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00e1b50, kwds=0x0) at Objects/typeobject.c:6167\r\n#75 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0e28, args=args@entry=0x307af060, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\r\n#76 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0e28, stack=0x307af060, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\r\n#77 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb0c8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\r\n#78 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#79 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307aee98, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#80 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb300, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\r\n#81 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Python/ceval.c:5031\r\n#82 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffb300, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0a30) at Objects/abstract.c:2295\r\n#83 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00e1400, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2358\r\n#84 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#85 0x0000000000444e8c in PyObject_Call (func=0x7ffff064cf38, args=0x7fffc00e1cf0, kwargs=0x7fffc00e0a30) at Objects/abstract.c:2246\r\n#86 0x000000000052f6b9 in do_call_core (func=func@entry=0x7ffff064cf38, callargs=callargs@entry=0x7fffc00e1cf0, kwdict=kwdict@entry=0x7fffc00e0a30) at Python/ceval.c:5067\r\n#87 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\r\n#88 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9e20, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#89 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffb6a0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\r\n    at Python/ceval.c:4128\r\n#90 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\r\n#91 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffb6a0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\r\n#92 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00e1400, args=0x7fffc00d0e90, kwargs=0x0) at Objects/abstract.c:2358\r\n#93 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#94 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7fffedee0288, args=args@entry=0x7fffc00d0e90, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\r\n#95 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00d0e90, kwds=0x0) at Objects/typeobject.c:6167\r\n#96 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00e1400, args=args@entry=0x307ae830, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\r\n#97 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00e1400, stack=0x307ae830, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\r\n#98 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffb8a8, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\r\n#99 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#100 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ae668, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#101 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede1e880, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbae0, argcount=argcount@entry=2, kwnames=kwnames@entry=0x7ffff7fa0080, kwargs=kwargs@entry=0x7ffff7fa0088, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x7fffedd4d5c8, defcount=1, kwdefs=0x0, closure=0x0, name=0x7fffede06860, qualname=0x7fffedd50970) at Python/ceval.c:4128\r\n#102 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Python/ceval.c:5031\r\n#103 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54eb8, args=args@entry=0x7fffffffbae0, nargs=nargs@entry=2, kwargs=kwargs@entry=0x7fffc00e0058) at Objects/abstract.c:2295\r\n---Type <return> to continue, or q <return> to quit---\r\n#104 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54eb8, obj=0x7fffc00d0dc0, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2358\r\n#105 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#106 0x0000000000444e8c in PyObject_Call (func=0x7fffede3c7c8, args=0x7fffc00d0ae8, kwargs=0x7fffc00e0058) at Objects/abstract.c:2246\r\n#107 0x000000000052f6b9 in do_call_core (func=func@entry=0x7fffede3c7c8, callargs=callargs@entry=0x7fffc00d0ae8, kwdict=kwdict@entry=0x7fffc00e0058) at Python/ceval.c:5067\r\n#108 0x000000000053aad1 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3366\r\n#109 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x7fffc00d9c28, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#110 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffede14a00, globals=globals@entry=0x7fffedeaad78, locals=locals@entry=0x0, args=args@entry=0x7fffffffbe80, argcount=argcount@entry=2, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=0x0, defcount=0, kwdefs=0x0, closure=0x0, name=0x7ffff7fa3270, qualname=0x7fffedd55838)\r\n    at Python/ceval.c:4128\r\n#111 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Python/ceval.c:5031\r\n#112 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedd54d48, args=args@entry=0x7fffffffbe80, nargs=nargs@entry=2, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2295\r\n#113 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedd54d48, obj=0x7fffc00d0dc0, args=0x7fffc00d0bb8, kwargs=0x0) at Objects/abstract.c:2358\r\n#114 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#115 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff0655e58, args=args@entry=0x7fffc00d0bb8, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2246\r\n#116 0x00000000004b1e1d in slot_tp_call (self=<optimized out>, args=0x7fffc00d0bb8, kwds=0x0) at Objects/typeobject.c:6167\r\n#117 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0x7fffc00d0dc0, args=args@entry=0x307ad4b0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x0) at Objects/abstract.c:2316\r\n#118 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0x7fffc00d0dc0, stack=0x307ad4b0, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Objects/abstract.c:2480\r\n#119 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc088, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4822\r\n#120 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#121 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307ad298, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#122 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307acf50, nargs=nargs@entry=2, globals=<optimized out>) at Python/ceval.c:4880\r\n#123 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1110, stack=<optimized out>, nargs=nargs@entry=2, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\r\n#124 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc288, oparg=oparg@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#125 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#126 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307acda8, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#127 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0x307a77b8, nargs=nargs@entry=1, globals=<optimized out>) at Python/ceval.c:4880\r\n#128 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffedca1a68, stack=<optimized out>, nargs=nargs@entry=1, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\r\n#129 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffc488, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#130 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#131 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x307a75b8, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#132 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7fffedceb400, globals=globals@entry=0x7fffedd4c9b8, locals=locals@entry=0x0, args=args@entry=0x7fffffffc6c0, argcount=argcount@entry=1, kwnames=kwnames@entry=0x7fffc22e5e10, kwargs=kwargs@entry=0x7fffc22e5e18, kwcount=2,\r\n    kwcount@entry=1, kwstep=kwstep@entry=2, defs=0x7fffedca12a8, defcount=11, kwdefs=0x7fffedcefd78, closure=0x0, name=0x7ffff7fa3430, qualname=0x7fffedcef478) at Python/ceval.c:4128\r\n#133 0x000000000053c29d in _PyFunction_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Python/ceval.c:5031\r\n#134 0x0000000000445042 in _PyObject_FastCallDict (func=func@entry=0x7fffedca1338, args=args@entry=0x7fffffffc6c0, nargs=nargs@entry=1, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2295\r\n#135 0x0000000000445345 in _PyObject_Call_Prepend (func=0x7fffedca1338, obj=0x7fffc00d09b0, args=0x7ffff7fa0058, kwargs=0x7fffc00d5238) at Objects/abstract.c:2358\r\n#136 0x000000000045ee6b in method_call (method=<optimized out>, args=<optimized out>, kwargs=<optimized out>) at Objects/classobject.c:317\r\n#137 0x0000000000444e8c in PyObject_Call (func=func@entry=0x7ffff064ce58, args=args@entry=0x7ffff7fa0058, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2246\r\n#138 0x00000000004b1a5c in slot_tp_init (self=<optimized out>, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:6380\r\n#139 0x00000000004ada4d in type_call (type=0xb5e1c8, args=0x7ffff7fa0058, kwds=0x7fffc00d5238) at Objects/typeobject.c:915\r\n#140 0x00000000004450b1 in _PyObject_FastCallDict (func=func@entry=0xb5e1c8, args=args@entry=0x3079d738, nargs=nargs@entry=0, kwargs=kwargs@entry=0x7fffc00d5238) at Objects/abstract.c:2316\r\n---Type <return> to continue, or q <return> to quit---\r\n#141 0x00000000004456e5 in _PyObject_FastCallKeywords (func=func@entry=0xb5e1c8, stack=0x3079d738, nargs=nargs@entry=0, kwnames=kwnames@entry=0x7fffc1f43260) at Objects/abstract.c:2480\r\n#142 0x0000000000531011 in call_function (pp_stack=pp_stack@entry=0x7fffffffc900, oparg=<optimized out>, kwnames=kwnames@entry=0x7fffc1f43260) at Python/ceval.c:4822\r\n#143 0x000000000053a6d4 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3300\r\n#144 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0x3079d588, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#145 0x00000000005301ec in _PyFunction_FastCall (co=<optimized out>, args=0xa1a588, nargs=nargs@entry=0, globals=<optimized out>) at Python/ceval.c:4880\r\n#146 0x0000000000530cf7 in fast_function (func=func@entry=0x7fffc1d9e3f0, stack=<optimized out>, nargs=nargs@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4915\r\n#147 0x0000000000530ffe in call_function (pp_stack=pp_stack@entry=0x7fffffffcaf8, oparg=oparg@entry=0, kwnames=kwnames@entry=0x0) at Python/ceval.c:4819\r\n#148 0x000000000053a5b6 in _PyEval_EvalFrameDefault (f=<optimized out>, throwflag=<optimized out>) at Python/ceval.c:3284\r\n#149 0x0000000000530124 in PyEval_EvalFrameEx (f=f@entry=0xa1a3f8, throwflag=throwflag@entry=0) at Python/ceval.c:718\r\n#150 0x0000000000530b4b in _PyEval_EvalCodeWithName (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kwnames=kwnames@entry=0x0, kwargs=kwargs@entry=0x8, kwcount=kwcount@entry=0, kwstep=kwstep@entry=2, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4128\r\n#151 0x0000000000531168 in PyEval_EvalCodeEx (_co=_co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, args=args@entry=0x0, argcount=argcount@entry=0, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0) at Python/ceval.c:4149\r\n#152 0x00000000005311b2 in PyEval_EvalCode (co=co@entry=0x7ffff0a6c4c0, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88) at Python/ceval.c:695\r\n#153 0x00000000004231c4 in run_mod (mod=mod@entry=0xab1fe0, filename=filename@entry=0x7ffff0b5f660, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, flags=flags@entry=0x7fffffffcea0, arena=arena@entry=0x7ffff0b94520) at Python/pythonrun.c:980\r\n#154 0x0000000000425a44 in PyRun_FileExFlags (fp=fp@entry=0x9501a0, filename_str=filename_str@entry=0x7ffff7efaeb0 \"test/test_nn.py\", start=start@entry=257, globals=globals@entry=0x7ffff7eaac88, locals=locals@entry=0x7ffff7eaac88, closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:933\r\n#155 0x0000000000425ddb in PyRun_SimpleFileExFlags (fp=fp@entry=0x9501a0, filename=<optimized out>,\r\n    filename@entry=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:396\r\n#156 0x0000000000425f37 in PyRun_AnyFileExFlags (fp=fp@entry=0x9501a0, filename=0x7ffff7efaeb0 \"test/test_nn.py\", closeit=closeit@entry=1, flags=flags@entry=0x7fffffffcea0) at Python/pythonrun.c:80\r\n#157 0x00000000004349d9 in run_file (fp=fp@entry=0x9501a0, filename=filename@entry=0x917300 L\"test/test_nn.py\", p_cf=p_cf@entry=0x7fffffffcea0) at Modules/main.c:338\r\n#158 0x0000000000435583 in Py_Main (argc=argc@entry=3, argv=argv@entry=0x916010) at Modules/main.c:809\r\n#159 0x000000000041d21a in main (argc=3, argv=0x7fffffffd018) at ./Programs/python.c:69\r\n```\r\n\r\nOther tests from test/run_test.sh pass, although I didn't run the MAGMA tests because I haven't installed it outside of a conda environment."}