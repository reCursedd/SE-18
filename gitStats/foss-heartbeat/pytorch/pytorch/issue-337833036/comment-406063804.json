{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/406063804", "html_url": "https://github.com/pytorch/pytorch/issues/9129#issuecomment-406063804", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9129", "id": 406063804, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjA2MzgwNA==", "user": {"login": "xtannier", "id": 6151691, "node_id": "MDQ6VXNlcjYxNTE2OTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6151691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtannier", "html_url": "https://github.com/xtannier", "followers_url": "https://api.github.com/users/xtannier/followers", "following_url": "https://api.github.com/users/xtannier/following{/other_user}", "gists_url": "https://api.github.com/users/xtannier/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtannier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtannier/subscriptions", "organizations_url": "https://api.github.com/users/xtannier/orgs", "repos_url": "https://api.github.com/users/xtannier/repos", "events_url": "https://api.github.com/users/xtannier/events{/privacy}", "received_events_url": "https://api.github.com/users/xtannier/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T20:29:17Z", "updated_at": "2018-07-18T20:29:17Z", "author_association": "NONE", "body_html": "<p>For the record, the problem was:</p>\n<ul>\n<li>in a conda environment, I installed pytorch with <code>conda install</code>(as described on pytorch web site) and fastText with <code>pip install .</code> from their git clone.</li>\n<li>that resulted in a segfault when doing <code>import fastText</code> and <code>import torch</code></li>\n</ul>\n<p>Reason:</p>\n<ul>\n<li>pytorch is compiled with gcc 4.9.2</li>\n<li>conda's default gcc is 4.8.5</li>\n</ul>\n<p>Fix:</p>\n<ul>\n<li>install gcc-4.9 in conda (e.g. <code>conda install -c serge-sans-paille gcc_49</code>)</li>\n<li>install pytorch with <code>conda install</code> (in my case, <code>conda install pytorch torchvision cuda90 -c pytorch</code>)</li>\n<li>install fastText with gcc-4.9 compiler: <code>CC=gcc-4.9 pip install .</code> in the fastText git clone</li>\n</ul>\n<p>That's it! Thanks a lot <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=38509346\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/weiyangfb\">@weiyangfb</a> and <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5674597\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SsnL\">@SsnL</a> for your help!</p>", "body_text": "For the record, the problem was:\n\nin a conda environment, I installed pytorch with conda install(as described on pytorch web site) and fastText with pip install . from their git clone.\nthat resulted in a segfault when doing import fastText and import torch\n\nReason:\n\npytorch is compiled with gcc 4.9.2\nconda's default gcc is 4.8.5\n\nFix:\n\ninstall gcc-4.9 in conda (e.g. conda install -c serge-sans-paille gcc_49)\ninstall pytorch with conda install (in my case, conda install pytorch torchvision cuda90 -c pytorch)\ninstall fastText with gcc-4.9 compiler: CC=gcc-4.9 pip install . in the fastText git clone\n\nThat's it! Thanks a lot @weiyangfb and @SsnL for your help!", "body": "For the record, the problem was:\r\n - in a conda environment, I installed pytorch with `conda install`(as described on pytorch web site) and fastText with `pip install .` from their git clone.\r\n - that resulted in a segfault when doing `import fastText` and `import torch` \r\n\r\nReason:\r\n - pytorch is compiled with gcc 4.9.2\r\n - conda's default gcc is 4.8.5\r\n\r\nFix:\r\n - install gcc-4.9 in conda (e.g. `conda install -c serge-sans-paille gcc_49`)\r\n - install pytorch with `conda install` (in my case, `conda install pytorch torchvision cuda90 -c pytorch`)\r\n - install fastText with gcc-4.9 compiler: `CC=gcc-4.9 pip install .` in the fastText git clone\r\n\r\nThat's it! Thanks a lot @weiyangfb and @SsnL for your help!"}