{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9129", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9129/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9129/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9129/events", "html_url": "https://github.com/pytorch/pytorch/issues/9129", "id": 337833036, "node_id": "MDU6SXNzdWUzMzc4MzMwMzY=", "number": 9129, "title": "[Bug]  Segmentation fault when importing fastText (with v0.4.0)", "user": {"login": "cympfh", "id": 2749629, "node_id": "MDQ6VXNlcjI3NDk2Mjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/2749629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cympfh", "html_url": "https://github.com/cympfh", "followers_url": "https://api.github.com/users/cympfh/followers", "following_url": "https://api.github.com/users/cympfh/following{/other_user}", "gists_url": "https://api.github.com/users/cympfh/gists{/gist_id}", "starred_url": "https://api.github.com/users/cympfh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cympfh/subscriptions", "organizations_url": "https://api.github.com/users/cympfh/orgs", "repos_url": "https://api.github.com/users/cympfh/repos", "events_url": "https://api.github.com/users/cympfh/events{/privacy}", "received_events_url": "https://api.github.com/users/cympfh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "weiyangfb", "id": 38509346, "node_id": "MDQ6VXNlcjM4NTA5MzQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/38509346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weiyangfb", "html_url": "https://github.com/weiyangfb", "followers_url": "https://api.github.com/users/weiyangfb/followers", "following_url": "https://api.github.com/users/weiyangfb/following{/other_user}", "gists_url": "https://api.github.com/users/weiyangfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/weiyangfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weiyangfb/subscriptions", "organizations_url": "https://api.github.com/users/weiyangfb/orgs", "repos_url": "https://api.github.com/users/weiyangfb/repos", "events_url": "https://api.github.com/users/weiyangfb/events{/privacy}", "received_events_url": "https://api.github.com/users/weiyangfb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "weiyangfb", "id": 38509346, "node_id": "MDQ6VXNlcjM4NTA5MzQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/38509346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weiyangfb", "html_url": "https://github.com/weiyangfb", "followers_url": "https://api.github.com/users/weiyangfb/followers", "following_url": "https://api.github.com/users/weiyangfb/following{/other_user}", "gists_url": "https://api.github.com/users/weiyangfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/weiyangfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weiyangfb/subscriptions", "organizations_url": "https://api.github.com/users/weiyangfb/orgs", "repos_url": "https://api.github.com/users/weiyangfb/repos", "events_url": "https://api.github.com/users/weiyangfb/events{/privacy}", "received_events_url": "https://api.github.com/users/weiyangfb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 30, "created_at": "2018-07-03T10:12:40Z", "updated_at": "2018-07-18T20:30:58Z", "closed_at": "2018-07-18T20:30:58Z", "author_association": "NONE", "body_html": "<p>Related <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"331408231\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8358\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/8358/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/8358\">#8358</a> ?</p>\n<p>I got segfault in importing torch (0.4.0) after importing <code>fastText</code>.<br>\nI found it is caused by <code>from torch._C import *</code> (<a href=\"https://github.com/pytorch/pytorch/blob/master/torch/__init__.py#L80\">https://github.com/pytorch/pytorch/blob/master/torch/__init__.py#L80</a>).</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ python --version\nPython 3.6.4 :: Anaconda, Inc.\n\n$ conda --version\nconda 4.4.10\n\n$ cat test.py\nimport fastText\nimport torch._C\n\n$ python test.py\nzsh: segmentation fault  python test.py</pre></div>\n<h2>gdb</h2>\n<pre><code>(gdb) run test.py\nStarting program: /home/cympfh/.pyenv/versions/anaconda3-5.1.0/bin/python test.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nMissing separate debuginfo for /home/cympfh/.pyenv/versions/anaconda3-5.1.0/lib/python3.6/site-packages/numpy/core/../.libs/libgfortran-ed201abd.so.3.0.0\n[New Thread 0x7fffecfa8700 (LWP 10028)]\n[New Thread 0x7fffec7a7700 (LWP 10029)]\n[New Thread 0x7fffe9fa6700 (LWP 10030)]\n[New Thread 0x7fffe77a5700 (LWP 10031)]\n[New Thread 0x7fffe4fa4700 (LWP 10032)]\n[New Thread 0x7fffe27a3700 (LWP 10033)]\n[New Thread 0x7fffdffa2700 (LWP 10034)]\n[New Thread 0x7fffdd7a1700 (LWP 10035)]\n[New Thread 0x7fffdafa0700 (LWP 10036)]\n[New Thread 0x7fffd879f700 (LWP 10037)]\n[New Thread 0x7fffd5f9e700 (LWP 10038)]\n[New Thread 0x7fffd379d700 (LWP 10039)]\n[New Thread 0x7fffd0f9c700 (LWP 10040)]\n[New Thread 0x7fffce79b700 (LWP 10041)]\n[New Thread 0x7fffcbf9a700 (LWP 10042)]\n[Thread 0x7fffd0f9c700 (LWP 10040) exited]\n[Thread 0x7fffcbf9a700 (LWP 10042) exited]\n[Thread 0x7fffe9fa6700 (LWP 10030) exited]\n[Thread 0x7fffce79b700 (LWP 10041) exited]\n[Thread 0x7fffdafa0700 (LWP 10036) exited]\n[Thread 0x7fffd379d700 (LWP 10039) exited]\n[Thread 0x7fffdffa2700 (LWP 10034) exited]\n[Thread 0x7fffd5f9e700 (LWP 10038) exited]\n[Thread 0x7fffe4fa4700 (LWP 10032) exited]\n[Thread 0x7fffdd7a1700 (LWP 10035) exited]\n[Thread 0x7fffecfa8700 (LWP 10028) exited]\n[Thread 0x7fffd879f700 (LWP 10037) exited]\n[Thread 0x7fffe27a3700 (LWP 10033) exited]\n[Thread 0x7fffec7a7700 (LWP 10029) exited]\n[Thread 0x7fffe77a5700 (LWP 10031) exited]\nDetaching after fork from child process 10045.\n\nProgram received signal SIGSEGV, Segmentation fault.\npybind11::detail::make_new_python_type (rec=...) at /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h:576\n576     /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h: No such file or directory.\nMissing separate debuginfos, use: debuginfo-install glibc-2.17-106.el7_2.8.x86_64\n\n</code></pre>", "body_text": "Related #8358 ?\nI got segfault in importing torch (0.4.0) after importing fastText.\nI found it is caused by from torch._C import * (https://github.com/pytorch/pytorch/blob/master/torch/__init__.py#L80).\n$ python --version\nPython 3.6.4 :: Anaconda, Inc.\n\n$ conda --version\nconda 4.4.10\n\n$ cat test.py\nimport fastText\nimport torch._C\n\n$ python test.py\nzsh: segmentation fault  python test.py\ngdb\n(gdb) run test.py\nStarting program: /home/cympfh/.pyenv/versions/anaconda3-5.1.0/bin/python test.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nMissing separate debuginfo for /home/cympfh/.pyenv/versions/anaconda3-5.1.0/lib/python3.6/site-packages/numpy/core/../.libs/libgfortran-ed201abd.so.3.0.0\n[New Thread 0x7fffecfa8700 (LWP 10028)]\n[New Thread 0x7fffec7a7700 (LWP 10029)]\n[New Thread 0x7fffe9fa6700 (LWP 10030)]\n[New Thread 0x7fffe77a5700 (LWP 10031)]\n[New Thread 0x7fffe4fa4700 (LWP 10032)]\n[New Thread 0x7fffe27a3700 (LWP 10033)]\n[New Thread 0x7fffdffa2700 (LWP 10034)]\n[New Thread 0x7fffdd7a1700 (LWP 10035)]\n[New Thread 0x7fffdafa0700 (LWP 10036)]\n[New Thread 0x7fffd879f700 (LWP 10037)]\n[New Thread 0x7fffd5f9e700 (LWP 10038)]\n[New Thread 0x7fffd379d700 (LWP 10039)]\n[New Thread 0x7fffd0f9c700 (LWP 10040)]\n[New Thread 0x7fffce79b700 (LWP 10041)]\n[New Thread 0x7fffcbf9a700 (LWP 10042)]\n[Thread 0x7fffd0f9c700 (LWP 10040) exited]\n[Thread 0x7fffcbf9a700 (LWP 10042) exited]\n[Thread 0x7fffe9fa6700 (LWP 10030) exited]\n[Thread 0x7fffce79b700 (LWP 10041) exited]\n[Thread 0x7fffdafa0700 (LWP 10036) exited]\n[Thread 0x7fffd379d700 (LWP 10039) exited]\n[Thread 0x7fffdffa2700 (LWP 10034) exited]\n[Thread 0x7fffd5f9e700 (LWP 10038) exited]\n[Thread 0x7fffe4fa4700 (LWP 10032) exited]\n[Thread 0x7fffdd7a1700 (LWP 10035) exited]\n[Thread 0x7fffecfa8700 (LWP 10028) exited]\n[Thread 0x7fffd879f700 (LWP 10037) exited]\n[Thread 0x7fffe27a3700 (LWP 10033) exited]\n[Thread 0x7fffec7a7700 (LWP 10029) exited]\n[Thread 0x7fffe77a5700 (LWP 10031) exited]\nDetaching after fork from child process 10045.\n\nProgram received signal SIGSEGV, Segmentation fault.\npybind11::detail::make_new_python_type (rec=...) at /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h:576\n576     /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h: No such file or directory.\nMissing separate debuginfos, use: debuginfo-install glibc-2.17-106.el7_2.8.x86_64", "body": "Related #8358 ?\r\n\r\nI got segfault in importing torch (0.4.0) after importing `fastText`.\r\nI found it is caused by `from torch._C import *` (https://github.com/pytorch/pytorch/blob/master/torch/__init__.py#L80).\r\n\r\n```bash\r\n$ python --version\r\nPython 3.6.4 :: Anaconda, Inc.\r\n\r\n$ conda --version\r\nconda 4.4.10\r\n\r\n$ cat test.py\r\nimport fastText\r\nimport torch._C\r\n\r\n$ python test.py\r\nzsh: segmentation fault  python test.py\r\n```\r\n\r\n## gdb\r\n\r\n```\r\n(gdb) run test.py\r\nStarting program: /home/cympfh/.pyenv/versions/anaconda3-5.1.0/bin/python test.py\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\r\nMissing separate debuginfo for /home/cympfh/.pyenv/versions/anaconda3-5.1.0/lib/python3.6/site-packages/numpy/core/../.libs/libgfortran-ed201abd.so.3.0.0\r\n[New Thread 0x7fffecfa8700 (LWP 10028)]\r\n[New Thread 0x7fffec7a7700 (LWP 10029)]\r\n[New Thread 0x7fffe9fa6700 (LWP 10030)]\r\n[New Thread 0x7fffe77a5700 (LWP 10031)]\r\n[New Thread 0x7fffe4fa4700 (LWP 10032)]\r\n[New Thread 0x7fffe27a3700 (LWP 10033)]\r\n[New Thread 0x7fffdffa2700 (LWP 10034)]\r\n[New Thread 0x7fffdd7a1700 (LWP 10035)]\r\n[New Thread 0x7fffdafa0700 (LWP 10036)]\r\n[New Thread 0x7fffd879f700 (LWP 10037)]\r\n[New Thread 0x7fffd5f9e700 (LWP 10038)]\r\n[New Thread 0x7fffd379d700 (LWP 10039)]\r\n[New Thread 0x7fffd0f9c700 (LWP 10040)]\r\n[New Thread 0x7fffce79b700 (LWP 10041)]\r\n[New Thread 0x7fffcbf9a700 (LWP 10042)]\r\n[Thread 0x7fffd0f9c700 (LWP 10040) exited]\r\n[Thread 0x7fffcbf9a700 (LWP 10042) exited]\r\n[Thread 0x7fffe9fa6700 (LWP 10030) exited]\r\n[Thread 0x7fffce79b700 (LWP 10041) exited]\r\n[Thread 0x7fffdafa0700 (LWP 10036) exited]\r\n[Thread 0x7fffd379d700 (LWP 10039) exited]\r\n[Thread 0x7fffdffa2700 (LWP 10034) exited]\r\n[Thread 0x7fffd5f9e700 (LWP 10038) exited]\r\n[Thread 0x7fffe4fa4700 (LWP 10032) exited]\r\n[Thread 0x7fffdd7a1700 (LWP 10035) exited]\r\n[Thread 0x7fffecfa8700 (LWP 10028) exited]\r\n[Thread 0x7fffd879f700 (LWP 10037) exited]\r\n[Thread 0x7fffe27a3700 (LWP 10033) exited]\r\n[Thread 0x7fffec7a7700 (LWP 10029) exited]\r\n[Thread 0x7fffe77a5700 (LWP 10031) exited]\r\nDetaching after fork from child process 10045.\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\npybind11::detail::make_new_python_type (rec=...) at /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h:576\r\n576     /opt/conda/conda-bld/pytorch_1524586445097/work/third_party/pybind11/include/pybind11/detail/class.h: No such file or directory.\r\nMissing separate debuginfos, use: debuginfo-install glibc-2.17-106.el7_2.8.x86_64\r\n\r\n```"}