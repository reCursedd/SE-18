{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6756", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6756/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6756/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6756/events", "html_url": "https://github.com/pytorch/pytorch/issues/6756", "id": 315833991, "node_id": "MDU6SXNzdWUzMTU4MzM5OTE=", "number": 6756, "title": "Error when using Multiple gpus", "user": {"login": "mcjoshi", "id": 33366571, "node_id": "MDQ6VXNlcjMzMzY2NTcx", "avatar_url": "https://avatars0.githubusercontent.com/u/33366571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcjoshi", "html_url": "https://github.com/mcjoshi", "followers_url": "https://api.github.com/users/mcjoshi/followers", "following_url": "https://api.github.com/users/mcjoshi/following{/other_user}", "gists_url": "https://api.github.com/users/mcjoshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcjoshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcjoshi/subscriptions", "organizations_url": "https://api.github.com/users/mcjoshi/orgs", "repos_url": "https://api.github.com/users/mcjoshi/repos", "events_url": "https://api.github.com/users/mcjoshi/events{/privacy}", "received_events_url": "https://api.github.com/users/mcjoshi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-19T11:20:03Z", "updated_at": "2018-04-19T11:21:05Z", "closed_at": "2018-04-19T11:20:44Z", "author_association": "NONE", "body_html": "<p>My code works fine when using just 1 GPU using <code>torch.cuda.set_device(0)</code> but it takes a lot of time to train in single GPU.</p>\n<p>I tried various ways to Parallelize it, but nothing seems to work.<br>\nCurrently Iam trying :</p>\n<pre><code>gpu_ids = [0,1,2,3]\nmodel = torch.nn.DataParallel(model,device_ids=gpu_ids)\nmodel.cuda()\n</code></pre>\n<p>But when i try to access some model methods, like <code>model.encoder.eval()</code> it throws error saying <code>'DataParallel' object has no attribute 'encoder_prior'</code></p>\n<p>Can You help me out here ?</p>", "body_text": "My code works fine when using just 1 GPU using torch.cuda.set_device(0) but it takes a lot of time to train in single GPU.\nI tried various ways to Parallelize it, but nothing seems to work.\nCurrently Iam trying :\ngpu_ids = [0,1,2,3]\nmodel = torch.nn.DataParallel(model,device_ids=gpu_ids)\nmodel.cuda()\n\nBut when i try to access some model methods, like model.encoder.eval() it throws error saying 'DataParallel' object has no attribute 'encoder_prior'\nCan You help me out here ?", "body": "My code works fine when using just 1 GPU using `torch.cuda.set_device(0)` but it takes a lot of time to train in single GPU.\r\n\r\nI tried various ways to Parallelize it, but nothing seems to work.\r\nCurrently Iam trying : \r\n```\r\ngpu_ids = [0,1,2,3]\r\nmodel = torch.nn.DataParallel(model,device_ids=gpu_ids)\r\nmodel.cuda()\r\n```\r\nBut when i try to access some model methods, like `model.encoder.eval()` it throws error saying `'DataParallel' object has no attribute 'encoder_prior'`\r\n\r\nCan You help me out here ?"}