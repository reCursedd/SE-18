{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/360325896", "html_url": "https://github.com/pytorch/pytorch/pull/4041#issuecomment-360325896", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4041", "id": 360325896, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDMyNTg5Ng==", "user": {"login": "yf225", "id": 4063635, "node_id": "MDQ6VXNlcjQwNjM2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4063635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yf225", "html_url": "https://github.com/yf225", "followers_url": "https://api.github.com/users/yf225/followers", "following_url": "https://api.github.com/users/yf225/following{/other_user}", "gists_url": "https://api.github.com/users/yf225/gists{/gist_id}", "starred_url": "https://api.github.com/users/yf225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yf225/subscriptions", "organizations_url": "https://api.github.com/users/yf225/orgs", "repos_url": "https://api.github.com/users/yf225/repos", "events_url": "https://api.github.com/users/yf225/events{/privacy}", "received_events_url": "https://api.github.com/users/yf225/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-25T00:59:00Z", "updated_at": "2018-01-26T12:36:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>After changing things to C++, <a href=\"https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/test/scalar_tensor_test.cpp#L214\">https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/test/scalar_tensor_test.cpp#L214</a> seems to fail when <code>lhs</code> is empty and <code>rhs</code> is a tensor with single element 0.</p>\n<p>The error message is:</p>\n<pre><code>terminate called after throwing an instance of 'std::runtime_error'\n what():  invalid argument 2: out of range: 0 out of 0 at /private/home/willfeng/pytorch/aten/src/TH/generic/THTensorMath.cpp:382\n../aten/tools/run_tests.sh: line 14: 23523 Aborted                 $BUILD_ROOT/src/ATen/test/scalar_tensor_test\n</code></pre>\n<p>In the normal case, <code>TRY_CATCH_ELSE</code> is expected to catch this <code>std::runtime_error</code> thrown from <code>THTensorMath.cpp</code>, but it wasn't the case here. I manually tested it and it seems that the catch block was not entered at all.</p>\n<p>Any suggestions on how I should go about debugging this?</p>\n<p>EDIT: fixed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"291714563\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4857\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/4857/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/4857\">#4857</a>.</p>", "body_text": "After changing things to C++, https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/test/scalar_tensor_test.cpp#L214 seems to fail when lhs is empty and rhs is a tensor with single element 0.\nThe error message is:\nterminate called after throwing an instance of 'std::runtime_error'\n what():  invalid argument 2: out of range: 0 out of 0 at /private/home/willfeng/pytorch/aten/src/TH/generic/THTensorMath.cpp:382\n../aten/tools/run_tests.sh: line 14: 23523 Aborted                 $BUILD_ROOT/src/ATen/test/scalar_tensor_test\n\nIn the normal case, TRY_CATCH_ELSE is expected to catch this std::runtime_error thrown from THTensorMath.cpp, but it wasn't the case here. I manually tested it and it seems that the catch block was not entered at all.\nAny suggestions on how I should go about debugging this?\nEDIT: fixed in #4857.", "body": "After changing things to C++, https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/test/scalar_tensor_test.cpp#L214 seems to fail when `lhs` is empty and `rhs` is a tensor with single element 0. \r\n\r\nThe error message is:\r\n ```\r\nterminate called after throwing an instance of 'std::runtime_error'\r\n  what():  invalid argument 2: out of range: 0 out of 0 at /private/home/willfeng/pytorch/aten/src/TH/generic/THTensorMath.cpp:382\r\n../aten/tools/run_tests.sh: line 14: 23523 Aborted                 $BUILD_ROOT/src/ATen/test/scalar_tensor_test\r\n```\r\n\r\nIn the normal case, `TRY_CATCH_ELSE` is expected to catch this `std::runtime_error` thrown from `THTensorMath.cpp`, but it wasn't the case here. I manually tested it and it seems that the catch block was not entered at all.\r\n\r\nAny suggestions on how I should go about debugging this?\r\n\r\nEDIT: fixed in https://github.com/pytorch/pytorch/pull/4857."}