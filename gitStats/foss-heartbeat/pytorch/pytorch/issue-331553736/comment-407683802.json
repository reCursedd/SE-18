{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/407683802", "html_url": "https://github.com/pytorch/pytorch/issues/8369#issuecomment-407683802", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8369", "id": 407683802, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzY4MzgwMg==", "user": {"login": "doudoubilly", "id": 18108567, "node_id": "MDQ6VXNlcjE4MTA4NTY3", "avatar_url": "https://avatars3.githubusercontent.com/u/18108567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doudoubilly", "html_url": "https://github.com/doudoubilly", "followers_url": "https://api.github.com/users/doudoubilly/followers", "following_url": "https://api.github.com/users/doudoubilly/following{/other_user}", "gists_url": "https://api.github.com/users/doudoubilly/gists{/gist_id}", "starred_url": "https://api.github.com/users/doudoubilly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doudoubilly/subscriptions", "organizations_url": "https://api.github.com/users/doudoubilly/orgs", "repos_url": "https://api.github.com/users/doudoubilly/repos", "events_url": "https://api.github.com/users/doudoubilly/events{/privacy}", "received_events_url": "https://api.github.com/users/doudoubilly/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-25T08:55:59Z", "updated_at": "2018-07-25T08:55:59Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a> I just train a small LSTM. For several epochs. Error below occur.</p>\n<p>*** Error in `python': double free or corruption (fasttop): 0x00007ff260038490 ***<br>\n======= Backtrace: =========<br>\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7ff37596d7e5]<br>\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7ff37597637a]<br>\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7ff37597a53c]<br>\n/usr/lib64/nvidia/libcuda.so.1(+0x1d1453)[0x7ff3705e6453]<br>\n/usr/lib64/nvidia/libcuda.so.1(+0xeee02)[0x7ff370503e02]<br>\n/usr/lib64/nvidia/libcuda.so.1(+0xeeeb0)[0x7ff370503eb0]<br>\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreateWithPriority+0x61)[0x7ff37062b831]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb482)[0x7ff2d625d482]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb69e)[0x7ff2d625d69e]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x30095e7)[0x7ff2d628b5e7]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN17RNNBackwardFilterIfffE4initEP12cudnnContextP14cudnnRNNStructi11PerfOptions+0x3b0)[0x7ff2dbce0e70]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(cudnnRNNBackwardWeights+0xed1)[0x7ff2dbce0061]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(<em>ZN2at6native26_cudnn_rnn_backward_weightERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_lllbdbbNS4_IlEES3_S3</em>+0xa6f)[0x7ff2d45842cf]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN2at6native19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x22f)[0x7ff2d4586c4f]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZNK2at4Type19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x9f)[0x7ff2d47e3a0f]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZNK5torch8autograd12VariableType19_cudnn_rnn_backwardERKN2at6TensorENS2_8ArrayRefIS3_EElS5_S5_S5_S5_S5_S5_S5_lllbdbbNS6_IlEES5_S5_St5arrayIbLm4EE+0x43b)[0x7ff3005e3cbb]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd9generated16CudnnRnnBackward5applyERKSt6vectorINS0_8VariableESaIS4_EE+0x6c6)[0x7ff3006b0ef6]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine17evaluate_functionERNS0_12FunctionTaskE+0x3e2)[0x7ff30053fb02]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_mainEPNS0_9GraphTaskE+0xe5)[0x7ff300540b15]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_initEi+0x5e)[0x7ff30053cfce]<br>\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6python12PythonEngine11thread_initEi+0x2a)[0x7ff30056aa2a]<br>\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb8c80)[0x7ff36f420c80]<br>\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7ff375cc76ba]<br>\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7ff3759fd41d]</p>", "body_text": "@soumith I just train a small LSTM. For several epochs. Error below occur.\n*** Error in `python': double free or corruption (fasttop): 0x00007ff260038490 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7ff37596d7e5]\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7ff37597637a]\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7ff37597a53c]\n/usr/lib64/nvidia/libcuda.so.1(+0x1d1453)[0x7ff3705e6453]\n/usr/lib64/nvidia/libcuda.so.1(+0xeee02)[0x7ff370503e02]\n/usr/lib64/nvidia/libcuda.so.1(+0xeeeb0)[0x7ff370503eb0]\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreateWithPriority+0x61)[0x7ff37062b831]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb482)[0x7ff2d625d482]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb69e)[0x7ff2d625d69e]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x30095e7)[0x7ff2d628b5e7]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN17RNNBackwardFilterIfffE4initEP12cudnnContextP14cudnnRNNStructi11PerfOptions+0x3b0)[0x7ff2dbce0e70]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(cudnnRNNBackwardWeights+0xed1)[0x7ff2dbce0061]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(ZN2at6native26_cudnn_rnn_backward_weightERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_lllbdbbNS4_IlEES3_S3+0xa6f)[0x7ff2d45842cf]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN2at6native19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x22f)[0x7ff2d4586c4f]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZNK2at4Type19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x9f)[0x7ff2d47e3a0f]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZNK5torch8autograd12VariableType19_cudnn_rnn_backwardERKN2at6TensorENS2_8ArrayRefIS3_EElS5_S5_S5_S5_S5_S5_S5_lllbdbbNS6_IlEES5_S5_St5arrayIbLm4EE+0x43b)[0x7ff3005e3cbb]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd9generated16CudnnRnnBackward5applyERKSt6vectorINS0_8VariableESaIS4_EE+0x6c6)[0x7ff3006b0ef6]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine17evaluate_functionERNS0_12FunctionTaskE+0x3e2)[0x7ff30053fb02]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_mainEPNS0_9GraphTaskE+0xe5)[0x7ff300540b15]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_initEi+0x5e)[0x7ff30053cfce]\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6python12PythonEngine11thread_initEi+0x2a)[0x7ff30056aa2a]\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb8c80)[0x7ff36f420c80]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7ff375cc76ba]\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7ff3759fd41d]", "body": "@soumith I just train a small LSTM. For several epochs. Error below occur.\r\n\r\n*** Error in `python': double free or corruption (fasttop): 0x00007ff260038490 *** \r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7ff37596d7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7ff37597637a]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7ff37597a53c]\r\n/usr/lib64/nvidia/libcuda.so.1(+0x1d1453)[0x7ff3705e6453]\r\n/usr/lib64/nvidia/libcuda.so.1(+0xeee02)[0x7ff370503e02]\r\n/usr/lib64/nvidia/libcuda.so.1(+0xeeeb0)[0x7ff370503eb0]\r\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreateWithPriority+0x61)[0x7ff37062b831]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb482)[0x7ff2d625d482]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x2fdb69e)[0x7ff2d625d69e]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(+0x30095e7)[0x7ff2d628b5e7]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN17RNNBackwardFilterIfffE4initEP12cudnnContextP14cudnnRNNStructi11PerfOptions+0x3b0)[0x7ff2dbce0e70]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(cudnnRNNBackwardWeights+0xed1)[0x7ff2dbce0061]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN2at6native26_cudnn_rnn_backward_weightERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_+0xa6f)[0x7ff2d45842cf]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZN2at6native19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x22f)[0x7ff2d4586c4f]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/lib/libATen.so(_ZNK2at4Type19_cudnn_rnn_backwardERKNS_6TensorENS_8ArrayRefIS1_EElS3_S3_S3_S3_S3_S3_S3_lllbdbbNS4_IlEES3_S3_St5arrayIbLm4EE+0x9f)[0x7ff2d47e3a0f]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZNK5torch8autograd12VariableType19_cudnn_rnn_backwardERKN2at6TensorENS2_8ArrayRefIS3_EElS5_S5_S5_S5_S5_S5_S5_lllbdbbNS6_IlEES5_S5_St5arrayIbLm4EE+0x43b)[0x7ff3005e3cbb]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd9generated16CudnnRnnBackward5applyERKSt6vectorINS0_8VariableESaIS4_EE+0x6c6)[0x7ff3006b0ef6]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine17evaluate_functionERNS0_12FunctionTaskE+0x3e2)[0x7ff30053fb02]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_mainEPNS0_9GraphTaskE+0xe5)[0x7ff300540b15]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6Engine11thread_initEi+0x5e)[0x7ff30053cfce]\r\n/home/abc/Envs/pt-py3/lib/python3.5/site-packages/torch/_C.cpython-35m-x86_64-linux-gnu.so(_ZN5torch8autograd6python12PythonEngine11thread_initEi+0x2a)[0x7ff30056aa2a]\r\n/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb8c80)[0x7ff36f420c80]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7ff375cc76ba]\r\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7ff3759fd41d]\r\n"}