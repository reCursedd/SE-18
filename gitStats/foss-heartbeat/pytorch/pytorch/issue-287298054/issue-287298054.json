{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4572", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4572/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4572/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4572/events", "html_url": "https://github.com/pytorch/pytorch/pull/4572", "id": 287298054, "node_id": "MDExOlB1bGxSZXF1ZXN0MTYyMDI0NTU2", "number": 4572, "title": "Add torch.distributions.utils._finfo for numerical stability", "user": {"login": "fritzo", "id": 648532, "node_id": "MDQ6VXNlcjY0ODUzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/648532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fritzo", "html_url": "https://github.com/fritzo", "followers_url": "https://api.github.com/users/fritzo/followers", "following_url": "https://api.github.com/users/fritzo/following{/other_user}", "gists_url": "https://api.github.com/users/fritzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fritzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fritzo/subscriptions", "organizations_url": "https://api.github.com/users/fritzo/orgs", "repos_url": "https://api.github.com/users/fritzo/repos", "events_url": "https://api.github.com/users/fritzo/events{/privacy}", "received_events_url": "https://api.github.com/users/fritzo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-01-10T02:43:56Z", "updated_at": "2018-11-23T15:38:01Z", "closed_at": "2018-01-11T02:42:48Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/4572", "html_url": "https://github.com/pytorch/pytorch/pull/4572", "diff_url": "https://github.com/pytorch/pytorch/pull/4572.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/4572.patch"}, "body_html": "<p>This adds a lightweight <code>_finfo()</code> function for use in torch.distributions. Example usage:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> _finfo(Variable(torch.HalfTensor())).eps\n<span class=\"pl-c1\">0.00097656</span>\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> _finfo(torch.HalfTensor()).tiny\n<span class=\"pl-c1\">6.1035e-05</span>\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> _finfo(torch.FloatTensor()).eps\n<span class=\"pl-c1\">1.19209e-07</span>\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> _finfo(torch.DoubleTensor()).eps\n<span class=\"pl-c1\">2.22044604925e-16</span></pre></div>\n<p>It is modeled after the <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.finfo.html\" rel=\"nofollow\">numpy.finfo</a> function. This PR also uses <code>_finfo</code> to clamp the <code>Gamma</code>, <code>Beta</code>, and <code>Dirichlet</code> distributions to avoid NANs.</p>", "body_text": "This adds a lightweight _finfo() function for use in torch.distributions. Example usage:\n>>> _finfo(Variable(torch.HalfTensor())).eps\n0.00097656\n>>> _finfo(torch.HalfTensor()).tiny\n6.1035e-05\n>>> _finfo(torch.FloatTensor()).eps\n1.19209e-07\n>>> _finfo(torch.DoubleTensor()).eps\n2.22044604925e-16\nIt is modeled after the numpy.finfo function. This PR also uses _finfo to clamp the Gamma, Beta, and Dirichlet distributions to avoid NANs.", "body": "This adds a lightweight `_finfo()` function for use in torch.distributions. Example usage:\r\n```py\r\n>>> _finfo(Variable(torch.HalfTensor())).eps\r\n0.00097656\r\n>>> _finfo(torch.HalfTensor()).tiny\r\n6.1035e-05\r\n>>> _finfo(torch.FloatTensor()).eps\r\n1.19209e-07\r\n>>> _finfo(torch.DoubleTensor()).eps\r\n2.22044604925e-16\r\n```\r\nIt is modeled after the [numpy.finfo](https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.finfo.html) function. This PR also uses `_finfo` to clamp the `Gamma`, `Beta`, and `Dirichlet` distributions to avoid NANs.\r\n  "}