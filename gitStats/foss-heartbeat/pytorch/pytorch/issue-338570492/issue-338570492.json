{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9185", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9185/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9185/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9185/events", "html_url": "https://github.com/pytorch/pytorch/issues/9185", "id": 338570492, "node_id": "MDU6SXNzdWUzMzg1NzA0OTI=", "number": 9185, "title": "torch.Tensor.__repr__ is slow", "user": {"login": "mrocklin", "id": 306380, "node_id": "MDQ6VXNlcjMwNjM4MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/306380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrocklin", "html_url": "https://github.com/mrocklin", "followers_url": "https://api.github.com/users/mrocklin/followers", "following_url": "https://api.github.com/users/mrocklin/following{/other_user}", "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions", "organizations_url": "https://api.github.com/users/mrocklin/orgs", "repos_url": "https://api.github.com/users/mrocklin/repos", "events_url": "https://api.github.com/users/mrocklin/events{/privacy}", "received_events_url": "https://api.github.com/users/mrocklin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-05T13:16:44Z", "updated_at": "2018-07-05T13:28:38Z", "closed_at": "2018-07-05T13:22:47Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Issue description</h2>\n<p>Calling <code>repr(my_tensor)</code> is probably slower than it should be</p>\n<h2>Code example</h2>\n<div class=\"highlight highlight-source-python\"><pre>In [<span class=\"pl-c1\">1</span>]: <span class=\"pl-k\">import</span> numpy, torch\n\nIn [<span class=\"pl-c1\">2</span>]: x <span class=\"pl-k\">=</span> numpy.random.random((<span class=\"pl-c1\">10000</span>, <span class=\"pl-c1\">10000</span>))\n\nIn [<span class=\"pl-c1\">3</span>]: t <span class=\"pl-k\">=</span> torch.tensor(x)\n\nIn [<span class=\"pl-c1\">4</span>]: <span class=\"pl-k\">%</span>time <span class=\"pl-c1\">repr</span>(x)\n<span class=\"pl-c1\">CPU</span> times: user <span class=\"pl-c1\">1.11</span> ms, sys: <span class=\"pl-c1\">189</span> \u00b5s, total: <span class=\"pl-c1\">1.3</span> ms\nWall time: <span class=\"pl-c1\">1.25</span> ms\nOut[<span class=\"pl-c1\">4</span>]: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>array([[0.37923863, 0.93985135, 0.8177717 , ..., 0.7567734 , 0.68710091,<span class=\"pl-cce\">\\n</span>        0.39061908],<span class=\"pl-cce\">\\n</span>       [0.50736735, 0.47869298, 0.45471279, ..., 0.63920982, 0.27712654,<span class=\"pl-cce\">\\n</span>        0.77862895],<span class=\"pl-cce\">\\n</span>       [0.43660413, 0.72328829, 0.45296291, ..., 0.84325044, 0.9253347 ,<span class=\"pl-cce\">\\n</span>        0.23679101],<span class=\"pl-cce\">\\n</span>       ...,<span class=\"pl-cce\">\\n</span>       [0.30260606, 0.48107993, 0.8642571 , ..., 0.69170529, 0.95641008,<span class=\"pl-cce\">\\n</span>        0.32320885],<span class=\"pl-cce\">\\n</span>       [0.25304728, 0.40802247, 0.69816225, ..., 0.55354371, 0.83124371,<span class=\"pl-cce\">\\n</span>        0.28979792],<span class=\"pl-cce\">\\n</span>       [0.39114144, 0.1223246 , 0.58098945, ..., 0.44311503, 0.97908551,<span class=\"pl-cce\">\\n</span>        0.07768493]])<span class=\"pl-pds\">'</span></span>\n\nIn [<span class=\"pl-c1\">5</span>]: <span class=\"pl-k\">%</span>time <span class=\"pl-c1\">repr</span>(t)\n<span class=\"pl-c1\">CPU</span> times: user <span class=\"pl-c1\">5.48</span> s, sys: <span class=\"pl-c1\">1.62</span> s, total: <span class=\"pl-c1\">7.1</span> s\nWall time: <span class=\"pl-c1\">3.92</span> s\nOut[<span class=\"pl-c1\">5</span>]: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>tensor([[ 3.7924e-01,  9.3985e-01,  8.1777e-01,  ...,  7.5677e-01,<span class=\"pl-cce\">\\n</span>          6.8710e-01,  3.9062e-01],<span class=\"pl-cce\">\\n</span>        [ 5.0737e-01,  4.7869e-01,  4.5471e-01,  ...,  6.3921e-01,<span class=\"pl-cce\">\\n</span>          2.7713e-01,  7.7863e-01],<span class=\"pl-cce\">\\n</span>        [ 4.3660e-01,  7.2329e-01,  4.5296e-01,  ...,  8.4325e-01,<span class=\"pl-cce\">\\n</span>          9.2533e-01,  2.3679e-01],<span class=\"pl-cce\">\\n</span>        ...,<span class=\"pl-cce\">\\n</span>        [ 3.0261e-01,  4.8108e-01,  8.6426e-01,  ...,  6.9171e-01,<span class=\"pl-cce\">\\n</span>          9.5641e-01,  3.2321e-01],<span class=\"pl-cce\">\\n</span>        [ 2.5305e-01,  4.0802e-01,  6.9816e-01,  ...,  5.5354e-01,<span class=\"pl-cce\">\\n</span>          8.3124e-01,  2.8980e-01],<span class=\"pl-cce\">\\n</span>        [ 3.9114e-01,  1.2232e-01,  5.8099e-01,  ...,  4.4312e-01,<span class=\"pl-cce\">\\n</span>          9.7909e-01,  7.7685e-02]], dtype=torch.float64)<span class=\"pl-pds\">'</span></span>\n\nIn [<span class=\"pl-c1\">6</span>]: torch.<span class=\"pl-c1\">__version__</span>\nOut[<span class=\"pl-c1\">6</span>]: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>0.4.0<span class=\"pl-pds\">'</span></span></pre></div>", "body_text": "Issue description\nCalling repr(my_tensor) is probably slower than it should be\nCode example\nIn [1]: import numpy, torch\n\nIn [2]: x = numpy.random.random((10000, 10000))\n\nIn [3]: t = torch.tensor(x)\n\nIn [4]: %time repr(x)\nCPU times: user 1.11 ms, sys: 189 \u00b5s, total: 1.3 ms\nWall time: 1.25 ms\nOut[4]: 'array([[0.37923863, 0.93985135, 0.8177717 , ..., 0.7567734 , 0.68710091,\\n        0.39061908],\\n       [0.50736735, 0.47869298, 0.45471279, ..., 0.63920982, 0.27712654,\\n        0.77862895],\\n       [0.43660413, 0.72328829, 0.45296291, ..., 0.84325044, 0.9253347 ,\\n        0.23679101],\\n       ...,\\n       [0.30260606, 0.48107993, 0.8642571 , ..., 0.69170529, 0.95641008,\\n        0.32320885],\\n       [0.25304728, 0.40802247, 0.69816225, ..., 0.55354371, 0.83124371,\\n        0.28979792],\\n       [0.39114144, 0.1223246 , 0.58098945, ..., 0.44311503, 0.97908551,\\n        0.07768493]])'\n\nIn [5]: %time repr(t)\nCPU times: user 5.48 s, sys: 1.62 s, total: 7.1 s\nWall time: 3.92 s\nOut[5]: 'tensor([[ 3.7924e-01,  9.3985e-01,  8.1777e-01,  ...,  7.5677e-01,\\n          6.8710e-01,  3.9062e-01],\\n        [ 5.0737e-01,  4.7869e-01,  4.5471e-01,  ...,  6.3921e-01,\\n          2.7713e-01,  7.7863e-01],\\n        [ 4.3660e-01,  7.2329e-01,  4.5296e-01,  ...,  8.4325e-01,\\n          9.2533e-01,  2.3679e-01],\\n        ...,\\n        [ 3.0261e-01,  4.8108e-01,  8.6426e-01,  ...,  6.9171e-01,\\n          9.5641e-01,  3.2321e-01],\\n        [ 2.5305e-01,  4.0802e-01,  6.9816e-01,  ...,  5.5354e-01,\\n          8.3124e-01,  2.8980e-01],\\n        [ 3.9114e-01,  1.2232e-01,  5.8099e-01,  ...,  4.4312e-01,\\n          9.7909e-01,  7.7685e-02]], dtype=torch.float64)'\n\nIn [6]: torch.__version__\nOut[6]: '0.4.0'", "body": "## Issue description\r\n\r\nCalling `repr(my_tensor)` is probably slower than it should be\r\n\r\n## Code example\r\n\r\n```python\r\nIn [1]: import numpy, torch\r\n\r\nIn [2]: x = numpy.random.random((10000, 10000))\r\n\r\nIn [3]: t = torch.tensor(x)\r\n\r\nIn [4]: %time repr(x)\r\nCPU times: user 1.11 ms, sys: 189 \u00b5s, total: 1.3 ms\r\nWall time: 1.25 ms\r\nOut[4]: 'array([[0.37923863, 0.93985135, 0.8177717 , ..., 0.7567734 , 0.68710091,\\n        0.39061908],\\n       [0.50736735, 0.47869298, 0.45471279, ..., 0.63920982, 0.27712654,\\n        0.77862895],\\n       [0.43660413, 0.72328829, 0.45296291, ..., 0.84325044, 0.9253347 ,\\n        0.23679101],\\n       ...,\\n       [0.30260606, 0.48107993, 0.8642571 , ..., 0.69170529, 0.95641008,\\n        0.32320885],\\n       [0.25304728, 0.40802247, 0.69816225, ..., 0.55354371, 0.83124371,\\n        0.28979792],\\n       [0.39114144, 0.1223246 , 0.58098945, ..., 0.44311503, 0.97908551,\\n        0.07768493]])'\r\n\r\nIn [5]: %time repr(t)\r\nCPU times: user 5.48 s, sys: 1.62 s, total: 7.1 s\r\nWall time: 3.92 s\r\nOut[5]: 'tensor([[ 3.7924e-01,  9.3985e-01,  8.1777e-01,  ...,  7.5677e-01,\\n          6.8710e-01,  3.9062e-01],\\n        [ 5.0737e-01,  4.7869e-01,  4.5471e-01,  ...,  6.3921e-01,\\n          2.7713e-01,  7.7863e-01],\\n        [ 4.3660e-01,  7.2329e-01,  4.5296e-01,  ...,  8.4325e-01,\\n          9.2533e-01,  2.3679e-01],\\n        ...,\\n        [ 3.0261e-01,  4.8108e-01,  8.6426e-01,  ...,  6.9171e-01,\\n          9.5641e-01,  3.2321e-01],\\n        [ 2.5305e-01,  4.0802e-01,  6.9816e-01,  ...,  5.5354e-01,\\n          8.3124e-01,  2.8980e-01],\\n        [ 3.9114e-01,  1.2232e-01,  5.8099e-01,  ...,  4.4312e-01,\\n          9.7909e-01,  7.7685e-02]], dtype=torch.float64)'\r\n\r\nIn [6]: torch.__version__\r\nOut[6]: '0.4.0'\r\n```\r\n"}