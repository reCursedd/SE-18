{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/280880297", "html_url": "https://github.com/pytorch/pytorch/issues/535#issuecomment-280880297", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/535", "id": 280880297, "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDg4MDI5Nw==", "user": {"login": "pettarin", "id": 4086163, "node_id": "MDQ6VXNlcjQwODYxNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4086163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pettarin", "html_url": "https://github.com/pettarin", "followers_url": "https://api.github.com/users/pettarin/followers", "following_url": "https://api.github.com/users/pettarin/following{/other_user}", "gists_url": "https://api.github.com/users/pettarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pettarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pettarin/subscriptions", "organizations_url": "https://api.github.com/users/pettarin/orgs", "repos_url": "https://api.github.com/users/pettarin/repos", "events_url": "https://api.github.com/users/pettarin/events{/privacy}", "received_events_url": "https://api.github.com/users/pettarin/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-18T22:33:57Z", "updated_at": "2017-02-18T22:33:57Z", "author_association": "NONE", "body_html": "<p>I see. It sounds as a reasonable explanation.</p>\n<p>Maybe I am saying something <em>very</em> stupid, but isn't it possible to disable vectorization at global level, and enable it only at file-level, for those source files which actually have the suitable pragmas or multiversions? (Again, apologies, I am not a compiler/cmake master...)</p>\n<p>Anyway, for educational purposes I actually coded a MWE of a 2.7/3.5 package with a C++ extension whose code has function multiversioning, and it seems to work: on my laptop (a recent Intel Core i5), it reports SSE4.2, while on the AMD II X2 server cited above it reports SSE4a. The code is here: <a href=\"https://github.com/pettarin/pwcm\">https://github.com/pettarin/pwcm</a></p>", "body_text": "I see. It sounds as a reasonable explanation.\nMaybe I am saying something very stupid, but isn't it possible to disable vectorization at global level, and enable it only at file-level, for those source files which actually have the suitable pragmas or multiversions? (Again, apologies, I am not a compiler/cmake master...)\nAnyway, for educational purposes I actually coded a MWE of a 2.7/3.5 package with a C++ extension whose code has function multiversioning, and it seems to work: on my laptop (a recent Intel Core i5), it reports SSE4.2, while on the AMD II X2 server cited above it reports SSE4a. The code is here: https://github.com/pettarin/pwcm", "body": "I see. It sounds as a reasonable explanation.\r\n\r\nMaybe I am saying something _very_ stupid, but isn't it possible to disable vectorization at global level, and enable it only at file-level, for those source files which actually have the suitable pragmas or multiversions? (Again, apologies, I am not a compiler/cmake master...)\r\n\r\nAnyway, for educational purposes I actually coded a MWE of a 2.7/3.5 package with a C++ extension whose code has function multiversioning, and it seems to work: on my laptop (a recent Intel Core i5), it reports SSE4.2, while on the AMD II X2 server cited above it reports SSE4a. The code is here: https://github.com/pettarin/pwcm"}