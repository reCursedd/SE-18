{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/274787313", "html_url": "https://github.com/pytorch/pytorch/issues/535#issuecomment-274787313", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/535", "id": 274787313, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDc4NzMxMw==", "user": {"login": "rockcat", "id": 2271227, "node_id": "MDQ6VXNlcjIyNzEyMjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2271227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockcat", "html_url": "https://github.com/rockcat", "followers_url": "https://api.github.com/users/rockcat/followers", "following_url": "https://api.github.com/users/rockcat/following{/other_user}", "gists_url": "https://api.github.com/users/rockcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockcat/subscriptions", "organizations_url": "https://api.github.com/users/rockcat/orgs", "repos_url": "https://api.github.com/users/rockcat/repos", "events_url": "https://api.github.com/users/rockcat/events{/privacy}", "received_events_url": "https://api.github.com/users/rockcat/received_events", "type": "User", "site_admin": false}, "created_at": "2017-01-24T12:11:32Z", "updated_at": "2017-01-24T12:12:23Z", "author_association": "NONE", "body_html": "<p>and this is the dbg</p>\n<pre><code>paul@ELDERBERRY:~/workspace/pytorch/examples/testdump$ gdb python\nGNU gdb (Ubuntu 7.11.90.20161005-0ubuntu1) 7.11.90.20161005-git\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python...done.\n(gdb) run main.py\nStarting program: /home/paul/Programs/anaconda/bin/python main.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n\nProgram received signal SIGILL, Illegal instruction.\n0x00007ffff0a31682 in THRandom_nextState ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n(gdb) bt\n#0  0x00007ffff0a31682 in THRandom_nextState ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#1  0x00007ffff0a3185f in THRandom_random ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#2  0x00007ffff0a318c4 in THRandom_uniform ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#3  0x00007ffff08848e8 in THFloatTensor_uniform ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#4  0x00007ffff4f66c4b in THPFloatTensor_stateless_rand (self=&lt;optimised out&gt;, args=0x7fffd694ff80,\n    kwargs=&lt;optimised out&gt;) from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\n#5  0x00007ffff7a27dc3 in PyObject_Call (func=0x7fffd6958248, arg=&lt;optimised out&gt;, kw=&lt;optimised out&gt;)\n    at Objects/abstract.c:2546\n#6  0x00007ffff4d1eafa in THPModule_rand (_unused=&lt;optimised out&gt;, args=0x7fffd694ff80, kwargs=0x0)\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\n#7  0x00007ffff7adb5a2 in call_function (oparg=&lt;optimised out&gt;, pp_stack=0x7fffffffda48) at Python/ceval.c:4350\n#8  PyEval_EvalFrameEx (f=&lt;optimised out&gt;, throwflag=&lt;optimised out&gt;) at Python/ceval.c:2987\n#9  0x00007ffff7adc1ce in PyEval_EvalCodeEx (co=0x7ffff7ee0cb0, globals=&lt;optimised out&gt;, locals=&lt;optimised out&gt;,\n    args=&lt;optimised out&gt;, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3582\n#10 0x00007ffff7adc2e2 in PyEval_EvalCode (co=&lt;optimised out&gt;, globals=&lt;optimised out&gt;, locals=&lt;optimised out&gt;)\n    at Python/ceval.c:669\n#11 0x00007ffff7afc960 in run_mod (arena=0x679070, flags=0x7fffffffdd40, locals=0x7ffff7f4a168,\n    globals=0x7ffff7f4a168, filename=&lt;optimised out&gt;, mod=0x636d40) at Python/pythonrun.c:1376\n#12 PyRun_FileExFlags (fp=0x6ab360, filename=&lt;optimised out&gt;, start=&lt;optimised out&gt;, globals=0x7ffff7f4a168,\n    locals=0x7ffff7f4a168, closeit=1, flags=0x7fffffffdd40) at Python/pythonrun.c:1362\n#13 0x00007ffff7afcb3f in PyRun_SimpleFileExFlags (fp=0x6ab360, filename=0x7fffffffe177 \"main.py\", closeit=1,\n    flags=0x7fffffffdd40) at Python/pythonrun.c:948\n#14 0x00007ffff7b12484 in Py_Main (argc=&lt;optimised out&gt;, argv=&lt;optimised out&gt;) at Modules/main.c:645\n#15 0x00007ffff6d093f1 in __libc_start_main (main=0x400710 &lt;main&gt;, argc=2, argv=0x7fffffffde68, init=&lt;optimised out&gt;,\n    fini=&lt;optimised out&gt;, rtld_fini=&lt;optimised out&gt;, stack_end=0x7fffffffde58) at ../csu/libc-start.c:291\n#16 0x0000000000400649 in _start ()\n(gdb)\n</code></pre>\n<p>I guess I need to recompile with line number info? or is that enough to get you started?</p>", "body_text": "and this is the dbg\npaul@ELDERBERRY:~/workspace/pytorch/examples/testdump$ gdb python\nGNU gdb (Ubuntu 7.11.90.20161005-0ubuntu1) 7.11.90.20161005-git\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>.\nFind the GDB manual and other documentation resources online at:\n<http://www.gnu.org/software/gdb/documentation/>.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python...done.\n(gdb) run main.py\nStarting program: /home/paul/Programs/anaconda/bin/python main.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n\nProgram received signal SIGILL, Illegal instruction.\n0x00007ffff0a31682 in THRandom_nextState ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n(gdb) bt\n#0  0x00007ffff0a31682 in THRandom_nextState ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#1  0x00007ffff0a3185f in THRandom_random ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#2  0x00007ffff0a318c4 in THRandom_uniform ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#3  0x00007ffff08848e8 in THFloatTensor_uniform ()\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\n#4  0x00007ffff4f66c4b in THPFloatTensor_stateless_rand (self=<optimised out>, args=0x7fffd694ff80,\n    kwargs=<optimised out>) from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\n#5  0x00007ffff7a27dc3 in PyObject_Call (func=0x7fffd6958248, arg=<optimised out>, kw=<optimised out>)\n    at Objects/abstract.c:2546\n#6  0x00007ffff4d1eafa in THPModule_rand (_unused=<optimised out>, args=0x7fffd694ff80, kwargs=0x0)\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\n#7  0x00007ffff7adb5a2 in call_function (oparg=<optimised out>, pp_stack=0x7fffffffda48) at Python/ceval.c:4350\n#8  PyEval_EvalFrameEx (f=<optimised out>, throwflag=<optimised out>) at Python/ceval.c:2987\n#9  0x00007ffff7adc1ce in PyEval_EvalCodeEx (co=0x7ffff7ee0cb0, globals=<optimised out>, locals=<optimised out>,\n    args=<optimised out>, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3582\n#10 0x00007ffff7adc2e2 in PyEval_EvalCode (co=<optimised out>, globals=<optimised out>, locals=<optimised out>)\n    at Python/ceval.c:669\n#11 0x00007ffff7afc960 in run_mod (arena=0x679070, flags=0x7fffffffdd40, locals=0x7ffff7f4a168,\n    globals=0x7ffff7f4a168, filename=<optimised out>, mod=0x636d40) at Python/pythonrun.c:1376\n#12 PyRun_FileExFlags (fp=0x6ab360, filename=<optimised out>, start=<optimised out>, globals=0x7ffff7f4a168,\n    locals=0x7ffff7f4a168, closeit=1, flags=0x7fffffffdd40) at Python/pythonrun.c:1362\n#13 0x00007ffff7afcb3f in PyRun_SimpleFileExFlags (fp=0x6ab360, filename=0x7fffffffe177 \"main.py\", closeit=1,\n    flags=0x7fffffffdd40) at Python/pythonrun.c:948\n#14 0x00007ffff7b12484 in Py_Main (argc=<optimised out>, argv=<optimised out>) at Modules/main.c:645\n#15 0x00007ffff6d093f1 in __libc_start_main (main=0x400710 <main>, argc=2, argv=0x7fffffffde68, init=<optimised out>,\n    fini=<optimised out>, rtld_fini=<optimised out>, stack_end=0x7fffffffde58) at ../csu/libc-start.c:291\n#16 0x0000000000400649 in _start ()\n(gdb)\n\nI guess I need to recompile with line number info? or is that enough to get you started?", "body": "and this is the dbg\r\n\r\n````\r\npaul@ELDERBERRY:~/workspace/pytorch/examples/testdump$ gdb python\r\nGNU gdb (Ubuntu 7.11.90.20161005-0ubuntu1) 7.11.90.20161005-git\r\nCopyright (C) 2016 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from python...done.\r\n(gdb) run main.py\r\nStarting program: /home/paul/Programs/anaconda/bin/python main.py\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n\r\nProgram received signal SIGILL, Illegal instruction.\r\n0x00007ffff0a31682 in THRandom_nextState ()\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\r\n(gdb) bt\r\n#0  0x00007ffff0a31682 in THRandom_nextState ()\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\r\n#1  0x00007ffff0a3185f in THRandom_random ()\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\r\n#2  0x00007ffff0a318c4 in THRandom_uniform ()\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\r\n#3  0x00007ffff08848e8 in THFloatTensor_uniform ()\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/lib/libTH.so.1\r\n#4  0x00007ffff4f66c4b in THPFloatTensor_stateless_rand (self=<optimised out>, args=0x7fffd694ff80,\r\n    kwargs=<optimised out>) from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\r\n#5  0x00007ffff7a27dc3 in PyObject_Call (func=0x7fffd6958248, arg=<optimised out>, kw=<optimised out>)\r\n    at Objects/abstract.c:2546\r\n#6  0x00007ffff4d1eafa in THPModule_rand (_unused=<optimised out>, args=0x7fffd694ff80, kwargs=0x0)\r\n   from /home/paul/Programs/anaconda/lib/python2.7/site-packages/torch/_C.so\r\n#7  0x00007ffff7adb5a2 in call_function (oparg=<optimised out>, pp_stack=0x7fffffffda48) at Python/ceval.c:4350\r\n#8  PyEval_EvalFrameEx (f=<optimised out>, throwflag=<optimised out>) at Python/ceval.c:2987\r\n#9  0x00007ffff7adc1ce in PyEval_EvalCodeEx (co=0x7ffff7ee0cb0, globals=<optimised out>, locals=<optimised out>,\r\n    args=<optimised out>, argcount=0, kws=0x0, kwcount=0, defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3582\r\n#10 0x00007ffff7adc2e2 in PyEval_EvalCode (co=<optimised out>, globals=<optimised out>, locals=<optimised out>)\r\n    at Python/ceval.c:669\r\n#11 0x00007ffff7afc960 in run_mod (arena=0x679070, flags=0x7fffffffdd40, locals=0x7ffff7f4a168,\r\n    globals=0x7ffff7f4a168, filename=<optimised out>, mod=0x636d40) at Python/pythonrun.c:1376\r\n#12 PyRun_FileExFlags (fp=0x6ab360, filename=<optimised out>, start=<optimised out>, globals=0x7ffff7f4a168,\r\n    locals=0x7ffff7f4a168, closeit=1, flags=0x7fffffffdd40) at Python/pythonrun.c:1362\r\n#13 0x00007ffff7afcb3f in PyRun_SimpleFileExFlags (fp=0x6ab360, filename=0x7fffffffe177 \"main.py\", closeit=1,\r\n    flags=0x7fffffffdd40) at Python/pythonrun.c:948\r\n#14 0x00007ffff7b12484 in Py_Main (argc=<optimised out>, argv=<optimised out>) at Modules/main.c:645\r\n#15 0x00007ffff6d093f1 in __libc_start_main (main=0x400710 <main>, argc=2, argv=0x7fffffffde68, init=<optimised out>,\r\n    fini=<optimised out>, rtld_fini=<optimised out>, stack_end=0x7fffffffde58) at ../csu/libc-start.c:291\r\n#16 0x0000000000400649 in _start ()\r\n(gdb)\r\n````\r\n\r\nI guess I need to recompile with line number info? or is that enough to get you started?\r\n"}