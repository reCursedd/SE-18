{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/433810805", "html_url": "https://github.com/pytorch/pytorch/pull/13026#issuecomment-433810805", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13026", "id": 433810805, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzgxMDgwNQ==", "user": {"login": "suo", "id": 1617424, "node_id": "MDQ6VXNlcjE2MTc0MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1617424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suo", "html_url": "https://github.com/suo", "followers_url": "https://api.github.com/users/suo/followers", "following_url": "https://api.github.com/users/suo/following{/other_user}", "gists_url": "https://api.github.com/users/suo/gists{/gist_id}", "starred_url": "https://api.github.com/users/suo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suo/subscriptions", "organizations_url": "https://api.github.com/users/suo/orgs", "repos_url": "https://api.github.com/users/suo/repos", "events_url": "https://api.github.com/users/suo/events{/privacy}", "received_events_url": "https://api.github.com/users/suo/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-29T07:21:53Z", "updated_at": "2018-10-29T07:21:53Z", "author_association": "MEMBER", "body_html": "<p>There's a lot of overlap; I think the main difference is that the topological index is located directly in the graph and so it stays updated/correct by construction. This makes things simpler for pass authors, who only have to deal with the graph and its canonical topological ordering.</p>\n<p>As it is currently implemented it seems impractical to embed DynamicDAG into the graph, because  common operations like node insertion would become quite expensive.</p>\n<p>I think a good path to converging would be to optimize DynamicDAG a bit around some of the performance cliffs, and then embed it into the IR so that passes don't have to construct their own copy every time.</p>", "body_text": "There's a lot of overlap; I think the main difference is that the topological index is located directly in the graph and so it stays updated/correct by construction. This makes things simpler for pass authors, who only have to deal with the graph and its canonical topological ordering.\nAs it is currently implemented it seems impractical to embed DynamicDAG into the graph, because  common operations like node insertion would become quite expensive.\nI think a good path to converging would be to optimize DynamicDAG a bit around some of the performance cliffs, and then embed it into the IR so that passes don't have to construct their own copy every time.", "body": "There's a lot of overlap; I think the main difference is that the topological index is located directly in the graph and so it stays updated/correct by construction. This makes things simpler for pass authors, who only have to deal with the graph and its canonical topological ordering. \r\n\r\nAs it is currently implemented it seems impractical to embed DynamicDAG into the graph, because  common operations like node insertion would become quite expensive.\r\n\r\nI think a good path to converging would be to optimize DynamicDAG a bit around some of the performance cliffs, and then embed it into the IR so that passes don't have to construct their own copy every time. "}