{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2333", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2333/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2333/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2333/events", "html_url": "https://github.com/pytorch/pytorch/issues/2333", "id": 248655296, "node_id": "MDU6SXNzdWUyNDg2NTUyOTY=", "number": 2333, "title": "[THD/tag:v0.2.0] THD Build failure", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-08T09:32:16Z", "updated_at": "2017-08-08T15:09:57Z", "closed_at": "2017-08-08T15:09:57Z", "author_association": "CONTRIBUTOR", "body_html": "<pre><code>-- Build files have been written to: $HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD\nmake[1]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[2]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nScanning dependencies of target THD\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\n[  4%] Building CXX object CMakeFiles/THD.dir/base/DataChannel.cpp.o\n[  8%] Building CXX object CMakeFiles/THD.dir/base/ChannelUtils.cpp.o\n[ 12%] Building CXX object CMakeFiles/THD.dir/base/Cuda.cpp.o\n[ 16%] Building CXX object CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o\n[ 20%] Building CXX object CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function&lt;void()&gt; _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018&lt;\u2019 token\n   ResourceGuard(std::function&lt;void()&gt; destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function&lt;void()&gt; _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018&lt;\u2019 token\n   ResourceGuard(std::function&lt;void()&gt; destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.hpp:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function&lt;void()&gt; _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018&lt;\u2019 token\n   ResourceGuard(std::function&lt;void()&gt; destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp: In function \u2018int thd::connect(const string&amp;, thd::port_type, bool, int)\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:162:65: error: no matching function for call to \u2018thd::ResourceGuard::ResourceGuard(thd::connect(const string&amp;, thd::port_type, bool, int)::&lt;lambda()&gt;)\u2019\n       ResourceGuard socket_guard([socket]() { ::close(socket); });\n                                                                 ^\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: thd::ResourceGuard::ResourceGuard()\n class ResourceGuard {\n       ^~~~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   candidate expects 0 arguments, 1 provided\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: constexpr thd::ResourceGuard::ResourceGuard(const thd::ResourceGuard&amp;)\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   no known conversion for argument 1 from \u2018thd::connect(const string&amp;, thd::port_type, bool, int)::&lt;lambda()&gt;\u2019 to \u2018const thd::ResourceGuard&amp;\u2019\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelTCP.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:8:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: At global scope:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:33:23: error: expected \u2018)\u2019 before \u2018&lt;\u2019 token\n     Task(std::function&lt;void ()&gt;&amp;&amp; handler): _handler(handler), _completed(false) {}\n                       ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:73:10: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n     std::function&lt;void ()&gt; _handler;\n          ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:21: error: \u2018std::function\u2019 has not been declared\n   Request push(std::function&lt;void ()&gt;&amp;&amp; f) {\n                     ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:29: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018&lt;\u2019 token\n   Request push(std::function&lt;void ()&gt;&amp;&amp; f) {\n                             ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018void thd::QueueWorker::Task::run()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: error: \u2018_handler\u2019 was not declared in this scope\n         _handler();\n         ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: note: suggested alternative: \u2018_runner\u2019\n         _handler();\n         ^~~~~~~~\n         _runner\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018thd::QueueWorker::Request thd::QueueWorker::push(int)\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:105:56: error: \u2018f\u2019 was not declared in this scope\n     auto item = _push(std::make_shared&lt;Task&gt;(std::move(f)));\n                                                        ^\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\nCMakeFiles/THD.dir/build.make:62: recipe for target 'CMakeFiles/THD.dir/base/ChannelUtils.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/ChannelUtils.cpp.o] Error 1\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannelRequest.hpp:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../THD.h:14,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.h:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.hpp:6,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function&lt;void()&gt; _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018&lt;\u2019 token\n   ResourceGuard(std::function&lt;void()&gt; destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nCMakeFiles/THD.dir/build.make:158: recipe for target 'CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o] Error 1\nCMakeFiles/THD.dir/build.make:110: recipe for target 'CMakeFiles/THD.dir/base/DataChannel.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannel.cpp.o] Error 1\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\nmake[2]: *** [CMakeFiles/THD.dir/all] Error 2\nmake[2]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nMakefile:129: recipe for target 'all' failed\nmake[1]: *** [all] Error 2\nmake[1]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\n</code></pre>\n<p>OS: Debian unstable<br>\nCompiler: GCC-7.1.0<br>\nFLAGS: <code>NO_CUDA=1</code><br>\nPytorch version: tag:v0.2.0</p>", "body_text": "-- Build files have been written to: $HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD\nmake[1]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[2]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nScanning dependencies of target THD\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\n[  4%] Building CXX object CMakeFiles/THD.dir/base/DataChannel.cpp.o\n[  8%] Building CXX object CMakeFiles/THD.dir/base/ChannelUtils.cpp.o\n[ 12%] Building CXX object CMakeFiles/THD.dir/base/Cuda.cpp.o\n[ 16%] Building CXX object CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o\n[ 20%] Building CXX object CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function<void()> _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\n   ResourceGuard(std::function<void()> destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function<void()> _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\n   ResourceGuard(std::function<void()> destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.hpp:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function<void()> _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\n   ResourceGuard(std::function<void()> destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp: In function \u2018int thd::connect(const string&, thd::port_type, bool, int)\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:162:65: error: no matching function for call to \u2018thd::ResourceGuard::ResourceGuard(thd::connect(const string&, thd::port_type, bool, int)::<lambda()>)\u2019\n       ResourceGuard socket_guard([socket]() { ::close(socket); });\n                                                                 ^\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: thd::ResourceGuard::ResourceGuard()\n class ResourceGuard {\n       ^~~~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   candidate expects 0 arguments, 1 provided\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: constexpr thd::ResourceGuard::ResourceGuard(const thd::ResourceGuard&)\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   no known conversion for argument 1 from \u2018thd::connect(const string&, thd::port_type, bool, int)::<lambda()>\u2019 to \u2018const thd::ResourceGuard&\u2019\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelTCP.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:8:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: At global scope:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:33:23: error: expected \u2018)\u2019 before \u2018<\u2019 token\n     Task(std::function<void ()>&& handler): _handler(handler), _completed(false) {}\n                       ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:73:10: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n     std::function<void ()> _handler;\n          ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:21: error: \u2018std::function\u2019 has not been declared\n   Request push(std::function<void ()>&& f) {\n                     ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:29: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018<\u2019 token\n   Request push(std::function<void ()>&& f) {\n                             ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018void thd::QueueWorker::Task::run()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: error: \u2018_handler\u2019 was not declared in this scope\n         _handler();\n         ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: note: suggested alternative: \u2018_runner\u2019\n         _handler();\n         ^~~~~~~~\n         _runner\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018thd::QueueWorker::Request thd::QueueWorker::push(int)\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:105:56: error: \u2018f\u2019 was not declared in this scope\n     auto item = _push(std::make_shared<Task>(std::move(f)));\n                                                        ^\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\nCMakeFiles/THD.dir/build.make:62: recipe for target 'CMakeFiles/THD.dir/base/ChannelUtils.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/ChannelUtils.cpp.o] Error 1\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannel.hpp:4:0,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannelRequest.hpp:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../THD.h:14,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.h:3,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.hpp:6,\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.cpp:1:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\n   std::function<void()> _destructor;\n        ^~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\n   ResourceGuard(std::function<void()> destructor)\n                              ^\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\n     if (!_released) _destructor();\n                     ^~~~~~~~~~~\n                     struct\nCMakeFiles/THD.dir/build.make:158: recipe for target 'CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o] Error 1\nCMakeFiles/THD.dir/build.make:110: recipe for target 'CMakeFiles/THD.dir/base/DataChannel.cpp.o' failed\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannel.cpp.o] Error 1\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\nmake[2]: *** [CMakeFiles/THD.dir/all] Error 2\nmake[2]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\nMakefile:129: recipe for target 'all' failed\nmake[1]: *** [all] Error 2\nmake[1]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\n\nOS: Debian unstable\nCompiler: GCC-7.1.0\nFLAGS: NO_CUDA=1\nPytorch version: tag:v0.2.0", "body": "```\r\n-- Build files have been written to: $HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD\r\nmake[1]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nmake[2]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nScanning dependencies of target THD\r\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nmake[3]: Entering directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\n[  4%] Building CXX object CMakeFiles/THD.dir/base/DataChannel.cpp.o\r\n[  8%] Building CXX object CMakeFiles/THD.dir/base/ChannelUtils.cpp.o\r\n[ 12%] Building CXX object CMakeFiles/THD.dir/base/Cuda.cpp.o\r\n[ 16%] Building CXX object CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o\r\n[ 20%] Building CXX object CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\r\n   std::function<void()> _destructor;\r\n        ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\r\n   ResourceGuard(std::function<void()> destructor)\r\n                              ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n                     struct\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:1:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\r\n   std::function<void()> _destructor;\r\n        ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\r\n   ResourceGuard(std::function<void()> destructor)\r\n                              ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n                     struct\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.hpp:4:0,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.hpp:3,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannelRequest.cpp:1:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\r\n   std::function<void()> _destructor;\r\n        ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\r\n   ResourceGuard(std::function<void()> destructor)\r\n                              ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n                     struct\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp: In function \u2018int thd::connect(const string&, thd::port_type, bool, int)\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:162:65: error: no matching function for call to \u2018thd::ResourceGuard::ResourceGuard(thd::connect(const string&, thd::port_type, bool, int)::<lambda()>)\u2019\r\n       ResourceGuard socket_guard([socket]() { ::close(socket); });\r\n                                                                 ^\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.cpp:1:0:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: thd::ResourceGuard::ResourceGuard()\r\n class ResourceGuard {\r\n       ^~~~~~~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   candidate expects 0 arguments, 1 provided\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note: candidate: constexpr thd::ResourceGuard::ResourceGuard(const thd::ResourceGuard&)\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/ChannelUtils.hpp:197:7: note:   no known conversion for argument 1 from \u2018thd::connect(const string&, thd::port_type, bool, int)::<lambda()>\u2019 to \u2018const thd::ResourceGuard&\u2019\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelTCP.hpp:4:0,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/DataChannel.cpp:8:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: At global scope:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:33:23: error: expected \u2018)\u2019 before \u2018<\u2019 token\r\n     Task(std::function<void ()>&& handler): _handler(handler), _completed(false) {}\r\n                       ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:73:10: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\r\n     std::function<void ()> _handler;\r\n          ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:21: error: \u2018std::function\u2019 has not been declared\r\n   Request push(std::function<void ()>&& f) {\r\n                     ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:104:29: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018<\u2019 token\r\n   Request push(std::function<void ()>&& f) {\r\n                             ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018void thd::QueueWorker::Task::run()\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: error: \u2018_handler\u2019 was not declared in this scope\r\n         _handler();\r\n         ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:41:9: note: suggested alternative: \u2018_runner\u2019\r\n         _handler();\r\n         ^~~~~~~~\r\n         _runner\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp: In member function \u2018thd::QueueWorker::Request thd::QueueWorker::push(int)\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/data_channels/DataChannelUtils.hpp:105:56: error: \u2018f\u2019 was not declared in this scope\r\n     auto item = _push(std::make_shared<Task>(std::move(f)));\r\n                                                        ^\r\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o' failed\r\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannelRequest.cpp.o] Error 1\r\nmake[3]: *** Waiting for unfinished jobs....\r\nCMakeFiles/THD.dir/build.make:62: recipe for target 'CMakeFiles/THD.dir/base/ChannelUtils.cpp.o' failed\r\nmake[3]: *** [CMakeFiles/THD.dir/base/ChannelUtils.cpp.o] Error 1\r\nIn file included from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannel.hpp:4:0,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/DataChannelRequest.hpp:3,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../THD.h:14,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.h:3,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.hpp:6,\r\n                 from $HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/TensorDescriptor.cpp:1:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:198:8: error: \u2018function\u2019 in namespace \u2018std\u2019 does not name a template type\r\n   std::function<void()> _destructor;\r\n        ^~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:202:30: error: expected \u2018)\u2019 before \u2018<\u2019 token\r\n   ResourceGuard(std::function<void()> destructor)\r\n                              ^\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp: In destructor \u2018thd::ResourceGuard::~ResourceGuard()\u2019:\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: error: \u2018_destructor\u2019 was not declared in this scope\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n$HOME/packages/pytorch.pkg/pytorch/torch/lib/THD/base/../base/ChannelUtils.hpp:207:21: note: suggested alternative: \u2018struct\u2019\r\n     if (!_released) _destructor();\r\n                     ^~~~~~~~~~~\r\n                     struct\r\nCMakeFiles/THD.dir/build.make:158: recipe for target 'CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o' failed\r\nmake[3]: *** [CMakeFiles/THD.dir/base/TensorDescriptor.cpp.o] Error 1\r\nCMakeFiles/THD.dir/build.make:110: recipe for target 'CMakeFiles/THD.dir/base/DataChannel.cpp.o' failed\r\nmake[3]: *** [CMakeFiles/THD.dir/base/DataChannel.cpp.o] Error 1\r\nmake[3]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\r\nmake[2]: *** [CMakeFiles/THD.dir/all] Error 2\r\nmake[2]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\nMakefile:129: recipe for target 'all' failed\r\nmake[1]: *** [all] Error 2\r\nmake[1]: Leaving directory '$HOME/packages/pytorch.pkg/pytorch/torch/lib/build/THD'\r\n```\r\n\r\nOS: Debian unstable\r\nCompiler: GCC-7.1.0\r\nFLAGS: `NO_CUDA=1`\r\nPytorch version: tag:v0.2.0"}