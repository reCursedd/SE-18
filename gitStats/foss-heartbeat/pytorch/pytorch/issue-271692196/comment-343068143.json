{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/343068143", "html_url": "https://github.com/pytorch/pytorch/issues/3525#issuecomment-343068143", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3525", "id": 343068143, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzA2ODE0Mw==", "user": {"login": "juliusshufan", "id": 33112206, "node_id": "MDQ6VXNlcjMzMTEyMjA2", "avatar_url": "https://avatars0.githubusercontent.com/u/33112206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juliusshufan", "html_url": "https://github.com/juliusshufan", "followers_url": "https://api.github.com/users/juliusshufan/followers", "following_url": "https://api.github.com/users/juliusshufan/following{/other_user}", "gists_url": "https://api.github.com/users/juliusshufan/gists{/gist_id}", "starred_url": "https://api.github.com/users/juliusshufan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juliusshufan/subscriptions", "organizations_url": "https://api.github.com/users/juliusshufan/orgs", "repos_url": "https://api.github.com/users/juliusshufan/repos", "events_url": "https://api.github.com/users/juliusshufan/events{/privacy}", "received_events_url": "https://api.github.com/users/juliusshufan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-09T07:19:18Z", "updated_at": "2017-11-09T07:20:09Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a> , Thanks for the prompt fix, I tried your fix for this issue, and:</p>\n<ol>\n<li>Looks like the macro \"USE_BLAS\" in line 323 is not set/defined even mkl correctly installed in conda,  I have to explicitly drop a line \"#define USE_BLAS\" in the THBlas.c to hit the code changes from you.</li>\n<li>Meanwhile, with explicit definition of the USE_BLAS and your fix, now the forward computation works well, but backward computation is still very slow. ( looks like not benefiting from the OMP).</li>\n</ol>\n<p>May I have your comments? Thanks for your time.</p>\n<p>Shufan</p>", "body_text": "@colesbury , Thanks for the prompt fix, I tried your fix for this issue, and:\n\nLooks like the macro \"USE_BLAS\" in line 323 is not set/defined even mkl correctly installed in conda,  I have to explicitly drop a line \"#define USE_BLAS\" in the THBlas.c to hit the code changes from you.\nMeanwhile, with explicit definition of the USE_BLAS and your fix, now the forward computation works well, but backward computation is still very slow. ( looks like not benefiting from the OMP).\n\nMay I have your comments? Thanks for your time.\nShufan", "body": "@colesbury , Thanks for the prompt fix, I tried your fix for this issue, and:\r\n\r\n1. Looks like the macro \"USE_BLAS\" in line 323 is not set/defined even mkl correctly installed in conda,  I have to explicitly drop a line \"#define USE_BLAS\" in the THBlas.c to hit the code changes from you. \r\n2. Meanwhile, with explicit definition of the USE_BLAS and your fix, now the forward computation works well, but backward computation is still very slow. ( looks like not benefiting from the OMP).\r\n\r\nMay I have your comments? Thanks for your time.\r\n\r\nShufan"}