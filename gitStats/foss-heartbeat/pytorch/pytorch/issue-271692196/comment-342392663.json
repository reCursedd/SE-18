{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/342392663", "html_url": "https://github.com/pytorch/pytorch/issues/3525#issuecomment-342392663", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3525", "id": 342392663, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjM5MjY2Mw==", "user": {"login": "juliusshufan", "id": 33112206, "node_id": "MDQ6VXNlcjMzMTEyMjA2", "avatar_url": "https://avatars0.githubusercontent.com/u/33112206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juliusshufan", "html_url": "https://github.com/juliusshufan", "followers_url": "https://api.github.com/users/juliusshufan/followers", "following_url": "https://api.github.com/users/juliusshufan/following{/other_user}", "gists_url": "https://api.github.com/users/juliusshufan/gists{/gist_id}", "starred_url": "https://api.github.com/users/juliusshufan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juliusshufan/subscriptions", "organizations_url": "https://api.github.com/users/juliusshufan/orgs", "repos_url": "https://api.github.com/users/juliusshufan/repos", "events_url": "https://api.github.com/users/juliusshufan/events{/privacy}", "received_events_url": "https://api.github.com/users/juliusshufan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-07T06:57:29Z", "updated_at": "2017-11-07T06:58:48Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>Thanks for your follow-up, the benchmark I used is <a href=\"https://github.com/juliusshufan/pytorch_rnn_benchmarks\">https://github.com/juliusshufan/pytorch_rnn_benchmarks</a>, which measures the LSTM benchmarks.</p>\n<p>The run.sh set the OMP_NUM_THREADS per the CPU model, and starts the benchmark accordingly.</p>\n<p>When I use release v0.2.0 and installing from source code, the performance is 10x more than I use the latest source code on master branch. From CPU load perspective, using release v0.2.0, the CPU load can hit the CPU cores, however when installing with lastest master branch, the CPU load is at most 100%.</p>\n<p>I suspect some the related computation is not parallized with lastest implementation on master branch.</p>\n<p>Thanks.</p>\n<p>Shufan</p>", "body_text": "Hi,\nThanks for your follow-up, the benchmark I used is https://github.com/juliusshufan/pytorch_rnn_benchmarks, which measures the LSTM benchmarks.\nThe run.sh set the OMP_NUM_THREADS per the CPU model, and starts the benchmark accordingly.\nWhen I use release v0.2.0 and installing from source code, the performance is 10x more than I use the latest source code on master branch. From CPU load perspective, using release v0.2.0, the CPU load can hit the CPU cores, however when installing with lastest master branch, the CPU load is at most 100%.\nI suspect some the related computation is not parallized with lastest implementation on master branch.\nThanks.\nShufan", "body": "Hi, \r\n\r\nThanks for your follow-up, the benchmark I used is https://github.com/juliusshufan/pytorch_rnn_benchmarks, which measures the LSTM benchmarks.\r\n\r\nThe run.sh set the OMP_NUM_THREADS per the CPU model, and starts the benchmark accordingly.\r\n\r\nWhen I use release v0.2.0 and installing from source code, the performance is 10x more than I use the latest source code on master branch. From CPU load perspective, using release v0.2.0, the CPU load can hit the CPU cores, however when installing with lastest master branch, the CPU load is at most 100%.\r\n\r\nI suspect some the related computation is not parallized with lastest implementation on master branch.\r\n\r\nThanks.\r\n\r\nShufan"}