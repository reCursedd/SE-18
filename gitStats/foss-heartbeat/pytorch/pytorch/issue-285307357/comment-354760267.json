{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/354760267", "html_url": "https://github.com/pytorch/pytorch/pull/4427#issuecomment-354760267", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4427", "id": 354760267, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDc2MDI2Nw==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-02T12:51:34Z", "updated_at": "2018-01-02T12:51:34Z", "author_association": "MEMBER", "body_html": "<p>I'm not sure if it's really worth including this in the library. Padding lists of indices is a matter of doing</p>\n<div class=\"highlight highlight-source-python\"><pre>max_len <span class=\"pl-k\">=</span> <span class=\"pl-c1\">max</span>(<span class=\"pl-c1\">len</span>(seq) <span class=\"pl-k\">for</span> seq <span class=\"pl-k\">in</span> sequences)\nsequences <span class=\"pl-k\">=</span> [seq <span class=\"pl-k\">+</span> [pad_idx] <span class=\"pl-k\">*</span> (max_len <span class=\"pl-k\">-</span> <span class=\"pl-c1\">len</span>(seq)) <span class=\"pl-k\">for</span> seq <span class=\"pl-k\">in</span> sequences]</pre></div>\n<p>in your script. I'd err on the side of keeping the core library lean, and maintaining consistency with the fact that modules should be used as <code>module(input)</code>, and never as <code>module.some_method(input)</code>.</p>\n<p>Thanks a lot for the PR, but please consider opening an issue before you prepare the code. This will let us discuss things before you do any work and help avoid situations like this one.</p>", "body_text": "I'm not sure if it's really worth including this in the library. Padding lists of indices is a matter of doing\nmax_len = max(len(seq) for seq in sequences)\nsequences = [seq + [pad_idx] * (max_len - len(seq)) for seq in sequences]\nin your script. I'd err on the side of keeping the core library lean, and maintaining consistency with the fact that modules should be used as module(input), and never as module.some_method(input).\nThanks a lot for the PR, but please consider opening an issue before you prepare the code. This will let us discuss things before you do any work and help avoid situations like this one.", "body": "I'm not sure if it's really worth including this in the library. Padding lists of indices is a matter of doing\r\n```python\r\nmax_len = max(len(seq) for seq in sequences)\r\nsequences = [seq + [pad_idx] * (max_len - len(seq)) for seq in sequences]\r\n```\r\nin your script. I'd err on the side of keeping the core library lean, and maintaining consistency with the fact that modules should be used as `module(input)`, and never as `module.some_method(input)`.\r\n\r\nThanks a lot for the PR, but please consider opening an issue before you prepare the code. This will let us discuss things before you do any work and help avoid situations like this one. "}