{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/362280459", "html_url": "https://github.com/pytorch/pytorch/issues/4865#issuecomment-362280459", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4865", "id": 362280459, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjI4MDQ1OQ==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-01T14:23:41Z", "updated_at": "2018-02-01T14:23:41Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3657248\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/khanrc\">@khanrc</a> on multi-gpu, 10 of the 100+ objects that have reference cycles that you saw are from PyTorch, while the rest look like they're from Python 2.7 internals. On Python 3, you should see that using DataParallel will give you only those 10 objects to collect per forward pass.</p>\n<p>I'll fix the 10 objects that come from PyTorch code; the end result is that on Python 3 there should be no reference cycles at all in DataParallel.</p>", "body_text": "@khanrc on multi-gpu, 10 of the 100+ objects that have reference cycles that you saw are from PyTorch, while the rest look like they're from Python 2.7 internals. On Python 3, you should see that using DataParallel will give you only those 10 objects to collect per forward pass.\nI'll fix the 10 objects that come from PyTorch code; the end result is that on Python 3 there should be no reference cycles at all in DataParallel.", "body": "@khanrc on multi-gpu, 10 of the 100+ objects that have reference cycles that you saw are from PyTorch, while the rest look like they're from Python 2.7 internals. On Python 3, you should see that using DataParallel will give you only those 10 objects to collect per forward pass. \r\n\r\nI'll fix the 10 objects that come from PyTorch code; the end result is that on Python 3 there should be no reference cycles at all in DataParallel."}