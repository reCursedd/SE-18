{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7026", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7026/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7026/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7026/events", "html_url": "https://github.com/pytorch/pytorch/issues/7026", "id": 318273341, "node_id": "MDU6SXNzdWUzMTgyNzMzNDE=", "number": 7026, "title": "[Caffe2 Bug] Missing common.h before caffe2.pb.h", "user": {"login": "xkszltl", "id": 5203025, "node_id": "MDQ6VXNlcjUyMDMwMjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5203025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xkszltl", "html_url": "https://github.com/xkszltl", "followers_url": "https://api.github.com/users/xkszltl/followers", "following_url": "https://api.github.com/users/xkszltl/following{/other_user}", "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}", "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions", "organizations_url": "https://api.github.com/users/xkszltl/orgs", "repos_url": "https://api.github.com/users/xkszltl/repos", "events_url": "https://api.github.com/users/xkszltl/events{/privacy}", "received_events_url": "https://api.github.com/users/xkszltl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}, {"id": 559719279, "node_id": "MDU6TGFiZWw1NTk3MTkyNzk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/ready%20for%20review", "name": "ready for review", "color": "b60205", "default": false}, {"id": 790080431, "node_id": "MDU6TGFiZWw3OTAwODA0MzE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/windows", "name": "windows", "color": "fcff6b", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-04-27T04:22:45Z", "updated_at": "2018-04-30T18:47:01Z", "closed_at": "2018-04-30T18:47:01Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Issue description</h2>\n<p><code>caffe2/core/context_gpu_test.cc</code> forget to include common.h prior to caffe2.pb.h.<br>\nThis leads to compile error on Windows with DLL build due to the missing definition of CAFFE2_API.</p>\n<p>Similar thing was also mentioned by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"299803266\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/caffe2/caffe2/issues/2029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/caffe2/caffe2/issues/2029/hovercard\" href=\"https://github.com/caffe2/caffe2/issues/2029\">caffe2/caffe2#2029</a></p>\n<p>Build log attached.</p>\n<pre><code>       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (1) -&gt;\n       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj\" (default target) (28) -&gt;\n       (ClCompile target) -&gt; \n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(37): error C2079: 'TableStruct' uses undefined struct 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(38): error C2062: type 'const google::protobuf::internal::ParseTableField' unexpected [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::aux': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C3078: array size must be specified in new expressions [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(41): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::field_metadata': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(42): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::serialization_table': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(43): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::offsets': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2146: syntax error: missing ';' before identifier 'AddDescriptors' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_SegmentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_Segment' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtosImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtos' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapeImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShape' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapesImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapes' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgumentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgument' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOptionImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOption' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStepImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStep' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDefImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDef' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2433: 'CAFFE2_API': 'inline' not permitted on data declarations [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2146: syntax error: missing ';' before identifier 'InitDefaults' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2059: syntax error: '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2143: syntax error: missing ';' before '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2447: '{': missing function header (old-style formal list?) [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2079: 'TensorProto_Segment' uses undefined class 'caffe2::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: 'public' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): fatal error C1003: error count exceeds 100; stopping compilation [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n</code></pre>\n<p>We should add <code>f</code> to the end of all double constants since narrowing conversion is ill-formed</p>\n<h2>System Info</h2>\n<ul>\n<li>PyTorch or Caffe2: Caffe2</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>OS: Win10</li>\n<li>PyTorch version: master branch</li>\n<li>CUDA/cuDNN version: 9.1/7.1.3</li>\n<li>GPU models and configuration: 1080Ti</li>\n<li>Visual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset</li>\n<li>CMake version: 3.11.1</li>\n</ul>", "body_text": "Issue description\ncaffe2/core/context_gpu_test.cc forget to include common.h prior to caffe2.pb.h.\nThis leads to compile error on Windows with DLL build due to the missing definition of CAFFE2_API.\nSimilar thing was also mentioned by caffe2/caffe2#2029\nBuild log attached.\n       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (1) ->\n       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj\" (default target) (28) ->\n       (ClCompile target) -> \n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(37): error C2079: 'TableStruct' uses undefined struct 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(38): error C2062: type 'const google::protobuf::internal::ParseTableField' unexpected [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::aux': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C3078: array size must be specified in new expressions [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(41): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::field_metadata': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(42): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::serialization_table': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(43): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::offsets': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2146: syntax error: missing ';' before identifier 'AddDescriptors' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_SegmentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_Segment' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtosImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtos' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapeImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShape' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapesImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapes' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgumentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgument' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOptionImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOption' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStepImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStep' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDefImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDef' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2433: 'CAFFE2_API': 'inline' not permitted on data declarations [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2146: syntax error: missing ';' before identifier 'InitDefaults' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2059: syntax error: '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2143: syntax error: missing ';' before '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2447: '{': missing function header (old-style formal list?) [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2079: 'TensorProto_Segment' uses undefined class 'caffe2::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: 'public' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): fatal error C1003: error count exceeds 100; stopping compilation [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\n\nWe should add f to the end of all double constants since narrowing conversion is ill-formed\nSystem Info\n\nPyTorch or Caffe2: Caffe2\nHow you installed PyTorch (conda, pip, source): source\nOS: Win10\nPyTorch version: master branch\nCUDA/cuDNN version: 9.1/7.1.3\nGPU models and configuration: 1080Ti\nVisual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset\nCMake version: 3.11.1", "body": "## Issue description\r\n\r\n`caffe2/core/context_gpu_test.cc` forget to include common.h prior to caffe2.pb.h.\r\nThis leads to compile error on Windows with DLL build due to the missing definition of CAFFE2_API.\r\n\r\nSimilar thing was also mentioned by https://github.com/caffe2/caffe2/issues/2029\r\n\r\nBuild log attached.\r\n\r\n```\r\n       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (1) ->\r\n       \"C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj\" (default target) (28) ->\r\n       (ClCompile target) -> \r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(37): error C2079: 'TableStruct' uses undefined struct 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(38): error C2062: type 'const google::protobuf::internal::ParseTableField' unexpected [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::aux': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(39): error C3078: array size must be specified in new expressions [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(41): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::field_metadata': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(42): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::serialization_table': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(43): error C2133: 'protobuf_caffe2_2fproto_2fcaffe2_2eproto::offsets': unknown size [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C2146: syntax error: missing ';' before identifier 'AddDescriptors' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(45): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_SegmentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(46): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto_Segment' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(47): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(48): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(49): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(50): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C2146: syntax error: missing ';' before identifier 'InitDefaultsQTensorProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(51): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtosImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(52): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorProtos' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(53): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapeImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(54): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShape' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(55): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapesImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(56): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C2146: syntax error: missing ';' before identifier 'InitDefaultsTensorShapes' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(57): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgumentImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(58): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C2146: syntax error: missing ';' before identifier 'InitDefaultsArgument' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(59): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOptionImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(60): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDeviceOption' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(61): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStepImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(62): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C2146: syntax error: missing ';' before identifier 'InitDefaultsExecutionStep' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(63): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDefImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(64): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C2146: syntax error: missing ';' before identifier 'InitDefaultsPlanDef' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(65): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(66): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C2146: syntax error: missing ';' before identifier 'InitDefaultsBlobProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(67): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProtoImpl' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(68): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C2146: syntax error: missing ';' before identifier 'InitDefaultsDBReaderProto' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(69): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2182: 'CAFFE2_API': illegal use of type 'void' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2433: 'CAFFE2_API': 'inline' not permitted on data declarations [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2086: 'int CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C2146: syntax error: missing ';' before identifier 'InitDefaults' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(70): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2059: syntax error: '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(84): error C2143: syntax error: missing ';' before '}' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(85): error C2447: '{': missing function header (old-style formal list?) [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(146): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(151): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2144: syntax error: 'bool' should be preceded by ';' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(171): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2143: syntax error: missing ';' before 'const' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(176): error C2086: 'int caffe2::CAFFE2_API': redefinition [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2079: 'TensorProto_Segment' uses undefined class 'caffe2::CAFFE2_API' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: ':' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2059: syntax error: 'public' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): error C2143: syntax error: missing ';' before '{' [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n         C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2/proto/caffe2.pb.h(188): fatal error C1003: error count exceeds 100; stopping compilation [C:\\Users\\tolia\\Desktop\\pytorch\\build\\caffe2\\context_gpu_test.vcxproj]\r\n```\r\nWe should add `f` to the end of all double constants since narrowing conversion is ill-formed \r\n\r\n## System Info\r\n- PyTorch or Caffe2: Caffe2\r\n- How you installed PyTorch (conda, pip, source): source\r\n- OS: Win10\r\n- PyTorch version: master branch\r\n- CUDA/cuDNN version: 9.1/7.1.3\r\n- GPU models and configuration: 1080Ti\r\n- Visual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset\r\n- CMake version: 3.11.1\r\n\r\n"}