{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/158505463", "pull_request_review_id": 85330172, "id": 158505463, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODUwNTQ2Mw==", "diff_hunk": "@@ -45,4 +49,57 @@ void THFloatVector_cadd_AVX2(float *z, const float *x, const float *y, const flo\n   }\n }\n \n+static void normal_fill_16_AVX2(float *normal,\n+                               const float *uniform,\n+                               const __m256* two_pi,\n+                               const __m256* one,\n+                               const __m256* minus_two) {\n+  const __m256 u1 = _mm256_sub_ps(*one, _mm256_load_ps(uniform));\n+  const __m256 u2 = _mm256_load_ps(uniform + 8);\n+\n+  __m256 radius = _mm256_sqrt_ps(_mm256_mul_ps(*minus_two, log256_ps(u1)));\n+  __m256 theta = _mm256_mul_ps(*two_pi, u2);\n+\n+  __m256 sintheta, costheta;\n+  sincos256_ps(theta, &sintheta, &costheta);\n+\n+  _mm256_storeu_ps(normal, _mm256_mul_ps(radius, costheta));\n+  _mm256_storeu_ps(normal + 8, _mm256_mul_ps(radius, sintheta));\n+}\n+\n+void THFloatTensor_normal_fill_AVX2(float *data,\n+                                    const int size,\n+                                    THGenerator *generator,\n+                                    const float mean,\n+                                    const float stdv)\n+{\n+  assert(size >= 16 && \"Tensor size must be >= 16 for AVX2 normal fill\");", "path": "aten/src/TH/vector/AVX2.c", "position": null, "original_position": 39, "commit_id": "f7c556dd0a1093cab2d45534eefbb851c1297875", "original_commit_id": "8c38826ea92c3a8a12075e4474fdb3192e31cf48", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "Use `THAssert`", "created_at": "2017-12-22T14:55:33Z", "updated_at": "2018-11-23T15:37:37Z", "html_url": "https://github.com/pytorch/pytorch/pull/4312#discussion_r158505463", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4312", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/158505463"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4312#discussion_r158505463"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4312"}}, "body_html": "<p>Use <code>THAssert</code></p>", "body_text": "Use THAssert"}