{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6792", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6792/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6792/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6792/events", "html_url": "https://github.com/pytorch/pytorch/issues/6792", "id": 316093486, "node_id": "MDU6SXNzdWUzMTYwOTM0ODY=", "number": 6792, "title": "Master fails to converge on simple CharRNN", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 809246977, "node_id": "MDU6TGFiZWw4MDkyNDY5Nzc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/0.4", "name": "0.4", "color": "ff05fa", "default": false}, {"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}, {"id": 897288569, "node_id": "MDU6TGFiZWw4OTcyODg1Njk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/pytorch", "name": "pytorch", "color": "f05732", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-20T01:24:49Z", "updated_at": "2018-04-26T04:22:03Z", "closed_at": "2018-04-26T04:22:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Repro script is <a href=\"https://gist.github.com/SsnL/74d0b7155121ffd9f49ca16a8b9a9557\">https://gist.github.com/SsnL/74d0b7155121ffd9f49ca16a8b9a9557</a> , which is a simplied version of our tutorial (<a href=\"http://pytorch.org/tutorials/intermediate/char_rnn_generation_tutorial.html\" rel=\"nofollow\">http://pytorch.org/tutorials/intermediate/char_rnn_generation_tutorial.html</a>). Note that it only repros about 80% of the time, and doesn't repro on our ASAN builds.</p>\n<p>bisect tells me that <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"305197579\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5776\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/5776/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/5776\">#5776</a> introduced the bug.</p>\n<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"307396960\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5926\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/5926/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/5926\">#5926</a> didn't fix it.</p>\n<pre><code>grep flags /proc/cpuinfo | head -n 1 |  cut -f 2 -d ':'  | tr \" \" \"\\n\"  | sort\n</code></pre>\n<p>gives</p>\n<pre><code>abm\nacpi\naes\naperfmperf\napic\narat\narch_perfmon\navx\navx2\nbmi1\nbmi2\nbts\nclflush\ncmov\nconstant_tsc\ncqm\ncqm_llc\ncqm_occup_llc\ncx16\ncx8\ndca\nde\nds_cpl\ndtes64\ndtherm\ndts\neagerfpu\nepb\nept\nerms\nest\nf16c\nflexpriority\nfma\nfpu\nfsgsbase\nfxsr\nht\nida\ninvpcid\nlahf_lm\nlm\nmca\nmce\nmmx\nmonitor\nmovbe\nmsr\nmtrr\nnonstop_tsc\nnopl\nnx\npae\npat\npbe\npcid\npclmulqdq\npdcm\npdpe1gb\npebs\npge\npln\npni\npopcnt\npse\npse36\npts\nrdrand\nrdtscp\nrep_good\nsdbg\nsep\nsmep\nsmx\nss\nsse\nsse2\nsse4_1\nsse4_2\nssse3\nsyscall\ntm\ntm2\ntpr_shadow\ntsc\ntsc_adjust\ntsc_deadline_timer\nvme\nvmx\nvnmi\nvpid\nx2apic\nxsave\nxsaveopt\nxtopology\nxtpr\n</code></pre>", "body_text": "Repro script is https://gist.github.com/SsnL/74d0b7155121ffd9f49ca16a8b9a9557 , which is a simplied version of our tutorial (http://pytorch.org/tutorials/intermediate/char_rnn_generation_tutorial.html). Note that it only repros about 80% of the time, and doesn't repro on our ASAN builds.\nbisect tells me that #5776 introduced the bug.\n#5926 didn't fix it.\ngrep flags /proc/cpuinfo | head -n 1 |  cut -f 2 -d ':'  | tr \" \" \"\\n\"  | sort\n\ngives\nabm\nacpi\naes\naperfmperf\napic\narat\narch_perfmon\navx\navx2\nbmi1\nbmi2\nbts\nclflush\ncmov\nconstant_tsc\ncqm\ncqm_llc\ncqm_occup_llc\ncx16\ncx8\ndca\nde\nds_cpl\ndtes64\ndtherm\ndts\neagerfpu\nepb\nept\nerms\nest\nf16c\nflexpriority\nfma\nfpu\nfsgsbase\nfxsr\nht\nida\ninvpcid\nlahf_lm\nlm\nmca\nmce\nmmx\nmonitor\nmovbe\nmsr\nmtrr\nnonstop_tsc\nnopl\nnx\npae\npat\npbe\npcid\npclmulqdq\npdcm\npdpe1gb\npebs\npge\npln\npni\npopcnt\npse\npse36\npts\nrdrand\nrdtscp\nrep_good\nsdbg\nsep\nsmep\nsmx\nss\nsse\nsse2\nsse4_1\nsse4_2\nssse3\nsyscall\ntm\ntm2\ntpr_shadow\ntsc\ntsc_adjust\ntsc_deadline_timer\nvme\nvmx\nvnmi\nvpid\nx2apic\nxsave\nxsaveopt\nxtopology\nxtpr", "body": "Repro script is https://gist.github.com/SsnL/74d0b7155121ffd9f49ca16a8b9a9557 , which is a simplied version of our tutorial (http://pytorch.org/tutorials/intermediate/char_rnn_generation_tutorial.html). Note that it only repros about 80% of the time, and doesn't repro on our ASAN builds.\r\n\r\n\r\nbisect tells me that https://github.com/pytorch/pytorch/pull/5776 introduced the bug.\r\n\r\nhttps://github.com/pytorch/pytorch/pull/5926 didn't fix it.\r\n\r\n```\r\ngrep flags /proc/cpuinfo | head -n 1 |  cut -f 2 -d ':'  | tr \" \" \"\\n\"  | sort\r\n```\r\ngives\r\n```\r\nabm\r\nacpi\r\naes\r\naperfmperf\r\napic\r\narat\r\narch_perfmon\r\navx\r\navx2\r\nbmi1\r\nbmi2\r\nbts\r\nclflush\r\ncmov\r\nconstant_tsc\r\ncqm\r\ncqm_llc\r\ncqm_occup_llc\r\ncx16\r\ncx8\r\ndca\r\nde\r\nds_cpl\r\ndtes64\r\ndtherm\r\ndts\r\neagerfpu\r\nepb\r\nept\r\nerms\r\nest\r\nf16c\r\nflexpriority\r\nfma\r\nfpu\r\nfsgsbase\r\nfxsr\r\nht\r\nida\r\ninvpcid\r\nlahf_lm\r\nlm\r\nmca\r\nmce\r\nmmx\r\nmonitor\r\nmovbe\r\nmsr\r\nmtrr\r\nnonstop_tsc\r\nnopl\r\nnx\r\npae\r\npat\r\npbe\r\npcid\r\npclmulqdq\r\npdcm\r\npdpe1gb\r\npebs\r\npge\r\npln\r\npni\r\npopcnt\r\npse\r\npse36\r\npts\r\nrdrand\r\nrdtscp\r\nrep_good\r\nsdbg\r\nsep\r\nsmep\r\nsmx\r\nss\r\nsse\r\nsse2\r\nsse4_1\r\nsse4_2\r\nssse3\r\nsyscall\r\ntm\r\ntm2\r\ntpr_shadow\r\ntsc\r\ntsc_adjust\r\ntsc_deadline_timer\r\nvme\r\nvmx\r\nvnmi\r\nvpid\r\nx2apic\r\nxsave\r\nxsaveopt\r\nxtopology\r\nxtpr\r\n```"}