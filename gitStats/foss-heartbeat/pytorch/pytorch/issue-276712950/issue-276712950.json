{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3865", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3865/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3865/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3865/events", "html_url": "https://github.com/pytorch/pytorch/issues/3865", "id": 276712950, "node_id": "MDU6SXNzdWUyNzY3MTI5NTA=", "number": 3865, "title": "native ubuntu build of pytorch with cuda9/cudnn7/nccl2 fails to recognize V100", "user": {"login": "David-Levinthal", "id": 8728143, "node_id": "MDQ6VXNlcjg3MjgxNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8728143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/David-Levinthal", "html_url": "https://github.com/David-Levinthal", "followers_url": "https://api.github.com/users/David-Levinthal/followers", "following_url": "https://api.github.com/users/David-Levinthal/following{/other_user}", "gists_url": "https://api.github.com/users/David-Levinthal/gists{/gist_id}", "starred_url": "https://api.github.com/users/David-Levinthal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/David-Levinthal/subscriptions", "organizations_url": "https://api.github.com/users/David-Levinthal/orgs", "repos_url": "https://api.github.com/users/David-Levinthal/repos", "events_url": "https://api.github.com/users/David-Levinthal/events{/privacy}", "received_events_url": "https://api.github.com/users/David-Levinthal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-25T00:12:33Z", "updated_at": "2017-11-26T08:58:08Z", "closed_at": "2017-11-26T08:58:08Z", "author_association": "NONE", "body_html": "<p>I am attempting to benchmark fairseq-py across a spectrum of Nvidia cards. It appears to work with P4 and P40, but I get the following error when I set CUDA_VISIBLE_DEVICES to point to the V100.<br>\nTHCudaCheck FAIL file=/home/levinth/pytorch/aten/src/THC/THCTensorCopy.cu line=204 error=48 : no kernel image is available for execution on the device<br>\nthis is running on ubuntu 16.04, the Nvidia packages were installed using dpkg and *.deb packages<br>\npytorch was built from source</p>\n<p>it (fairseq-py) seems to run fine on the P40<br>\n| data-bin/wmt_de_en train 4500966 examples<br>\n| data-bin/wmt_de_en valid 2997 examples<br>\n| using 1 GPUs (with max tokens per GPU = 4000 and max sentences per GPU = None)<br>\n| model lstm_luong_wmt_en_de, criterion CrossEntropyCriterion<br>\n| epoch 001:   1000 / 37483 loss=9.68 (10.49), wps=4632, wpb=3514, bsz=126, lr=0.25, clip=100%, gnorm=1.02492</p>\n<p>I will check the P100 after running this for a while, but suspect there will be no issue.</p>", "body_text": "I am attempting to benchmark fairseq-py across a spectrum of Nvidia cards. It appears to work with P4 and P40, but I get the following error when I set CUDA_VISIBLE_DEVICES to point to the V100.\nTHCudaCheck FAIL file=/home/levinth/pytorch/aten/src/THC/THCTensorCopy.cu line=204 error=48 : no kernel image is available for execution on the device\nthis is running on ubuntu 16.04, the Nvidia packages were installed using dpkg and *.deb packages\npytorch was built from source\nit (fairseq-py) seems to run fine on the P40\n| data-bin/wmt_de_en train 4500966 examples\n| data-bin/wmt_de_en valid 2997 examples\n| using 1 GPUs (with max tokens per GPU = 4000 and max sentences per GPU = None)\n| model lstm_luong_wmt_en_de, criterion CrossEntropyCriterion\n| epoch 001:   1000 / 37483 loss=9.68 (10.49), wps=4632, wpb=3514, bsz=126, lr=0.25, clip=100%, gnorm=1.02492\nI will check the P100 after running this for a while, but suspect there will be no issue.", "body": "I am attempting to benchmark fairseq-py across a spectrum of Nvidia cards. It appears to work with P4 and P40, but I get the following error when I set CUDA_VISIBLE_DEVICES to point to the V100.\r\nTHCudaCheck FAIL file=/home/levinth/pytorch/aten/src/THC/THCTensorCopy.cu line=204 error=48 : no kernel image is available for execution on the device\r\nthis is running on ubuntu 16.04, the Nvidia packages were installed using dpkg and *.deb packages\r\npytorch was built from source\r\n\r\nit (fairseq-py) seems to run fine on the P40\r\n| data-bin/wmt_de_en train 4500966 examples\r\n| data-bin/wmt_de_en valid 2997 examples\r\n| using 1 GPUs (with max tokens per GPU = 4000 and max sentences per GPU = None)\r\n| model lstm_luong_wmt_en_de, criterion CrossEntropyCriterion\r\n| epoch 001:   1000 / 37483 loss=9.68 (10.49), wps=4632, wpb=3514, bsz=126, lr=0.25, clip=100%, gnorm=1.02492\r\n\r\nI will check the P100 after running this for a while, but suspect there will be no issue.\r\n"}