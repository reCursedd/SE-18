{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/394914509", "html_url": "https://github.com/pytorch/pytorch/pull/8179#issuecomment-394914509", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8179", "id": 394914509, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDkxNDUwOQ==", "user": {"login": "HisiFish", "id": 30686426, "node_id": "MDQ6VXNlcjMwNjg2NDI2", "avatar_url": "https://avatars0.githubusercontent.com/u/30686426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HisiFish", "html_url": "https://github.com/HisiFish", "followers_url": "https://api.github.com/users/HisiFish/followers", "following_url": "https://api.github.com/users/HisiFish/following{/other_user}", "gists_url": "https://api.github.com/users/HisiFish/gists{/gist_id}", "starred_url": "https://api.github.com/users/HisiFish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HisiFish/subscriptions", "organizations_url": "https://api.github.com/users/HisiFish/orgs", "repos_url": "https://api.github.com/users/HisiFish/repos", "events_url": "https://api.github.com/users/HisiFish/events{/privacy}", "received_events_url": "https://api.github.com/users/HisiFish/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-06T01:53:51Z", "updated_at": "2018-06-06T01:55:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> Thanks. I checked it again. There are something incorrect in my code.<br>\nThe parameter \"devices \" should be Iterable[int], but I passed a Iterable[numpy.int64], so I got the error like this:</p>\n<pre><code>\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/scatter_gather.py\", line 14, in scatter_map\n    return Scatter.apply(target_gpus, None, dim, obj)\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/_functions.py\", line 74, in forward\n    outputs = comm.scatter(input, ctx.target_gpus, ctx.chunk_sizes, ctx.dim, streams)\n  File \"/opt/conda/lib/python3.6/site-packages/torch/cuda/comm.py\", line 159, in scatter\n    outputs.append(chunk.cuda(device, non_blocking=True))\nTypeError: cuda(): argument 'device' (position 1) must be torch.device, not numpy.int64\n</code></pre>\n<p>After the input parameter changed to int\uff0c it works well now.</p>", "body_text": "@ezyang Thanks. I checked it again. There are something incorrect in my code.\nThe parameter \"devices \" should be Iterable[int], but I passed a Iterable[numpy.int64], so I got the error like this:\n\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/scatter_gather.py\", line 14, in scatter_map\n    return Scatter.apply(target_gpus, None, dim, obj)\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/_functions.py\", line 74, in forward\n    outputs = comm.scatter(input, ctx.target_gpus, ctx.chunk_sizes, ctx.dim, streams)\n  File \"/opt/conda/lib/python3.6/site-packages/torch/cuda/comm.py\", line 159, in scatter\n    outputs.append(chunk.cuda(device, non_blocking=True))\nTypeError: cuda(): argument 'device' (position 1) must be torch.device, not numpy.int64\n\nAfter the input parameter changed to int\uff0c it works well now.", "body": "@ezyang Thanks. I checked it again. There are something incorrect in my code.\r\nThe parameter \"devices \" should be Iterable[int], but I passed a Iterable[numpy.int64], so I got the error like this:\r\n```\r\n\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/scatter_gather.py\", line 14, in scatter_map\r\n    return Scatter.apply(target_gpus, None, dim, obj)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/nn/parallel/_functions.py\", line 74, in forward\r\n    outputs = comm.scatter(input, ctx.target_gpus, ctx.chunk_sizes, ctx.dim, streams)\r\n  File \"/opt/conda/lib/python3.6/site-packages/torch/cuda/comm.py\", line 159, in scatter\r\n    outputs.append(chunk.cuda(device, non_blocking=True))\r\nTypeError: cuda(): argument 'device' (position 1) must be torch.device, not numpy.int64\r\n```\r\n\r\nAfter the input parameter changed to int\uff0c it works well now. "}