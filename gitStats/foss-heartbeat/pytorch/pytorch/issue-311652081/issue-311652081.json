{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6314", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6314/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6314/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6314/events", "html_url": "https://github.com/pytorch/pytorch/pull/6314", "id": 311652081, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc5NzA3ODky", "number": 6314, "title": "Move instruction set specific code to anonymous namespace", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-05T15:11:44Z", "updated_at": "2018-04-05T18:21:37Z", "closed_at": "2018-04-05T18:21:34Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6314", "html_url": "https://github.com/pytorch/pytorch/pull/6314", "diff_url": "https://github.com/pytorch/pytorch/pull/6314.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6314.patch"}, "body_html": "<pre><code>The vec256 and SIMD kernels are compiled multiple times with different\nheaders. It's important that these functions have internal linkage so\nthat kernels for different architectures don't get combined during\nlinking. It's sufficient to label functions \"static\", but class methods\nmust be an unnamed namespace to have internal linkage (since static\nmeans something different in the context of classes).\n\nThis fixes a bug in which the implementations of Reduction::reduce_all\nfor different instruction sets was getting combined during linking.\n</code></pre>", "body_text": "The vec256 and SIMD kernels are compiled multiple times with different\nheaders. It's important that these functions have internal linkage so\nthat kernels for different architectures don't get combined during\nlinking. It's sufficient to label functions \"static\", but class methods\nmust be an unnamed namespace to have internal linkage (since static\nmeans something different in the context of classes).\n\nThis fixes a bug in which the implementations of Reduction::reduce_all\nfor different instruction sets was getting combined during linking.", "body": "```\r\nThe vec256 and SIMD kernels are compiled multiple times with different\r\nheaders. It's important that these functions have internal linkage so\r\nthat kernels for different architectures don't get combined during\r\nlinking. It's sufficient to label functions \"static\", but class methods\r\nmust be an unnamed namespace to have internal linkage (since static\r\nmeans something different in the context of classes).\r\n\r\nThis fixes a bug in which the implementations of Reduction::reduce_all\r\nfor different instruction sets was getting combined during linking.\r\n```"}