{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/363325639", "html_url": "https://github.com/pytorch/pytorch/issues/5042#issuecomment-363325639", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5042", "id": 363325639, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzMyNTYzOQ==", "user": {"login": "alvaromuir", "id": 159532, "node_id": "MDQ6VXNlcjE1OTUzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/159532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvaromuir", "html_url": "https://github.com/alvaromuir", "followers_url": "https://api.github.com/users/alvaromuir/followers", "following_url": "https://api.github.com/users/alvaromuir/following{/other_user}", "gists_url": "https://api.github.com/users/alvaromuir/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvaromuir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvaromuir/subscriptions", "organizations_url": "https://api.github.com/users/alvaromuir/orgs", "repos_url": "https://api.github.com/users/alvaromuir/repos", "events_url": "https://api.github.com/users/alvaromuir/events{/privacy}", "received_events_url": "https://api.github.com/users/alvaromuir/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-06T06:38:01Z", "updated_at": "2018-02-06T06:59:28Z", "author_association": "NONE", "body_html": "<p>Ok, I got this going as well. Removing old cudNN versions was the trick, along with ensuring:</p>\n<ul>\n<li>$CMAKE_PREFIX_PATH pointed to my CONDA_ROOT (I'm using full anaconda for other reasons)</li>\n<li>$DYLD_LIBRARY_PATH started with <code>/usr/local/cuda/lib:/usr/local/cuda/extras/CUPTI/lib:/Developer/NVIDIA/CUDA-9.0/lib</code></li>\n<li>in my <code>/usr/local/cuda/lib</code> removed <code>libcudnn.5.dylib</code> and <code>libcudnn.6.dylib</code></li>\n</ul>\n<p>CUDA settings:</p>\n<pre><code>#define CUDNN_MAJOR 7\n#define CUDNN_MINOR 0\n#define CUDNN_PATCHLEVEL 4\n--\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\n\n#include \"driver_types.h\"\n</code></pre>", "body_text": "Ok, I got this going as well. Removing old cudNN versions was the trick, along with ensuring:\n\n$CMAKE_PREFIX_PATH pointed to my CONDA_ROOT (I'm using full anaconda for other reasons)\n$DYLD_LIBRARY_PATH started with /usr/local/cuda/lib:/usr/local/cuda/extras/CUPTI/lib:/Developer/NVIDIA/CUDA-9.0/lib\nin my /usr/local/cuda/lib removed libcudnn.5.dylib and libcudnn.6.dylib\n\nCUDA settings:\n#define CUDNN_MAJOR 7\n#define CUDNN_MINOR 0\n#define CUDNN_PATCHLEVEL 4\n--\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\n\n#include \"driver_types.h\"", "body": "Ok, I got this going as well. Removing old cudNN versions was the trick, along with ensuring:\r\n- $CMAKE_PREFIX_PATH pointed to my CONDA_ROOT (I'm using full anaconda for other reasons)\r\n- $DYLD_LIBRARY_PATH started with ```/usr/local/cuda/lib:/usr/local/cuda/extras/CUPTI/lib:/Developer/NVIDIA/CUDA-9.0/lib```\r\n- in my ```/usr/local/cuda/lib``` removed ```libcudnn.5.dylib``` and ```libcudnn.6.dylib```\r\n\r\nCUDA settings:\r\n```\r\n#define CUDNN_MAJOR 7\r\n#define CUDNN_MINOR 0\r\n#define CUDNN_PATCHLEVEL 4\r\n--\r\n#define CUDNN_VERSION    (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)\r\n\r\n#include \"driver_types.h\"\r\n```\r\n\r\n"}