{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/432916514", "html_url": "https://github.com/pytorch/pytorch/pull/12170#issuecomment-432916514", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12170", "id": 432916514, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjkxNjUxNA==", "user": {"login": "gujinghui", "id": 31264804, "node_id": "MDQ6VXNlcjMxMjY0ODA0", "avatar_url": "https://avatars2.githubusercontent.com/u/31264804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gujinghui", "html_url": "https://github.com/gujinghui", "followers_url": "https://api.github.com/users/gujinghui/followers", "following_url": "https://api.github.com/users/gujinghui/following{/other_user}", "gists_url": "https://api.github.com/users/gujinghui/gists{/gist_id}", "starred_url": "https://api.github.com/users/gujinghui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gujinghui/subscriptions", "organizations_url": "https://api.github.com/users/gujinghui/orgs", "repos_url": "https://api.github.com/users/gujinghui/repos", "events_url": "https://api.github.com/users/gujinghui/events{/privacy}", "received_events_url": "https://api.github.com/users/gujinghui/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-25T05:09:36Z", "updated_at": "2018-10-25T05:09:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=79994\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/orionr\">@orionr</a><br>\nLooks like the rest failures are not caused by this PR.</p>\n<ol>\n<li>pytorch-win-ws2016-cuda9-cudnn7-py3-build:</li>\n</ol>\n<blockquote>\n<p>00:56:41 ..\\caffe2\\core\\nomnigraph\\include\\nomnigraph/Representations/NeuralNet.h(456): error C2491: 'nom::repr::nn::createOperator': definition of dllimport function not allowed</p>\n</blockquote>\n<ol start=\"2\">\n<li>caffe2_py2_gcc4_8_ubuntu14_04_test</li>\n</ol>\n<blockquote>\n<p>Oct 24 11:46:01 =================================== FAILURES ===================================<br>\nOct 24 11:46:01 _____________________________ TestGlu.test_glu_old _____________________________<br>\nOct 24 11:46:01<br>\nOct 24 11:46:01 self = &lt;caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old&gt;<br>\nOct 24 11:46:01 args = (), kwargs = {}<br>\nOct 24 11:46:01<br>\nOct 24 11:46:01     def func(self, *args, **kwargs):<br>\nOct 24 11:46:01 &gt;       self.should_serialize = True<br>\nOct 24 11:46:01<br>\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:34:<br>\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _<br>\nOct 24 11:46:01 /usr/local/lib/python2.7/dist-packages/hypothesis/_settings.py:248: in new_test<br>\nOct 24 11:46:01     test(*args, **kwargs)<br>\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:37: in func<br>\nOct 24 11:46:01     hyp_func(self, *args, **kwargs)<br>\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _<br>\nOct 24 11:46:01<br>\nOct 24 11:46:01 self = &lt;caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old&gt;<br>\nOct 24 11:46:01<br>\nOct 24 11:46:01     @settings(suppress_health_check=[HealthCheck.filter_too_much])<br>\nOct 24 11:46:01 &gt;   @serial.given(<br>\nOct 24 11:46:01         X=hu.tensor(),<br>\nOct 24 11:46:01         axis=st.integers(min_value=0, max_value=3),<br>\nOct 24 11:46:01         **hu.gcs<br>\nOct 24 11:46:01     )<br>\nOct 24 11:46:01     def test_glu_old(self, X, axis, gc, dc):<br>\nOct 24 11:46:01 E   FailedHealthCheck: It looks like your strategy is filtering out a lot of data. Health check found 50 filtered examples but only 9 good ones. This will make your tests much slower, and also will probably distort the data generation quite a lot. You should adapt your strategy to filter less. This can also be caused by a low max_leaves parameter in recursive() calls</p>\n</blockquote>\n<ol start=\"3\">\n<li>pytorch_linux_trusty_py3_6_gcc7_build_test</li>\n</ol>\n<blockquote>\n<p>Oct 24 10:23:25 ======================================================================<br>\nOct 24 10:23:25 FAIL: test_all_reduce_product (<strong>main</strong>.TestDistBackend)<br>\nOct 24 10:23:25 ----------------------------------------------------------------------<br>\nOct 24 10:23:25 Traceback (most recent call last):<br>\nOct 24 10:23:25   File \"test_distributed.py\", line 1288, in wrapper<br>\nOct 24 10:23:25     self._join_and_reduce(fn)<br>\nOct 24 10:23:25   File \"test_distributed.py\", line 1371, in _join_and_reduce<br>\nOct 24 10:23:25     self.assertEqual(p.exitcode, first_process.exitcode)<br>\nOct 24 10:23:25   File \"/var/lib/jenkins/workspace/test/common_utils.py\", line 404, in assertEqual<br>\nOct 24 10:23:25     super(TestCase, self).assertEqual(x, y, message)<br>\nOct 24 10:23:25 AssertionError: None != 1 :<br>\nOct 24 10:23:25<br>\nOct 24 10:23:25 ----------------------------------------------------------------------<br>\nOct 24 10:23:25 Ran 62 tests in 611.141s<br>\nOct 24 10:23:25<br>\nOct 24 10:23:25 FAILED (failures=1, skipped=30)<br>\nOct 24 10:23:25 Traceback (most recent call last):<br>\nOct 24 10:23:25   File \"test/run_test.py\", line 394, in <br>\nOct 24 10:23:25     main()<br>\nOct 24 10:23:25   File \"test/run_test.py\", line 386, in main<br>\nOct 24 10:23:25     raise RuntimeError(message)<br>\nOct 24 10:23:25 RuntimeError: test_distributed failed!<br>\nOct 24 10:23:25 + cleanup<br>\nOct 24 10:23:25 + retcode=1<br>\nOct 24 10:23:25 + set +x<br>\nOct 24 10:23:25 =================== sccache compilation log ===================<br>\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] fatal error: Permission denied (os error 13)<br>\nOct 24 10:23:25<br>\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] \tPermission denied (os error 13)</p>\n</blockquote>", "body_text": "@orionr\nLooks like the rest failures are not caused by this PR.\n\npytorch-win-ws2016-cuda9-cudnn7-py3-build:\n\n\n00:56:41 ..\\caffe2\\core\\nomnigraph\\include\\nomnigraph/Representations/NeuralNet.h(456): error C2491: 'nom::repr::nn::createOperator': definition of dllimport function not allowed\n\n\ncaffe2_py2_gcc4_8_ubuntu14_04_test\n\n\nOct 24 11:46:01 =================================== FAILURES ===================================\nOct 24 11:46:01 _____________________________ TestGlu.test_glu_old _____________________________\nOct 24 11:46:01\nOct 24 11:46:01 self = <caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old>\nOct 24 11:46:01 args = (), kwargs = {}\nOct 24 11:46:01\nOct 24 11:46:01     def func(self, *args, **kwargs):\nOct 24 11:46:01 >       self.should_serialize = True\nOct 24 11:46:01\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:34:\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nOct 24 11:46:01 /usr/local/lib/python2.7/dist-packages/hypothesis/_settings.py:248: in new_test\nOct 24 11:46:01     test(*args, **kwargs)\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:37: in func\nOct 24 11:46:01     hyp_func(self, *args, **kwargs)\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nOct 24 11:46:01\nOct 24 11:46:01 self = <caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old>\nOct 24 11:46:01\nOct 24 11:46:01     @settings(suppress_health_check=[HealthCheck.filter_too_much])\nOct 24 11:46:01 >   @serial.given(\nOct 24 11:46:01         X=hu.tensor(),\nOct 24 11:46:01         axis=st.integers(min_value=0, max_value=3),\nOct 24 11:46:01         **hu.gcs\nOct 24 11:46:01     )\nOct 24 11:46:01     def test_glu_old(self, X, axis, gc, dc):\nOct 24 11:46:01 E   FailedHealthCheck: It looks like your strategy is filtering out a lot of data. Health check found 50 filtered examples but only 9 good ones. This will make your tests much slower, and also will probably distort the data generation quite a lot. You should adapt your strategy to filter less. This can also be caused by a low max_leaves parameter in recursive() calls\n\n\npytorch_linux_trusty_py3_6_gcc7_build_test\n\n\nOct 24 10:23:25 ======================================================================\nOct 24 10:23:25 FAIL: test_all_reduce_product (main.TestDistBackend)\nOct 24 10:23:25 ----------------------------------------------------------------------\nOct 24 10:23:25 Traceback (most recent call last):\nOct 24 10:23:25   File \"test_distributed.py\", line 1288, in wrapper\nOct 24 10:23:25     self._join_and_reduce(fn)\nOct 24 10:23:25   File \"test_distributed.py\", line 1371, in _join_and_reduce\nOct 24 10:23:25     self.assertEqual(p.exitcode, first_process.exitcode)\nOct 24 10:23:25   File \"/var/lib/jenkins/workspace/test/common_utils.py\", line 404, in assertEqual\nOct 24 10:23:25     super(TestCase, self).assertEqual(x, y, message)\nOct 24 10:23:25 AssertionError: None != 1 :\nOct 24 10:23:25\nOct 24 10:23:25 ----------------------------------------------------------------------\nOct 24 10:23:25 Ran 62 tests in 611.141s\nOct 24 10:23:25\nOct 24 10:23:25 FAILED (failures=1, skipped=30)\nOct 24 10:23:25 Traceback (most recent call last):\nOct 24 10:23:25   File \"test/run_test.py\", line 394, in \nOct 24 10:23:25     main()\nOct 24 10:23:25   File \"test/run_test.py\", line 386, in main\nOct 24 10:23:25     raise RuntimeError(message)\nOct 24 10:23:25 RuntimeError: test_distributed failed!\nOct 24 10:23:25 + cleanup\nOct 24 10:23:25 + retcode=1\nOct 24 10:23:25 + set +x\nOct 24 10:23:25 =================== sccache compilation log ===================\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] fatal error: Permission denied (os error 13)\nOct 24 10:23:25\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] \tPermission denied (os error 13)", "body": "@orionr \r\nLooks like the rest failures are not caused by this PR.\r\n1. pytorch-win-ws2016-cuda9-cudnn7-py3-build:\r\n> 00:56:41 ..\\caffe2\\core\\nomnigraph\\include\\nomnigraph/Representations/NeuralNet.h(456): error C2491: 'nom::repr::nn::createOperator': definition of dllimport function not allowed\r\n\r\n2. caffe2_py2_gcc4_8_ubuntu14_04_test \r\n> Oct 24 11:46:01 =================================== FAILURES ===================================\r\nOct 24 11:46:01 _____________________________ TestGlu.test_glu_old _____________________________\r\nOct 24 11:46:01 \r\nOct 24 11:46:01 self = <caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old>\r\nOct 24 11:46:01 args = (), kwargs = {}\r\nOct 24 11:46:01 \r\nOct 24 11:46:01     def func(self, *args, **kwargs):\r\nOct 24 11:46:01 >       self.should_serialize = True\r\nOct 24 11:46:01 \r\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:34: \r\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nOct 24 11:46:01 /usr/local/lib/python2.7/dist-packages/hypothesis/_settings.py:248: in new_test\r\nOct 24 11:46:01     test(*args, **kwargs)\r\nOct 24 11:46:01 /usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/serialized_test/serialized_test_util.py:37: in func\r\nOct 24 11:46:01     hyp_func(self, *args, **kwargs)\r\nOct 24 11:46:01 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nOct 24 11:46:01 \r\nOct 24 11:46:01 self = <caffe2.python.operator_test.glu_op_test.TestGlu testMethod=test_glu_old>\r\nOct 24 11:46:01 \r\nOct 24 11:46:01     @settings(suppress_health_check=[HealthCheck.filter_too_much])\r\nOct 24 11:46:01 >   @serial.given(\r\nOct 24 11:46:01         X=hu.tensor(),\r\nOct 24 11:46:01         axis=st.integers(min_value=0, max_value=3),\r\nOct 24 11:46:01         **hu.gcs\r\nOct 24 11:46:01     )\r\nOct 24 11:46:01     def test_glu_old(self, X, axis, gc, dc):\r\nOct 24 11:46:01 E   FailedHealthCheck: It looks like your strategy is filtering out a lot of data. Health check found 50 filtered examples but only 9 good ones. This will make your tests much slower, and also will probably distort the data generation quite a lot. You should adapt your strategy to filter less. This can also be caused by a low max_leaves parameter in recursive() calls\r\n\r\n3. pytorch_linux_trusty_py3_6_gcc7_build_test\r\n> Oct 24 10:23:25 ======================================================================\r\nOct 24 10:23:25 FAIL: test_all_reduce_product (__main__.TestDistBackend)\r\nOct 24 10:23:25 ----------------------------------------------------------------------\r\nOct 24 10:23:25 Traceback (most recent call last):\r\nOct 24 10:23:25   File \"test_distributed.py\", line 1288, in wrapper\r\nOct 24 10:23:25     self._join_and_reduce(fn)\r\nOct 24 10:23:25   File \"test_distributed.py\", line 1371, in _join_and_reduce\r\nOct 24 10:23:25     self.assertEqual(p.exitcode, first_process.exitcode)\r\nOct 24 10:23:25   File \"/var/lib/jenkins/workspace/test/common_utils.py\", line 404, in assertEqual\r\nOct 24 10:23:25     super(TestCase, self).assertEqual(x, y, message)\r\nOct 24 10:23:25 AssertionError: None != 1 : \r\nOct 24 10:23:25 \r\nOct 24 10:23:25 ----------------------------------------------------------------------\r\nOct 24 10:23:25 Ran 62 tests in 611.141s\r\nOct 24 10:23:25 \r\nOct 24 10:23:25 FAILED (failures=1, skipped=30)\r\nOct 24 10:23:25 Traceback (most recent call last):\r\nOct 24 10:23:25   File \"test/run_test.py\", line 394, in <module>\r\nOct 24 10:23:25     main()\r\nOct 24 10:23:25   File \"test/run_test.py\", line 386, in main\r\nOct 24 10:23:25     raise RuntimeError(message)\r\nOct 24 10:23:25 RuntimeError: test_distributed failed!\r\nOct 24 10:23:25 + cleanup\r\nOct 24 10:23:25 + retcode=1\r\nOct 24 10:23:25 + set +x\r\nOct 24 10:23:25 =================== sccache compilation log ===================\r\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] fatal error: Permission denied (os error 13)\r\nOct 24 10:23:25 \r\nOct 24 10:23:25 ERROR:sccache::server: [\"null\"] \tPermission denied (os error 13)"}