{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6262", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6262/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6262/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6262/events", "html_url": "https://github.com/pytorch/pytorch/issues/6262", "id": 311076589, "node_id": "MDU6SXNzdWUzMTEwNzY1ODk=", "number": 6262, "title": "[Caffe2] This file was generated by a newer version of protoc", "user": {"login": "Yuliang-Zou", "id": 14304413, "node_id": "MDQ6VXNlcjE0MzA0NDEz", "avatar_url": "https://avatars2.githubusercontent.com/u/14304413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuliang-Zou", "html_url": "https://github.com/Yuliang-Zou", "followers_url": "https://api.github.com/users/Yuliang-Zou/followers", "following_url": "https://api.github.com/users/Yuliang-Zou/following{/other_user}", "gists_url": "https://api.github.com/users/Yuliang-Zou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuliang-Zou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuliang-Zou/subscriptions", "organizations_url": "https://api.github.com/users/Yuliang-Zou/orgs", "repos_url": "https://api.github.com/users/Yuliang-Zou/repos", "events_url": "https://api.github.com/users/Yuliang-Zou/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuliang-Zou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}, {"id": 889522263, "node_id": "MDU6TGFiZWw4ODk1MjIyNjM=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/protobuf", "name": "protobuf", "color": "ff2634", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-04-04T03:52:40Z", "updated_at": "2018-04-05T16:27:12Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Failed to install Caffe2, due to the protobuf problem?<br>\nPython: 2.7, installed using miniconda with virtual environment<br>\nOS: Ubuntu 16.04, using <code>ppc64-le</code> architecture<br>\nBefore CMake, I set <code>BUILD_CUSTOM_PROTOBUF</code> to <code>ON</code>.<br>\nWhen I type <code>which protoc</code>, it shows <code>libprotoc 3.2.0</code></p>\n<p>Can anyone tell me whether I can install Caffe2 on this machine without installing protobuf?</p>\n<p>Error message:</p>\n<pre><code>[ 29%] Building CXX object third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\n #error This file was generated by a newer version of protoc which is\n  ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\n #error incompatible with your Protocol Buffer headers.  Please update\n  ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:14:2: error: #error your headers.\n #error your headers.\n  ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25:0,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h: In function 'bool google::protobuf::internal::ParseMap(google::protobuf::io::CodedInputStream*, void*)':\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:20: error: expected nested-name-specifier before 'MapEntryToMapField'\n   typedef typename MapEntryToMapField&lt;Entry&gt;::MapFieldType MapFieldType;\n                    ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:38: error: expected initializer before '&lt;' token\n   typedef typename MapEntryToMapField&lt;Entry&gt;::MapFieldType MapFieldType;\n                                      ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:208:43: error: 'MapFieldType' was not declared in this scope\n   typedef typename Entry::template Parser&lt;MapFieldType, MapType&gt; ParserType;\n                                           ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:33: error: 'MapFieldType' does not name a type\n   ParserType parser(static_cast&lt;MapFieldType*&gt;(map_field));\n                                 ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '&gt;' before '*' token\n   ParserType parser(static_cast&lt;MapFieldType*&gt;(map_field));\n                                             ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '(' before '*' token\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:46: error: expected primary-expression before '&gt;' token\n   ParserType parser(static_cast&lt;MapFieldType*&gt;(map_field));\n                                              ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: At global scope:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:41:46: error: 'FieldMetadata' in namespace 'google::protobuf::internal' does not name a type\n   static const ::google::protobuf::internal::FieldMetadata field_metadata[];\n                                              ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:42:46: error: 'SerializationTable' in namespace 'google::protobuf::internal' does not name a type\n   static const ::google::protobuf::internal::SerializationTable serialization_table[];\n                                              ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_t(onnx_c2::TensorProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2889:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       t = ::google::protobuf::internal::GetOwnedMessage(\n           ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_g(onnx_c2::GraphProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2943:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       g = ::google::protobuf::internal::GetOwnedMessage(\n           ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::add_strings(std::__cxx11::string&amp;&amp;)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3059:32: error: no matching function for call to 'google::protobuf::RepeatedPtrField&lt;std::__cxx11::basic_string&lt;char&gt; &gt;::Add(std::remove_reference&lt;std::__cxx11::basic_string&lt;char&gt;&amp;&gt;::type)'\n   strings_.Add(std::move(value));\n                                ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField&lt;Element&gt;::Add() [with Element = std::__cxx11::basic_string&lt;char&gt;]\n inline Element* RepeatedPtrField&lt;Element&gt;::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ValueInfoProto::set_allocated_type(onnx_c2::TypeProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3253:14: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       type = ::google::protobuf::internal::GetOwnedMessage(\n              ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_input(std::__cxx11::string&amp;&amp;)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3376:30: error: no matching function for call to 'google::protobuf::RepeatedPtrField&lt;std::__cxx11::basic_string&lt;char&gt; &gt;::Add(std::remove_reference&lt;std::__cxx11::basic_string&lt;char&gt;&amp;&gt;::type)'\n   input_.Add(std::move(value));\n                              ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField&lt;Element&gt;::Add() [with Element = std::__cxx11::basic_string&lt;char&gt;]\n inline Element* RepeatedPtrField&lt;Element&gt;::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_output(std::__cxx11::string&amp;&amp;)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3445:31: error: no matching function for call to 'google::protobuf::RepeatedPtrField&lt;std::__cxx11::basic_string&lt;char&gt; &gt;::Add(std::remove_reference&lt;std::__cxx11::basic_string&lt;char&gt;&amp;&gt;::type)'\n   output_.Add(std::move(value));\n                               ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField&lt;Element&gt;::Add() [with Element = std::__cxx11::basic_string&lt;char&gt;]\n inline Element* RepeatedPtrField&lt;Element&gt;::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ModelProto::set_allocated_graph(onnx_c2::GraphProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4128:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       graph = ::google::protobuf::internal::GetOwnedMessage(\n               ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::set_allocated_segment(onnx_c2::TensorProto_Segment*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4733:17: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       segment = ::google::protobuf::internal::GetOwnedMessage(\n                 ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::add_string_data(std::__cxx11::string&amp;&amp;)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4849:36: error: no matching function for call to 'google::protobuf::RepeatedPtrField&lt;std::__cxx11::basic_string&lt;char&gt; &gt;::Add(std::remove_reference&lt;std::__cxx11::basic_string&lt;char&gt;&amp;&gt;::type)'\n   string_data_.Add(std::move(value));\n                                    ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField&lt;Element&gt;::Add() [with Element = std::__cxx11::basic_string&lt;char&gt;]\n inline Element* RepeatedPtrField&lt;Element&gt;::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TypeProto_Tensor::set_allocated_shape(onnx_c2::TensorShapeProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:5395:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       shape = ::google::protobuf::internal::GetOwnedMessage(\n               ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsAttributeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:106:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:111:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:116:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsValueInfoProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:140:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsModelProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:164:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsStringStringEntryProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:185:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProto_SegmentImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:206:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:228:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProto_DimensionImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:249:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:271:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProto_TensorImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:293:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:315:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsOperatorSetIdProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:336:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: At global scope:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:349:57: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\n const ::google::protobuf::uint32 TableStruct::offsets[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\n                                                         ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:544:70: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\n static const ::google::protobuf::internal::MigrationSchema schemas[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\n                                                                      ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:6778:1: error: expected '}' at end of input\n }  // namespace onnx_c2\n ^\nthird_party/onnx/CMakeFiles/onnx_proto.dir/build.make:73: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o' failed\nmake[2]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o] Error 1\nCMakeFiles/Makefile2:1059: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/all' failed\nmake[1]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>", "body_text": "Failed to install Caffe2, due to the protobuf problem?\nPython: 2.7, installed using miniconda with virtual environment\nOS: Ubuntu 16.04, using ppc64-le architecture\nBefore CMake, I set BUILD_CUSTOM_PROTOBUF to ON.\nWhen I type which protoc, it shows libprotoc 3.2.0\nCan anyone tell me whether I can install Caffe2 on this machine without installing protobuf?\nError message:\n[ 29%] Building CXX object third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\n #error This file was generated by a newer version of protoc which is\n  ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\n #error incompatible with your Protocol Buffer headers.  Please update\n  ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:14:2: error: #error your headers.\n #error your headers.\n  ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25:0,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h: In function 'bool google::protobuf::internal::ParseMap(google::protobuf::io::CodedInputStream*, void*)':\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:20: error: expected nested-name-specifier before 'MapEntryToMapField'\n   typedef typename MapEntryToMapField<Entry>::MapFieldType MapFieldType;\n                    ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:38: error: expected initializer before '<' token\n   typedef typename MapEntryToMapField<Entry>::MapFieldType MapFieldType;\n                                      ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:208:43: error: 'MapFieldType' was not declared in this scope\n   typedef typename Entry::template Parser<MapFieldType, MapType> ParserType;\n                                           ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:33: error: 'MapFieldType' does not name a type\n   ParserType parser(static_cast<MapFieldType*>(map_field));\n                                 ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '>' before '*' token\n   ParserType parser(static_cast<MapFieldType*>(map_field));\n                                             ^\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '(' before '*' token\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:46: error: expected primary-expression before '>' token\n   ParserType parser(static_cast<MapFieldType*>(map_field));\n                                              ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: At global scope:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:41:46: error: 'FieldMetadata' in namespace 'google::protobuf::internal' does not name a type\n   static const ::google::protobuf::internal::FieldMetadata field_metadata[];\n                                              ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:42:46: error: 'SerializationTable' in namespace 'google::protobuf::internal' does not name a type\n   static const ::google::protobuf::internal::SerializationTable serialization_table[];\n                                              ^\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_t(onnx_c2::TensorProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2889:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       t = ::google::protobuf::internal::GetOwnedMessage(\n           ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_g(onnx_c2::GraphProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2943:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       g = ::google::protobuf::internal::GetOwnedMessage(\n           ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::add_strings(std::__cxx11::string&&)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3059:32: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\n   strings_.Add(std::move(value));\n                                ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\n inline Element* RepeatedPtrField<Element>::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ValueInfoProto::set_allocated_type(onnx_c2::TypeProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3253:14: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       type = ::google::protobuf::internal::GetOwnedMessage(\n              ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_input(std::__cxx11::string&&)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3376:30: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\n   input_.Add(std::move(value));\n                              ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\n inline Element* RepeatedPtrField<Element>::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_output(std::__cxx11::string&&)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3445:31: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\n   output_.Add(std::move(value));\n                               ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\n inline Element* RepeatedPtrField<Element>::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ModelProto::set_allocated_graph(onnx_c2::GraphProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4128:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       graph = ::google::protobuf::internal::GetOwnedMessage(\n               ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::set_allocated_segment(onnx_c2::TensorProto_Segment*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4733:17: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       segment = ::google::protobuf::internal::GetOwnedMessage(\n                 ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::add_string_data(std::__cxx11::string&&)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4849:36: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\n   string_data_.Add(std::move(value));\n                                    ^\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\n inline Element* RepeatedPtrField<Element>::Add() {\n                 ^\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TypeProto_Tensor::set_allocated_shape(onnx_c2::TensorShapeProto*)':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:5395:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\n       shape = ::google::protobuf::internal::GetOwnedMessage(\n               ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsAttributeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:106:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:111:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:116:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsValueInfoProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:140:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsModelProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:164:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsStringStringEntryProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:185:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProto_SegmentImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:206:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:228:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProto_DimensionImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:249:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:271:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProto_TensorImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:293:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:315:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsOperatorSetIdProtoImpl()':\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:336:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\n     ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: At global scope:\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:349:57: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\n const ::google::protobuf::uint32 TableStruct::offsets[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\n                                                         ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:544:70: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\n static const ::google::protobuf::internal::MigrationSchema schemas[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\n                                                                      ^\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:6778:1: error: expected '}' at end of input\n }  // namespace onnx_c2\n ^\nthird_party/onnx/CMakeFiles/onnx_proto.dir/build.make:73: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o' failed\nmake[2]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o] Error 1\nCMakeFiles/Makefile2:1059: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/all' failed\nmake[1]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2", "body": "Failed to install Caffe2, due to the protobuf problem?\r\nPython: 2.7, installed using miniconda with virtual environment\r\nOS: Ubuntu 16.04, using `ppc64-le` architecture\r\nBefore CMake, I set `BUILD_CUSTOM_PROTOBUF` to `ON`. \r\nWhen I type `which protoc`, it shows `libprotoc 3.2.0`\r\n\r\nCan anyone tell me whether I can install Caffe2 on this machine without installing protobuf?\r\n\r\nError message:\r\n```\r\n[ 29%] Building CXX object third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:12:2: error: #error This file was generated by a newer version of protoc which is\r\n #error This file was generated by a newer version of protoc which is\r\n  ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:13:2: error: #error incompatible with your Protocol Buffer headers. Please update\r\n #error incompatible with your Protocol Buffer headers.  Please update\r\n  ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:14:2: error: #error your headers.\r\n #error your headers.\r\n  ^\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25:0,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h: In function 'bool google::protobuf::internal::ParseMap(google::protobuf::io::CodedInputStream*, void*)':\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:20: error: expected nested-name-specifier before 'MapEntryToMapField'\r\n   typedef typename MapEntryToMapField<Entry>::MapFieldType MapFieldType;\r\n                    ^\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:204:38: error: expected initializer before '<' token\r\n   typedef typename MapEntryToMapField<Entry>::MapFieldType MapFieldType;\r\n                                      ^\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:208:43: error: 'MapFieldType' was not declared in this scope\r\n   typedef typename Entry::template Parser<MapFieldType, MapType> ParserType;\r\n                                           ^\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:33: error: 'MapFieldType' does not name a type\r\n   ParserType parser(static_cast<MapFieldType*>(map_field));\r\n                                 ^\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '>' before '*' token\r\n   ParserType parser(static_cast<MapFieldType*>(map_field));\r\n                                             ^\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:45: error: expected '(' before '*' token\r\n/home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:210:46: error: expected primary-expression before '>' token\r\n   ParserType parser(static_cast<MapFieldType*>(map_field));\r\n                                              ^\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: At global scope:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:41:46: error: 'FieldMetadata' in namespace 'google::protobuf::internal' does not name a type\r\n   static const ::google::protobuf::internal::FieldMetadata field_metadata[];\r\n                                              ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:42:46: error: 'SerializationTable' in namespace 'google::protobuf::internal' does not name a type\r\n   static const ::google::protobuf::internal::SerializationTable serialization_table[];\r\n                                              ^\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_t(onnx_c2::TensorProto*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2889:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       t = ::google::protobuf::internal::GetOwnedMessage(\r\n           ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::set_allocated_g(onnx_c2::GraphProto*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:2943:11: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       g = ::google::protobuf::internal::GetOwnedMessage(\r\n           ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::AttributeProto::add_strings(std::__cxx11::string&&)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3059:32: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\r\n   strings_.Add(std::move(value));\r\n                                ^\r\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\r\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\r\n inline Element* RepeatedPtrField<Element>::Add() {\r\n                 ^\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ValueInfoProto::set_allocated_type(onnx_c2::TypeProto*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3253:14: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       type = ::google::protobuf::internal::GetOwnedMessage(\r\n              ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_input(std::__cxx11::string&&)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3376:30: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\r\n   input_.Add(std::move(value));\r\n                              ^\r\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\r\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\r\n inline Element* RepeatedPtrField<Element>::Add() {\r\n                 ^\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::NodeProto::add_output(std::__cxx11::string&&)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:3445:31: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\r\n   output_.Add(std::move(value));\r\n                               ^\r\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\r\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\r\n inline Element* RepeatedPtrField<Element>::Add() {\r\n                 ^\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::ModelProto::set_allocated_graph(onnx_c2::GraphProto*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4128:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       graph = ::google::protobuf::internal::GetOwnedMessage(\r\n               ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::set_allocated_segment(onnx_c2::TensorProto_Segment*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4733:17: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       segment = ::google::protobuf::internal::GetOwnedMessage(\r\n                 ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TensorProto::add_string_data(std::__cxx11::string&&)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:4849:36: error: no matching function for call to 'google::protobuf::RepeatedPtrField<std::__cxx11::basic_string<char> >::Add(std::remove_reference<std::__cxx11::basic_string<char>&>::type)'\r\n   string_data_.Add(std::move(value));\r\n                                    ^\r\nIn file included from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/wire_format_lite_inl.h:48:0,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map_type_handler.h:36,\r\n                 from /home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/map.h:49,\r\n                 from /home/ylzou/install/caffe2/third_party/protobuf/src/google/protobuf/generated_message_table_driven.h:34,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:25,\r\n                 from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note: candidate: Element* google::protobuf::RepeatedPtrField<Element>::Add() [with Element = std::__cxx11::basic_string<char>]\r\n inline Element* RepeatedPtrField<Element>::Add() {\r\n                 ^\r\n/home/ylzou/miniconda3/envs/mycaffe2/include/google/protobuf/repeated_field.h:1847:17: note:   candidate expects 0 arguments, 1 provided\r\nIn file included from /home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:4:0:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h: In member function 'void onnx_c2::TypeProto_Tensor::set_allocated_shape(onnx_c2::TensorShapeProto*)':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.h:5395:15: error: 'GetOwnedMessage' is not a member of 'google::protobuf::internal'\r\n       shape = ::google::protobuf::internal::GetOwnedMessage(\r\n               ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsAttributeProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:106:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:111:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:116:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsValueInfoProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:140:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsModelProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:164:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsStringStringEntryProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:185:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProto_SegmentImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:206:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:228:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProto_DimensionImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:249:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTensorShapeProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:271:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProto_TensorImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:293:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsTypeProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:315:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: In function 'void protobuf_onnx_5fonnx_5fc2_2eproto::InitDefaultsOperatorSetIdProtoImpl()':\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:336:5: error: 'OnShutdownDestroyMessage' is not a member of 'google::protobuf::internal'\r\n     ::google::protobuf::internal::OnShutdownDestroyMessage(ptr);\r\n     ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc: At global scope:\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:349:57: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\r\n const ::google::protobuf::uint32 TableStruct::offsets[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\r\n                                                         ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:544:70: error: expected initializer before 'GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE'\r\n static const ::google::protobuf::internal::MigrationSchema schemas[] GOOGLE_PROTOBUF_ATTRIBUTE_SECTION_VARIABLE(protodesc_cold) = {\r\n                                                                      ^\r\n/home/ylzou/install/caffe2/build/third_party/onnx/onnx/onnx_onnx_c2.pb.cc:6778:1: error: expected '}' at end of input\r\n }  // namespace onnx_c2\r\n ^\r\nthird_party/onnx/CMakeFiles/onnx_proto.dir/build.make:73: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o' failed\r\nmake[2]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/onnx/onnx_onnx_c2.pb.cc.o] Error 1\r\nCMakeFiles/Makefile2:1059: recipe for target 'third_party/onnx/CMakeFiles/onnx_proto.dir/all' failed\r\nmake[1]: *** [third_party/onnx/CMakeFiles/onnx_proto.dir/all] Error 2\r\nMakefile:138: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\n"}