{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/341752166", "html_url": "https://github.com/pytorch/pytorch/issues/2757#issuecomment-341752166", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2757", "id": 341752166, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTc1MjE2Ng==", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-03T16:17:14Z", "updated_at": "2017-11-03T16:17:14Z", "author_association": "MEMBER", "body_html": "<p>I suspect this is because the destructor is being called after Python starts unloading modules. The error messages points to <a href=\"https://github.com/python/cpython/blob/3.5/Lib/multiprocessing/reduction.py#L49\">reductions.py:49</a>: The <code>NoneType</code> object refers to the <code>io</code> module.</p>\n<p>There's not much we can do about this. Errors in destructors are ignored (note the \"Exception ignored in...\" message). To avoid this, wrap your code in a <code>def main()</code>. That way the objects will be destructed when the <code>main()</code> function exits.</p>", "body_text": "I suspect this is because the destructor is being called after Python starts unloading modules. The error messages points to reductions.py:49: The NoneType object refers to the io module.\nThere's not much we can do about this. Errors in destructors are ignored (note the \"Exception ignored in...\" message). To avoid this, wrap your code in a def main(). That way the objects will be destructed when the main() function exits.", "body": "I suspect this is because the destructor is being called after Python starts unloading modules. The error messages points to [reductions.py:49](https://github.com/python/cpython/blob/3.5/Lib/multiprocessing/reduction.py#L49): The `NoneType` object refers to the `io` module.\r\n\r\nThere's not much we can do about this. Errors in destructors are ignored (note the \"Exception ignored in...\" message). To avoid this, wrap your code in a `def main()`. That way the objects will be destructed when the `main()` function exits."}