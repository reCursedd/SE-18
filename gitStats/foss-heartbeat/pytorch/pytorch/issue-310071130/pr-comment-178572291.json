{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/178572291", "pull_request_review_id": 108649354, "id": 178572291, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODU3MjI5MQ==", "diff_hunk": "@@ -527,6 +527,19 @@ def test_cos_anneal_lr(self):\n         scheduler = CosineAnnealingLR(self.opt, T_max=epochs, eta_min=eta_min)\n         self._test(scheduler, targets, epochs)\n \n+    def test_warm_restart_lr(self):\n+        epochs = 10\n+        eta_min = 1e-10\n+        T_mult = 2\n+        T_max = 2\n+        T_cur = list(range(T_max)) + list(range(T_max * T_mult)) + list(range(T_max * T_mult * T_mult))\n+        T_i = [T_max] * T_max + [T_max * T_mult] * T_max * T_mult + [T_max * T_mult * T_mult] * T_max * T_mult * T_mult\n+        single_targets = [eta_min + (0.05 - eta_min) * (1 + math.cos(math.pi * x / y)) / 2\n+                          for x, y in zip(T_cur, T_i)]\n+        targets = [single_targets, list(map(lambda x: x * epochs, single_targets))]\n+        scheduler = CosineAnnealingLR(self.opt, T_max=T_max, eta_min=eta_min, T_mult=T_mult, restart=True)", "path": "test/test_optim.py", "position": null, "original_position": 25, "commit_id": "67d26ccb4e7540788c873ee20f448018b2d44c1f", "original_commit_id": "7784c7f955f94a306a93926cf8ebfc54c2a2ce23", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "body": "also the test", "created_at": "2018-04-02T15:44:49Z", "updated_at": "2018-11-23T15:41:29Z", "html_url": "https://github.com/pytorch/pytorch/pull/6130#discussion_r178572291", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/6130", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/178572291"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/6130#discussion_r178572291"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/6130"}}, "body_html": "<p>also the test</p>", "body_text": "also the test"}