{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4404", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4404/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4404/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4404/events", "html_url": "https://github.com/pytorch/pytorch/issues/4404", "id": 285045696, "node_id": "MDU6SXNzdWUyODUwNDU2OTY=", "number": 4404, "title": "nn.Conv3d always freezes on Docker", "user": {"login": "pkdogcom", "id": 10513430, "node_id": "MDQ6VXNlcjEwNTEzNDMw", "avatar_url": "https://avatars2.githubusercontent.com/u/10513430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkdogcom", "html_url": "https://github.com/pkdogcom", "followers_url": "https://api.github.com/users/pkdogcom/followers", "following_url": "https://api.github.com/users/pkdogcom/following{/other_user}", "gists_url": "https://api.github.com/users/pkdogcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkdogcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkdogcom/subscriptions", "organizations_url": "https://api.github.com/users/pkdogcom/orgs", "repos_url": "https://api.github.com/users/pkdogcom/repos", "events_url": "https://api.github.com/users/pkdogcom/events{/privacy}", "received_events_url": "https://api.github.com/users/pkdogcom/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-29T07:14:46Z", "updated_at": "2017-12-31T00:33:00Z", "closed_at": "2017-12-31T00:33:00Z", "author_association": "NONE", "body_html": "<p>I was trying to train <a href=\"https://github.com/kenshohara/3D-ResNets-PyTorch/blob/master/models/resnext.py\">a model</a> on Docker that uses 3D Convolution and it freezes at nn.Conv3d every time in the forward function. Sometimes I can stop the processes with ctrl+c but sometimes I have to manually kill the process. Also, when it freezes, all GPUs are 100% utilized, although power or memory usage are low.</p>\n<p>I've tried Docker images (all based on Ubuntu 16.0.4) from DockerHub, building from github sources or pip install and all of them freeze at the same place. I've also tried disabling pin_memory, using 0, 1 or more workers in data_loader, disabling some of the GPUs, using different version of drivers (384 and 387) and none of them make any differences. My PC has 4 GTX 1080 Ti and 64 GB memory and I've already used the '--ipc=host' flag in docker so most likely it is not related to shared memory.</p>\n<p>Any ideas what else can cause this issue?</p>", "body_text": "I was trying to train a model on Docker that uses 3D Convolution and it freezes at nn.Conv3d every time in the forward function. Sometimes I can stop the processes with ctrl+c but sometimes I have to manually kill the process. Also, when it freezes, all GPUs are 100% utilized, although power or memory usage are low.\nI've tried Docker images (all based on Ubuntu 16.0.4) from DockerHub, building from github sources or pip install and all of them freeze at the same place. I've also tried disabling pin_memory, using 0, 1 or more workers in data_loader, disabling some of the GPUs, using different version of drivers (384 and 387) and none of them make any differences. My PC has 4 GTX 1080 Ti and 64 GB memory and I've already used the '--ipc=host' flag in docker so most likely it is not related to shared memory.\nAny ideas what else can cause this issue?", "body": "I was trying to train [a model](https://github.com/kenshohara/3D-ResNets-PyTorch/blob/master/models/resnext.py) on Docker that uses 3D Convolution and it freezes at nn.Conv3d every time in the forward function. Sometimes I can stop the processes with ctrl+c but sometimes I have to manually kill the process. Also, when it freezes, all GPUs are 100% utilized, although power or memory usage are low. \r\n\r\nI've tried Docker images (all based on Ubuntu 16.0.4) from DockerHub, building from github sources or pip install and all of them freeze at the same place. I've also tried disabling pin_memory, using 0, 1 or more workers in data_loader, disabling some of the GPUs, using different version of drivers (384 and 387) and none of them make any differences. My PC has 4 GTX 1080 Ti and 64 GB memory and I've already used the '--ipc=host' flag in docker so most likely it is not related to shared memory. \r\n\r\nAny ideas what else can cause this issue?"}