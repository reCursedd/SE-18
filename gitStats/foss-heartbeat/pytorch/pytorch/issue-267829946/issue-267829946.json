{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3247", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3247/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3247/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3247/events", "html_url": "https://github.com/pytorch/pytorch/issues/3247", "id": 267829946, "node_id": "MDU6SXNzdWUyNjc4Mjk5NDY=", "number": 3247, "title": "softmax (and log_softmax) fail for dim < 0", "user": {"login": "jwvdm", "id": 1158561, "node_id": "MDQ6VXNlcjExNTg1NjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1158561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwvdm", "html_url": "https://github.com/jwvdm", "followers_url": "https://api.github.com/users/jwvdm/followers", "following_url": "https://api.github.com/users/jwvdm/following{/other_user}", "gists_url": "https://api.github.com/users/jwvdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwvdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwvdm/subscriptions", "organizations_url": "https://api.github.com/users/jwvdm/orgs", "repos_url": "https://api.github.com/users/jwvdm/repos", "events_url": "https://api.github.com/users/jwvdm/events{/privacy}", "received_events_url": "https://api.github.com/users/jwvdm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-10-23T21:53:54Z", "updated_at": "2017-12-04T20:11:29Z", "closed_at": "2017-12-04T20:11:29Z", "author_association": "NONE", "body_html": "<p>It would be nice if softmax and log_softmax supported negative dimension indexing. As of <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/a806d1ad69c1455e8f36d5ae4f53a457510967fc/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/a806d1ad69c1455e8f36d5ae4f53a457510967fc\"><tt>a806d1a</tt></a>, the following fails</p>\n<div class=\"highlight highlight-source-python\"><pre>v <span class=\"pl-k\">=</span> torch.autograd.Variable(torch.rand(<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">4</span>))\ntorch.nn.functional.log_softmax(v, <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>)</pre></div>\n<p>with Error message</p>\n<blockquote>\n<p>RuntimeError: invalid argument 4: dim out of range (got -1, but input has 3 dims) at /home/janwillem/Cloud/git/probtorch/probtorch/build/pytorch/torch/lib/THNN/generic/LogSoftMax.c:20</p>\n</blockquote>", "body_text": "It would be nice if softmax and log_softmax supported negative dimension indexing. As of a806d1a, the following fails\nv = torch.autograd.Variable(torch.rand(2,3,4))\ntorch.nn.functional.log_softmax(v, -1)\nwith Error message\n\nRuntimeError: invalid argument 4: dim out of range (got -1, but input has 3 dims) at /home/janwillem/Cloud/git/probtorch/probtorch/build/pytorch/torch/lib/THNN/generic/LogSoftMax.c:20", "body": "It would be nice if softmax and log_softmax supported negative dimension indexing. As of a806d1a, the following fails\r\n```python\r\nv = torch.autograd.Variable(torch.rand(2,3,4))\r\ntorch.nn.functional.log_softmax(v, -1)\r\n```\r\nwith Error message\r\n> RuntimeError: invalid argument 4: dim out of range (got -1, but input has 3 dims) at /home/janwillem/Cloud/git/probtorch/probtorch/build/pytorch/torch/lib/THNN/generic/LogSoftMax.c:20\r\n"}