{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187390878", "pull_request_review_id": 119162557, "id": 187390878, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NzM5MDg3OA==", "diff_hunk": "@@ -25,8 +25,9 @@ namespace native {\n \n static void make_offset2bag(const Tensor &offsets, const Tensor &indices,\n                             Tensor &offset2bag) {\n-  offset2bag.index_fill_(0, offsets, 1); // offset2bag = [1 0 1 0 1]\n-  offset2bag[0] = 0;                     // offset2bag = [0 0 1 0 1]\n+  offset2bag.index_add_(", "path": "aten/src/ATen/native/EmbeddingBag.cpp", "position": null, "original_position": 6, "commit_id": "eb75abad61fc8957871e47a7463fcf2e4bf7cf53", "original_commit_id": "4fae97248717042197d41e87a6c4fcee10a7c796", "user": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "body": "I will remove this.\r\n\r\nFor context, it seems that this slipped through from D7875031, which landed before the last github->fbcode sync and therefore didn't take into account PR 5725. There is a new PR 7389 which should contain all of D7875031 and account for PR 5725, and none of the changes in D7875031 should appear in this sync. See my merge note https://github.com/pytorch/pytorch/pull/7451/commits/d6790722c98f8b5fb5fd80838b8f1cd44649a494", "created_at": "2018-05-10T16:54:08Z", "updated_at": "2018-11-23T15:43:54Z", "html_url": "https://github.com/pytorch/pytorch/pull/7451#discussion_r187390878", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/7451", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187390878"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/7451#discussion_r187390878"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/7451"}}, "body_html": "<p>I will remove this.</p>\n<p>For context, it seems that this slipped through from D7875031, which landed before the last github-&gt;fbcode sync and therefore didn't take into account PR 5725. There is a new PR 7389 which should contain all of D7875031 and account for PR 5725, and none of the changes in D7875031 should appear in this sync. See my merge note <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/d6790722c98f8b5fb5fd80838b8f1cd44649a494/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/d6790722c98f8b5fb5fd80838b8f1cd44649a494\"><tt>d679072</tt></a></p>", "body_text": "I will remove this.\nFor context, it seems that this slipped through from D7875031, which landed before the last github->fbcode sync and therefore didn't take into account PR 5725. There is a new PR 7389 which should contain all of D7875031 and account for PR 5725, and none of the changes in D7875031 should appear in this sync. See my merge note d679072", "in_reply_to_id": 187220439}