{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/368060038", "html_url": "https://github.com/pytorch/pytorch/issues/5331#issuecomment-368060038", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5331", "id": 368060038, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODA2MDAzOA==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-23T16:27:36Z", "updated_at": "2018-02-23T16:27:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>currently the set_flush_denormal call will always return False if on ppc64le.<br>\nThe unittest has a skipIf  as below.   I believe the intention is to skip this<br>\ntest if not running on x86.  But since set_flush_denormal returns a False on<br>\nppc64le , then it actually runs the test and not run on x86</p>\n<pre><code>@unittest.skipIf(torch.set_flush_denormal(False),\n                 \"flush_denormal not supported\")\n</code></pre>\n<p>I believe is you just add a not as below in the test_torch.py</p>\n<pre><code>@unittest.skipIf(not torch.set_flush_denormal(False),\n                 \"flush_denormal not supported\")\n</code></pre>\n<p>the test should then run on x86 but skipped for ppc64le or other platforms.</p>", "body_text": "currently the set_flush_denormal call will always return False if on ppc64le.\nThe unittest has a skipIf  as below.   I believe the intention is to skip this\ntest if not running on x86.  But since set_flush_denormal returns a False on\nppc64le , then it actually runs the test and not run on x86\n@unittest.skipIf(torch.set_flush_denormal(False),\n                 \"flush_denormal not supported\")\n\nI believe is you just add a not as below in the test_torch.py\n@unittest.skipIf(not torch.set_flush_denormal(False),\n                 \"flush_denormal not supported\")\n\nthe test should then run on x86 but skipped for ppc64le or other platforms.", "body": "currently the set_flush_denormal call will always return False if on ppc64le.\r\nThe unittest has a skipIf  as below.   I believe the intention is to skip this\r\ntest if not running on x86.  But since set_flush_denormal returns a False on\r\nppc64le , then it actually runs the test and not run on x86\r\n\r\n    @unittest.skipIf(torch.set_flush_denormal(False),\r\n                     \"flush_denormal not supported\")\r\n\r\nI believe is you just add a not as below in the test_torch.py \r\n\r\n    @unittest.skipIf(not torch.set_flush_denormal(False),\r\n                     \"flush_denormal not supported\")\r\n\r\nthe test should then run on x86 but skipped for ppc64le or other platforms."}