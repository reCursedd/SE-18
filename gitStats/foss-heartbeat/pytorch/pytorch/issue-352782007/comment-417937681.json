{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417937681", "html_url": "https://github.com/pytorch/pytorch/pull/10765#issuecomment-417937681", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10765", "id": 417937681, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzkzNzY4MQ==", "user": {"login": "peterjc123", "id": 9998726, "node_id": "MDQ6VXNlcjk5OTg3MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9998726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjc123", "html_url": "https://github.com/peterjc123", "followers_url": "https://api.github.com/users/peterjc123/followers", "following_url": "https://api.github.com/users/peterjc123/following{/other_user}", "gists_url": "https://api.github.com/users/peterjc123/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjc123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjc123/subscriptions", "organizations_url": "https://api.github.com/users/peterjc123/orgs", "repos_url": "https://api.github.com/users/peterjc123/repos", "events_url": "https://api.github.com/users/peterjc123/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjc123/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-02T15:14:20Z", "updated_at": "2018-09-02T15:14:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3522\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/orion\">@orion</a> It seems that you are right. As this <a href=\"https://stackoverflow.com/questions/25522229/tracking-an-issue-with-fvisibility-hidden-that-triggers-a-undefined-reference-t\" rel=\"nofollow\">post</a> says, it seems that GCC wants the entire class exported while MSVC doesn't. So there may be two possible solutions for this issue:</p>\n<ol>\n<li>Use a macro for GCC to export entire class and keep minimal with MSVC. (Not so good but easy to do)</li>\n<li>Move the implementation into the source file to make the class-level export work with MSVC. (Seems better but may be difficult to do)</li>\n</ol>", "body_text": "@orion It seems that you are right. As this post says, it seems that GCC wants the entire class exported while MSVC doesn't. So there may be two possible solutions for this issue:\n\nUse a macro for GCC to export entire class and keep minimal with MSVC. (Not so good but easy to do)\nMove the implementation into the source file to make the class-level export work with MSVC. (Seems better but may be difficult to do)", "body": "@orion It seems that you are right. As this [post](https://stackoverflow.com/questions/25522229/tracking-an-issue-with-fvisibility-hidden-that-triggers-a-undefined-reference-t) says, it seems that GCC wants the entire class exported while MSVC doesn't. So there may be two possible solutions for this issue:\r\n1. Use a macro for GCC to export entire class and keep minimal with MSVC. (Not so good but easy to do)\r\n2. Move the implementation into the source file to make the class-level export work with MSVC. (Seems better but may be difficult to do)"}