{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/335813600", "html_url": "https://github.com/pytorch/pytorch/pull/3067#issuecomment-335813600", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3067", "id": 335813600, "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTgxMzYwMA==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-11T13:42:28Z", "updated_at": "2017-10-11T13:46:03Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm worried about the following two cases (unrelated to the bug, but just in general if we don't have the synchronize calls):</p>\n<ol>\n<li>Modifying a CPU tensor while its data is being transferred to the GPU</li>\n</ol>\n<pre><code>y = x.cuda()  # x is some tensor on CPU\nx.zero_()  # should wait for the HtoD transfer to finish\n</code></pre>\n<ol start=\"2\">\n<li>Trying to print out the result of a GPU operation</li>\n</ol>\n<pre><code>x = x.cuda()  # some tensor\nsome_tensor_op(x)\nprint(x)  # copies device to host, should wait for the some_tensor_op to finish\n</code></pre>\n<p>I'm not entirely sure these are problems (I'll try running them and see what happens)</p>", "body_text": "I'm worried about the following two cases (unrelated to the bug, but just in general if we don't have the synchronize calls):\n\nModifying a CPU tensor while its data is being transferred to the GPU\n\ny = x.cuda()  # x is some tensor on CPU\nx.zero_()  # should wait for the HtoD transfer to finish\n\n\nTrying to print out the result of a GPU operation\n\nx = x.cuda()  # some tensor\nsome_tensor_op(x)\nprint(x)  # copies device to host, should wait for the some_tensor_op to finish\n\nI'm not entirely sure these are problems (I'll try running them and see what happens)", "body": "I'm worried about the following two cases (unrelated to the bug, but just in general if we don't have the synchronize calls):\r\n1) Modifying a CPU tensor while its data is being transferred to the GPU\r\n```\r\ny = x.cuda()  # x is some tensor on CPU\r\nx.zero_()  # should wait for the HtoD transfer to finish\r\n```\r\n\r\n2) Trying to print out the result of a GPU operation\r\n```\r\nx = x.cuda()  # some tensor\r\nsome_tensor_op(x)\r\nprint(x)  # copies device to host, should wait for the some_tensor_op to finish\r\n```\r\n\r\nI'm not entirely sure these are problems (I'll try running them and see what happens)"}