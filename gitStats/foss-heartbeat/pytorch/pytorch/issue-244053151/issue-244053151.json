{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2150", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2150/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2150/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2150/events", "html_url": "https://github.com/pytorch/pytorch/issues/2150", "id": 244053151, "node_id": "MDU6SXNzdWUyNDQwNTMxNTE=", "number": 2150, "title": "output_device = device_ids[0] IndexError: list index out of range", "user": {"login": "jiapei100", "id": 154013, "node_id": "MDQ6VXNlcjE1NDAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/154013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiapei100", "html_url": "https://github.com/jiapei100", "followers_url": "https://api.github.com/users/jiapei100/followers", "following_url": "https://api.github.com/users/jiapei100/following{/other_user}", "gists_url": "https://api.github.com/users/jiapei100/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiapei100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiapei100/subscriptions", "organizations_url": "https://api.github.com/users/jiapei100/orgs", "repos_url": "https://api.github.com/users/jiapei100/repos", "events_url": "https://api.github.com/users/jiapei100/events{/privacy}", "received_events_url": "https://api.github.com/users/jiapei100/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-19T14:06:34Z", "updated_at": "2018-03-20T00:25:51Z", "closed_at": "2017-07-19T19:08:57Z", "author_association": "NONE", "body_html": "<p>Hi, all:</p>\n<p>Sorry about my entry-level question on how to use<br>\n<strong>torch.nn.DataParallel(model).cuda()?</strong></p>\n<p>The code is as:</p>\n<pre><code>import argparse\nimport os\nimport shutil\nimport time\n\nimport torch\nimport torch.nn as nn\nimport torch.nn.parallel\nimport torch.backends.cudnn as cudnn\nimport torch.optim\nimport torch.utils.data\nimport torchvision.transforms as transforms\nimport torchvision.datasets as datasets\nimport torchvision.models as models\n\n\nmodel_names = sorted(name for name in models.__dict__\n    if name.islower() and not name.startswith(\"__\")\n    and callable(models.__dict__[name]))\n\nmodel = models.__dict__['resnet18']()\n\nmodel = torch.nn.DataParallel(model).cuda()\n</code></pre>\n<p>And, the final line of the codes failed with the following message:</p>\n<blockquote>\n<p>File \"train.py\", line xxx, in <br>\nmodel = torch.nn.DataParallel(model).cuda()<br>\nFile \"yyy/condaenv/lib/python3.6/site-packages/torch/nn/parallel/data_parallel.py\", line 48, in <strong>init</strong><br>\noutput_device = device_ids[0]<br>\nIndexError: list index out of range</p>\n</blockquote>\n<p>Can anybody give me a hand?<br>\nI'm using a GTX980M under Ubuntu 16.04, with up-to-date anaconda with Python 3.6.1, Pytorch 0.1.12 .</p>\n<p>Thank you very much<br>\nPei</p>", "body_text": "Hi, all:\nSorry about my entry-level question on how to use\ntorch.nn.DataParallel(model).cuda()?\nThe code is as:\nimport argparse\nimport os\nimport shutil\nimport time\n\nimport torch\nimport torch.nn as nn\nimport torch.nn.parallel\nimport torch.backends.cudnn as cudnn\nimport torch.optim\nimport torch.utils.data\nimport torchvision.transforms as transforms\nimport torchvision.datasets as datasets\nimport torchvision.models as models\n\n\nmodel_names = sorted(name for name in models.__dict__\n    if name.islower() and not name.startswith(\"__\")\n    and callable(models.__dict__[name]))\n\nmodel = models.__dict__['resnet18']()\n\nmodel = torch.nn.DataParallel(model).cuda()\n\nAnd, the final line of the codes failed with the following message:\n\nFile \"train.py\", line xxx, in \nmodel = torch.nn.DataParallel(model).cuda()\nFile \"yyy/condaenv/lib/python3.6/site-packages/torch/nn/parallel/data_parallel.py\", line 48, in init\noutput_device = device_ids[0]\nIndexError: list index out of range\n\nCan anybody give me a hand?\nI'm using a GTX980M under Ubuntu 16.04, with up-to-date anaconda with Python 3.6.1, Pytorch 0.1.12 .\nThank you very much\nPei", "body": "\r\nHi, all:\r\n\r\nSorry about my entry-level question on how to use \r\n**torch.nn.DataParallel(model).cuda()?**\r\n\r\nThe code is as:\r\n\r\n```\r\nimport argparse\r\nimport os\r\nimport shutil\r\nimport time\r\n\r\nimport torch\r\nimport torch.nn as nn\r\nimport torch.nn.parallel\r\nimport torch.backends.cudnn as cudnn\r\nimport torch.optim\r\nimport torch.utils.data\r\nimport torchvision.transforms as transforms\r\nimport torchvision.datasets as datasets\r\nimport torchvision.models as models\r\n\r\n\r\nmodel_names = sorted(name for name in models.__dict__\r\n    if name.islower() and not name.startswith(\"__\")\r\n    and callable(models.__dict__[name]))\r\n\r\nmodel = models.__dict__['resnet18']()\r\n\r\nmodel = torch.nn.DataParallel(model).cuda()\r\n```\r\n\r\nAnd, the final line of the codes failed with the following message:\r\n\r\n> File \"train.py\", line xxx, in <module>\r\n>     model = torch.nn.DataParallel(model).cuda()\r\n>   File \"yyy/condaenv/lib/python3.6/site-packages/torch/nn/parallel/data_parallel.py\", line 48, in __init__\r\n>     output_device = device_ids[0]\r\n> IndexError: list index out of range\r\n\r\n\r\nCan anybody give me a hand?\r\nI'm using a GTX980M under Ubuntu 16.04, with up-to-date anaconda with Python 3.6.1, Pytorch 0.1.12 .\r\n\r\nThank you very much\r\nPei\r\n"}