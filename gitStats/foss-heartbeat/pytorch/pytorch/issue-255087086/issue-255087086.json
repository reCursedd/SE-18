{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2615", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2615/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2615/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2615/events", "html_url": "https://github.com/pytorch/pytorch/issues/2615", "id": 255087086, "node_id": "MDU6SXNzdWUyNTUwODcwODY=", "number": 2615, "title": "Why does pytorch need the sentences in a minibatch to be sorted?", "user": {"login": "tjppires", "id": 25899060, "node_id": "MDQ6VXNlcjI1ODk5MDYw", "avatar_url": "https://avatars0.githubusercontent.com/u/25899060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjppires", "html_url": "https://github.com/tjppires", "followers_url": "https://api.github.com/users/tjppires/followers", "following_url": "https://api.github.com/users/tjppires/following{/other_user}", "gists_url": "https://api.github.com/users/tjppires/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjppires/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjppires/subscriptions", "organizations_url": "https://api.github.com/users/tjppires/orgs", "repos_url": "https://api.github.com/users/tjppires/repos", "events_url": "https://api.github.com/users/tjppires/events{/privacy}", "received_events_url": "https://api.github.com/users/tjppires/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-04T16:43:46Z", "updated_at": "2017-09-05T04:05:25Z", "closed_at": "2017-09-05T04:05:25Z", "author_association": "NONE", "body_html": "<p>Hi!</p>\n<p>I am writing a system for APE (automatic post editing), and so I get as input a source (src) sentence and a machine translation (mt) sentence.</p>\n<p>As I am using pad_packed_sequences, I have to sort the inputs in decreasing order. However, the src and mt sentences can have different lengths, and sorting them both may cause the sentences the src and mt sentences to be misaligned.</p>\n<p>I can obviously sort both and then realign them after feeding them through the encoder, but I really do not see the point of this unnecessary work. Why does pytorch not accept the sentences as I give them? After all, it is given the lenghts of the sentences.</p>\n<p>Thanks.</p>", "body_text": "Hi!\nI am writing a system for APE (automatic post editing), and so I get as input a source (src) sentence and a machine translation (mt) sentence.\nAs I am using pad_packed_sequences, I have to sort the inputs in decreasing order. However, the src and mt sentences can have different lengths, and sorting them both may cause the sentences the src and mt sentences to be misaligned.\nI can obviously sort both and then realign them after feeding them through the encoder, but I really do not see the point of this unnecessary work. Why does pytorch not accept the sentences as I give them? After all, it is given the lenghts of the sentences.\nThanks.", "body": "Hi!\r\n\r\nI am writing a system for APE (automatic post editing), and so I get as input a source (src) sentence and a machine translation (mt) sentence.\r\n\r\nAs I am using pad_packed_sequences, I have to sort the inputs in decreasing order. However, the src and mt sentences can have different lengths, and sorting them both may cause the sentences the src and mt sentences to be misaligned.\r\n\r\nI can obviously sort both and then realign them after feeding them through the encoder, but I really do not see the point of this unnecessary work. Why does pytorch not accept the sentences as I give them? After all, it is given the lenghts of the sentences.\r\n\r\nThanks."}