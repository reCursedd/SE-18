{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/394952124", "html_url": "https://github.com/pytorch/pytorch/issues/8158#issuecomment-394952124", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8158", "id": 394952124, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDk1MjEyNA==", "user": {"login": "lukemurray", "id": 156625, "node_id": "MDQ6VXNlcjE1NjYyNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/156625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukemurray", "html_url": "https://github.com/lukemurray", "followers_url": "https://api.github.com/users/lukemurray/followers", "following_url": "https://api.github.com/users/lukemurray/following{/other_user}", "gists_url": "https://api.github.com/users/lukemurray/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukemurray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukemurray/subscriptions", "organizations_url": "https://api.github.com/users/lukemurray/orgs", "repos_url": "https://api.github.com/users/lukemurray/repos", "events_url": "https://api.github.com/users/lukemurray/events{/privacy}", "received_events_url": "https://api.github.com/users/lukemurray/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-06T06:13:15Z", "updated_at": "2018-06-06T06:13:15Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">I am compiling my application. It includes the caffe2 headers. If I uninstall all protobuf versions except the one the conda caffe2 package installs (3.4.1) I get errors (from above) when including the caffe2 headers in my project. If I look at those headers (in conda caffe2 install dir) they seem to require version 300500.\n\nRunning the commands to check protobuf version from your FAQ shows I have 3.4.1 in this instance.\n\nIf I install protobuf 3.5.x from brew and compile my application I don't get the caffe2 errors as it now finds a newer version.\n\nI guess I'm missing something here but I can't get my application to compile with caffe2 headers and conda protobuf (3.4.1).</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-signature-reply\">________________________________\nFrom: Paul Jesse Hellemn &lt;notifications@github.com&gt;\nSent: Wednesday, June 6, 2018 12:15:46 AM\nTo: pytorch/pytorch\nCc: Luke Murray; Author\nSubject: Re: [pytorch/pytorch] MacOS conda caffe2 package incorrect protobuf versions. (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"329365856\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8158\" href=\"https://github.com/pytorch/pytorch/issues/8158\">#8158</a>)\n\n\nThe conda packages are built against protobuf. We chose protobuf 3.4.1 because it is fairly recent. The conda install of Caffe2 knows to install a compatible version of protobuf when it installs Caffe2. If you later change this version of protobuf to something else, then Caffe2 might not work anymore, because it is linking against a library that has different symbols. We will not build a separate Caffe2 conda package for every version of protobuf.\n\nWhat do you mean by \"try to compile a C++ application with Caffe2\" ? What is throwing that error? Compilation of Caffe2 or compilation of your C++ application? Is it compiling with cmake and rebuilding Caffe2?\n\nIt also looks like you have your brew directories before your conda directories on your PATH. This is a bad idea, and you should move the conda directories to be first.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub&lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"329365856\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8158\" href=\"https://github.com/pytorch/pytorch/issues/8158#issuecomment-394862858\">#8158 (comment)</a>&gt;, or mute the thread&lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AAJj0TL3qo1VytaySCHuGFiMyC4JmbSmks5t5vUCgaJpZM4Uabr7\">https://github.com/notifications/unsubscribe-auth/AAJj0TL3qo1VytaySCHuGFiMyC4JmbSmks5t5vUCgaJpZM4Uabr7</a>&gt;.</div>\n</div>", "body_text": "I am compiling my application. It includes the caffe2 headers. If I uninstall all protobuf versions except the one the conda caffe2 package installs (3.4.1) I get errors (from above) when including the caffe2 headers in my project. If I look at those headers (in conda caffe2 install dir) they seem to require version 300500.\n\nRunning the commands to check protobuf version from your FAQ shows I have 3.4.1 in this instance.\n\nIf I install protobuf 3.5.x from brew and compile my application I don't get the caffe2 errors as it now finds a newer version.\n\nI guess I'm missing something here but I can't get my application to compile with caffe2 headers and conda protobuf (3.4.1).\n\u2026\n________________________________\nFrom: Paul Jesse Hellemn <notifications@github.com>\nSent: Wednesday, June 6, 2018 12:15:46 AM\nTo: pytorch/pytorch\nCc: Luke Murray; Author\nSubject: Re: [pytorch/pytorch] MacOS conda caffe2 package incorrect protobuf versions. (#8158)\n\n\nThe conda packages are built against protobuf. We chose protobuf 3.4.1 because it is fairly recent. The conda install of Caffe2 knows to install a compatible version of protobuf when it installs Caffe2. If you later change this version of protobuf to something else, then Caffe2 might not work anymore, because it is linking against a library that has different symbols. We will not build a separate Caffe2 conda package for every version of protobuf.\n\nWhat do you mean by \"try to compile a C++ application with Caffe2\" ? What is throwing that error? Compilation of Caffe2 or compilation of your C++ application? Is it compiling with cmake and rebuilding Caffe2?\n\nIt also looks like you have your brew directories before your conda directories on your PATH. This is a bad idea, and you should move the conda directories to be first.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub<#8158 (comment)>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAJj0TL3qo1VytaySCHuGFiMyC4JmbSmks5t5vUCgaJpZM4Uabr7>.", "body": "I am compiling my application. It includes the caffe2 headers. If I uninstall all protobuf versions except the one the conda caffe2 package installs (3.4.1) I get errors (from above) when including the caffe2 headers in my project. If I look at those headers (in conda caffe2 install dir) they seem to require version 300500.\n\nRunning the commands to check protobuf version from your FAQ shows I have 3.4.1 in this instance.\n\nIf I install protobuf 3.5.x from brew and compile my application I don't get the caffe2 errors as it now finds a newer version.\n\nI guess I'm missing something here but I can't get my application to compile with caffe2 headers and conda protobuf (3.4.1).\n\n\n\n________________________________\nFrom: Paul Jesse Hellemn <notifications@github.com>\nSent: Wednesday, June 6, 2018 12:15:46 AM\nTo: pytorch/pytorch\nCc: Luke Murray; Author\nSubject: Re: [pytorch/pytorch] MacOS conda caffe2 package incorrect protobuf versions. (#8158)\n\n\nThe conda packages are built against protobuf. We chose protobuf 3.4.1 because it is fairly recent. The conda install of Caffe2 knows to install a compatible version of protobuf when it installs Caffe2. If you later change this version of protobuf to something else, then Caffe2 might not work anymore, because it is linking against a library that has different symbols. We will not build a separate Caffe2 conda package for every version of protobuf.\n\nWhat do you mean by \"try to compile a C++ application with Caffe2\" ? What is throwing that error? Compilation of Caffe2 or compilation of your C++ application? Is it compiling with cmake and rebuilding Caffe2?\n\nIt also looks like you have your brew directories before your conda directories on your PATH. This is a bad idea, and you should move the conda directories to be first.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub<https://github.com/pytorch/pytorch/issues/8158#issuecomment-394862858>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAJj0TL3qo1VytaySCHuGFiMyC4JmbSmks5t5vUCgaJpZM4Uabr7>.\n"}