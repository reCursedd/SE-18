{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/328820137", "html_url": "https://github.com/pytorch/pytorch/issues/2680#issuecomment-328820137", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2680", "id": 328820137, "node_id": "MDEyOklzc3VlQ29tbWVudDMyODgyMDEzNw==", "user": {"login": "elPistolero", "id": 701697, "node_id": "MDQ6VXNlcjcwMTY5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/701697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elPistolero", "html_url": "https://github.com/elPistolero", "followers_url": "https://api.github.com/users/elPistolero/followers", "following_url": "https://api.github.com/users/elPistolero/following{/other_user}", "gists_url": "https://api.github.com/users/elPistolero/gists{/gist_id}", "starred_url": "https://api.github.com/users/elPistolero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elPistolero/subscriptions", "organizations_url": "https://api.github.com/users/elPistolero/orgs", "repos_url": "https://api.github.com/users/elPistolero/repos", "events_url": "https://api.github.com/users/elPistolero/events{/privacy}", "received_events_url": "https://api.github.com/users/elPistolero/received_events", "type": "User", "site_admin": false}, "created_at": "2017-09-12T11:07:57Z", "updated_at": "2017-09-12T11:07:57Z", "author_association": "NONE", "body_html": "<p>Adding <code>mpi_cxx</code> to <code>main_libraries</code> <a href=\"https://github.com/pytorch/pytorch/blob/4fec5f658b65f8ffa15d2fc4da6566fa2f9cb2fb/setup.py#L421\">here</a> as <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20787943\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/t-vi\">@t-vi</a> suggested worked for me:</p>\n<div class=\"highlight highlight-source-python\"><pre>    main_libraries <span class=\"pl-k\">+=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>cudart<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>nvToolsExt<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>nvrtc<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>mpi_cxx<span class=\"pl-pds\">'</span></span>]</pre></div>\n<p>I had to call <code>python setup.py clean</code> first and then rebuild.</p>", "body_text": "Adding mpi_cxx to main_libraries here as @t-vi suggested worked for me:\n    main_libraries += ['cudart', 'nvToolsExt', 'nvrtc', 'cuda', 'mpi_cxx']\nI had to call python setup.py clean first and then rebuild.", "body": "Adding `mpi_cxx` to `main_libraries` [here](https://github.com/pytorch/pytorch/blob/4fec5f658b65f8ffa15d2fc4da6566fa2f9cb2fb/setup.py#L421) as @t-vi suggested worked for me:\r\n```python\r\n    main_libraries += ['cudart', 'nvToolsExt', 'nvrtc', 'cuda', 'mpi_cxx']\r\n```\r\n\r\nI had to call `python setup.py clean` first and then rebuild."}