{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4336", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4336/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4336/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4336/events", "html_url": "https://github.com/pytorch/pytorch/issues/4336", "id": 284313768, "node_id": "MDU6SXNzdWUyODQzMTM3Njg=", "number": 4336, "title": "Linking Error: ../libATen.so.1: undefined reference to functions from NNPACK and some other libs...", "user": {"login": "StatML", "id": 3596431, "node_id": "MDQ6VXNlcjM1OTY0MzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3596431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StatML", "html_url": "https://github.com/StatML", "followers_url": "https://api.github.com/users/StatML/followers", "following_url": "https://api.github.com/users/StatML/following{/other_user}", "gists_url": "https://api.github.com/users/StatML/gists{/gist_id}", "starred_url": "https://api.github.com/users/StatML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StatML/subscriptions", "organizations_url": "https://api.github.com/users/StatML/orgs", "repos_url": "https://api.github.com/users/StatML/repos", "events_url": "https://api.github.com/users/StatML/events{/privacy}", "received_events_url": "https://api.github.com/users/StatML/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-12-23T16:11:32Z", "updated_at": "2018-01-07T21:35:34Z", "closed_at": "2018-01-02T17:42:41Z", "author_association": "NONE", "body_html": "<p>Hi, when I build the CPU version from source, I met the following issue. I am using Python 3.5, Ubuntu 16.04. Does anyone know how to fix it? Thanks a lot!</p>\n<pre><code>&gt; [ 89%] Linking CXX executable atest\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n&gt; ../libATen.so.1: undefined reference to `pthreadpool_create'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_output'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n&gt; ../libATen.so.1: undefined reference to `nnp_initialize'\n&gt; collect2: error: ld returned 1 exit status\n&gt; src/ATen/test/CMakeFiles/atest.dir/build.make:96: recipe for target 'src/ATen/test/atest' failed\n&gt; make[2]: *** [src/ATen/test/atest] Error 1\n&gt; CMakeFiles/Makefile2:243: recipe for target 'src/ATen/test/CMakeFiles/atest.dir/all' failed\n&gt; make[1]: *** [src/ATen/test/CMakeFiles/atest.dir/all] Error 2\n&gt; make[1]: *** Waiting for unfinished jobs....\n&gt; [ 90%] Linking CXX executable broadcast_test\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n&gt; ../libATen.so.1: undefined reference to `pthreadpool_create'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_output'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n&gt; ../libATen.so.1: undefined reference to `nnp_initialize'\n&gt; collect2: error: ld returned 1 exit status\n&gt; src/ATen/test/CMakeFiles/broadcast_test.dir/build.make:96: recipe for target 'src/ATen/test/broadcast_test' failed\n&gt; make[2]: *** [src/ATen/test/broadcast_test] Error 1\n&gt; CMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/broadcast_test.dir/all' failed\n&gt; make[1]: *** [src/ATen/test/CMakeFiles/broadcast_test.dir/all] Error 2\n&gt; [ 90%] Linking CXX executable basic\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n&gt; ../libATen.so.1: undefined reference to `pthreadpool_create'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_output'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n&gt; ../libATen.so.1: undefined reference to `nnp_initialize'\n&gt; collect2: error: ld returned 1 exit status\n&gt; src/ATen/test/CMakeFiles/basic.dir/build.make:96: recipe for target 'src/ATen/test/basic' failed\n&gt; make[2]: *** [src/ATen/test/basic] Error 1\n&gt; CMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\n&gt; make[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\n&gt; [ 91%] Linking CXX executable native_test\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n&gt; ../libATen.so.1: undefined reference to `pthreadpool_create'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_output'\n&gt; ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n&gt; ../libATen.so.1: undefined reference to `nnp_initialize'\n&gt; collect2: error: ld returned 1 exit status\n&gt; src/ATen/test/CMakeFiles/native_test.dir/build.make:96: recipe for target 'src/ATen/test/native_test' failed\n&gt; make[2]: *** [src/ATen/test/native_test] Error 1\n&gt; CMakeFiles/Makefile2:280: recipe for target 'src/ATen/test/CMakeFiles/native_test.dir/all' failed\n&gt; make[1]: *** [src/ATen/test/CMakeFiles/native_test.dir/all] Error 2\n&gt; Makefile:127: recipe for target 'all' failed\n&gt; make: *** [all] Error 2\n</code></pre>", "body_text": "Hi, when I build the CPU version from source, I met the following issue. I am using Python 3.5, Ubuntu 16.04. Does anyone know how to fix it? Thanks a lot!\n> [ 89%] Linking CXX executable atest\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n> ../libATen.so.1: undefined reference to `nnp_initialize'\n> collect2: error: ld returned 1 exit status\n> src/ATen/test/CMakeFiles/atest.dir/build.make:96: recipe for target 'src/ATen/test/atest' failed\n> make[2]: *** [src/ATen/test/atest] Error 1\n> CMakeFiles/Makefile2:243: recipe for target 'src/ATen/test/CMakeFiles/atest.dir/all' failed\n> make[1]: *** [src/ATen/test/CMakeFiles/atest.dir/all] Error 2\n> make[1]: *** Waiting for unfinished jobs....\n> [ 90%] Linking CXX executable broadcast_test\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n> ../libATen.so.1: undefined reference to `nnp_initialize'\n> collect2: error: ld returned 1 exit status\n> src/ATen/test/CMakeFiles/broadcast_test.dir/build.make:96: recipe for target 'src/ATen/test/broadcast_test' failed\n> make[2]: *** [src/ATen/test/broadcast_test] Error 1\n> CMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/broadcast_test.dir/all' failed\n> make[1]: *** [src/ATen/test/CMakeFiles/broadcast_test.dir/all] Error 2\n> [ 90%] Linking CXX executable basic\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n> ../libATen.so.1: undefined reference to `nnp_initialize'\n> collect2: error: ld returned 1 exit status\n> src/ATen/test/CMakeFiles/basic.dir/build.make:96: recipe for target 'src/ATen/test/basic' failed\n> make[2]: *** [src/ATen/test/basic] Error 1\n> CMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\n> make[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\n> [ 91%] Linking CXX executable native_test\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\n> ../libATen.so.1: undefined reference to `nnp_initialize'\n> collect2: error: ld returned 1 exit status\n> src/ATen/test/CMakeFiles/native_test.dir/build.make:96: recipe for target 'src/ATen/test/native_test' failed\n> make[2]: *** [src/ATen/test/native_test] Error 1\n> CMakeFiles/Makefile2:280: recipe for target 'src/ATen/test/CMakeFiles/native_test.dir/all' failed\n> make[1]: *** [src/ATen/test/CMakeFiles/native_test.dir/all] Error 2\n> Makefile:127: recipe for target 'all' failed\n> make: *** [all] Error 2", "body": "Hi, when I build the CPU version from source, I met the following issue. I am using Python 3.5, Ubuntu 16.04. Does anyone know how to fix it? Thanks a lot!\r\n\r\n```\r\n> [ 89%] Linking CXX executable atest\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n> ../libATen.so.1: undefined reference to `nnp_initialize'\r\n> collect2: error: ld returned 1 exit status\r\n> src/ATen/test/CMakeFiles/atest.dir/build.make:96: recipe for target 'src/ATen/test/atest' failed\r\n> make[2]: *** [src/ATen/test/atest] Error 1\r\n> CMakeFiles/Makefile2:243: recipe for target 'src/ATen/test/CMakeFiles/atest.dir/all' failed\r\n> make[1]: *** [src/ATen/test/CMakeFiles/atest.dir/all] Error 2\r\n> make[1]: *** Waiting for unfinished jobs....\r\n> [ 90%] Linking CXX executable broadcast_test\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n> ../libATen.so.1: undefined reference to `nnp_initialize'\r\n> collect2: error: ld returned 1 exit status\r\n> src/ATen/test/CMakeFiles/broadcast_test.dir/build.make:96: recipe for target 'src/ATen/test/broadcast_test' failed\r\n> make[2]: *** [src/ATen/test/broadcast_test] Error 1\r\n> CMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/broadcast_test.dir/all' failed\r\n> make[1]: *** [src/ATen/test/CMakeFiles/broadcast_test.dir/all] Error 2\r\n> [ 90%] Linking CXX executable basic\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n> ../libATen.so.1: undefined reference to `nnp_initialize'\r\n> collect2: error: ld returned 1 exit status\r\n> src/ATen/test/CMakeFiles/basic.dir/build.make:96: recipe for target 'src/ATen/test/basic' failed\r\n> make[2]: *** [src/ATen/test/basic] Error 1\r\n> CMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\r\n> make[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\r\n> [ 91%] Linking CXX executable native_test\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n> ../libATen.so.1: undefined reference to `pthreadpool_create'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n> ../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n> ../libATen.so.1: undefined reference to `nnp_initialize'\r\n> collect2: error: ld returned 1 exit status\r\n> src/ATen/test/CMakeFiles/native_test.dir/build.make:96: recipe for target 'src/ATen/test/native_test' failed\r\n> make[2]: *** [src/ATen/test/native_test] Error 1\r\n> CMakeFiles/Makefile2:280: recipe for target 'src/ATen/test/CMakeFiles/native_test.dir/all' failed\r\n> make[1]: *** [src/ATen/test/CMakeFiles/native_test.dir/all] Error 2\r\n> Makefile:127: recipe for target 'all' failed\r\n> make: *** [all] Error 2\r\n```"}