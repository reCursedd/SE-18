{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/277347956", "html_url": "https://github.com/pytorch/pytorch/issues/683#issuecomment-277347956", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/683", "id": 277347956, "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzM0Nzk1Ng==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-03T20:02:47Z", "updated_at": "2017-02-03T20:02:47Z", "author_association": "MEMBER", "body_html": "<p>I don't think we really need to add any special support for it. Is the generation process so expensive that you have to offload the work to other processes? Why do you want your iterators to never end? Don't you want to mark the end of an epoch anyhow? It won't hurt you to restart the loop from time to time. Also, both of your issues can be easily solved:</p>\n<ol>\n<li>Using <code>2**64</code> as length should be pretty much the same as infinity. Assuming you can process even millions of samples per second it will be enough to keep it running for (584\u00a0942) years.</li>\n<li>You can use the index to reset the generator seed, or do it once based on <code>os.getpid()</code>.</li>\n</ol>\n<p>I'm not sure what kind of additional argument you'd like to add to the <code>DataLoader</code>. Can you elaborate on that?</p>", "body_text": "I don't think we really need to add any special support for it. Is the generation process so expensive that you have to offload the work to other processes? Why do you want your iterators to never end? Don't you want to mark the end of an epoch anyhow? It won't hurt you to restart the loop from time to time. Also, both of your issues can be easily solved:\n\nUsing 2**64 as length should be pretty much the same as infinity. Assuming you can process even millions of samples per second it will be enough to keep it running for (584\u00a0942) years.\nYou can use the index to reset the generator seed, or do it once based on os.getpid().\n\nI'm not sure what kind of additional argument you'd like to add to the DataLoader. Can you elaborate on that?", "body": "I don't think we really need to add any special support for it. Is the generation process so expensive that you have to offload the work to other processes? Why do you want your iterators to never end? Don't you want to mark the end of an epoch anyhow? It won't hurt you to restart the loop from time to time. Also, both of your issues can be easily solved:\r\n\r\n1. Using `2**64` as length should be pretty much the same as infinity. Assuming you can process even millions of samples per second it will be enough to keep it running for (584\u00a0942) years.\r\n2. You can use the index to reset the generator seed, or do it once based on `os.getpid()`.\r\n\r\nI'm not sure what kind of additional argument you'd like to add to the `DataLoader`. Can you elaborate on that?"}