{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/414434620", "html_url": "https://github.com/pytorch/pytorch/issues/10681#issuecomment-414434620", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10681", "id": 414434620, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNDQzNDYyMA==", "user": {"login": "liren2515", "id": 23461830, "node_id": "MDQ6VXNlcjIzNDYxODMw", "avatar_url": "https://avatars1.githubusercontent.com/u/23461830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liren2515", "html_url": "https://github.com/liren2515", "followers_url": "https://api.github.com/users/liren2515/followers", "following_url": "https://api.github.com/users/liren2515/following{/other_user}", "gists_url": "https://api.github.com/users/liren2515/gists{/gist_id}", "starred_url": "https://api.github.com/users/liren2515/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liren2515/subscriptions", "organizations_url": "https://api.github.com/users/liren2515/orgs", "repos_url": "https://api.github.com/users/liren2515/repos", "events_url": "https://api.github.com/users/liren2515/events{/privacy}", "received_events_url": "https://api.github.com/users/liren2515/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-20T19:29:22Z", "updated_at": "2018-08-20T19:29:22Z", "author_association": "NONE", "body_html": "<p>If I do<br>\n<code>export NCCL_P2P_DISABLE=1</code><br>\nthe code can run without hangs. Then I thought it would work, and I ran another script (which is really what I need to run instead of this toy script). But after some epochs, it hung again. I killed that process, and tried to re-ran that script, it hung from the beginning, and the utility status of all GPUs is 0%.</p>", "body_text": "If I do\nexport NCCL_P2P_DISABLE=1\nthe code can run without hangs. Then I thought it would work, and I ran another script (which is really what I need to run instead of this toy script). But after some epochs, it hung again. I killed that process, and tried to re-ran that script, it hung from the beginning, and the utility status of all GPUs is 0%.", "body": "If I do \r\n`export NCCL_P2P_DISABLE=1`\r\nthe code can run without hangs. Then I thought it would work, and I ran another script (which is really what I need to run instead of this toy script). But after some epochs, it hung again. I killed that process, and tried to re-ran that script, it hung from the beginning, and the utility status of all GPUs is 0%."}