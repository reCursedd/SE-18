{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/158324859", "pull_request_review_id": 85118724, "id": 158324859, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1ODMyNDg1OQ==", "diff_hunk": "@@ -261,14 +262,15 @@ def __init__(self, inner, nderivs=0):\n \n     def forward(self, *args):\n         global _tracing\n-        in_vars = _flatten(args)\n+        in_vars, in_desc = _flatten(args)\n         # NOTE: use full state, because we need it for BatchNorm export\n         # This differs from the compiler path, which doesn't support it at the moment.\n         module_state = list(self.state_dict(keep_vars=True).values())\n-        trace = torch._C._tracer_enter(in_vars + module_state, self.nderivs)\n+        trace, all_trace_inputs = torch._C._tracer_enter(in_vars + module_state, self.nderivs)\n         _tracing = True\n-        out = self.inner(*args)\n-        out_vars = _flatten(out)\n+        trace_inputs = _unflatten(all_trace_inputs[:len(in_vars)], in_desc)", "path": "torch/jit/__init__.py", "position": 42, "original_position": 22, "commit_id": "666e0d9ca3b586282da312a93a87bfbb4fa156d4", "original_commit_id": "7a590df8217e5f299a8b8c4bb3975c7765c68324", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "The reason why I'm not updating the module parameters is not only because there's no easy way to do this, but also because it's not needed - the only situation when we have to overwrite inputs is when they are repeated, but I think it's reasonable to assume that they are unique (they are in this case)", "created_at": "2017-12-21T16:46:02Z", "updated_at": "2018-11-23T15:37:36Z", "html_url": "https://github.com/pytorch/pytorch/pull/4297#discussion_r158324859", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4297", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/158324859"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4297#discussion_r158324859"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4297"}}, "body_html": "<p>The reason why I'm not updating the module parameters is not only because there's no easy way to do this, but also because it's not needed - the only situation when we have to overwrite inputs is when they are repeated, but I think it's reasonable to assume that they are unique (they are in this case)</p>", "body_text": "The reason why I'm not updating the module parameters is not only because there's no easy way to do this, but also because it's not needed - the only situation when we have to overwrite inputs is when they are repeated, but I think it's reasonable to assume that they are unique (they are in this case)", "in_reply_to_id": 158317622}