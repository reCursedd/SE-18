{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/425602603", "html_url": "https://github.com/pytorch/pytorch/issues/11326#issuecomment-425602603", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11326", "id": 425602603, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTYwMjYwMw==", "user": {"login": "gbaptista", "id": 29520, "node_id": "MDQ6VXNlcjI5NTIw", "avatar_url": "https://avatars3.githubusercontent.com/u/29520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaptista", "html_url": "https://github.com/gbaptista", "followers_url": "https://api.github.com/users/gbaptista/followers", "following_url": "https://api.github.com/users/gbaptista/following{/other_user}", "gists_url": "https://api.github.com/users/gbaptista/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaptista/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaptista/subscriptions", "organizations_url": "https://api.github.com/users/gbaptista/orgs", "repos_url": "https://api.github.com/users/gbaptista/repos", "events_url": "https://api.github.com/users/gbaptista/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaptista/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-29T01:00:10Z", "updated_at": "2018-09-29T01:00:10Z", "author_association": "NONE", "body_html": "<p>After investigating several commits, I was able to identify the exact moment the bug started:</p>\n<div class=\"highlight highlight-source-shell\"><pre>git clone --recursive https://github.com/pytorch/pytorch\n<span class=\"pl-c1\">cd</span> pytorch\n\ngit reset --hard efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\ngit submodule update --init\n\npython setup.py install</pre></div>\n<p>My checks:</p>\n<pre><code>fix the deprecate argument in bce with logits (#9162):\nworks fine: 2018-07-07 02:21 PM &gt; 4ad6e5355725644f81af138c496de81804d04281\n\nN-dimensional empty tensors: indexing, factories, reductions. (#9209):\nworks fine: 2018-07-09 11:25 PM &gt; f92edf7ef465920e75e86a7b3e7044d49b99f9db\n\nGrad clip for parameters on different devices (#9302):\nworks fine: 2018-07-10 11:49 AM &gt; 89c2b50a15eb2e69ad98d4592a220b1c609f5f35\n\nFix CUDA 8 build for Windows (#9300):\nworks fine: 2018-07-10 2:14 PM &gt; d86775764909b6524b7b7c31a06344b877161dac\n\n------------------------------------------------------------\n\nUnify aten_dispatch and aten_schema into a single:\nerror: 2018-07-10 2:20 PM &gt; efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\n\nVectorize sigmoid (#8612):\nerror: 2018-07-10 4:30 PM &gt; e9e47ce8f1860270281cffa2adc07b139fab652e\n\nFix missing accept file changes:\nerror: 2018-07-10 5:26 PM &gt; 0a679105ff93b0a6586258f521c3542e9e676df9\n\nRemove unused feature: num PS tuning:\nerror: 2018-07-11 10:42 PM &gt; 7f38ea45555a27659e67a77bcc8d3b7c909ba7e8\n\nadd depthwise conv support for mkldnn (#8782):\nerror: 2018-07-15 9:38 PM &gt; e7f49d1444330cc6704c3653a6e7ab0f5f53eb6a\n\nfix lint:\nerror: 2018-07-25 9:28 PM &gt; a24163a95edb193ff7b06e98cd69bf7cfd4c0d2f\n</code></pre>\n<p>So, the bug was introduced at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"335627408\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/8885\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/8885/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/8885\">#8885</a>, commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\"><tt>efefd1d</tt></a>.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=370202\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zdevito\">@zdevito</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4685384\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jamesr66a\">@jamesr66a</a> Any idea how these changes can lead to this error? Any suggestions on where to start investigating to try to help with the solution?</p>", "body_text": "After investigating several commits, I was able to identify the exact moment the bug started:\ngit clone --recursive https://github.com/pytorch/pytorch\ncd pytorch\n\ngit reset --hard efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\ngit submodule update --init\n\npython setup.py install\nMy checks:\nfix the deprecate argument in bce with logits (#9162):\nworks fine: 2018-07-07 02:21 PM > 4ad6e5355725644f81af138c496de81804d04281\n\nN-dimensional empty tensors: indexing, factories, reductions. (#9209):\nworks fine: 2018-07-09 11:25 PM > f92edf7ef465920e75e86a7b3e7044d49b99f9db\n\nGrad clip for parameters on different devices (#9302):\nworks fine: 2018-07-10 11:49 AM > 89c2b50a15eb2e69ad98d4592a220b1c609f5f35\n\nFix CUDA 8 build for Windows (#9300):\nworks fine: 2018-07-10 2:14 PM > d86775764909b6524b7b7c31a06344b877161dac\n\n------------------------------------------------------------\n\nUnify aten_dispatch and aten_schema into a single:\nerror: 2018-07-10 2:20 PM > efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\n\nVectorize sigmoid (#8612):\nerror: 2018-07-10 4:30 PM > e9e47ce8f1860270281cffa2adc07b139fab652e\n\nFix missing accept file changes:\nerror: 2018-07-10 5:26 PM > 0a679105ff93b0a6586258f521c3542e9e676df9\n\nRemove unused feature: num PS tuning:\nerror: 2018-07-11 10:42 PM > 7f38ea45555a27659e67a77bcc8d3b7c909ba7e8\n\nadd depthwise conv support for mkldnn (#8782):\nerror: 2018-07-15 9:38 PM > e7f49d1444330cc6704c3653a6e7ab0f5f53eb6a\n\nfix lint:\nerror: 2018-07-25 9:28 PM > a24163a95edb193ff7b06e98cd69bf7cfd4c0d2f\n\nSo, the bug was introduced at #8885, commit efefd1d.\n@zdevito @ezyang @apaszke @jamesr66a Any idea how these changes can lead to this error? Any suggestions on where to start investigating to try to help with the solution?", "body": "After investigating several commits, I was able to identify the exact moment the bug started:\r\n```bash\r\ngit clone --recursive https://github.com/pytorch/pytorch\r\ncd pytorch\r\n\r\ngit reset --hard efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\r\ngit submodule update --init\r\n\r\npython setup.py install\r\n```\r\n\r\nMy checks:\r\n```\r\nfix the deprecate argument in bce with logits (#9162):\r\nworks fine: 2018-07-07 02:21 PM > 4ad6e5355725644f81af138c496de81804d04281\r\n\r\nN-dimensional empty tensors: indexing, factories, reductions. (#9209):\r\nworks fine: 2018-07-09 11:25 PM > f92edf7ef465920e75e86a7b3e7044d49b99f9db\r\n\r\nGrad clip for parameters on different devices (#9302):\r\nworks fine: 2018-07-10 11:49 AM > 89c2b50a15eb2e69ad98d4592a220b1c609f5f35\r\n\r\nFix CUDA 8 build for Windows (#9300):\r\nworks fine: 2018-07-10 2:14 PM > d86775764909b6524b7b7c31a06344b877161dac\r\n\r\n------------------------------------------------------------\r\n\r\nUnify aten_dispatch and aten_schema into a single:\r\nerror: 2018-07-10 2:20 PM > efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4\r\n\r\nVectorize sigmoid (#8612):\r\nerror: 2018-07-10 4:30 PM > e9e47ce8f1860270281cffa2adc07b139fab652e\r\n\r\nFix missing accept file changes:\r\nerror: 2018-07-10 5:26 PM > 0a679105ff93b0a6586258f521c3542e9e676df9\r\n\r\nRemove unused feature: num PS tuning:\r\nerror: 2018-07-11 10:42 PM > 7f38ea45555a27659e67a77bcc8d3b7c909ba7e8\r\n\r\nadd depthwise conv support for mkldnn (#8782):\r\nerror: 2018-07-15 9:38 PM > e7f49d1444330cc6704c3653a6e7ab0f5f53eb6a\r\n\r\nfix lint:\r\nerror: 2018-07-25 9:28 PM > a24163a95edb193ff7b06e98cd69bf7cfd4c0d2f\r\n```\r\n\r\nSo, the bug was introduced at https://github.com/pytorch/pytorch/pull/8885, commit efefd1d7cf3736cfb5c494a5eb3b5b22ab949dc4.\r\n\r\n@zdevito @ezyang @apaszke @jamesr66a Any idea how these changes can lead to this error? Any suggestions on where to start investigating to try to help with the solution?"}