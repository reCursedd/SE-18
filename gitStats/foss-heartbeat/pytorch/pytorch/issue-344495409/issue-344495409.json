{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9820", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9820/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9820/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9820/events", "html_url": "https://github.com/pytorch/pytorch/issues/9820", "id": 344495409, "node_id": "MDU6SXNzdWUzNDQ0OTU0MDk=", "number": 9820, "title": "Unable to compile with MAGMA support on Arch Linux", "user": {"login": "HenryJia", "id": 6250721, "node_id": "MDQ6VXNlcjYyNTA3MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6250721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HenryJia", "html_url": "https://github.com/HenryJia", "followers_url": "https://api.github.com/users/HenryJia/followers", "following_url": "https://api.github.com/users/HenryJia/following{/other_user}", "gists_url": "https://api.github.com/users/HenryJia/gists{/gist_id}", "starred_url": "https://api.github.com/users/HenryJia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HenryJia/subscriptions", "organizations_url": "https://api.github.com/users/HenryJia/orgs", "repos_url": "https://api.github.com/users/HenryJia/repos", "events_url": "https://api.github.com/users/HenryJia/events{/privacy}", "received_events_url": "https://api.github.com/users/HenryJia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-25T15:31:50Z", "updated_at": "2018-07-25T15:34:46Z", "closed_at": "2018-07-25T15:34:46Z", "author_association": "NONE", "body_html": "<p>Hi<br>\nStruggling to compile with magma support, I'm using this build script</p>\n<pre><code>cd pytorch\n\npython2 setup.py clean\npython setup.py clean\n\nCFLAGS=\"${CFLAGS/-fno-plt/}\" \\\nCXXFLAGS=\"${CXXFLAGS/-fno-plt/}\" \\\nCC=gcc-7 \\\nCXX=g++-7 \\\nWITH_CUDA=1 \\\nCUDA_HOME=/opt/cuda \\\nWITH_CUDNN=1 \\\nCUDNN_LIB_DIR=/opt/cuda/lib64 \\\nCUDNN_INCLUDE_DIR=/opt/cuda/include \\\nMAGMA_HOME=/opt/magma\nTORCH_NVCC_FLAGS=\"-D__CUDA_NO_HALF_OPERATORS__\" \\\npython setup.py build\n\n</code></pre>\n<p>ldconfig -p also gives</p>\n<pre><code>ldconfig -p | grep -i 'magma'\n\tlibmagma_sparse.so (libc6,x86-64) =&gt; /opt/magma/lib/libmagma_sparse.so\n\tlibmagma.so (libc6,x86-64) =&gt; /opt/magma/lib/libmagma.so\n</code></pre>\n<p>Currently the build script gives</p>\n<pre><code>-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Found OpenMP: TRUE (found version \"4.5\")  \n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n</code></pre>\n<p>Any suggestions?</p>", "body_text": "Hi\nStruggling to compile with magma support, I'm using this build script\ncd pytorch\n\npython2 setup.py clean\npython setup.py clean\n\nCFLAGS=\"${CFLAGS/-fno-plt/}\" \\\nCXXFLAGS=\"${CXXFLAGS/-fno-plt/}\" \\\nCC=gcc-7 \\\nCXX=g++-7 \\\nWITH_CUDA=1 \\\nCUDA_HOME=/opt/cuda \\\nWITH_CUDNN=1 \\\nCUDNN_LIB_DIR=/opt/cuda/lib64 \\\nCUDNN_INCLUDE_DIR=/opt/cuda/include \\\nMAGMA_HOME=/opt/magma\nTORCH_NVCC_FLAGS=\"-D__CUDA_NO_HALF_OPERATORS__\" \\\npython setup.py build\n\n\nldconfig -p also gives\nldconfig -p | grep -i 'magma'\n\tlibmagma_sparse.so (libc6,x86-64) => /opt/magma/lib/libmagma_sparse.so\n\tlibmagma.so (libc6,x86-64) => /opt/magma/lib/libmagma.so\n\nCurrently the build script gives\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \n-- Found OpenMP: TRUE (found version \"4.5\")  \n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n\nAny suggestions?", "body": "Hi\r\nStruggling to compile with magma support, I'm using this build script\r\n\r\n```\r\ncd pytorch\r\n\r\npython2 setup.py clean\r\npython setup.py clean\r\n\r\nCFLAGS=\"${CFLAGS/-fno-plt/}\" \\\r\nCXXFLAGS=\"${CXXFLAGS/-fno-plt/}\" \\\r\nCC=gcc-7 \\\r\nCXX=g++-7 \\\r\nWITH_CUDA=1 \\\r\nCUDA_HOME=/opt/cuda \\\r\nWITH_CUDNN=1 \\\r\nCUDNN_LIB_DIR=/opt/cuda/lib64 \\\r\nCUDNN_INCLUDE_DIR=/opt/cuda/include \\\r\nMAGMA_HOME=/opt/magma\r\nTORCH_NVCC_FLAGS=\"-D__CUDA_NO_HALF_OPERATORS__\" \\\r\npython setup.py build\r\n\r\n```\r\nldconfig -p also gives\r\n```\r\nldconfig -p | grep -i 'magma'\r\n\tlibmagma_sparse.so (libc6,x86-64) => /opt/magma/lib/libmagma_sparse.so\r\n\tlibmagma.so (libc6,x86-64) => /opt/magma/lib/libmagma.so\r\n```\r\n\r\nCurrently the build script gives\r\n```\r\n-- Found OpenMP_C: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP_CXX: -fopenmp (found version \"4.5\") \r\n-- Found OpenMP: TRUE (found version \"4.5\")  \r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n```\r\n\r\n\r\nAny suggestions?"}