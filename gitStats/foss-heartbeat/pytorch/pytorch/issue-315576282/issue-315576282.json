{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6712", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6712/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6712/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6712/events", "html_url": "https://github.com/pytorch/pytorch/issues/6712", "id": 315576282, "node_id": "MDU6SXNzdWUzMTU1NzYyODI=", "number": 6712, "title": "[CAFFE2] Are all the submodules strictly required to compile Caffe2?", "user": {"login": "yxchng", "id": 10518587, "node_id": "MDQ6VXNlcjEwNTE4NTg3", "avatar_url": "https://avatars3.githubusercontent.com/u/10518587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yxchng", "html_url": "https://github.com/yxchng", "followers_url": "https://api.github.com/users/yxchng/followers", "following_url": "https://api.github.com/users/yxchng/following{/other_user}", "gists_url": "https://api.github.com/users/yxchng/gists{/gist_id}", "starred_url": "https://api.github.com/users/yxchng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yxchng/subscriptions", "organizations_url": "https://api.github.com/users/yxchng/orgs", "repos_url": "https://api.github.com/users/yxchng/repos", "events_url": "https://api.github.com/users/yxchng/events{/privacy}", "received_events_url": "https://api.github.com/users/yxchng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-04-18T17:39:07Z", "updated_at": "2018-04-27T17:07:48Z", "closed_at": "2018-04-25T17:29:15Z", "author_association": "NONE", "body_html": "<p>It seems to be that they are because Caffe2 will complain that they are not present.</p>\n<p>For example,</p>\n<pre><code>CMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\n  The source directory\n\n    /home/yxchng/pytorch/third_party/NNPACK\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\n  been created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n</code></pre>\n<p>However, I think that most of the packages should be optional (wonder why it is included as submodule instead of being optional), for example some are related to mobile some distributed training. How can I make Caffe2 not complain when they are not present?</p>", "body_text": "It seems to be that they are because Caffe2 will complain that they are not present.\nFor example,\nCMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\n  The source directory\n\n    /home/yxchng/pytorch/third_party/NNPACK\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\n  been created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:74 (include)\n  CMakeLists.txt:104 (include)\n\n\nHowever, I think that most of the packages should be optional (wonder why it is included as submodule instead of being optional), for example some are related to mobile some distributed training. How can I make Caffe2 not complain when they are not present?", "body": "It seems to be that they are because Caffe2 will complain that they are not present. \r\n\r\nFor example,\r\n\r\n```\r\nCMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\r\n  The source directory\r\n\r\n    /home/yxchng/pytorch/third_party/NNPACK\r\n\r\n  does not contain a CMakeLists.txt file.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:74 (include)\r\n  CMakeLists.txt:104 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\r\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\r\n  created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:74 (include)\r\n  CMakeLists.txt:104 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\r\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\r\n  been created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:74 (include)\r\n  CMakeLists.txt:104 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\r\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\r\n  created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:74 (include)\r\n  CMakeLists.txt:104 (include)\r\n\r\n```\r\n\r\nHowever, I think that most of the packages should be optional (wonder why it is included as submodule instead of being optional), for example some are related to mobile some distributed training. How can I make Caffe2 not complain when they are not present?"}