{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5397", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5397/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5397/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5397/events", "html_url": "https://github.com/pytorch/pytorch/issues/5397", "id": 299944191, "node_id": "MDU6SXNzdWUyOTk5NDQxOTE=", "number": 5397, "title": "Dockerfile - Error on Build", "user": {"login": "sampathweb", "id": 1437573, "node_id": "MDQ6VXNlcjE0Mzc1NzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1437573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampathweb", "html_url": "https://github.com/sampathweb", "followers_url": "https://api.github.com/users/sampathweb/followers", "following_url": "https://api.github.com/users/sampathweb/following{/other_user}", "gists_url": "https://api.github.com/users/sampathweb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampathweb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampathweb/subscriptions", "organizations_url": "https://api.github.com/users/sampathweb/orgs", "repos_url": "https://api.github.com/users/sampathweb/repos", "events_url": "https://api.github.com/users/sampathweb/events{/privacy}", "received_events_url": "https://api.github.com/users/sampathweb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-02-24T14:18:31Z", "updated_at": "2018-11-07T15:57:54Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Docker Version: Docker version 17.06.2-ce, build cec0b72<br>\nHost: Ubuntu 16.04</p>\n<p>I am trying to run the Docker container - <code>docker build . --file Dockerfile --tag dl:pytorch</code></p>\n<p>I have the following Errors:</p>\n<ol>\n<li>Looks like Conda no longer add conda executable to the env it creates.</li>\n</ol>\n<pre><code>ENV PATH /opt/conda/envs/pytorch-py$PYTHON_VERSION/bin:$PATH\nRUN conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90\n</code></pre>\n<p>Had to modify the second line there to -<br>\n<code>RUN /opt/conda/bin/conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90</code></p>\n<p>May be its better to do <code>ln -s /opt/conda/bin/conda /usr/bin/conda</code> to have it in path?</p>\n<ol start=\"2\">\n<li>I get an error on <code>RUN git submodule update --init</code> - saying it's nota  git Repo.<br>\nNot sure how to fix it.  May be something has changed since the recent upgrade to Pytorch 0.3.1?</li>\n</ol>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/1437573/36631318-983264f8-192a-11e8-8349-9906363f3a52.png\"><img width=\"604\" alt=\"screen shot 2018-02-24 at 6 12 43 am\" src=\"https://user-images.githubusercontent.com/1437573/36631318-983264f8-192a-11e8-8349-9906363f3a52.png\" style=\"max-width:100%;\"></a></p>", "body_text": "Docker Version: Docker version 17.06.2-ce, build cec0b72\nHost: Ubuntu 16.04\nI am trying to run the Docker container - docker build . --file Dockerfile --tag dl:pytorch\nI have the following Errors:\n\nLooks like Conda no longer add conda executable to the env it creates.\n\nENV PATH /opt/conda/envs/pytorch-py$PYTHON_VERSION/bin:$PATH\nRUN conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90\n\nHad to modify the second line there to -\nRUN /opt/conda/bin/conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90\nMay be its better to do ln -s /opt/conda/bin/conda /usr/bin/conda to have it in path?\n\nI get an error on RUN git submodule update --init - saying it's nota  git Repo.\nNot sure how to fix it.  May be something has changed since the recent upgrade to Pytorch 0.3.1?", "body": "Docker Version: Docker version 17.06.2-ce, build cec0b72\r\nHost: Ubuntu 16.04\r\n\r\nI am trying to run the Docker container - `docker build . --file Dockerfile --tag dl:pytorch`\r\n\r\nI have the following Errors:\r\n\r\n1. Looks like Conda no longer add conda executable to the env it creates.  \r\n```\r\nENV PATH /opt/conda/envs/pytorch-py$PYTHON_VERSION/bin:$PATH\r\nRUN conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90\r\n```\r\nHad to modify the second line there to -\r\n`RUN /opt/conda/bin/conda install --name pytorch-py$PYTHON_VERSION -c soumith magma-cuda90`\r\n\r\nMay be its better to do `ln -s /opt/conda/bin/conda /usr/bin/conda` to have it in path?\r\n\r\n2. I get an error on `RUN git submodule update --init` - saying it's nota  git Repo.\r\nNot sure how to fix it.  May be something has changed since the recent upgrade to Pytorch 0.3.1?\r\n\r\n<img width=\"604\" alt=\"screen shot 2018-02-24 at 6 12 43 am\" src=\"https://user-images.githubusercontent.com/1437573/36631318-983264f8-192a-11e8-8349-9906363f3a52.png\">\r\n"}