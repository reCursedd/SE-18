{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/401180043", "html_url": "https://github.com/pytorch/pytorch/pull/8997#issuecomment-401180043", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8997", "id": 401180043, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE4MDA0Mw==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-28T21:32:30Z", "updated_at": "2018-06-28T21:32:30Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Test is real:</p>\n<pre><code>20:44:57 ======================================================================\n20:44:57 ERROR: test_gpu (__main__.TestFFI)\n20:44:57 ----------------------------------------------------------------------\n20:44:57 Traceback (most recent call last):\n20:44:57   File \"test_utils.py\", line 423, in test_gpu\n20:44:57     verbose=False,\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 189, in build\n20:44:57     _build_extension(ffi, cffi_wrapper_name, target_dir, verbose)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 111, in _build_extension\n20:44:57     outfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/api.py\", line 697, in compile\n20:44:57     compiler_verbose=verbose, debug=debug, **kwds)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/recompiler.py\", line 1520, in recompile\n20:44:57     compiler_verbose, debug)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 22, in compile\n20:44:57     outputfilename = _build(tmpdir, ext, compiler_verbose, debug)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 58, in _build\n20:44:57     raise VerificationError('%s: %s' % (e.__class__.__name__, e))\n20:44:57 VerificationError: CompileError: command 'gcc' failed with exit status 1\n</code></pre>\n<p>Unfortunately you need to look up the logs to see what actually happened:</p>\n<pre><code>20:44:56 test_gpu (__main__.TestFFI) ... In file included from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCStream.h:5:0,\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCCachingAllocator.h:9,\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THC.h:7,\n20:44:56                  from _gpulib.c:493:\n20:44:56 /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/ATen/CUDAStream.h:3:19: fatal error: cstdint: No such file or directory\n20:44:56 compilation terminated.\n20:44:56 ERROR\n</code></pre>\n<p>You're not allowed to include C++ headers from .h headers in THC.</p>", "body_text": "Test is real:\n20:44:57 ======================================================================\n20:44:57 ERROR: test_gpu (__main__.TestFFI)\n20:44:57 ----------------------------------------------------------------------\n20:44:57 Traceback (most recent call last):\n20:44:57   File \"test_utils.py\", line 423, in test_gpu\n20:44:57     verbose=False,\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 189, in build\n20:44:57     _build_extension(ffi, cffi_wrapper_name, target_dir, verbose)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 111, in _build_extension\n20:44:57     outfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/api.py\", line 697, in compile\n20:44:57     compiler_verbose=verbose, debug=debug, **kwds)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/recompiler.py\", line 1520, in recompile\n20:44:57     compiler_verbose, debug)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 22, in compile\n20:44:57     outputfilename = _build(tmpdir, ext, compiler_verbose, debug)\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 58, in _build\n20:44:57     raise VerificationError('%s: %s' % (e.__class__.__name__, e))\n20:44:57 VerificationError: CompileError: command 'gcc' failed with exit status 1\n\nUnfortunately you need to look up the logs to see what actually happened:\n20:44:56 test_gpu (__main__.TestFFI) ... In file included from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCStream.h:5:0,\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCCachingAllocator.h:9,\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THC.h:7,\n20:44:56                  from _gpulib.c:493:\n20:44:56 /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/ATen/CUDAStream.h:3:19: fatal error: cstdint: No such file or directory\n20:44:56 compilation terminated.\n20:44:56 ERROR\n\nYou're not allowed to include C++ headers from .h headers in THC.", "body": "Test is real:\r\n\r\n```\r\n20:44:57 ======================================================================\r\n20:44:57 ERROR: test_gpu (__main__.TestFFI)\r\n20:44:57 ----------------------------------------------------------------------\r\n20:44:57 Traceback (most recent call last):\r\n20:44:57   File \"test_utils.py\", line 423, in test_gpu\r\n20:44:57     verbose=False,\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 189, in build\r\n20:44:57     _build_extension(ffi, cffi_wrapper_name, target_dir, verbose)\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 111, in _build_extension\r\n20:44:57     outfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/api.py\", line 697, in compile\r\n20:44:57     compiler_verbose=verbose, debug=debug, **kwds)\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/recompiler.py\", line 1520, in recompile\r\n20:44:57     compiler_verbose, debug)\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 22, in compile\r\n20:44:57     outputfilename = _build(tmpdir, ext, compiler_verbose, debug)\r\n20:44:57   File \"/opt/conda/lib/python2.7/site-packages/cffi/ffiplatform.py\", line 58, in _build\r\n20:44:57     raise VerificationError('%s: %s' % (e.__class__.__name__, e))\r\n20:44:57 VerificationError: CompileError: command 'gcc' failed with exit status 1\r\n```\r\n\r\nUnfortunately you need to look up the logs to see what actually happened:\r\n\r\n```\r\n20:44:56 test_gpu (__main__.TestFFI) ... In file included from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCStream.h:5:0,\r\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THCCachingAllocator.h:9,\r\n20:44:56                  from /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/THC/THC.h:7,\r\n20:44:56                  from _gpulib.c:493:\r\n20:44:56 /opt/conda/lib/python2.7/site-packages/torch/utils/ffi/../../lib/include/ATen/CUDAStream.h:3:19: fatal error: cstdint: No such file or directory\r\n20:44:56 compilation terminated.\r\n20:44:56 ERROR\r\n```\r\n\r\nYou're not allowed to include C++ headers from .h headers in THC."}