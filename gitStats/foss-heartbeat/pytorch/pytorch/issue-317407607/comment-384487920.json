{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/384487920", "html_url": "https://github.com/pytorch/pytorch/issues/6912#issuecomment-384487920", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6912", "id": 384487920, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDQ4NzkyMA==", "user": {"login": "li-roy", "id": 8813817, "node_id": "MDQ6VXNlcjg4MTM4MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8813817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/li-roy", "html_url": "https://github.com/li-roy", "followers_url": "https://api.github.com/users/li-roy/followers", "following_url": "https://api.github.com/users/li-roy/following{/other_user}", "gists_url": "https://api.github.com/users/li-roy/gists{/gist_id}", "starred_url": "https://api.github.com/users/li-roy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/li-roy/subscriptions", "organizations_url": "https://api.github.com/users/li-roy/orgs", "repos_url": "https://api.github.com/users/li-roy/repos", "events_url": "https://api.github.com/users/li-roy/events{/privacy}", "received_events_url": "https://api.github.com/users/li-roy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-26T01:55:40Z", "updated_at": "2018-04-26T01:55:40Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Maybe we should separate <code>__repr__</code> and <code>__str__</code>. Have string look something more like the old repr, but also consider the things people previously mentioned for repr:</p>\n<ul>\n<li>Should we print the type if it's implicit</li>\n<li>Should we print device if it's implicit</li>\n<li>Should we include size</li>\n</ul>\n<p>I think alignment is something that can't really be fixed. It was also a problem with the old repr, it just happens for smaller sizes with the new repr. For example in the old repr:</p>\n<pre><code>&gt;&gt;&gt; torch.rand(10,20)\n\n\nColumns 0 to 9\n 0.9021  0.7451  0.9397  0.3682  0.6292  0.9744  0.4691  0.9015  0.5065  0.5431\n 0.4572  0.7933  0.1878  0.5731  0.2696  0.6941  0.8501  0.4785  0.6187  0.1533\n 0.9366  0.5505  0.2884  0.8264  0.0525  0.1204  0.3278  0.7349  0.7550  0.4861\n 0.9438  0.3599  0.2531  0.0649  0.9624  0.1538  0.4233  0.1385  0.2210  0.1176\n 0.6091  0.4946  0.7815  0.8481  0.6920  0.4056  0.1918  0.7796  0.2382  0.7418\n 0.2681  0.5140  0.5777  0.6781  0.1882  0.7660  0.5754  0.4259  0.3688  0.5173\n 0.1062  0.9866  0.7547  0.4543  0.3583  0.6115  0.2747  0.7153  0.7171  0.8373\n 0.7611  0.9226  0.7943  0.6499  0.6954  0.3158  0.5290  0.7996  0.3300  0.6613\n 0.5909  0.3324  0.6371  0.1142  0.8842  0.6436  0.3294  0.1376  0.4018  0.3414\n 0.3820  0.8419  0.3288  0.5143  0.5613  0.9057  0.2400  0.0221  0.8634  0.0656\n\nColumns 10 to 19\n 0.5681  0.3047  0.5777  0.0439  0.0334  0.0117  0.6883  0.1151  0.8553  0.0535\n 0.6346  0.7784  0.6623  0.5110  0.8255  0.9233  0.8554  0.2003  0.9146  0.5807\n 0.4238  0.4664  0.5884  0.5479  0.1571  0.0486  0.2117  0.8111  0.8310  0.3366\n 0.8785  0.4957  0.2391  0.2009  0.5385  0.1601  0.2702  0.7325  0.2886  0.2005\n 0.5704  0.5903  0.2864  0.9892  0.4678  0.5666  0.9842  0.5488  0.3298  0.6303\n 0.1329  0.8764  0.1621  0.7586  0.3570  0.5551  0.5840  0.9981  0.8941  0.6848\n 0.0733  0.7516  0.7973  0.6522  0.3866  0.2570  0.7841  0.5425  0.3966  0.7965\n 0.7497  0.5281  0.3102  0.4246  0.4842  0.9262  0.1518  0.3877  0.2345  0.9806\n 0.5374  0.1435  0.1882  0.5057  0.1711  0.6304  0.4606  0.2386  0.0381  0.6813\n 0.0214  0.4233  0.9714  0.2428  0.4283  0.5646  0.6661  0.1618  0.0460  0.6825\n[torch.FloatTensor of size 10x20]\n</code></pre>\n<p>I don't like how the rows are broken up in the old repr, but if we want to keep the rows together, brackets seem necessary to me.</p>", "body_text": "Maybe we should separate __repr__ and __str__. Have string look something more like the old repr, but also consider the things people previously mentioned for repr:\n\nShould we print the type if it's implicit\nShould we print device if it's implicit\nShould we include size\n\nI think alignment is something that can't really be fixed. It was also a problem with the old repr, it just happens for smaller sizes with the new repr. For example in the old repr:\n>>> torch.rand(10,20)\n\n\nColumns 0 to 9\n 0.9021  0.7451  0.9397  0.3682  0.6292  0.9744  0.4691  0.9015  0.5065  0.5431\n 0.4572  0.7933  0.1878  0.5731  0.2696  0.6941  0.8501  0.4785  0.6187  0.1533\n 0.9366  0.5505  0.2884  0.8264  0.0525  0.1204  0.3278  0.7349  0.7550  0.4861\n 0.9438  0.3599  0.2531  0.0649  0.9624  0.1538  0.4233  0.1385  0.2210  0.1176\n 0.6091  0.4946  0.7815  0.8481  0.6920  0.4056  0.1918  0.7796  0.2382  0.7418\n 0.2681  0.5140  0.5777  0.6781  0.1882  0.7660  0.5754  0.4259  0.3688  0.5173\n 0.1062  0.9866  0.7547  0.4543  0.3583  0.6115  0.2747  0.7153  0.7171  0.8373\n 0.7611  0.9226  0.7943  0.6499  0.6954  0.3158  0.5290  0.7996  0.3300  0.6613\n 0.5909  0.3324  0.6371  0.1142  0.8842  0.6436  0.3294  0.1376  0.4018  0.3414\n 0.3820  0.8419  0.3288  0.5143  0.5613  0.9057  0.2400  0.0221  0.8634  0.0656\n\nColumns 10 to 19\n 0.5681  0.3047  0.5777  0.0439  0.0334  0.0117  0.6883  0.1151  0.8553  0.0535\n 0.6346  0.7784  0.6623  0.5110  0.8255  0.9233  0.8554  0.2003  0.9146  0.5807\n 0.4238  0.4664  0.5884  0.5479  0.1571  0.0486  0.2117  0.8111  0.8310  0.3366\n 0.8785  0.4957  0.2391  0.2009  0.5385  0.1601  0.2702  0.7325  0.2886  0.2005\n 0.5704  0.5903  0.2864  0.9892  0.4678  0.5666  0.9842  0.5488  0.3298  0.6303\n 0.1329  0.8764  0.1621  0.7586  0.3570  0.5551  0.5840  0.9981  0.8941  0.6848\n 0.0733  0.7516  0.7973  0.6522  0.3866  0.2570  0.7841  0.5425  0.3966  0.7965\n 0.7497  0.5281  0.3102  0.4246  0.4842  0.9262  0.1518  0.3877  0.2345  0.9806\n 0.5374  0.1435  0.1882  0.5057  0.1711  0.6304  0.4606  0.2386  0.0381  0.6813\n 0.0214  0.4233  0.9714  0.2428  0.4283  0.5646  0.6661  0.1618  0.0460  0.6825\n[torch.FloatTensor of size 10x20]\n\nI don't like how the rows are broken up in the old repr, but if we want to keep the rows together, brackets seem necessary to me.", "body": "Maybe we should separate `__repr__` and `__str__`. Have string look something more like the old repr, but also consider the things people previously mentioned for repr:\r\n- Should we print the type if it's implicit\r\n- Should we print device if it's implicit\r\n- Should we include size\r\n\r\nI think alignment is something that can't really be fixed. It was also a problem with the old repr, it just happens for smaller sizes with the new repr. For example in the old repr:\r\n\r\n```\r\n>>> torch.rand(10,20)\r\n\r\n\r\nColumns 0 to 9\r\n 0.9021  0.7451  0.9397  0.3682  0.6292  0.9744  0.4691  0.9015  0.5065  0.5431\r\n 0.4572  0.7933  0.1878  0.5731  0.2696  0.6941  0.8501  0.4785  0.6187  0.1533\r\n 0.9366  0.5505  0.2884  0.8264  0.0525  0.1204  0.3278  0.7349  0.7550  0.4861\r\n 0.9438  0.3599  0.2531  0.0649  0.9624  0.1538  0.4233  0.1385  0.2210  0.1176\r\n 0.6091  0.4946  0.7815  0.8481  0.6920  0.4056  0.1918  0.7796  0.2382  0.7418\r\n 0.2681  0.5140  0.5777  0.6781  0.1882  0.7660  0.5754  0.4259  0.3688  0.5173\r\n 0.1062  0.9866  0.7547  0.4543  0.3583  0.6115  0.2747  0.7153  0.7171  0.8373\r\n 0.7611  0.9226  0.7943  0.6499  0.6954  0.3158  0.5290  0.7996  0.3300  0.6613\r\n 0.5909  0.3324  0.6371  0.1142  0.8842  0.6436  0.3294  0.1376  0.4018  0.3414\r\n 0.3820  0.8419  0.3288  0.5143  0.5613  0.9057  0.2400  0.0221  0.8634  0.0656\r\n\r\nColumns 10 to 19\r\n 0.5681  0.3047  0.5777  0.0439  0.0334  0.0117  0.6883  0.1151  0.8553  0.0535\r\n 0.6346  0.7784  0.6623  0.5110  0.8255  0.9233  0.8554  0.2003  0.9146  0.5807\r\n 0.4238  0.4664  0.5884  0.5479  0.1571  0.0486  0.2117  0.8111  0.8310  0.3366\r\n 0.8785  0.4957  0.2391  0.2009  0.5385  0.1601  0.2702  0.7325  0.2886  0.2005\r\n 0.5704  0.5903  0.2864  0.9892  0.4678  0.5666  0.9842  0.5488  0.3298  0.6303\r\n 0.1329  0.8764  0.1621  0.7586  0.3570  0.5551  0.5840  0.9981  0.8941  0.6848\r\n 0.0733  0.7516  0.7973  0.6522  0.3866  0.2570  0.7841  0.5425  0.3966  0.7965\r\n 0.7497  0.5281  0.3102  0.4246  0.4842  0.9262  0.1518  0.3877  0.2345  0.9806\r\n 0.5374  0.1435  0.1882  0.5057  0.1711  0.6304  0.4606  0.2386  0.0381  0.6813\r\n 0.0214  0.4233  0.9714  0.2428  0.4283  0.5646  0.6661  0.1618  0.0460  0.6825\r\n[torch.FloatTensor of size 10x20]\r\n```\r\n\r\nI don't like how the rows are broken up in the old repr, but if we want to keep the rows together, brackets seem necessary to me."}