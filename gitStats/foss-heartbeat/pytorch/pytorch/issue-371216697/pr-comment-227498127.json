{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/227498127", "pull_request_review_id": 167553988, "id": 227498127, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNzQ5ODEyNw==", "diff_hunk": "@@ -140,6 +139,15 @@ ENDIF()\n INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})\n \n ADD_LIBRARY(THD STATIC ${all_cpp})\n+\n+ADD_DEPENDENCIES(THD caffe2)\n+target_include_directories(THD PRIVATE\n+  ${CMAKE_SOURCE_DIR}/aten/src/TH # provides \"THAllocator.h\" to THCGeneral.h\n+  ${CMAKE_BINARY_DIR}/aten/src # provides \"ATen/TypeExtendedInterface.h\" to ATen.h\n+  ${CMAKE_BINARY_DIR}/caffe2/aten/src # provides <TH/THGeneral.h> to THC.h\n+  ${CMAKE_BINARY_DIR}/caffe2/aten/src/THC # provides \"THCGeneral.h\" to THC.h\n+  )", "path": "torch/lib/THD/CMakeLists.txt", "position": 61, "original_position": 19, "commit_id": "d7ec1a6afbb9ad2864826edaf901d1ab0a33932d", "original_commit_id": "c83a91952a5464a9830934bebec3a5fd968f6df8", "user": {"login": "Yangqing", "id": 551151, "node_id": "MDQ6VXNlcjU1MTE1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/551151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yangqing", "html_url": "https://github.com/Yangqing", "followers_url": "https://api.github.com/users/Yangqing/followers", "following_url": "https://api.github.com/users/Yangqing/following{/other_user}", "gists_url": "https://api.github.com/users/Yangqing/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yangqing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yangqing/subscriptions", "organizations_url": "https://api.github.com/users/Yangqing/orgs", "repos_url": "https://api.github.com/users/Yangqing/repos", "events_url": "https://api.github.com/users/Yangqing/events{/privacy}", "received_events_url": "https://api.github.com/users/Yangqing/received_events", "type": "User", "site_admin": false}, "body": "Yes, exactly like Ed and Soumith mentioned. Also, looking at the folders, it seems that when we set the modern inclusion paths, we should use build interface and install interface separately, see this link for details:\r\n\r\nhttps://cmake.org/cmake/help/v3.0/command/target_include_directories.html", "created_at": "2018-10-23T17:49:19Z", "updated_at": "2018-11-23T15:53:26Z", "html_url": "https://github.com/pytorch/pytorch/pull/12775#discussion_r227498127", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12775", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/227498127"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12775#discussion_r227498127"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12775"}}, "body_html": "<p>Yes, exactly like Ed and Soumith mentioned. Also, looking at the folders, it seems that when we set the modern inclusion paths, we should use build interface and install interface separately, see this link for details:</p>\n<p><a href=\"https://cmake.org/cmake/help/v3.0/command/target_include_directories.html\" rel=\"nofollow\">https://cmake.org/cmake/help/v3.0/command/target_include_directories.html</a></p>", "body_text": "Yes, exactly like Ed and Soumith mentioned. Also, looking at the folders, it seems that when we set the modern inclusion paths, we should use build interface and install interface separately, see this link for details:\nhttps://cmake.org/cmake/help/v3.0/command/target_include_directories.html", "in_reply_to_id": 226510649}