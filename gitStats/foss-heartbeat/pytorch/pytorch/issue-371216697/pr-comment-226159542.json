{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/226159542", "pull_request_review_id": 165912883, "id": 226159542, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjE1OTU0Mg==", "diff_hunk": "@@ -140,6 +147,16 @@ ENDIF()\n INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})\n \n ADD_LIBRARY(THD STATIC ${all_cpp})\n+\n+if (CAFFE2_CMAKE_BUILDING_WITH_MAIN_REPO)\n+  ADD_DEPENDENCIES(THD caffe2_library)", "path": "torch/lib/THD/CMakeLists.txt", "position": null, "original_position": 22, "commit_id": "d7ec1a6afbb9ad2864826edaf901d1ab0a33932d", "original_commit_id": "2286003844a58d40efa33d2408e1b731fefdadf3", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "body": "if you ADD_DEPENDENCIES on `caffe2` (instead of `caffe2_library`), it should include the caffe2 directories (which include the dirs below) automatically.\r\nThat's the right thing to do, because Caffe2's header paths might keep changing, and you're effectively manually maintaining the paths below", "created_at": "2018-10-18T03:34:00Z", "updated_at": "2018-11-23T15:53:11Z", "html_url": "https://github.com/pytorch/pytorch/pull/12775#discussion_r226159542", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12775", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/226159542"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12775#discussion_r226159542"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12775"}}, "body_html": "<p>if you ADD_DEPENDENCIES on <code>caffe2</code> (instead of <code>caffe2_library</code>), it should include the caffe2 directories (which include the dirs below) automatically.<br>\nThat's the right thing to do, because Caffe2's header paths might keep changing, and you're effectively manually maintaining the paths below</p>", "body_text": "if you ADD_DEPENDENCIES on caffe2 (instead of caffe2_library), it should include the caffe2 directories (which include the dirs below) automatically.\nThat's the right thing to do, because Caffe2's header paths might keep changing, and you're effectively manually maintaining the paths below"}