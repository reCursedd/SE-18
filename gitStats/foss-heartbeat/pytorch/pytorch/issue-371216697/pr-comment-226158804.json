{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/226158804", "pull_request_review_id": 165912883, "id": 226158804, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjE1ODgwNA==", "diff_hunk": "@@ -177,7 +177,6 @@ function build() {\n \t\t       -DCMAKE_INSTALL_LIBDIR=\"$INSTALL_DIR/lib\" \\\n \t\t       -DCUDA_NVCC_FLAGS=\"$CUDA_NVCC_FLAGS\" \\\n \t\t       -DCUDA_DEVICE_DEBUG=$CUDA_DEVICE_DEBUG \\\n-\t\t       -DCMAKE_PREFIX_PATH=\"$INSTALL_DIR\" \\", "path": "tools/build_pytorch_libs.sh", "position": null, "original_position": 4, "commit_id": "d7ec1a6afbb9ad2864826edaf901d1ab0a33932d", "original_commit_id": "2286003844a58d40efa33d2408e1b731fefdadf3", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "body": "hooray!!!!\r\nBut this will break on machine with no system NCCL, because now setup.py builds NCCL, and cmake wont be able to find it.\r\nIf in case CMake is able to find it, something quite off is going on, i.e. NCCL (and gloo) is being built by both root cmake and setup.py invoking `build_pytorch_libs.sh` separately to build those libs.", "created_at": "2018-10-18T03:28:16Z", "updated_at": "2018-11-23T15:53:11Z", "html_url": "https://github.com/pytorch/pytorch/pull/12775#discussion_r226158804", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12775", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/226158804"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12775#discussion_r226158804"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12775"}}, "body_html": "<p>hooray!!!!<br>\nBut this will break on machine with no system NCCL, because now setup.py builds NCCL, and cmake wont be able to find it.<br>\nIf in case CMake is able to find it, something quite off is going on, i.e. NCCL (and gloo) is being built by both root cmake and setup.py invoking <code>build_pytorch_libs.sh</code> separately to build those libs.</p>", "body_text": "hooray!!!!\nBut this will break on machine with no system NCCL, because now setup.py builds NCCL, and cmake wont be able to find it.\nIf in case CMake is able to find it, something quite off is going on, i.e. NCCL (and gloo) is being built by both root cmake and setup.py invoking build_pytorch_libs.sh separately to build those libs."}