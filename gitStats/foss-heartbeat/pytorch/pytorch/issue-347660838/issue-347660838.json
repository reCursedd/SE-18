{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10237", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10237/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10237/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10237/events", "html_url": "https://github.com/pytorch/pytorch/issues/10237", "id": 347660838, "node_id": "MDU6SXNzdWUzNDc2NjA4Mzg=", "number": 10237, "title": "Irregular behavior of torch.max on cpu & gpu for a tensor containing -inf", "user": {"login": "rajarshd", "id": 2314699, "node_id": "MDQ6VXNlcjIzMTQ2OTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2314699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajarshd", "html_url": "https://github.com/rajarshd", "followers_url": "https://api.github.com/users/rajarshd/followers", "following_url": "https://api.github.com/users/rajarshd/following{/other_user}", "gists_url": "https://api.github.com/users/rajarshd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajarshd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajarshd/subscriptions", "organizations_url": "https://api.github.com/users/rajarshd/orgs", "repos_url": "https://api.github.com/users/rajarshd/repos", "events_url": "https://api.github.com/users/rajarshd/events{/privacy}", "received_events_url": "https://api.github.com/users/rajarshd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-05T01:32:55Z", "updated_at": "2018-09-02T06:10:30Z", "closed_at": "2018-09-02T06:10:30Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p><code>torch.max()</code> has irregular behavior on a tensor containing all <code>-inf</code>, depending on whether it is on cpu or gpu.</p>\n<h2>Code example</h2>\n<pre><code>&gt;&gt;&gt; var = torch.zeros(5).log()\n&gt;&gt;&gt; var\n-inf\n-inf\n-inf\n-inf\n-inf\n[torch.FloatTensor of size 5]\n&gt;&gt;&gt; var.max()\n-inf\n# to gpu\n&gt;&gt;&gt; var = var.cuda()\n&gt;&gt;&gt; var\n-inf\n-inf\n-inf\n-inf\n-inf\n[torch.cuda.FloatTensor of size 5 (GPU 0)]\n&gt;&gt;&gt; var.max()\n-3.4028234663852886e+38\n</code></pre>\n<h2>Environment</h2>\n<pre><code>PyTorch version: 0.3.1\nIs debug build: No\nCUDA used to build PyTorch: 8.0.61\n\nOS: CentOS Linux 7 (Core)\nGCC version: (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\nCMake version: version 2.8.12.2\n\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: Could not collect\nGPU models and configuration: \nGPU 0: GeForce GTX TITAN X\nGPU 1: GeForce GTX TITAN X\nGPU 2: GeForce GTX TITAN X\nGPU 3: GeForce GTX TITAN X\n\nNvidia driver version: 390.48\ncuDNN version: Could not collect\n\nVersions of relevant libraries:\n[pip] msgpack-numpy (0.4.1)\n[pip] numpy (1.13.1)\n[pip] numpydoc (0.8.0)\n[pip] torch (0.3.1)\n[pip] torchtext (0.2.1)\n[pip] torchvision (0.2.0)\n[conda] Could not collect\n</code></pre>", "body_text": "Issue description\ntorch.max() has irregular behavior on a tensor containing all -inf, depending on whether it is on cpu or gpu.\nCode example\n>>> var = torch.zeros(5).log()\n>>> var\n-inf\n-inf\n-inf\n-inf\n-inf\n[torch.FloatTensor of size 5]\n>>> var.max()\n-inf\n# to gpu\n>>> var = var.cuda()\n>>> var\n-inf\n-inf\n-inf\n-inf\n-inf\n[torch.cuda.FloatTensor of size 5 (GPU 0)]\n>>> var.max()\n-3.4028234663852886e+38\n\nEnvironment\nPyTorch version: 0.3.1\nIs debug build: No\nCUDA used to build PyTorch: 8.0.61\n\nOS: CentOS Linux 7 (Core)\nGCC version: (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\nCMake version: version 2.8.12.2\n\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: Could not collect\nGPU models and configuration: \nGPU 0: GeForce GTX TITAN X\nGPU 1: GeForce GTX TITAN X\nGPU 2: GeForce GTX TITAN X\nGPU 3: GeForce GTX TITAN X\n\nNvidia driver version: 390.48\ncuDNN version: Could not collect\n\nVersions of relevant libraries:\n[pip] msgpack-numpy (0.4.1)\n[pip] numpy (1.13.1)\n[pip] numpydoc (0.8.0)\n[pip] torch (0.3.1)\n[pip] torchtext (0.2.1)\n[pip] torchvision (0.2.0)\n[conda] Could not collect", "body": "## Issue description\r\n```torch.max()``` has irregular behavior on a tensor containing all ```-inf```, depending on whether it is on cpu or gpu.\r\n## Code example\r\n```\r\n>>> var = torch.zeros(5).log()\r\n>>> var\r\n-inf\r\n-inf\r\n-inf\r\n-inf\r\n-inf\r\n[torch.FloatTensor of size 5]\r\n>>> var.max()\r\n-inf\r\n# to gpu\r\n>>> var = var.cuda()\r\n>>> var\r\n-inf\r\n-inf\r\n-inf\r\n-inf\r\n-inf\r\n[torch.cuda.FloatTensor of size 5 (GPU 0)]\r\n>>> var.max()\r\n-3.4028234663852886e+38\r\n```\r\n\r\n## Environment\r\n```\r\nPyTorch version: 0.3.1\r\nIs debug build: No\r\nCUDA used to build PyTorch: 8.0.61\r\n\r\nOS: CentOS Linux 7 (Core)\r\nGCC version: (GCC) 4.8.5 20150623 (Red Hat 4.8.5-28)\r\nCMake version: version 2.8.12.2\r\n\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: Could not collect\r\nGPU models and configuration: \r\nGPU 0: GeForce GTX TITAN X\r\nGPU 1: GeForce GTX TITAN X\r\nGPU 2: GeForce GTX TITAN X\r\nGPU 3: GeForce GTX TITAN X\r\n\r\nNvidia driver version: 390.48\r\ncuDNN version: Could not collect\r\n\r\nVersions of relevant libraries:\r\n[pip] msgpack-numpy (0.4.1)\r\n[pip] numpy (1.13.1)\r\n[pip] numpydoc (0.8.0)\r\n[pip] torch (0.3.1)\r\n[pip] torchtext (0.2.1)\r\n[pip] torchvision (0.2.0)\r\n[conda] Could not collect\r\n```\r\n"}