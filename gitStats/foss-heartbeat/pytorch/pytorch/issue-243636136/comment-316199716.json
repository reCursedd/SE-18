{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/316199716", "html_url": "https://github.com/pytorch/pytorch/pull/2137#issuecomment-316199716", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2137", "id": 316199716, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNjE5OTcxNg==", "user": {"login": "ruotianluo", "id": 16023153, "node_id": "MDQ6VXNlcjE2MDIzMTUz", "avatar_url": "https://avatars2.githubusercontent.com/u/16023153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruotianluo", "html_url": "https://github.com/ruotianluo", "followers_url": "https://api.github.com/users/ruotianluo/followers", "following_url": "https://api.github.com/users/ruotianluo/following{/other_user}", "gists_url": "https://api.github.com/users/ruotianluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruotianluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruotianluo/subscriptions", "organizations_url": "https://api.github.com/users/ruotianluo/orgs", "repos_url": "https://api.github.com/users/ruotianluo/repos", "events_url": "https://api.github.com/users/ruotianluo/events{/privacy}", "received_events_url": "https://api.github.com/users/ruotianluo/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-18T21:13:27Z", "updated_at": "2017-07-18T21:13:27Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Very weird. These are the two builds I have.<br>\n<a href=\"https://travis-ci.org/ruotianluo/pytorch-1/builds/255014795\" rel=\"nofollow\">https://travis-ci.org/ruotianluo/pytorch-1/builds/255014795</a><br>\n<a href=\"https://travis-ci.org/ruotianluo/pytorch-1/builds/255008824\" rel=\"nofollow\">https://travis-ci.org/ruotianluo/pytorch-1/builds/255008824</a></p>\n<p>The difference between two builds is using<br>\n<code>LAB_IMPLEMENT_BASIC_FUNCTION(abs, labs)</code><br>\nor</p>\n<pre><code>  VECTOR_IMPLEMENT_FUNCTION(abs, labs)  \\\n  void THTensor_(abs)(THTensor *r_, THTensor *t)                \\\n  {                                                           \\\n    THTensor_(resizeAs)(r_, t);                               \\\n    if (THTensor_(isContiguous)(r_) &amp;&amp; THTensor_(isContiguous)(t) &amp;&amp; THTensor_(nElement)(r_) == THTensor_(nElement)(t)) { \\\n      TH_TENSOR_APPLY2_CONTIG(real, r_, real, t, THVector_(abs)(r__data, t_data, r__len););  \\\n    } else {  \\\n      TH_TENSOR_APPLY2(real, r_, real, t, *r__data = labs(*t_data);); \\\n    } \\\n  }  \n</code></pre>\n<p>These two should be equivalent because that's how LAB_IMPLEMENT_BASIC_FUNCTION was defined, however one succeeded one failed.</p>", "body_text": "Very weird. These are the two builds I have.\nhttps://travis-ci.org/ruotianluo/pytorch-1/builds/255014795\nhttps://travis-ci.org/ruotianluo/pytorch-1/builds/255008824\nThe difference between two builds is using\nLAB_IMPLEMENT_BASIC_FUNCTION(abs, labs)\nor\n  VECTOR_IMPLEMENT_FUNCTION(abs, labs)  \\\n  void THTensor_(abs)(THTensor *r_, THTensor *t)                \\\n  {                                                           \\\n    THTensor_(resizeAs)(r_, t);                               \\\n    if (THTensor_(isContiguous)(r_) && THTensor_(isContiguous)(t) && THTensor_(nElement)(r_) == THTensor_(nElement)(t)) { \\\n      TH_TENSOR_APPLY2_CONTIG(real, r_, real, t, THVector_(abs)(r__data, t_data, r__len););  \\\n    } else {  \\\n      TH_TENSOR_APPLY2(real, r_, real, t, *r__data = labs(*t_data);); \\\n    } \\\n  }  \n\nThese two should be equivalent because that's how LAB_IMPLEMENT_BASIC_FUNCTION was defined, however one succeeded one failed.", "body": "Very weird. These are the two builds I have.\r\nhttps://travis-ci.org/ruotianluo/pytorch-1/builds/255014795\r\nhttps://travis-ci.org/ruotianluo/pytorch-1/builds/255008824\r\n\r\nThe difference between two builds is using \r\n`LAB_IMPLEMENT_BASIC_FUNCTION(abs, labs)`\r\nor\r\n\r\n```\r\n  VECTOR_IMPLEMENT_FUNCTION(abs, labs)  \\\r\n  void THTensor_(abs)(THTensor *r_, THTensor *t)                \\\r\n  {                                                           \\\r\n    THTensor_(resizeAs)(r_, t);                               \\\r\n    if (THTensor_(isContiguous)(r_) && THTensor_(isContiguous)(t) && THTensor_(nElement)(r_) == THTensor_(nElement)(t)) { \\\r\n      TH_TENSOR_APPLY2_CONTIG(real, r_, real, t, THVector_(abs)(r__data, t_data, r__len););  \\\r\n    } else {  \\\r\n      TH_TENSOR_APPLY2(real, r_, real, t, *r__data = labs(*t_data);); \\\r\n    } \\\r\n  }  \r\n```\r\n\r\nThese two should be equivalent because that's how LAB_IMPLEMENT_BASIC_FUNCTION was defined, however one succeeded one failed."}