{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/303048322", "html_url": "https://github.com/pytorch/pytorch/issues/1595#issuecomment-303048322", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1595", "id": 303048322, "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzA0ODMyMg==", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-22T09:29:02Z", "updated_at": "2017-05-22T09:29:02Z", "author_association": "MEMBER", "body_html": "<p>Ok, I just tried running the snippet I sent you into our clusters and it didn't crash as I was expecting. (I came up with that example in my local machine).<br>\nThis is the stack trace that I got in the server</p>\n<pre><code>Traceback (most recent call last):\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 249, in _bootstrap\n    self.run()\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 93, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 38, in _worker_loop\n    data_queue.put((idx, samples))\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/queues.py\", line 355, in put\n    self._writer.send_bytes(obj)\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 200, in send_bytes\n    self._send_bytes(m[offset:offset + size])\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 393, in _send_bytes\n    header = struct.pack(\"!i\", n)\nstruct.error: 'i' format requires -2147483648 &lt;= number &lt;= 2147483647\n</code></pre>\n<p>I'll try to come up with a better MWE.</p>", "body_text": "Ok, I just tried running the snippet I sent you into our clusters and it didn't crash as I was expecting. (I came up with that example in my local machine).\nThis is the stack trace that I got in the server\nTraceback (most recent call last):\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 249, in _bootstrap\n    self.run()\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 93, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 38, in _worker_loop\n    data_queue.put((idx, samples))\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/queues.py\", line 355, in put\n    self._writer.send_bytes(obj)\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 200, in send_bytes\n    self._send_bytes(m[offset:offset + size])\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 393, in _send_bytes\n    header = struct.pack(\"!i\", n)\nstruct.error: 'i' format requires -2147483648 <= number <= 2147483647\n\nI'll try to come up with a better MWE.", "body": "Ok, I just tried running the snippet I sent you into our clusters and it didn't crash as I was expecting. (I came up with that example in my local machine).\r\nThis is the stack trace that I got in the server\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 249, in _bootstrap\r\n    self.run()\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/process.py\", line 93, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/site-packages/torch/utils/data/dataloader.py\", line 38, in _worker_loop\r\n    data_queue.put((idx, samples))\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/queues.py\", line 355, in put\r\n    self._writer.send_bytes(obj)\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 200, in send_bytes\r\n    self._send_bytes(m[offset:offset + size])\r\n  File \"/home/fmassa/sandbox/conda/envs/devenv/lib/python3.6/multiprocessing/connection.py\", line 393, in _send_bytes\r\n    header = struct.pack(\"!i\", n)\r\nstruct.error: 'i' format requires -2147483648 <= number <= 2147483647\r\n```\r\n\r\nI'll try to come up with a better MWE."}