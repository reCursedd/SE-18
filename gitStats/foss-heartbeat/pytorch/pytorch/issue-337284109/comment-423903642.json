{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/423903642", "html_url": "https://github.com/pytorch/pytorch/pull/9078#issuecomment-423903642", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9078", "id": 423903642, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzkwMzY0Mg==", "user": {"login": "kshitij12345", "id": 19503980, "node_id": "MDQ6VXNlcjE5NTAzOTgw", "avatar_url": "https://avatars3.githubusercontent.com/u/19503980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kshitij12345", "html_url": "https://github.com/kshitij12345", "followers_url": "https://api.github.com/users/kshitij12345/followers", "following_url": "https://api.github.com/users/kshitij12345/following{/other_user}", "gists_url": "https://api.github.com/users/kshitij12345/gists{/gist_id}", "starred_url": "https://api.github.com/users/kshitij12345/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kshitij12345/subscriptions", "organizations_url": "https://api.github.com/users/kshitij12345/orgs", "repos_url": "https://api.github.com/users/kshitij12345/repos", "events_url": "https://api.github.com/users/kshitij12345/events{/privacy}", "received_events_url": "https://api.github.com/users/kshitij12345/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-24T08:18:12Z", "updated_at": "2018-09-24T08:18:12Z", "author_association": "NONE", "body_html": "<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=28755567\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pooryapzm\">@pooryapzm</a> , I am still keeping track of the things and will make any required changes if necessary.</p>\n</blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19503980\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kshitij12345\">@kshitij12345</a> Thanks.<br>\nI really need this feature. Do you have any time estimation for that?</p>\n</blockquote>\n<p>The double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.<br>\nMy branch has the pytorch:master till <a href=\"https://github.com/kshitij12345/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637\">commit</a> of 20 Sep 2018.</p>\n</blockquote>\n<p>I cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!<br>\n\"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"</p>\n<p>If I use the original pytorch code I don't get any error for single backward.</p>\n</blockquote>\n<p>From what I see <a href=\"https://github.com/pytorch/pytorch/blob/76ab26cc3eff1d7ba822d8db93723f5c9598eead/aten/src/ATen/native/TensorShape.cpp#L111-L122\">here</a>, it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand.<br>\nNot sure but maybe this has been added later from the version which you have.</p>", "body_text": "@pooryapzm , I am still keeping track of the things and will make any required changes if necessary.\n\n@kshitij12345 Thanks.\nI really need this feature. Do you have any time estimation for that?\n\nThe double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.\nMy branch has the pytorch:master till commit of 20 Sep 2018.\n\nI cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!\n\"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"\nIf I use the original pytorch code I don't get any error for single backward.\n\nFrom what I see here, it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand.\nNot sure but maybe this has been added later from the version which you have.", "body": "> > > > @pooryapzm , I am still keeping track of the things and will make any required changes if necessary.\r\n> > > \r\n> > > \r\n> > > @kshitij12345 Thanks.\r\n> > > I really need this feature. Do you have any time estimation for that?\r\n> > \r\n> > \r\n> > The double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.\r\n> > My branch has the pytorch:master till [commit](https://github.com/kshitij12345/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637) of 20 Sep 2018.\r\n> \r\n> I cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!\r\n> \"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"\r\n> \r\n> If I use the original pytorch code I don't get any error for single backward.\r\n\r\nFrom what I see [here](https://github.com/pytorch/pytorch/blob/76ab26cc3eff1d7ba822d8db93723f5c9598eead/aten/src/ATen/native/TensorShape.cpp#L111-L122), it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand. \r\nNot sure but maybe this has been added later from the version which you have."}