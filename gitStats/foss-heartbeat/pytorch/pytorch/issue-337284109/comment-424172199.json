{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/424172199", "html_url": "https://github.com/pytorch/pytorch/pull/9078#issuecomment-424172199", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9078", "id": 424172199, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDE3MjE5OQ==", "user": {"login": "pooryapzm", "id": 28755567, "node_id": "MDQ6VXNlcjI4NzU1NTY3", "avatar_url": "https://avatars2.githubusercontent.com/u/28755567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pooryapzm", "html_url": "https://github.com/pooryapzm", "followers_url": "https://api.github.com/users/pooryapzm/followers", "following_url": "https://api.github.com/users/pooryapzm/following{/other_user}", "gists_url": "https://api.github.com/users/pooryapzm/gists{/gist_id}", "starred_url": "https://api.github.com/users/pooryapzm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pooryapzm/subscriptions", "organizations_url": "https://api.github.com/users/pooryapzm/orgs", "repos_url": "https://api.github.com/users/pooryapzm/repos", "events_url": "https://api.github.com/users/pooryapzm/events{/privacy}", "received_events_url": "https://api.github.com/users/pooryapzm/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-25T00:56:25Z", "updated_at": "2018-09-25T00:56:25Z", "author_association": "NONE", "body_html": "<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=28755567\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pooryapzm\">@pooryapzm</a> , I am still keeping track of the things and will make any required changes if necessary.</p>\n</blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=19503980\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kshitij12345\">@kshitij12345</a> Thanks.<br>\nI really need this feature. Do you have any time estimation for that?</p>\n</blockquote>\n<p>The double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.<br>\nMy branch has the pytorch:master till <a href=\"https://github.com/kshitij12345/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637\">commit</a> of 20 Sep 2018.</p>\n</blockquote>\n<p>I cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!<br>\n\"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"<br>\nIf I use the original pytorch code I don't get any error for single backward.</p>\n</blockquote>\n<p>From what I see <a href=\"https://github.com/pytorch/pytorch/blob/76ab26cc3eff1d7ba822d8db93723f5c9598eead/aten/src/ATen/native/TensorShape.cpp#L111-L122\">here</a>, it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand.<br>\nNot sure but maybe this has been added later from the version which you have.</p>\n</blockquote>\n<p>I installed pytorch from two source codes:</p>\n<ol>\n<li>Commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/6dcaa475e617f9903afa733c2ea6c0a86f7c7357/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/6dcaa475e617f9903afa733c2ea6c0a86f7c7357\"><tt>6dcaa47</tt></a> from your repo (kshitij12345/pytorch:master)</li>\n<li>Commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637\"><tt>ae1a972</tt></a> from original pytorch:master (Which is the last commit your repo has from the pytorch:master)<br>\nSo, there shouldn't be any problem with the single backward call for both. But I get the mentioned error from the former one while the latter one was fine.</li>\n</ol>\n<p>It seems that your commit causes this error (btw, I'm not sure). I'll double check and will have a look and let you know if I found anything.</p>", "body_text": "@pooryapzm , I am still keeping track of the things and will make any required changes if necessary.\n\n@kshitij12345 Thanks.\nI really need this feature. Do you have any time estimation for that?\n\nThe double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.\nMy branch has the pytorch:master till commit of 20 Sep 2018.\n\nI cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!\n\"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"\nIf I use the original pytorch code I don't get any error for single backward.\n\nFrom what I see here, it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand.\nNot sure but maybe this has been added later from the version which you have.\n\nI installed pytorch from two source codes:\n\nCommit 6dcaa47 from your repo (kshitij12345/pytorch:master)\nCommit ae1a972 from original pytorch:master (Which is the last commit your repo has from the pytorch:master)\nSo, there shouldn't be any problem with the single backward call for both. But I get the mentioned error from the former one while the latter one was fine.\n\nIt seems that your commit causes this error (btw, I'm not sure). I'll double check and will have a look and let you know if I found anything.", "body": "> > > > > @pooryapzm , I am still keeping track of the things and will make any required changes if necessary.\r\n> > > > \r\n> > > > \r\n> > > > @kshitij12345 Thanks.\r\n> > > > I really need this feature. Do you have any time estimation for that?\r\n> > > \r\n> > > \r\n> > > The double backward works with all the commits in this Pull Request. It would actually be great if you would use it and give any feedback.\r\n> > > My branch has the pytorch:master till [commit](https://github.com/kshitij12345/pytorch/commit/ae1a972d78950abc4dab372f496914b5e78b9637) of 20 Sep 2018.\r\n> > \r\n> > \r\n> > I cloned your branch and installed it. However, I got the following error when I call the \"torch.autograd.grad\" function for the first time (single backward)!\r\n> > \"RuntimeError: expand(torch.ByteTensor{[50, 64]}, size=[3200]): the number of sizes provided (1) must be greater or equal to the number of dimensions in the tensor (2)\"\r\n> > If I use the original pytorch code I don't get any error for single backward.\r\n> \r\n> From what I see [here](https://github.com/pytorch/pytorch/blob/76ab26cc3eff1d7ba822d8db93723f5c9598eead/aten/src/ATen/native/TensorShape.cpp#L111-L122), it looks to me that the size (for expansion) you are providing has less dimensions than the size of the Tensor you are trying to expand.\r\n> Not sure but maybe this has been added later from the version which you have.\r\n\r\nI installed pytorch from two source codes:\r\n1. Commit 6dcaa47 from your repo (kshitij12345/pytorch:master)\r\n2. Commit ae1a972 from original pytorch:master (Which is the last commit your repo has from the pytorch:master)\r\nSo, there shouldn't be any problem with the single backward call for both. But I get the mentioned error from the former one while the latter one was fine.\r\n\r\nIt seems that your commit causes this error (btw, I'm not sure). I'll double check and will have a look and let you know if I found anything. "}