{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5612", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5612/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5612/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5612/events", "html_url": "https://github.com/pytorch/pytorch/issues/5612", "id": 303153065, "node_id": "MDU6SXNzdWUzMDMxNTMwNjU=", "number": 5612, "title": "Samplers require only integers in example indices after Tensor+Variable merge", "user": {"login": "vadimkantorov", "id": 1041752, "node_id": "MDQ6VXNlcjEwNDE3NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1041752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimkantorov", "html_url": "https://github.com/vadimkantorov", "followers_url": "https://api.github.com/users/vadimkantorov/followers", "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}", "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions", "organizations_url": "https://api.github.com/users/vadimkantorov/orgs", "repos_url": "https://api.github.com/users/vadimkantorov/repos", "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimkantorov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 466131885, "node_id": "MDU6TGFiZWw0NjYxMzE4ODU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/needs%20discussion", "name": "needs discussion", "color": "cc317c", "default": false}, {"id": 553773019, "node_id": "MDU6TGFiZWw1NTM3NzMwMTk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/needs-reproduction", "name": "needs-reproduction", "color": "e99695", "default": false}, {"id": 679952992, "node_id": "MDU6TGFiZWw2Nzk5NTI5OTI=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/performance", "name": "performance", "color": "f9d0c4", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-03-07T15:53:12Z", "updated_at": "2018-07-03T17:01:40Z", "closed_at": "2018-07-03T17:01:40Z", "author_association": "NONE", "body_html": "<p><a href=\"https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L120\">This line</a> used to read <code>batch.append(idx)</code> before the merge, and now reads <code>batch.append(int(idx))</code></p>\n<p>It breaks custom samplers that embed additional transformation parameters in the sampled \"example index\". In my case, an \"example index\" was a tuple containing a true example index, rescaling, flip parameters, object proposal indices etc. Then these parameters are applied to images and object proposals.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a></p>", "body_text": "This line used to read batch.append(idx) before the merge, and now reads batch.append(int(idx))\nIt breaks custom samplers that embed additional transformation parameters in the sampled \"example index\". In my case, an \"example index\" was a tuple containing a true example index, rescaling, flip parameters, object proposal indices etc. Then these parameters are applied to images and object proposals.\n@colesbury", "body": "[This line](https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L120) used to read `batch.append(idx)` before the merge, and now reads `batch.append(int(idx))`\r\n\r\nIt breaks custom samplers that embed additional transformation parameters in the sampled \"example index\". In my case, an \"example index\" was a tuple containing a true example index, rescaling, flip parameters, object proposal indices etc. Then these parameters are applied to images and object proposals.\r\n\r\n@colesbury "}