{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/304348351", "html_url": "https://github.com/pytorch/pytorch/issues/1662#issuecomment-304348351", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1662", "id": 304348351, "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDM0ODM1MQ==", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-26T17:54:30Z", "updated_at": "2017-05-26T17:54:30Z", "author_association": "MEMBER", "body_html": "<p>I'm not sure we want to deprecate <code>masked_copy</code>. For me, <code>masked_copy</code> and <code>masked_select</code> works hand in hand, and are necessary to perform operations such as follows:</p>\n<div class=\"highlight highlight-source-python\"><pre>a <span class=\"pl-k\">=</span> torch.randn(<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>)\nb <span class=\"pl-k\">=</span> torch.randn(<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>)\na[b <span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">0</span>] <span class=\"pl-k\">=</span> b[b <span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">0</span>]</pre></div>\n<p>In this case, the right-hand side corresponds to <code>masked_select</code>, while the left-hand is <code>masked_copy</code>.<br>\nAlso, note that numpy behaves the same when indexing <code>b[b &gt; 0]</code> (returns a 1D tensor), so I think we should still keep it around.</p>", "body_text": "I'm not sure we want to deprecate masked_copy. For me, masked_copy and masked_select works hand in hand, and are necessary to perform operations such as follows:\na = torch.randn(2, 2)\nb = torch.randn(2, 2)\na[b > 0] = b[b > 0]\nIn this case, the right-hand side corresponds to masked_select, while the left-hand is masked_copy.\nAlso, note that numpy behaves the same when indexing b[b > 0] (returns a 1D tensor), so I think we should still keep it around.", "body": "I'm not sure we want to deprecate `masked_copy`. For me, `masked_copy` and `masked_select` works hand in hand, and are necessary to perform operations such as follows:\r\n```python\r\na = torch.randn(2, 2)\r\nb = torch.randn(2, 2)\r\na[b > 0] = b[b > 0]\r\n```\r\nIn this case, the right-hand side corresponds to `masked_select`, while the left-hand is `masked_copy`.\r\nAlso, note that numpy behaves the same when indexing `b[b > 0]` (returns a 1D tensor), so I think we should still keep it around."}