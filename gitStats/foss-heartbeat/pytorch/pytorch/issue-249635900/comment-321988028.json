{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/321988028", "html_url": "https://github.com/pytorch/pytorch/pull/2386#issuecomment-321988028", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2386", "id": 321988028, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTk4ODAyOA==", "user": {"login": "jmxpearson", "id": 3165415, "node_id": "MDQ6VXNlcjMxNjU0MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3165415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmxpearson", "html_url": "https://github.com/jmxpearson", "followers_url": "https://api.github.com/users/jmxpearson/followers", "following_url": "https://api.github.com/users/jmxpearson/following{/other_user}", "gists_url": "https://api.github.com/users/jmxpearson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmxpearson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmxpearson/subscriptions", "organizations_url": "https://api.github.com/users/jmxpearson/orgs", "repos_url": "https://api.github.com/users/jmxpearson/repos", "events_url": "https://api.github.com/users/jmxpearson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmxpearson/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-12T15:27:32Z", "updated_at": "2017-08-12T15:27:32Z", "author_association": "CONTRIBUTOR", "body_html": "<div class=\"email-fragment\">Good deal.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-quoted-reply\">On Sat, Aug 12, 2017 at 11:18 Francisco Massa ***@***.***&gt; wrote:\n ***@***.**** commented on this pull request.\n ------------------------------\n\n In torch/autograd/_functions/linalg.py\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249635900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2386\" href=\"https://github.com/pytorch/pytorch/pull/2386#discussion_r132820147\">#2386 (comment)</a>&gt;:\n\n &gt; +\n +    <a class=\"user-mention\" href=\"https://github.com/staticmethod\">@staticmethod</a>\n +    def forward(ctx, a, upper=True):\n +        ctx.upper = upper\n +        fact = torch.potrf(a, upper)\n +        ctx.save_for_backward(fact)\n +        return fact\n +\n +    <a class=\"user-mention\" href=\"https://github.com/staticmethod\">@staticmethod</a>\n +    def Phi(A):\n +        \"\"\"\n +        Return lower triangle of A and halve the diagonal.\n +        \"\"\"\n +        B = A.tril()\n +        for i in range(B.size(0)):\n +            B[i, i] = B[i, i] * 0.5\n\n Definitely easier, and just slightly less memory efficient. I'd go for\n <a class=\"user-mention\" href=\"https://github.com/pavanky\">@pavanky</a> &lt;<a href=\"https://github.com/pavanky\">https://github.com/pavanky</a>&gt; solution!\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub\n &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249635900\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2386\" href=\"https://github.com/pytorch/pytorch/pull/2386#discussion_r132820147\">#2386 (comment)</a>&gt;, or mute\n the thread\n &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/ADBM52M-3fDW0B18y3j36DTIoz8kUExHks5sXcJGgaJpZM4O0qBo\">https://github.com/notifications/unsubscribe-auth/ADBM52M-3fDW0B18y3j36DTIoz8kUExHks5sXcJGgaJpZM4O0qBo</a>&gt;\n .\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "Good deal.\n\u2026\nOn Sat, Aug 12, 2017 at 11:18 Francisco Massa ***@***.***> wrote:\n ***@***.**** commented on this pull request.\n ------------------------------\n\n In torch/autograd/_functions/linalg.py\n <#2386 (comment)>:\n\n > +\n +    @staticmethod\n +    def forward(ctx, a, upper=True):\n +        ctx.upper = upper\n +        fact = torch.potrf(a, upper)\n +        ctx.save_for_backward(fact)\n +        return fact\n +\n +    @staticmethod\n +    def Phi(A):\n +        \"\"\"\n +        Return lower triangle of A and halve the diagonal.\n +        \"\"\"\n +        B = A.tril()\n +        for i in range(B.size(0)):\n +            B[i, i] = B[i, i] * 0.5\n\n Definitely easier, and just slightly less memory efficient. I'd go for\n @pavanky <https://github.com/pavanky> solution!\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub\n <#2386 (comment)>, or mute\n the thread\n <https://github.com/notifications/unsubscribe-auth/ADBM52M-3fDW0B18y3j36DTIoz8kUExHks5sXcJGgaJpZM4O0qBo>\n .", "body": "Good deal.\nOn Sat, Aug 12, 2017 at 11:18 Francisco Massa <notifications@github.com>\nwrote:\n\n> *@fmassa* commented on this pull request.\n> ------------------------------\n>\n> In torch/autograd/_functions/linalg.py\n> <https://github.com/pytorch/pytorch/pull/2386#discussion_r132820147>:\n>\n> > +\n> +    @staticmethod\n> +    def forward(ctx, a, upper=True):\n> +        ctx.upper = upper\n> +        fact = torch.potrf(a, upper)\n> +        ctx.save_for_backward(fact)\n> +        return fact\n> +\n> +    @staticmethod\n> +    def Phi(A):\n> +        \"\"\"\n> +        Return lower triangle of A and halve the diagonal.\n> +        \"\"\"\n> +        B = A.tril()\n> +        for i in range(B.size(0)):\n> +            B[i, i] = B[i, i] * 0.5\n>\n> Definitely easier, and just slightly less memory efficient. I'd go for\n> @pavanky <https://github.com/pavanky> solution!\n>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pytorch/pytorch/pull/2386#discussion_r132820147>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ADBM52M-3fDW0B18y3j36DTIoz8kUExHks5sXcJGgaJpZM4O0qBo>\n> .\n>\n"}