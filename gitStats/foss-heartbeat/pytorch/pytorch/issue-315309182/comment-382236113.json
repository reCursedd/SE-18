{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/382236113", "html_url": "https://github.com/pytorch/pytorch/issues/6694#issuecomment-382236113", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6694", "id": 382236113, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjIzNjExMw==", "user": {"login": "HMEIatJHU", "id": 19693633, "node_id": "MDQ6VXNlcjE5NjkzNjMz", "avatar_url": "https://avatars1.githubusercontent.com/u/19693633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HMEIatJHU", "html_url": "https://github.com/HMEIatJHU", "followers_url": "https://api.github.com/users/HMEIatJHU/followers", "following_url": "https://api.github.com/users/HMEIatJHU/following{/other_user}", "gists_url": "https://api.github.com/users/HMEIatJHU/gists{/gist_id}", "starred_url": "https://api.github.com/users/HMEIatJHU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HMEIatJHU/subscriptions", "organizations_url": "https://api.github.com/users/HMEIatJHU/orgs", "repos_url": "https://api.github.com/users/HMEIatJHU/repos", "events_url": "https://api.github.com/users/HMEIatJHU/events{/privacy}", "received_events_url": "https://api.github.com/users/HMEIatJHU/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-18T02:58:18Z", "updated_at": "2018-04-18T02:58:18Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5674597\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SsnL\">@SsnL</a> Thanks very much for prompt response. My program is a bit large and I guess I need to profile it in details before providing a repro script. But in general, I suspect if the merging of data and Variable causes this problem. My program uses a trained model to give my output, and then use the output to do a lot of complex computation. In my code, I always use output.data instead of output, so the graph is not growing for further computation. But 0.4.0 does not distinguish Variable and data, so while output is used in following functions, the graph may keep expanding and some more history is stored. That may be the issue? Does it make sense to you? I tried to use .detach() wherever I believe it should be, but it did not solve the problem. I suspect that my habit of speeding code up in 0.3 does not apply to 0.4...</p>", "body_text": "@SsnL Thanks very much for prompt response. My program is a bit large and I guess I need to profile it in details before providing a repro script. But in general, I suspect if the merging of data and Variable causes this problem. My program uses a trained model to give my output, and then use the output to do a lot of complex computation. In my code, I always use output.data instead of output, so the graph is not growing for further computation. But 0.4.0 does not distinguish Variable and data, so while output is used in following functions, the graph may keep expanding and some more history is stored. That may be the issue? Does it make sense to you? I tried to use .detach() wherever I believe it should be, but it did not solve the problem. I suspect that my habit of speeding code up in 0.3 does not apply to 0.4...", "body": "@SsnL Thanks very much for prompt response. My program is a bit large and I guess I need to profile it in details before providing a repro script. But in general, I suspect if the merging of data and Variable causes this problem. My program uses a trained model to give my output, and then use the output to do a lot of complex computation. In my code, I always use output.data instead of output, so the graph is not growing for further computation. But 0.4.0 does not distinguish Variable and data, so while output is used in following functions, the graph may keep expanding and some more history is stored. That may be the issue? Does it make sense to you? I tried to use .detach() wherever I believe it should be, but it did not solve the problem. I suspect that my habit of speeding code up in 0.3 does not apply to 0.4..."}