{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11484", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11484/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11484/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11484/events", "html_url": "https://github.com/pytorch/pytorch/pull/11484", "id": 358795848, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE0NDQ1MTEy", "number": 11484, "title": "[C++ API] Document BatchNorm and update default behavior", "user": {"login": "goldsborough", "id": 6429851, "node_id": "MDQ6VXNlcjY0Mjk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6429851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldsborough", "html_url": "https://github.com/goldsborough", "followers_url": "https://api.github.com/users/goldsborough/followers", "following_url": "https://api.github.com/users/goldsborough/following{/other_user}", "gists_url": "https://api.github.com/users/goldsborough/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldsborough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldsborough/subscriptions", "organizations_url": "https://api.github.com/users/goldsborough/orgs", "repos_url": "https://api.github.com/users/goldsborough/repos", "events_url": "https://api.github.com/users/goldsborough/events{/privacy}", "received_events_url": "https://api.github.com/users/goldsborough/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-09-10T21:09:51Z", "updated_at": "2018-09-12T16:11:38Z", "closed_at": "2018-09-12T16:11:38Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/11484", "html_url": "https://github.com/pytorch/pytorch/pull/11484", "diff_url": "https://github.com/pytorch/pytorch/pull/11484.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/11484.patch"}, "body_html": "<p>This PR:</p>\n<ol>\n<li>Documents <code>BatchNorm</code>,</li>\n<li>Makes a number of API changes after reconsidering some quirks:\n<ol>\n<li>The default value for the <code>stateful</code> parameter used to be <code>false</code>, but the most common usage of <code>BatchNorm</code> out of the wild is certainly stateful, and the default in Python is also statefulness. So we change the default to stateful.</li>\n<li>The <code>pure_forward</code> function used to use the internal running mean and variance variables instead of the ones supplied to that function call when <code>stateful</code> was true, which certainly seems odd. When you call <code>pure_forward</code> you would certainly expect the values you pass explicitly to be used. This is now fixed.</li>\n</ol>\n</li>\n<li>Adds tests for <code>BatchNorm</code>, finally.</li>\n</ol>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3605224\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebetica\">@ebetica</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a></p>", "body_text": "This PR:\n\nDocuments BatchNorm,\nMakes a number of API changes after reconsidering some quirks:\n\nThe default value for the stateful parameter used to be false, but the most common usage of BatchNorm out of the wild is certainly stateful, and the default in Python is also statefulness. So we change the default to stateful.\nThe pure_forward function used to use the internal running mean and variance variables instead of the ones supplied to that function call when stateful was true, which certainly seems odd. When you call pure_forward you would certainly expect the values you pass explicitly to be used. This is now fixed.\n\n\nAdds tests for BatchNorm, finally.\n\n@ebetica @apaszke @ezyang", "body": "This PR:\r\n\r\n1. Documents `BatchNorm`,\r\n2. Makes a number of API changes after reconsidering some quirks:\r\n    1. The default value for the `stateful` parameter used to be `false`, but the most common usage of `BatchNorm` out of the wild is certainly stateful, and the default in Python is also statefulness. So we change the default to stateful.\r\n    2. The `pure_forward` function used to use the internal running mean and variance variables instead of the ones supplied to that function call when `stateful` was true, which certainly seems odd. When you call `pure_forward` you would certainly expect the values you pass explicitly to be used. This is now fixed.\r\n3. Adds tests for `BatchNorm`, finally.\r\n\r\n@ebetica @apaszke @ezyang "}