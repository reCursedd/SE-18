{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3851", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3851/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3851/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3851/events", "html_url": "https://github.com/pytorch/pytorch/issues/3851", "id": 276416366, "node_id": "MDU6SXNzdWUyNzY0MTYzNjY=", "number": 3851, "title": "Improve error message for RuntimeError: inconsistent tensor size in RNN", "user": {"login": "oneTaken", "id": 18045872, "node_id": "MDQ6VXNlcjE4MDQ1ODcy", "avatar_url": "https://avatars1.githubusercontent.com/u/18045872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oneTaken", "html_url": "https://github.com/oneTaken", "followers_url": "https://api.github.com/users/oneTaken/followers", "following_url": "https://api.github.com/users/oneTaken/following{/other_user}", "gists_url": "https://api.github.com/users/oneTaken/gists{/gist_id}", "starred_url": "https://api.github.com/users/oneTaken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oneTaken/subscriptions", "organizations_url": "https://api.github.com/users/oneTaken/orgs", "repos_url": "https://api.github.com/users/oneTaken/repos", "events_url": "https://api.github.com/users/oneTaken/events{/privacy}", "received_events_url": "https://api.github.com/users/oneTaken/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-11-23T15:43:05Z", "updated_at": "2017-12-13T17:48:01Z", "closed_at": "2017-12-13T17:48:01Z", "author_association": "NONE", "body_html": "<p>I run RNN sucessfully with the code.</p>\n<pre><code>rnn = nn.RNN(features, hidden_size, num_layers)\no, hidden = rnn(x, hidden)\n</code></pre>\n<p>and I run embedding example. Then, got RuntimeError.</p>\n<pre><code>RuntimeError: inconsistent tensor size, expected r_ [5 x 25], t [5 x 25] and src [2 x 25] to \nhave thesame number of elements, but got 125, 125 and 50 elements respectively at \n/opt/conda/conda-bld/pytorch_1503970438496/work/torch/lib/TH/generic/THTensorMath.c:887\n</code></pre>\n<p>I set <code>batch_first=True</code> to use <code>Embedding</code></p>\n<pre><code>x.size is [5, 8, 15]\nhidden_size is [5, 2, 25]\n</code></pre>\n<p>nothing seems wrong.<br>\nAnd the error info seems not the dim problem?<br>\nThe error is so strange.</p>", "body_text": "I run RNN sucessfully with the code.\nrnn = nn.RNN(features, hidden_size, num_layers)\no, hidden = rnn(x, hidden)\n\nand I run embedding example. Then, got RuntimeError.\nRuntimeError: inconsistent tensor size, expected r_ [5 x 25], t [5 x 25] and src [2 x 25] to \nhave thesame number of elements, but got 125, 125 and 50 elements respectively at \n/opt/conda/conda-bld/pytorch_1503970438496/work/torch/lib/TH/generic/THTensorMath.c:887\n\nI set batch_first=True to use Embedding\nx.size is [5, 8, 15]\nhidden_size is [5, 2, 25]\n\nnothing seems wrong.\nAnd the error info seems not the dim problem?\nThe error is so strange.", "body": "I run RNN sucessfully with the code.\r\n```\r\nrnn = nn.RNN(features, hidden_size, num_layers)\r\no, hidden = rnn(x, hidden)\r\n```\r\nand I run embedding example. Then, got RuntimeError.\r\n```\r\nRuntimeError: inconsistent tensor size, expected r_ [5 x 25], t [5 x 25] and src [2 x 25] to \r\nhave thesame number of elements, but got 125, 125 and 50 elements respectively at \r\n/opt/conda/conda-bld/pytorch_1503970438496/work/torch/lib/TH/generic/THTensorMath.c:887\r\n```\r\nI set `batch_first=True` to use `Embedding`\r\n```\r\nx.size is [5, 8, 15]\r\nhidden_size is [5, 2, 25]\r\n```\r\nnothing seems wrong.\r\nAnd the error info seems not the dim problem?\r\nThe error is so strange. \r\n"}