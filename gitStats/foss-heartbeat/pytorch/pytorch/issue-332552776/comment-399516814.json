{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/399516814", "html_url": "https://github.com/pytorch/pytorch/pull/8509#issuecomment-399516814", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8509", "id": 399516814, "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTUxNjgxNA==", "user": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-22T17:20:20Z", "updated_at": "2018-06-22T17:20:20Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Right now going through setup.py installs libcaffe2.so in python_root/lib/pythonx.x/site-packages/torch/lib/libcaffe2.so but going through our old cmake+make path (not going through build_torch_libs.sh) installs into python_root/lib/libcaffe2.so , so the rpath of caffe2_pybind11_state.so needs to depend on the install path</p>\n<p>The right thing to do should be making python_root/lib/libcaffe2.so always the install location, so that you can e.g. install just Caffe2 and then later install Pytorch without having multiple libcaffe2.sos</p>", "body_text": "Right now going through setup.py installs libcaffe2.so in python_root/lib/pythonx.x/site-packages/torch/lib/libcaffe2.so but going through our old cmake+make path (not going through build_torch_libs.sh) installs into python_root/lib/libcaffe2.so , so the rpath of caffe2_pybind11_state.so needs to depend on the install path\nThe right thing to do should be making python_root/lib/libcaffe2.so always the install location, so that you can e.g. install just Caffe2 and then later install Pytorch without having multiple libcaffe2.sos", "body": "Right now going through setup.py installs libcaffe2.so in python_root/lib/pythonx.x/site-packages/torch/lib/libcaffe2.so but going through our old cmake+make path (not going through build_torch_libs.sh) installs into python_root/lib/libcaffe2.so , so the rpath of caffe2_pybind11_state.so needs to depend on the install path\r\n\r\nThe right thing to do should be making python_root/lib/libcaffe2.so always the install location, so that you can e.g. install just Caffe2 and then later install Pytorch without having multiple libcaffe2.sos"}