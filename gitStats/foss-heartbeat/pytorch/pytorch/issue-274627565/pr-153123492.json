{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/3740", "id": 153123492, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUzMTIzNDky", "html_url": "https://github.com/pytorch/pytorch/pull/3740", "diff_url": "https://github.com/pytorch/pytorch/pull/3740.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/3740.patch", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3740", "number": 3740, "state": "open", "locked": false, "title": "Fixing Weight Decay Regularization in Adam ", "user": {"login": "jingweiz", "id": 9096283, "node_id": "MDQ6VXNlcjkwOTYyODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9096283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweiz", "html_url": "https://github.com/jingweiz", "followers_url": "https://api.github.com/users/jingweiz/followers", "following_url": "https://api.github.com/users/jingweiz/following{/other_user}", "gists_url": "https://api.github.com/users/jingweiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweiz/subscriptions", "organizations_url": "https://api.github.com/users/jingweiz/orgs", "repos_url": "https://api.github.com/users/jingweiz/repos", "events_url": "https://api.github.com/users/jingweiz/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweiz/received_events", "type": "User", "site_admin": false}, "body": "Hey,\r\nWe added `SGDW` and `AdamW` in `optim`, accoridng to the new ICLR submission from Loshchilov and Hutter: [Fixing Weight Decay Regularization in Adam](https://arxiv.org/abs/1711.05101).\r\nWe also found some inconsistency of the current implementation of `Adam` with the original Adam paper and we asked about it here: [https://discuss.pytorch.org/t/adam-implementation/10031](https://discuss.pytorch.org/t/adam-implementation/10031). We tried to make it consistent in the commit: `f195087a3666f85a417ee7561bec439bb68f81c3`, but then it failed during testing which might due to some inconsistency with the `legacy.optim.adam` so we changed it back in the last commit. But it would great if you guys can check it to see if this is actually an inconsistency then we can add it back.\r\nThanks in advance!", "created_at": "2017-11-16T19:02:03Z", "updated_at": "2018-11-23T15:48:30Z", "closed_at": null, "merged_at": null, "merge_commit_sha": "bbecd6260514946c7ac290e909ec6d8beacc106d", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3740/commits", "review_comments_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3740/comments", "review_comment_url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3740/comments", "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/b2640e5793b6461603d032b1d804b4a1d71410a9", "head": {"label": "jingweiz:master", "ref": "master", "sha": "b2640e5793b6461603d032b1d804b4a1d71410a9", "user": {"login": "jingweiz", "id": 9096283, "node_id": "MDQ6VXNlcjkwOTYyODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9096283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweiz", "html_url": "https://github.com/jingweiz", "followers_url": "https://api.github.com/users/jingweiz/followers", "following_url": "https://api.github.com/users/jingweiz/following{/other_user}", "gists_url": "https://api.github.com/users/jingweiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweiz/subscriptions", "organizations_url": "https://api.github.com/users/jingweiz/orgs", "repos_url": "https://api.github.com/users/jingweiz/repos", "events_url": "https://api.github.com/users/jingweiz/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweiz/received_events", "type": "User", "site_admin": false}, "repo": {"id": 110973166, "node_id": "MDEwOlJlcG9zaXRvcnkxMTA5NzMxNjY=", "name": "pytorch", "full_name": "jingweiz/pytorch", "private": false, "owner": {"login": "jingweiz", "id": 9096283, "node_id": "MDQ6VXNlcjkwOTYyODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9096283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jingweiz", "html_url": "https://github.com/jingweiz", "followers_url": "https://api.github.com/users/jingweiz/followers", "following_url": "https://api.github.com/users/jingweiz/following{/other_user}", "gists_url": "https://api.github.com/users/jingweiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jingweiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jingweiz/subscriptions", "organizations_url": "https://api.github.com/users/jingweiz/orgs", "repos_url": "https://api.github.com/users/jingweiz/repos", "events_url": "https://api.github.com/users/jingweiz/events{/privacy}", "received_events_url": "https://api.github.com/users/jingweiz/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/jingweiz/pytorch", "description": "Tensors and Dynamic neural networks in Python  with strong GPU acceleration", "fork": true, "url": "https://api.github.com/repos/jingweiz/pytorch", "forks_url": "https://api.github.com/repos/jingweiz/pytorch/forks", "keys_url": "https://api.github.com/repos/jingweiz/pytorch/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/jingweiz/pytorch/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/jingweiz/pytorch/teams", "hooks_url": "https://api.github.com/repos/jingweiz/pytorch/hooks", "issue_events_url": "https://api.github.com/repos/jingweiz/pytorch/issues/events{/number}", "events_url": "https://api.github.com/repos/jingweiz/pytorch/events", "assignees_url": "https://api.github.com/repos/jingweiz/pytorch/assignees{/user}", "branches_url": "https://api.github.com/repos/jingweiz/pytorch/branches{/branch}", "tags_url": "https://api.github.com/repos/jingweiz/pytorch/tags", "blobs_url": "https://api.github.com/repos/jingweiz/pytorch/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/jingweiz/pytorch/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/jingweiz/pytorch/git/refs{/sha}", "trees_url": "https://api.github.com/repos/jingweiz/pytorch/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/jingweiz/pytorch/statuses/{sha}", "languages_url": "https://api.github.com/repos/jingweiz/pytorch/languages", "stargazers_url": "https://api.github.com/repos/jingweiz/pytorch/stargazers", "contributors_url": "https://api.github.com/repos/jingweiz/pytorch/contributors", "subscribers_url": "https://api.github.com/repos/jingweiz/pytorch/subscribers", "subscription_url": "https://api.github.com/repos/jingweiz/pytorch/subscription", "commits_url": "https://api.github.com/repos/jingweiz/pytorch/commits{/sha}", "git_commits_url": "https://api.github.com/repos/jingweiz/pytorch/git/commits{/sha}", "comments_url": "https://api.github.com/repos/jingweiz/pytorch/comments{/number}", "issue_comment_url": "https://api.github.com/repos/jingweiz/pytorch/issues/comments{/number}", "contents_url": "https://api.github.com/repos/jingweiz/pytorch/contents/{+path}", "compare_url": "https://api.github.com/repos/jingweiz/pytorch/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/jingweiz/pytorch/merges", "archive_url": "https://api.github.com/repos/jingweiz/pytorch/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/jingweiz/pytorch/downloads", "issues_url": "https://api.github.com/repos/jingweiz/pytorch/issues{/number}", "pulls_url": "https://api.github.com/repos/jingweiz/pytorch/pulls{/number}", "milestones_url": "https://api.github.com/repos/jingweiz/pytorch/milestones{/number}", "notifications_url": "https://api.github.com/repos/jingweiz/pytorch/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/jingweiz/pytorch/labels{/name}", "releases_url": "https://api.github.com/repos/jingweiz/pytorch/releases{/id}", "deployments_url": "https://api.github.com/repos/jingweiz/pytorch/deployments", "created_at": "2017-11-16T13:13:18Z", "updated_at": "2018-04-06T18:56:21Z", "pushed_at": "2017-11-23T15:13:18Z", "git_url": "git://github.com/jingweiz/pytorch.git", "ssh_url": "git@github.com:jingweiz/pytorch.git", "clone_url": "https://github.com/jingweiz/pytorch.git", "svn_url": "https://github.com/jingweiz/pytorch", "homepage": "http://pytorch.org", "size": 18621, "stargazers_count": 1, "watchers_count": 1, "language": "Python", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 1, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "forks": 1, "open_issues": 0, "watchers": 1, "default_branch": "master"}}, "base": {"label": "pytorch:master", "ref": "master", "sha": "0fd968230510944117ad0c480e893256a9874c2a", "user": {"login": "pytorch", "id": 21003710, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw", "avatar_url": "https://avatars3.githubusercontent.com/u/21003710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pytorch", "html_url": "https://github.com/pytorch", "followers_url": "https://api.github.com/users/pytorch/followers", "following_url": "https://api.github.com/users/pytorch/following{/other_user}", "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions", "organizations_url": "https://api.github.com/users/pytorch/orgs", "repos_url": "https://api.github.com/users/pytorch/repos", "events_url": "https://api.github.com/users/pytorch/events{/privacy}", "received_events_url": "https://api.github.com/users/pytorch/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 65600975, "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==", "name": "pytorch", "full_name": "pytorch/pytorch", "private": false, "owner": {"login": "pytorch", "id": 21003710, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw", "avatar_url": "https://avatars3.githubusercontent.com/u/21003710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pytorch", "html_url": "https://github.com/pytorch", "followers_url": "https://api.github.com/users/pytorch/followers", "following_url": "https://api.github.com/users/pytorch/following{/other_user}", "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions", "organizations_url": "https://api.github.com/users/pytorch/orgs", "repos_url": "https://api.github.com/users/pytorch/repos", "events_url": "https://api.github.com/users/pytorch/events{/privacy}", "received_events_url": "https://api.github.com/users/pytorch/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/pytorch/pytorch", "description": "Tensors and Dynamic neural networks in Python  with strong GPU acceleration", "fork": false, "url": "https://api.github.com/repos/pytorch/pytorch", "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks", "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams", "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks", "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}", "events_url": "https://api.github.com/repos/pytorch/pytorch/events", "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}", "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}", "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags", "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}", "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}", "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages", "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers", "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors", "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers", "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription", "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}", "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}", "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}", "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}", "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges", "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads", "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}", "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}", "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}", "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}", "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}", "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments", "created_at": "2016-08-13T05:26:41Z", "updated_at": "2018-11-24T12:35:43Z", "pushed_at": "2018-11-24T12:42:01Z", "git_url": "git://github.com/pytorch/pytorch.git", "ssh_url": "git@github.com:pytorch/pytorch.git", "clone_url": "https://github.com/pytorch/pytorch.git", "svn_url": "https://github.com/pytorch/pytorch", "homepage": "http://pytorch.org", "size": 89656, "stargazers_count": 21589, "watchers_count": 21589, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 5153, "mirror_url": null, "archived": false, "open_issues_count": 2196, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "forks": 5153, "open_issues": 2196, "watchers": 21589, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3740"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3740"}, "issue": {"href": "https://api.github.com/repos/pytorch/pytorch/issues/3740"}, "comments": {"href": "https://api.github.com/repos/pytorch/pytorch/issues/3740/comments"}, "review_comments": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3740/comments"}, "review_comment": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3740/commits"}, "statuses": {"href": "https://api.github.com/repos/pytorch/pytorch/statuses/b2640e5793b6461603d032b1d804b4a1d71410a9"}}, "author_association": "NONE", "body_html": "<p>Hey,<br>\nWe added <code>SGDW</code> and <code>AdamW</code> in <code>optim</code>, accoridng to the new ICLR submission from Loshchilov and Hutter: <a href=\"https://arxiv.org/abs/1711.05101\" rel=\"nofollow\">Fixing Weight Decay Regularization in Adam</a>.<br>\nWe also found some inconsistency of the current implementation of <code>Adam</code> with the original Adam paper and we asked about it here: <a href=\"https://discuss.pytorch.org/t/adam-implementation/10031\" rel=\"nofollow\">https://discuss.pytorch.org/t/adam-implementation/10031</a>. We tried to make it consistent in the commit: <code>f195087a3666f85a417ee7561bec439bb68f81c3</code>, but then it failed during testing which might due to some inconsistency with the <code>legacy.optim.adam</code> so we changed it back in the last commit. But it would great if you guys can check it to see if this is actually an inconsistency then we can add it back.<br>\nThanks in advance!</p>", "body_text": "Hey,\nWe added SGDW and AdamW in optim, accoridng to the new ICLR submission from Loshchilov and Hutter: Fixing Weight Decay Regularization in Adam.\nWe also found some inconsistency of the current implementation of Adam with the original Adam paper and we asked about it here: https://discuss.pytorch.org/t/adam-implementation/10031. We tried to make it consistent in the commit: f195087a3666f85a417ee7561bec439bb68f81c3, but then it failed during testing which might due to some inconsistency with the legacy.optim.adam so we changed it back in the last commit. But it would great if you guys can check it to see if this is actually an inconsistency then we can add it back.\nThanks in advance!", "merged": false, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": null, "comments": 3, "review_comments": 2, "maintainer_can_modify": true, "commits": 16, "additions": 398, "deletions": 0, "changed_files": 8}