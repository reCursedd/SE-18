{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/398585471", "html_url": "https://github.com/pytorch/pytorch/issues/8649#issuecomment-398585471", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8649", "id": 398585471, "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODU4NTQ3MQ==", "user": {"login": "fehiepsi", "id": 4736342, "node_id": "MDQ6VXNlcjQ3MzYzNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/4736342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fehiepsi", "html_url": "https://github.com/fehiepsi", "followers_url": "https://api.github.com/users/fehiepsi/followers", "following_url": "https://api.github.com/users/fehiepsi/following{/other_user}", "gists_url": "https://api.github.com/users/fehiepsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/fehiepsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fehiepsi/subscriptions", "organizations_url": "https://api.github.com/users/fehiepsi/orgs", "repos_url": "https://api.github.com/users/fehiepsi/repos", "events_url": "https://api.github.com/users/fehiepsi/events{/privacy}", "received_events_url": "https://api.github.com/users/fehiepsi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-20T00:21:33Z", "updated_at": "2018-06-20T00:23:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Yes, confirmed! The difference is 10x, exactly what we get for the MVN distribution.</p>\n<pre><code>import torch\ndef f(bx):\n    bbx = bx.expand((10,) + bx.shape)\n    return torch.stack([x for x in bbx]).sum()\nbx = torch.rand(2, 3, dtype=torch.float64, requires_grad=True)\ntorch.autograd.gradcheck(f, (bx,))  # Fail!\n</code></pre>", "body_text": "Yes, confirmed! The difference is 10x, exactly what we get for the MVN distribution.\nimport torch\ndef f(bx):\n    bbx = bx.expand((10,) + bx.shape)\n    return torch.stack([x for x in bbx]).sum()\nbx = torch.rand(2, 3, dtype=torch.float64, requires_grad=True)\ntorch.autograd.gradcheck(f, (bx,))  # Fail!", "body": "Yes, confirmed! The difference is 10x, exactly what we get for the MVN distribution.\r\n```\r\nimport torch\r\ndef f(bx):\r\n    bbx = bx.expand((10,) + bx.shape)\r\n    return torch.stack([x for x in bbx]).sum()\r\nbx = torch.rand(2, 3, dtype=torch.float64, requires_grad=True)\r\ntorch.autograd.gradcheck(f, (bx,))  # Fail!\r\n```"}