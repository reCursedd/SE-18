{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/387863912", "html_url": "https://github.com/pytorch/pytorch/pull/7421#issuecomment-387863912", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7421", "id": 387863912, "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzg2MzkxMg==", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-09T20:23:02Z", "updated_at": "2018-05-09T20:23:02Z", "author_association": "MEMBER", "body_html": "<p>I actually had a cursory look over our code and there are no <em>files</em> that can be deleted. It's possible that some of them can be trimmed down a bit, but it's not like a lot of C++ code depended on CompiledFunction or was supporting it. It was pretty much only some Python arg flattening, but this is used elsewhere too.</p>\n<p>We could gain a lot more if we removed the <code>nderivs</code> part from the tracer. Not sure if we're interested in ever tracing the backwards, but I'm afraid that some people might have <code>.grad</code> as part of their model (as in solve intermediate optimization problems as part of the forward pass).</p>", "body_text": "I actually had a cursory look over our code and there are no files that can be deleted. It's possible that some of them can be trimmed down a bit, but it's not like a lot of C++ code depended on CompiledFunction or was supporting it. It was pretty much only some Python arg flattening, but this is used elsewhere too.\nWe could gain a lot more if we removed the nderivs part from the tracer. Not sure if we're interested in ever tracing the backwards, but I'm afraid that some people might have .grad as part of their model (as in solve intermediate optimization problems as part of the forward pass).", "body": "I actually had a cursory look over our code and there are no *files* that can be deleted. It's possible that some of them can be trimmed down a bit, but it's not like a lot of C++ code depended on CompiledFunction or was supporting it. It was pretty much only some Python arg flattening, but this is used elsewhere too.\r\n\r\nWe could gain a lot more if we removed the `nderivs` part from the tracer. Not sure if we're interested in ever tracing the backwards, but I'm afraid that some people might have `.grad` as part of their model (as in solve intermediate optimization problems as part of the forward pass)."}