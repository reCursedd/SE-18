{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6721", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6721/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6721/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6721/events", "html_url": "https://github.com/pytorch/pytorch/issues/6721", "id": 315620570, "node_id": "MDU6SXNzdWUzMTU2MjA1NzA=", "number": 6721, "title": "cpp_extensions header installation can easily stale", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-18T19:56:57Z", "updated_at": "2018-04-18T19:58:47Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>I helped <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6576216\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/calvinleenyc\">@calvinleenyc</a> debug a problem where their ATen/Torch headers were out of sync, leading to very strange compilation errors because Torch headers were attempting to use ATen headers, but the ATen headers were stale.</p>\n<p>It seems the method to reproduce this problem is something like install two copies of PyTorch (at different versions) at the same time (I am not sure which order Calvin installed them in; you might have to install one with \"install\" and the other with \"develop\") and then attempt to build a <code>cpp_extension</code>. It seems that the Python files get installed to different directories for each install, but the headers are installed to a global location.</p>\n<p>CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6429851\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/goldsborough\">@goldsborough</a></p>", "body_text": "I helped @calvinleenyc debug a problem where their ATen/Torch headers were out of sync, leading to very strange compilation errors because Torch headers were attempting to use ATen headers, but the ATen headers were stale.\nIt seems the method to reproduce this problem is something like install two copies of PyTorch (at different versions) at the same time (I am not sure which order Calvin installed them in; you might have to install one with \"install\" and the other with \"develop\") and then attempt to build a cpp_extension. It seems that the Python files get installed to different directories for each install, but the headers are installed to a global location.\nCC @goldsborough", "body": "I helped @calvinleenyc debug a problem where their ATen/Torch headers were out of sync, leading to very strange compilation errors because Torch headers were attempting to use ATen headers, but the ATen headers were stale.\r\n\r\nIt seems the method to reproduce this problem is something like install two copies of PyTorch (at different versions) at the same time (I am not sure which order Calvin installed them in; you might have to install one with \"install\" and the other with \"develop\") and then attempt to build a `cpp_extension`. It seems that the Python files get installed to different directories for each install, but the headers are installed to a global location.\r\n\r\nCC @goldsborough "}