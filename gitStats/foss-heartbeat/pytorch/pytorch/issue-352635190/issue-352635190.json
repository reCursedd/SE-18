{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10737", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10737/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10737/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10737/events", "html_url": "https://github.com/pytorch/pytorch/issues/10737", "id": 352635190, "node_id": "MDU6SXNzdWUzNTI2MzUxOTA=", "number": 10737, "title": "Loading my own state_dict but gradient becomes zero", "user": {"login": "linzhiqiu", "id": 10042427, "node_id": "MDQ6VXNlcjEwMDQyNDI3", "avatar_url": "https://avatars2.githubusercontent.com/u/10042427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linzhiqiu", "html_url": "https://github.com/linzhiqiu", "followers_url": "https://api.github.com/users/linzhiqiu/followers", "following_url": "https://api.github.com/users/linzhiqiu/following{/other_user}", "gists_url": "https://api.github.com/users/linzhiqiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/linzhiqiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linzhiqiu/subscriptions", "organizations_url": "https://api.github.com/users/linzhiqiu/orgs", "repos_url": "https://api.github.com/users/linzhiqiu/repos", "events_url": "https://api.github.com/users/linzhiqiu/events{/privacy}", "received_events_url": "https://api.github.com/users/linzhiqiu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-21T17:19:00Z", "updated_at": "2018-09-12T01:25:36Z", "closed_at": "2018-08-21T17:20:58Z", "author_association": "NONE", "body_html": "<p>I was trying to compute the gradient w.r.t input image using a resnet model. When using pretrained/not trained resnet model, the gradient can be computed correctly; when I instead load a module using</p>\n<p><code>model_dict = torch.load(model_path)</code><br>\n<code>model.load_state_dict(model_dict)</code></p>\n<p>The gradient computed then becomes zero w.r.t input.</p>\n<p>I am pretty sure my model is working as it gets pretty good accuracy. Any idea what might happen?</p>", "body_text": "I was trying to compute the gradient w.r.t input image using a resnet model. When using pretrained/not trained resnet model, the gradient can be computed correctly; when I instead load a module using\nmodel_dict = torch.load(model_path)\nmodel.load_state_dict(model_dict)\nThe gradient computed then becomes zero w.r.t input.\nI am pretty sure my model is working as it gets pretty good accuracy. Any idea what might happen?", "body": "I was trying to compute the gradient w.r.t input image using a resnet model. When using pretrained/not trained resnet model, the gradient can be computed correctly; when I instead load a module using \r\n\r\n`model_dict = torch.load(model_path)`\r\n`model.load_state_dict(model_dict)`\r\n\r\nThe gradient computed then becomes zero w.r.t input.\r\n\r\nI am pretty sure my model is working as it gets pretty good accuracy. Any idea what might happen?"}