{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8831", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8831/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8831/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8831/events", "html_url": "https://github.com/pytorch/pytorch/issues/8831", "id": 335142858, "node_id": "MDU6SXNzdWUzMzUxNDI4NTg=", "number": 8831, "title": "question about installation PyTorch from source", "user": {"login": "qiulesun", "id": 17628841, "node_id": "MDQ6VXNlcjE3NjI4ODQx", "avatar_url": "https://avatars1.githubusercontent.com/u/17628841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qiulesun", "html_url": "https://github.com/qiulesun", "followers_url": "https://api.github.com/users/qiulesun/followers", "following_url": "https://api.github.com/users/qiulesun/following{/other_user}", "gists_url": "https://api.github.com/users/qiulesun/gists{/gist_id}", "starred_url": "https://api.github.com/users/qiulesun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qiulesun/subscriptions", "organizations_url": "https://api.github.com/users/qiulesun/orgs", "repos_url": "https://api.github.com/users/qiulesun/repos", "events_url": "https://api.github.com/users/qiulesun/events{/privacy}", "received_events_url": "https://api.github.com/users/qiulesun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-24T01:20:44Z", "updated_at": "2018-07-20T12:35:45Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>running install<br>\nrunning build_deps</p>\n<ul>\n<li>USE_CUDA=0</li>\n<li>USE_ROCM=0</li>\n<li>USE_NNPACK=0</li>\n</ul>\n<p>......</p>\n<p>-- Found CUDA: /usr/local/cuda-8.0 (found suitable version \"8.0\", minimum required is \"7.0\")<br>\n-- Automatic GPU detection failed. Building for common architectures.<br>\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2;6.0;6.1;6.1+PTX<br>\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_30,code=sm_30 -gencode=arch=compute_35,code=sm_35 -gencode=arch=compute_50,code=sm_50 -gencode=arch=compute_52,code=sm_52 -gencode=arch=compute_60,code=sm_60 -gencode=arch=compute_61,code=sm_61 -gencode=arch=compute_61,code=compute_61<br>\n-- Configuring done<br>\n-- Generating done<br>\n-- Build files have been written to: /media/hh/pytorch_dir/pytorch/third_party/build/nccl</p>\n<ul>\n<li>make install<br>\nScanning dependencies of target nccl<br>\n[100%] Generating lib/libnccl.so<br>\nGrabbing  src/nccl.h                          &gt; /media/hh/pytorch_dir/pytorch/third_party/build/nccl/include/nccl.h<br>\nCompiling src/libwrap.cu                      &gt; /media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o<br>\nnvcc fatal   : redefinition of keyword 'code'<br>\nmake[3]: *** [/media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o] Error 1<br>\nmake[3]: INTERNAL: Exiting with 9 jobserver tokens available; should be 8!<br>\nmake[2]: *** [lib/libnccl.so] Error 2<br>\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'</li>\n</ul>\n<h2>Code example</h2>\n<p>python setup.py install</p>\n<h2>System Info</h2>\n<ul>\n<li>PyTorch or Caffe2:PyTorch</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Build command you used (if compiling from source):python setup.py install</li>\n<li>OS:ubuntu14.04</li>\n<li>PyTorch version:master</li>\n<li>Python version:3.6</li>\n<li>CUDA/cuDNN version:8.0</li>\n<li>GPU models and configuration:GTX1080Ti</li>\n<li>GCC version (if compiling from source):4.9.2</li>\n<li>CMake version:3.7.2</li>\n<li>Versions of any other relevant libraries:</li>\n</ul>", "body_text": "Issue description\nrunning install\nrunning build_deps\n\nUSE_CUDA=0\nUSE_ROCM=0\nUSE_NNPACK=0\n\n......\n-- Found CUDA: /usr/local/cuda-8.0 (found suitable version \"8.0\", minimum required is \"7.0\")\n-- Automatic GPU detection failed. Building for common architectures.\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2;6.0;6.1;6.1+PTX\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_30,code=sm_30 -gencode=arch=compute_35,code=sm_35 -gencode=arch=compute_50,code=sm_50 -gencode=arch=compute_52,code=sm_52 -gencode=arch=compute_60,code=sm_60 -gencode=arch=compute_61,code=sm_61 -gencode=arch=compute_61,code=compute_61\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /media/hh/pytorch_dir/pytorch/third_party/build/nccl\n\nmake install\nScanning dependencies of target nccl\n[100%] Generating lib/libnccl.so\nGrabbing  src/nccl.h                          > /media/hh/pytorch_dir/pytorch/third_party/build/nccl/include/nccl.h\nCompiling src/libwrap.cu                      > /media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o\nnvcc fatal   : redefinition of keyword 'code'\nmake[3]: *** [/media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o] Error 1\nmake[3]: INTERNAL: Exiting with 9 jobserver tokens available; should be 8!\nmake[2]: *** [lib/libnccl.so] Error 2\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'\n\nCode example\npython setup.py install\nSystem Info\n\nPyTorch or Caffe2:PyTorch\nHow you installed PyTorch (conda, pip, source): source\nBuild command you used (if compiling from source):python setup.py install\nOS:ubuntu14.04\nPyTorch version:master\nPython version:3.6\nCUDA/cuDNN version:8.0\nGPU models and configuration:GTX1080Ti\nGCC version (if compiling from source):4.9.2\nCMake version:3.7.2\nVersions of any other relevant libraries:", "body": "## Issue description\r\n\r\nrunning install\r\nrunning build_deps\r\n+ USE_CUDA=0\r\n+ USE_ROCM=0\r\n+ USE_NNPACK=0\r\n\r\n......\r\n\r\n-- Found CUDA: /usr/local/cuda-8.0 (found suitable version \"8.0\", minimum required is \"7.0\") \r\n-- Automatic GPU detection failed. Building for common architectures.\r\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2;6.0;6.1;6.1+PTX\r\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_30,code=sm_30 -gencode=arch=compute_35,code=sm_35 -gencode=arch=compute_50,code=sm_50 -gencode=arch=compute_52,code=sm_52 -gencode=arch=compute_60,code=sm_60 -gencode=arch=compute_61,code=sm_61 -gencode=arch=compute_61,code=compute_61\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /media/hh/pytorch_dir/pytorch/third_party/build/nccl\r\n+ make install\r\nScanning dependencies of target nccl\r\n[100%] Generating lib/libnccl.so\r\nGrabbing  src/nccl.h                          > /media/hh/pytorch_dir/pytorch/third_party/build/nccl/include/nccl.h\r\nCompiling src/libwrap.cu                      > /media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o\r\nnvcc fatal   : redefinition of keyword 'code' \r\nmake[3]: *** [/media/hh/pytorch_dir/pytorch/third_party/build/nccl/obj/libwrap.o] Error 1\r\nmake[3]: INTERNAL: Exiting with 9 jobserver tokens available; should be 8!\r\nmake[2]: *** [lib/libnccl.so] Error 2\r\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\r\nmake: *** [all] Error 2\r\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'\r\n\r\n## Code example\r\n\r\npython setup.py install\r\n\r\n## System Info\r\n\r\n\r\n- PyTorch or Caffe2:PyTorch\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Build command you used (if compiling from source):python setup.py install\r\n- OS:ubuntu14.04\r\n- PyTorch version:master\r\n- Python version:3.6\r\n- CUDA/cuDNN version:8.0\r\n- GPU models and configuration:GTX1080Ti\r\n- GCC version (if compiling from source):4.9.2\r\n- CMake version:3.7.2\r\n- Versions of any other relevant libraries:\r\n"}