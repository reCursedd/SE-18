{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13465", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13465/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13465/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13465/events", "html_url": "https://github.com/pytorch/pytorch/issues/13465", "id": 376521545, "node_id": "MDU6SXNzdWUzNzY1MjE1NDU=", "number": 13465, "title": "setup_pytorch_env.bat called multiple times in windows CI, slowing it down", "user": {"login": "anderspapitto", "id": 1388690, "node_id": "MDQ6VXNlcjEzODg2OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1388690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anderspapitto", "html_url": "https://github.com/anderspapitto", "followers_url": "https://api.github.com/users/anderspapitto/followers", "following_url": "https://api.github.com/users/anderspapitto/following{/other_user}", "gists_url": "https://api.github.com/users/anderspapitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/anderspapitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderspapitto/subscriptions", "organizations_url": "https://api.github.com/users/anderspapitto/orgs", "repos_url": "https://api.github.com/users/anderspapitto/repos", "events_url": "https://api.github.com/users/anderspapitto/events{/privacy}", "received_events_url": "https://api.github.com/users/anderspapitto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}, {"id": 790080431, "node_id": "MDU6TGFiZWw3OTAwODA0MzE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/windows", "name": "windows", "color": "fcff6b", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-01T18:48:47Z", "updated_at": "2018-11-01T18:48:56Z", "closed_at": null, "author_association": "MEMBER", "body_html": "<p>open up the full log from a <code>test2</code> job, and search for setup_pytorch_env.bat - there are two occurences.</p>\n<p>This is because in win-test.sh, we do</p>\n<pre><code>ci_scripts/test_python_all_except_nn.bat &amp;&amp; ci_scripts/test_custom_script_ops.bat\n</code></pre>\n<p>and each of those runs the setup script at the top.</p>\n<p>bonus points if the environment setup is split out in a way that's convenient for iterative debugging (i.e. rerun tests N times without reinstalling python packages N times)</p>", "body_text": "open up the full log from a test2 job, and search for setup_pytorch_env.bat - there are two occurences.\nThis is because in win-test.sh, we do\nci_scripts/test_python_all_except_nn.bat && ci_scripts/test_custom_script_ops.bat\n\nand each of those runs the setup script at the top.\nbonus points if the environment setup is split out in a way that's convenient for iterative debugging (i.e. rerun tests N times without reinstalling python packages N times)", "body": "open up the full log from a `test2` job, and search for setup_pytorch_env.bat - there are two occurences.\r\n\r\nThis is because in win-test.sh, we do \r\n\r\n```\r\nci_scripts/test_python_all_except_nn.bat && ci_scripts/test_custom_script_ops.bat\r\n```\r\n\r\nand each of those runs the setup script at the top.\r\n\r\nbonus points if the environment setup is split out in a way that's convenient for iterative debugging (i.e. rerun tests N times without reinstalling python packages N times)"}