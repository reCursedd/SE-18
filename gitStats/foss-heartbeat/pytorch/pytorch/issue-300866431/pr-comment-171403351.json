{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/171403351", "pull_request_review_id": 100250645, "id": 171403351, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTQwMzM1MQ==", "diff_hunk": "@@ -184,7 +185,15 @@ void PropagateShapeOnNode(Node * node) {\n \n void PropagateShapeOnBlock(Block * block) {\n   for (Node * node : block->nodes()) {\n-    PropagateShapeOnNode(node);\n+    try {\n+      PropagateShapeOnNode(node);\n+    } catch(std::exception & e) {\n+      if(auto sl = node->getSourceLocation()) {\n+        sl->wrapAndRethrowException(e, \"operation failed shape propagation\");", "path": "torch/csrc/jit/passes/shape_analysis.cpp", "position": 65, "original_position": 64, "commit_id": "767cc3f5663acfd51373f20b23f795040590d490", "original_commit_id": "a98ddc738f11db6c9c99dc1804832ff06119c6ef", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "Yeah, I want to fix this because this error will suck no matter what. Technically it can even fire when the original code would have never executed the line (e.g. if the line is guarded). What I want to do in the future is to just propagate DynamicType when it fails and let all of our failures happen in the interpreter.", "created_at": "2018-02-28T22:15:38Z", "updated_at": "2018-11-23T15:40:10Z", "html_url": "https://github.com/pytorch/pytorch/pull/5449#discussion_r171403351", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/5449", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/171403351"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/5449#discussion_r171403351"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/5449"}}, "body_html": "<p>Yeah, I want to fix this because this error will suck no matter what. Technically it can even fire when the original code would have never executed the line (e.g. if the line is guarded). What I want to do in the future is to just propagate DynamicType when it fails and let all of our failures happen in the interpreter.</p>", "body_text": "Yeah, I want to fix this because this error will suck no matter what. Technically it can even fire when the original code would have never executed the line (e.g. if the line is guarded). What I want to do in the future is to just propagate DynamicType when it fails and let all of our failures happen in the interpreter.", "in_reply_to_id": 171283098}