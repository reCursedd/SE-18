{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4665", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4665/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4665/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4665/events", "html_url": "https://github.com/pytorch/pytorch/issues/4665", "id": 288444304, "node_id": "MDU6SXNzdWUyODg0NDQzMDQ=", "number": 4665, "title": "Import torch error when building Docker", "user": {"login": "thiscantbetaken", "id": 30937226, "node_id": "MDQ6VXNlcjMwOTM3MjI2", "avatar_url": "https://avatars0.githubusercontent.com/u/30937226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiscantbetaken", "html_url": "https://github.com/thiscantbetaken", "followers_url": "https://api.github.com/users/thiscantbetaken/followers", "following_url": "https://api.github.com/users/thiscantbetaken/following{/other_user}", "gists_url": "https://api.github.com/users/thiscantbetaken/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiscantbetaken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiscantbetaken/subscriptions", "organizations_url": "https://api.github.com/users/thiscantbetaken/orgs", "repos_url": "https://api.github.com/users/thiscantbetaken/repos", "events_url": "https://api.github.com/users/thiscantbetaken/events{/privacy}", "received_events_url": "https://api.github.com/users/thiscantbetaken/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-14T22:15:53Z", "updated_at": "2018-01-15T09:35:46Z", "closed_at": "2018-01-15T09:35:46Z", "author_association": "NONE", "body_html": "<p>From <strong><a href=\"https://github.com/pytorch/pytorch#docker-image\">https://github.com/pytorch/pytorch#docker-image</a></strong>:</p>\n<pre><code>$ docker build -t pytorch_cuda9 -f tools/docker/Dockerfile9 .\nSending build context to Docker daemon  33.78MB\nStep 1/14 : FROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n9.0-cudnn7-devel-ubuntu16.04: Pulling from nvidia/cuda\n50aff78429b1: Pull complete \nf6d82e297bce: Pull complete \n275abb2c8a6f: Pull complete \n9f15a39356d6: Pull complete \nfc0342a94c89: Pull complete \na4adf2161c6b: Pull complete \n8f86feaebedb: Pull complete \na1f2e681a892: Pull complete \ndddbbfcd9343: Pull complete \ne16144f996cb: Pull complete \n8cd9da093fe7: Pull complete \nDigest: sha256:81a26c1cbe2bbd913ea1907366fb92d9ffe31eca3d2d37f144837acb0ca68ae8\nStatus: Downloaded newer image for nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n ---&gt; 7263fb84069a\nStep 2/14 : RUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" &gt; /etc/apt/sources.list.d/nvidia-ml.list\n ---&gt; Running in 93c593a359bb\nRemoving intermediate container 93c593a359bb\n ---&gt; 48c158f834bd\n[...]\n    warning: no previously-included files matching '*.py[co]' found under directory '*'\n    writing manifest file 'torchvision.egg-info/SOURCES.txt'\n    Copying torchvision.egg-info to /opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages/torchvision-0.2.0-py3.6.egg-info\n    running install_scripts\n    writing list of installed files to '/tmp/pip-wapibxoy-record/install-record.txt'\n    Running setup.py install for torchvision: finished with status 'done'\n  Removing source in /tmp/pip-1cuu5oqj-build\nSuccessfully installed pillow-5.0.0 torchvision-0.2.0\nCleaning up...\nRemoving intermediate container ceb6acafa40f\n ---&gt; 45a996e31703\nStep 13/14 : WORKDIR /workspace\nRemoving intermediate container 1e2b48d4fff5\n ---&gt; b5c02b17bbe8\nStep 14/14 : RUN chmod -R a+w /workspace\n ---&gt; Running in d0dad20f6815\nRemoving intermediate container d0dad20f6815\n ---&gt; 7078c5d41329\nSuccessfully built 7078c5d41329\nSuccessfully tagged pytorch_cuda9:latest\n# python --version\nPython 3.6.4 :: Anaconda, Inc.\n# python\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \n[GCC 7.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import torch\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/workspace/torch/__init__.py\", line 14, in &lt;module&gt;\n    from .version import __version__\nModuleNotFoundError: No module named 'torch.version'\n&gt;&gt;&gt; print(torch.__version__)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'torch' is not defined\n&gt;&gt;&gt; import torch\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/workspace/torch/__init__.py\", line 14, in &lt;module&gt;\n    from .version import __version__\nModuleNotFoundError: No module named 'torch.version'\n&gt;&gt;&gt; \n</code></pre>\n<p>Tried changing directories per <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"288302123\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/4650\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/4650/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/4650\">#4650</a>:</p>\n<pre><code># python\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \n[GCC 7.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import pytorch\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'pytorch'\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; print (sys.path)\n['', '/opt/conda/envs/pytorch-py3.6/lib/python36.zip', '/opt/conda/envs/pytorch-py3.6/lib/python3.6', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/lib-dynload', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages']\n</code></pre>\n<p>Maybe sys.path is incomplete? Compared with <strong>pytorch/pytorch:latest</strong>:</p>\n<pre><code># python\nimporPython 3.5.2 |Continuum Analytics, Inc.| (default, Jul  2 2016, 17:53:06) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys    \n&gt;&gt;&gt; print (sys.path)\n['', '/opt/conda/envs/pytorch-py35/lib/python35.zip', '/opt/conda/envs/pytorch-py35/lib/python3.5', '/opt/conda/envs/pytorch-py35/lib/python3.5/plat-linux', '/opt/conda/envs/pytorch-py35/lib/python3.5/lib-dynload', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/setuptools-27.2.0-py3.5.egg', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/torchvision-0.1.9-py3.5.egg']\n</code></pre>", "body_text": "From https://github.com/pytorch/pytorch#docker-image:\n$ docker build -t pytorch_cuda9 -f tools/docker/Dockerfile9 .\nSending build context to Docker daemon  33.78MB\nStep 1/14 : FROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n9.0-cudnn7-devel-ubuntu16.04: Pulling from nvidia/cuda\n50aff78429b1: Pull complete \nf6d82e297bce: Pull complete \n275abb2c8a6f: Pull complete \n9f15a39356d6: Pull complete \nfc0342a94c89: Pull complete \na4adf2161c6b: Pull complete \n8f86feaebedb: Pull complete \na1f2e681a892: Pull complete \ndddbbfcd9343: Pull complete \ne16144f996cb: Pull complete \n8cd9da093fe7: Pull complete \nDigest: sha256:81a26c1cbe2bbd913ea1907366fb92d9ffe31eca3d2d37f144837acb0ca68ae8\nStatus: Downloaded newer image for nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\n ---> 7263fb84069a\nStep 2/14 : RUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" > /etc/apt/sources.list.d/nvidia-ml.list\n ---> Running in 93c593a359bb\nRemoving intermediate container 93c593a359bb\n ---> 48c158f834bd\n[...]\n    warning: no previously-included files matching '*.py[co]' found under directory '*'\n    writing manifest file 'torchvision.egg-info/SOURCES.txt'\n    Copying torchvision.egg-info to /opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages/torchvision-0.2.0-py3.6.egg-info\n    running install_scripts\n    writing list of installed files to '/tmp/pip-wapibxoy-record/install-record.txt'\n    Running setup.py install for torchvision: finished with status 'done'\n  Removing source in /tmp/pip-1cuu5oqj-build\nSuccessfully installed pillow-5.0.0 torchvision-0.2.0\nCleaning up...\nRemoving intermediate container ceb6acafa40f\n ---> 45a996e31703\nStep 13/14 : WORKDIR /workspace\nRemoving intermediate container 1e2b48d4fff5\n ---> b5c02b17bbe8\nStep 14/14 : RUN chmod -R a+w /workspace\n ---> Running in d0dad20f6815\nRemoving intermediate container d0dad20f6815\n ---> 7078c5d41329\nSuccessfully built 7078c5d41329\nSuccessfully tagged pytorch_cuda9:latest\n# python --version\nPython 3.6.4 :: Anaconda, Inc.\n# python\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \n[GCC 7.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import torch\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/workspace/torch/__init__.py\", line 14, in <module>\n    from .version import __version__\nModuleNotFoundError: No module named 'torch.version'\n>>> print(torch.__version__)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nNameError: name 'torch' is not defined\n>>> import torch\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/workspace/torch/__init__.py\", line 14, in <module>\n    from .version import __version__\nModuleNotFoundError: No module named 'torch.version'\n>>> \n\nTried changing directories per #4650:\n# python\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \n[GCC 7.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import pytorch\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nModuleNotFoundError: No module named 'pytorch'\n>>> import sys\n>>> print (sys.path)\n['', '/opt/conda/envs/pytorch-py3.6/lib/python36.zip', '/opt/conda/envs/pytorch-py3.6/lib/python3.6', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/lib-dynload', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages']\n\nMaybe sys.path is incomplete? Compared with pytorch/pytorch:latest:\n# python\nimporPython 3.5.2 |Continuum Analytics, Inc.| (default, Jul  2 2016, 17:53:06) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sys    \n>>> print (sys.path)\n['', '/opt/conda/envs/pytorch-py35/lib/python35.zip', '/opt/conda/envs/pytorch-py35/lib/python3.5', '/opt/conda/envs/pytorch-py35/lib/python3.5/plat-linux', '/opt/conda/envs/pytorch-py35/lib/python3.5/lib-dynload', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/setuptools-27.2.0-py3.5.egg', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/torchvision-0.1.9-py3.5.egg']", "body": "From **https://github.com/pytorch/pytorch#docker-image**:\r\n\r\n```\r\n$ docker build -t pytorch_cuda9 -f tools/docker/Dockerfile9 .\r\nSending build context to Docker daemon  33.78MB\r\nStep 1/14 : FROM nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\r\n9.0-cudnn7-devel-ubuntu16.04: Pulling from nvidia/cuda\r\n50aff78429b1: Pull complete \r\nf6d82e297bce: Pull complete \r\n275abb2c8a6f: Pull complete \r\n9f15a39356d6: Pull complete \r\nfc0342a94c89: Pull complete \r\na4adf2161c6b: Pull complete \r\n8f86feaebedb: Pull complete \r\na1f2e681a892: Pull complete \r\ndddbbfcd9343: Pull complete \r\ne16144f996cb: Pull complete \r\n8cd9da093fe7: Pull complete \r\nDigest: sha256:81a26c1cbe2bbd913ea1907366fb92d9ffe31eca3d2d37f144837acb0ca68ae8\r\nStatus: Downloaded newer image for nvidia/cuda:9.0-cudnn7-devel-ubuntu16.04\r\n ---> 7263fb84069a\r\nStep 2/14 : RUN echo \"deb http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1604/x86_64 /\" > /etc/apt/sources.list.d/nvidia-ml.list\r\n ---> Running in 93c593a359bb\r\nRemoving intermediate container 93c593a359bb\r\n ---> 48c158f834bd\r\n[...]\r\n    warning: no previously-included files matching '*.py[co]' found under directory '*'\r\n    writing manifest file 'torchvision.egg-info/SOURCES.txt'\r\n    Copying torchvision.egg-info to /opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages/torchvision-0.2.0-py3.6.egg-info\r\n    running install_scripts\r\n    writing list of installed files to '/tmp/pip-wapibxoy-record/install-record.txt'\r\n    Running setup.py install for torchvision: finished with status 'done'\r\n  Removing source in /tmp/pip-1cuu5oqj-build\r\nSuccessfully installed pillow-5.0.0 torchvision-0.2.0\r\nCleaning up...\r\nRemoving intermediate container ceb6acafa40f\r\n ---> 45a996e31703\r\nStep 13/14 : WORKDIR /workspace\r\nRemoving intermediate container 1e2b48d4fff5\r\n ---> b5c02b17bbe8\r\nStep 14/14 : RUN chmod -R a+w /workspace\r\n ---> Running in d0dad20f6815\r\nRemoving intermediate container d0dad20f6815\r\n ---> 7078c5d41329\r\nSuccessfully built 7078c5d41329\r\nSuccessfully tagged pytorch_cuda9:latest\r\n# python --version\r\nPython 3.6.4 :: Anaconda, Inc.\r\n# python\r\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import torch\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/workspace/torch/__init__.py\", line 14, in <module>\r\n    from .version import __version__\r\nModuleNotFoundError: No module named 'torch.version'\r\n>>> print(torch.__version__)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'torch' is not defined\r\n>>> import torch\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/workspace/torch/__init__.py\", line 14, in <module>\r\n    from .version import __version__\r\nModuleNotFoundError: No module named 'torch.version'\r\n>>> \r\n```\r\nTried changing directories per [https://github.com/pytorch/pytorch/issues/4650](https://github.com/pytorch/pytorch/issues/4650):\r\n\r\n```\r\n# python\r\nPython 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pytorch\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'pytorch'\r\n>>> import sys\r\n>>> print (sys.path)\r\n['', '/opt/conda/envs/pytorch-py3.6/lib/python36.zip', '/opt/conda/envs/pytorch-py3.6/lib/python3.6', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/lib-dynload', '/opt/conda/envs/pytorch-py3.6/lib/python3.6/site-packages']\r\n```\r\n\r\nMaybe sys.path is incomplete? Compared with **pytorch/pytorch:latest**:\r\n\r\n```\r\n# python\r\nimporPython 3.5.2 |Continuum Analytics, Inc.| (default, Jul  2 2016, 17:53:06) \r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sys    \r\n>>> print (sys.path)\r\n['', '/opt/conda/envs/pytorch-py35/lib/python35.zip', '/opt/conda/envs/pytorch-py35/lib/python3.5', '/opt/conda/envs/pytorch-py35/lib/python3.5/plat-linux', '/opt/conda/envs/pytorch-py35/lib/python3.5/lib-dynload', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/setuptools-27.2.0-py3.5.egg', '/opt/conda/envs/pytorch-py35/lib/python3.5/site-packages/torchvision-0.1.9-py3.5.egg']\r\n```\r\n\r\n"}