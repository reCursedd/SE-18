{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/439814455", "html_url": "https://github.com/pytorch/pytorch/pull/14182#issuecomment-439814455", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/14182", "id": 439814455, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTgxNDQ1NQ==", "user": {"login": "JerryShih", "id": 5842681, "node_id": "MDQ6VXNlcjU4NDI2ODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5842681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JerryShih", "html_url": "https://github.com/JerryShih", "followers_url": "https://api.github.com/users/JerryShih/followers", "following_url": "https://api.github.com/users/JerryShih/following{/other_user}", "gists_url": "https://api.github.com/users/JerryShih/gists{/gist_id}", "starred_url": "https://api.github.com/users/JerryShih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JerryShih/subscriptions", "organizations_url": "https://api.github.com/users/JerryShih/orgs", "repos_url": "https://api.github.com/users/JerryShih/repos", "events_url": "https://api.github.com/users/JerryShih/events{/privacy}", "received_events_url": "https://api.github.com/users/JerryShih/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-19T08:47:51Z", "updated_at": "2018-11-19T08:47:51Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>After some thoughts, I think this diff may cause some problem. Originally, we statically link protobuf, and libtorch.so doesn't have any dependence on protobuf at runtime. If we remove it from source, we need protobuf at runtime explicitly (libcaffe2.so's protobuf symbols won't be visible.)</p>\n<p>Ask advice from build masters opnion :-)<br>\ncc: <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=551151\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Yangqing\">@Yangqing</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=17890620\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dzhulgakov\">@dzhulgakov</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=79994\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/orionr\">@orionr</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9300575\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bddppq\">@bddppq</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1388690\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/anderspapitto\">@anderspapitto</a></p>\n</blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=30275821\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/houseroad\">@houseroad</a><br>\nI removed the protobuf linking in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"367716550\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12451\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12451/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12451\">#12451</a>. There will have some problems if caffe2(or pytorch) use its own protobuf in my environment.</p>", "body_text": "After some thoughts, I think this diff may cause some problem. Originally, we statically link protobuf, and libtorch.so doesn't have any dependence on protobuf at runtime. If we remove it from source, we need protobuf at runtime explicitly (libcaffe2.so's protobuf symbols won't be visible.)\nAsk advice from build masters opnion :-)\ncc: @Yangqing @dzhulgakov @orionr @bddppq @anderspapitto\n\n@houseroad\nI removed the protobuf linking in #12451. There will have some problems if caffe2(or pytorch) use its own protobuf in my environment.", "body": "> After some thoughts, I think this diff may cause some problem. Originally, we statically link protobuf, and libtorch.so doesn't have any dependence on protobuf at runtime. If we remove it from source, we need protobuf at runtime explicitly (libcaffe2.so's protobuf symbols won't be visible.)\r\n> \r\n> Ask advice from build masters opnion :-)\r\n> cc: @Yangqing @dzhulgakov @orionr @bddppq @anderspapitto\r\n\r\n@houseroad \r\nI removed the protobuf linking in https://github.com/pytorch/pytorch/pull/12451. There will have some problems if caffe2(or pytorch) use its own protobuf in my environment."}