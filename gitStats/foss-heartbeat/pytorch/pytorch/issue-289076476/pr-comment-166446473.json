{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/166446473", "pull_request_review_id": 94509652, "id": 166446473, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NjQ0NjQ3Mw==", "diff_hunk": "@@ -158,7 +176,21 @@ def pad_packed_sequence(sequence, batch_first=False, padding_value=0):\n \n     if batch_first:\n         output = output.transpose(0, 1)\n-    return output, lengths\n+    return output, Variable(torch.LongTensor(lengths))", "path": "torch/nn/utils/rnn.py", "position": null, "original_position": 89, "commit_id": "c9c0a5924fdbb682f43d1e499db132b5babdba72", "original_commit_id": "789dac8436892d861f60247d245bb8181eaef765", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "body": "This needs a comment saying that this Variable doesn't actually have any history (even though technically it does; it's just untracked), it is purely here to make ONNX export easier.  That is to say, from an `autodiff` standpoint this doesn't make any sense.\r\n\r\nWhen we merge Variable and Tensor we can get rid of this wrapping and everything will still work. (CC @colesbury)", "created_at": "2018-02-06T21:23:51Z", "updated_at": "2018-11-23T15:39:14Z", "html_url": "https://github.com/pytorch/pytorch/pull/4695#discussion_r166446473", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4695", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/166446473"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4695#discussion_r166446473"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4695"}}, "body_html": "<p>This needs a comment saying that this Variable doesn't actually have any history (even though technically it does; it's just untracked), it is purely here to make ONNX export easier.  That is to say, from an <code>autodiff</code> standpoint this doesn't make any sense.</p>\n<p>When we merge Variable and Tensor we can get rid of this wrapping and everything will still work. (CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a>)</p>", "body_text": "This needs a comment saying that this Variable doesn't actually have any history (even though technically it does; it's just untracked), it is purely here to make ONNX export easier.  That is to say, from an autodiff standpoint this doesn't make any sense.\nWhen we merge Variable and Tensor we can get rid of this wrapping and everything will still work. (CC @colesbury)"}