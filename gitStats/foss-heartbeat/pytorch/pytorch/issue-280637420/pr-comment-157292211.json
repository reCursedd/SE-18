{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/157292211", "pull_request_review_id": 83915132, "id": 157292211, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzI5MjIxMQ==", "diff_hunk": "@@ -0,0 +1,33 @@\n+#pragma once\n+\n+#include <memory>\n+#include <stddef.h>\n+\n+#include \"ATen/Retainable.h\"\n+\n+namespace at {\n+\n+struct Allocator {\n+  virtual void* allocate(std::size_t n) const = 0;\n+  virtual void deallocate(void* ptr) const = 0;\n+};\n+\n+namespace detail {\n+\n+struct AllocatorContext : public Retainable {", "path": "aten/src/ATen/Allocator.h", "position": null, "original_position": 17, "commit_id": "cd4cdb9fa1bbafa2abfb13878e7c22d3d88f5c9a", "original_commit_id": "54f86b50661dc920ee70d6a00ce5e40e2f5a3e6e", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "body": "I agree the Context suffix isn't great; since it's not part of the public API it seems fine to leak the implementation details and just call it an AllocatorRetainable (switching the order is probably clearer but it's nice to have Allocator at the front).", "created_at": "2017-12-15T20:27:25Z", "updated_at": "2018-11-23T15:37:27Z", "html_url": "https://github.com/pytorch/pytorch/pull/4094#discussion_r157292211", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4094", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/157292211"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4094#discussion_r157292211"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4094"}}, "body_html": "<p>I agree the Context suffix isn't great; since it's not part of the public API it seems fine to leak the implementation details and just call it an AllocatorRetainable (switching the order is probably clearer but it's nice to have Allocator at the front).</p>", "body_text": "I agree the Context suffix isn't great; since it's not part of the public API it seems fine to leak the implementation details and just call it an AllocatorRetainable (switching the order is probably clearer but it's nice to have Allocator at the front).", "in_reply_to_id": 155911367}