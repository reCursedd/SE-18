{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1778", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1778/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1778/events", "html_url": "https://github.com/pytorch/pytorch/issues/1778", "id": 235101353, "node_id": "MDU6SXNzdWUyMzUxMDEzNTM=", "number": 1778, "title": "What to do if CUDA doesn't work", "user": {"login": "natetyoung", "id": 12454643, "node_id": "MDQ6VXNlcjEyNDU0NjQz", "avatar_url": "https://avatars1.githubusercontent.com/u/12454643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natetyoung", "html_url": "https://github.com/natetyoung", "followers_url": "https://api.github.com/users/natetyoung/followers", "following_url": "https://api.github.com/users/natetyoung/following{/other_user}", "gists_url": "https://api.github.com/users/natetyoung/gists{/gist_id}", "starred_url": "https://api.github.com/users/natetyoung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natetyoung/subscriptions", "organizations_url": "https://api.github.com/users/natetyoung/orgs", "repos_url": "https://api.github.com/users/natetyoung/repos", "events_url": "https://api.github.com/users/natetyoung/events{/privacy}", "received_events_url": "https://api.github.com/users/natetyoung/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-06-12T00:12:03Z", "updated_at": "2017-08-20T17:26:06Z", "closed_at": "2017-07-13T14:21:21Z", "author_association": "NONE", "body_html": "<p>I've been having considerable difficulty getting cuda to work, and I've found very sparse resources on what to do when it doesn't.</p>\n<p>I'm on Ubuntu 16.04; cuda is installed; cuDNN is in place; all the cuda samples work properly. There were no problems installing anything; the output of nvidia-smi looks fine, etc. etc.</p>\n<p>However, <code>torch.cuda.is_available()</code> returns False, and <code>torch.Tensor().cuda()</code> gives:<br>\n<code>THCudaCheck FAIL file=/py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c line=66 error=30 : unknown error Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt; File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda return new_type(self.size()).copy_(self, async) File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 272, in __new__ _lazy_init() File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 85, in _lazy_init torch._C._cuda_init() RuntimeError: cuda runtime error (30) : unknown error at /py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c:66</code></p>\n<p>Is there some troubleshooting document I should be looking at? Can anyine help me here? I've been searching in circles for quite some time.</p>\n<p>The oddest thing is, it worked yesterday, but I woke up today and it doesn't. That suggests to me it was an environment variable issue or something similar, but I haven't found any way of telling what the environment variables are actually supposed to be so I'm at a loss.</p>", "body_text": "I've been having considerable difficulty getting cuda to work, and I've found very sparse resources on what to do when it doesn't.\nI'm on Ubuntu 16.04; cuda is installed; cuDNN is in place; all the cuda samples work properly. There were no problems installing anything; the output of nvidia-smi looks fine, etc. etc.\nHowever, torch.cuda.is_available() returns False, and torch.Tensor().cuda() gives:\nTHCudaCheck FAIL file=/py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c line=66 error=30 : unknown error Traceback (most recent call last): File \"<stdin>\", line 1, in <module> File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda return new_type(self.size()).copy_(self, async) File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 272, in __new__ _lazy_init() File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 85, in _lazy_init torch._C._cuda_init() RuntimeError: cuda runtime error (30) : unknown error at /py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c:66\nIs there some troubleshooting document I should be looking at? Can anyine help me here? I've been searching in circles for quite some time.\nThe oddest thing is, it worked yesterday, but I woke up today and it doesn't. That suggests to me it was an environment variable issue or something similar, but I haven't found any way of telling what the environment variables are actually supposed to be so I'm at a loss.", "body": "I've been having considerable difficulty getting cuda to work, and I've found very sparse resources on what to do when it doesn't.\r\n\r\nI'm on Ubuntu 16.04; cuda is installed; cuDNN is in place; all the cuda samples work properly. There were no problems installing anything; the output of nvidia-smi looks fine, etc. etc.\r\n\r\nHowever, `torch.cuda.is_available()` returns False, and `torch.Tensor().cuda()` gives:\r\n`THCudaCheck FAIL file=/py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c line=66 error=30 : unknown error\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/_utils.py\", line 65, in _cuda\r\n    return new_type(self.size()).copy_(self, async)\r\n  File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 272, in __new__\r\n    _lazy_init()\r\n  File \"/home/nate/miniconda3/lib/python3.6/site-packages/torch/cuda/__init__.py\", line 85, in _lazy_init\r\n    torch._C._cuda_init()\r\nRuntimeError: cuda runtime error (30) : unknown error at /py/conda-bld/pytorch_1493681908901/work/torch/lib/THC/THCGeneral.c:66`\r\n\r\nIs there some troubleshooting document I should be looking at? Can anyine help me here? I've been searching in circles for quite some time.\r\n\r\nThe oddest thing is, it worked yesterday, but I woke up today and it doesn't. That suggests to me it was an environment variable issue or something similar, but I haven't found any way of telling what the environment variables are actually supposed to be so I'm at a loss."}