{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/402246114", "html_url": "https://github.com/pytorch/pytorch/issues/9104#issuecomment-402246114", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9104", "id": 402246114, "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjI0NjExNA==", "user": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-03T18:09:28Z", "updated_at": "2018-07-03T18:09:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>AFAIK setuptools just doesn't support this. We can add code to read environment flags and add them to the cmake flags (like this <a href=\"https://github.com/pytorch/pytorch/blob/master/setup.py#L153\">https://github.com/pytorch/pytorch/blob/master/setup.py#L153</a> ) but we have to do it manually for every flag that we want to support. The easiest thing for you to do is to just add the flag manually to this list <a href=\"https://github.com/pytorch/pytorch/blob/master/setup_caffe2.py#L140\">https://github.com/pytorch/pytorch/blob/master/setup_caffe2.py#L140</a> .</p>\n<p>I will close b/c this is a shortcoming of setuptools. And setup_caffe2.py and setup.py will be merged soon, so setting up manual flag propogation for all cmake, Caffe2, and Pytorch flags would be a lot of code to maintain for not that much added convenience.</p>", "body_text": "AFAIK setuptools just doesn't support this. We can add code to read environment flags and add them to the cmake flags (like this https://github.com/pytorch/pytorch/blob/master/setup.py#L153 ) but we have to do it manually for every flag that we want to support. The easiest thing for you to do is to just add the flag manually to this list https://github.com/pytorch/pytorch/blob/master/setup_caffe2.py#L140 .\nI will close b/c this is a shortcoming of setuptools. And setup_caffe2.py and setup.py will be merged soon, so setting up manual flag propogation for all cmake, Caffe2, and Pytorch flags would be a lot of code to maintain for not that much added convenience.", "body": "AFAIK setuptools just doesn't support this. We can add code to read environment flags and add them to the cmake flags (like this https://github.com/pytorch/pytorch/blob/master/setup.py#L153 ) but we have to do it manually for every flag that we want to support. The easiest thing for you to do is to just add the flag manually to this list https://github.com/pytorch/pytorch/blob/master/setup_caffe2.py#L140 .\r\n\r\nI will close b/c this is a shortcoming of setuptools. And setup_caffe2.py and setup.py will be merged soon, so setting up manual flag propogation for all cmake, Caffe2, and Pytorch flags would be a lot of code to maintain for not that much added convenience."}