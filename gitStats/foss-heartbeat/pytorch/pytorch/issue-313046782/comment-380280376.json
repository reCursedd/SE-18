{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/380280376", "html_url": "https://github.com/pytorch/pytorch/issues/6477#issuecomment-380280376", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6477", "id": 380280376, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDI4MDM3Ng==", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-10T23:36:28Z", "updated_at": "2018-04-10T23:36:28Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hmm can you be clearer on what you expect to see? All of the following works for me on master:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x <span class=\"pl-k\">=</span> torch.randn(<span class=\"pl-c1\">0</span>)\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x\n\n[torch.FloatTensor of size (<span class=\"pl-c1\">0</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> y <span class=\"pl-k\">=</span> torch.randn(<span class=\"pl-c1\">3</span>)\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> y\n\n <span class=\"pl-c1\">0.5596</span>\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">3</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.set_(y.storage(), y.storage_offset(), y.size(), y.stride())\n\n <span class=\"pl-c1\">0.5596</span>\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">3</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x\n\n <span class=\"pl-c1\">0.5596</span>\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">3</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.set_(y.storage(), y.storage_offset(), y.size(), <span class=\"pl-v\">stride</span><span class=\"pl-k\">=</span>y.stride())\n\n <span class=\"pl-c1\">0.5596</span>\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">3</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.set_(y.storage(), y.storage_offset(), y.size())\n\n <span class=\"pl-c1\">0.5596</span>\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">3</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.set_(y.storage(), <span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>])\n\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">2</span>,)]\n\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x.set_(y.storage(), <span class=\"pl-v\">size</span><span class=\"pl-k\">=</span>[<span class=\"pl-c1\">2</span>], <span class=\"pl-v\">storage_offset</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)\n\n<span class=\"pl-k\">-</span><span class=\"pl-c1\">1.3084</span>\n <span class=\"pl-c1\">0.0580</span>\n[torch.FloatTensor of size (<span class=\"pl-c1\">2</span>,)]\n\n</pre></div>", "body_text": "Hmm can you be clearer on what you expect to see? All of the following works for me on master:\n>>> x = torch.randn(0)\n>>> x\n\n[torch.FloatTensor of size (0,)]\n\n>>> y = torch.randn(3)\n>>> y\n\n 0.5596\n-1.3084\n 0.0580\n[torch.FloatTensor of size (3,)]\n\n>>> x.set_(y.storage(), y.storage_offset(), y.size(), y.stride())\n\n 0.5596\n-1.3084\n 0.0580\n[torch.FloatTensor of size (3,)]\n\n>>> x\n\n 0.5596\n-1.3084\n 0.0580\n[torch.FloatTensor of size (3,)]\n\n>>> x.set_(y.storage(), y.storage_offset(), y.size(), stride=y.stride())\n\n 0.5596\n-1.3084\n 0.0580\n[torch.FloatTensor of size (3,)]\n\n>>> x.set_(y.storage(), y.storage_offset(), y.size())\n\n 0.5596\n-1.3084\n 0.0580\n[torch.FloatTensor of size (3,)]\n\n>>> x.set_(y.storage(), 1, [2])\n\n-1.3084\n 0.0580\n[torch.FloatTensor of size (2,)]\n\n>>> x.set_(y.storage(), size=[2], storage_offset=1)\n\n-1.3084\n 0.0580\n[torch.FloatTensor of size (2,)]", "body": "Hmm can you be clearer on what you expect to see? All of the following works for me on master:\r\n```python\r\n>>> x = torch.randn(0)\r\n>>> x\r\n\r\n[torch.FloatTensor of size (0,)]\r\n\r\n>>> y = torch.randn(3)\r\n>>> y\r\n\r\n 0.5596\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (3,)]\r\n\r\n>>> x.set_(y.storage(), y.storage_offset(), y.size(), y.stride())\r\n\r\n 0.5596\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (3,)]\r\n\r\n>>> x\r\n\r\n 0.5596\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (3,)]\r\n\r\n>>> x.set_(y.storage(), y.storage_offset(), y.size(), stride=y.stride())\r\n\r\n 0.5596\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (3,)]\r\n\r\n>>> x.set_(y.storage(), y.storage_offset(), y.size())\r\n\r\n 0.5596\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (3,)]\r\n\r\n>>> x.set_(y.storage(), 1, [2])\r\n\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (2,)]\r\n\r\n>>> x.set_(y.storage(), size=[2], storage_offset=1)\r\n\r\n-1.3084\r\n 0.0580\r\n[torch.FloatTensor of size (2,)]\r\n\r\n\r\n```"}