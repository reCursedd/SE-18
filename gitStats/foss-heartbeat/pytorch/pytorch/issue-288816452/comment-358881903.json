{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/358881903", "html_url": "https://github.com/pytorch/pytorch/issues/4679#issuecomment-358881903", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4679", "id": 358881903, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODg4MTkwMw==", "user": {"login": "Zrachel", "id": 4532062, "node_id": "MDQ6VXNlcjQ1MzIwNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/4532062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zrachel", "html_url": "https://github.com/Zrachel", "followers_url": "https://api.github.com/users/Zrachel/followers", "following_url": "https://api.github.com/users/Zrachel/following{/other_user}", "gists_url": "https://api.github.com/users/Zrachel/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zrachel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zrachel/subscriptions", "organizations_url": "https://api.github.com/users/Zrachel/orgs", "repos_url": "https://api.github.com/users/Zrachel/repos", "events_url": "https://api.github.com/users/Zrachel/events{/privacy}", "received_events_url": "https://api.github.com/users/Zrachel/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-19T06:51:47Z", "updated_at": "2018-01-19T06:53:57Z", "author_association": "NONE", "body_html": "<p>After <code> python reduce_sum_tengli.py --rank 1</code>, the first Process:</p>\n<pre><code>$ python reduce_sum_tengli.py --rank 0\nbefore init\nafter init\nbegin rank 0\nSegmentation fault\n</code></pre>\n<p>Process 1:</p>\n<pre><code>$ python reduce_sum_tengli.py --rank 1\nbefore init\nafter init\nbegin rank 1\nTraceback (most recent call last):\n  File \"reduce_sum_tengli.py\", line 34, in &lt;module&gt;\n    init_processes(args.rank, size, run, 'tcp')\n  File \"reduce_sum_tengli.py\", line 25, in init_processes\n    fn(rank, size)\n  File \"reduce_sum_tengli.py\", line 11, in run\n    dist.all_reduce(tensor, op=dist.reduce_op.SUM, group=group)\n  File \"/home/zhangruiqing01/tools/anaconda3/lib/python3.6/site-packages/torch/distributed/__init__.py\", line 209, in all_reduce\n    return torch._C._dist_all_reduce(tensor, op, group)\nRuntimeError: Connection reset by peer\n</code></pre>", "body_text": "After  python reduce_sum_tengli.py --rank 1, the first Process:\n$ python reduce_sum_tengli.py --rank 0\nbefore init\nafter init\nbegin rank 0\nSegmentation fault\n\nProcess 1:\n$ python reduce_sum_tengli.py --rank 1\nbefore init\nafter init\nbegin rank 1\nTraceback (most recent call last):\n  File \"reduce_sum_tengli.py\", line 34, in <module>\n    init_processes(args.rank, size, run, 'tcp')\n  File \"reduce_sum_tengli.py\", line 25, in init_processes\n    fn(rank, size)\n  File \"reduce_sum_tengli.py\", line 11, in run\n    dist.all_reduce(tensor, op=dist.reduce_op.SUM, group=group)\n  File \"/home/zhangruiqing01/tools/anaconda3/lib/python3.6/site-packages/torch/distributed/__init__.py\", line 209, in all_reduce\n    return torch._C._dist_all_reduce(tensor, op, group)\nRuntimeError: Connection reset by peer", "body": "After ` python reduce_sum_tengli.py --rank 1`, the first Process:\r\n```\r\n$ python reduce_sum_tengli.py --rank 0\r\nbefore init\r\nafter init\r\nbegin rank 0\r\nSegmentation fault\r\n```\r\nProcess 1:\r\n```\r\n$ python reduce_sum_tengli.py --rank 1\r\nbefore init\r\nafter init\r\nbegin rank 1\r\nTraceback (most recent call last):\r\n  File \"reduce_sum_tengli.py\", line 34, in <module>\r\n    init_processes(args.rank, size, run, 'tcp')\r\n  File \"reduce_sum_tengli.py\", line 25, in init_processes\r\n    fn(rank, size)\r\n  File \"reduce_sum_tengli.py\", line 11, in run\r\n    dist.all_reduce(tensor, op=dist.reduce_op.SUM, group=group)\r\n  File \"/home/zhangruiqing01/tools/anaconda3/lib/python3.6/site-packages/torch/distributed/__init__.py\", line 209, in all_reduce\r\n    return torch._C._dist_all_reduce(tensor, op, group)\r\nRuntimeError: Connection reset by peer\r\n```"}