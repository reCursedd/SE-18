{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/358887112", "html_url": "https://github.com/pytorch/pytorch/issues/4679#issuecomment-358887112", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4679", "id": 358887112, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODg4NzExMg==", "user": {"login": "Zrachel", "id": 4532062, "node_id": "MDQ6VXNlcjQ1MzIwNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/4532062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zrachel", "html_url": "https://github.com/Zrachel", "followers_url": "https://api.github.com/users/Zrachel/followers", "following_url": "https://api.github.com/users/Zrachel/following{/other_user}", "gists_url": "https://api.github.com/users/Zrachel/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zrachel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zrachel/subscriptions", "organizations_url": "https://api.github.com/users/Zrachel/orgs", "repos_url": "https://api.github.com/users/Zrachel/repos", "events_url": "https://api.github.com/users/Zrachel/events{/privacy}", "received_events_url": "https://api.github.com/users/Zrachel/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-19T07:26:03Z", "updated_at": "2018-01-19T07:31:23Z", "author_association": "NONE", "body_html": "<pre><code>Reading symbols from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so...done.\nLoaded symbols for /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so\n0x00007ff866f87744 in poll () from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libc.so.6\nMissing separate debuginfos, use: debuginfo-install glibc-2.12-1.80.el6.x86_64 ncurses-libs-5.7-3.20090208.el6.x86_64\n(gdb) n\nSingle stepping until exit from function poll,\nwhich has no line number information.\n0x00007ff85b26c141 in thd::accept(int, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd6acceptEii,\nwhich has no line number information.\n0x00007ff85b250a82 in thd::discoverWorkers(int, unsigned int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd15discoverWorkersEij,\nwhich has no line number information.\n0x00007ff85b24db93 in thd::init::initTCP(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, unsigned int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd4init7initTCPESsjSsi,\nwhich has no line number information.\n0x00007ff85b24583b in thd::getInitConfig(std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd13getInitConfigESsiSsi,\nwhich has no line number information.\n0x00007ff85b212dcd in thd::DataChannel::newChannel(THDChannelType, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd11DataChannel10newChannelE14THDChannelTypeSsiSsi,\nwhich has no line number information.\n[New Thread 0x7ff82a502700 (LWP 8610)]\n[New Thread 0x7ff829b01700 (LWP 8611)]\n0x00007ff85b21195e in THDProcessGroupInit ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function THDProcessGroupInit,\nwhich has no line number information.\nTHDPModule_initProcessGroup(_object*, _object*) ()\n    at /home/zhangruiqing01/tools/anaconda3_torch_distributed/gcc/include/c++/bits/basic_string.h:539\n539           { _M_rep()-&gt;_M_dispose(this-&gt;get_allocator()); }\n(gdb) \n293           { return  _M_dataplus._M_p; }\n(gdb) \n539           { _M_rep()-&gt;_M_dispose(this-&gt;get_allocator()); }\n(gdb) \n240               if (__builtin_expect(this != &amp;_S_empty_rep(), false))\n(gdb) \n23          PyEval_RestoreThread(save);\n(gdb) \n112       THDSetCudaStatePtr(&amp;state);\n(gdb) \n539           { _M_rep()-&gt;_M_dispose(this-&gt;get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n539           { _M_rep()-&gt;_M_dispose(this-&gt;get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n539           { _M_rep()-&gt;_M_dispose(this-&gt;get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n116     }\n(gdb) \n_PyCFunction_FastCallDict (func_obj=0x7ff82aea5240, args=0x7ff82a8e73f0, nargs=&lt;value optimized out&gt;, kwargs=0x0)\n    at Objects/methodobject.c:236\n236     Objects/methodobject.c: No such file or directory.\n        in Objects/methodobject.c\n(gdb) \n266     in Objects/methodobject.c\n(gdb) \n268     in Objects/methodobject.c\n(gdb) n\n269     in Objects/methodobject.c\n(gdb) c\nContinuing.\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ff867b028b8 in __pthread_init_static_tls ()\n   from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libpthread.so.0\n(gdb) c\nContinuing.\n[Thread 0x7ff829b01700 (LWP 8611) exited]\n[Thread 0x7ff82a502700 (LWP 8610) exited]\n\nProgram terminated with signal SIGSEGV, Segmentation fault.\nThe program no longer exists.\n</code></pre>\n<p>Is it because I'm using my own-built gblic2.14? (The glibc in my environment is up to GLIBC_2.12, so I built GLIBC_2.14 from source)</p>", "body_text": "Reading symbols from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so...done.\nLoaded symbols for /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so\n0x00007ff866f87744 in poll () from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libc.so.6\nMissing separate debuginfos, use: debuginfo-install glibc-2.12-1.80.el6.x86_64 ncurses-libs-5.7-3.20090208.el6.x86_64\n(gdb) n\nSingle stepping until exit from function poll,\nwhich has no line number information.\n0x00007ff85b26c141 in thd::accept(int, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd6acceptEii,\nwhich has no line number information.\n0x00007ff85b250a82 in thd::discoverWorkers(int, unsigned int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd15discoverWorkersEij,\nwhich has no line number information.\n0x00007ff85b24db93 in thd::init::initTCP(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd4init7initTCPESsjSsi,\nwhich has no line number information.\n0x00007ff85b24583b in thd::getInitConfig(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd13getInitConfigESsiSsi,\nwhich has no line number information.\n0x00007ff85b212dcd in thd::DataChannel::newChannel(THDChannelType, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function _ZN3thd11DataChannel10newChannelE14THDChannelTypeSsiSsi,\nwhich has no line number information.\n[New Thread 0x7ff82a502700 (LWP 8610)]\n[New Thread 0x7ff829b01700 (LWP 8611)]\n0x00007ff85b21195e in THDProcessGroupInit ()\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\n(gdb) \nSingle stepping until exit from function THDProcessGroupInit,\nwhich has no line number information.\nTHDPModule_initProcessGroup(_object*, _object*) ()\n    at /home/zhangruiqing01/tools/anaconda3_torch_distributed/gcc/include/c++/bits/basic_string.h:539\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\n(gdb) \n293           { return  _M_dataplus._M_p; }\n(gdb) \n539           { _M_rep()->_M_dispose(this->get_allocator()); }\n(gdb) \n240               if (__builtin_expect(this != &_S_empty_rep(), false))\n(gdb) \n23          PyEval_RestoreThread(save);\n(gdb) \n112       THDSetCudaStatePtr(&state);\n(gdb) \n539           { _M_rep()->_M_dispose(this->get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n539           { _M_rep()->_M_dispose(this->get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n539           { _M_rep()->_M_dispose(this->get_allocator()); }\n(gdb) \n114       Py_RETURN_NONE;\n(gdb) \n116     }\n(gdb) \n_PyCFunction_FastCallDict (func_obj=0x7ff82aea5240, args=0x7ff82a8e73f0, nargs=<value optimized out>, kwargs=0x0)\n    at Objects/methodobject.c:236\n236     Objects/methodobject.c: No such file or directory.\n        in Objects/methodobject.c\n(gdb) \n266     in Objects/methodobject.c\n(gdb) \n268     in Objects/methodobject.c\n(gdb) n\n269     in Objects/methodobject.c\n(gdb) c\nContinuing.\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ff867b028b8 in __pthread_init_static_tls ()\n   from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libpthread.so.0\n(gdb) c\nContinuing.\n[Thread 0x7ff829b01700 (LWP 8611) exited]\n[Thread 0x7ff82a502700 (LWP 8610) exited]\n\nProgram terminated with signal SIGSEGV, Segmentation fault.\nThe program no longer exists.\n\nIs it because I'm using my own-built gblic2.14? (The glibc in my environment is up to GLIBC_2.12, so I built GLIBC_2.14 from source)", "body": "```\r\nReading symbols from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so...done.\r\nLoaded symbols for /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/lib-dynload/array.cpython-36m-x86_64-linux-gnu.so\r\n0x00007ff866f87744 in poll () from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libc.so.6\r\nMissing separate debuginfos, use: debuginfo-install glibc-2.12-1.80.el6.x86_64 ncurses-libs-5.7-3.20090208.el6.x86_64\r\n(gdb) n\r\nSingle stepping until exit from function poll,\r\nwhich has no line number information.\r\n0x00007ff85b26c141 in thd::accept(int, int) ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function _ZN3thd6acceptEii,\r\nwhich has no line number information.\r\n0x00007ff85b250a82 in thd::discoverWorkers(int, unsigned int) ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function _ZN3thd15discoverWorkersEij,\r\nwhich has no line number information.\r\n0x00007ff85b24db93 in thd::init::initTCP(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function _ZN3thd4init7initTCPESsjSsi,\r\nwhich has no line number information.\r\n0x00007ff85b24583b in thd::getInitConfig(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function _ZN3thd13getInitConfigESsiSsi,\r\nwhich has no line number information.\r\n0x00007ff85b212dcd in thd::DataChannel::newChannel(THDChannelType, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, int) ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function _ZN3thd11DataChannel10newChannelE14THDChannelTypeSsiSsi,\r\nwhich has no line number information.\r\n[New Thread 0x7ff82a502700 (LWP 8610)]\r\n[New Thread 0x7ff829b01700 (LWP 8611)]\r\n0x00007ff85b21195e in THDProcessGroupInit ()\r\n   from /home/zhangruiqing01/tools/anaconda3_torch_distributed/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so\r\n(gdb) \r\nSingle stepping until exit from function THDProcessGroupInit,\r\nwhich has no line number information.\r\nTHDPModule_initProcessGroup(_object*, _object*) ()\r\n    at /home/zhangruiqing01/tools/anaconda3_torch_distributed/gcc/include/c++/bits/basic_string.h:539\r\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\r\n(gdb) \r\n293           { return  _M_dataplus._M_p; }\r\n(gdb) \r\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\r\n(gdb) \r\n240               if (__builtin_expect(this != &_S_empty_rep(), false))\r\n(gdb) \r\n23          PyEval_RestoreThread(save);\r\n(gdb) \r\n112       THDSetCudaStatePtr(&state);\r\n(gdb) \r\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\r\n(gdb) \r\n114       Py_RETURN_NONE;\r\n(gdb) \r\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\r\n(gdb) \r\n114       Py_RETURN_NONE;\r\n(gdb) \r\n539           { _M_rep()->_M_dispose(this->get_allocator()); }\r\n(gdb) \r\n114       Py_RETURN_NONE;\r\n(gdb) \r\n116     }\r\n(gdb) \r\n_PyCFunction_FastCallDict (func_obj=0x7ff82aea5240, args=0x7ff82a8e73f0, nargs=<value optimized out>, kwargs=0x0)\r\n    at Objects/methodobject.c:236\r\n236     Objects/methodobject.c: No such file or directory.\r\n        in Objects/methodobject.c\r\n(gdb) \r\n266     in Objects/methodobject.c\r\n(gdb) \r\n268     in Objects/methodobject.c\r\n(gdb) n\r\n269     in Objects/methodobject.c\r\n(gdb) c\r\nContinuing.\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007ff867b028b8 in __pthread_init_static_tls ()\r\n   from /home/zhangruiqing01/tools/glibc_high/glibc2.14/glibc_2_14/lib/libpthread.so.0\r\n(gdb) c\r\nContinuing.\r\n[Thread 0x7ff829b01700 (LWP 8611) exited]\r\n[Thread 0x7ff82a502700 (LWP 8610) exited]\r\n\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\nThe program no longer exists.\r\n```\r\n\r\nIs it because I'm using my own-built gblic2.14? (The glibc in my environment is up to GLIBC_2.12, so I built GLIBC_2.14 from source)"}