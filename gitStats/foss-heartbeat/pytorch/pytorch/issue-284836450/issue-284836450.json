{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4372", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4372/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4372/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4372/events", "html_url": "https://github.com/pytorch/pytorch/issues/4372", "id": 284836450, "node_id": "MDU6SXNzdWUyODQ4MzY0NTA=", "number": 4372, "title": "Error in saving pytorch model", "user": {"login": "gentaiscool", "id": 2089264, "node_id": "MDQ6VXNlcjIwODkyNjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2089264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gentaiscool", "html_url": "https://github.com/gentaiscool", "followers_url": "https://api.github.com/users/gentaiscool/followers", "following_url": "https://api.github.com/users/gentaiscool/following{/other_user}", "gists_url": "https://api.github.com/users/gentaiscool/gists{/gist_id}", "starred_url": "https://api.github.com/users/gentaiscool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gentaiscool/subscriptions", "organizations_url": "https://api.github.com/users/gentaiscool/orgs", "repos_url": "https://api.github.com/users/gentaiscool/repos", "events_url": "https://api.github.com/users/gentaiscool/events{/privacy}", "received_events_url": "https://api.github.com/users/gentaiscool/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-28T03:51:22Z", "updated_at": "2017-12-28T15:14:44Z", "closed_at": "2017-12-28T15:14:44Z", "author_association": "NONE", "body_html": "<p>I got this error after I called retain_grad() on my variable. I worked in python 3.5.</p>\n<p>Traceback (most recent call last):<br>\nFile \"main.py\", line 256, in <br>\ntorch.save(model, f)<br>\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in save<br>\nreturn _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))<br>\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 116, in _with_file_like<br>\nreturn body(f)<br>\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in <br>\nreturn _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))<br>\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 197, in _save<br>\npickler.dump(obj)<br>\nAttributeError: Can't pickle local object 'Variable.retain_grad..retain_grad_hook'</p>\n<p>Appreciate any useful help. Thanks</p>", "body_text": "I got this error after I called retain_grad() on my variable. I worked in python 3.5.\nTraceback (most recent call last):\nFile \"main.py\", line 256, in \ntorch.save(model, f)\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in save\nreturn _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 116, in _with_file_like\nreturn body(f)\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in \nreturn _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))\nFile \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 197, in _save\npickler.dump(obj)\nAttributeError: Can't pickle local object 'Variable.retain_grad..retain_grad_hook'\nAppreciate any useful help. Thanks", "body": "I got this error after I called retain_grad() on my variable. I worked in python 3.5.\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 256, in <module>\r\n    torch.save(model, f)\r\n  File \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in save\r\n    return _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))\r\n  File \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 116, in _with_file_like\r\n    return body(f)\r\n  File \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 134, in <lambda>\r\n    return _with_file_like(f, \"wb\", lambda f: _save(obj, f, pickle_module, pickle_protocol))\r\n  File \"/home/genta/.local/lib/python3.5/site-packages/torch/serialization.py\", line 197, in _save\r\n    pickler.dump(obj)\r\nAttributeError: Can't pickle local object 'Variable.retain_grad.<locals>.retain_grad_hook'\r\n\r\nAppreciate any useful help. Thanks"}