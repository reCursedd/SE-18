{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2205", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2205/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2205/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2205/events", "html_url": "https://github.com/pytorch/pytorch/issues/2205", "id": 245517851, "node_id": "MDU6SXNzdWUyNDU1MTc4NTE=", "number": 2205, "title": "anaconda pytorch double free or corruption (fasttop) caused by glibc update", "user": {"login": "fakaiwang", "id": 16201104, "node_id": "MDQ6VXNlcjE2MjAxMTA0", "avatar_url": "https://avatars3.githubusercontent.com/u/16201104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fakaiwang", "html_url": "https://github.com/fakaiwang", "followers_url": "https://api.github.com/users/fakaiwang/followers", "following_url": "https://api.github.com/users/fakaiwang/following{/other_user}", "gists_url": "https://api.github.com/users/fakaiwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/fakaiwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fakaiwang/subscriptions", "organizations_url": "https://api.github.com/users/fakaiwang/orgs", "repos_url": "https://api.github.com/users/fakaiwang/repos", "events_url": "https://api.github.com/users/fakaiwang/events{/privacy}", "received_events_url": "https://api.github.com/users/fakaiwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-25T19:59:34Z", "updated_at": "2017-07-29T13:44:49Z", "closed_at": "2017-07-29T13:44:49Z", "author_association": "NONE", "body_html": "<p>Hi,<br>\nMy laboratory updated the glibc on our workstation, and after that my pytorch begin to fail from time to time. It seems that the error is caused by customed usage of glibc, which depends on a certain version probably. Does anyone encounter similar problem?<br>\nThank you!<br>\n-----------------------------------update record ---------------<br>\nJul 19 03:19:34 Updated: glibc-common-2.17-157.el7_3.5.x86_64<br>\nJul 19 03:19:35 Updated: glibc-2.17-157.el7_3.5.x86_64<br>\nJul 19 03:19:35 Updated: glibc-headers-2.17-157.el7_3.5.x86_64<br>\nJul 19 03:19:35 Updated: glibc-devel-2.17-157.el7_3.5.x86_64<br>\nJul 19 03:19:36 Updated: glibc-2.17-157.el7_3.5.i686<br>\n------------ldd info----------</p>\n<h1>ldd /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/libcudnn.so</h1>\n<pre><code>   linux-vdso.so.1 =&gt;  (0x00007ffed0592000)\n   librt.so.1 =&gt; /usr/lib64/librt.so.1 (0x00007f25fb472000)\n   libpthread.so.0 =&gt; /usr/lib64/libpthread.so.0 (0x00007f25fb255000)\n   libdl.so.2 =&gt; /usr/lib64/libdl.so.2 (0x00007f25fb051000)\n   libstdc++.so.6 =&gt; /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6 (0x00007f25fad3b000)\n   libm.so.6 =&gt; /usr/lib64/libm.so.6 (0x00007f25faa38000)\n   libgcc_s.so.1 =&gt; /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libgcc_s.so.1 (0x00007f25fa822000)\n   libc.so.6 =&gt; /usr/lib64/libc.so.6 (0x00007f25fa461000)\n   /lib64/ld-linux-x86-64.so.2 (0x00007f2604c07000)\n</code></pre>\n<p>------------Below is the output:-------</p>\n<p>*** Error in `python': double free or corruption (fasttop): 0x00007fe508103130 ***<br>\n======= Backtrace: =========<br>\n/usr/lib64/libc.so.6(+0x7c503)[0x7fe6a59e1503]<br>\n/usr/lib64/nvidia/libcuda.so.1(+0x1aa1df)[0x7fe674bf01df]<br>\n/usr/lib64/nvidia/libcuda.so.1(+0xd051b)[0x7fe674b1651b]<br>\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreate+0x5b)[0x7fe674c3629b]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x864236)[0x7fe690180236]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x8966a4)[0x7fe6901b26a4]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x7839bf)[0x7fe69009f9bf]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(cudnnRNNBackwardData+0xf42)[0x7fe69009dd12]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call_unix64+0x4c)[0x7fe69d1cf5b0]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call+0x1f5)[0x7fe69d1ced55]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ctypescallproc+0x3dc)[0x7fe69d1c689c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(+0x9df3)[0x7fe69d1bedf3]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x9e)[0x7fe6a68bec1e]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x14895b)[0x7fe6a699b95b]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148c88)[0x7fe6a699bc88]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x285)[0x7fe6a699a515]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x3ec9)[0x7fe6a699ffc9]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(Z23THPFunctiondo_backwardP11THPFunctionP7_object+0x133)[0x7fe695b0d533]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyCFunctionFastCallDict+0x229)[0x7fe6a6916429]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148b8c)[0x7fe6a699bb8c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c0bd)[0x7fe6a68bf0bd]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c16d)[0x7fe6a68bf16d]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_CallMethod+0xe6)[0x7fe6a68c26e6]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd10PyFunction5applyERKSt6vectorISt10sharedptrINS0_8VariableEESaIS5_EE+0xe1)[0x7fe695b0dfe1]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine17evaluatefunctionERNS0_12FunctionTaskE+0x248)[0x7fe695b03be8]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine11threadmainESt10shared_ptrINS0_10ReadyQueueEE+0x3b)[0x7fe695b056eb]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN12PythonEngine11threadmainESt10shared_ptrIN5torch8autograd10ReadyQueueEE+0x54)[0x7fe695b16284]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZNSt6thread5ImplISt12_Bind_simpleIFSt7_Mem_fnIMN5torch8autograd6EngineEFvSt10shared_ptrINS4_10ReadyQueueEEEEPS5_S8_EEE6_M_runEv+0x48)[0x7fe695b07f18]<br>\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6(+0xb7260)[0x7fe67f0eb260]<br>\n/usr/lib64/libpthread.so.0(+0x7dc5)[0x7fe6a663edc5]<br>\n/usr/lib64/libc.so.6(clone+0x6d)[0x7fe6a5a5c76d]<br>\n======= Memory map: ========</p>", "body_text": "Hi,\nMy laboratory updated the glibc on our workstation, and after that my pytorch begin to fail from time to time. It seems that the error is caused by customed usage of glibc, which depends on a certain version probably. Does anyone encounter similar problem?\nThank you!\n-----------------------------------update record ---------------\nJul 19 03:19:34 Updated: glibc-common-2.17-157.el7_3.5.x86_64\nJul 19 03:19:35 Updated: glibc-2.17-157.el7_3.5.x86_64\nJul 19 03:19:35 Updated: glibc-headers-2.17-157.el7_3.5.x86_64\nJul 19 03:19:35 Updated: glibc-devel-2.17-157.el7_3.5.x86_64\nJul 19 03:19:36 Updated: glibc-2.17-157.el7_3.5.i686\n------------ldd info----------\nldd /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/libcudnn.so\n   linux-vdso.so.1 =>  (0x00007ffed0592000)\n   librt.so.1 => /usr/lib64/librt.so.1 (0x00007f25fb472000)\n   libpthread.so.0 => /usr/lib64/libpthread.so.0 (0x00007f25fb255000)\n   libdl.so.2 => /usr/lib64/libdl.so.2 (0x00007f25fb051000)\n   libstdc++.so.6 => /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6 (0x00007f25fad3b000)\n   libm.so.6 => /usr/lib64/libm.so.6 (0x00007f25faa38000)\n   libgcc_s.so.1 => /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libgcc_s.so.1 (0x00007f25fa822000)\n   libc.so.6 => /usr/lib64/libc.so.6 (0x00007f25fa461000)\n   /lib64/ld-linux-x86-64.so.2 (0x00007f2604c07000)\n\n------------Below is the output:-------\n*** Error in `python': double free or corruption (fasttop): 0x00007fe508103130 ***\n======= Backtrace: =========\n/usr/lib64/libc.so.6(+0x7c503)[0x7fe6a59e1503]\n/usr/lib64/nvidia/libcuda.so.1(+0x1aa1df)[0x7fe674bf01df]\n/usr/lib64/nvidia/libcuda.so.1(+0xd051b)[0x7fe674b1651b]\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreate+0x5b)[0x7fe674c3629b]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x864236)[0x7fe690180236]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x8966a4)[0x7fe6901b26a4]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x7839bf)[0x7fe69009f9bf]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(cudnnRNNBackwardData+0xf42)[0x7fe69009dd12]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call_unix64+0x4c)[0x7fe69d1cf5b0]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call+0x1f5)[0x7fe69d1ced55]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ctypescallproc+0x3dc)[0x7fe69d1c689c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(+0x9df3)[0x7fe69d1bedf3]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x9e)[0x7fe6a68bec1e]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x14895b)[0x7fe6a699b95b]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148c88)[0x7fe6a699bc88]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x285)[0x7fe6a699a515]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x3ec9)[0x7fe6a699ffc9]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(Z23THPFunctiondo_backwardP11THPFunctionP7_object+0x133)[0x7fe695b0d533]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyCFunctionFastCallDict+0x229)[0x7fe6a6916429]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148b8c)[0x7fe6a699bb8c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c0bd)[0x7fe6a68bf0bd]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c16d)[0x7fe6a68bf16d]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_CallMethod+0xe6)[0x7fe6a68c26e6]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd10PyFunction5applyERKSt6vectorISt10sharedptrINS0_8VariableEESaIS5_EE+0xe1)[0x7fe695b0dfe1]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine17evaluatefunctionERNS0_12FunctionTaskE+0x248)[0x7fe695b03be8]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine11threadmainESt10shared_ptrINS0_10ReadyQueueEE+0x3b)[0x7fe695b056eb]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN12PythonEngine11threadmainESt10shared_ptrIN5torch8autograd10ReadyQueueEE+0x54)[0x7fe695b16284]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZNSt6thread5ImplISt12_Bind_simpleIFSt7_Mem_fnIMN5torch8autograd6EngineEFvSt10shared_ptrINS4_10ReadyQueueEEEEPS5_S8_EEE6_M_runEv+0x48)[0x7fe695b07f18]\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6(+0xb7260)[0x7fe67f0eb260]\n/usr/lib64/libpthread.so.0(+0x7dc5)[0x7fe6a663edc5]\n/usr/lib64/libc.so.6(clone+0x6d)[0x7fe6a5a5c76d]\n======= Memory map: ========", "body": "Hi, \r\nMy laboratory updated the glibc on our workstation, and after that my pytorch begin to fail from time to time. It seems that the error is caused by customed usage of glibc, which depends on a certain version probably. Does anyone encounter similar problem?\r\nThank you!\r\n-----------------------------------update record ---------------\r\nJul 19 03:19:34 Updated: glibc-common-2.17-157.el7_3.5.x86_64\r\nJul 19 03:19:35 Updated: glibc-2.17-157.el7_3.5.x86_64\r\nJul 19 03:19:35 Updated: glibc-headers-2.17-157.el7_3.5.x86_64\r\nJul 19 03:19:35 Updated: glibc-devel-2.17-157.el7_3.5.x86_64\r\nJul 19 03:19:36 Updated: glibc-2.17-157.el7_3.5.i686\r\n------------ldd info----------\r\n# ldd /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/libcudnn.so\r\n       linux-vdso.so.1 =>  (0x00007ffed0592000)\r\n       librt.so.1 => /usr/lib64/librt.so.1 (0x00007f25fb472000)\r\n       libpthread.so.0 => /usr/lib64/libpthread.so.0 (0x00007f25fb255000)\r\n       libdl.so.2 => /usr/lib64/libdl.so.2 (0x00007f25fb051000)\r\n       libstdc++.so.6 => /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6 (0x00007f25fad3b000)\r\n       libm.so.6 => /usr/lib64/libm.so.6 (0x00007f25faa38000)\r\n       libgcc_s.so.1 => /vulcan/scratch/jackwang/anaconda3/lib/python3.6/site-packages/torch/lib/../../../../libgcc_s.so.1 (0x00007f25fa822000)\r\n       libc.so.6 => /usr/lib64/libc.so.6 (0x00007f25fa461000)\r\n       /lib64/ld-linux-x86-64.so.2 (0x00007f2604c07000)\r\n\r\n------------Below is the output:-------\r\n\r\n*** Error in `python': double free or corruption (fasttop): 0x00007fe508103130 ***\r\n======= Backtrace: =========\r\n/usr/lib64/libc.so.6(+0x7c503)[0x7fe6a59e1503]\r\n/usr/lib64/nvidia/libcuda.so.1(+0x1aa1df)[0x7fe674bf01df]\r\n/usr/lib64/nvidia/libcuda.so.1(+0xd051b)[0x7fe674b1651b]\r\n/usr/lib64/nvidia/libcuda.so.1(cuStreamCreate+0x5b)[0x7fe674c3629b]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x864236)[0x7fe690180236]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x8966a4)[0x7fe6901b26a4]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(+0x7839bf)[0x7fe69009f9bf]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/libcudnn.so.6(cudnnRNNBackwardData+0xf42)[0x7fe69009dd12]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call_unix64+0x4c)[0x7fe69d1cf5b0]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ffi_call+0x1f5)[0x7fe69d1ced55]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(ctypescallproc+0x3dc)[0x7fe69d1c689c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/lib-dynload/_ctypes.cpython-36m-x86_64-linux-gnu.so(+0x9df3)[0x7fe69d1bedf3]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x9e)[0x7fe6a68bec1e]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x14895b)[0x7fe6a699b95b]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148c88)[0x7fe6a699bc88]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x146514)[0x7fe6a6999514]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x285)[0x7fe6a699a515]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x3ec9)[0x7fe6a699ffc9]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(Z23THPFunctiondo_backwardP11THPFunctionP7_object+0x133)[0x7fe695b0d533]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyCFunctionFastCallDict+0x229)[0x7fe6a6916429]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x148b8c)[0x7fe6a699bb8c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyEvalEvalFrameDefault+0x2c40)[0x7fe6a699ed40]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x147100)[0x7fe6a699a100]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyFunctionFastCallDict+0x10c)[0x7fe6a699a39c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectFastCallDict+0x166)[0x7fe6a68bece6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObjectCall_Prepend+0xcc)[0x7fe6a68bef3c]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_Call+0x56)[0x7fe6a68befd6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c0bd)[0x7fe6a68bf0bd]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(+0x6c16d)[0x7fe6a68bf16d]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/bin/../lib/libpython3.6m.so.1.0(PyObject_CallMethod+0xe6)[0x7fe6a68c26e6]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd10PyFunction5applyERKSt6vectorISt10sharedptrINS0_8VariableEESaIS5_EE+0xe1)[0x7fe695b0dfe1]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine17evaluatefunctionERNS0_12FunctionTaskE+0x248)[0x7fe695b03be8]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN5torch8autograd6Engine11threadmainESt10shared_ptrINS0_10ReadyQueueEE+0x3b)[0x7fe695b056eb]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZN12PythonEngine11threadmainESt10shared_ptrIN5torch8autograd10ReadyQueueEE+0x54)[0x7fe695b16284]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/_C.cpython-36m-x86_64-linux-gnu.so(ZNSt6thread5ImplISt12_Bind_simpleIFSt7_Mem_fnIMN5torch8autograd6EngineEFvSt10shared_ptrINS4_10ReadyQueueEEEEPS5_S8_EEE6_M_runEv+0x48)[0x7fe695b07f18]\r\n/vulcan/scratch/jackwang/anaconda3/envs/magma/lib/python3.6/site-packages/torch/lib/../../../../libstdc++.so.6(+0xb7260)[0x7fe67f0eb260]\r\n/usr/lib64/libpthread.so.0(+0x7dc5)[0x7fe6a663edc5]\r\n/usr/lib64/libc.so.6(clone+0x6d)[0x7fe6a5a5c76d]\r\n======= Memory map: ========"}