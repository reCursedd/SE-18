{"url": "https://api.github.com/repos/pytorch/pytorch/issues/610", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/610/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/610/events", "html_url": "https://github.com/pytorch/pytorch/issues/610", "id": 203688521, "node_id": "MDU6SXNzdWUyMDM2ODg1MjE=", "number": 610, "title": "Resize gradients computed by basic math Functions to match original input sizes", "user": {"login": "Kontrakt", "id": 12998284, "node_id": "MDQ6VXNlcjEyOTk4Mjg0", "avatar_url": "https://avatars2.githubusercontent.com/u/12998284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kontrakt", "html_url": "https://github.com/Kontrakt", "followers_url": "https://api.github.com/users/Kontrakt/followers", "following_url": "https://api.github.com/users/Kontrakt/following{/other_user}", "gists_url": "https://api.github.com/users/Kontrakt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kontrakt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kontrakt/subscriptions", "organizations_url": "https://api.github.com/users/Kontrakt/orgs", "repos_url": "https://api.github.com/users/Kontrakt/repos", "events_url": "https://api.github.com/users/Kontrakt/events{/privacy}", "received_events_url": "https://api.github.com/users/Kontrakt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-27T17:05:30Z", "updated_at": "2017-04-18T22:13:36Z", "closed_at": "2017-04-18T22:13:36Z", "author_association": "NONE", "body_html": "<p><strong>Code to reproduce:</strong></p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n<span class=\"pl-k\">from</span> torch.autograd <span class=\"pl-k\">import</span> Variable\n\na <span class=\"pl-k\">=</span> Variable(torch.randn(<span class=\"pl-c1\">10</span>))\nb <span class=\"pl-k\">=</span> Variable(torch.randn(<span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">5</span>), <span class=\"pl-v\">requires_grad</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)\nc <span class=\"pl-k\">=</span> torch.norm(b, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">1</span>)\nd <span class=\"pl-k\">=</span> torch.div(a, c)\nloss <span class=\"pl-k\">=</span> torch.sum(d)\nloss.backward()</pre></div>\n<p><strong>The problem:</strong></p>\n<p>torch.norm  produces variable with shape <code>[10, 1]</code>  and div returns <code>[10]</code>, this breaks backward because sizes must be equal.</p>", "body_text": "Code to reproduce:\nimport torch\nfrom torch.autograd import Variable\n\na = Variable(torch.randn(10))\nb = Variable(torch.randn(10, 5), requires_grad=True)\nc = torch.norm(b, 2, 1)\nd = torch.div(a, c)\nloss = torch.sum(d)\nloss.backward()\nThe problem:\ntorch.norm  produces variable with shape [10, 1]  and div returns [10], this breaks backward because sizes must be equal.", "body": "**Code to reproduce:**\r\n\r\n```python\r\nimport torch\r\nfrom torch.autograd import Variable\r\n\r\na = Variable(torch.randn(10))\r\nb = Variable(torch.randn(10, 5), requires_grad=True)\r\nc = torch.norm(b, 2, 1)\r\nd = torch.div(a, c)\r\nloss = torch.sum(d)\r\nloss.backward()\r\n```\r\n\r\n**The problem:**\r\n\r\ntorch.norm  produces variable with shape `[10, 1]`  and div returns `[10]`, this breaks backward because sizes must be equal."}