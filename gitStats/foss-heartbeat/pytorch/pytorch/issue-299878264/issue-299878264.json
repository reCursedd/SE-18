{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5391", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5391/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5391/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5391/events", "html_url": "https://github.com/pytorch/pytorch/pull/5391", "id": 299878264, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcxMTM3NTg4", "number": 5391, "title": "[JIT] Support shape propagation with control-flow", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-23T23:05:59Z", "updated_at": "2018-11-23T15:40:04Z", "closed_at": "2018-02-26T23:24:06Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/5391", "html_url": "https://github.com/pytorch/pytorch/pull/5391", "diff_url": "https://github.com/pytorch/pytorch/pull/5391.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/5391.patch"}, "body_html": "<ul>\n<li>This allows us to enable optimization in the GraphExecutor for most<br>\nscript tests.</li>\n<li>Changes Type to always be present (non-null) on a Value, removing <code>hasType()</code><br>\nand <code>typeOption()</code>. A new type kind 'DynamicType' now represents when<br>\na specific type has not been determined.</li>\n<li>If/Loop nodes propagate shapes/types in the simple cases where types of<br>\noutputs do not change depending on where control flows. In other<br>\ncases, we propagate DynamicType to indicate we do not know what<br>\nthe shape will be.</li>\n<li>Remove the <code>cond</code> input to the body of Loop to simplify handling in<br>\ninterpreter and shape propagation.</li>\n</ul>", "body_text": "This allows us to enable optimization in the GraphExecutor for most\nscript tests.\nChanges Type to always be present (non-null) on a Value, removing hasType()\nand typeOption(). A new type kind 'DynamicType' now represents when\na specific type has not been determined.\nIf/Loop nodes propagate shapes/types in the simple cases where types of\noutputs do not change depending on where control flows. In other\ncases, we propagate DynamicType to indicate we do not know what\nthe shape will be.\nRemove the cond input to the body of Loop to simplify handling in\ninterpreter and shape propagation.", "body": "* This allows us to enable optimization in the GraphExecutor for most\r\n  script tests.\r\n* Changes Type to always be present (non-null) on a Value, removing `hasType()`\r\n  and `typeOption()`. A new type kind 'DynamicType' now represents when\r\n  a specific type has not been determined.\r\n* If/Loop nodes propagate shapes/types in the simple cases where types of\r\n  outputs do not change depending on where control flows. In other\r\n  cases, we propagate DynamicType to indicate we do not know what\r\n  the shape will be.\r\n* Remove the `cond` input to the body of Loop to simplify handling in\r\n  interpreter and shape propagation."}