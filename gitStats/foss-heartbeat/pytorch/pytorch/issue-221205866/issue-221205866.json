{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1241", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1241/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1241/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1241/events", "html_url": "https://github.com/pytorch/pytorch/issues/1241", "id": 221205866, "node_id": "MDU6SXNzdWUyMjEyMDU4NjY=", "number": 1241, "title": "Check for negative values in BCECriterion", "user": {"login": "seangal", "id": 9768911, "node_id": "MDQ6VXNlcjk3Njg5MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/9768911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seangal", "html_url": "https://github.com/seangal", "followers_url": "https://api.github.com/users/seangal/followers", "following_url": "https://api.github.com/users/seangal/following{/other_user}", "gists_url": "https://api.github.com/users/seangal/gists{/gist_id}", "starred_url": "https://api.github.com/users/seangal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seangal/subscriptions", "organizations_url": "https://api.github.com/users/seangal/orgs", "repos_url": "https://api.github.com/users/seangal/repos", "events_url": "https://api.github.com/users/seangal/events{/privacy}", "received_events_url": "https://api.github.com/users/seangal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131849, "node_id": "MDU6TGFiZWw0MjQxMzE4NDk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-12T09:39:06Z", "updated_at": "2017-10-24T18:34:11Z", "closed_at": "2017-10-24T18:34:11Z", "author_association": "NONE", "body_html": "<p>I have noticed that in <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/THNN/generic/BCECriterion.c#L21\">THNN/BCECriterion.c</a> there is no assert for negative values, resulting in possible NaN loss and gradients.<br>\nI think it will be easier for developers to see their program crash (or catch the exception) with a message indicating that their values are negative instead of searching for the problem of their NaN loss.</p>", "body_text": "I have noticed that in THNN/BCECriterion.c there is no assert for negative values, resulting in possible NaN loss and gradients.\nI think it will be easier for developers to see their program crash (or catch the exception) with a message indicating that their values are negative instead of searching for the problem of their NaN loss.", "body": "I have noticed that in [THNN/BCECriterion.c](https://github.com/pytorch/pytorch/blob/master/torch/lib/THNN/generic/BCECriterion.c#L21) there is no assert for negative values, resulting in possible NaN loss and gradients.\r\nI think it will be easier for developers to see their program crash (or catch the exception) with a message indicating that their values are negative instead of searching for the problem of their NaN loss."}