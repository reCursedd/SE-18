{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/355872721", "html_url": "https://github.com/pytorch/pytorch/issues/4526#issuecomment-355872721", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4526", "id": 355872721, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTg3MjcyMQ==", "user": {"login": "deepbrain", "id": 10003025, "node_id": "MDQ6VXNlcjEwMDAzMDI1", "avatar_url": "https://avatars3.githubusercontent.com/u/10003025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deepbrain", "html_url": "https://github.com/deepbrain", "followers_url": "https://api.github.com/users/deepbrain/followers", "following_url": "https://api.github.com/users/deepbrain/following{/other_user}", "gists_url": "https://api.github.com/users/deepbrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/deepbrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deepbrain/subscriptions", "organizations_url": "https://api.github.com/users/deepbrain/orgs", "repos_url": "https://api.github.com/users/deepbrain/repos", "events_url": "https://api.github.com/users/deepbrain/events{/privacy}", "received_events_url": "https://api.github.com/users/deepbrain/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-08T02:10:38Z", "updated_at": "2018-01-08T02:14:36Z", "author_association": "NONE", "body_html": "<p>The build log is below, here is the view of /usr/local/lib/libnnpack.so</p>\n<pre lang=\"00000000000022b0\" data-meta=\"T _init\"><code>000000000000d210 T inplace_scaled_exp_minus_c__avx2\n                 w _ITM_deregisterTMCloneTable\n                 w _ITM_registerTMCloneTable\n                 w _Jv_RegisterClasses\n000000000000cd60 T max__avx\n                 U memset\n                 U mmap\n                 U munmap\n000000000000b660 T nnp_c8gemm_conjb_only_2x2__fma3\n000000000000b910 T nnp_c8gemm_conjb_transc_only_2x2__fma3\n000000000000ba50 T nnp_c8gemm_conjb_transc_upto_2x2__fma3\n000000000000b7a0 T nnp_c8gemm_conjb_upto_2x2__fma3\n000000000000b3b0 T nnp_c8gemm_only_2x2__fma3\n000000000000b4f0 T nnp_c8gemm_upto_2x2__fma3\n000000000000c460 T nnp_conv1x1_only_2x4__fma3\n000000000000c5a0 T nnp_conv1x1_upto_2x4__fma3\n0000000000014a20 T nnp_convolution_inference\n0000000000019c7f T nnp_convolution_input_gradient\n000000000001b931 T nnp_convolution_kernel_gradient\n000000000001d9bc T nnp_convolution_output\n0000000000010cb5 T nnp_deinitialize\n</code></pre>\n<pre><code>running build\nrunning build_deps\nCUDA_TOOLKIT_ROOT_DIR not found or specified\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"5.5\")\n-- Found gcc &gt;=5 and CUDA &lt;= 7.5, adding workaround C++ flags\n-- Automatic GPU detection failed. Building for common architectures.\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2+PTX\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n-- AVX2 Found\n-- Atomics: using GCC intrinsics\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf_lp64: /home/tester/anaconda2/lib/libmkl_gf_lp64.so\n--   Library mkl_gnu_thread: /home/tester/anaconda2/lib/libmkl_gnu_thread.so\n--   Library mkl_core: /home/tester/anaconda2/lib/libmkl_core.so\n--   Library gomp: -fopenmp\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\n-- MKL library found\n-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NO_CUDA is set\n-- Could NOT find CUDNN (missing: CUDNN_INCLUDE_DIR CUDNN_LIBRARY).\n-- CuDNN not found. Compiling without CuDNN support\n-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.so)\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.so)\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.so)\nCMake Deprecation Warning at src/ATen/CMakeLists.txt:7 (CMAKE_POLICY):\n  The OLD behavior for policy CMP0026 will be removed from a future version\n  of CMake.\n\n  The cmake-policies(7) manual explains that the OLD behaviors of all\n  policies are deprecated and that a policy should be set to OLD only under\n  specific short-term circumstances.  Projects should be ported to the NEW\n  behavior and not rely on setting a policy to OLD.\n\n\n-- Using python found in /home/tester/anaconda3/bin/python\ndisable contrib because ATEN_NO_CONTRIB is set\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/tester/Downloads/Install/pytorch/torch/lib/build/aten\n[  1%] Built target aten_files_are_generated\n[ 84%] Built target ATen\n[ 86%] Linking CXX executable native_test\n[ 86%] Linking CXX executable basic\n[ 86%] Linking CXX executable scalar_test\n[ 87%] Linking CXX executable undefined_tensor_test\n[ 88%] Linking CXX executable broadcast_test\n[ 89%] Linking CXX executable atest\n[ 90%] Linking CXX executable wrapdim_test\n[ 91%] Linking CXX executable scalar_tensor_test\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n../libATen.so.1: undefined reference to `pthreadpool_create'\n../libATen.so.1: undefined reference to `nnp_convolution_output'\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\n../libATen.so.1: undefined reference to `nnp_initialize'\ncollect2: error: ld returned 1 exit status\nsrc/ATen/test/CMakeFiles/basic.dir/build.make:107: recipe for target 'src/ATen/test/basic' failed\nmake[2]: *** [src/ATen/test/basic] Error 1\nCMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\nmake[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n../libATen.so.1: undefined reference to `pthreadpool_create'\n../libATen.so.1: undefined reference to `nnp_convolution_output'\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\n../libATen.so.1: undefined reference to `nnp_initialize'\ncollect2: error: ld returned 1 exit status\nsrc/ATen/test/CMakeFiles/scalar_test.dir/build.make:107: recipe for target 'src/ATen/test/scalar_test' failed\nmake[2]: *** [src/ATen/test/scalar_test] Error 1\nCMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/scalar_test.dir/all' failed\nmake[1]: *** [src/ATen/test/CMakeFiles/scalar_test.dir/all] Error 2\n</code></pre>", "body_text": "The build log is below, here is the view of /usr/local/lib/libnnpack.so\n000000000000d210 T inplace_scaled_exp_minus_c__avx2\n                 w _ITM_deregisterTMCloneTable\n                 w _ITM_registerTMCloneTable\n                 w _Jv_RegisterClasses\n000000000000cd60 T max__avx\n                 U memset\n                 U mmap\n                 U munmap\n000000000000b660 T nnp_c8gemm_conjb_only_2x2__fma3\n000000000000b910 T nnp_c8gemm_conjb_transc_only_2x2__fma3\n000000000000ba50 T nnp_c8gemm_conjb_transc_upto_2x2__fma3\n000000000000b7a0 T nnp_c8gemm_conjb_upto_2x2__fma3\n000000000000b3b0 T nnp_c8gemm_only_2x2__fma3\n000000000000b4f0 T nnp_c8gemm_upto_2x2__fma3\n000000000000c460 T nnp_conv1x1_only_2x4__fma3\n000000000000c5a0 T nnp_conv1x1_upto_2x4__fma3\n0000000000014a20 T nnp_convolution_inference\n0000000000019c7f T nnp_convolution_input_gradient\n000000000001b931 T nnp_convolution_kernel_gradient\n000000000001d9bc T nnp_convolution_output\n0000000000010cb5 T nnp_deinitialize\n\nrunning build\nrunning build_deps\nCUDA_TOOLKIT_ROOT_DIR not found or specified\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"5.5\")\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\n-- Automatic GPU detection failed. Building for common architectures.\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2+PTX\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n-- AVX2 Found\n-- Atomics: using GCC intrinsics\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf_lp64: /home/tester/anaconda2/lib/libmkl_gf_lp64.so\n--   Library mkl_gnu_thread: /home/tester/anaconda2/lib/libmkl_gnu_thread.so\n--   Library mkl_core: /home/tester/anaconda2/lib/libmkl_core.so\n--   Library gomp: -fopenmp\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\n-- MKL library found\n-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NO_CUDA is set\n-- Could NOT find CUDNN (missing: CUDNN_INCLUDE_DIR CUDNN_LIBRARY).\n-- CuDNN not found. Compiling without CuDNN support\n-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.so)\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.so)\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.so)\nCMake Deprecation Warning at src/ATen/CMakeLists.txt:7 (CMAKE_POLICY):\n  The OLD behavior for policy CMP0026 will be removed from a future version\n  of CMake.\n\n  The cmake-policies(7) manual explains that the OLD behaviors of all\n  policies are deprecated and that a policy should be set to OLD only under\n  specific short-term circumstances.  Projects should be ported to the NEW\n  behavior and not rely on setting a policy to OLD.\n\n\n-- Using python found in /home/tester/anaconda3/bin/python\ndisable contrib because ATEN_NO_CONTRIB is set\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/tester/Downloads/Install/pytorch/torch/lib/build/aten\n[  1%] Built target aten_files_are_generated\n[ 84%] Built target ATen\n[ 86%] Linking CXX executable native_test\n[ 86%] Linking CXX executable basic\n[ 86%] Linking CXX executable scalar_test\n[ 87%] Linking CXX executable undefined_tensor_test\n[ 88%] Linking CXX executable broadcast_test\n[ 89%] Linking CXX executable atest\n[ 90%] Linking CXX executable wrapdim_test\n[ 91%] Linking CXX executable scalar_tensor_test\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n../libATen.so.1: undefined reference to `pthreadpool_create'\n../libATen.so.1: undefined reference to `nnp_convolution_output'\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\n../libATen.so.1: undefined reference to `nnp_initialize'\ncollect2: error: ld returned 1 exit status\nsrc/ATen/test/CMakeFiles/basic.dir/build.make:107: recipe for target 'src/ATen/test/basic' failed\nmake[2]: *** [src/ATen/test/basic] Error 1\nCMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\nmake[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\n../libATen.so.1: undefined reference to `pthreadpool_create'\n../libATen.so.1: undefined reference to `nnp_convolution_output'\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\n../libATen.so.1: undefined reference to `nnp_initialize'\ncollect2: error: ld returned 1 exit status\nsrc/ATen/test/CMakeFiles/scalar_test.dir/build.make:107: recipe for target 'src/ATen/test/scalar_test' failed\nmake[2]: *** [src/ATen/test/scalar_test] Error 1\nCMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/scalar_test.dir/all' failed\nmake[1]: *** [src/ATen/test/CMakeFiles/scalar_test.dir/all] Error 2", "body": "The build log is below, here is the view of /usr/local/lib/libnnpack.so              \r\n\r\n```                                                                                                                                                                                                                                                                                                                                                               00000000000022b0 T _init\r\n000000000000d210 T inplace_scaled_exp_minus_c__avx2\r\n                 w _ITM_deregisterTMCloneTable\r\n                 w _ITM_registerTMCloneTable\r\n                 w _Jv_RegisterClasses\r\n000000000000cd60 T max__avx\r\n                 U memset\r\n                 U mmap\r\n                 U munmap\r\n000000000000b660 T nnp_c8gemm_conjb_only_2x2__fma3\r\n000000000000b910 T nnp_c8gemm_conjb_transc_only_2x2__fma3\r\n000000000000ba50 T nnp_c8gemm_conjb_transc_upto_2x2__fma3\r\n000000000000b7a0 T nnp_c8gemm_conjb_upto_2x2__fma3\r\n000000000000b3b0 T nnp_c8gemm_only_2x2__fma3\r\n000000000000b4f0 T nnp_c8gemm_upto_2x2__fma3\r\n000000000000c460 T nnp_conv1x1_only_2x4__fma3\r\n000000000000c5a0 T nnp_conv1x1_upto_2x4__fma3\r\n0000000000014a20 T nnp_convolution_inference\r\n0000000000019c7f T nnp_convolution_input_gradient\r\n000000000001b931 T nnp_convolution_kernel_gradient\r\n000000000001d9bc T nnp_convolution_output\r\n0000000000010cb5 T nnp_deinitialize\r\n```\r\n\r\n```\r\nrunning build\r\nrunning build_deps\r\nCUDA_TOOLKIT_ROOT_DIR not found or specified\r\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"5.5\")\r\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\r\n-- Automatic GPU detection failed. Building for common architectures.\r\n-- Autodetected CUDA architecture(s): 3.0;3.5;5.0;5.2+PTX\r\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- SSE2 Found\r\n-- SSE3 Found\r\n-- AVX Found\r\n-- AVX2 Found\r\n-- Atomics: using GCC intrinsics\r\n-- Checking for [mkl_gf_lp64 - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf_lp64: /home/tester/anaconda2/lib/libmkl_gf_lp64.so\r\n--   Library mkl_gnu_thread: /home/tester/anaconda2/lib/libmkl_gnu_thread.so\r\n--   Library mkl_core: /home/tester/anaconda2/lib/libmkl_core.so\r\n--   Library gomp: -fopenmp\r\n--   Library pthread: /usr/lib/x86_64-linux-gnu/libpthread.so\r\n--   Library m: /usr/lib/x86_64-linux-gnu/libm.so\r\n--   Library dl: /usr/lib/x86_64-linux-gnu/libdl.so\r\n-- MKL library found\r\n-- Found a library with BLAS API (mkl).\r\n-- Found a library with LAPACK API. (mkl)\r\ndisabling CUDA because NO_CUDA is set\r\n-- Could NOT find CUDNN (missing: CUDNN_INCLUDE_DIR CUDNN_LIBRARY).\r\n-- CuDNN not found. Compiling without CuDNN support\r\n-- Found NNPACK      (include: /usr/local/include, library: /usr/local/lib/libnnpack.so)\r\n-- Found CPUINFO     (library: /usr/local/lib/libcpuinfo.so)\r\n-- Found PTHREADPOOL (library: /usr/local/lib/libpthreadpool.so)\r\nCMake Deprecation Warning at src/ATen/CMakeLists.txt:7 (CMAKE_POLICY):\r\n  The OLD behavior for policy CMP0026 will be removed from a future version\r\n  of CMake.\r\n\r\n  The cmake-policies(7) manual explains that the OLD behaviors of all\r\n  policies are deprecated and that a policy should be set to OLD only under\r\n  specific short-term circumstances.  Projects should be ported to the NEW\r\n  behavior and not rely on setting a policy to OLD.\r\n\r\n\r\n-- Using python found in /home/tester/anaconda3/bin/python\r\ndisable contrib because ATEN_NO_CONTRIB is set\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/tester/Downloads/Install/pytorch/torch/lib/build/aten\r\n[  1%] Built target aten_files_are_generated\r\n[ 84%] Built target ATen\r\n[ 86%] Linking CXX executable native_test\r\n[ 86%] Linking CXX executable basic\r\n[ 86%] Linking CXX executable scalar_test\r\n[ 87%] Linking CXX executable undefined_tensor_test\r\n[ 88%] Linking CXX executable broadcast_test\r\n[ 89%] Linking CXX executable atest\r\n[ 90%] Linking CXX executable wrapdim_test\r\n[ 91%] Linking CXX executable scalar_tensor_test\r\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n../libATen.so.1: undefined reference to `pthreadpool_create'\r\n../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n../libATen.so.1: undefined reference to `nnp_initialize'\r\ncollect2: error: ld returned 1 exit status\r\nsrc/ATen/test/CMakeFiles/basic.dir/build.make:107: recipe for target 'src/ATen/test/basic' failed\r\nmake[2]: *** [src/ATen/test/basic] Error 1\r\nCMakeFiles/Makefile2:317: recipe for target 'src/ATen/test/CMakeFiles/basic.dir/all' failed\r\nmake[1]: *** [src/ATen/test/CMakeFiles/basic.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\n../libATen.so.1: undefined reference to `nnp_convolution_kernel_gradient'\r\n../libATen.so.1: undefined reference to `nnp_convolution_input_gradient'\r\n../libATen.so.1: undefined reference to `pthreadpool_create'\r\n../libATen.so.1: undefined reference to `nnp_convolution_output'\r\n../libATen.so.1: undefined reference to `nnp_convolution_inference'\r\n../libATen.so.1: undefined reference to `nnp_initialize'\r\ncollect2: error: ld returned 1 exit status\r\nsrc/ATen/test/CMakeFiles/scalar_test.dir/build.make:107: recipe for target 'src/ATen/test/scalar_test' failed\r\nmake[2]: *** [src/ATen/test/scalar_test] Error 1\r\nCMakeFiles/Makefile2:354: recipe for target 'src/ATen/test/CMakeFiles/scalar_test.dir/all' failed\r\nmake[1]: *** [src/ATen/test/CMakeFiles/scalar_test.dir/all] Error 2\r\n```\r\n"}