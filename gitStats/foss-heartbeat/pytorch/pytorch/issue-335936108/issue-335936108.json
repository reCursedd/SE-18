{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8904", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8904/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8904/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8904/events", "html_url": "https://github.com/pytorch/pytorch/issues/8904", "id": 335936108, "node_id": "MDU6SXNzdWUzMzU5MzYxMDg=", "number": 8904, "title": "Advanced indexing returns values not in tensor ", "user": {"login": "DanielDworakowski", "id": 25143675, "node_id": "MDQ6VXNlcjI1MTQzNjc1", "avatar_url": "https://avatars2.githubusercontent.com/u/25143675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DanielDworakowski", "html_url": "https://github.com/DanielDworakowski", "followers_url": "https://api.github.com/users/DanielDworakowski/followers", "following_url": "https://api.github.com/users/DanielDworakowski/following{/other_user}", "gists_url": "https://api.github.com/users/DanielDworakowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/DanielDworakowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DanielDworakowski/subscriptions", "organizations_url": "https://api.github.com/users/DanielDworakowski/orgs", "repos_url": "https://api.github.com/users/DanielDworakowski/repos", "events_url": "https://api.github.com/users/DanielDworakowski/events{/privacy}", "received_events_url": "https://api.github.com/users/DanielDworakowski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-26T18:15:48Z", "updated_at": "2018-06-26T18:24:00Z", "closed_at": "2018-06-26T18:24:00Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>While indexing a tensor I am receiving values that are not contained within the tensor.  I currently do not have access to a GPU, so these results are specifically CPU only.</p>\n<h2>Code example (in terminal)</h2>\n<h3>Torch:</h3>\n<pre lang=\"import\" data-meta=\"torch\"><code>a = torch.tensor([1,2,3,4,5,6])\na = a.view(6,-1)\na[:,2::6]\n</code></pre>\n<blockquote>\n<p>tensor([ 2.0000e+00,  3.0000e+00,  4.0000e+00,  5.0000e+00,  6.0000e+00,<br>\n-4.6117e+18])</p>\n</blockquote>\n<h3>Comparison with Numpy:</h3>\n<pre lang=\"import\" data-meta=\"numpy as np\"><code>a = np.array([1,2,3,4,5,6])\na = a.reshape(6,-1)\na[:,2::6]\n</code></pre>\n<blockquote>\n<p>array([], shape=(6, 0), dtype=int64)</p>\n</blockquote>\n<h3>Torch (More simplified example):</h3>\n<pre lang=\"import\" data-meta=\"torch\"><code>a = torch.Tensor([1,2,3,4,5,6])\na = a.view(6,-1)\na\n</code></pre>\n<blockquote>\n<p>tensor([[ 1.],<br>\n[ 2.],<br>\n[ 3.],<br>\n[ 4.],<br>\n[ 5.],<br>\n[ 6.]])</p>\n</blockquote>\n<p><code>a[:,4]</code></p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nIndexError: index 4 is out of bounds for dimension 1 with size 1</p>\n</blockquote>\n<p><code>a[:,4:4]</code></p>\n<blockquote>\n<p>tensor([ 2.,  3.,  4.,  5.,  6.,  0.])</p>\n</blockquote>\n<h2>System Info</h2>\n<p>Collecting environment information...<br>\nPyTorch version: 0.4.0<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: None</p>\n<p>OS: Mac OSX 10.13.5<br>\nGCC version: Could not collect<br>\nCMake version: version 3.9.4</p>\n<p>Python version: 3.6<br>\nIs CUDA available: No<br>\nCUDA runtime version: No CUDA<br>\nGPU models and configuration: No CUDA<br>\nNvidia driver version: No CUDA<br>\ncuDNN version: No CUDA</p>\n<p>Versions of relevant libraries:<br>\n[pip3] numpy (1.14.2)<br>\n[pip3] numpy-quaternion (2017.6.5.21.19.52.dev20097538)<br>\n[pip3] numpydoc (0.7.0)<br>\n[pip3] pytorchviz (0.0.1)<br>\n[pip3] torch (0.4.0)<br>\n[pip3] torchfile (0.1.0)<br>\n[pip3] torchvision (0.2.1)<br>\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch<br>\n[conda] pytorchviz                0.0.1                     <br>\n[conda] torchfile                 0.1.0                     <br>\n[conda] torchvision               0.2.1                    py36_1    pytorch</p>", "body_text": "Issue description\nWhile indexing a tensor I am receiving values that are not contained within the tensor.  I currently do not have access to a GPU, so these results are specifically CPU only.\nCode example (in terminal)\nTorch:\na = torch.tensor([1,2,3,4,5,6])\na = a.view(6,-1)\na[:,2::6]\n\n\ntensor([ 2.0000e+00,  3.0000e+00,  4.0000e+00,  5.0000e+00,  6.0000e+00,\n-4.6117e+18])\n\nComparison with Numpy:\na = np.array([1,2,3,4,5,6])\na = a.reshape(6,-1)\na[:,2::6]\n\n\narray([], shape=(6, 0), dtype=int64)\n\nTorch (More simplified example):\na = torch.Tensor([1,2,3,4,5,6])\na = a.view(6,-1)\na\n\n\ntensor([[ 1.],\n[ 2.],\n[ 3.],\n[ 4.],\n[ 5.],\n[ 6.]])\n\na[:,4]\n\nTraceback (most recent call last):\nFile \"\", line 1, in \nIndexError: index 4 is out of bounds for dimension 1 with size 1\n\na[:,4:4]\n\ntensor([ 2.,  3.,  4.,  5.,  6.,  0.])\n\nSystem Info\nCollecting environment information...\nPyTorch version: 0.4.0\nIs debug build: No\nCUDA used to build PyTorch: None\nOS: Mac OSX 10.13.5\nGCC version: Could not collect\nCMake version: version 3.9.4\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\nVersions of relevant libraries:\n[pip3] numpy (1.14.2)\n[pip3] numpy-quaternion (2017.6.5.21.19.52.dev20097538)\n[pip3] numpydoc (0.7.0)\n[pip3] pytorchviz (0.0.1)\n[pip3] torch (0.4.0)\n[pip3] torchfile (0.1.0)\n[pip3] torchvision (0.2.1)\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch\n[conda] pytorchviz                0.0.1                     \n[conda] torchfile                 0.1.0                     \n[conda] torchvision               0.2.1                    py36_1    pytorch", "body": "## Issue description\r\n\r\nWhile indexing a tensor I am receiving values that are not contained within the tensor.  I currently do not have access to a GPU, so these results are specifically CPU only. \r\n\r\n## Code example (in terminal)\r\n### Torch:\r\n``` import torch\r\na = torch.tensor([1,2,3,4,5,6])\r\na = a.view(6,-1)\r\na[:,2::6]\r\n```\r\n> tensor([ 2.0000e+00,  3.0000e+00,  4.0000e+00,  5.0000e+00,  6.0000e+00,\r\n        -4.6117e+18])\r\n\r\n### Comparison with Numpy:\r\n```import numpy as np\r\na = np.array([1,2,3,4,5,6])\r\na = a.reshape(6,-1)\r\na[:,2::6]\r\n```\r\n>array([], shape=(6, 0), dtype=int64)\r\n\r\n### Torch (More simplified example):\r\n```import torch\r\na = torch.Tensor([1,2,3,4,5,6])\r\na = a.view(6,-1)\r\na\r\n```\r\n>tensor([[ 1.],\r\n        [ 2.],\r\n        [ 3.],\r\n        [ 4.],\r\n        [ 5.],\r\n        [ 6.]])\r\n\r\n`a[:,4]`\r\n> Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n IndexError: index 4 is out of bounds for dimension 1 with size 1\r\n\r\n`a[:,4:4]`\r\n\r\n> tensor([ 2.,  3.,  4.,  5.,  6.,  0.])\r\n\r\n\r\n## System Info\r\nCollecting environment information...\r\nPyTorch version: 0.4.0\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Mac OSX 10.13.5\r\nGCC version: Could not collect\r\nCMake version: version 3.9.4\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA\r\n\r\nVersions of relevant libraries:\r\n[pip3] numpy (1.14.2)\r\n[pip3] numpy-quaternion (2017.6.5.21.19.52.dev20097538)\r\n[pip3] numpydoc (0.7.0)\r\n[pip3] pytorchviz (0.0.1)\r\n[pip3] torch (0.4.0)\r\n[pip3] torchfile (0.1.0)\r\n[pip3] torchvision (0.2.1)\r\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch\r\n[conda] pytorchviz                0.0.1                     <pip>\r\n[conda] torchfile                 0.1.0                     <pip>\r\n[conda] torchvision               0.2.1                    py36_1    pytorch\r\n"}