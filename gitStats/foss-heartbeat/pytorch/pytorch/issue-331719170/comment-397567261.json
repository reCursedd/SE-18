{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/397567261", "html_url": "https://github.com/pytorch/pytorch/issues/8394#issuecomment-397567261", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8394", "id": 397567261, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzU2NzI2MQ==", "user": {"login": "rober42539", "id": 282862, "node_id": "MDQ6VXNlcjI4Mjg2Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/282862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rober42539", "html_url": "https://github.com/rober42539", "followers_url": "https://api.github.com/users/rober42539/followers", "following_url": "https://api.github.com/users/rober42539/following{/other_user}", "gists_url": "https://api.github.com/users/rober42539/gists{/gist_id}", "starred_url": "https://api.github.com/users/rober42539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rober42539/subscriptions", "organizations_url": "https://api.github.com/users/rober42539/orgs", "repos_url": "https://api.github.com/users/rober42539/repos", "events_url": "https://api.github.com/users/rober42539/events{/privacy}", "received_events_url": "https://api.github.com/users/rober42539/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-15T09:31:56Z", "updated_at": "2018-06-15T09:31:56Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> It didn't seem to work just doing that, but I was able to get it to work. I believe the location would be C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt, which seems right, as I can see the tbb.lib file in that folder. But when I try to set the user flag, it doesn't change the result.</p>\n<p><code>/LIBPATH:%MKLProductDir%\\tbb\\lib\\intel64_win\\vc_mt</code> is what it prints out.</p>\n<p>Still get:</p>\n<pre><code>Build FAILED.\n\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) -&gt;\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) -&gt;\n\"H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj\" (default target) (19) -&gt;\n(Link target) -&gt;\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]\n\n\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) -&gt;\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) -&gt;\n\"H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj\" (default target) (32) -&gt;\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj]\n\n    0 Warning(s)\n    2 Error(s)\n</code></pre>\n<p>So, I approached it another way, by opening the tbb_initet_test and apply_utils_test and manually adding the the tbb.lib (C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt\\tbb.lib in my case) to them both. I also added it to the INSTALL project, but not sure what impact that had.</p>\n<p>This seems to have worked in my case. The build was successful.</p>\n<p><em>Now it's on to figuring out how to include support for the GeForce 940MX that's in my laptop (which doesn't seem to be included by default after building). But, that's another story...</em></p>\n<p>Thanks for help with this!</p>", "body_text": "@peterjc123 It didn't seem to work just doing that, but I was able to get it to work. I believe the location would be C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt, which seems right, as I can see the tbb.lib file in that folder. But when I try to set the user flag, it doesn't change the result.\n/LIBPATH:%MKLProductDir%\\tbb\\lib\\intel64_win\\vc_mt is what it prints out.\nStill get:\nBuild FAILED.\n\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) ->\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) ->\n\"H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj\" (default target) (19) ->\n(Link target) ->\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]\n\n\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) ->\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) ->\n\"H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj\" (default target) (32) ->\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj]\n\n    0 Warning(s)\n    2 Error(s)\n\nSo, I approached it another way, by opening the tbb_initet_test and apply_utils_test and manually adding the the tbb.lib (C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt\\tbb.lib in my case) to them both. I also added it to the INSTALL project, but not sure what impact that had.\nThis seems to have worked in my case. The build was successful.\nNow it's on to figuring out how to include support for the GeForce 940MX that's in my laptop (which doesn't seem to be included by default after building). But, that's another story...\nThanks for help with this!", "body": "@peterjc123 It didn't seem to work just doing that, but I was able to get it to work. I believe the location would be C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt, which seems right, as I can see the tbb.lib file in that folder. But when I try to set the user flag, it doesn't change the result.\r\n\r\n`/LIBPATH:%MKLProductDir%\\tbb\\lib\\intel64_win\\vc_mt` is what it prints out. \r\n\r\nStill get:\r\n```\r\nBuild FAILED.\r\n\r\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) ->\r\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) ->\r\n\"H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj\" (default target) (19) ->\r\n(Link target) ->\r\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\apply_utils_test.vcxproj]\r\n\r\n\r\n\"H:\\ML\\pytorch\\build\\INSTALL.vcxproj\" (default target) (1) ->\r\n\"H:\\ML\\pytorch\\build\\ALL_BUILD.vcxproj\" (default target) (3) ->\r\n\"H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj\" (default target) (32) ->\r\n  LINK : fatal error LNK1104: cannot open file 'tbb.lib' [H:\\ML\\pytorch\\build\\caffe2\\tbb_init_test.vcxproj]\r\n\r\n    0 Warning(s)\r\n    2 Error(s)\r\n```\r\n\r\nSo, I approached it another way, by opening the tbb_initet_test and apply_utils_test and manually adding the the tbb.lib (C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries\\windows\\tbb\\lib\\intel64_win\\vc_mt\\tbb.lib in my case) to them both. I also added it to the INSTALL project, but not sure what impact that had. \r\n\r\nThis seems to have worked in my case. The build was successful.\r\n\r\n_Now it's on to figuring out how to include support for the GeForce 940MX that's in my laptop (which doesn't seem to be included by default after building). But, that's another story..._ \r\n\r\nThanks for help with this!"}