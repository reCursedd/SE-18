{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2167", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2167/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2167/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2167/events", "html_url": "https://github.com/pytorch/pytorch/issues/2167", "id": 244444656, "node_id": "MDU6SXNzdWUyNDQ0NDQ2NTY=", "number": 2167, "title": "nn.DataParallel and GPU indexes -- Buggy...", "user": {"login": "jiapei100", "id": 154013, "node_id": "MDQ6VXNlcjE1NDAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/154013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiapei100", "html_url": "https://github.com/jiapei100", "followers_url": "https://api.github.com/users/jiapei100/followers", "following_url": "https://api.github.com/users/jiapei100/following{/other_user}", "gists_url": "https://api.github.com/users/jiapei100/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiapei100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiapei100/subscriptions", "organizations_url": "https://api.github.com/users/jiapei100/orgs", "repos_url": "https://api.github.com/users/jiapei100/repos", "events_url": "https://api.github.com/users/jiapei100/events{/privacy}", "received_events_url": "https://api.github.com/users/jiapei100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-20T17:48:33Z", "updated_at": "2017-07-25T02:32:39Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hi, all:</p>\n<p><code>net = torch.nn.DataParallel(model, device_ids=[0])</code> always fail...</p>\n<p>I'm pretty sure I've got ONLY 1 GPU, with the following command line:</p>\n<pre><code>jiapei@jiapei-GT72-6QE:~$ sudo lshw -C display\n[sudo] password for jiapei: \n  *-display               \n       description: VGA compatible controller                                                                     \n       product: GM204M [GeForce GTX 980M]                                                                         \n       vendor: NVIDIA Corporation                                                                                                                                                                             \n       physical id: 0                                                                                                                                                                                         \n       bus info: pci@0000:01:00.0                                                                                                                                                                             \n       version: a1                                                                                                                                                                                            \n       width: 64 bits                                                                                                                                                                                         \n       clock: 33MHz                                                                                                                                                                                           \n       capabilities: pm msi pciexpress vga_controller bus_master cap_list rom                                                                                                                                 \n       configuration: driver=nvidia latency=0                                                                                                                                                                 \n       resources: irq:128 memory:db000000-dbffffff memory:b0000000-bfffffff memory:c0000000-c1ffffff ioport:e000(size=128) memory:c0000-dffff                                                                 \njiapei@jiapei-GT72-6QE:~$          \n</code></pre>\n<p>And, as you can see, it is already <code>device_ids=[0]</code> already puts GPU in a list...<br>\nBut, if I try:<br>\n<code>net = torch.nn.DataParallel(model, device_ids=[0,1])</code> , then, succeeded.<br>\nHowever, I ONLY have 1 single GPU ...</p>\n<p>Can anybody give me a hand please?</p>\n<p>Cheers<br>\nPei</p>", "body_text": "Hi, all:\nnet = torch.nn.DataParallel(model, device_ids=[0]) always fail...\nI'm pretty sure I've got ONLY 1 GPU, with the following command line:\njiapei@jiapei-GT72-6QE:~$ sudo lshw -C display\n[sudo] password for jiapei: \n  *-display               \n       description: VGA compatible controller                                                                     \n       product: GM204M [GeForce GTX 980M]                                                                         \n       vendor: NVIDIA Corporation                                                                                                                                                                             \n       physical id: 0                                                                                                                                                                                         \n       bus info: pci@0000:01:00.0                                                                                                                                                                             \n       version: a1                                                                                                                                                                                            \n       width: 64 bits                                                                                                                                                                                         \n       clock: 33MHz                                                                                                                                                                                           \n       capabilities: pm msi pciexpress vga_controller bus_master cap_list rom                                                                                                                                 \n       configuration: driver=nvidia latency=0                                                                                                                                                                 \n       resources: irq:128 memory:db000000-dbffffff memory:b0000000-bfffffff memory:c0000000-c1ffffff ioport:e000(size=128) memory:c0000-dffff                                                                 \njiapei@jiapei-GT72-6QE:~$          \n\nAnd, as you can see, it is already device_ids=[0] already puts GPU in a list...\nBut, if I try:\nnet = torch.nn.DataParallel(model, device_ids=[0,1]) , then, succeeded.\nHowever, I ONLY have 1 single GPU ...\nCan anybody give me a hand please?\nCheers\nPei", "body": "Hi, all:\r\n\r\n`net = torch.nn.DataParallel(model, device_ids=[0])` always fail...\r\n\r\nI'm pretty sure I've got ONLY 1 GPU, with the following command line:\r\n\r\n```\r\njiapei@jiapei-GT72-6QE:~$ sudo lshw -C display\r\n[sudo] password for jiapei: \r\n  *-display               \r\n       description: VGA compatible controller                                                                     \r\n       product: GM204M [GeForce GTX 980M]                                                                         \r\n       vendor: NVIDIA Corporation                                                                                                                                                                             \r\n       physical id: 0                                                                                                                                                                                         \r\n       bus info: pci@0000:01:00.0                                                                                                                                                                             \r\n       version: a1                                                                                                                                                                                            \r\n       width: 64 bits                                                                                                                                                                                         \r\n       clock: 33MHz                                                                                                                                                                                           \r\n       capabilities: pm msi pciexpress vga_controller bus_master cap_list rom                                                                                                                                 \r\n       configuration: driver=nvidia latency=0                                                                                                                                                                 \r\n       resources: irq:128 memory:db000000-dbffffff memory:b0000000-bfffffff memory:c0000000-c1ffffff ioport:e000(size=128) memory:c0000-dffff                                                                 \r\njiapei@jiapei-GT72-6QE:~$          \r\n```\r\n\r\n   \r\n\r\nAnd, as you can see, it is already `device_ids=[0]` already puts GPU in a list...\r\nBut, if I try:\r\n`net = torch.nn.DataParallel(model, device_ids=[0,1])` , then, succeeded.\r\nHowever, I ONLY have 1 single GPU ...\r\n\r\n\r\nCan anybody give me a hand please?\r\n\r\n\r\nCheers\r\nPei\r\n\r\n\r\n"}