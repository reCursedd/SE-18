{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11720", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11720/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11720/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11720/events", "html_url": "https://github.com/pytorch/pytorch/pull/11720", "id": 360476666, "node_id": "MDExOlB1bGxSZXF1ZXN0MjE1NzI4Mjc3", "number": 11720, "title": "remove Type/Tensor/TensorMethods include order dependencies.", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-14T22:47:34Z", "updated_at": "2018-09-17T18:12:02Z", "closed_at": "2018-09-17T18:12:02Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/11720", "html_url": "https://github.com/pytorch/pytorch/pull/11720", "diff_url": "https://github.com/pytorch/pytorch/pull/11720.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/11720.patch"}, "body_html": "<p>Previously, it was a necessity to include TensorMethods.h after Tensor.h in order to get the tensor method definitions.<br>\nWe abstracted this away from users by making sure ATen.h did this correctly; but we don't have any equivalent for ATen/core.</p>\n<p>In order to solve this dependency issue, we now forward declare Tensor in the Type declaration, which breaks the dependency cycle.<br>\nType.h now includes Tensor.h (for backwards compatibility) and Tensor.h now includes TensorMethods.h, so there is no longer include dependency restrictions.</p>\n<p>We could get rid of TensorMethods.h completely now, but that would involve coordinating a code generation change.</p>", "body_text": "Previously, it was a necessity to include TensorMethods.h after Tensor.h in order to get the tensor method definitions.\nWe abstracted this away from users by making sure ATen.h did this correctly; but we don't have any equivalent for ATen/core.\nIn order to solve this dependency issue, we now forward declare Tensor in the Type declaration, which breaks the dependency cycle.\nType.h now includes Tensor.h (for backwards compatibility) and Tensor.h now includes TensorMethods.h, so there is no longer include dependency restrictions.\nWe could get rid of TensorMethods.h completely now, but that would involve coordinating a code generation change.", "body": "Previously, it was a necessity to include TensorMethods.h after Tensor.h in order to get the tensor method definitions.\r\nWe abstracted this away from users by making sure ATen.h did this correctly; but we don't have any equivalent for ATen/core.\r\n\r\nIn order to solve this dependency issue, we now forward declare Tensor in the Type declaration, which breaks the dependency cycle.\r\nType.h now includes Tensor.h (for backwards compatibility) and Tensor.h now includes TensorMethods.h, so there is no longer include dependency restrictions.\r\n\r\nWe could get rid of TensorMethods.h completely now, but that would involve coordinating a code generation change."}