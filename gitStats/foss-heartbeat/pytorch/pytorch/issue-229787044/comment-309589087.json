{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/309589087", "html_url": "https://github.com/pytorch/pytorch/pull/1588#issuecomment-309589087", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1588", "id": 309589087, "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU4OTA4Nw==", "user": {"login": "killeent", "id": 4529377, "node_id": "MDQ6VXNlcjQ1MjkzNzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4529377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killeent", "html_url": "https://github.com/killeent", "followers_url": "https://api.github.com/users/killeent/followers", "following_url": "https://api.github.com/users/killeent/following{/other_user}", "gists_url": "https://api.github.com/users/killeent/gists{/gist_id}", "starred_url": "https://api.github.com/users/killeent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killeent/subscriptions", "organizations_url": "https://api.github.com/users/killeent/orgs", "repos_url": "https://api.github.com/users/killeent/repos", "events_url": "https://api.github.com/users/killeent/events{/privacy}", "received_events_url": "https://api.github.com/users/killeent/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-19T22:16:17Z", "updated_at": "2017-06-19T22:16:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4055025\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kentsommer\">@kentsommer</a> This should now work with CUDA. The issue was that we were trying to use CPU Tensors to index into the CUDA Tensor. Now we copy the indices onto the GPU before calling the <code>index_*</code> functions. cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9110200\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fmassa\">@fmassa</a> this means that all index calculation is being done on the CPU :).</p>\n<p>I will take a look at grad of grad tomorrow.</p>", "body_text": "@kentsommer This should now work with CUDA. The issue was that we were trying to use CPU Tensors to index into the CUDA Tensor. Now we copy the indices onto the GPU before calling the index_* functions. cc @fmassa this means that all index calculation is being done on the CPU :).\nI will take a look at grad of grad tomorrow.", "body": "@kentsommer This should now work with CUDA. The issue was that we were trying to use CPU Tensors to index into the CUDA Tensor. Now we copy the indices onto the GPU before calling the `index_*` functions. cc @fmassa this means that all index calculation is being done on the CPU :).\r\n\r\nI will take a look at grad of grad tomorrow."}