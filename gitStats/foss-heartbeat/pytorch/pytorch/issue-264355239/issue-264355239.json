{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3051", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3051/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3051/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3051/events", "html_url": "https://github.com/pytorch/pytorch/issues/3051", "id": 264355239, "node_id": "MDU6SXNzdWUyNjQzNTUyMzk=", "number": 3051, "title": "use of undeclared identifier 'THCPModule_nccl_reduce'", "user": {"login": "zhanghang1989", "id": 8041160, "node_id": "MDQ6VXNlcjgwNDExNjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/8041160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhanghang1989", "html_url": "https://github.com/zhanghang1989", "followers_url": "https://api.github.com/users/zhanghang1989/followers", "following_url": "https://api.github.com/users/zhanghang1989/following{/other_user}", "gists_url": "https://api.github.com/users/zhanghang1989/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhanghang1989/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhanghang1989/subscriptions", "organizations_url": "https://api.github.com/users/zhanghang1989/orgs", "repos_url": "https://api.github.com/users/zhanghang1989/repos", "events_url": "https://api.github.com/users/zhanghang1989/events{/privacy}", "received_events_url": "https://api.github.com/users/zhanghang1989/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-10T19:54:47Z", "updated_at": "2017-10-11T17:04:15Z", "closed_at": "2017-10-11T17:04:15Z", "author_association": "NONE", "body_html": "<p>OSX 10.13, CUDA 9.0, cudnn 7, Got these errors:</p>\n<pre><code>torch/csrc/cuda/Module.cpp:389:33: error: use of undeclared identifier 'THCPModule_nccl_reduce'\n  {\"_nccl_reduce\", (PyCFunction)THCPModule_nccl_reduce, METH_VARARGS, NULL},\n                                ^\ntorch/csrc/cuda/Module.cpp:390:37: error: use of undeclared identifier 'THCPModule_nccl_all_reduce'\n  {\"_nccl_all_reduce\", (PyCFunction)THCPModule_nccl_all_reduce, METH_VARARGS, NULL},\n                                    ^\ntorch/csrc/cuda/Module.cpp:391:36: error: use of undeclared identifier 'THCPModule_nccl_broadcast'\n  {\"_nccl_broadcast\", (PyCFunction)THCPModule_nccl_broadcast, METH_VARARGS, NULL},\n                                   ^\ntorch/csrc/cuda/Module.cpp:392:37: error: use of undeclared identifier 'THCPModule_nccl_all_gather'\n  {\"_nccl_all_gather\", (PyCFunction)THCPModule_nccl_all_gather, METH_VARARGS, NULL},\n                                    ^\ntorch/csrc/cuda/Module.cpp:393:41: error: use of undeclared identifier 'THCPModule_nccl_reduce_scatter'\n  {\"_nccl_reduce_scatter\", (PyCFunction)THCPModule_nccl_reduce_scatter, METH_VARARGS, NULL},\n</code></pre>\n<p>When compiling here:</p>\n<pre><code>clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/anaconda/include -arch x86_64 -I/anaconda/include -arch x86_64 -I/usr/local/cuda/include -I/Users/hangzhang/pytorch -I/Users/hangzhang/pytorch/torch/csrc -I/Users/hangzhang/pytorch/torch/lib/pybind11/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/TH -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THPP -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THNN -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/ATen -I/anaconda/lib/python3.6/site-packages/numpy/core/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THCUNN -I/anaconda/include/python3.6m -c torch/csrc/cuda/expand_utils.cpp -o build/temp.macosx-10.7-x86_64-3.6/torch/csrc/cuda/expand_utils.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib -DWITH_CUDNN\n</code></pre>", "body_text": "OSX 10.13, CUDA 9.0, cudnn 7, Got these errors:\ntorch/csrc/cuda/Module.cpp:389:33: error: use of undeclared identifier 'THCPModule_nccl_reduce'\n  {\"_nccl_reduce\", (PyCFunction)THCPModule_nccl_reduce, METH_VARARGS, NULL},\n                                ^\ntorch/csrc/cuda/Module.cpp:390:37: error: use of undeclared identifier 'THCPModule_nccl_all_reduce'\n  {\"_nccl_all_reduce\", (PyCFunction)THCPModule_nccl_all_reduce, METH_VARARGS, NULL},\n                                    ^\ntorch/csrc/cuda/Module.cpp:391:36: error: use of undeclared identifier 'THCPModule_nccl_broadcast'\n  {\"_nccl_broadcast\", (PyCFunction)THCPModule_nccl_broadcast, METH_VARARGS, NULL},\n                                   ^\ntorch/csrc/cuda/Module.cpp:392:37: error: use of undeclared identifier 'THCPModule_nccl_all_gather'\n  {\"_nccl_all_gather\", (PyCFunction)THCPModule_nccl_all_gather, METH_VARARGS, NULL},\n                                    ^\ntorch/csrc/cuda/Module.cpp:393:41: error: use of undeclared identifier 'THCPModule_nccl_reduce_scatter'\n  {\"_nccl_reduce_scatter\", (PyCFunction)THCPModule_nccl_reduce_scatter, METH_VARARGS, NULL},\n\nWhen compiling here:\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/anaconda/include -arch x86_64 -I/anaconda/include -arch x86_64 -I/usr/local/cuda/include -I/Users/hangzhang/pytorch -I/Users/hangzhang/pytorch/torch/csrc -I/Users/hangzhang/pytorch/torch/lib/pybind11/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/TH -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THPP -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THNN -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/ATen -I/anaconda/lib/python3.6/site-packages/numpy/core/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THCUNN -I/anaconda/include/python3.6m -c torch/csrc/cuda/expand_utils.cpp -o build/temp.macosx-10.7-x86_64-3.6/torch/csrc/cuda/expand_utils.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib -DWITH_CUDNN", "body": "OSX 10.13, CUDA 9.0, cudnn 7, Got these errors:\r\n```\r\ntorch/csrc/cuda/Module.cpp:389:33: error: use of undeclared identifier 'THCPModule_nccl_reduce'\r\n  {\"_nccl_reduce\", (PyCFunction)THCPModule_nccl_reduce, METH_VARARGS, NULL},\r\n                                ^\r\ntorch/csrc/cuda/Module.cpp:390:37: error: use of undeclared identifier 'THCPModule_nccl_all_reduce'\r\n  {\"_nccl_all_reduce\", (PyCFunction)THCPModule_nccl_all_reduce, METH_VARARGS, NULL},\r\n                                    ^\r\ntorch/csrc/cuda/Module.cpp:391:36: error: use of undeclared identifier 'THCPModule_nccl_broadcast'\r\n  {\"_nccl_broadcast\", (PyCFunction)THCPModule_nccl_broadcast, METH_VARARGS, NULL},\r\n                                   ^\r\ntorch/csrc/cuda/Module.cpp:392:37: error: use of undeclared identifier 'THCPModule_nccl_all_gather'\r\n  {\"_nccl_all_gather\", (PyCFunction)THCPModule_nccl_all_gather, METH_VARARGS, NULL},\r\n                                    ^\r\ntorch/csrc/cuda/Module.cpp:393:41: error: use of undeclared identifier 'THCPModule_nccl_reduce_scatter'\r\n  {\"_nccl_reduce_scatter\", (PyCFunction)THCPModule_nccl_reduce_scatter, METH_VARARGS, NULL},\r\n```\r\nWhen compiling here:\r\n```\r\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/anaconda/include -arch x86_64 -I/anaconda/include -arch x86_64 -I/usr/local/cuda/include -I/Users/hangzhang/pytorch -I/Users/hangzhang/pytorch/torch/csrc -I/Users/hangzhang/pytorch/torch/lib/pybind11/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/TH -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THPP -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THNN -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/ATen -I/anaconda/lib/python3.6/site-packages/numpy/core/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/hangzhang/pytorch/torch/lib/tmp_install/include/THCUNN -I/anaconda/include/python3.6m -c torch/csrc/cuda/expand_utils.cpp -o build/temp.macosx-10.7-x86_64-3.6/torch/csrc/cuda/expand_utils.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib -DWITH_CUDNN\r\n```"}