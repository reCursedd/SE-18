{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8935", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8935/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8935/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8935/events", "html_url": "https://github.com/pytorch/pytorch/issues/8935", "id": 336149142, "node_id": "MDU6SXNzdWUzMzYxNDkxNDI=", "number": 8935, "title": "Failed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'", "user": {"login": "Nigel-Amers", "id": 14248498, "node_id": "MDQ6VXNlcjE0MjQ4NDk4", "avatar_url": "https://avatars3.githubusercontent.com/u/14248498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nigel-Amers", "html_url": "https://github.com/Nigel-Amers", "followers_url": "https://api.github.com/users/Nigel-Amers/followers", "following_url": "https://api.github.com/users/Nigel-Amers/following{/other_user}", "gists_url": "https://api.github.com/users/Nigel-Amers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nigel-Amers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nigel-Amers/subscriptions", "organizations_url": "https://api.github.com/users/Nigel-Amers/orgs", "repos_url": "https://api.github.com/users/Nigel-Amers/repos", "events_url": "https://api.github.com/users/Nigel-Amers/events{/privacy}", "received_events_url": "https://api.github.com/users/Nigel-Amers/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-27T09:30:39Z", "updated_at": "2018-07-02T18:06:13Z", "closed_at": "2018-07-02T18:06:13Z", "author_association": "NONE", "body_html": "<ul>\n<li>CUDA/cuDNN version:8/5</li>\n</ul>\n<p>[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/CUDAByteStorage.cpp.o<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:79:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cuda/detail/CUDAHooks.cpp:15:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"<br>\n#error \"CuDNN version not supported\"<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\nuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/CUDAByteTensor.cpp.o<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:30:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&amp;&amp;, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope<br>\nCUDNN_RNN_ALGO_STANDARD,<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope<br>\ndatatype));<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/CUDAByteType.cpp.o<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1<br>\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from <a href=\"https://developer.nvidia.com/cudnn\" rel=\"nofollow\">https://developer.nvidia.com/cudnn</a> or disable CuDNN with NO_CUDNN=1\")<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:80:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&amp;&amp;, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope<br>\nCUDNN_RNN_ALGO_STANDARD,<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope<br>\ndatatype));<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&amp;&amp;, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope<br>\nCUDNN_RNN_ALGO_STANDARD,<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope<br>\ndatatype));<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105806: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o] Error 1<br>\nmake[2]: *** Waiting for unfinished jobs....<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:59:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&amp;&amp;, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope<br>\nCUDNN_RNN_ALGO_STANDARD,<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope<br>\ndatatype));<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:41: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope<br>\nperfResults[i].determinism == CUDNN_DETERMINISTIC) {<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search&lt;cudnnConvolutionFwdAlgo_t&gt;::perf_t at::native::algorithm_search&lt;cudnnConvolutionFwdAlgo_t&gt;::findAlgorithm(const at::native::ConvolutionArgs&amp;)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:474:38: error: \u2018CUDNN_CONVOLUTION_FWD_ALGO_COUNT\u2019 was not declared in this scope<br>\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_FWD_ALGO_COUNT;<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search&lt;cudnnConvolutionBwdDataAlgo_t&gt;::perf_t at::native::algorithm_search&lt;cudnnConvolutionBwdDataAlgo_t&gt;::findAlgorithm(const at::native::ConvolutionArgs&amp;)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:543:38: error: \u2018CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT\u2019 was not declared in this scope<br>\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT;<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search&lt;cudnnConvolutionBwdFilterAlgo_t&gt;::perf_t at::native::algorithm_search&lt;cudnnConvolutionBwdFilterAlgo_t&gt;::findAlgorithm(const at::native::ConvolutionArgs&amp;)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:612:38: error: \u2018CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT\u2019 was not declared in this scope<br>\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT - 1;<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:65: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope<br>\n!(args.params.deterministic &amp;&amp; perfResults.determinism != CUDNN_DETERMINISTIC)) {<br>\n^<br>\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,<br>\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&amp;&amp;, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope<br>\nCUDNN_RNN_ALGO_STANDARD,<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope<br>\ndatatype));<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019<br>\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        <br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionFwdAlgoPerf_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:492:86:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\nperfResults[i].determinism == CUDNN_DETERMINISTIC) {<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdDataAlgoPerf_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:561:86:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdFilterAlgoPerf_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:631:94:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:818:65:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\n!(args.params.deterministic &amp;&amp; perfResults.determinism != CUDNN_DETERMINISTIC)) {<br>\n^<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:946:69:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019:<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&amp;, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:1090:71:   required from here<br>\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105878: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/cudnn/GridSampler.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/native/cudnn/GridSampler.cpp.o] Error 1<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105854: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/cudnn/Conv.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/native/cudnn/Conv.cpp.o] Error 1<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105998: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/cuda/detail/CUDAHooks.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/cuda/detail/CUDAHooks.cpp.o] Error 1<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105830: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/cudnn/BatchNorm.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/native/cudnn/BatchNorm.cpp.o] Error 1<br>\nAt global scope:<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019<br>\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019<br>\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105902: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/cudnn/RNN.cpp.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/RNN.cpp.o] Error 1<br>\nCMakeFiles/Makefile2:1638: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2<br>\nMakefile:138: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'</p>", "body_text": "CUDA/cuDNN version:8/5\n\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/CUDAByteStorage.cpp.o\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:79:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cuda/detail/CUDAHooks.cpp:15:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\n#error \"CuDNN version not supported\"\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\nuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/CUDAByteTensor.cpp.o\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:30:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\nCUDNN_RNN_ALGO_STANDARD,\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\ndatatype));\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/CUDAByteType.cpp.o\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\n#pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:80:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\nCUDNN_RNN_ALGO_STANDARD,\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\ndatatype));\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\nAt global scope:\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\nCUDNN_RNN_ALGO_STANDARD,\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\ndatatype));\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105806: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:59:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\nCUDNN_RNN_ALGO_STANDARD,\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\ndatatype));\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:41: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope\nperfResults[i].determinism == CUDNN_DETERMINISTIC) {\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionFwdAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionFwdAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:474:38: error: \u2018CUDNN_CONVOLUTION_FWD_ALGO_COUNT\u2019 was not declared in this scope\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_FWD_ALGO_COUNT;\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionBwdDataAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionBwdDataAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:543:38: error: \u2018CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT\u2019 was not declared in this scope\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT;\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionBwdFilterAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionBwdFilterAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:612:38: error: \u2018CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT\u2019 was not declared in this scope\nstatic constexpr int num_algos = CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT - 1;\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:65: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope\n!(args.params.deterministic && perfResults.determinism != CUDNN_DETERMINISTIC)) {\n^\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\nfrom /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\nCUDNN_RNN_ALGO_STANDARD,\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\ndatatype));\n^\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\nif (STATUS != CUDNN_STATUS_SUCCESS) {                                        \n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionFwdAlgoPerf_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:492:86:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\nperfResults[i].determinism == CUDNN_DETERMINISTIC) {\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdDataAlgoPerf_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:561:86:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdFilterAlgoPerf_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:631:94:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:818:65:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\n!(args.params.deterministic && perfResults.determinism != CUDNN_DETERMINISTIC)) {\n^\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:946:69:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019:\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:1090:71:   required from here\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\nAt global scope:\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105878: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/GridSampler.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/GridSampler.cpp.o] Error 1\nAt global scope:\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105854: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/Conv.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/Conv.cpp.o] Error 1\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105998: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/cuda/detail/CUDAHooks.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/cuda/detail/CUDAHooks.cpp.o] Error 1\nAt global scope:\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105830: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/BatchNorm.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/BatchNorm.cpp.o] Error 1\nAt global scope:\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105902: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/cudnn/RNN.cpp.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/RNN.cpp.o] Error 1\nCMakeFiles/Makefile2:1638: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'", "body": "- CUDA/cuDNN version:8/5\r\n\r\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/CUDAByteStorage.cpp.o\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:79:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cuda/detail/CUDAHooks.cpp:15:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:10:2: error: #error \"CuDNN version not supported\"\r\n #error \"CuDNN version not supported\"\r\n  ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:28:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n uDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                               ^\r\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/CUDAByteTensor.cpp.o\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp:30:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\r\n           CUDNN_RNN_ALGO_STANDARD,\r\n           ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\r\n           datatype));\r\n                   ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n #pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                                                                                                                                                      ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n #pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                                                                                                                                                      ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:58:0:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n #pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                                                                                                                                                      ^\r\n[ 87%] Building CXX object caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/CUDAByteType.cpp.o\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:5:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n #pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                                                                                                                                                      ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/cudnn-wrapper.h:9:198: note: #pragma message: CuDNN v5 found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\r\n #pragma message (\"CuDNN v\" STRING(CUDNN_MAJOR) \" found, but need at least CuDNN v6. You can get the latest version of CuDNN from https://developer.nvidia.com/cudnn or disable CuDNN with NO_CUDNN=1\")\r\n                                                                                                                                                                                                      ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:80:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\r\n           CUDNN_RNN_ALGO_STANDARD,\r\n           ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\r\n           datatype));\r\n                   ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/GridSampler.cpp:27:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\r\n           CUDNN_RNN_ALGO_STANDARD,\r\n           ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\r\n           datatype));\r\n                   ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105806: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/AffineGridGenerator.cpp.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/RNN.cpp:59:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\r\n           CUDNN_RNN_ALGO_STANDARD,\r\n           ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\r\n           datatype));\r\n                   ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:41: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope\r\n           perfResults[i].determinism == CUDNN_DETERMINISTIC) {\r\n                                         ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionFwdAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionFwdAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:474:38: error: \u2018CUDNN_CONVOLUTION_FWD_ALGO_COUNT\u2019 was not declared in this scope\r\n     static constexpr int num_algos = CUDNN_CONVOLUTION_FWD_ALGO_COUNT;\r\n                                      ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionBwdDataAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionBwdDataAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:543:38: error: \u2018CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT\u2019 was not declared in this scope\r\n     static constexpr int num_algos = CUDNN_CONVOLUTION_BWD_DATA_ALGO_COUNT;\r\n                                      ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In static member function \u2018static at::native::algorithm_search<cudnnConvolutionBwdFilterAlgo_t>::perf_t at::native::algorithm_search<cudnnConvolutionBwdFilterAlgo_t>::findAlgorithm(const at::native::ConvolutionArgs&)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:612:38: error: \u2018CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT\u2019 was not declared in this scope\r\n     static constexpr int num_algos = CUDNN_CONVOLUTION_BWD_FILTER_ALGO_COUNT - 1;\r\n                                      ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In function \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:65: error: \u2018CUDNN_DETERMINISTIC\u2019 was not declared in this scope\r\n       !(args.params.deterministic && perfResults.determinism != CUDNN_DETERMINISTIC)) {\r\n                                                                 ^\r\nIn file included from /home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:3:0,\r\n                 from /home/liufang/Pytorch/aten/src/ATen/native/cudnn/BatchNorm.cpp:31:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h: In member function \u2018void at::native::RNNDescriptor::set(cudnnHandle_t, int, int, at::native::DropoutDescriptor&&, cudnnRNNInputMode_t, cudnnDirectionMode_t, cudnnRNNMode_t, cudnnDataType_t)\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:304:11: error: \u2018CUDNN_RNN_ALGO_STANDARD\u2019 was not declared in this scope\r\n           CUDNN_RNN_ALGO_STANDARD,\r\n           ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Descriptors.h:305:19: error: \u2018cudnnSetRNNDescriptor_v6\u2019 was not declared in this scope\r\n           datatype));\r\n                   ^\r\n/home/liufang/Pytorch/aten/src/ATen/cudnn/Exceptions.h:4:7: note: in definition of macro \u2018AT_CUDNN_CHECK\u2019\r\n   if (STATUS != CUDNN_STATUS_SUCCESS) {                                        \\\r\n       ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionFwdAlgoPerf_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:492:86:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\n           perfResults[i].determinism == CUDNN_DETERMINISTIC) {\r\n                                      ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdDataAlgoPerf_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:561:86:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018perf_t at::native::getBestAlgorithm(perf_t*, bool, int) [with perf_t = cudnnConvolutionBwdFilterAlgoPerf_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:631:94:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:445:38: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionFwdAlgo_t]\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:818:65:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionFwdAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\n       !(args.params.deterministic && perfResults.determinism != CUDNN_DETERMINISTIC)) {\r\n                                                              ^\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdDataAlgo_t]\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:946:69:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdDataAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp: In instantiation of \u2018void at::native::findAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019:\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:708:16:   required from \u2018at::native::Workspace at::native::chooseAlgorithm(const at::native::ConvolutionArgs&, bool, algo_t*) [with algo_t = cudnnConvolutionBwdFilterAlgo_t]\u2019\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:1090:71:   required from here\r\n/home/liufang/Pytorch/aten/src/ATen/native/cudnn/Conv.cpp:688:62: error: \u2018struct cudnnConvolutionBwdFilterAlgoPerf_t\u2019 has no member named \u2018determinism\u2019\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105878: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/GridSampler.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/GridSampler.cpp.o] Error 1\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105854: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/Conv.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/Conv.cpp.o] Error 1\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105998: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/cuda/detail/CUDAHooks.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/cuda/detail/CUDAHooks.cpp.o] Error 1\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105830: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/BatchNorm.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/BatchNorm.cpp.o] Error 1\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-aligned-allocation-unavailable\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-inconsistent-missing-override\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unused-private-field\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-unknown-warning-option\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-typedef-redefinition\u2019\r\ncc1plus: warning: unrecognized command line option \u2018-Wno-invalid-partial-specialization\u2019\r\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:105902: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/RNN.cpp.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/cudnn/RNN.cpp.o] Error 1\r\nCMakeFiles/Makefile2:1638: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\r\nMakefile:138: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nFailed to run 'bash tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn nccl caffe2 nanopb libshm gloo THD c10d'"}