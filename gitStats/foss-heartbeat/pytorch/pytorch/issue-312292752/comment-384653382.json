{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/384653382", "html_url": "https://github.com/pytorch/pytorch/issues/6402#issuecomment-384653382", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6402", "id": 384653382, "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDY1MzM4Mg==", "user": {"login": "jimmyoic", "id": 7804036, "node_id": "MDQ6VXNlcjc4MDQwMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7804036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimmyoic", "html_url": "https://github.com/jimmyoic", "followers_url": "https://api.github.com/users/jimmyoic/followers", "following_url": "https://api.github.com/users/jimmyoic/following{/other_user}", "gists_url": "https://api.github.com/users/jimmyoic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimmyoic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimmyoic/subscriptions", "organizations_url": "https://api.github.com/users/jimmyoic/orgs", "repos_url": "https://api.github.com/users/jimmyoic/repos", "events_url": "https://api.github.com/users/jimmyoic/events{/privacy}", "received_events_url": "https://api.github.com/users/jimmyoic/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-26T14:05:58Z", "updated_at": "2018-04-26T14:05:58Z", "author_association": "NONE", "body_html": "<p>Have you tried not use the operator which updates the weight?<br>\nIf you check your prototxt for training, there should be some operators used to update the weight, this is am example for updating the bias of my residual block 2:<br>\n<code>op { input: \"gpu_0/block2_conv1_b_grad\" input: \"gpu_0/block2_conv1_b_momentum\" input: \"gpu_0/lr\" input: \"gpu_0/block2_conv1_b\" output: \"gpu_0/block2_conv1_b_grad\" output: \"gpu_0/block2_conv1_b_momentum\" output: \"gpu_0/block2_conv1_b\" name: \"\" type: \"MomentumSGDUpdate\" arg { name: \"nesterov\" i: 1 } arg { name: \"momentum\" f: 0.899999976158 } device_option { device_type: 1 cuda_gpu_id: 0 } }</code><br>\nThough I haven't tried, I think disabling the operators updating the layers you want to freeze may work</p>", "body_text": "Have you tried not use the operator which updates the weight?\nIf you check your prototxt for training, there should be some operators used to update the weight, this is am example for updating the bias of my residual block 2:\nop { input: \"gpu_0/block2_conv1_b_grad\" input: \"gpu_0/block2_conv1_b_momentum\" input: \"gpu_0/lr\" input: \"gpu_0/block2_conv1_b\" output: \"gpu_0/block2_conv1_b_grad\" output: \"gpu_0/block2_conv1_b_momentum\" output: \"gpu_0/block2_conv1_b\" name: \"\" type: \"MomentumSGDUpdate\" arg { name: \"nesterov\" i: 1 } arg { name: \"momentum\" f: 0.899999976158 } device_option { device_type: 1 cuda_gpu_id: 0 } }\nThough I haven't tried, I think disabling the operators updating the layers you want to freeze may work", "body": "Have you tried not use the operator which updates the weight?\r\nIf you check your prototxt for training, there should be some operators used to update the weight, this is am example for updating the bias of my residual block 2:\r\n`op {\r\n  input: \"gpu_0/block2_conv1_b_grad\"\r\n  input: \"gpu_0/block2_conv1_b_momentum\"\r\n  input: \"gpu_0/lr\"\r\n  input: \"gpu_0/block2_conv1_b\"\r\n  output: \"gpu_0/block2_conv1_b_grad\"\r\n  output: \"gpu_0/block2_conv1_b_momentum\"\r\n  output: \"gpu_0/block2_conv1_b\"\r\n  name: \"\"\r\n  type: \"MomentumSGDUpdate\"\r\n  arg {\r\n    name: \"nesterov\"\r\n    i: 1\r\n  }\r\n  arg {\r\n    name: \"momentum\"\r\n    f: 0.899999976158\r\n  }\r\n  device_option {\r\n    device_type: 1\r\n    cuda_gpu_id: 0\r\n  }\r\n}`\r\nThough I haven't tried, I think disabling the operators updating the layers you want to freeze may work\r\n"}