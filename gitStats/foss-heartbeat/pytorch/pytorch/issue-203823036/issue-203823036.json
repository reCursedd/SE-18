{"url": "https://api.github.com/repos/pytorch/pytorch/issues/623", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/623/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/623/events", "html_url": "https://github.com/pytorch/pytorch/issues/623", "id": 203823036, "node_id": "MDU6SXNzdWUyMDM4MjMwMzY=", "number": 623, "title": "Something after a909131 breaks compile on OS X w/ GPU (at least with conda)", "user": {"login": "elbamos", "id": 10103420, "node_id": "MDQ6VXNlcjEwMTAzNDIw", "avatar_url": "https://avatars2.githubusercontent.com/u/10103420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elbamos", "html_url": "https://github.com/elbamos", "followers_url": "https://api.github.com/users/elbamos/followers", "following_url": "https://api.github.com/users/elbamos/following{/other_user}", "gists_url": "https://api.github.com/users/elbamos/gists{/gist_id}", "starred_url": "https://api.github.com/users/elbamos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elbamos/subscriptions", "organizations_url": "https://api.github.com/users/elbamos/orgs", "repos_url": "https://api.github.com/users/elbamos/repos", "events_url": "https://api.github.com/users/elbamos/events{/privacy}", "received_events_url": "https://api.github.com/users/elbamos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-01-28T18:34:35Z", "updated_at": "2017-01-29T05:56:27Z", "closed_at": "2017-01-29T05:41:49Z", "author_association": "NONE", "body_html": "<p>I'm able to compile up to <code>31dea5f</code>.  The break happened at or before <code>13e34b4</code>, but I haven't tried all the commits in the middle to trace it precisely yet.</p>\n<p>The errors  appears when compiling THPP and begins with:</p>\n<pre><code>    clang: warning: argument unused during compilation: '-L/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/torch/lib/tmp_install/lib'\n    [100%] Linking CXX shared library libTHPP.dylib\n    Undefined symbols for architecture x86_64:\n      \"_THC_float2half\", referenced from:\n          thpp::THCStorage&lt;__half&gt;::fill(double) in THCStorage.cpp.o\n          thpp::THCStorage&lt;__half&gt;::set(unsigned long, double) in THCStorage.cpp.o\n          thpp::THCTensor&lt;__half&gt;::fill(double) in THCTensor.cpp.o\n          thpp::THCTensor&lt;__half&gt;::scatterFill(int, thpp::Tensor const&amp;, double) in THCTensor.cpp.o\n          thpp::THCTensor&lt;__half&gt;::add(thpp::Tensor const&amp;, double) in THCTensor.cpp.o\n          thpp::THCTensor&lt;__half&gt;::sub(thpp::Tensor const&amp;, double) in THCTensor.cpp.o\n          thpp::THCTensor&lt;__half&gt;::mul(thpp::Tensor const&amp;, double) in THCTensor.cpp.o\n          ...\n</code></pre>\n<p>There are several screens of similar errors followed by:</p>\n<pre><code>     \"_THCudaTensor_transpose\", referenced from:\n          thpp::THCTensor&lt;float&gt;::transpose(thpp::Tensor const&amp;, int, int) in THCTensor.cpp.o\n      \"_THCudaTensor_unfold\", referenced from:\n          thpp::THCTensor&lt;float&gt;::unfold(thpp::Tensor const&amp;, int, long, long) in THCTensor.cpp.o\n      \"_THCudaTensor_zero\", referenced from:\n          thpp::THCTensor&lt;float&gt;::zero() in THCTensor.cpp.o\n    ld: symbol(s) not found for architecture x86_64\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\n    make[2]: *** [libTHPP.1.dylib] Error 1\n    make[1]: *** [CMakeFiles/THPP.dir/all] Error 2\n    make: *** [all] Error 2\n\n    ----------------------------------------\nCommand \"/Volumes/home500/anaconda/envs/pytorch/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-ffau5ekl-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/\n</code></pre>", "body_text": "I'm able to compile up to 31dea5f.  The break happened at or before 13e34b4, but I haven't tried all the commits in the middle to trace it precisely yet.\nThe errors  appears when compiling THPP and begins with:\n    clang: warning: argument unused during compilation: '-L/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/torch/lib/tmp_install/lib'\n    [100%] Linking CXX shared library libTHPP.dylib\n    Undefined symbols for architecture x86_64:\n      \"_THC_float2half\", referenced from:\n          thpp::THCStorage<__half>::fill(double) in THCStorage.cpp.o\n          thpp::THCStorage<__half>::set(unsigned long, double) in THCStorage.cpp.o\n          thpp::THCTensor<__half>::fill(double) in THCTensor.cpp.o\n          thpp::THCTensor<__half>::scatterFill(int, thpp::Tensor const&, double) in THCTensor.cpp.o\n          thpp::THCTensor<__half>::add(thpp::Tensor const&, double) in THCTensor.cpp.o\n          thpp::THCTensor<__half>::sub(thpp::Tensor const&, double) in THCTensor.cpp.o\n          thpp::THCTensor<__half>::mul(thpp::Tensor const&, double) in THCTensor.cpp.o\n          ...\n\nThere are several screens of similar errors followed by:\n     \"_THCudaTensor_transpose\", referenced from:\n          thpp::THCTensor<float>::transpose(thpp::Tensor const&, int, int) in THCTensor.cpp.o\n      \"_THCudaTensor_unfold\", referenced from:\n          thpp::THCTensor<float>::unfold(thpp::Tensor const&, int, long, long) in THCTensor.cpp.o\n      \"_THCudaTensor_zero\", referenced from:\n          thpp::THCTensor<float>::zero() in THCTensor.cpp.o\n    ld: symbol(s) not found for architecture x86_64\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\n    make[2]: *** [libTHPP.1.dylib] Error 1\n    make[1]: *** [CMakeFiles/THPP.dir/all] Error 2\n    make: *** [all] Error 2\n\n    ----------------------------------------\nCommand \"/Volumes/home500/anaconda/envs/pytorch/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-ffau5ekl-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/", "body": "I'm able to compile up to `31dea5f`.  The break happened at or before `13e34b4`, but I haven't tried all the commits in the middle to trace it precisely yet. \r\n\r\nThe errors  appears when compiling THPP and begins with:\r\n\r\n```\r\n    clang: warning: argument unused during compilation: '-L/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/torch/lib/tmp_install/lib'\r\n    [100%] Linking CXX shared library libTHPP.dylib\r\n    Undefined symbols for architecture x86_64:\r\n      \"_THC_float2half\", referenced from:\r\n          thpp::THCStorage<__half>::fill(double) in THCStorage.cpp.o\r\n          thpp::THCStorage<__half>::set(unsigned long, double) in THCStorage.cpp.o\r\n          thpp::THCTensor<__half>::fill(double) in THCTensor.cpp.o\r\n          thpp::THCTensor<__half>::scatterFill(int, thpp::Tensor const&, double) in THCTensor.cpp.o\r\n          thpp::THCTensor<__half>::add(thpp::Tensor const&, double) in THCTensor.cpp.o\r\n          thpp::THCTensor<__half>::sub(thpp::Tensor const&, double) in THCTensor.cpp.o\r\n          thpp::THCTensor<__half>::mul(thpp::Tensor const&, double) in THCTensor.cpp.o\r\n          ...\r\n```\r\n\r\nThere are several screens of similar errors followed by:\r\n\r\n```\r\n     \"_THCudaTensor_transpose\", referenced from:\r\n          thpp::THCTensor<float>::transpose(thpp::Tensor const&, int, int) in THCTensor.cpp.o\r\n      \"_THCudaTensor_unfold\", referenced from:\r\n          thpp::THCTensor<float>::unfold(thpp::Tensor const&, int, long, long) in THCTensor.cpp.o\r\n      \"_THCudaTensor_zero\", referenced from:\r\n          thpp::THCTensor<float>::zero() in THCTensor.cpp.o\r\n    ld: symbol(s) not found for architecture x86_64\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    make[2]: *** [libTHPP.1.dylib] Error 1\r\n    make[1]: *** [CMakeFiles/THPP.dir/all] Error 2\r\n    make: *** [all] Error 2\r\n\r\n    ----------------------------------------\r\nCommand \"/Volumes/home500/anaconda/envs/pytorch/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-ffau5ekl-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/s1/_v14lsc56tv44hm304m07vn40000gq/T/pip-8msh46af-build/\r\n```"}