{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/135730451", "pull_request_review_id": 59172524, "id": 135730451, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNTczMDQ1MQ==", "diff_hunk": "@@ -9,22 +9,27 @@\n __cudnn_version = None\n # TODO: dynamic version checks via cudnnGetVersion\n \n+CUDNN_WIN_LIB = 'cudnn64_6'\n+\n \n def _libcudnn():\n     global lib, __cudnn_version\n     if lib is None:\n-        lib = ctypes.cdll.LoadLibrary(None)\n-        if hasattr(lib, 'cudnnGetErrorString'):\n-            lib.cudnnGetErrorString.restype = ctypes.c_char_p\n-            __cudnn_version = lib.cudnnGetVersion()\n-            compile_version = torch._C._cudnn_version()\n-            # Check that cuDNN major and minor versions match\n-            if (__cudnn_version // 100) != (compile_version // 100):\n-                raise RuntimeError(\n-                    'cuDNN version mismatch: PyTorch was compiled against {} '\n-                    'but linked against {}'.format(compile_version, __cudnn_version))\n+        if sys.platform == \"win32\":\n+            lib = ctypes.cdll.LoadLibrary(CUDNN_WIN_LIB)", "path": "torch/backends/cudnn/__init__.py", "position": null, "original_position": 21, "commit_id": "d240559374bd0e074ed37a854d57407307c6bdc6", "original_commit_id": "ef58d5995ea4e57d59836c86cc21afb02b9860e6", "user": {"login": "bordingj", "id": 7777521, "node_id": "MDQ6VXNlcjc3Nzc1MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7777521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bordingj", "html_url": "https://github.com/bordingj", "followers_url": "https://api.github.com/users/bordingj/followers", "following_url": "https://api.github.com/users/bordingj/following{/other_user}", "gists_url": "https://api.github.com/users/bordingj/gists{/gist_id}", "starred_url": "https://api.github.com/users/bordingj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bordingj/subscriptions", "organizations_url": "https://api.github.com/users/bordingj/orgs", "repos_url": "https://api.github.com/users/bordingj/repos", "events_url": "https://api.github.com/users/bordingj/events{/privacy}", "received_events_url": "https://api.github.com/users/bordingj/received_events", "type": "User", "site_admin": false}, "body": "I think you also need to add\r\n`__cudnn_version = lib.cudnnGetVersion()`\r\nhere", "created_at": "2017-08-29T08:54:05Z", "updated_at": "2018-11-23T15:34:29Z", "html_url": "https://github.com/pytorch/pytorch/pull/2454#discussion_r135730451", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2454", "author_association": "NONE", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/135730451"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2454#discussion_r135730451"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2454"}}, "body_html": "<p>I think you also need to add<br>\n<code>__cudnn_version = lib.cudnnGetVersion()</code><br>\nhere</p>", "body_text": "I think you also need to add\n__cudnn_version = lib.cudnnGetVersion()\nhere"}