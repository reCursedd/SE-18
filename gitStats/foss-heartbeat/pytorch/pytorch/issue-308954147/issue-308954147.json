{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6040", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6040/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6040/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6040/events", "html_url": "https://github.com/pytorch/pytorch/issues/6040", "id": 308954147, "node_id": "MDU6SXNzdWUzMDg5NTQxNDc=", "number": 6040, "title": "Pytorch corrupting Numpy after importing", "user": {"login": "denkorzh", "id": 11257893, "node_id": "MDQ6VXNlcjExMjU3ODkz", "avatar_url": "https://avatars3.githubusercontent.com/u/11257893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denkorzh", "html_url": "https://github.com/denkorzh", "followers_url": "https://api.github.com/users/denkorzh/followers", "following_url": "https://api.github.com/users/denkorzh/following{/other_user}", "gists_url": "https://api.github.com/users/denkorzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/denkorzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denkorzh/subscriptions", "organizations_url": "https://api.github.com/users/denkorzh/orgs", "repos_url": "https://api.github.com/users/denkorzh/repos", "events_url": "https://api.github.com/users/denkorzh/events{/privacy}", "received_events_url": "https://api.github.com/users/denkorzh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-27T12:48:11Z", "updated_at": "2018-04-06T12:24:34Z", "closed_at": null, "author_association": "NONE", "body_html": "<ul>\n<li>OS: Ubuntu 16.04 4.10.0-35-generic <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"177669684\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/39\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/39/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/39\">#39</a>~16.04.1-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux</li>\n<li>PyTorch version: 0.3.1</li>\n<li>How you installed PyTorch (conda, pip, source): pip</li>\n<li>Python version: 3.6.3</li>\n<li>Numpy version 1.13.3</li>\n</ul>\n<p>I've noticed that importing torch corrupts numpy behaviour.<br>\nRunning the following script without importing torch I two zeros printed.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> import torch</span>\n\nnp.random.seed(<span class=\"pl-c1\">0</span>)\nsize <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1000</span>\na <span class=\"pl-k\">=</span> np.random.rand(size, size)\nb <span class=\"pl-k\">=</span> np.random.rand(size, size)\n\n<span class=\"pl-c1\">print</span>(np.abs(a<span class=\"pl-k\">@</span>b <span class=\"pl-k\">-</span> a<span class=\"pl-k\">@</span>b).max())\n<span class=\"pl-c1\">print</span>(np.abs(a<span class=\"pl-k\">@</span>b <span class=\"pl-k\">-</span> np.dot(a, b)).max())</pre></div>\n<p>But when the second line is uncommented I get approximately <code>214.31</code> and <code>424.66</code> from the two <code>print</code> calls respectively.</p>", "body_text": "OS: Ubuntu 16.04 4.10.0-35-generic #39~16.04.1-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux\nPyTorch version: 0.3.1\nHow you installed PyTorch (conda, pip, source): pip\nPython version: 3.6.3\nNumpy version 1.13.3\n\nI've noticed that importing torch corrupts numpy behaviour.\nRunning the following script without importing torch I two zeros printed.\nimport numpy as np\n# import torch\n\nnp.random.seed(0)\nsize = 1000\na = np.random.rand(size, size)\nb = np.random.rand(size, size)\n\nprint(np.abs(a@b - a@b).max())\nprint(np.abs(a@b - np.dot(a, b)).max())\nBut when the second line is uncommented I get approximately 214.31 and 424.66 from the two print calls respectively.", "body": "- OS: Ubuntu 16.04 4.10.0-35-generic #39~16.04.1-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux\r\n- PyTorch version: 0.3.1\r\n- How you installed PyTorch (conda, pip, source): pip\r\n- Python version: 3.6.3\r\n- Numpy version 1.13.3\r\n\r\nI've noticed that importing torch corrupts numpy behaviour.\r\nRunning the following script without importing torch I two zeros printed.\r\n\r\n```python\r\nimport numpy as np\r\n# import torch\r\n\r\nnp.random.seed(0)\r\nsize = 1000\r\na = np.random.rand(size, size)\r\nb = np.random.rand(size, size)\r\n\r\nprint(np.abs(a@b - a@b).max())\r\nprint(np.abs(a@b - np.dot(a, b)).max())\r\n```\r\nBut when the second line is uncommented I get approximately `214.31` and `424.66` from the two `print` calls respectively.\r\n"}