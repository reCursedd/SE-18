{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/439232114", "html_url": "https://github.com/pytorch/pytorch/pull/13452#issuecomment-439232114", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13452", "id": 439232114, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTIzMjExNA==", "user": {"login": "albanD", "id": 6359743, "node_id": "MDQ6VXNlcjYzNTk3NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6359743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albanD", "html_url": "https://github.com/albanD", "followers_url": "https://api.github.com/users/albanD/followers", "following_url": "https://api.github.com/users/albanD/following{/other_user}", "gists_url": "https://api.github.com/users/albanD/gists{/gist_id}", "starred_url": "https://api.github.com/users/albanD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albanD/subscriptions", "organizations_url": "https://api.github.com/users/albanD/orgs", "repos_url": "https://api.github.com/users/albanD/repos", "events_url": "https://api.github.com/users/albanD/events{/privacy}", "received_events_url": "https://api.github.com/users/albanD/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-15T23:49:37Z", "updated_at": "2018-11-15T23:49:37Z", "author_association": "COLLABORATOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> there is actually more work to be done here (and I've been too busy to do it).<br>\nIn particular this enforces that Functions that return an input never return more than one output (if inplace ops are done later, we would end up with a wrong Function as one of it's output edges was removed from the graph and so the backward function would get a wrong number of grad arguments).<br>\nUnfortunately the Broadcast Function from the distributed package can sometimes return some of it's inputs and return more than one element. This should be fixed. If the first op of your DataParallel was inplace, you might get very weird errors.<br>\nUnfortunately I'm not familiar with this code and it's quite complex so I will need some time to read into it and fix it properly.<br>\nIf you think this should get in fast, someone might want to step in to fix the Broadcast Function.</p>", "body_text": "@ezyang there is actually more work to be done here (and I've been too busy to do it).\nIn particular this enforces that Functions that return an input never return more than one output (if inplace ops are done later, we would end up with a wrong Function as one of it's output edges was removed from the graph and so the backward function would get a wrong number of grad arguments).\nUnfortunately the Broadcast Function from the distributed package can sometimes return some of it's inputs and return more than one element. This should be fixed. If the first op of your DataParallel was inplace, you might get very weird errors.\nUnfortunately I'm not familiar with this code and it's quite complex so I will need some time to read into it and fix it properly.\nIf you think this should get in fast, someone might want to step in to fix the Broadcast Function.", "body": "@ezyang there is actually more work to be done here (and I've been too busy to do it).\r\nIn particular this enforces that Functions that return an input never return more than one output (if inplace ops are done later, we would end up with a wrong Function as one of it's output edges was removed from the graph and so the backward function would get a wrong number of grad arguments).\r\nUnfortunately the Broadcast Function from the distributed package can sometimes return some of it's inputs and return more than one element. This should be fixed. If the first op of your DataParallel was inplace, you might get very weird errors.\r\nUnfortunately I'm not familiar with this code and it's quite complex so I will need some time to read into it and fix it properly.\r\nIf you think this should get in fast, someone might want to step in to fix the Broadcast Function.\r\n"}