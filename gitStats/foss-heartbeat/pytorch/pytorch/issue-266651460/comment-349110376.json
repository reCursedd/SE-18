{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/349110376", "html_url": "https://github.com/pytorch/pytorch/issues/3170#issuecomment-349110376", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3170", "id": 349110376, "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTExMDM3Ng==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2017-12-04T21:23:56Z", "updated_at": "2017-12-04T21:23:56Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I don't know if anything changed, but I ran a modified version of the above and it doesn't seem to error out:</p>\n<pre><code>import torch\ni = torch.LongTensor([[0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5]])\nv = torch.DoubleTensor([\n  [-0.1745, -0.9485, -1.7882],\n  [ 3.3324, -1.3192,  1.3591],\n  [ 0.0718,  0.3904,  0.7360],\n  [-3.3426,  1.3233, -1.3632],\n  [-1.3134, -0.6767,  1.0237],\n  [ 0.2384, -0.0944,  0.0972],\n  [-0.0967, -0.5256, -0.9908],\n  [ 1.2490, -0.4944,  0.5094],\n  [-0.2885, -1.5679, -2.9558],\n  [ 1.4541,  0.7492, -1.1334],\n  [-1.7823,  0.7056, -0.7269],\n  [-0.0859,  0.0601, -0.0219],\n  [-0.2227, -1.2103, -2.2817],\n  [ 0.3115, -0.2181,  0.0793],\n])\nx = torch.sparse.DoubleTensor(i, v, torch.Size((7, 3)))\ny = x.coalesce()\n(x.to_dense() - y.to_dense()).sum() # is 0\n</code></pre>", "body_text": "I don't know if anything changed, but I ran a modified version of the above and it doesn't seem to error out:\nimport torch\ni = torch.LongTensor([[0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5]])\nv = torch.DoubleTensor([\n  [-0.1745, -0.9485, -1.7882],\n  [ 3.3324, -1.3192,  1.3591],\n  [ 0.0718,  0.3904,  0.7360],\n  [-3.3426,  1.3233, -1.3632],\n  [-1.3134, -0.6767,  1.0237],\n  [ 0.2384, -0.0944,  0.0972],\n  [-0.0967, -0.5256, -0.9908],\n  [ 1.2490, -0.4944,  0.5094],\n  [-0.2885, -1.5679, -2.9558],\n  [ 1.4541,  0.7492, -1.1334],\n  [-1.7823,  0.7056, -0.7269],\n  [-0.0859,  0.0601, -0.0219],\n  [-0.2227, -1.2103, -2.2817],\n  [ 0.3115, -0.2181,  0.0793],\n])\nx = torch.sparse.DoubleTensor(i, v, torch.Size((7, 3)))\ny = x.coalesce()\n(x.to_dense() - y.to_dense()).sum() # is 0", "body": "I don't know if anything changed, but I ran a modified version of the above and it doesn't seem to error out:\r\n```\r\nimport torch\r\ni = torch.LongTensor([[0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5]])\r\nv = torch.DoubleTensor([\r\n  [-0.1745, -0.9485, -1.7882],\r\n  [ 3.3324, -1.3192,  1.3591],\r\n  [ 0.0718,  0.3904,  0.7360],\r\n  [-3.3426,  1.3233, -1.3632],\r\n  [-1.3134, -0.6767,  1.0237],\r\n  [ 0.2384, -0.0944,  0.0972],\r\n  [-0.0967, -0.5256, -0.9908],\r\n  [ 1.2490, -0.4944,  0.5094],\r\n  [-0.2885, -1.5679, -2.9558],\r\n  [ 1.4541,  0.7492, -1.1334],\r\n  [-1.7823,  0.7056, -0.7269],\r\n  [-0.0859,  0.0601, -0.0219],\r\n  [-0.2227, -1.2103, -2.2817],\r\n  [ 0.3115, -0.2181,  0.0793],\r\n])\r\nx = torch.sparse.DoubleTensor(i, v, torch.Size((7, 3)))\r\ny = x.coalesce()\r\n(x.to_dense() - y.to_dense()).sum() # is 0\r\n```"}