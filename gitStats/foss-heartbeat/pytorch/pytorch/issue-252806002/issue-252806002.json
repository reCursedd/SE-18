{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2534", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2534/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2534/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2534/events", "html_url": "https://github.com/pytorch/pytorch/issues/2534", "id": 252806002, "node_id": "MDU6SXNzdWUyNTI4MDYwMDI=", "number": 2534, "title": "Gradient of gradient explodes(nan) when training WGAN-GP on Mnist", "user": {"login": "MeJn", "id": 16249507, "node_id": "MDQ6VXNlcjE2MjQ5NTA3", "avatar_url": "https://avatars1.githubusercontent.com/u/16249507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeJn", "html_url": "https://github.com/MeJn", "followers_url": "https://api.github.com/users/MeJn/followers", "following_url": "https://api.github.com/users/MeJn/following{/other_user}", "gists_url": "https://api.github.com/users/MeJn/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeJn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeJn/subscriptions", "organizations_url": "https://api.github.com/users/MeJn/orgs", "repos_url": "https://api.github.com/users/MeJn/repos", "events_url": "https://api.github.com/users/MeJn/events{/privacy}", "received_events_url": "https://api.github.com/users/MeJn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443483881, "node_id": "MDU6TGFiZWw0NDM0ODM4ODE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/todo", "name": "todo", "color": "c2e0c6", "default": false}], "state": "open", "locked": false, "assignee": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-08-25T06:01:57Z", "updated_at": "2018-08-27T17:51:42Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I was using WGAN-GP training to generate handwritten character images on Mnist dataset. Thanks for <a href=\"https://github.com/caogang/wgan-gp\">caogang's code</a>, I modified his network structure, the DCGAN was applied to my WGAN-GP's structure.<br>\nDuring the training process, a sudden explosion (<strong>nan</strong>) of the gradients occurred, and the location of the explosion was after the backward propagation using the gradient penalty loss.</p>\n<p>Before the explosion, the gradients and the parameters was always normal and there was no tendency to gradually increase, so I thought it was the problem of calculating the gradient of the gradient.</p>", "body_text": "I was using WGAN-GP training to generate handwritten character images on Mnist dataset. Thanks for caogang's code, I modified his network structure, the DCGAN was applied to my WGAN-GP's structure.\nDuring the training process, a sudden explosion (nan) of the gradients occurred, and the location of the explosion was after the backward propagation using the gradient penalty loss.\nBefore the explosion, the gradients and the parameters was always normal and there was no tendency to gradually increase, so I thought it was the problem of calculating the gradient of the gradient.", "body": "I was using WGAN-GP training to generate handwritten character images on Mnist dataset. Thanks for [caogang's code](https://github.com/caogang/wgan-gp), I modified his network structure, the DCGAN was applied to my WGAN-GP's structure.\r\nDuring the training process, a sudden explosion (**nan**) of the gradients occurred, and the location of the explosion was after the backward propagation using the gradient penalty loss.\r\n\r\nBefore the explosion, the gradients and the parameters was always normal and there was no tendency to gradually increase, so I thought it was the problem of calculating the gradient of the gradient.\r\n"}