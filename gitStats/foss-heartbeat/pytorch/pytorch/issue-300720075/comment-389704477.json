{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/389704477", "html_url": "https://github.com/pytorch/pytorch/issues/5436#issuecomment-389704477", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5436", "id": 389704477, "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTcwNDQ3Nw==", "user": {"login": "yf225", "id": 4063635, "node_id": "MDQ6VXNlcjQwNjM2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4063635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yf225", "html_url": "https://github.com/yf225", "followers_url": "https://api.github.com/users/yf225/followers", "following_url": "https://api.github.com/users/yf225/following{/other_user}", "gists_url": "https://api.github.com/users/yf225/gists{/gist_id}", "starred_url": "https://api.github.com/users/yf225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yf225/subscriptions", "organizations_url": "https://api.github.com/users/yf225/orgs", "repos_url": "https://api.github.com/users/yf225/repos", "events_url": "https://api.github.com/users/yf225/events{/privacy}", "received_events_url": "https://api.github.com/users/yf225/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-17T00:12:49Z", "updated_at": "2018-05-17T00:12:49Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1041752\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vadimkantorov\">@vadimkantorov</a> I got the following result when running the perf tests on current master:</p>\n<pre><code>python -m timeit -n 1000 'import torch; torch.ByteTensor(500, 500, 3).fill_(1) == torch.ByteTensor([1, 2, 3])'\npython -m timeit -n 1000 'import numpy; numpy.ones((500, 500, 3), dtype = numpy.uint8) == numpy.array([1, 2, 3], dtype = numpy.uint8)'\n</code></pre>\n<pre><code>1000 loops, best of 3: 2.27 msec per loop\n1000 loops, best of 3: 1.98 msec per loop\n</code></pre>\n<p>It's still slower compared to numpy, but the difference is smaller. Could you also try to run the perf comparison again to see if it has been improved?</p>", "body_text": "@vadimkantorov I got the following result when running the perf tests on current master:\npython -m timeit -n 1000 'import torch; torch.ByteTensor(500, 500, 3).fill_(1) == torch.ByteTensor([1, 2, 3])'\npython -m timeit -n 1000 'import numpy; numpy.ones((500, 500, 3), dtype = numpy.uint8) == numpy.array([1, 2, 3], dtype = numpy.uint8)'\n\n1000 loops, best of 3: 2.27 msec per loop\n1000 loops, best of 3: 1.98 msec per loop\n\nIt's still slower compared to numpy, but the difference is smaller. Could you also try to run the perf comparison again to see if it has been improved?", "body": "@vadimkantorov I got the following result when running the perf tests on current master:\r\n\r\n```\r\npython -m timeit -n 1000 'import torch; torch.ByteTensor(500, 500, 3).fill_(1) == torch.ByteTensor([1, 2, 3])'\r\npython -m timeit -n 1000 'import numpy; numpy.ones((500, 500, 3), dtype = numpy.uint8) == numpy.array([1, 2, 3], dtype = numpy.uint8)'\r\n```\r\n\r\n```\r\n1000 loops, best of 3: 2.27 msec per loop\r\n1000 loops, best of 3: 1.98 msec per loop\r\n```\r\n\r\nIt's still slower compared to numpy, but the difference is smaller. Could you also try to run the perf comparison again to see if it has been improved?"}