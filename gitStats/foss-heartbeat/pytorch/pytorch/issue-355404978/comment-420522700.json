{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/420522700", "html_url": "https://github.com/pytorch/pytorch/issues/11062#issuecomment-420522700", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11062", "id": 420522700, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDUyMjcwMA==", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-12T06:02:45Z", "updated_at": "2018-09-12T06:02:45Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>I think making behaviorally deterministic operations affect random states is certainly unintuitive; for example, you would not expect that running a few matrix multiplications in numpy can affect random number generation that follows those matrix multiplications.</p>\n</blockquote>\n<p>This is absolutely the right experience to aim for. We dont want behaviorally (or perceptually) deterministic operations to affect random state.</p>\n<p>One easy fix is to (as you suggested), cache a one-time base_seed in the DataLoader itself, and <code>DataLoaderIter</code>'s base seed is deterministically incremented starting from DataLoader's base seed.</p>", "body_text": "I think making behaviorally deterministic operations affect random states is certainly unintuitive; for example, you would not expect that running a few matrix multiplications in numpy can affect random number generation that follows those matrix multiplications.\n\nThis is absolutely the right experience to aim for. We dont want behaviorally (or perceptually) deterministic operations to affect random state.\nOne easy fix is to (as you suggested), cache a one-time base_seed in the DataLoader itself, and DataLoaderIter's base seed is deterministically incremented starting from DataLoader's base seed.", "body": "> I think making behaviorally deterministic operations affect random states is certainly unintuitive; for example, you would not expect that running a few matrix multiplications in numpy can affect random number generation that follows those matrix multiplications.\r\n\r\nThis is absolutely the right experience to aim for. We dont want behaviorally (or perceptually) deterministic operations to affect random state.\r\n\r\nOne easy fix is to (as you suggested), cache a one-time base_seed in the DataLoader itself, and `DataLoaderIter`'s base seed is deterministically incremented starting from DataLoader's base seed.\r\n"}