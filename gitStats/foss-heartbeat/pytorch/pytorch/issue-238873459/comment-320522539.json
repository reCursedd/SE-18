{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/320522539", "html_url": "https://github.com/pytorch/pytorch/pull/1923#issuecomment-320522539", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1923", "id": 320522539, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDUyMjUzOQ==", "user": {"login": "pfrendl", "id": 6968154, "node_id": "MDQ6VXNlcjY5NjgxNTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6968154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfrendl", "html_url": "https://github.com/pfrendl", "followers_url": "https://api.github.com/users/pfrendl/followers", "following_url": "https://api.github.com/users/pfrendl/following{/other_user}", "gists_url": "https://api.github.com/users/pfrendl/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfrendl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfrendl/subscriptions", "organizations_url": "https://api.github.com/users/pfrendl/orgs", "repos_url": "https://api.github.com/users/pfrendl/repos", "events_url": "https://api.github.com/users/pfrendl/events{/privacy}", "received_events_url": "https://api.github.com/users/pfrendl/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-06T18:06:15Z", "updated_at": "2017-08-06T18:23:48Z", "author_association": "NONE", "body_html": "<p>I can still reproduce this error since updating PyTorch to <a href=\"https://github.com/pytorch/pytorch/releases/tag/v0.2.0\">v0.2.0</a> by running the <a href=\"https://github.com/pytorch/examples/tree/master/mnist_hogwild\">MNIST Hogwild</a> example. The crash happens on the <code>loss.backward()</code> <a href=\"https://github.com/pytorch/examples/blob/master/mnist_hogwild/train.py#L39\">call</a>.</p>\n<p>MWE:</p>\n<pre><code>import torch\nimport time\n\ntorch.manual_seed(1)\n\ndef fn():\n  linear = torch.nn.Linear(1, 1) \n  x = torch.autograd.Variable(torch.ones(1, 1))\n  out = linear(x)\n  out.backward()\n  time.sleep(1)\n\np = torch.multiprocessing.Process(target=fn, args=())\np.start()\n</code></pre>\n<p>The error logs I get:</p>\n<blockquote>\n<p>terminate called after throwing an instance of 'std::runtime_error'<br>\nwhat():  CUDA error (3): initialization error</p>\n</blockquote>\n<p>The sleep in the MWE is required for producing the error reliably, otherwise the process terminates before the error is printed.</p>\n<p>pinging <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "I can still reproduce this error since updating PyTorch to v0.2.0 by running the MNIST Hogwild example. The crash happens on the loss.backward() call.\nMWE:\nimport torch\nimport time\n\ntorch.manual_seed(1)\n\ndef fn():\n  linear = torch.nn.Linear(1, 1) \n  x = torch.autograd.Variable(torch.ones(1, 1))\n  out = linear(x)\n  out.backward()\n  time.sleep(1)\n\np = torch.multiprocessing.Process(target=fn, args=())\np.start()\n\nThe error logs I get:\n\nterminate called after throwing an instance of 'std::runtime_error'\nwhat():  CUDA error (3): initialization error\n\nThe sleep in the MWE is required for producing the error reliably, otherwise the process terminates before the error is printed.\npinging @apaszke", "body": "I can still reproduce this error since updating PyTorch to [v0.2.0](https://github.com/pytorch/pytorch/releases/tag/v0.2.0) by running the [MNIST Hogwild](https://github.com/pytorch/examples/tree/master/mnist_hogwild) example. The crash happens on the ```loss.backward()``` [call](https://github.com/pytorch/examples/blob/master/mnist_hogwild/train.py#L39).\r\n\r\nMWE:\r\n```\r\nimport torch\r\nimport time\r\n\r\ntorch.manual_seed(1)\r\n\r\ndef fn():\r\n  linear = torch.nn.Linear(1, 1) \r\n  x = torch.autograd.Variable(torch.ones(1, 1))\r\n  out = linear(x)\r\n  out.backward()\r\n  time.sleep(1)\r\n\r\np = torch.multiprocessing.Process(target=fn, args=())\r\np.start()\r\n```\r\n\r\nThe error logs I get:\r\n> terminate called after throwing an instance of 'std::runtime_error'\r\n>   what():  CUDA error (3): initialization error\r\n\r\nThe sleep in the MWE is required for producing the error reliably, otherwise the process terminates before the error is printed.\r\n\r\npinging @apaszke "}