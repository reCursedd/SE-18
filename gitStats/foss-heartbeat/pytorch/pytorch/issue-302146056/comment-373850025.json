{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/373850025", "html_url": "https://github.com/pytorch/pytorch/issues/5560#issuecomment-373850025", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5560", "id": 373850025, "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mzg1MDAyNQ==", "user": {"login": "fac2003", "id": 1728407, "node_id": "MDQ6VXNlcjE3Mjg0MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1728407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fac2003", "html_url": "https://github.com/fac2003", "followers_url": "https://api.github.com/users/fac2003/followers", "following_url": "https://api.github.com/users/fac2003/following{/other_user}", "gists_url": "https://api.github.com/users/fac2003/gists{/gist_id}", "starred_url": "https://api.github.com/users/fac2003/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fac2003/subscriptions", "organizations_url": "https://api.github.com/users/fac2003/orgs", "repos_url": "https://api.github.com/users/fac2003/repos", "events_url": "https://api.github.com/users/fac2003/events{/privacy}", "received_events_url": "https://api.github.com/users/fac2003/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-16T21:29:01Z", "updated_at": "2018-03-16T21:29:01Z", "author_association": "NONE", "body_html": "<p>I am also seeing this exception, but running against release 0.3.1:</p>\n<pre><code>/pytorch/torch/lib/THCUNN/BCECriterion.cu:30: Acctype bce_functor&lt;Dtype, Acctype&gt;::operator()(Tuple) [with Tuple = thrust::detail::tuple_of_iterator_references&lt;thrust::device_reference&lt;float&gt;, thrust::device_reference&lt;float&gt;, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type&gt;, Dtype = float, Acctype = float]: block: [0,0,0], thread: [223,0,0] Assertion `input &gt;= 0. &amp;&amp; input &lt;= 1.` failed.\nTraceback (most recent call last):\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 307, in &lt;module&gt;\n    train_once(args, problem, use_cuda)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 305, in train_once\n    testing_loop_method=testing_loop_method)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/common_trainer.py\", line 282, in training_loops\n    perfs += training_loop_method(epoch)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/adversarial_autoencoder_trainer.py\", line 158, in train_semisup_aae\n    semisup_loss = self.net.get_semisup_loss(input_s, target_s) * weight\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/semisup_adversarial_autoencoder.py\", line 312, in get_semisup_loss\n    semisup_loss = self.semisup_loss_criterion(categories_input, categories_target)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 357, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/loss.py\", line 695, in forward\n    return F.multilabel_soft_margin_loss(input, target, self.weight, self.size_average)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1320, in multilabel_soft_margin_loss\n    return binary_cross_entropy(input, target, weight, size_average)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1200, in binary_cross_entropy\n    return torch._C._nn.binary_cross_entropy(input, target, weight, size_average)\nRuntimeError: reduce failed to synchronize: device-side assert triggered\n</code></pre>\n<p>System details:</p>\n<p>OS: CentOS Linux release 7.4.1708 (Core)<br>\nPyTorch version: 0.3.1<br>\nHow you installed PyTorch (conda, pip, source): pip<br>\nPython version: Python 3.6.0<br>\nCUDA/cuDNN version: CUDA release 8.0, V8.0.61 / CUDNN 5105<br>\nGPU models and configuration: GTX1080Ti</p>", "body_text": "I am also seeing this exception, but running against release 0.3.1:\n/pytorch/torch/lib/THCUNN/BCECriterion.cu:30: Acctype bce_functor<Dtype, Acctype>::operator()(Tuple) [with Tuple = thrust::detail::tuple_of_iterator_references<thrust::device_reference<float>, thrust::device_reference<float>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>, Dtype = float, Acctype = float]: block: [0,0,0], thread: [223,0,0] Assertion `input >= 0. && input <= 1.` failed.\nTraceback (most recent call last):\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 307, in <module>\n    train_once(args, problem, use_cuda)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 305, in train_once\n    testing_loop_method=testing_loop_method)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/common_trainer.py\", line 282, in training_loops\n    perfs += training_loop_method(epoch)\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/adversarial_autoencoder_trainer.py\", line 158, in train_semisup_aae\n    semisup_loss = self.net.get_semisup_loss(input_s, target_s) * weight\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/semisup_adversarial_autoencoder.py\", line 312, in get_semisup_loss\n    semisup_loss = self.semisup_loss_criterion(categories_input, categories_target)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 357, in __call__\n    result = self.forward(*input, **kwargs)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/loss.py\", line 695, in forward\n    return F.multilabel_soft_margin_loss(input, target, self.weight, self.size_average)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1320, in multilabel_soft_margin_loss\n    return binary_cross_entropy(input, target, weight, size_average)\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1200, in binary_cross_entropy\n    return torch._C._nn.binary_cross_entropy(input, target, weight, size_average)\nRuntimeError: reduce failed to synchronize: device-side assert triggered\n\nSystem details:\nOS: CentOS Linux release 7.4.1708 (Core)\nPyTorch version: 0.3.1\nHow you installed PyTorch (conda, pip, source): pip\nPython version: Python 3.6.0\nCUDA/cuDNN version: CUDA release 8.0, V8.0.61 / CUDNN 5105\nGPU models and configuration: GTX1080Ti", "body": "I am also seeing this exception, but running against release 0.3.1:\r\n```\r\n/pytorch/torch/lib/THCUNN/BCECriterion.cu:30: Acctype bce_functor<Dtype, Acctype>::operator()(Tuple) [with Tuple = thrust::detail::tuple_of_iterator_references<thrust::device_reference<float>, thrust::device_reference<float>, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type, thrust::null_type>, Dtype = float, Acctype = float]: block: [0,0,0], thread: [223,0,0] Assertion `input >= 0. && input <= 1.` failed.\r\nTraceback (most recent call last):\r\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 307, in <module>\r\n    train_once(args, problem, use_cuda)\r\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/TrainAutoEncoder.py\", line 305, in train_once\r\n    testing_loop_method=testing_loop_method)\r\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/common_trainer.py\", line 282, in training_loops\r\n    perfs += training_loop_method(epoch)\r\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/adversarial_autoencoder_trainer.py\", line 158, in train_semisup_aae\r\n    semisup_loss = self.net.get_semisup_loss(input_s, target_s) * weight\r\n  File \"/home/campagne/genotypetensors/src/org/campagnelab/dl/genotypetensors/autoencoder/semisup_adversarial_autoencoder.py\", line 312, in get_semisup_loss\r\n    semisup_loss = self.semisup_loss_criterion(categories_input, categories_target)\r\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/module.py\", line 357, in __call__\r\n    result = self.forward(*input, **kwargs)\r\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/modules/loss.py\", line 695, in forward\r\n    return F.multilabel_soft_margin_loss(input, target, self.weight, self.size_average)\r\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1320, in multilabel_soft_margin_loss\r\n    return binary_cross_entropy(input, target, weight, size_average)\r\n  File \"/scratchLocal/campagne/data/pytorch/pytorch/lib/python3.6/site-packages/torch/nn/functional.py\", line 1200, in binary_cross_entropy\r\n    return torch._C._nn.binary_cross_entropy(input, target, weight, size_average)\r\nRuntimeError: reduce failed to synchronize: device-side assert triggered\r\n```\r\n\r\nSystem details:\r\n\r\nOS: CentOS Linux release 7.4.1708 (Core)\r\nPyTorch version: 0.3.1\r\nHow you installed PyTorch (conda, pip, source): pip\r\nPython version: Python 3.6.0\r\nCUDA/cuDNN version: CUDA release 8.0, V8.0.61 / CUDNN 5105\r\nGPU models and configuration: GTX1080Ti\r\n"}