{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/408475366", "html_url": "https://github.com/pytorch/pytorch/issues/9923#issuecomment-408475366", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9923", "id": 408475366, "node_id": "MDEyOklzc3VlQ29tbWVudDQwODQ3NTM2Ng==", "user": {"login": "hmc-cs-mdrissi", "id": 16809055, "node_id": "MDQ6VXNlcjE2ODA5MDU1", "avatar_url": "https://avatars0.githubusercontent.com/u/16809055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hmc-cs-mdrissi", "html_url": "https://github.com/hmc-cs-mdrissi", "followers_url": "https://api.github.com/users/hmc-cs-mdrissi/followers", "following_url": "https://api.github.com/users/hmc-cs-mdrissi/following{/other_user}", "gists_url": "https://api.github.com/users/hmc-cs-mdrissi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hmc-cs-mdrissi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hmc-cs-mdrissi/subscriptions", "organizations_url": "https://api.github.com/users/hmc-cs-mdrissi/orgs", "repos_url": "https://api.github.com/users/hmc-cs-mdrissi/repos", "events_url": "https://api.github.com/users/hmc-cs-mdrissi/events{/privacy}", "received_events_url": "https://api.github.com/users/hmc-cs-mdrissi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-27T16:45:50Z", "updated_at": "2018-07-27T16:46:17Z", "author_association": "NONE", "body_html": "<p>I tried rebooting a couple times and that was ineffective.</p>\n<p>The command I used to install it was:</p>\n<p>sudo -H python3.6 -m pip install <a href=\"http://download.pytorch.org/whl/cu92/torch-0.4.1-cp36-cp36m-linux_x86_64.whl\" rel=\"nofollow\">http://download.pytorch.org/whl/cu92/torch-0.4.1-cp36-cp36m-linux_x86_64.whl</a> (for 3.5 same thing just swapping the 3.6/36 by 3.5/35)</p>\n<p>As for what I load, to get the error I just run python 3.6, and then in the interactive shell, just type import torch and that's enough to trigger the error. The full interactive shell output just looks like:</p>\n<p>Python 3.6.6 (default, Jun 28 2018, 04:42:43)<br>\n[GCC 5.4.0 20160609] on linux<br>\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>import torch<br>\nTraceback (most recent call last):<br>\nFile \"\", line 1, in <br>\nFile \"/usr/local/lib/python3.6/dist-packages/torch/<strong>init</strong>.py\", line 80, in <br>\nfrom torch._C import *<br>\nImportError: libcurand.so.9.0: cannot open shared object file: No such file or directory</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>As I was trying to explore it, I discovered that sudo python3/python3.6 and then import torch works fine. That made me guess it'd be an environment variable, except the values of path/ld_library_path/cuda_home/cuda_root look the same when echo them with/without sudo. There values are,</p>\n<p>Path - /home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/home/mehdi2277/.local/share/umake/bin:/home/mehdi2277/torch/install/bin:/home/mehdi2277/bin:/home/mehdi2277/.local/bin:/home/mehdi2277/torch/install/bin:/opt/intel/compilers_and_libraries_2017.4.196/linux/bin/intel64:/home/mehdi2277/opam-coq.8.6/4.01.0/bin:/home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/mehdi2277/Android/Sdk/tools/bin</p>\n<p>LD_LIBRARY_PATH - /home/mehdi2277/torch/install/lib:/home/mehdi2277/torch/install/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/ipp/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64/gcc4.7:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64_lin/gcc4.7:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/lib</p>\n<p>CUDA_HOME - /usr/local/cuda</p>\n<p>CUDA_ROOT - /usr/local/cuda/bin</p>\n<p>Any other ideas for why it works fine with sudo, but not fine without it?</p>", "body_text": "I tried rebooting a couple times and that was ineffective.\nThe command I used to install it was:\nsudo -H python3.6 -m pip install http://download.pytorch.org/whl/cu92/torch-0.4.1-cp36-cp36m-linux_x86_64.whl (for 3.5 same thing just swapping the 3.6/36 by 3.5/35)\nAs for what I load, to get the error I just run python 3.6, and then in the interactive shell, just type import torch and that's enough to trigger the error. The full interactive shell output just looks like:\nPython 3.6.6 (default, Jun 28 2018, 04:42:43)\n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nimport torch\nTraceback (most recent call last):\nFile \"\", line 1, in \nFile \"/usr/local/lib/python3.6/dist-packages/torch/init.py\", line 80, in \nfrom torch._C import *\nImportError: libcurand.so.9.0: cannot open shared object file: No such file or directory\n\n\n\nAs I was trying to explore it, I discovered that sudo python3/python3.6 and then import torch works fine. That made me guess it'd be an environment variable, except the values of path/ld_library_path/cuda_home/cuda_root look the same when echo them with/without sudo. There values are,\nPath - /home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/home/mehdi2277/.local/share/umake/bin:/home/mehdi2277/torch/install/bin:/home/mehdi2277/bin:/home/mehdi2277/.local/bin:/home/mehdi2277/torch/install/bin:/opt/intel/compilers_and_libraries_2017.4.196/linux/bin/intel64:/home/mehdi2277/opam-coq.8.6/4.01.0/bin:/home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/mehdi2277/Android/Sdk/tools/bin\nLD_LIBRARY_PATH - /home/mehdi2277/torch/install/lib:/home/mehdi2277/torch/install/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/ipp/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64/gcc4.7:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64_lin/gcc4.7:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/lib\nCUDA_HOME - /usr/local/cuda\nCUDA_ROOT - /usr/local/cuda/bin\nAny other ideas for why it works fine with sudo, but not fine without it?", "body": "I tried rebooting a couple times and that was ineffective.\r\n\r\nThe command I used to install it was:\r\n\r\nsudo -H python3.6 -m pip install http://download.pytorch.org/whl/cu92/torch-0.4.1-cp36-cp36m-linux_x86_64.whl (for 3.5 same thing just swapping the 3.6/36 by 3.5/35)\r\n\r\nAs for what I load, to get the error I just run python 3.6, and then in the interactive shell, just type import torch and that's enough to trigger the error. The full interactive shell output just looks like:\r\n\r\nPython 3.6.6 (default, Jun 28 2018, 04:42:43) \r\n[GCC 5.4.0 20160609] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import torch\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/torch/__init__.py\", line 80, in <module>\r\n    from torch._C import *\r\nImportError: libcurand.so.9.0: cannot open shared object file: No such file or directory\r\n\r\nAs I was trying to explore it, I discovered that sudo python3/python3.6 and then import torch works fine. That made me guess it'd be an environment variable, except the values of path/ld_library_path/cuda_home/cuda_root look the same when echo them with/without sudo. There values are,\r\n\r\nPath - /home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/home/mehdi2277/.local/share/umake/bin:/home/mehdi2277/torch/install/bin:/home/mehdi2277/bin:/home/mehdi2277/.local/bin:/home/mehdi2277/torch/install/bin:/opt/intel/compilers_and_libraries_2017.4.196/linux/bin/intel64:/home/mehdi2277/opam-coq.8.6/4.01.0/bin:/home/mehdi2277/Android/Sdk/tools:/home/mehdi2277/Android/Sdk/platform-tools:/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:/usr/local/cuda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/mehdi2277/Android/Sdk/tools/bin\r\n\r\nLD_LIBRARY_PATH - /home/mehdi2277/torch/install/lib:/home/mehdi2277/torch/install/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/ipp/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64/gcc4.7:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64_lin/gcc4.7:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64:/usr/local/lib\r\n\r\nCUDA_HOME - /usr/local/cuda\r\n\r\nCUDA_ROOT - /usr/local/cuda/bin\r\n\r\nAny other ideas for why it works fine with sudo, but not fine without it?"}