{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2322", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2322/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2322/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2322/events", "html_url": "https://github.com/pytorch/pytorch/issues/2322", "id": 248485464, "node_id": "MDU6SXNzdWUyNDg0ODU0NjQ=", "number": 2322, "title": "From source build error OSX", "user": {"login": "bzcheeseman", "id": 12992886, "node_id": "MDQ6VXNlcjEyOTkyODg2", "avatar_url": "https://avatars0.githubusercontent.com/u/12992886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bzcheeseman", "html_url": "https://github.com/bzcheeseman", "followers_url": "https://api.github.com/users/bzcheeseman/followers", "following_url": "https://api.github.com/users/bzcheeseman/following{/other_user}", "gists_url": "https://api.github.com/users/bzcheeseman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bzcheeseman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bzcheeseman/subscriptions", "organizations_url": "https://api.github.com/users/bzcheeseman/orgs", "repos_url": "https://api.github.com/users/bzcheeseman/repos", "events_url": "https://api.github.com/users/bzcheeseman/events{/privacy}", "received_events_url": "https://api.github.com/users/bzcheeseman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-07T17:57:10Z", "updated_at": "2018-02-05T16:51:10Z", "closed_at": "2018-02-05T16:51:10Z", "author_association": "NONE", "body_html": "<p>I'm getting a not found error during my build from source, here is the stack trace:</p>\n<pre><code>/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:58:42: error: a space is required between consecutive right angle\n      brackets (use '&gt; &gt;')\n  std::deque&lt;std::pair&lt;cudaEvent_t, void*&gt;&gt; cuda_events;\n                                         ^~\n                                         &gt; &gt;\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:74:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = available.lower_bound(search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:99:43: error: a space is required between consecutive right angle\n      brackets (use '&gt; &gt;')\n  std::deque&lt;std::pair&lt;cudaEvent_t, Block*&gt;&gt; cuda_events;\n                                          ^~\n                                          &gt; &gt;\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:93:19: error: expected expression\n    blocks.insert({*ptr, Block(size, *ptr, true)});\n                  ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:111:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:139:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:163:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto&amp; e = cuda_events.front();\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:192:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = cuda_events.begin(); it != cuda_events.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:208:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = blocks.begin(); it != blocks.end();) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:228:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:229:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto&amp; stream = *it;\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:242:19: error: no member named 'emplace_back' in\n      'std::__1::deque&lt;std::__1::pair&lt;CUevent_st *, void *&gt;, std::__1::allocator&lt;std::__1::pair&lt;CUevent_st *, void *&gt; &gt; &gt;'\n      cuda_events.emplace_back(event, block.ptr);\n      ~~~~~~~~~~~ ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:125:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto&amp; free_blocks = small ? large_blocks : small_blocks;\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:130:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = free_blocks.lower_bound(&amp;search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:174:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = allocated_blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:232:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.lower_bound(&amp;search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:270:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto&amp; free_blocks = small ? large_blocks : small_blocks;\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:361:9: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n        auto cur = it;\n        ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:373:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = allocated_blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:390:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:391:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto&amp; stream = *it;\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:404:19: error: no member named 'emplace_back' in\n      'std::__1::deque&lt;std::__1::pair&lt;CUevent_st *, (anonymous namespace)::Block *&gt;, std::__1::allocator&lt;std::__1::pair&lt;CUevent_st *,\n      (anonymous namespace)::Block *&gt; &gt; &gt;'\n      cuda_events.emplace_back(event, block);\n      ~~~~~~~~~~~ ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:419:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto&amp; e = cuda_events.front();\n      ^\n8 warnings and 3 errors generated.\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingHostAllocator.cpp.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\n10 warnings and 2 errors generated.\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingAllocator.cpp.o] Error 1\nmake[1]: *** [CMakeFiles/THC.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>\n<p>I cloned the pytorch repo master branch. This error occurred with both <code>clang-3.7</code> (installed via homebrew) as well as Apple clang</p>\n<pre><code>Apple LLVM version 8.1.0 (clang-802.0.42)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n</code></pre>\n<p>My NVCC version is</p>\n<pre><code>nvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Tue_Jan_10_13:22:46_CST_2017\nCuda compilation tools, release 8.0, V8.0.61\n</code></pre>\n<p>The exact commands I ran were these:<br>\n<code>MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install</code><br>\nand<br>\n<code>MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang-3.7 CXX=clang++-3.7 python setup.py install</code></p>\n<p>It makes it through libTH, libTHNN, libTHS, and crashes on libTHC</p>", "body_text": "I'm getting a not found error during my build from source, here is the stack trace:\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:58:42: error: a space is required between consecutive right angle\n      brackets (use '> >')\n  std::deque<std::pair<cudaEvent_t, void*>> cuda_events;\n                                         ^~\n                                         > >\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:74:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = available.lower_bound(search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:99:43: error: a space is required between consecutive right angle\n      brackets (use '> >')\n  std::deque<std::pair<cudaEvent_t, Block*>> cuda_events;\n                                          ^~\n                                          > >\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:93:19: error: expected expression\n    blocks.insert({*ptr, Block(size, *ptr, true)});\n                  ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:111:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:139:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:163:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto& e = cuda_events.front();\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:192:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = cuda_events.begin(); it != cuda_events.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:208:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = blocks.begin(); it != blocks.end();) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:228:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:229:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto& stream = *it;\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:242:19: error: no member named 'emplace_back' in\n      'std::__1::deque<std::__1::pair<CUevent_st *, void *>, std::__1::allocator<std::__1::pair<CUevent_st *, void *> > >'\n      cuda_events.emplace_back(event, block.ptr);\n      ~~~~~~~~~~~ ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:125:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto& free_blocks = small ? large_blocks : small_blocks;\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:130:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = free_blocks.lower_bound(&search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:174:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = allocated_blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:232:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = blocks.lower_bound(&search_key);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:270:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto& free_blocks = small ? large_blocks : small_blocks;\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:361:9: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n        auto cur = it;\n        ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:373:5: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    auto it = allocated_blocks.find(ptr);\n    ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:390:10: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\n         ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:391:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto& stream = *it;\n      ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:404:19: error: no member named 'emplace_back' in\n      'std::__1::deque<std::__1::pair<CUevent_st *, (anonymous namespace)::Block *>, std::__1::allocator<std::__1::pair<CUevent_st *,\n      (anonymous namespace)::Block *> > >'\n      cuda_events.emplace_back(event, block);\n      ~~~~~~~~~~~ ^\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:419:7: warning: 'auto' type specifier is a C++11 extension\n      [-Wc++11-extensions]\n      auto& e = cuda_events.front();\n      ^\n8 warnings and 3 errors generated.\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingHostAllocator.cpp.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\n10 warnings and 2 errors generated.\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingAllocator.cpp.o] Error 1\nmake[1]: *** [CMakeFiles/THC.dir/all] Error 2\nmake: *** [all] Error 2\n\nI cloned the pytorch repo master branch. This error occurred with both clang-3.7 (installed via homebrew) as well as Apple clang\nApple LLVM version 8.1.0 (clang-802.0.42)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n\nMy NVCC version is\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2016 NVIDIA Corporation\nBuilt on Tue_Jan_10_13:22:46_CST_2017\nCuda compilation tools, release 8.0, V8.0.61\n\nThe exact commands I ran were these:\nMACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\nand\nMACOSX_DEPLOYMENT_TARGET=10.9 CC=clang-3.7 CXX=clang++-3.7 python setup.py install\nIt makes it through libTH, libTHNN, libTHS, and crashes on libTHC", "body": "I'm getting a not found error during my build from source, here is the stack trace:\r\n```\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:58:42: error: a space is required between consecutive right angle\r\n      brackets (use '> >')\r\n  std::deque<std::pair<cudaEvent_t, void*>> cuda_events;\r\n                                         ^~\r\n                                         > >\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:74:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = available.lower_bound(search_key);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:99:43: error: a space is required between consecutive right angle\r\n      brackets (use '> >')\r\n  std::deque<std::pair<cudaEvent_t, Block*>> cuda_events;\r\n                                          ^~\r\n                                          > >\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:93:19: error: expected expression\r\n    blocks.insert({*ptr, Block(size, *ptr, true)});\r\n                  ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:111:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = blocks.find(ptr);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:139:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = blocks.find(ptr);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:163:7: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n      auto& e = cuda_events.front();\r\n      ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:192:10: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    for (auto it = cuda_events.begin(); it != cuda_events.end(); ++it) {\r\n         ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:208:10: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    for (auto it = blocks.begin(); it != blocks.end();) {\r\n         ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:228:10: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\r\n         ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:229:7: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n      auto& stream = *it;\r\n      ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingHostAllocator.cpp:242:19: error: no member named 'emplace_back' in\r\n      'std::__1::deque<std::__1::pair<CUevent_st *, void *>, std::__1::allocator<std::__1::pair<CUevent_st *, void *> > >'\r\n      cuda_events.emplace_back(event, block.ptr);\r\n      ~~~~~~~~~~~ ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:125:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto& free_blocks = small ? large_blocks : small_blocks;\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:130:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = free_blocks.lower_bound(&search_key);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:174:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = allocated_blocks.find(ptr);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:232:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = blocks.lower_bound(&search_key);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:270:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto& free_blocks = small ? large_blocks : small_blocks;\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:361:9: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n        auto cur = it;\r\n        ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:373:5: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    auto it = allocated_blocks.find(ptr);\r\n    ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:390:10: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n    for (auto it = streams.begin(); it != streams.end(); ++it) {\r\n         ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:391:7: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n      auto& stream = *it;\r\n      ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:404:19: error: no member named 'emplace_back' in\r\n      'std::__1::deque<std::__1::pair<CUevent_st *, (anonymous namespace)::Block *>, std::__1::allocator<std::__1::pair<CUevent_st *,\r\n      (anonymous namespace)::Block *> > >'\r\n      cuda_events.emplace_back(event, block);\r\n      ~~~~~~~~~~~ ^\r\n/Users/Aman/code/pytorch/pytorch/torch/lib/THC/THCCachingAllocator.cpp:419:7: warning: 'auto' type specifier is a C++11 extension\r\n      [-Wc++11-extensions]\r\n      auto& e = cuda_events.front();\r\n      ^\r\n8 warnings and 3 errors generated.\r\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingHostAllocator.cpp.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\n10 warnings and 2 errors generated.\r\nmake[2]: *** [CMakeFiles/THC.dir/THCCachingAllocator.cpp.o] Error 1\r\nmake[1]: *** [CMakeFiles/THC.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n```\r\n\r\nI cloned the pytorch repo master branch. This error occurred with both `clang-3.7` (installed via homebrew) as well as Apple clang\r\n```\r\nApple LLVM version 8.1.0 (clang-802.0.42)\r\nTarget: x86_64-apple-darwin16.7.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```\r\n\r\nMy NVCC version is\r\n```\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2016 NVIDIA Corporation\r\nBuilt on Tue_Jan_10_13:22:46_CST_2017\r\nCuda compilation tools, release 8.0, V8.0.61\r\n```\r\n\r\nThe exact commands I ran were these:\r\n`MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install`\r\nand\r\n`MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang-3.7 CXX=clang++-3.7 python setup.py install`\r\n\r\nIt makes it through libTH, libTHNN, libTHS, and crashes on libTHC"}