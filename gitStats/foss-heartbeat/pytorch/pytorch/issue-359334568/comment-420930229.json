{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/420930229", "html_url": "https://github.com/pytorch/pytorch/issues/11570#issuecomment-420930229", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11570", "id": 420930229, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDkzMDIyOQ==", "user": {"login": "xental", "id": 17525319, "node_id": "MDQ6VXNlcjE3NTI1MzE5", "avatar_url": "https://avatars3.githubusercontent.com/u/17525319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xental", "html_url": "https://github.com/xental", "followers_url": "https://api.github.com/users/xental/followers", "following_url": "https://api.github.com/users/xental/following{/other_user}", "gists_url": "https://api.github.com/users/xental/gists{/gist_id}", "starred_url": "https://api.github.com/users/xental/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xental/subscriptions", "organizations_url": "https://api.github.com/users/xental/orgs", "repos_url": "https://api.github.com/users/xental/repos", "events_url": "https://api.github.com/users/xental/events{/privacy}", "received_events_url": "https://api.github.com/users/xental/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-13T08:41:23Z", "updated_at": "2018-09-13T08:41:23Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=79994\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/orionr\">@orionr</a><br>\nIn docker container (where I am trying to build) installed this packages:</p>\n<pre><code>        build-essential \n        cmake \n        git \n        libgoogle-glog-dev \n        libgtest-dev \n        libiomp-dev \n        libleveldb-dev \n        liblmdb-dev \n        libopenmpi-dev \n        libsnappy-dev \n        libprotobuf-dev \n        openmpi-bin \n        openmpi-doc \n        protobuf-compiler \n        libgflags-dev \n        python3-dev \n        python3-pip \n        python3-setuptools \n        python3-wheel \n        python3-yaml\n</code></pre>\n<p>I am cloning pytorch repo and run next command</p>\n<pre><code>CMAKE_ARGS=\"-DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=OFF -DUSE_OPENCV=OFF\" python3 setup.py build bdist_wheel\n</code></pre>\n<p>There was CMake warning that confuses a little bit cause pibind11 in third_parties</p>\n<pre><code>CMake Warning at cmake/Dependencies.cmake:412 (find_package):\n  Could not find a package configuration file provided by \"pybind11\" with any\n  of the following names:\n\n    pybind11Config.cmake\n    pybind11-config.cmake\n\n  Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\n  \"pybind11_DIR\" to a directory containing one of the above files.  If\n  \"pybind11\" provides a separate development package or SDK, be sure it has\n  been installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:169 (include)\n\npybind11 config not found. Fallback to legacy find.\nCMake Warning at cmake/Dependencies.cmake:447 (message):\n</code></pre>\n<p>So, I continued build and have critical error in python after importing  <code>from caffe2.python import core</code></p>\n<p>After that I tried to built pybind (from srcs) and this warning did not show again<br>\nBut crit error after <code>from caffe2.python import core</code> still reproduce</p>\n<p>Build logs attached<br>\n<a href=\"https://github.com/pytorch/pytorch/files/2378405/log_no_pybind.log\">log_build_no_pybind_prebuild</a><br>\n<a href=\"https://github.com/pytorch/pytorch/files/2378406/log_with_pybind.log\">log_with__pybind_prebuild</a></p>", "body_text": "@orionr\nIn docker container (where I am trying to build) installed this packages:\n        build-essential \n        cmake \n        git \n        libgoogle-glog-dev \n        libgtest-dev \n        libiomp-dev \n        libleveldb-dev \n        liblmdb-dev \n        libopenmpi-dev \n        libsnappy-dev \n        libprotobuf-dev \n        openmpi-bin \n        openmpi-doc \n        protobuf-compiler \n        libgflags-dev \n        python3-dev \n        python3-pip \n        python3-setuptools \n        python3-wheel \n        python3-yaml\n\nI am cloning pytorch repo and run next command\nCMAKE_ARGS=\"-DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=OFF -DUSE_OPENCV=OFF\" python3 setup.py build bdist_wheel\n\nThere was CMake warning that confuses a little bit cause pibind11 in third_parties\nCMake Warning at cmake/Dependencies.cmake:412 (find_package):\n  Could not find a package configuration file provided by \"pybind11\" with any\n  of the following names:\n\n    pybind11Config.cmake\n    pybind11-config.cmake\n\n  Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\n  \"pybind11_DIR\" to a directory containing one of the above files.  If\n  \"pybind11\" provides a separate development package or SDK, be sure it has\n  been installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:169 (include)\n\npybind11 config not found. Fallback to legacy find.\nCMake Warning at cmake/Dependencies.cmake:447 (message):\n\nSo, I continued build and have critical error in python after importing  from caffe2.python import core\nAfter that I tried to built pybind (from srcs) and this warning did not show again\nBut crit error after from caffe2.python import core still reproduce\nBuild logs attached\nlog_build_no_pybind_prebuild\nlog_with__pybind_prebuild", "body": "@orionr \r\nIn docker container (where I am trying to build) installed this packages:\r\n```\r\n        build-essential \r\n        cmake \r\n        git \r\n        libgoogle-glog-dev \r\n        libgtest-dev \r\n        libiomp-dev \r\n        libleveldb-dev \r\n        liblmdb-dev \r\n        libopenmpi-dev \r\n        libsnappy-dev \r\n        libprotobuf-dev \r\n        openmpi-bin \r\n        openmpi-doc \r\n        protobuf-compiler \r\n        libgflags-dev \r\n        python3-dev \r\n        python3-pip \r\n        python3-setuptools \r\n        python3-wheel \r\n        python3-yaml\r\n```\r\nI am cloning pytorch repo and run next command \r\n```\r\nCMAKE_ARGS=\"-DCMAKE_BUILD_TYPE=Release -DUSE_CUDA=OFF -DUSE_OPENCV=OFF\" python3 setup.py build bdist_wheel\r\n```\r\nThere was CMake warning that confuses a little bit cause pibind11 in third_parties \r\n```\r\nCMake Warning at cmake/Dependencies.cmake:412 (find_package):\r\n  Could not find a package configuration file provided by \"pybind11\" with any\r\n  of the following names:\r\n\r\n    pybind11Config.cmake\r\n    pybind11-config.cmake\r\n\r\n  Add the installation prefix of \"pybind11\" to CMAKE_PREFIX_PATH or set\r\n  \"pybind11_DIR\" to a directory containing one of the above files.  If\r\n  \"pybind11\" provides a separate development package or SDK, be sure it has\r\n  been installed.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:169 (include)\r\n\r\npybind11 config not found. Fallback to legacy find.\r\nCMake Warning at cmake/Dependencies.cmake:447 (message):\r\n```\r\n\r\nSo, I continued build and have critical error in python after importing  `from caffe2.python import core`\r\n\r\nAfter that I tried to built pybind (from srcs) and this warning did not show again\r\nBut crit error after `from caffe2.python import core` still reproduce \r\n\r\nBuild logs attached \r\n[log_build_no_pybind_prebuild](https://github.com/pytorch/pytorch/files/2378405/log_no_pybind.log)\r\n[log_with__pybind_prebuild](https://github.com/pytorch/pytorch/files/2378406/log_with_pybind.log)\r\n"}