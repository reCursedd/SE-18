{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3126", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3126/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3126/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3126/events", "html_url": "https://github.com/pytorch/pytorch/issues/3126", "id": 265595062, "node_id": "MDU6SXNzdWUyNjU1OTUwNjI=", "number": 3126, "title": "cudnn version detection script may not always choose latest CuDNN", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-10-15T19:02:34Z", "updated_at": "2018-04-15T03:14:34Z", "closed_at": "2017-10-16T18:59:19Z", "author_association": "CONTRIBUTOR", "body_html": "<p>My CuDNN install looks like this:</p>\n<pre><code>ls /usr/local/cuda/lib64 | grep cudnn\nlibcudnn.so\nlibcudnn.so.5\nlibcudnn.so.5.1.10\nlibcudnn.so.6\nlibcudnn.so.6.0.21\nlibcudnn_static.a\n</code></pre>\n<p>Notably, <code>libcudnn.so</code> is linked to a suitably new version of CuDNN.</p>\n<pre><code>ls -l /usr/local/cuda/lib64/libcudnn.so\nlrwxrwxrwx. 1 sgross users 13 Apr 12  2017 /usr/local/cuda/lib64/libcudnn.so -&gt; libcudnn.so.6\n</code></pre>\n<p>However, the version detection code added in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/1322f9a272db91b8bc0254c6cdf4ea787120631b/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/1322f9a272db91b8bc0254c6cdf4ea787120631b\"><tt>1322f9a</tt></a> does not look at the default <code>libcudnn.so</code>, and instead arbitrarily picks on of the versions visible from the filesystem. In my system, it picks wrong, and concludes that I don't have a recent enough version of CuDNN (even though I do.)</p>\n<p>CC <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5652049\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zou3519\">@zou3519</a></p>", "body_text": "My CuDNN install looks like this:\nls /usr/local/cuda/lib64 | grep cudnn\nlibcudnn.so\nlibcudnn.so.5\nlibcudnn.so.5.1.10\nlibcudnn.so.6\nlibcudnn.so.6.0.21\nlibcudnn_static.a\n\nNotably, libcudnn.so is linked to a suitably new version of CuDNN.\nls -l /usr/local/cuda/lib64/libcudnn.so\nlrwxrwxrwx. 1 sgross users 13 Apr 12  2017 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.6\n\nHowever, the version detection code added in 1322f9a does not look at the default libcudnn.so, and instead arbitrarily picks on of the versions visible from the filesystem. In my system, it picks wrong, and concludes that I don't have a recent enough version of CuDNN (even though I do.)\nCC @zou3519", "body": "My CuDNN install looks like this:\r\n\r\n```\r\nls /usr/local/cuda/lib64 | grep cudnn\r\nlibcudnn.so\r\nlibcudnn.so.5\r\nlibcudnn.so.5.1.10\r\nlibcudnn.so.6\r\nlibcudnn.so.6.0.21\r\nlibcudnn_static.a\r\n```\r\n\r\nNotably, `libcudnn.so` is linked to a suitably new version of CuDNN.\r\n\r\n```\r\nls -l /usr/local/cuda/lib64/libcudnn.so\r\nlrwxrwxrwx. 1 sgross users 13 Apr 12  2017 /usr/local/cuda/lib64/libcudnn.so -> libcudnn.so.6\r\n```\r\n\r\nHowever, the version detection code added in 1322f9a272db91b8bc0254c6cdf4ea787120631b does not look at the default `libcudnn.so`, and instead arbitrarily picks on of the versions visible from the filesystem. In my system, it picks wrong, and concludes that I don't have a recent enough version of CuDNN (even though I do.)\r\n\r\nCC @zou3519 "}