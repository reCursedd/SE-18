{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/321683270", "html_url": "https://github.com/pytorch/pytorch/issues/2143#issuecomment-321683270", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2143", "id": 321683270, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTY4MzI3MA==", "user": {"login": "lgalke", "id": 3439126, "node_id": "MDQ6VXNlcjM0MzkxMjY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3439126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lgalke", "html_url": "https://github.com/lgalke", "followers_url": "https://api.github.com/users/lgalke/followers", "following_url": "https://api.github.com/users/lgalke/following{/other_user}", "gists_url": "https://api.github.com/users/lgalke/gists{/gist_id}", "starred_url": "https://api.github.com/users/lgalke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lgalke/subscriptions", "organizations_url": "https://api.github.com/users/lgalke/orgs", "repos_url": "https://api.github.com/users/lgalke/repos", "events_url": "https://api.github.com/users/lgalke/events{/privacy}", "received_events_url": "https://api.github.com/users/lgalke/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-10T21:51:00Z", "updated_at": "2017-08-10T21:53:41Z", "author_association": "NONE", "body_html": "<p>Experienced the same, here is a minimal example using python3 and pytorch 0.2</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> sklearn\n<span class=\"pl-k\">import</span> pytorch</pre></div>\n<p>leads to</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-k\">***</span> Error <span class=\"pl-k\">in</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>python3<span class=\"pl-s\"><span class=\"pl-pds\">'</span>: free(): invalid pointer: 0x00007fc8375cdb80 ***</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">======= Backtrace: =========</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fc86e73c7e5]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7fc86e74537a]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7fc86e74953c]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_Impl16_M_install_facetEPKNS_2idEPKNS_5facetE+0x142)[0x7fc837367802]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_ImplC2Em+0x1e3)[0x7fc837369953]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale18_S_initialize_onceEv+0x15)[0x7fc83736a8c5]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/lib/x86_64-linux-gnu/libpthread.so.0(+0xea99)[0x7fc86ea9da99]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale13_S_initializeEv+0x21)[0x7fc83736a911]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6localeC1Ev+0x13)[0x7fc83736a953]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt8ios_base4InitC1Ev+0xb4)[0x7fc83733c1b4]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a5a14)[0x7fc813f17a14]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a6aa3)[0x7fc813f18aa3]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x335026)[0x7fc813fa7026]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">======= Memory map: ========</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\"># [...]</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">Aborted (core dumped)</span></span></pre></div>\n<p>whereas importing in reverse order</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch                                                                     \n<span class=\"pl-k\">import</span> sklearn                                                                   \n<span class=\"pl-c1\">print</span>(torch.<span class=\"pl-c1\">__version__</span>)                                                                                                                              \n<span class=\"pl-c1\">print</span>(sklearn.<span class=\"pl-c1\">__version__</span>)</pre></div>\n<p>leads to</p>\n<div class=\"highlight highlight-source-shell\"><pre>0.2.0_1\n0.18.2</pre></div>\n<p>Hope I could help.</p>\n<p>EDIT: Both pytorch and sklearn are installed via pip in a virtual environment. Server has no CUDA support.</p>", "body_text": "Experienced the same, here is a minimal example using python3 and pytorch 0.2\nimport sklearn\nimport pytorch\nleads to\n*** Error in `python3': free(): invalid pointer: 0x00007fc8375cdb80 ***\n======= Backtrace: =========\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fc86e73c7e5]\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7fc86e74537a]\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7fc86e74953c]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_Impl16_M_install_facetEPKNS_2idEPKNS_5facetE+0x142)[0x7fc837367802]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_ImplC2Em+0x1e3)[0x7fc837369953]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale18_S_initialize_onceEv+0x15)[0x7fc83736a8c5]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0xea99)[0x7fc86ea9da99]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale13_S_initializeEv+0x21)[0x7fc83736a911]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6localeC1Ev+0x13)[0x7fc83736a953]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt8ios_base4InitC1Ev+0xb4)[0x7fc83733c1b4]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a5a14)[0x7fc813f17a14]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a6aa3)[0x7fc813f18aa3]\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x335026)[0x7fc813fa7026]\n======= Memory map: ========\n# [...]\nAborted (core dumped)\nwhereas importing in reverse order\nimport torch                                                                     \nimport sklearn                                                                   \nprint(torch.__version__)                                                                                                                              \nprint(sklearn.__version__)\nleads to\n0.2.0_1\n0.18.2\nHope I could help.\nEDIT: Both pytorch and sklearn are installed via pip in a virtual environment. Server has no CUDA support.", "body": "Experienced the same, here is a minimal example using python3 and pytorch 0.2\r\n``` python\r\nimport sklearn\r\nimport pytorch\r\n```\r\nleads to\r\n\r\n```sh\r\n*** Error in `python3': free(): invalid pointer: 0x00007fc8375cdb80 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fc86e73c7e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7fc86e74537a]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7fc86e74953c]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_Impl16_M_install_facetEPKNS_2idEPKNS_5facetE+0x142)[0x7fc837367802]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale5_ImplC2Em+0x1e3)[0x7fc837369953]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale18_S_initialize_onceEv+0x15)[0x7fc83736a8c5]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0xea99)[0x7fc86ea9da99]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6locale13_S_initializeEv+0x21)[0x7fc83736a911]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt6localeC1Ev+0x13)[0x7fc83736a953]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libshm.so(_ZNSt8ios_base4InitC1Ev+0xb4)[0x7fc83733c1b4]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a5a14)[0x7fc813f17a14]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x2a6aa3)[0x7fc813f18aa3]\r\n/home/lgalke/x/lib/python3.5/site-packages/torch/lib/libcusparse-652fe42d.so.7.5.18(+0x335026)[0x7fc813fa7026]\r\n======= Memory map: ========\r\n# [...]\r\nAborted (core dumped)\r\n```\r\n\r\nwhereas importing in reverse order\r\n\r\n```python\r\nimport torch                                                                     \r\nimport sklearn                                                                   \r\nprint(torch.__version__)                                                                                                                              \r\nprint(sklearn.__version__)\r\n```\r\nleads to\r\n```sh\r\n0.2.0_1\r\n0.18.2\r\n```\r\n\r\nHope I could help.\r\n\r\nEDIT: Both pytorch and sklearn are installed via pip in a virtual environment. Server has no CUDA support."}