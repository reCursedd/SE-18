{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9736", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9736/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9736/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9736/events", "html_url": "https://github.com/pytorch/pytorch/issues/9736", "id": 343834263, "node_id": "MDU6SXNzdWUzNDM4MzQyNjM=", "number": 9736, "title": "Cannot open db - LMDB, via python, Windows 10", "user": {"login": "CarlosYeverino", "id": 25825048, "node_id": "MDQ6VXNlcjI1ODI1MDQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/25825048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CarlosYeverino", "html_url": "https://github.com/CarlosYeverino", "followers_url": "https://api.github.com/users/CarlosYeverino/followers", "following_url": "https://api.github.com/users/CarlosYeverino/following{/other_user}", "gists_url": "https://api.github.com/users/CarlosYeverino/gists{/gist_id}", "starred_url": "https://api.github.com/users/CarlosYeverino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CarlosYeverino/subscriptions", "organizations_url": "https://api.github.com/users/CarlosYeverino/orgs", "repos_url": "https://api.github.com/users/CarlosYeverino/repos", "events_url": "https://api.github.com/users/CarlosYeverino/events{/privacy}", "received_events_url": "https://api.github.com/users/CarlosYeverino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}, {"id": 790080431, "node_id": "MDU6TGFiZWw3OTAwODA0MzE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/windows", "name": "windows", "color": "fcff6b", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-07-23T23:46:10Z", "updated_at": "2018-11-06T23:52:49Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>If you have a question or would like help and support, please ask at our<br>\n<a href=\"https://discuss.pytorch.org/\" rel=\"nofollow\">forums</a>.</p>\n<p>If you are submitting a feature request, please preface the title with [feature request].<br>\nIf you are submitting a bug report, please fill in the following details.</p>\n<h2>Issue description</h2>\n<p>I was able to compile pytorch with the aim of using Caffe2. I have tested some libraries using python and it works well. However, I would like to use data bases for training but when I try to use lmdb there is an error:</p>\n<pre><code>RuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-16-107e99931720&gt; in &lt;module&gt;()\n     17 \n     18 # Initialize and create the training network\n---&gt; 19 workspace.RunNetOnce(train_model.param_init_net)\n     20 workspace.CreateNet(train_model.net, overwrite=True)\n     21 # Initialize and create validation network\n\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in RunNetOnce(net)\n    197         C.Workspace.current._last_failed_op_net_position,\n    198         GetNetName(net),\n--&gt; 199         StringifyProto(net),\n    200     )\n    201 \n\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)\n    176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):\n    177     try:\n--&gt; 178         return func(*args, **kwargs)\n    179     except Exception:\n    180         op_id = op_id_fetcher()\n\nRuntimeError: [enforce fail at db.h:190] db_. Cannot open db: D:\\caffe2_notebooks\\tutorial_data\\cifar10\\training_lmdb of type lmdb Error from operator: \noutput: \"dbreader_D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" }\n</code></pre>\n<p><strong>For the setup I used python 2.7 and installed all required packages. I installed the package lmdb as well. However, it seems that it is not recognized for the compilation of Caffe2. Furthermore, I set USE_LMDB=ON but it is not recognized by CMake since it has no impact in the CMake configuration that is printed out in the console. The file CMake_Cache.txt (attached)<br>\n<a href=\"https://github.com/pytorch/pytorch/files/2221447/CMakeCache.txt\">CMakeCache.txt</a><br>\nalso indicates that path for LMDB was not found LMDB_DIR:PATH=LMDB_DIR-NOTFOUND . How can I successfully use LMDB for Caffe2 using my configuration? I am stuck at this step for a while, any help would be very appreciated.</strong></p>\n<p>Provide a short description.<br>\nLMDB error - cannot open db</p>\n<h2>Code example</h2>\n<p>Follow Cifar10 or MNIST Tutorial.</p>\n<p>Please try to provide a minimal example to repro the bug.<br>\nError messages and stack traces are also helpful.</p>\n<h2>System Info</h2>\n<p>Please copy and paste the output from our<br>\n<a href=\"https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\" rel=\"nofollow\">environment collection script</a><br>\n(or fill out the checklist below manually).</p>\n<p>You can get the script and run it with:</p>\n<pre><code>wget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n</code></pre>\n<ul>\n<li>PyTorch or Caffe2: Pythorch cloned to be able to use Caffe2</li>\n<li>How you installed PyTorch (conda, pip, source): github</li>\n<li>Build command you used (if compiling from source):</li>\n<li>OS: Windows 10</li>\n<li>PyTorch version: current version</li>\n<li>Python version: 2.7</li>\n<li>CUDA/cuDNN version: 8.0/7.0.5</li>\n<li>GPU models and configuration: NVIDIA GeForce GTX 1050</li>\n<li>GCC version (if compiling from source):</li>\n<li>CMake version: cmake-3.12.0-rc2-win64-x64.msi</li>\n<li>Versions of any other relevant libraries: Visual Studio 2015</li>\n</ul>", "body_text": "If you have a question or would like help and support, please ask at our\nforums.\nIf you are submitting a feature request, please preface the title with [feature request].\nIf you are submitting a bug report, please fill in the following details.\nIssue description\nI was able to compile pytorch with the aim of using Caffe2. I have tested some libraries using python and it works well. However, I would like to use data bases for training but when I try to use lmdb there is an error:\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-16-107e99931720> in <module>()\n     17 \n     18 # Initialize and create the training network\n---> 19 workspace.RunNetOnce(train_model.param_init_net)\n     20 workspace.CreateNet(train_model.net, overwrite=True)\n     21 # Initialize and create validation network\n\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in RunNetOnce(net)\n    197         C.Workspace.current._last_failed_op_net_position,\n    198         GetNetName(net),\n--> 199         StringifyProto(net),\n    200     )\n    201 \n\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)\n    176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):\n    177     try:\n--> 178         return func(*args, **kwargs)\n    179     except Exception:\n    180         op_id = op_id_fetcher()\n\nRuntimeError: [enforce fail at db.h:190] db_. Cannot open db: D:\\caffe2_notebooks\\tutorial_data\\cifar10\\training_lmdb of type lmdb Error from operator: \noutput: \"dbreader_D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" }\n\nFor the setup I used python 2.7 and installed all required packages. I installed the package lmdb as well. However, it seems that it is not recognized for the compilation of Caffe2. Furthermore, I set USE_LMDB=ON but it is not recognized by CMake since it has no impact in the CMake configuration that is printed out in the console. The file CMake_Cache.txt (attached)\nCMakeCache.txt\nalso indicates that path for LMDB was not found LMDB_DIR:PATH=LMDB_DIR-NOTFOUND . How can I successfully use LMDB for Caffe2 using my configuration? I am stuck at this step for a while, any help would be very appreciated.\nProvide a short description.\nLMDB error - cannot open db\nCode example\nFollow Cifar10 or MNIST Tutorial.\nPlease try to provide a minimal example to repro the bug.\nError messages and stack traces are also helpful.\nSystem Info\nPlease copy and paste the output from our\nenvironment collection script\n(or fill out the checklist below manually).\nYou can get the script and run it with:\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n\n\nPyTorch or Caffe2: Pythorch cloned to be able to use Caffe2\nHow you installed PyTorch (conda, pip, source): github\nBuild command you used (if compiling from source):\nOS: Windows 10\nPyTorch version: current version\nPython version: 2.7\nCUDA/cuDNN version: 8.0/7.0.5\nGPU models and configuration: NVIDIA GeForce GTX 1050\nGCC version (if compiling from source):\nCMake version: cmake-3.12.0-rc2-win64-x64.msi\nVersions of any other relevant libraries: Visual Studio 2015", "body": "If you have a question or would like help and support, please ask at our\r\n[forums](https://discuss.pytorch.org/).\r\n\r\nIf you are submitting a feature request, please preface the title with [feature request].\r\nIf you are submitting a bug report, please fill in the following details.\r\n\r\n## Issue description\r\nI was able to compile pytorch with the aim of using Caffe2. I have tested some libraries using python and it works well. However, I would like to use data bases for training but when I try to use lmdb there is an error:\r\n\r\n```\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-16-107e99931720> in <module>()\r\n     17 \r\n     18 # Initialize and create the training network\r\n---> 19 workspace.RunNetOnce(train_model.param_init_net)\r\n     20 workspace.CreateNet(train_model.net, overwrite=True)\r\n     21 # Initialize and create validation network\r\n\r\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in RunNetOnce(net)\r\n    197         C.Workspace.current._last_failed_op_net_position,\r\n    198         GetNetName(net),\r\n--> 199         StringifyProto(net),\r\n    200     )\r\n    201 \r\n\r\nD:\\Yeverino\\git_projects\\pytorch\\build\\caffe2\\python\\workspace.pyc in CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs)\r\n    176 def CallWithExceptionIntercept(func, op_id_fetcher, net_name, *args, **kwargs):\r\n    177     try:\r\n--> 178         return func(*args, **kwargs)\r\n    179     except Exception:\r\n    180         op_id = op_id_fetcher()\r\n\r\nRuntimeError: [enforce fail at db.h:190] db_. Cannot open db: D:\\caffe2_notebooks\\tutorial_data\\cifar10\\training_lmdb of type lmdb Error from operator: \r\noutput: \"dbreader_D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" name: \"\" type: \"CreateDB\" arg { name: \"db_type\" s: \"lmdb\" } arg { name: \"db\" s: \"D:\\\\caffe2_notebooks\\\\tutorial_data\\\\cifar10\\\\training_lmdb\" }\r\n```\r\n**For the setup I used python 2.7 and installed all required packages. I installed the package lmdb as well. However, it seems that it is not recognized for the compilation of Caffe2. Furthermore, I set USE_LMDB=ON but it is not recognized by CMake since it has no impact in the CMake configuration that is printed out in the console. The file CMake_Cache.txt (attached) \r\n[CMakeCache.txt](https://github.com/pytorch/pytorch/files/2221447/CMakeCache.txt)\r\nalso indicates that path for LMDB was not found LMDB_DIR:PATH=LMDB_DIR-NOTFOUND . How can I successfully use LMDB for Caffe2 using my configuration? I am stuck at this step for a while, any help would be very appreciated.**\r\n\r\nProvide a short description.\r\nLMDB error - cannot open db\r\n\r\n## Code example\r\nFollow Cifar10 or MNIST Tutorial.\r\n\r\n\r\nPlease try to provide a minimal example to repro the bug.\r\nError messages and stack traces are also helpful.\r\n\r\n## System Info\r\nPlease copy and paste the output from our\r\n[environment collection script](https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py)\r\n(or fill out the checklist below manually).\r\n\r\nYou can get the script and run it with:\r\n```\r\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\r\n# For security purposes, please check the contents of collect_env.py before running it.\r\npython collect_env.py\r\n```\r\n\r\n- PyTorch or Caffe2: Pythorch cloned to be able to use Caffe2\r\n- How you installed PyTorch (conda, pip, source): github\r\n- Build command you used (if compiling from source):\r\n- OS: Windows 10\r\n- PyTorch version: current version\r\n- Python version: 2.7\r\n- CUDA/cuDNN version: 8.0/7.0.5\r\n- GPU models and configuration: NVIDIA GeForce GTX 1050\r\n- GCC version (if compiling from source):\r\n- CMake version: cmake-3.12.0-rc2-win64-x64.msi\r\n- Versions of any other relevant libraries: Visual Studio 2015\r\n"}