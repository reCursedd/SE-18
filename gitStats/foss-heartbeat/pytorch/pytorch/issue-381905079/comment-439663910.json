{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/439663910", "html_url": "https://github.com/pytorch/pytorch/issues/14152#issuecomment-439663910", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/14152", "id": 439663910, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTY2MzkxMA==", "user": {"login": "meder411", "id": 6818607, "node_id": "MDQ6VXNlcjY4MTg2MDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6818607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meder411", "html_url": "https://github.com/meder411", "followers_url": "https://api.github.com/users/meder411/followers", "following_url": "https://api.github.com/users/meder411/following{/other_user}", "gists_url": "https://api.github.com/users/meder411/gists{/gist_id}", "starred_url": "https://api.github.com/users/meder411/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meder411/subscriptions", "organizations_url": "https://api.github.com/users/meder411/orgs", "repos_url": "https://api.github.com/users/meder411/repos", "events_url": "https://api.github.com/users/meder411/events{/privacy}", "received_events_url": "https://api.github.com/users/meder411/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-18T03:01:31Z", "updated_at": "2018-11-18T03:16:19Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> Unfortunately that did not resolve the issue.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a> I ran <code>find /usr -name nccl*</code>. The output is below. Would one of these files be the issue? If so, is there something to specify to ignore it?</p>\n<pre><code>/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/__pycache__/nccl_ops.cpython-35.pyc\n/usr/local/lib/python3.5/dist-packages/external/nccl_archive\n/usr/local/lib/python3.5/dist-packages/torch/cuda/nccl.py\n/usr/local/lib/python3.5/dist-packages/torch/cuda/__pycache__/nccl.cpython-35.pyc\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.pyc\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\n/usr/local/lib/python2.7/dist-packages/torch/lib/include/torch/csrc/cuda/nccl.h\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.pyc\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.py\n/usr/local/src/pytorch/.git/modules/third_party/nccl\n/usr/local/src/pytorch/.git/modules/third_party/nccl/nccl\n/usr/local/src/pytorch/third_party/nccl\n/usr/local/src/pytorch/third_party/nccl/nccl\n/usr/local/src/pytorch/third_party/nccl/nccl/src/nccl.h.in\n/usr/local/src/pytorch/third_party/nccl/nccl/src/include/nccl_net.h\n/usr/local/src/pytorch/third_party/nccl/nccl/pkg/redhat/nccl.spec.in\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.h\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.cu\n/usr/local/src/pytorch/cmake/External/nccl.cmake\n/usr/local/src/pytorch/build/third_party/gloo/gloo/CMakeFiles/gloo_cuda.dir/nccl\n/usr/local/src/pytorch/build/third_party/gloo/gloo/nccl\n/usr/local/src/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/contrib/nccl\n/usr/local/src/pytorch/build/caffe2/contrib/nccl\n/usr/local/src/pytorch/build/caffe2/contrib/nccl/nccl_ops_test.py\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.cpp\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.h\n/usr/local/src/pytorch/torch/cuda/nccl.py\n/usr/local/src/pytorch/tools/setup_helpers/nccl.py\n/usr/local/src/pytorch/tools/setup_helpers/__pycache__/nccl.cpython-36.pyc\n/usr/local/src/pytorch/caffe2/contrib/nccl\n/usr/local/src/pytorch/caffe2/contrib/nccl/nccl_ops_test.py\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/lib/include/torch/csrc/cuda/nccl.h\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.pyc\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.py\n/usr/local/anaconda2/lib/python2.7/site-packages/cupy/cuda/nccl.so\n/usr/local/include/nccl.h\n</code></pre>\n<p>I was trying to install to a conda environment, which I thought may have caused the issue, but after also trying to install to system python it failed too.</p>\n<p>I'd had no problems with the old build I'd been using (last updated in late April 2018 I think). It shouldn't be a dependency issue I don't think. (Note this is a shared server so some of that stuff is possibly junk)</p>", "body_text": "@ezyang Unfortunately that did not resolve the issue.\n@soumith I ran find /usr -name nccl*. The output is below. Would one of these files be the issue? If so, is there something to specify to ignore it?\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/__pycache__/nccl_ops.cpython-35.pyc\n/usr/local/lib/python3.5/dist-packages/external/nccl_archive\n/usr/local/lib/python3.5/dist-packages/torch/cuda/nccl.py\n/usr/local/lib/python3.5/dist-packages/torch/cuda/__pycache__/nccl.cpython-35.pyc\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.pyc\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\n/usr/local/lib/python2.7/dist-packages/torch/lib/include/torch/csrc/cuda/nccl.h\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.pyc\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.py\n/usr/local/src/pytorch/.git/modules/third_party/nccl\n/usr/local/src/pytorch/.git/modules/third_party/nccl/nccl\n/usr/local/src/pytorch/third_party/nccl\n/usr/local/src/pytorch/third_party/nccl/nccl\n/usr/local/src/pytorch/third_party/nccl/nccl/src/nccl.h.in\n/usr/local/src/pytorch/third_party/nccl/nccl/src/include/nccl_net.h\n/usr/local/src/pytorch/third_party/nccl/nccl/pkg/redhat/nccl.spec.in\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.h\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.cu\n/usr/local/src/pytorch/cmake/External/nccl.cmake\n/usr/local/src/pytorch/build/third_party/gloo/gloo/CMakeFiles/gloo_cuda.dir/nccl\n/usr/local/src/pytorch/build/third_party/gloo/gloo/nccl\n/usr/local/src/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/contrib/nccl\n/usr/local/src/pytorch/build/caffe2/contrib/nccl\n/usr/local/src/pytorch/build/caffe2/contrib/nccl/nccl_ops_test.py\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.cpp\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.h\n/usr/local/src/pytorch/torch/cuda/nccl.py\n/usr/local/src/pytorch/tools/setup_helpers/nccl.py\n/usr/local/src/pytorch/tools/setup_helpers/__pycache__/nccl.cpython-36.pyc\n/usr/local/src/pytorch/caffe2/contrib/nccl\n/usr/local/src/pytorch/caffe2/contrib/nccl/nccl_ops_test.py\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/lib/include/torch/csrc/cuda/nccl.h\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.pyc\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.py\n/usr/local/anaconda2/lib/python2.7/site-packages/cupy/cuda/nccl.so\n/usr/local/include/nccl.h\n\nI was trying to install to a conda environment, which I thought may have caused the issue, but after also trying to install to system python it failed too.\nI'd had no problems with the old build I'd been using (last updated in late April 2018 I think). It shouldn't be a dependency issue I don't think. (Note this is a shared server so some of that stuff is possibly junk)", "body": "@ezyang Unfortunately that did not resolve the issue. \r\n\r\n@soumith I ran `find /usr -name nccl*`. The output is below. Would one of these files be the issue? If so, is there something to specify to ignore it? \r\n\r\n```\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/contrib/nccl/python/ops/__pycache__/nccl_ops.cpython-35.pyc\r\n/usr/local/lib/python3.5/dist-packages/external/nccl_archive\r\n/usr/local/lib/python3.5/dist-packages/torch/cuda/nccl.py\r\n/usr/local/lib/python3.5/dist-packages/torch/cuda/__pycache__/nccl.cpython-35.pyc\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.pyc\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/contrib/nccl/python/ops/nccl_ops.py\r\n/usr/local/lib/python2.7/dist-packages/torch/lib/include/torch/csrc/cuda/nccl.h\r\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.pyc\r\n/usr/local/lib/python2.7/dist-packages/torch/cuda/nccl.py\r\n/usr/local/src/pytorch/.git/modules/third_party/nccl\r\n/usr/local/src/pytorch/.git/modules/third_party/nccl/nccl\r\n/usr/local/src/pytorch/third_party/nccl\r\n/usr/local/src/pytorch/third_party/nccl/nccl\r\n/usr/local/src/pytorch/third_party/nccl/nccl/src/nccl.h.in\r\n/usr/local/src/pytorch/third_party/nccl/nccl/src/include/nccl_net.h\r\n/usr/local/src/pytorch/third_party/nccl/nccl/pkg/redhat/nccl.spec.in\r\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl\r\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.h\r\n/usr/local/src/pytorch/third_party/gloo/gloo/nccl/nccl.cu\r\n/usr/local/src/pytorch/cmake/External/nccl.cmake\r\n/usr/local/src/pytorch/build/third_party/gloo/gloo/CMakeFiles/gloo_cuda.dir/nccl\r\n/usr/local/src/pytorch/build/third_party/gloo/gloo/nccl\r\n/usr/local/src/pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/contrib/nccl\r\n/usr/local/src/pytorch/build/caffe2/contrib/nccl\r\n/usr/local/src/pytorch/build/caffe2/contrib/nccl/nccl_ops_test.py\r\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.cpp\r\n/usr/local/src/pytorch/torch/csrc/cuda/nccl.h\r\n/usr/local/src/pytorch/torch/cuda/nccl.py\r\n/usr/local/src/pytorch/tools/setup_helpers/nccl.py\r\n/usr/local/src/pytorch/tools/setup_helpers/__pycache__/nccl.cpython-36.pyc\r\n/usr/local/src/pytorch/caffe2/contrib/nccl\r\n/usr/local/src/pytorch/caffe2/contrib/nccl/nccl_ops_test.py\r\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/lib/include/torch/csrc/cuda/nccl.h\r\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.pyc\r\n/usr/local/anaconda2/lib/python2.7/site-packages/torch/cuda/nccl.py\r\n/usr/local/anaconda2/lib/python2.7/site-packages/cupy/cuda/nccl.so\r\n/usr/local/include/nccl.h\r\n```\r\n\r\nI was trying to install to a conda environment, which I thought may have caused the issue, but after also trying to install to system python it failed too.\r\n\r\nI'd had no problems with the old build I'd been using (last updated in late April 2018 I think). It shouldn't be a dependency issue I don't think. (Note this is a shared server so some of that stuff is possibly junk)\r\n"}