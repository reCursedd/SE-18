{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12558", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12558/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12558/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12558/events", "html_url": "https://github.com/pytorch/pytorch/issues/12558", "id": 368945159, "node_id": "MDU6SXNzdWUzNjg5NDUxNTk=", "number": 12558, "title": "Compile failed on tag v1.0rc1", "user": {"login": "LoSealL", "id": 11640576, "node_id": "MDQ6VXNlcjExNjQwNTc2", "avatar_url": "https://avatars3.githubusercontent.com/u/11640576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LoSealL", "html_url": "https://github.com/LoSealL", "followers_url": "https://api.github.com/users/LoSealL/followers", "following_url": "https://api.github.com/users/LoSealL/following{/other_user}", "gists_url": "https://api.github.com/users/LoSealL/gists{/gist_id}", "starred_url": "https://api.github.com/users/LoSealL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LoSealL/subscriptions", "organizations_url": "https://api.github.com/users/LoSealL/orgs", "repos_url": "https://api.github.com/users/LoSealL/repos", "events_url": "https://api.github.com/users/LoSealL/events{/privacy}", "received_events_url": "https://api.github.com/users/LoSealL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-10-11T04:08:35Z", "updated_at": "2018-10-11T23:51:01Z", "closed_at": "2018-10-11T07:35:33Z", "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>Failed with error:</p>\n<blockquote>\n<p>pytorch/aten/src/ATen/native/sparse/cuda/SparseCUDATensorMath.cu(366): error: identifier \"copy_sparse_to_sparse_\" is undefined<br>\n[ 65%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_accuracy_op.cu.o<br>\n1 error detected in the compilation of \"/tmp/tmpxft_00000215_00000000-6_SparseCUDATensorMath.cpp1.ii\".<br>\nCMake Error at caffe2_gpu_generated_SparseCUDATensorMath.cu.o.Release.cmake:279 (message):<br>\nError generating file<br>\npytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/sparse/cuda/./caffe2_gpu_generated_SparseCUDATensorMath.cu.o</p>\n</blockquote>\n<blockquote>\n<p>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:1246: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/<strong>/aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o' failed<br>\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/</strong>/aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o] Error 1</p>\n</blockquote>\n<blockquote>\n<p>CMakeFiles/Makefile2:3690: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed<br>\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2<br>\nMakefile:140: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'</p>\n</blockquote>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>git ck v1.0rc1 &amp;&amp; git submodule update</li>\n<li>python setup.py install</li>\n<li>wait and see...</li>\n</ol>\n\n<h2>Expected behavior</h2>\n\n<h2>Environment</h2>\n<p>Please copy and paste the output from our<br>\n<a href=\"https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\" rel=\"nofollow\">environment collection script</a><br>\n(or fill out the checklist below manually).</p>\n<p>You can get the script and run it with:</p>\n<pre><code>wget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n</code></pre>\n<ul>\n<li>PyTorch Version (e.g., 1.0): 1.0rc1</li>\n<li>OS (e.g., Linux): ubuntu 18.04</li>\n<li>How you installed PyTorch (<code>conda</code>, <code>pip</code>, source): source</li>\n<li>Build command you used (if compiling from source): <code>python setup.py install</code></li>\n<li>Python version: 3.6.5</li>\n<li>CUDA/cuDNN version: 9.0/7.1</li>\n<li>GPU models and configuration: TITAN-X</li>\n<li>Any other relevant information:</li>\n</ul>\n<h2>Additional context</h2>\n", "body_text": "\ud83d\udc1b Bug\nFailed with error:\n\npytorch/aten/src/ATen/native/sparse/cuda/SparseCUDATensorMath.cu(366): error: identifier \"copy_sparse_to_sparse_\" is undefined\n[ 65%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_accuracy_op.cu.o\n1 error detected in the compilation of \"/tmp/tmpxft_00000215_00000000-6_SparseCUDATensorMath.cpp1.ii\".\nCMake Error at caffe2_gpu_generated_SparseCUDATensorMath.cu.o.Release.cmake:279 (message):\nError generating file\npytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/sparse/cuda/./caffe2_gpu_generated_SparseCUDATensorMath.cu.o\n\n\ncaffe2/CMakeFiles/caffe2_gpu.dir/build.make:1246: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o' failed\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir//aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o] Error 1\n\n\nCMakeFiles/Makefile2:3690: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'\n\nTo Reproduce\nSteps to reproduce the behavior:\n\ngit ck v1.0rc1 && git submodule update\npython setup.py install\nwait and see...\n\n\nExpected behavior\n\nEnvironment\nPlease copy and paste the output from our\nenvironment collection script\n(or fill out the checklist below manually).\nYou can get the script and run it with:\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\n# For security purposes, please check the contents of collect_env.py before running it.\npython collect_env.py\n\n\nPyTorch Version (e.g., 1.0): 1.0rc1\nOS (e.g., Linux): ubuntu 18.04\nHow you installed PyTorch (conda, pip, source): source\nBuild command you used (if compiling from source): python setup.py install\nPython version: 3.6.5\nCUDA/cuDNN version: 9.0/7.1\nGPU models and configuration: TITAN-X\nAny other relevant information:\n\nAdditional context", "body": "## \ud83d\udc1b Bug\r\n\r\nFailed with error:\r\n>pytorch/aten/src/ATen/native/sparse/cuda/SparseCUDATensorMath.cu(366): error: identifier \"copy_sparse_to_sparse_\" is undefined\r\n[ 65%] Building NVCC (Device) object caffe2/CMakeFiles/caffe2_gpu.dir/operators/caffe2_gpu_generated_accuracy_op.cu.o\r\n1 error detected in the compilation of \"/tmp/tmpxft_00000215_00000000-6_SparseCUDATensorMath.cpp1.ii\".\r\nCMake Error at caffe2_gpu_generated_SparseCUDATensorMath.cu.o.Release.cmake:279 (message):\r\n  Error generating file\r\n  pytorch/build/caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/sparse/cuda/./caffe2_gpu_generated_SparseCUDATensorMath.cu.o\r\n\r\n\r\n>caffe2/CMakeFiles/caffe2_gpu.dir/build.make:1246: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o' failed\r\nmake[2]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/__/aten/src/ATen/native/sparse/cuda/caffe2_gpu_generated_SparseCUDATensorMath.cu.o] Error 1\r\n\r\n\r\n>CMakeFiles/Makefile2:3690: recipe for target 'caffe2/CMakeFiles/caffe2_gpu.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/caffe2_gpu.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. git ck v1.0rc1 && git submodule update\r\n1. python setup.py install\r\n1. wait and see...\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well -->\r\n\r\n## Expected behavior\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n\r\nPlease copy and paste the output from our\r\n[environment collection script](https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py)\r\n(or fill out the checklist below manually).\r\n\r\nYou can get the script and run it with:\r\n```\r\nwget https://raw.githubusercontent.com/pytorch/pytorch/master/torch/utils/collect_env.py\r\n# For security purposes, please check the contents of collect_env.py before running it.\r\npython collect_env.py\r\n```\r\n\r\n - PyTorch Version (e.g., 1.0): 1.0rc1\r\n - OS (e.g., Linux): ubuntu 18.04\r\n - How you installed PyTorch (`conda`, `pip`, source): source\r\n - Build command you used (if compiling from source): `python setup.py install`\r\n - Python version: 3.6.5\r\n - CUDA/cuDNN version: 9.0/7.1\r\n - GPU models and configuration: TITAN-X\r\n - Any other relevant information:\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n"}