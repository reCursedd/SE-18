{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/358448273", "html_url": "https://github.com/pytorch/pytorch/pull/4706#issuecomment-358448273", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4706", "id": 358448273, "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODQ0ODI3Mw==", "user": {"login": "fritzo", "id": 648532, "node_id": "MDQ6VXNlcjY0ODUzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/648532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fritzo", "html_url": "https://github.com/fritzo", "followers_url": "https://api.github.com/users/fritzo/followers", "following_url": "https://api.github.com/users/fritzo/following{/other_user}", "gists_url": "https://api.github.com/users/fritzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fritzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fritzo/subscriptions", "organizations_url": "https://api.github.com/users/fritzo/orgs", "repos_url": "https://api.github.com/users/fritzo/repos", "events_url": "https://api.github.com/users/fritzo/events{/privacy}", "received_events_url": "https://api.github.com/users/fritzo/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-17T21:16:59Z", "updated_at": "2018-01-17T21:18:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=23639302\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vishwakftw\">@vishwakftw</a> to help us remember to add all new distributions to the <code>EXAMPLES</code> list, could you add the following test to tests/test_distributions.py in this PR?</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">TestDistributions</span>(<span class=\"pl-e\">TestCase</span>):\n    <span class=\"pl-c1\">...</span>\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_has_examples</span>(<span class=\"pl-smi\"><span class=\"pl-smi\">self</span></span>):\n        distributions_with_examples <span class=\"pl-k\">=</span> <span class=\"pl-c1\">set</span>(e.Dist <span class=\"pl-k\">for</span> e <span class=\"pl-k\">in</span> <span class=\"pl-c1\">EXAMPLES</span>)\n        <span class=\"pl-k\">for</span> Dist <span class=\"pl-k\">in</span> <span class=\"pl-c1\">globals</span>().values():\n            <span class=\"pl-k\">if</span> <span class=\"pl-c1\">isinstance</span>(Dist, <span class=\"pl-c1\">type</span>) <span class=\"pl-k\">and</span> <span class=\"pl-c1\">issubclass</span>(Dist, Distribution) <span class=\"pl-k\">and</span> Dist <span class=\"pl-k\">is</span> <span class=\"pl-k\">not</span> Distribution:\n                <span class=\"pl-c1\">self</span>.assertIn(Dist, distributions_with_examples,\n                    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Please add <span class=\"pl-c1\">{}</span> to the EXAMPLES list in tests/test_distributions.py<span class=\"pl-pds\">\"</span></span>.format(Dist.<span class=\"pl-c1\">__name__</span>))</pre></div>\n<p>You'll also need to <code>from torch.distributions import Distribution</code>.</p>", "body_text": "Hi @vishwakftw to help us remember to add all new distributions to the EXAMPLES list, could you add the following test to tests/test_distributions.py in this PR?\nclass TestDistributions(TestCase):\n    ...\n    def test_has_examples(self):\n        distributions_with_examples = set(e.Dist for e in EXAMPLES)\n        for Dist in globals().values():\n            if isinstance(Dist, type) and issubclass(Dist, Distribution) and Dist is not Distribution:\n                self.assertIn(Dist, distributions_with_examples,\n                    \"Please add {} to the EXAMPLES list in tests/test_distributions.py\".format(Dist.__name__))\nYou'll also need to from torch.distributions import Distribution.", "body": "Hi @vishwakftw to help us remember to add all new distributions to the `EXAMPLES` list, could you add the following test to tests/test_distributions.py in this PR?\r\n```py\r\nclass TestDistributions(TestCase):\r\n    ...\r\n    def test_has_examples(self):\r\n        distributions_with_examples = set(e.Dist for e in EXAMPLES)\r\n        for Dist in globals().values():\r\n            if isinstance(Dist, type) and issubclass(Dist, Distribution) and Dist is not Distribution:\r\n                self.assertIn(Dist, distributions_with_examples,\r\n                    \"Please add {} to the EXAMPLES list in tests/test_distributions.py\".format(Dist.__name__))\r\n```\r\nYou'll also need to `from torch.distributions import Distribution`."}