{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4066", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4066/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4066/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4066/events", "html_url": "https://github.com/pytorch/pytorch/issues/4066", "id": 280021246, "node_id": "MDU6SXNzdWUyODAwMjEyNDY=", "number": 4066, "title": "Negative mask unsupport (ByteTensor) in Pytorch 0.3", "user": {"login": "jiesutd", "id": 9111828, "node_id": "MDQ6VXNlcjkxMTE4Mjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/9111828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiesutd", "html_url": "https://github.com/jiesutd", "followers_url": "https://api.github.com/users/jiesutd/followers", "following_url": "https://api.github.com/users/jiesutd/following{/other_user}", "gists_url": "https://api.github.com/users/jiesutd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiesutd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiesutd/subscriptions", "organizations_url": "https://api.github.com/users/jiesutd/orgs", "repos_url": "https://api.github.com/users/jiesutd/repos", "events_url": "https://api.github.com/users/jiesutd/events{/privacy}", "received_events_url": "https://api.github.com/users/jiesutd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-07T06:52:29Z", "updated_at": "2017-12-07T21:37:18Z", "closed_at": "2017-12-07T21:37:18Z", "author_association": "NONE", "body_html": "<p>When I use the negative mask like :</p>\n<p><code>mask = torch.autograd.Variable(torch.zeros((3,4 ))).byte()</code><br>\n<code>mask =  1- mask </code><br>\nPytorch 0.3 shows \"RuntimeError: neg is not implemented for type torch.ByteTensor\"</p>\n<p>It is also observed in Pytorch 0.2, but can be solved in Pytorch 0.2 using:<br>\n<code>mask =  1 + (-1) *mask</code></p>\n<p>While in Pytorch 0.3, the previous solution gives the \"RuntimeError: value cannot be converted to type uint8_t without overflow: -1\".</p>\n<p>It is caused by the ByteTensor does not support negative operation. So I use  <code>mask = (1-mask.long()).byte()</code> to solve the problem, but it is not elegant.</p>", "body_text": "When I use the negative mask like :\nmask = torch.autograd.Variable(torch.zeros((3,4 ))).byte()\nmask =  1- mask \nPytorch 0.3 shows \"RuntimeError: neg is not implemented for type torch.ByteTensor\"\nIt is also observed in Pytorch 0.2, but can be solved in Pytorch 0.2 using:\nmask =  1 + (-1) *mask\nWhile in Pytorch 0.3, the previous solution gives the \"RuntimeError: value cannot be converted to type uint8_t without overflow: -1\".\nIt is caused by the ByteTensor does not support negative operation. So I use  mask = (1-mask.long()).byte() to solve the problem, but it is not elegant.", "body": "When I use the negative mask like : \r\n\r\n`mask = torch.autograd.Variable(torch.zeros((3,4 ))).byte()`\r\n`mask =  1- mask `\r\nPytorch 0.3 shows \"RuntimeError: neg is not implemented for type torch.ByteTensor\"\r\n\r\nIt is also observed in Pytorch 0.2, but can be solved in Pytorch 0.2 using:\r\n`mask =  1 + (-1) *mask`\r\n\r\nWhile in Pytorch 0.3, the previous solution gives the \"RuntimeError: value cannot be converted to type uint8_t without overflow: -1\".\r\n\r\nIt is caused by the ByteTensor does not support negative operation. So I use  `mask = (1-mask.long()).byte()` to solve the problem, but it is not elegant. \r\n"}