{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9098", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9098/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9098/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9098/events", "html_url": "https://github.com/pytorch/pytorch/issues/9098", "id": 337413302, "node_id": "MDU6SXNzdWUzMzc0MTMzMDI=", "number": 9098, "title": "[caffe2] how to substract the mean value ?", "user": {"login": "beichen2012", "id": 10824490, "node_id": "MDQ6VXNlcjEwODI0NDkw", "avatar_url": "https://avatars0.githubusercontent.com/u/10824490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beichen2012", "html_url": "https://github.com/beichen2012", "followers_url": "https://api.github.com/users/beichen2012/followers", "following_url": "https://api.github.com/users/beichen2012/following{/other_user}", "gists_url": "https://api.github.com/users/beichen2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/beichen2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beichen2012/subscriptions", "organizations_url": "https://api.github.com/users/beichen2012/orgs", "repos_url": "https://api.github.com/users/beichen2012/repos", "events_url": "https://api.github.com/users/beichen2012/events{/privacy}", "received_events_url": "https://api.github.com/users/beichen2012/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-02T08:16:53Z", "updated_at": "2018-07-02T17:29:04Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I have a trouble that ,how caffe2 sub the mean val:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> cast to float</span>\ndata <span class=\"pl-k\">=</span> m.Cast(data_uint8, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>data<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-v\">to</span><span class=\"pl-k\">=</span>core.DataType.<span class=\"pl-c1\">FLOAT</span>)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> sub the mean val</span>\nmean <span class=\"pl-k\">=</span> workspace.FeedBlob(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>meanval<span class=\"pl-pds\">\"</span></span>, np.array(<span class=\"pl-c1\">127.5</span>))\ndata <span class=\"pl-k\">=</span> m.Sub(data, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>meanval<span class=\"pl-pds\">\"</span></span>, data, <span class=\"pl-v\">broadcast</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span>)\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> scale </span>\ndata <span class=\"pl-k\">=</span> m.Scale(data, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>data<span class=\"pl-pds\">'</span></span>, <span class=\"pl-v\">scale</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">float</span>(scale_factor))</pre></div>\n<p>when execute the line: m.Sub, I got :<br>\nTypeError: _CreateAndAddToSelf() takes at most 4 arguments (6 given)</p>", "body_text": "I have a trouble that ,how caffe2 sub the mean val:\n# cast to float\ndata = m.Cast(data_uint8, \"data\", to=core.DataType.FLOAT)\n# sub the mean val\nmean = workspace.FeedBlob(\"meanval\", np.array(127.5))\ndata = m.Sub(data, \"meanval\", data, broadcast=1)\n# scale \ndata = m.Scale(data, 'data', scale=float(scale_factor))\nwhen execute the line: m.Sub, I got :\nTypeError: _CreateAndAddToSelf() takes at most 4 arguments (6 given)", "body": "I have a trouble that ,how caffe2 sub the mean val:\r\n```python\r\n# cast to float\r\ndata = m.Cast(data_uint8, \"data\", to=core.DataType.FLOAT)\r\n# sub the mean val\r\nmean = workspace.FeedBlob(\"meanval\", np.array(127.5))\r\ndata = m.Sub(data, \"meanval\", data, broadcast=1)\r\n# scale \r\ndata = m.Scale(data, 'data', scale=float(scale_factor))\r\n```\r\nwhen execute the line: m.Sub, I got : \r\nTypeError: _CreateAndAddToSelf() takes at most 4 arguments (6 given)"}