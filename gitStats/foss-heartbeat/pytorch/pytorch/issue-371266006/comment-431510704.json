{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/431510704", "html_url": "https://github.com/pytorch/pytorch/issues/12786#issuecomment-431510704", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12786", "id": 431510704, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTUxMDcwNA==", "user": {"login": "KevinLucidyne", "id": 19497849, "node_id": "MDQ6VXNlcjE5NDk3ODQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/19497849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KevinLucidyne", "html_url": "https://github.com/KevinLucidyne", "followers_url": "https://api.github.com/users/KevinLucidyne/followers", "following_url": "https://api.github.com/users/KevinLucidyne/following{/other_user}", "gists_url": "https://api.github.com/users/KevinLucidyne/gists{/gist_id}", "starred_url": "https://api.github.com/users/KevinLucidyne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KevinLucidyne/subscriptions", "organizations_url": "https://api.github.com/users/KevinLucidyne/orgs", "repos_url": "https://api.github.com/users/KevinLucidyne/repos", "events_url": "https://api.github.com/users/KevinLucidyne/events{/privacy}", "received_events_url": "https://api.github.com/users/KevinLucidyne/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-19T21:53:32Z", "updated_at": "2018-10-19T22:25:39Z", "author_association": "NONE", "body_html": "<p>Running <code>python setup.py install</code>  outside of the virtualenv resulted in errors that basically came from misidentifying the CUDA version again but it went to 75% before it failed.  When I go back to the virtualenv <code>python setup.py install</code> now compiles past the previous error but fails with still misidentifying the active CUDA version.</p>\n<pre><code>+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gradescan/boa/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gradescan/boa/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gradescan/boa/pytorch/cmake/public/utils.cmake -DNUM_JOBS=16\n-- Autodetected CUDA architecture(s): 6.1;6.1\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/gradescan/boa/pytorch/third_party/build/nccl\n</code></pre>", "body_text": "Running python setup.py install  outside of the virtualenv resulted in errors that basically came from misidentifying the CUDA version again but it went to 75% before it failed.  When I go back to the virtualenv python setup.py install now compiles past the previous error but fails with still misidentifying the active CUDA version.\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gradescan/boa/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gradescan/boa/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gradescan/boa/pytorch/cmake/public/utils.cmake -DNUM_JOBS=16\n-- Autodetected CUDA architecture(s): 6.1;6.1\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/gradescan/boa/pytorch/third_party/build/nccl", "body": "Running `python setup.py install`  outside of the virtualenv resulted in errors that basically came from misidentifying the CUDA version again but it went to 75% before it failed.  When I go back to the virtualenv `python setup.py install` now compiles past the previous error but fails with still misidentifying the active CUDA version.\r\n\r\n```\r\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/gradescan/boa/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/gradescan/boa/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/gradescan/boa/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/gradescan/boa/pytorch/cmake/public/utils.cmake -DNUM_JOBS=16\r\n-- Autodetected CUDA architecture(s): 6.1;6.1\r\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_61,code=sm_61\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/gradescan/boa/pytorch/third_party/build/nccl\r\n```"}