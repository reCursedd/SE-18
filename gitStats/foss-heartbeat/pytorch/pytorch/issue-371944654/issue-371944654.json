{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12872", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12872/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12872/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12872/events", "html_url": "https://github.com/pytorch/pytorch/issues/12872", "id": 371944654, "node_id": "MDU6SXNzdWUzNzE5NDQ2NTQ=", "number": 12872, "title": "RuntimeError: variable impl does not have is_contiguous in C++ extension function", "user": {"login": "iacolippo", "id": 11921406, "node_id": "MDQ6VXNlcjExOTIxNDA2", "avatar_url": "https://avatars2.githubusercontent.com/u/11921406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iacolippo", "html_url": "https://github.com/iacolippo", "followers_url": "https://api.github.com/users/iacolippo/followers", "following_url": "https://api.github.com/users/iacolippo/following{/other_user}", "gists_url": "https://api.github.com/users/iacolippo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iacolippo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iacolippo/subscriptions", "organizations_url": "https://api.github.com/users/iacolippo/orgs", "repos_url": "https://api.github.com/users/iacolippo/repos", "events_url": "https://api.github.com/users/iacolippo/events{/privacy}", "received_events_url": "https://api.github.com/users/iacolippo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-19T12:52:38Z", "updated_at": "2018-10-22T22:09:41Z", "closed_at": "2018-10-22T22:08:31Z", "author_association": "CONTRIBUTOR", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>Opening this issue because I'm not sure if it's a bug or I'm just doing something wrong.</p>\n<p>When calling <code>temp.index_put_(mesh1, slice1 + slice2)</code> with <code>temp</code> and <code>slice1+slice2</code> as <code>at::Tensor</code> and <code>mesh1</code> as <code>TensorList</code>, I get:</p>\n<p><code>RuntimeError: variable impl does not have is_contiguous (is_contiguous at /home/iacolippo/pytorch/torch/csrc/autograd/variable.cpp:57)</code></p>\n<p>It seems that it can't find an implementation of the <code>is_contiguous</code> method for <code>slice1+slice2</code>, even though if I call <code>(slice1 + slice2).is_contiguous()</code> right before the incriminated line it evaluates to true with no problems (from <code>gdb</code> the Error is raised at this line of the <code>.cpp</code> file <a href=\"https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3#file-ex-cpp-L27\">https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3#file-ex-cpp-L27</a> ). I tried to trace back the origin of the issue from <code>gdb</code> but it's a rabbit hole down to <code>THC</code> code that I don't understand.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>GIst with <code>cpp</code>, <code>setup.py</code> and <code>test.py</code> file here: <a href=\"https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3\">https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3</a></li>\n<li><code>python setup.py install</code> - contains extra compile args for debug (<code>-g</code>, <code>-0O</code>)</li>\n<li><code>python test.py</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>I would expect the <code>is_contiguous</code> to work on my <code>at::Tensor</code> inside the <code>input_put_</code> method. Even though I'm not sure I'm doing things correctly.</p>\n<h2>Environment</h2>\n<pre><code>Collecting environment information...\nPyTorch version: 1.0.0a0+5b8a640\nIs debug build: No\nCUDA used to build PyTorch: None\n\nOS: Ubuntu 17.10\nGCC version: (Ubuntu 7.2.0-8ubuntu3.2) 7.2.0\nCMake version: version 3.12.2\n\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\n\nVersions of relevant libraries:\n[pip] numpy (1.15.2)\n[pip] torch (1.0.0a0+5b8a640)\n[conda] torch                     1.0.0a0+5b8a640           &lt;pip&gt;\n</code></pre>", "body_text": "\ud83d\udc1b Bug\nOpening this issue because I'm not sure if it's a bug or I'm just doing something wrong.\nWhen calling temp.index_put_(mesh1, slice1 + slice2) with temp and slice1+slice2 as at::Tensor and mesh1 as TensorList, I get:\nRuntimeError: variable impl does not have is_contiguous (is_contiguous at /home/iacolippo/pytorch/torch/csrc/autograd/variable.cpp:57)\nIt seems that it can't find an implementation of the is_contiguous method for slice1+slice2, even though if I call (slice1 + slice2).is_contiguous() right before the incriminated line it evaluates to true with no problems (from gdb the Error is raised at this line of the .cpp file https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3#file-ex-cpp-L27 ). I tried to trace back the origin of the issue from gdb but it's a rabbit hole down to THC code that I don't understand.\nTo Reproduce\nSteps to reproduce the behavior:\n\nGIst with cpp, setup.py and test.py file here: https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3\npython setup.py install - contains extra compile args for debug (-g, -0O)\npython test.py\n\nExpected behavior\nI would expect the is_contiguous to work on my at::Tensor inside the input_put_ method. Even though I'm not sure I'm doing things correctly.\nEnvironment\nCollecting environment information...\nPyTorch version: 1.0.0a0+5b8a640\nIs debug build: No\nCUDA used to build PyTorch: None\n\nOS: Ubuntu 17.10\nGCC version: (Ubuntu 7.2.0-8ubuntu3.2) 7.2.0\nCMake version: version 3.12.2\n\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\n\nVersions of relevant libraries:\n[pip] numpy (1.15.2)\n[pip] torch (1.0.0a0+5b8a640)\n[conda] torch                     1.0.0a0+5b8a640           <pip>", "body": "## \ud83d\udc1b Bug\r\n\r\nOpening this issue because I'm not sure if it's a bug or I'm just doing something wrong.\r\n\r\nWhen calling `temp.index_put_(mesh1, slice1 + slice2)` with `temp` and `slice1+slice2` as `at::Tensor` and `mesh1` as `TensorList`, I get:\r\n\r\n`RuntimeError: variable impl does not have is_contiguous (is_contiguous at /home/iacolippo/pytorch/torch/csrc/autograd/variable.cpp:57)`\r\n\r\nIt seems that it can't find an implementation of the `is_contiguous` method for `slice1+slice2`, even though if I call `(slice1 + slice2).is_contiguous()` right before the incriminated line it evaluates to true with no problems (from `gdb` the Error is raised at this line of the `.cpp` file https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3#file-ex-cpp-L27 ). I tried to trace back the origin of the issue from `gdb` but it's a rabbit hole down to `THC` code that I don't understand.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. GIst with `cpp`, `setup.py` and `test.py` file here: https://gist.github.com/iacolippo/c278680717fb4622f958e37caa721fe3\r\n2. `python setup.py install` - contains extra compile args for debug (`-g`, `-0O`)\r\n3. `python test.py`\r\n\r\n## Expected behavior\r\n\r\nI would expect the `is_contiguous` to work on my `at::Tensor` inside the `input_put_` method. Even though I'm not sure I'm doing things correctly.\r\n\r\n## Environment\r\n\r\n```\r\nCollecting environment information...\r\nPyTorch version: 1.0.0a0+5b8a640\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Ubuntu 17.10\r\nGCC version: (Ubuntu 7.2.0-8ubuntu3.2) 7.2.0\r\nCMake version: version 3.12.2\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy (1.15.2)\r\n[pip] torch (1.0.0a0+5b8a640)\r\n[conda] torch                     1.0.0a0+5b8a640           <pip>\r\n```\r\n"}