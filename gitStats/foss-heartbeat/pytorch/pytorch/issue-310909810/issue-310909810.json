{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6233", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6233/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6233/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6233/events", "html_url": "https://github.com/pytorch/pytorch/issues/6233", "id": 310909810, "node_id": "MDU6SXNzdWUzMTA5MDk4MTA=", "number": 6233, "title": "[feature request] log2, log10 computation pytorch", "user": {"login": "RerRayne", "id": 20438141, "node_id": "MDQ6VXNlcjIwNDM4MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/20438141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RerRayne", "html_url": "https://github.com/RerRayne", "followers_url": "https://api.github.com/users/RerRayne/followers", "following_url": "https://api.github.com/users/RerRayne/following{/other_user}", "gists_url": "https://api.github.com/users/RerRayne/gists{/gist_id}", "starred_url": "https://api.github.com/users/RerRayne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RerRayne/subscriptions", "organizations_url": "https://api.github.com/users/RerRayne/orgs", "repos_url": "https://api.github.com/users/RerRayne/repos", "events_url": "https://api.github.com/users/RerRayne/events{/privacy}", "received_events_url": "https://api.github.com/users/RerRayne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131849, "node_id": "MDU6TGFiZWw0MjQxMzE4NDk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-03T16:33:24Z", "updated_at": "2018-04-05T18:55:57Z", "closed_at": "2018-04-05T18:55:57Z", "author_association": "NONE", "body_html": "<p>I've found that numpy computes log2 and log10 not just do log(x)/log(2.) or log(x)/log(10.). It uses <a href=\"https://github.com/numpy/numpy/blob/master/numpy/core/src/npymath/npy_math_internal.h.src#L318\">a more tricky way</a> to avoid a cancellation error.</p>\n<p>For example, I have a vector with 800 elements. After log2 calculation on it using numpy and torch (log(x)/log(2.)) I have the norm of the difference between two resulted vectors near 1.7e-05. But after a few operations after logarithm, it comes to 1.0-2.0.</p>\n<p>It would be great if torch can do it in the same way.</p>", "body_text": "I've found that numpy computes log2 and log10 not just do log(x)/log(2.) or log(x)/log(10.). It uses a more tricky way to avoid a cancellation error.\nFor example, I have a vector with 800 elements. After log2 calculation on it using numpy and torch (log(x)/log(2.)) I have the norm of the difference between two resulted vectors near 1.7e-05. But after a few operations after logarithm, it comes to 1.0-2.0.\nIt would be great if torch can do it in the same way.", "body": "I've found that numpy computes log2 and log10 not just do log(x)/log(2.) or log(x)/log(10.). It uses [a more tricky way](https://github.com/numpy/numpy/blob/master/numpy/core/src/npymath/npy_math_internal.h.src#L318) to avoid a cancellation error. \r\n\r\nFor example, I have a vector with 800 elements. After log2 calculation on it using numpy and torch (log(x)/log(2.)) I have the norm of the difference between two resulted vectors near 1.7e-05. But after a few operations after logarithm, it comes to 1.0-2.0.\r\n\r\nIt would be great if torch can do it in the same way.\r\n"}