{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/415131296", "html_url": "https://github.com/pytorch/pytorch/issues/10656#issuecomment-415131296", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10656", "id": 415131296, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTEzMTI5Ng==", "user": {"login": "CarlosYeverino", "id": 25825048, "node_id": "MDQ6VXNlcjI1ODI1MDQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/25825048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CarlosYeverino", "html_url": "https://github.com/CarlosYeverino", "followers_url": "https://api.github.com/users/CarlosYeverino/followers", "following_url": "https://api.github.com/users/CarlosYeverino/following{/other_user}", "gists_url": "https://api.github.com/users/CarlosYeverino/gists{/gist_id}", "starred_url": "https://api.github.com/users/CarlosYeverino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CarlosYeverino/subscriptions", "organizations_url": "https://api.github.com/users/CarlosYeverino/orgs", "repos_url": "https://api.github.com/users/CarlosYeverino/repos", "events_url": "https://api.github.com/users/CarlosYeverino/events{/privacy}", "received_events_url": "https://api.github.com/users/CarlosYeverino/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-22T18:24:42Z", "updated_at": "2018-08-22T18:24:42Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5057263\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/harouwu\">@harouwu</a> ,</p>\n<p>thanks for your answer. How should I proceed if I am building my models with the brew API and I want to<br>\nadd a sigmoid layer? Example:</p>\n<pre><code>conv1 = brew.conv(model, 'data', 'conv1', dim_in=1, dim_out=20, kernel=5)\npool1 = brew.max_pool(model, conv1, 'pool1', kernel=2, stride=2)\nconv2 = brew.conv(model, pool1, 'conv2', dim_in=20, dim_out=50, kernel=5)\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, stride=2)\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, global_pooling=True)\nfc3 = brew.fc(model, pool2, 'fc3', dim_in=50 * 4 * 4, dim_out=500)\n**sigmoid** = ????????\npred = brew.fc(model, **sigmoid** , 'pred', 500, 10)\npred = brew.fc(model, pool2, 'pred', 50, 10)\nout1 = brew.softmax(model, pred, 'out1')\n</code></pre>\n<p>I am working in a descriptive modeling language for CNNs with different backends. Caffe2 is my desired backend. I will use this language to generate CNN models based on predifined template layers for each layer type in Caffe2. Therefore, I will use always the name \"model\" and I will also know the previous layer name at each layer index. If Sigmoid can be added to the brew API, the generated model would therefore be more consistent.</p>", "body_text": "Hi @harouwu ,\nthanks for your answer. How should I proceed if I am building my models with the brew API and I want to\nadd a sigmoid layer? Example:\nconv1 = brew.conv(model, 'data', 'conv1', dim_in=1, dim_out=20, kernel=5)\npool1 = brew.max_pool(model, conv1, 'pool1', kernel=2, stride=2)\nconv2 = brew.conv(model, pool1, 'conv2', dim_in=20, dim_out=50, kernel=5)\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, stride=2)\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, global_pooling=True)\nfc3 = brew.fc(model, pool2, 'fc3', dim_in=50 * 4 * 4, dim_out=500)\n**sigmoid** = ????????\npred = brew.fc(model, **sigmoid** , 'pred', 500, 10)\npred = brew.fc(model, pool2, 'pred', 50, 10)\nout1 = brew.softmax(model, pred, 'out1')\n\nI am working in a descriptive modeling language for CNNs with different backends. Caffe2 is my desired backend. I will use this language to generate CNN models based on predifined template layers for each layer type in Caffe2. Therefore, I will use always the name \"model\" and I will also know the previous layer name at each layer index. If Sigmoid can be added to the brew API, the generated model would therefore be more consistent.", "body": "Hi @harouwu ,\r\n\r\nthanks for your answer. How should I proceed if I am building my models with the brew API and I want to \r\nadd a sigmoid layer? Example:\r\n\r\n```\r\nconv1 = brew.conv(model, 'data', 'conv1', dim_in=1, dim_out=20, kernel=5)\r\npool1 = brew.max_pool(model, conv1, 'pool1', kernel=2, stride=2)\r\nconv2 = brew.conv(model, pool1, 'conv2', dim_in=20, dim_out=50, kernel=5)\r\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, stride=2)\r\npool2 = brew.max_pool(model, conv2, 'pool2', kernel=2, global_pooling=True)\r\nfc3 = brew.fc(model, pool2, 'fc3', dim_in=50 * 4 * 4, dim_out=500)\r\n**sigmoid** = ????????\r\npred = brew.fc(model, **sigmoid** , 'pred', 500, 10)\r\npred = brew.fc(model, pool2, 'pred', 50, 10)\r\nout1 = brew.softmax(model, pred, 'out1')\r\n```\r\n\r\nI am working in a descriptive modeling language for CNNs with different backends. Caffe2 is my desired backend. I will use this language to generate CNN models based on predifined template layers for each layer type in Caffe2. Therefore, I will use always the name \"model\" and I will also know the previous layer name at each layer index. If Sigmoid can be added to the brew API, the generated model would therefore be more consistent.  "}