{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/430586248", "html_url": "https://github.com/pytorch/pytorch/issues/12484#issuecomment-430586248", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12484", "id": 430586248, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDU4NjI0OA==", "user": {"login": "dhgrs", "id": 22191150, "node_id": "MDQ6VXNlcjIyMTkxMTUw", "avatar_url": "https://avatars2.githubusercontent.com/u/22191150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhgrs", "html_url": "https://github.com/dhgrs", "followers_url": "https://api.github.com/users/dhgrs/followers", "following_url": "https://api.github.com/users/dhgrs/following{/other_user}", "gists_url": "https://api.github.com/users/dhgrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhgrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhgrs/subscriptions", "organizations_url": "https://api.github.com/users/dhgrs/orgs", "repos_url": "https://api.github.com/users/dhgrs/repos", "events_url": "https://api.github.com/users/dhgrs/events{/privacy}", "received_events_url": "https://api.github.com/users/dhgrs/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-17T11:07:35Z", "updated_at": "2018-10-17T11:07:35Z", "author_association": "NONE", "body_html": "<p>I used latest master commit and tried it again. I used <a href=\"https://github.com/pytorch/pytorch/blob/master/docker/pytorch/Dockerfile\">official Dockerfile</a> to build it.</p>\n<p>Here is environment.</p>\n<pre><code># python3 collect_env.py\nCollecting environment information...\nPyTorch version: 1.0.0a0+90737f7\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\n\nOS: Ubuntu 16.04.5 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\nCMake version: version 3.5.1\n\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: 9.0.176\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\nNvidia driver version: 390.87\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\n\nVersions of relevant libraries:\n[pip] numpy (1.15.2)\n[pip] torch (1.0.0a0+90737f7)\n[pip] torchvision (0.2.1)\n[conda] magma-cuda90              2.3.0                         1    pytorch\n[conda] torch                     1.0.0a0+90737f7           &lt;pip&gt;\n[conda] torchvision               0.2.1                     &lt;pip&gt;\n</code></pre>\n<p>I used weiyangfb's script but the results are</p>\n<pre><code># python3 conv.py\nweight has nan\noutput has nan\ntensor([[[nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         ...,\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan]]], grad_fn=&lt;SqueezeBackward1&gt;)\n\n# python3 conv.py --use_cuda\nweight has nan\ntensor([[[-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         ...,\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf]]], device='cuda:0',\n       grad_fn=&lt;SqueezeBackward1&gt;)\n</code></pre>", "body_text": "I used latest master commit and tried it again. I used official Dockerfile to build it.\nHere is environment.\n# python3 collect_env.py\nCollecting environment information...\nPyTorch version: 1.0.0a0+90737f7\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\n\nOS: Ubuntu 16.04.5 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\nCMake version: version 3.5.1\n\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: 9.0.176\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\nNvidia driver version: 390.87\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\n\nVersions of relevant libraries:\n[pip] numpy (1.15.2)\n[pip] torch (1.0.0a0+90737f7)\n[pip] torchvision (0.2.1)\n[conda] magma-cuda90              2.3.0                         1    pytorch\n[conda] torch                     1.0.0a0+90737f7           <pip>\n[conda] torchvision               0.2.1                     <pip>\n\nI used weiyangfb's script but the results are\n# python3 conv.py\nweight has nan\noutput has nan\ntensor([[[nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         ...,\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan],\n         [nan, nan, nan,  ..., nan, nan, nan]]], grad_fn=<SqueezeBackward1>)\n\n# python3 conv.py --use_cuda\nweight has nan\ntensor([[[-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         ...,\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf]]], device='cuda:0',\n       grad_fn=<SqueezeBackward1>)", "body": "I used latest master commit and tried it again. I used [official Dockerfile](https://github.com/pytorch/pytorch/blob/master/docker/pytorch/Dockerfile) to build it.\r\n\r\nHere is environment.\r\n```\r\n# python3 collect_env.py\r\nCollecting environment information...\r\nPyTorch version: 1.0.0a0+90737f7\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.0.176\r\n\r\nOS: Ubuntu 16.04.5 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\r\nCMake version: version 3.5.1\r\n\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.0.176\r\nGPU models and configuration: GPU 0: GeForce GTX 1080 Ti\r\nNvidia driver version: 390.87\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.3.1\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy (1.15.2)\r\n[pip] torch (1.0.0a0+90737f7)\r\n[pip] torchvision (0.2.1)\r\n[conda] magma-cuda90              2.3.0                         1    pytorch\r\n[conda] torch                     1.0.0a0+90737f7           <pip>\r\n[conda] torchvision               0.2.1                     <pip>\r\n```\r\n\r\nI used weiyangfb's script but the results are\r\n```\r\n# python3 conv.py\r\nweight has nan\r\noutput has nan\r\ntensor([[[nan, nan, nan,  ..., nan, nan, nan],\r\n         [nan, nan, nan,  ..., nan, nan, nan],\r\n         [nan, nan, nan,  ..., nan, nan, nan],\r\n         ...,\r\n         [nan, nan, nan,  ..., nan, nan, nan],\r\n         [nan, nan, nan,  ..., nan, nan, nan],\r\n         [nan, nan, nan,  ..., nan, nan, nan]]], grad_fn=<SqueezeBackward1>)\r\n\r\n# python3 conv.py --use_cuda\r\nweight has nan\r\ntensor([[[-inf, -inf, -inf,  ..., -inf, -inf, -inf],\r\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\r\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\r\n         ...,\r\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\r\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],\r\n         [-inf, -inf, -inf,  ..., -inf, -inf, -inf]]], device='cuda:0',\r\n       grad_fn=<SqueezeBackward1>)\r\n```"}