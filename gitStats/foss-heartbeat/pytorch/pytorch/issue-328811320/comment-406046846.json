{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/406046846", "html_url": "https://github.com/pytorch/pytorch/issues/8079#issuecomment-406046846", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8079", "id": 406046846, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjA0Njg0Ng==", "user": {"login": "samuela", "id": 226872, "node_id": "MDQ6VXNlcjIyNjg3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/226872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samuela", "html_url": "https://github.com/samuela", "followers_url": "https://api.github.com/users/samuela/followers", "following_url": "https://api.github.com/users/samuela/following{/other_user}", "gists_url": "https://api.github.com/users/samuela/gists{/gist_id}", "starred_url": "https://api.github.com/users/samuela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samuela/subscriptions", "organizations_url": "https://api.github.com/users/samuela/orgs", "repos_url": "https://api.github.com/users/samuela/repos", "events_url": "https://api.github.com/users/samuela/events{/privacy}", "received_events_url": "https://api.github.com/users/samuela/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T19:28:16Z", "updated_at": "2018-07-18T19:28:16Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a> Understood, and I don't think this bug is the worst thing in the world to be completely honest.</p>\n<p>FWIW I tried this in TF and they do catch these errors. I'm not sure of their implementation details though.</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> tensorflow <span class=\"pl-k\">as</span> tf\ntf.enable_eager_execution()\ntf.constant(<span class=\"pl-c1\">3</span>) <span class=\"pl-k\">/</span> <span class=\"pl-c1\">0</span></pre></div>\n<p>produces</p>\n<pre><code>---------------------------------------------------------------------------\nInvalidArgumentError                      Traceback (most recent call last)\n&lt;ipython-input-1-3d0865101110&gt; in &lt;module&gt;()\n      1 import tensorflow as tf\n      2 tf.enable_eager_execution()\n----&gt; 3 tf.constant(3) / 0\n\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in binary_op_wrapper(x, y)\n    861           else:\n    862             raise\n--&gt; 863       return func(x, y, name=name)\n    864 \n    865   def binary_op_wrapper_sparse(sp_x, y):\n\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in _div_python2(x, y, name)\n    982       return gen_math_ops.real_div(x, y, name=name)\n    983     else:\n--&gt; 984       return gen_math_ops.floor_div(x, y, name=name)\n    985 \n    986 \n\ngoogle3/third_party/tensorflow/python/ops/gen_math_ops.py in floor_div(x, y, name)\n   3011       else:\n   3012         message = e.message\n-&gt; 3013       _six.raise_from(_core._status_to_exception(e.code, message), None)\n   3014 \n   3015 \n\ngoogle3/third_party/py/six/__init__.py in raise_from(value, from_value)\n    735 else:\n    736     def raise_from(value, from_value):\n--&gt; 737         raise value\n    738 \n    739 \n\nInvalidArgumentError: Integer division by zero [Op:FloorDiv] name: div/\n</code></pre>", "body_text": "@soumith Understood, and I don't think this bug is the worst thing in the world to be completely honest.\nFWIW I tried this in TF and they do catch these errors. I'm not sure of their implementation details though.\nimport tensorflow as tf\ntf.enable_eager_execution()\ntf.constant(3) / 0\nproduces\n---------------------------------------------------------------------------\nInvalidArgumentError                      Traceback (most recent call last)\n<ipython-input-1-3d0865101110> in <module>()\n      1 import tensorflow as tf\n      2 tf.enable_eager_execution()\n----> 3 tf.constant(3) / 0\n\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in binary_op_wrapper(x, y)\n    861           else:\n    862             raise\n--> 863       return func(x, y, name=name)\n    864 \n    865   def binary_op_wrapper_sparse(sp_x, y):\n\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in _div_python2(x, y, name)\n    982       return gen_math_ops.real_div(x, y, name=name)\n    983     else:\n--> 984       return gen_math_ops.floor_div(x, y, name=name)\n    985 \n    986 \n\ngoogle3/third_party/tensorflow/python/ops/gen_math_ops.py in floor_div(x, y, name)\n   3011       else:\n   3012         message = e.message\n-> 3013       _six.raise_from(_core._status_to_exception(e.code, message), None)\n   3014 \n   3015 \n\ngoogle3/third_party/py/six/__init__.py in raise_from(value, from_value)\n    735 else:\n    736     def raise_from(value, from_value):\n--> 737         raise value\n    738 \n    739 \n\nInvalidArgumentError: Integer division by zero [Op:FloorDiv] name: div/", "body": "@soumith Understood, and I don't think this bug is the worst thing in the world to be completely honest. \r\n\r\nFWIW I tried this in TF and they do catch these errors. I'm not sure of their implementation details though.\r\n\r\n```python\r\nimport tensorflow as tf\r\ntf.enable_eager_execution()\r\ntf.constant(3) / 0\r\n```\r\n\r\nproduces\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nInvalidArgumentError                      Traceback (most recent call last)\r\n<ipython-input-1-3d0865101110> in <module>()\r\n      1 import tensorflow as tf\r\n      2 tf.enable_eager_execution()\r\n----> 3 tf.constant(3) / 0\r\n\r\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in binary_op_wrapper(x, y)\r\n    861           else:\r\n    862             raise\r\n--> 863       return func(x, y, name=name)\r\n    864 \r\n    865   def binary_op_wrapper_sparse(sp_x, y):\r\n\r\ngoogle3/third_party/tensorflow/python/ops/math_ops.py in _div_python2(x, y, name)\r\n    982       return gen_math_ops.real_div(x, y, name=name)\r\n    983     else:\r\n--> 984       return gen_math_ops.floor_div(x, y, name=name)\r\n    985 \r\n    986 \r\n\r\ngoogle3/third_party/tensorflow/python/ops/gen_math_ops.py in floor_div(x, y, name)\r\n   3011       else:\r\n   3012         message = e.message\r\n-> 3013       _six.raise_from(_core._status_to_exception(e.code, message), None)\r\n   3014 \r\n   3015 \r\n\r\ngoogle3/third_party/py/six/__init__.py in raise_from(value, from_value)\r\n    735 else:\r\n    736     def raise_from(value, from_value):\r\n--> 737         raise value\r\n    738 \r\n    739 \r\n\r\nInvalidArgumentError: Integer division by zero [Op:FloorDiv] name: div/\r\n```"}