{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3804", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3804/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3804/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3804/events", "html_url": "https://github.com/pytorch/pytorch/issues/3804", "id": 275586457, "node_id": "MDU6SXNzdWUyNzU1ODY0NTc=", "number": 3804, "title": "[ONNX] A 'Constant' node before ConvTranspose? ", "user": {"login": "masahi", "id": 1776403, "node_id": "MDQ6VXNlcjE3NzY0MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1776403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/masahi", "html_url": "https://github.com/masahi", "followers_url": "https://api.github.com/users/masahi/followers", "following_url": "https://api.github.com/users/masahi/following{/other_user}", "gists_url": "https://api.github.com/users/masahi/gists{/gist_id}", "starred_url": "https://api.github.com/users/masahi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/masahi/subscriptions", "organizations_url": "https://api.github.com/users/masahi/orgs", "repos_url": "https://api.github.com/users/masahi/repos", "events_url": "https://api.github.com/users/masahi/events{/privacy}", "received_events_url": "https://api.github.com/users/masahi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 693805995, "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx", "name": "onnx", "color": "e99695", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-21T05:03:19Z", "updated_at": "2017-12-28T21:55:01Z", "closed_at": "2017-12-28T21:55:01Z", "author_association": "NONE", "body_html": "<p>Hi, I found that when I export a model that uses ConvTranspose2d, I get ONNX 'Constant' node before 'ConvTranspose' node. Looking at the comments <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/csrc/autograd/functions/onnx/convolution.cpp#L7\">here</a>, I'm assuming that the 'Constant' node is added for Caffe2 compatibility reason.</p>\n<p>But now that Caffe2ConvTranspose was removed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"272842329\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/onnx/onnx/issues/225\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/onnx/onnx/pull/225/hovercard\" href=\"https://github.com/onnx/onnx/pull/225\">onnx/onnx#225</a>, is this Constant node still necessary?</p>\n<p>This problem bothers me because NNVM's ONNX frontend doesn't support ONNX 'Constant' operator at the moment, so I can't import my Pytorch-trained model into NNVM.</p>", "body_text": "Hi, I found that when I export a model that uses ConvTranspose2d, I get ONNX 'Constant' node before 'ConvTranspose' node. Looking at the comments here, I'm assuming that the 'Constant' node is added for Caffe2 compatibility reason.\nBut now that Caffe2ConvTranspose was removed in onnx/onnx#225, is this Constant node still necessary?\nThis problem bothers me because NNVM's ONNX frontend doesn't support ONNX 'Constant' operator at the moment, so I can't import my Pytorch-trained model into NNVM.", "body": "Hi, I found that when I export a model that uses ConvTranspose2d, I get ONNX 'Constant' node before 'ConvTranspose' node. Looking at the comments [here](https://github.com/pytorch/pytorch/blob/master/torch/csrc/autograd/functions/onnx/convolution.cpp#L7), I'm assuming that the 'Constant' node is added for Caffe2 compatibility reason. \r\n\r\nBut now that Caffe2ConvTranspose was removed in onnx/onnx#225, is this Constant node still necessary?\r\n\r\nThis problem bothers me because NNVM's ONNX frontend doesn't support ONNX 'Constant' operator at the moment, so I can't import my Pytorch-trained model into NNVM.  \r\n\r\n"}