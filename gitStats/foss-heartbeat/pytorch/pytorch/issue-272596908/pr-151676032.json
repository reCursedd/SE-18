{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/3599", "id": 151676032, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUxNjc2MDMy", "html_url": "https://github.com/pytorch/pytorch/pull/3599", "diff_url": "https://github.com/pytorch/pytorch/pull/3599.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/3599.patch", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3599", "number": 3599, "state": "closed", "locked": false, "title": "Add border-padding for grid_sampler", "user": {"login": "josecabjim", "id": 28218638, "node_id": "MDQ6VXNlcjI4MjE4NjM4", "avatar_url": "https://avatars0.githubusercontent.com/u/28218638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josecabjim", "html_url": "https://github.com/josecabjim", "followers_url": "https://api.github.com/users/josecabjim/followers", "following_url": "https://api.github.com/users/josecabjim/following{/other_user}", "gists_url": "https://api.github.com/users/josecabjim/gists{/gist_id}", "starred_url": "https://api.github.com/users/josecabjim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josecabjim/subscriptions", "organizations_url": "https://api.github.com/users/josecabjim/orgs", "repos_url": "https://api.github.com/users/josecabjim/repos", "events_url": "https://api.github.com/users/josecabjim/events{/privacy}", "received_events_url": "https://api.github.com/users/josecabjim/received_events", "type": "User", "site_admin": false}, "body": "Adds support for border padding in the `grid_sampler`. \r\n\r\nThe grid sampler is well-defined for coordinates falling within the grid bounds [-1, 1]. Values falling outside these bounds need special treatment. The default behaviour is the original zero padding of borders, which uses value 0 in the bilinear interpolation of the sampler for values outside the grid. This PR extends the sampler to also accept border padding, which instead of 0 will use the value of the image border closest to the coordinate outside the grid.\r\n\r\nThe sampler test in `test_nn.py` has been extended to cover the new padding mode. It has additionally been changed to check behaviour of sampling outside the grid.\r\n\r\n_NOTE_ Some large blocks of changes in the PR are related to the previous use of tabs for indentation, which have been corrected.", "created_at": "2017-11-09T15:06:40Z", "updated_at": "2018-11-23T15:36:20Z", "closed_at": "2017-11-12T23:46:50Z", "merged_at": "2017-11-12T23:46:50Z", "merge_commit_sha": "e33df2b88a31c08567c81f49c45f1eb530cd7ef4", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [{"id": 742585577, "node_id": "MDU6TGFiZWw3NDI1ODU1Nzc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/0.3", "name": "0.3", "color": "d1c41b", "default": false}], "milestone": null, "commits_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3599/commits", "review_comments_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3599/comments", "review_comment_url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3599/comments", "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/3cac879c7dab4925dc9d8bf4419ea2616cd60d3f", "head": {"label": "josecabjim:border_pad_sampler", "ref": "border_pad_sampler", "sha": "3cac879c7dab4925dc9d8bf4419ea2616cd60d3f", "user": {"login": "josecabjim", "id": 28218638, "node_id": "MDQ6VXNlcjI4MjE4NjM4", "avatar_url": "https://avatars0.githubusercontent.com/u/28218638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josecabjim", "html_url": "https://github.com/josecabjim", "followers_url": "https://api.github.com/users/josecabjim/followers", "following_url": "https://api.github.com/users/josecabjim/following{/other_user}", "gists_url": "https://api.github.com/users/josecabjim/gists{/gist_id}", "starred_url": "https://api.github.com/users/josecabjim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josecabjim/subscriptions", "organizations_url": "https://api.github.com/users/josecabjim/orgs", "repos_url": "https://api.github.com/users/josecabjim/repos", "events_url": "https://api.github.com/users/josecabjim/events{/privacy}", "received_events_url": "https://api.github.com/users/josecabjim/received_events", "type": "User", "site_admin": false}, "repo": {"id": 110029576, "node_id": "MDEwOlJlcG9zaXRvcnkxMTAwMjk1NzY=", "name": "pytorch", "full_name": "josecabjim/pytorch", "private": false, "owner": {"login": "josecabjim", "id": 28218638, "node_id": "MDQ6VXNlcjI4MjE4NjM4", "avatar_url": "https://avatars0.githubusercontent.com/u/28218638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josecabjim", "html_url": "https://github.com/josecabjim", "followers_url": "https://api.github.com/users/josecabjim/followers", "following_url": "https://api.github.com/users/josecabjim/following{/other_user}", "gists_url": "https://api.github.com/users/josecabjim/gists{/gist_id}", "starred_url": "https://api.github.com/users/josecabjim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josecabjim/subscriptions", "organizations_url": "https://api.github.com/users/josecabjim/orgs", "repos_url": "https://api.github.com/users/josecabjim/repos", "events_url": "https://api.github.com/users/josecabjim/events{/privacy}", "received_events_url": "https://api.github.com/users/josecabjim/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/josecabjim/pytorch", "description": "Tensors and Dynamic neural networks in Python  with strong GPU acceleration", "fork": true, "url": "https://api.github.com/repos/josecabjim/pytorch", "forks_url": "https://api.github.com/repos/josecabjim/pytorch/forks", "keys_url": "https://api.github.com/repos/josecabjim/pytorch/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/josecabjim/pytorch/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/josecabjim/pytorch/teams", "hooks_url": "https://api.github.com/repos/josecabjim/pytorch/hooks", "issue_events_url": "https://api.github.com/repos/josecabjim/pytorch/issues/events{/number}", "events_url": "https://api.github.com/repos/josecabjim/pytorch/events", "assignees_url": "https://api.github.com/repos/josecabjim/pytorch/assignees{/user}", "branches_url": "https://api.github.com/repos/josecabjim/pytorch/branches{/branch}", "tags_url": "https://api.github.com/repos/josecabjim/pytorch/tags", "blobs_url": "https://api.github.com/repos/josecabjim/pytorch/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/josecabjim/pytorch/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/josecabjim/pytorch/git/refs{/sha}", "trees_url": "https://api.github.com/repos/josecabjim/pytorch/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/josecabjim/pytorch/statuses/{sha}", "languages_url": "https://api.github.com/repos/josecabjim/pytorch/languages", "stargazers_url": "https://api.github.com/repos/josecabjim/pytorch/stargazers", "contributors_url": "https://api.github.com/repos/josecabjim/pytorch/contributors", "subscribers_url": "https://api.github.com/repos/josecabjim/pytorch/subscribers", "subscription_url": "https://api.github.com/repos/josecabjim/pytorch/subscription", "commits_url": "https://api.github.com/repos/josecabjim/pytorch/commits{/sha}", "git_commits_url": "https://api.github.com/repos/josecabjim/pytorch/git/commits{/sha}", "comments_url": "https://api.github.com/repos/josecabjim/pytorch/comments{/number}", "issue_comment_url": "https://api.github.com/repos/josecabjim/pytorch/issues/comments{/number}", "contents_url": "https://api.github.com/repos/josecabjim/pytorch/contents/{+path}", "compare_url": "https://api.github.com/repos/josecabjim/pytorch/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/josecabjim/pytorch/merges", "archive_url": "https://api.github.com/repos/josecabjim/pytorch/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/josecabjim/pytorch/downloads", "issues_url": "https://api.github.com/repos/josecabjim/pytorch/issues{/number}", "pulls_url": "https://api.github.com/repos/josecabjim/pytorch/pulls{/number}", "milestones_url": "https://api.github.com/repos/josecabjim/pytorch/milestones{/number}", "notifications_url": "https://api.github.com/repos/josecabjim/pytorch/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/josecabjim/pytorch/labels{/name}", "releases_url": "https://api.github.com/repos/josecabjim/pytorch/releases{/id}", "deployments_url": "https://api.github.com/repos/josecabjim/pytorch/deployments", "created_at": "2017-11-08T20:56:29Z", "updated_at": "2017-11-08T20:56:35Z", "pushed_at": "2017-11-09T14:52:36Z", "git_url": "git://github.com/josecabjim/pytorch.git", "ssh_url": "git@github.com:josecabjim/pytorch.git", "clone_url": "https://github.com/josecabjim/pytorch.git", "svn_url": "https://github.com/josecabjim/pytorch", "homepage": "http://pytorch.org", "size": 17858, "stargazers_count": 0, "watchers_count": 0, "language": "Python", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "pytorch:master", "ref": "master", "sha": "cc757acd36b4cfbabb458b5875a8b334695a62cc", "user": {"login": "pytorch", "id": 21003710, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw", "avatar_url": "https://avatars3.githubusercontent.com/u/21003710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pytorch", "html_url": "https://github.com/pytorch", "followers_url": "https://api.github.com/users/pytorch/followers", "following_url": "https://api.github.com/users/pytorch/following{/other_user}", "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions", "organizations_url": "https://api.github.com/users/pytorch/orgs", "repos_url": "https://api.github.com/users/pytorch/repos", "events_url": "https://api.github.com/users/pytorch/events{/privacy}", "received_events_url": "https://api.github.com/users/pytorch/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 65600975, "node_id": "MDEwOlJlcG9zaXRvcnk2NTYwMDk3NQ==", "name": "pytorch", "full_name": "pytorch/pytorch", "private": false, "owner": {"login": "pytorch", "id": 21003710, "node_id": "MDEyOk9yZ2FuaXphdGlvbjIxMDAzNzEw", "avatar_url": "https://avatars3.githubusercontent.com/u/21003710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pytorch", "html_url": "https://github.com/pytorch", "followers_url": "https://api.github.com/users/pytorch/followers", "following_url": "https://api.github.com/users/pytorch/following{/other_user}", "gists_url": "https://api.github.com/users/pytorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/pytorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pytorch/subscriptions", "organizations_url": "https://api.github.com/users/pytorch/orgs", "repos_url": "https://api.github.com/users/pytorch/repos", "events_url": "https://api.github.com/users/pytorch/events{/privacy}", "received_events_url": "https://api.github.com/users/pytorch/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/pytorch/pytorch", "description": "Tensors and Dynamic neural networks in Python  with strong GPU acceleration", "fork": false, "url": "https://api.github.com/repos/pytorch/pytorch", "forks_url": "https://api.github.com/repos/pytorch/pytorch/forks", "keys_url": "https://api.github.com/repos/pytorch/pytorch/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/pytorch/pytorch/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/pytorch/pytorch/teams", "hooks_url": "https://api.github.com/repos/pytorch/pytorch/hooks", "issue_events_url": "https://api.github.com/repos/pytorch/pytorch/issues/events{/number}", "events_url": "https://api.github.com/repos/pytorch/pytorch/events", "assignees_url": "https://api.github.com/repos/pytorch/pytorch/assignees{/user}", "branches_url": "https://api.github.com/repos/pytorch/pytorch/branches{/branch}", "tags_url": "https://api.github.com/repos/pytorch/pytorch/tags", "blobs_url": "https://api.github.com/repos/pytorch/pytorch/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/pytorch/pytorch/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/pytorch/pytorch/git/refs{/sha}", "trees_url": "https://api.github.com/repos/pytorch/pytorch/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/pytorch/pytorch/statuses/{sha}", "languages_url": "https://api.github.com/repos/pytorch/pytorch/languages", "stargazers_url": "https://api.github.com/repos/pytorch/pytorch/stargazers", "contributors_url": "https://api.github.com/repos/pytorch/pytorch/contributors", "subscribers_url": "https://api.github.com/repos/pytorch/pytorch/subscribers", "subscription_url": "https://api.github.com/repos/pytorch/pytorch/subscription", "commits_url": "https://api.github.com/repos/pytorch/pytorch/commits{/sha}", "git_commits_url": "https://api.github.com/repos/pytorch/pytorch/git/commits{/sha}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/comments{/number}", "issue_comment_url": "https://api.github.com/repos/pytorch/pytorch/issues/comments{/number}", "contents_url": "https://api.github.com/repos/pytorch/pytorch/contents/{+path}", "compare_url": "https://api.github.com/repos/pytorch/pytorch/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/pytorch/pytorch/merges", "archive_url": "https://api.github.com/repos/pytorch/pytorch/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/pytorch/pytorch/downloads", "issues_url": "https://api.github.com/repos/pytorch/pytorch/issues{/number}", "pulls_url": "https://api.github.com/repos/pytorch/pytorch/pulls{/number}", "milestones_url": "https://api.github.com/repos/pytorch/pytorch/milestones{/number}", "notifications_url": "https://api.github.com/repos/pytorch/pytorch/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/pytorch/pytorch/labels{/name}", "releases_url": "https://api.github.com/repos/pytorch/pytorch/releases{/id}", "deployments_url": "https://api.github.com/repos/pytorch/pytorch/deployments", "created_at": "2016-08-13T05:26:41Z", "updated_at": "2018-11-24T14:27:35Z", "pushed_at": "2018-11-24T12:42:01Z", "git_url": "git://github.com/pytorch/pytorch.git", "ssh_url": "git@github.com:pytorch/pytorch.git", "clone_url": "https://github.com/pytorch/pytorch.git", "svn_url": "https://github.com/pytorch/pytorch", "homepage": "http://pytorch.org", "size": 89656, "stargazers_count": 21591, "watchers_count": 21591, "language": "C++", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 5154, "mirror_url": null, "archived": false, "open_issues_count": 2196, "license": {"key": "other", "name": "Other", "spdx_id": "NOASSERTION", "url": null, "node_id": "MDc6TGljZW5zZTA="}, "forks": 5154, "open_issues": 2196, "watchers": 21591, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3599"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3599"}, "issue": {"href": "https://api.github.com/repos/pytorch/pytorch/issues/3599"}, "comments": {"href": "https://api.github.com/repos/pytorch/pytorch/issues/3599/comments"}, "review_comments": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3599/comments"}, "review_comment": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3599/commits"}, "statuses": {"href": "https://api.github.com/repos/pytorch/pytorch/statuses/3cac879c7dab4925dc9d8bf4419ea2616cd60d3f"}}, "author_association": "CONTRIBUTOR", "body_html": "<p>Adds support for border padding in the <code>grid_sampler</code>.</p>\n<p>The grid sampler is well-defined for coordinates falling within the grid bounds [-1, 1]. Values falling outside these bounds need special treatment. The default behaviour is the original zero padding of borders, which uses value 0 in the bilinear interpolation of the sampler for values outside the grid. This PR extends the sampler to also accept border padding, which instead of 0 will use the value of the image border closest to the coordinate outside the grid.</p>\n<p>The sampler test in <code>test_nn.py</code> has been extended to cover the new padding mode. It has additionally been changed to check behaviour of sampling outside the grid.</p>\n<p><em>NOTE</em> Some large blocks of changes in the PR are related to the previous use of tabs for indentation, which have been corrected.</p>", "body_text": "Adds support for border padding in the grid_sampler.\nThe grid sampler is well-defined for coordinates falling within the grid bounds [-1, 1]. Values falling outside these bounds need special treatment. The default behaviour is the original zero padding of borders, which uses value 0 in the bilinear interpolation of the sampler for values outside the grid. This PR extends the sampler to also accept border padding, which instead of 0 will use the value of the image border closest to the coordinate outside the grid.\nThe sampler test in test_nn.py has been extended to cover the new padding mode. It has additionally been changed to check behaviour of sampling outside the grid.\nNOTE Some large blocks of changes in the PR are related to the previous use of tabs for indentation, which have been corrected.", "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "comments": 5, "review_comments": 6, "maintainer_can_modify": false, "commits": 2, "additions": 320, "deletions": 194, "changed_files": 8}