{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/441325393", "html_url": "https://github.com/pytorch/pytorch/pull/14339#issuecomment-441325393", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/14339", "id": 441325393, "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTMyNTM5Mw==", "user": {"login": "albanD", "id": 6359743, "node_id": "MDQ6VXNlcjYzNTk3NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6359743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albanD", "html_url": "https://github.com/albanD", "followers_url": "https://api.github.com/users/albanD/followers", "following_url": "https://api.github.com/users/albanD/following{/other_user}", "gists_url": "https://api.github.com/users/albanD/gists{/gist_id}", "starred_url": "https://api.github.com/users/albanD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albanD/subscriptions", "organizations_url": "https://api.github.com/users/albanD/orgs", "repos_url": "https://api.github.com/users/albanD/repos", "events_url": "https://api.github.com/users/albanD/events{/privacy}", "received_events_url": "https://api.github.com/users/albanD/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-23T22:31:44Z", "updated_at": "2018-11-23T22:32:34Z", "author_association": "COLLABORATOR", "body_html": "<p>I do think the cast is valid here to the best of my knowledge:<br>\nBasically, up to python 3.6, the field is not const as you see <a href=\"https://github.com/python/cpython/blob/3.6/Include/descrobject.h#L15\">here</a> and it becomes const for python 3.7.<br>\nIn our case I think it's fine to always give it our const tensor as numpy's implementation gives them <a href=\"https://github.com/python/cpython/blob/3.6/Include/descrobject.h#L15\">here</a> the result of <code>PyString_AS_STRING</code> as seen <a href=\"https://github.com/numpy/numpy/blob/1d38e41a2acf67c59a3515af2abecbdbf280dc04/numpy/core/src/multiarray/compiled_base.c#L1397\">here</a> which must not be modified.</p>\n<p>But I would like to wait for another opinion on this.</p>", "body_text": "I do think the cast is valid here to the best of my knowledge:\nBasically, up to python 3.6, the field is not const as you see here and it becomes const for python 3.7.\nIn our case I think it's fine to always give it our const tensor as numpy's implementation gives them here the result of PyString_AS_STRING as seen here which must not be modified.\nBut I would like to wait for another opinion on this.", "body": "I do think the cast is valid here to the best of my knowledge:\r\nBasically, up to python 3.6, the field is not const as you see [here](https://github.com/python/cpython/blob/3.6/Include/descrobject.h#L15) and it becomes const for python 3.7.\r\nIn our case I think it's fine to always give it our const tensor as numpy's implementation gives them [here](https://github.com/python/cpython/blob/3.6/Include/descrobject.h#L15) the result of `PyString_AS_STRING` as seen [here](https://github.com/numpy/numpy/blob/1d38e41a2acf67c59a3515af2abecbdbf280dc04/numpy/core/src/multiarray/compiled_base.c#L1397) which must not be modified.\r\n\r\nBut I would like to wait for another opinion on this."}