{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/396634084", "html_url": "https://github.com/pytorch/pytorch/issues/8348#issuecomment-396634084", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8348", "id": 396634084, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjYzNDA4NA==", "user": {"login": "Fuchai", "id": 16367295, "node_id": "MDQ6VXNlcjE2MzY3Mjk1", "avatar_url": "https://avatars1.githubusercontent.com/u/16367295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fuchai", "html_url": "https://github.com/Fuchai", "followers_url": "https://api.github.com/users/Fuchai/followers", "following_url": "https://api.github.com/users/Fuchai/following{/other_user}", "gists_url": "https://api.github.com/users/Fuchai/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fuchai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fuchai/subscriptions", "organizations_url": "https://api.github.com/users/Fuchai/orgs", "repos_url": "https://api.github.com/users/Fuchai/repos", "events_url": "https://api.github.com/users/Fuchai/events{/privacy}", "received_events_url": "https://api.github.com/users/Fuchai/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-12T15:34:20Z", "updated_at": "2018-06-18T19:35:34Z", "author_association": "NONE", "body_html": "<p>Thank you. Sorry I was not at work so I could not test it out.<br>\nI modified CXX to be /mypath/g++ and the error log is still the same.<br>\n<code>(jason) [username@infodev1 pytorch]$ CC=/opt/rh/devtoolset-6/root/usr/bin/cc CXX=/opt/rh/devtoolset-6/root/usr/bin/g++ python setup.py install</code><br>\n<code>(jason) [username@infodev1 pytorch]$ echo $CC</code><br>\n<code>/opt/rh/devtoolset-6/root/usr/bin/cc</code><br>\n<code>(jason) [username@infodev1 pytorch]$ echo $CXX</code><br>\n<code>/opt/rh/devtoolset-6/root/usr/bin/g++</code><br>\nThe error log is exactly the same, which suggests that it's using <code>/usr/bin/c++</code></p>\n<pre><code>CMake Error at /home/username/.conda/envs/jason/share/cmake-3.11/Modules/CMakeTestCXXCompiler.cmake:45 (message):\n  The C++ compiler\n\n    \"/usr/bin/c++\"\n\n  is not able to compile a simple test program.\n\n  It fails with the following output:\n\n    Change Dir: /home/username/git/pytorch/third_party/build/nccl/CMakeFiles/CMakeTmp\n\n    Run Build Command:\"/usr/bin/gmake\" \"cmTC_427bd/fast\"\n\n</code></pre>\n<p>I also checked out v0.3.0 just out of curiosity. The build started successfully with the correct CC. It seems to be a problem associated with the newer version of PyTorch.</p>", "body_text": "Thank you. Sorry I was not at work so I could not test it out.\nI modified CXX to be /mypath/g++ and the error log is still the same.\n(jason) [username@infodev1 pytorch]$ CC=/opt/rh/devtoolset-6/root/usr/bin/cc CXX=/opt/rh/devtoolset-6/root/usr/bin/g++ python setup.py install\n(jason) [username@infodev1 pytorch]$ echo $CC\n/opt/rh/devtoolset-6/root/usr/bin/cc\n(jason) [username@infodev1 pytorch]$ echo $CXX\n/opt/rh/devtoolset-6/root/usr/bin/g++\nThe error log is exactly the same, which suggests that it's using /usr/bin/c++\nCMake Error at /home/username/.conda/envs/jason/share/cmake-3.11/Modules/CMakeTestCXXCompiler.cmake:45 (message):\n  The C++ compiler\n\n    \"/usr/bin/c++\"\n\n  is not able to compile a simple test program.\n\n  It fails with the following output:\n\n    Change Dir: /home/username/git/pytorch/third_party/build/nccl/CMakeFiles/CMakeTmp\n\n    Run Build Command:\"/usr/bin/gmake\" \"cmTC_427bd/fast\"\n\n\nI also checked out v0.3.0 just out of curiosity. The build started successfully with the correct CC. It seems to be a problem associated with the newer version of PyTorch.", "body": "Thank you. Sorry I was not at work so I could not test it out.\r\nI modified CXX to be /mypath/g++ and the error log is still the same. \r\n`(jason) [username@infodev1 pytorch]$ CC=/opt/rh/devtoolset-6/root/usr/bin/cc CXX=/opt/rh/devtoolset-6/root/usr/bin/g++ python setup.py install`\r\n`(jason) [username@infodev1 pytorch]$ echo $CC`\r\n`/opt/rh/devtoolset-6/root/usr/bin/cc`\r\n`(jason) [username@infodev1 pytorch]$ echo $CXX`\r\n`/opt/rh/devtoolset-6/root/usr/bin/g++`\r\nThe error log is exactly the same, which suggests that it's using `/usr/bin/c++`\r\n```\r\nCMake Error at /home/username/.conda/envs/jason/share/cmake-3.11/Modules/CMakeTestCXXCompiler.cmake:45 (message):\r\n  The C++ compiler\r\n\r\n    \"/usr/bin/c++\"\r\n\r\n  is not able to compile a simple test program.\r\n\r\n  It fails with the following output:\r\n\r\n    Change Dir: /home/username/git/pytorch/third_party/build/nccl/CMakeFiles/CMakeTmp\r\n\r\n    Run Build Command:\"/usr/bin/gmake\" \"cmTC_427bd/fast\"\r\n\r\n```\r\nI also checked out v0.3.0 just out of curiosity. The build started successfully with the correct CC. It seems to be a problem associated with the newer version of PyTorch."}