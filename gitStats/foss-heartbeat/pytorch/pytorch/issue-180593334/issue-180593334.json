{"url": "https://api.github.com/repos/pytorch/pytorch/issues/95", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/95/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/95/events", "html_url": "https://github.com/pytorch/pytorch/issues/95", "id": 180593334, "node_id": "MDU6SXNzdWUxODA1OTMzMzQ=", "number": 95, "title": "extension API broken in python 2.7", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-03T09:07:58Z", "updated_at": "2016-10-03T19:18:41Z", "closed_at": "2016-10-03T19:18:41Z", "author_association": "MEMBER", "body_html": "<ol>\n<li>FileExistsError is not present in 2.7. Workaround: <a href=\"http://stackoverflow.com/questions/20790580/python-specifically-handle-file-exists-exception\" rel=\"nofollow\">http://stackoverflow.com/questions/20790580/python-specifically-handle-file-exists-exception</a></li>\n<li>this occurs after fixing 1.</li>\n</ol>\n<div class=\"highlight highlight-source-shell\"><pre>Traceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>build.py<span class=\"pl-pds\">\"</span></span>, line 7, <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>\n    with_cuda=False\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py<span class=\"pl-pds\">\"</span></span>, line 127, <span class=\"pl-k\">in</span> compile_extension\n    ffi.cdef(_typedefs + header_source)<span class=\"pl-k\">;</span>\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py<span class=\"pl-pds\">\"</span></span>, line 105, <span class=\"pl-k\">in</span> cdef\n    self._cdef(csource, override=override, packed=packed)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py<span class=\"pl-pds\">\"</span></span>, line 119, <span class=\"pl-k\">in</span> _cdef\n    self._parser.parse(csource, override=override, <span class=\"pl-k\">**</span>options)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py<span class=\"pl-pds\">\"</span></span>, line 299, <span class=\"pl-k\">in</span> parse\n    self._internal_parse(csource)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py<span class=\"pl-pds\">\"</span></span>, line 304, <span class=\"pl-k\">in</span> _internal_parse\n    ast, macros, csource = self._parse(csource)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py<span class=\"pl-pds\">\"</span></span>, line 260, <span class=\"pl-k\">in</span> _parse\n    ast = <span class=\"pl-en\">_get_parser</span>().parse(csource)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py<span class=\"pl-pds\">\"</span></span>, line 40, <span class=\"pl-k\">in</span> _get_parser\n    _parser_cache = <span class=\"pl-en\">pycparser.CParser</span>()\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_parser.py<span class=\"pl-pds\">\"</span></span>, line 87, <span class=\"pl-k\">in</span> __init__\n    outputdir=taboutputdir)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_lexer.py<span class=\"pl-pds\">\"</span></span>, line 66, <span class=\"pl-k\">in</span> build\n    self.lexer = lex.lex(object=self, <span class=\"pl-k\">**</span>kwargs)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py<span class=\"pl-pds\">\"</span></span>, line 911, <span class=\"pl-k\">in</span> lex\n    lexobj.readtab(lextab, ldict)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py<span class=\"pl-pds\">\"</span></span>, line 233, <span class=\"pl-k\">in</span> readtab\n    titem.append<span class=\"pl-s\"><span class=\"pl-pds\">((</span>re.compile(pat<span class=\"pl-k\">,</span> lextab._lexreflags <span class=\"pl-k\">|</span> re.VERBOSE)<span class=\"pl-k\">,</span> _names_to_funcs(func_name<span class=\"pl-k\">,</span> fdict<span class=\"pl-pds\">))</span></span>)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/re.py<span class=\"pl-pds\">\"</span></span>, line 194, <span class=\"pl-k\">in</span> compile\n    <span class=\"pl-k\">return</span> _compile(pattern, flags)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/re.py<span class=\"pl-pds\">\"</span></span>, line 249, <span class=\"pl-k\">in</span> _compile\n    p = sre_compile.compile(pattern, flags)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/Users/soumith/anaconda/lib/python2.7/sre_compile.py<span class=\"pl-pds\">\"</span></span>, line 583, <span class=\"pl-k\">in</span> compile\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sorry, but this version only supports 100 named groups<span class=\"pl-pds\">\"</span></span>\nAssertionError: sorry, but this version only supports 100 named groups</pre></div>", "body_text": "FileExistsError is not present in 2.7. Workaround: http://stackoverflow.com/questions/20790580/python-specifically-handle-file-exists-exception\nthis occurs after fixing 1.\n\nTraceback (most recent call last):\n  File \"build.py\", line 7, in <module>\n    with_cuda=False\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 127, in compile_extension\n    ffi.cdef(_typedefs + header_source);\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py\", line 105, in cdef\n    self._cdef(csource, override=override, packed=packed)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py\", line 119, in _cdef\n    self._parser.parse(csource, override=override, **options)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 299, in parse\n    self._internal_parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 304, in _internal_parse\n    ast, macros, csource = self._parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 260, in _parse\n    ast = _get_parser().parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 40, in _get_parser\n    _parser_cache = pycparser.CParser()\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_parser.py\", line 87, in __init__\n    outputdir=taboutputdir)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_lexer.py\", line 66, in build\n    self.lexer = lex.lex(object=self, **kwargs)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 911, in lex\n    lexobj.readtab(lextab, ldict)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 233, in readtab\n    titem.append((re.compile(pat, lextab._lexreflags | re.VERBOSE), _names_to_funcs(func_name, fdict)))\n  File \"/Users/soumith/anaconda/lib/python2.7/re.py\", line 194, in compile\n    return _compile(pattern, flags)\n  File \"/Users/soumith/anaconda/lib/python2.7/re.py\", line 249, in _compile\n    p = sre_compile.compile(pattern, flags)\n  File \"/Users/soumith/anaconda/lib/python2.7/sre_compile.py\", line 583, in compile\n    \"sorry, but this version only supports 100 named groups\"\nAssertionError: sorry, but this version only supports 100 named groups", "body": "1. FileExistsError is not present in 2.7. Workaround: http://stackoverflow.com/questions/20790580/python-specifically-handle-file-exists-exception\n2. this occurs after fixing 1.\n\n``` bash\nTraceback (most recent call last):\n  File \"build.py\", line 7, in <module>\n    with_cuda=False\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/torch/utils/ffi/__init__.py\", line 127, in compile_extension\n    ffi.cdef(_typedefs + header_source);\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py\", line 105, in cdef\n    self._cdef(csource, override=override, packed=packed)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/api.py\", line 119, in _cdef\n    self._parser.parse(csource, override=override, **options)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 299, in parse\n    self._internal_parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 304, in _internal_parse\n    ast, macros, csource = self._parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 260, in _parse\n    ast = _get_parser().parse(csource)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/cffi/cparser.py\", line 40, in _get_parser\n    _parser_cache = pycparser.CParser()\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_parser.py\", line 87, in __init__\n    outputdir=taboutputdir)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/c_lexer.py\", line 66, in build\n    self.lexer = lex.lex(object=self, **kwargs)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 911, in lex\n    lexobj.readtab(lextab, ldict)\n  File \"/Users/soumith/anaconda/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 233, in readtab\n    titem.append((re.compile(pat, lextab._lexreflags | re.VERBOSE), _names_to_funcs(func_name, fdict)))\n  File \"/Users/soumith/anaconda/lib/python2.7/re.py\", line 194, in compile\n    return _compile(pattern, flags)\n  File \"/Users/soumith/anaconda/lib/python2.7/re.py\", line 249, in _compile\n    p = sre_compile.compile(pattern, flags)\n  File \"/Users/soumith/anaconda/lib/python2.7/sre_compile.py\", line 583, in compile\n    \"sorry, but this version only supports 100 named groups\"\nAssertionError: sorry, but this version only supports 100 named groups\n```\n"}