{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/314980940", "html_url": "https://github.com/pytorch/pytorch/issues/2014#issuecomment-314980940", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2014", "id": 314980940, "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDk4MDk0MA==", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "created_at": "2017-07-13T06:09:29Z", "updated_at": "2017-07-13T06:09:29Z", "author_association": "MEMBER", "body_html": "<blockquote>\n<p>I was looking around and there seems some specific HalfTensor code, could that be effecting the code gen?</p>\n</blockquote>\n<p>Any way I could help here? I'd have to dig in as well.</p>\n<p>the <code>THC_REAL_IS_HALF</code> has to be <code>THC_REAL_IS_HALF || TH_REAL_IS_HALF</code>. <code>THC_REAL_IS_HALF</code> is invoked when we generate CUDA Half code, and <code>TH_REAL_IS_HALF</code> in CPU Half code.</p>\n<blockquote>\n<p>Creating a Tensor with an FP16/FP32 numpy array only works for half and float respectively but FP64 works for all of them, is this expected?</p>\n</blockquote>\n<p>I didn't understand this, could you reword this?</p>", "body_text": "I was looking around and there seems some specific HalfTensor code, could that be effecting the code gen?\n\nAny way I could help here? I'd have to dig in as well.\nthe THC_REAL_IS_HALF has to be THC_REAL_IS_HALF || TH_REAL_IS_HALF. THC_REAL_IS_HALF is invoked when we generate CUDA Half code, and TH_REAL_IS_HALF in CPU Half code.\n\nCreating a Tensor with an FP16/FP32 numpy array only works for half and float respectively but FP64 works for all of them, is this expected?\n\nI didn't understand this, could you reword this?", "body": "> I was looking around and there seems some specific HalfTensor code, could that be effecting the code gen?\r\n\r\nAny way I could help here? I'd have to dig in as well.\r\n\r\nthe `THC_REAL_IS_HALF` has to be `THC_REAL_IS_HALF || TH_REAL_IS_HALF`. `THC_REAL_IS_HALF` is invoked when we generate CUDA Half code, and `TH_REAL_IS_HALF` in CPU Half code.\r\n\r\n\r\n> Creating a Tensor with an FP16/FP32 numpy array only works for half and float respectively but FP64 works for all of them, is this expected?\r\n\r\nI didn't understand this, could you reword this?"}