{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5222", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5222/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5222/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5222/events", "html_url": "https://github.com/pytorch/pytorch/issues/5222", "id": 296873437, "node_id": "MDU6SXNzdWUyOTY4NzM0Mzc=", "number": 5222, "title": "ONNX export issue for model with multiple outputs ", "user": {"login": "yzhsjtu", "id": 8006876, "node_id": "MDQ6VXNlcjgwMDY4NzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8006876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzhsjtu", "html_url": "https://github.com/yzhsjtu", "followers_url": "https://api.github.com/users/yzhsjtu/followers", "following_url": "https://api.github.com/users/yzhsjtu/following{/other_user}", "gists_url": "https://api.github.com/users/yzhsjtu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzhsjtu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzhsjtu/subscriptions", "organizations_url": "https://api.github.com/users/yzhsjtu/orgs", "repos_url": "https://api.github.com/users/yzhsjtu/repos", "events_url": "https://api.github.com/users/yzhsjtu/events{/privacy}", "received_events_url": "https://api.github.com/users/yzhsjtu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 545367190, "node_id": "MDU6TGFiZWw1NDUzNjcxOTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/awaiting%20response", "name": "awaiting response", "color": "5319e7", "default": false}, {"id": 693805995, "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx", "name": "onnx", "color": "e99695", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-13T20:25:00Z", "updated_at": "2018-02-15T06:48:35Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I was trying to export a pytorch model with single input and multiple outputs to ONNX:</p>\n<pre><code>torch.onnx.export(m, input_var, \"test.proto\", verbose=True)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 75, in export\n_export(model, args, f, export_params, verbose, training)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 116, in _export\ntrace, torch_out = torch.jit.trace(model, args)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 217, in trace\nreturn TracedModule(f, nderivs=nderivs)(*args, **kwargs)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 325, in call\nresult = self.forward(*input, **kwargs)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 242, in forward\nout, unmatched = _unflatten(out_vars, out_struct)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 536, in _unflatten\nreturn unflatten_helper(input, proto)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 532, in unflatten_helper\nres_e, input = unflatten_helper(input, e)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 530, in unflatten_helper\nreturn input[0], input[1:]\nIndexError: tuple index out of range\n</code></pre>\n<p>Here is my enviroment:<br>\nPython: 3.5<br>\nPytorch: 0.3</p>", "body_text": "I was trying to export a pytorch model with single input and multiple outputs to ONNX:\ntorch.onnx.export(m, input_var, \"test.proto\", verbose=True)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 75, in export\n_export(model, args, f, export_params, verbose, training)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 116, in _export\ntrace, torch_out = torch.jit.trace(model, args)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 217, in trace\nreturn TracedModule(f, nderivs=nderivs)(*args, **kwargs)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 325, in call\nresult = self.forward(*input, **kwargs)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 242, in forward\nout, unmatched = _unflatten(out_vars, out_struct)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 536, in _unflatten\nreturn unflatten_helper(input, proto)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 532, in unflatten_helper\nres_e, input = unflatten_helper(input, e)\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 530, in unflatten_helper\nreturn input[0], input[1:]\nIndexError: tuple index out of range\n\nHere is my enviroment:\nPython: 3.5\nPytorch: 0.3", "body": "I was trying to export a pytorch model with single input and multiple outputs to ONNX:\r\n```\r\ntorch.onnx.export(m, input_var, \"test.proto\", verbose=True)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 75, in export\r\n_export(model, args, f, export_params, verbose, training)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/onnx/init.py\", line 116, in _export\r\ntrace, torch_out = torch.jit.trace(model, args)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 217, in trace\r\nreturn TracedModule(f, nderivs=nderivs)(*args, **kwargs)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/nn/modules/module.py\", line 325, in call\r\nresult = self.forward(*input, **kwargs)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 242, in forward\r\nout, unmatched = _unflatten(out_vars, out_struct)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 536, in _unflatten\r\nreturn unflatten_helper(input, proto)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 532, in unflatten_helper\r\nres_e, input = unflatten_helper(input, e)\r\nFile \"/home/xx/.virtualenvs/pytorch_0.3/lib/python3.5/site-packages/torch/jit/init.py\", line 530, in unflatten_helper\r\nreturn input[0], input[1:]\r\nIndexError: tuple index out of range\r\n```\r\nHere is my enviroment:\r\nPython: 3.5\r\nPytorch: 0.3"}