{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2696", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2696/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2696/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2696/events", "html_url": "https://github.com/pytorch/pytorch/issues/2696", "id": 256852970, "node_id": "MDU6SXNzdWUyNTY4NTI5NzA=", "number": 2696, "title": "Different Gradients with Two API", "user": {"login": "chao1224", "id": 14155181, "node_id": "MDQ6VXNlcjE0MTU1MTgx", "avatar_url": "https://avatars1.githubusercontent.com/u/14155181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chao1224", "html_url": "https://github.com/chao1224", "followers_url": "https://api.github.com/users/chao1224/followers", "following_url": "https://api.github.com/users/chao1224/following{/other_user}", "gists_url": "https://api.github.com/users/chao1224/gists{/gist_id}", "starred_url": "https://api.github.com/users/chao1224/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chao1224/subscriptions", "organizations_url": "https://api.github.com/users/chao1224/orgs", "repos_url": "https://api.github.com/users/chao1224/repos", "events_url": "https://api.github.com/users/chao1224/events{/privacy}", "received_events_url": "https://api.github.com/users/chao1224/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-11T21:49:21Z", "updated_at": "2017-09-12T20:14:42Z", "closed_at": "2017-09-12T20:14:42Z", "author_association": "NONE", "body_html": "<p>Hi there,</p>\n<p>I tried to get the gradient w.r.t. the neural network weights.</p>\n<p>AFAIK, there are two APIs.</p>\n<ol>\n<li>The <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/autograd/__init__.py#L101\">auto grad function</a></li>\n<li>The <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/autograd/variable.py#L26-L28\">attribute in class Variable</a></li>\n</ol>\n<p>Now I build a toy model, and layer is <code>4 -&gt; 10 -&gt; 20 -&gt; 5 -&gt; 1</code>, and I hope to get the gradient w.r.t. weight parameter in each layer.</p>\n<p>What I get for the output is that, only the gradients in first layer <code>4*10</code> are the same using two APIs, all the remaining layers are different. Am I missing sth?</p>\n<p>Any help would be helpful.</p>", "body_text": "Hi there,\nI tried to get the gradient w.r.t. the neural network weights.\nAFAIK, there are two APIs.\n\nThe auto grad function\nThe attribute in class Variable\n\nNow I build a toy model, and layer is 4 -> 10 -> 20 -> 5 -> 1, and I hope to get the gradient w.r.t. weight parameter in each layer.\nWhat I get for the output is that, only the gradients in first layer 4*10 are the same using two APIs, all the remaining layers are different. Am I missing sth?\nAny help would be helpful.", "body": "Hi there,\r\n\r\nI tried to get the gradient w.r.t. the neural network weights.\r\n\r\nAFAIK, there are two APIs.\r\n1. The [auto grad function](https://github.com/pytorch/pytorch/blob/master/torch/autograd/__init__.py#L101)\r\n2. The [attribute in class Variable](https://github.com/pytorch/pytorch/blob/master/torch/autograd/variable.py#L26-L28)\r\n\r\nNow I build a toy model, and layer is `4 -> 10 -> 20 -> 5 -> 1`, and I hope to get the gradient w.r.t. weight parameter in each layer.\r\n\r\nWhat I get for the output is that, only the gradients in first layer `4*10` are the same using two APIs, all the remaining layers are different. Am I missing sth?\r\n\r\nAny help would be helpful."}