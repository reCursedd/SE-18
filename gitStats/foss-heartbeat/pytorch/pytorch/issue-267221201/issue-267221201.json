{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3203", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3203/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3203/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3203/events", "html_url": "https://github.com/pytorch/pytorch/issues/3203", "id": 267221201, "node_id": "MDU6SXNzdWUyNjcyMjEyMDE=", "number": 3203, "title": "Different input parameter names for scatter_ ", "user": {"login": "ptrblck", "id": 11662379, "node_id": "MDQ6VXNlcjExNjYyMzc5", "avatar_url": "https://avatars3.githubusercontent.com/u/11662379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptrblck", "html_url": "https://github.com/ptrblck", "followers_url": "https://api.github.com/users/ptrblck/followers", "following_url": "https://api.github.com/users/ptrblck/following{/other_user}", "gists_url": "https://api.github.com/users/ptrblck/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptrblck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptrblck/subscriptions", "organizations_url": "https://api.github.com/users/ptrblck/orgs", "repos_url": "https://api.github.com/users/ptrblck/repos", "events_url": "https://api.github.com/users/ptrblck/events{/privacy}", "received_events_url": "https://api.github.com/users/ptrblck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-20T15:52:33Z", "updated_at": "2017-12-05T21:54:40Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Based on the type of the source for <code>scatter_</code>, the parameter name seems to change.<br>\nThe <a href=\"http://pytorch.org/docs/master/tensors.html#torch.Tensor.scatter_\" rel=\"nofollow\">docs</a> use <code>src</code> as the parameter name.</p>\n<p>Depending wheter a <code>Tensor</code> or <code>Variable</code> is used, the names change.<br>\nThe exception message gives a hint to use <code>value</code> for <code>float</code> values when using <code>Tensor</code>s.<br>\nUsing <code>Variable</code>s, the exception message does not give a hint.</p>\n<p>Code to reproduce the issue:</p>\n<pre><code># Init \na = torch.FloatTensor(3, 3).normal_()\nprint(a)\n\n# Tensor + value (float)\na1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), value=1.0)\nprint(a1)\n\n# Tensor + src (FloatTensor)\na2 = a.scatter_(dim=1,\n                index=torch.LongTensor([[0], [0], [0]]),\n                src=torch.FloatTensor([[1], [2], [3]]))\nprint(a2)\n\n# Variable + source (float)\na3 = Variable(a).scatter_(dim=1,\n                          index=torch.LongTensor([[0], [0] ,[0]]),\n                          source=1.23)\nprint(a3)\n\n# Variable + source (FloatTensor)\na4 = Variable(a).scatter_(dim=1,\n                          index=torch.LongTensor([[0], [0] ,[0]]),\n                          source=torch.FloatTensor([[1], [2], [3]]))\nprint(a4)\n\n# Fail cases\ntry:\n    a1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), src=1.0)\nexcept TypeError as e:\n    print(e)\n\ntry:\n    a3 = Variable(a).scatter_(dim=1,\n                              index=torch.LongTensor([[0], [0] ,[0]]),\n                              src=1.23)\nexcept TypeError as e:\n    print(e)\n</code></pre>\n<p>I tried to hunt down the issue, but could not find the parameter names <a href=\"https://github.com/pytorch/pytorch/blob/f608208a8051a8708e71291e84768bf8be720a1a/torch/lib/TH/generic/THTensorMath.c\">here</a>.</p>\n<p>Maybe someone could give me a hint, where to look for the param names, so I could try to fix this.</p>\n<p>Greets!</p>", "body_text": "Based on the type of the source for scatter_, the parameter name seems to change.\nThe docs use src as the parameter name.\nDepending wheter a Tensor or Variable is used, the names change.\nThe exception message gives a hint to use value for float values when using Tensors.\nUsing Variables, the exception message does not give a hint.\nCode to reproduce the issue:\n# Init \na = torch.FloatTensor(3, 3).normal_()\nprint(a)\n\n# Tensor + value (float)\na1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), value=1.0)\nprint(a1)\n\n# Tensor + src (FloatTensor)\na2 = a.scatter_(dim=1,\n                index=torch.LongTensor([[0], [0], [0]]),\n                src=torch.FloatTensor([[1], [2], [3]]))\nprint(a2)\n\n# Variable + source (float)\na3 = Variable(a).scatter_(dim=1,\n                          index=torch.LongTensor([[0], [0] ,[0]]),\n                          source=1.23)\nprint(a3)\n\n# Variable + source (FloatTensor)\na4 = Variable(a).scatter_(dim=1,\n                          index=torch.LongTensor([[0], [0] ,[0]]),\n                          source=torch.FloatTensor([[1], [2], [3]]))\nprint(a4)\n\n# Fail cases\ntry:\n    a1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), src=1.0)\nexcept TypeError as e:\n    print(e)\n\ntry:\n    a3 = Variable(a).scatter_(dim=1,\n                              index=torch.LongTensor([[0], [0] ,[0]]),\n                              src=1.23)\nexcept TypeError as e:\n    print(e)\n\nI tried to hunt down the issue, but could not find the parameter names here.\nMaybe someone could give me a hint, where to look for the param names, so I could try to fix this.\nGreets!", "body": "Based on the type of the source for `scatter_`, the parameter name seems to change.\r\nThe [docs](http://pytorch.org/docs/master/tensors.html#torch.Tensor.scatter_) use `src` as the parameter name.\r\n\r\nDepending wheter a `Tensor` or `Variable` is used, the names change.\r\nThe exception message gives a hint to use `value` for `float` values when using `Tensor`s.\r\nUsing `Variable`s, the exception message does not give a hint.\r\n\r\nCode to reproduce the issue:\r\n\r\n    # Init \r\n    a = torch.FloatTensor(3, 3).normal_()\r\n    print(a)\r\n\r\n    # Tensor + value (float)\r\n    a1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), value=1.0)\r\n    print(a1)\r\n\r\n    # Tensor + src (FloatTensor)\r\n    a2 = a.scatter_(dim=1,\r\n                    index=torch.LongTensor([[0], [0], [0]]),\r\n                    src=torch.FloatTensor([[1], [2], [3]]))\r\n    print(a2)\r\n\r\n    # Variable + source (float)\r\n    a3 = Variable(a).scatter_(dim=1,\r\n                              index=torch.LongTensor([[0], [0] ,[0]]),\r\n                              source=1.23)\r\n    print(a3)\r\n\r\n    # Variable + source (FloatTensor)\r\n    a4 = Variable(a).scatter_(dim=1,\r\n                              index=torch.LongTensor([[0], [0] ,[0]]),\r\n                              source=torch.FloatTensor([[1], [2], [3]]))\r\n    print(a4)\r\n  \r\n    # Fail cases\r\n    try:\r\n        a1 = a.scatter_(dim=1, index=torch.LongTensor([[0], [0], [0]]), src=1.0)\r\n    except TypeError as e:\r\n        print(e)\r\n\r\n    try:\r\n        a3 = Variable(a).scatter_(dim=1,\r\n                                  index=torch.LongTensor([[0], [0] ,[0]]),\r\n                                  src=1.23)\r\n    except TypeError as e:\r\n        print(e)\r\n\r\nI tried to hunt down the issue, but could not find the parameter names [here](https://github.com/pytorch/pytorch/blob/f608208a8051a8708e71291e84768bf8be720a1a/torch/lib/TH/generic/THTensorMath.c).\r\n\r\nMaybe someone could give me a hint, where to look for the param names, so I could try to fix this.\r\n\r\nGreets!\r\n"}