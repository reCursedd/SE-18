{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/367966975", "html_url": "https://github.com/pytorch/pytorch/issues/4946#issuecomment-367966975", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4946", "id": 367966975, "node_id": "MDEyOklzc3VlQ29tbWVudDM2Nzk2Njk3NQ==", "user": {"login": "ignacio-rocco", "id": 11975660, "node_id": "MDQ6VXNlcjExOTc1NjYw", "avatar_url": "https://avatars3.githubusercontent.com/u/11975660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignacio-rocco", "html_url": "https://github.com/ignacio-rocco", "followers_url": "https://api.github.com/users/ignacio-rocco/followers", "following_url": "https://api.github.com/users/ignacio-rocco/following{/other_user}", "gists_url": "https://api.github.com/users/ignacio-rocco/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignacio-rocco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignacio-rocco/subscriptions", "organizations_url": "https://api.github.com/users/ignacio-rocco/orgs", "repos_url": "https://api.github.com/users/ignacio-rocco/repos", "events_url": "https://api.github.com/users/ignacio-rocco/events{/privacy}", "received_events_url": "https://api.github.com/users/ignacio-rocco/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-23T10:11:36Z", "updated_at": "2018-02-23T10:11:36Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I'm playing a bit with this. I downloaded the RoiPooling CPU version from <a href=\"https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/RoiPooling.cpp\">here</a>, and wrote this little wrapper:</p>\n<pre><code>// roi_pool_binding.cpp\n#include &lt;pybind11/pybind11.h&gt;\n#include \"RoiPoolingAten.cpp\"\n\nPYBIND11_MODULE(library, m) {\n  m.def(\"RoiPooling2d_forward_cpu\", &amp;at::native::RoiPooling2d_forward_cpu, \"RoiPooling2d_forward_cpu\");\n}\n</code></pre>\n<p>which I compile and load with:</p>\n<pre><code>from torch.utils.cpp_extension import load                              \n_C = load(name='library',sources= ['roi_pool_binding.cpp'],verbose=True)\n</code></pre>\n<p>However, when I try to call the function by passing [FloatTensor,FloatTensor,int,int,float] I get the following error:</p>\n<blockquote>\n<p>TypeError: RoiPooling2d_forward_cpu(): incompatible function arguments. The following argument types are supported:<br>\n1. (arg0: at::Tensor, arg1: at::Tensor, arg2: int, arg3: int, arg4: float) -&gt; Tuple[at::Tensor, at::Tensor]</p>\n</blockquote>\n<p>Any ideas?<br>\nIs your ATen+pybind extension available anywhere so I can test it?</p>\n<p>Thanks!</p>", "body_text": "Hi,\nI'm playing a bit with this. I downloaded the RoiPooling CPU version from here, and wrote this little wrapper:\n// roi_pool_binding.cpp\n#include <pybind11/pybind11.h>\n#include \"RoiPoolingAten.cpp\"\n\nPYBIND11_MODULE(library, m) {\n  m.def(\"RoiPooling2d_forward_cpu\", &at::native::RoiPooling2d_forward_cpu, \"RoiPooling2d_forward_cpu\");\n}\n\nwhich I compile and load with:\nfrom torch.utils.cpp_extension import load                              \n_C = load(name='library',sources= ['roi_pool_binding.cpp'],verbose=True)\n\nHowever, when I try to call the function by passing [FloatTensor,FloatTensor,int,int,float] I get the following error:\n\nTypeError: RoiPooling2d_forward_cpu(): incompatible function arguments. The following argument types are supported:\n1. (arg0: at::Tensor, arg1: at::Tensor, arg2: int, arg3: int, arg4: float) -> Tuple[at::Tensor, at::Tensor]\n\nAny ideas?\nIs your ATen+pybind extension available anywhere so I can test it?\nThanks!", "body": "Hi, \r\n\r\nI'm playing a bit with this. I downloaded the RoiPooling CPU version from [here](https://github.com/pytorch/pytorch/blob/master/aten/src/ATen/native/RoiPooling.cpp\r\n), and wrote this little wrapper:\r\n\r\n```\r\n// roi_pool_binding.cpp\r\n#include <pybind11/pybind11.h>\r\n#include \"RoiPoolingAten.cpp\"\r\n\r\nPYBIND11_MODULE(library, m) {\r\n  m.def(\"RoiPooling2d_forward_cpu\", &at::native::RoiPooling2d_forward_cpu, \"RoiPooling2d_forward_cpu\");\r\n}\r\n``` \r\nwhich I compile and load with:\r\n```\r\nfrom torch.utils.cpp_extension import load                              \r\n_C = load(name='library',sources= ['roi_pool_binding.cpp'],verbose=True)\r\n```\r\nHowever, when I try to call the function by passing [FloatTensor,FloatTensor,int,int,float] I get the following error:\r\n\r\n> TypeError: RoiPooling2d_forward_cpu(): incompatible function arguments. The following argument types are supported:\r\n    1. (arg0: at::Tensor, arg1: at::Tensor, arg2: int, arg3: int, arg4: float) -> Tuple[at::Tensor, at::Tensor]\r\n\r\nAny ideas?\r\nIs your ATen+pybind extension available anywhere so I can test it?\r\n\r\nThanks!\r\n\r\n"}