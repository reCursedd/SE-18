{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/202401059", "pull_request_review_id": 137099448, "id": 202401059, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjQwMTA1OQ==", "diff_hunk": "@@ -3,14 +3,153 @@\n #include <memory>\n #include <stddef.h>\n \n-#include \"ATen/Retainable.h\"\n+#include <ATen/Error.h>\n+#include <ATen/Retainable.h>\n+#include <ATen/Device.h>\n \n namespace at {\n \n+// Note [Supervisor deleter]\n+// ~~~~~~~~~~~~~~~~~~~~~~~~~\n+// SupervisorPtr solves a common problem for allocators of tensor data, which", "path": "aten/src/ATen/Allocator.h", "position": null, "original_position": 13, "commit_id": "ebbe7907bc313f1d259d85e91bcb72ebafbfd252", "original_commit_id": "be8f9fe1d4db0a6a3732a9226045dd0ba073783c", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "body": "I think it may be useful to split up this file into the actual API and the building blocks.  There are pretty big walls of text one has to get through before they even see what the actual API looks like (here, I'm considering the DevicePtr to be the actual API, and I realize some of this is due to having to define things in order in C++...)", "created_at": "2018-07-13T16:10:40Z", "updated_at": "2018-11-23T15:47:19Z", "html_url": "https://github.com/pytorch/pytorch/pull/9358#discussion_r202401059", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/9358", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/202401059"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/9358#discussion_r202401059"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/9358"}}, "body_html": "<p>I think it may be useful to split up this file into the actual API and the building blocks.  There are pretty big walls of text one has to get through before they even see what the actual API looks like (here, I'm considering the DevicePtr to be the actual API, and I realize some of this is due to having to define things in order in C++...)</p>", "body_text": "I think it may be useful to split up this file into the actual API and the building blocks.  There are pretty big walls of text one has to get through before they even see what the actual API looks like (here, I'm considering the DevicePtr to be the actual API, and I realize some of this is due to having to define things in order in C++...)"}