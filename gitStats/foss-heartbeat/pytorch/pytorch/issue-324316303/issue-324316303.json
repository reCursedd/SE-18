{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7667", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7667/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7667/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7667/events", "html_url": "https://github.com/pytorch/pytorch/issues/7667", "id": 324316303, "node_id": "MDU6SXNzdWUzMjQzMTYzMDM=", "number": 7667, "title": "Caffe2 network exported from ONNX does not initialize the model inputs", "user": {"login": "saierd", "id": 7225129, "node_id": "MDQ6VXNlcjcyMjUxMjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7225129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saierd", "html_url": "https://github.com/saierd", "followers_url": "https://api.github.com/users/saierd/followers", "following_url": "https://api.github.com/users/saierd/following{/other_user}", "gists_url": "https://api.github.com/users/saierd/gists{/gist_id}", "starred_url": "https://api.github.com/users/saierd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saierd/subscriptions", "organizations_url": "https://api.github.com/users/saierd/orgs", "repos_url": "https://api.github.com/users/saierd/repos", "events_url": "https://api.github.com/users/saierd/events{/privacy}", "received_events_url": "https://api.github.com/users/saierd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-18T08:26:50Z", "updated_at": "2018-05-18T14:49:09Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>When exporting an ONNX model to Caffe2 with the <a href=\"pytorch/pytorch/blob/master/caffe2/python/onnx/bin/conversion.py\">conversion tool</a>, the resulting init net does not initialize the model inputs. When running this network in Caffe2, you therefore get the error <code>Encountered a non-existing input blob: &lt;name of input blob&gt;</code>, unless you explicitly create the input blob before running the network.</p>\n<p>I would like the network to create the blob automatically, so that I don't have to specify the name and size of the input blob manually (this information should be part of the exported network imho).</p>\n<p>This problem was already fixed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"265849421\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/onnx/onnx-caffe2/issues/48\" data-hovercard-type=\"issue\" data-hovercard-url=\"/onnx/onnx-caffe2/issues/48/hovercard\" href=\"https://github.com/onnx/onnx-caffe2/issues/48\">onnx/onnx-caffe2#48</a>, but it was later changed again by <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/onnx/onnx-caffe2/commit/ff82dca5551fce84d781bb23719fbe2913b30327/hovercard\" href=\"https://github.com/onnx/onnx-caffe2/commit/ff82dca5551fce84d781bb23719fbe2913b30327\">onnx/onnx-caffe2@<tt>ff82dca</tt></a>. I'm not sure which behavior is actually intended.</p>\n<p>This is probably related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"313346255\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/6505\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6505/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/6505\">#6505</a>, but I'm not sure whether it's the same problem.</p>\n<h2>System Info</h2>\n<ul>\n<li>PyTorch or Caffe2: Caffe2</li>\n<li>How you installed Caffe2: conda</li>\n<li>OS: Ubuntu 16.04</li>\n<li>Caffe2 version: 0.8.dev</li>\n<li>Versions of any other relevant libraries: onnx 1.1.1 from pip</li>\n</ul>", "body_text": "Issue description\nWhen exporting an ONNX model to Caffe2 with the conversion tool, the resulting init net does not initialize the model inputs. When running this network in Caffe2, you therefore get the error Encountered a non-existing input blob: <name of input blob>, unless you explicitly create the input blob before running the network.\nI would like the network to create the blob automatically, so that I don't have to specify the name and size of the input blob manually (this information should be part of the exported network imho).\nThis problem was already fixed in onnx/onnx-caffe2#48, but it was later changed again by onnx/onnx-caffe2@ff82dca. I'm not sure which behavior is actually intended.\nThis is probably related to #6505, but I'm not sure whether it's the same problem.\nSystem Info\n\nPyTorch or Caffe2: Caffe2\nHow you installed Caffe2: conda\nOS: Ubuntu 16.04\nCaffe2 version: 0.8.dev\nVersions of any other relevant libraries: onnx 1.1.1 from pip", "body": "## Issue description\r\n\r\nWhen exporting an ONNX model to Caffe2 with the [conversion tool](pytorch/pytorch/blob/master/caffe2/python/onnx/bin/conversion.py), the resulting init net does not initialize the model inputs. When running this network in Caffe2, you therefore get the error `Encountered a non-existing input blob: <name of input blob>`, unless you explicitly create the input blob before running the network.\r\n\r\nI would like the network to create the blob automatically, so that I don't have to specify the name and size of the input blob manually (this information should be part of the exported network imho).\r\n\r\nThis problem was already fixed in onnx/onnx-caffe2#48, but it was later changed again by https://github.com/onnx/onnx-caffe2/commit/ff82dca5551fce84d781bb23719fbe2913b30327. I'm not sure which behavior is actually intended.\r\n\r\nThis is probably related to #6505, but I'm not sure whether it's the same problem.\r\n\r\n## System Info\r\n\r\n- PyTorch or Caffe2: Caffe2\r\n- How you installed Caffe2: conda\r\n- OS: Ubuntu 16.04\r\n- Caffe2 version: 0.8.dev\r\n- Versions of any other relevant libraries: onnx 1.1.1 from pip\r\n"}