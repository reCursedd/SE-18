{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9389", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9389/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9389/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9389/events", "html_url": "https://github.com/pytorch/pytorch/pull/9389", "id": 340706749, "node_id": "MDExOlB1bGxSZXF1ZXN0MjAxMDU0Njcy", "number": 9389, "title": "In Gloo backend create one context per device", "user": {"login": "pietern", "id": 9845, "node_id": "MDQ6VXNlcjk4NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietern", "html_url": "https://github.com/pietern", "followers_url": "https://api.github.com/users/pietern/followers", "following_url": "https://api.github.com/users/pietern/following{/other_user}", "gists_url": "https://api.github.com/users/pietern/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietern/subscriptions", "organizations_url": "https://api.github.com/users/pietern/orgs", "repos_url": "https://api.github.com/users/pietern/repos", "events_url": "https://api.github.com/users/pietern/events{/privacy}", "received_events_url": "https://api.github.com/users/pietern/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-12T16:16:38Z", "updated_at": "2018-09-12T03:22:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/9389", "html_url": "https://github.com/pytorch/pytorch/pull/9389", "diff_url": "https://github.com/pytorch/pytorch/pull/9389.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/9389.patch"}, "body_html": "<p>Summary:<br>\nEvery context is uses a dedicated Gloo device object. Every device has a single I/O thread.<br>\nIn order to use multiple physical devices in single process group you can create it with<br>\nmultiple devices and it will load balance algorithms across them.</p>\n<p>This is also useful if you want to maximize throughput on machines with NICs faster<br>\nthan 25GbE (or so). Emperical evidence shows that a single core can sustain about<br>\n25Gbit of RX traffic without fancy zero copy tricks. Therefore, in order to efficiently<br>\nuse a 40GbE or even 100GbE NIC you need multiple I/O threads.</p>\n<p>Differential Revision: D8817730</p>", "body_text": "Summary:\nEvery context is uses a dedicated Gloo device object. Every device has a single I/O thread.\nIn order to use multiple physical devices in single process group you can create it with\nmultiple devices and it will load balance algorithms across them.\nThis is also useful if you want to maximize throughput on machines with NICs faster\nthan 25GbE (or so). Emperical evidence shows that a single core can sustain about\n25Gbit of RX traffic without fancy zero copy tricks. Therefore, in order to efficiently\nuse a 40GbE or even 100GbE NIC you need multiple I/O threads.\nDifferential Revision: D8817730", "body": "Summary:\nEvery context is uses a dedicated Gloo device object. Every device has a single I/O thread.\nIn order to use multiple physical devices in single process group you can create it with\nmultiple devices and it will load balance algorithms across them.\n\nThis is also useful if you want to maximize throughput on machines with NICs faster\nthan 25GbE (or so). Emperical evidence shows that a single core can sustain about\n25Gbit of RX traffic without fancy zero copy tricks. Therefore, in order to efficiently\nuse a 40GbE or even 100GbE NIC you need multiple I/O threads.\n\nDifferential Revision: D8817730\n"}