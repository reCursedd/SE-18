{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/407778579", "html_url": "https://github.com/pytorch/pytorch/issues/9778#issuecomment-407778579", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9778", "id": 407778579, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzc3ODU3OQ==", "user": {"login": "lemairecarl", "id": 13444373, "node_id": "MDQ6VXNlcjEzNDQ0Mzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/13444373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lemairecarl", "html_url": "https://github.com/lemairecarl", "followers_url": "https://api.github.com/users/lemairecarl/followers", "following_url": "https://api.github.com/users/lemairecarl/following{/other_user}", "gists_url": "https://api.github.com/users/lemairecarl/gists{/gist_id}", "starred_url": "https://api.github.com/users/lemairecarl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lemairecarl/subscriptions", "organizations_url": "https://api.github.com/users/lemairecarl/orgs", "repos_url": "https://api.github.com/users/lemairecarl/repos", "events_url": "https://api.github.com/users/lemairecarl/events{/privacy}", "received_events_url": "https://api.github.com/users/lemairecarl/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-25T14:40:57Z", "updated_at": "2018-07-25T14:40:57Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Are you sure? What bothers me the most is this:</p>\n<div class=\"highlight highlight-source-python\"><pre>In[<span class=\"pl-c1\">57</span>]: a <span class=\"pl-k\">=</span> torch.ones(<span class=\"pl-c1\">2</span>)\nIn[<span class=\"pl-c1\">58</span>]: a[m].clamp_(<span class=\"pl-v\">min</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2</span>)  <span class=\"pl-c\"><span class=\"pl-c\">#</span> in-place</span>\nOut[<span class=\"pl-c1\">58</span>]: tensor([ <span class=\"pl-c1\">2</span>.])\nIn[<span class=\"pl-c1\">59</span>]: a\nOut[<span class=\"pl-c1\">59</span>]: tensor([ <span class=\"pl-c1\">1</span>.,  <span class=\"pl-c1\">1</span>.])\nIn[<span class=\"pl-c1\">60</span>]: a[m] <span class=\"pl-k\">=</span> a[m].clamp(<span class=\"pl-v\">min</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">2</span>)  <span class=\"pl-c\"><span class=\"pl-c\">#</span> out-of-place + assignment</span>\nIn[<span class=\"pl-c1\">61</span>]: a\nOut[<span class=\"pl-c1\">61</span>]: tensor([ <span class=\"pl-c1\">2</span>.,  <span class=\"pl-c1\">1</span>.])</pre></div>\n<p>If the second method above works, I think the first one (in-place) should also work. Also, the in-place method makes the code a bit cleaner.</p>\n<p>I will add this snippet to the issue message.</p>", "body_text": "Are you sure? What bothers me the most is this:\nIn[57]: a = torch.ones(2)\nIn[58]: a[m].clamp_(min=2)  # in-place\nOut[58]: tensor([ 2.])\nIn[59]: a\nOut[59]: tensor([ 1.,  1.])\nIn[60]: a[m] = a[m].clamp(min=2)  # out-of-place + assignment\nIn[61]: a\nOut[61]: tensor([ 2.,  1.])\nIf the second method above works, I think the first one (in-place) should also work. Also, the in-place method makes the code a bit cleaner.\nI will add this snippet to the issue message.", "body": "Are you sure? What bothers me the most is this:\r\n\r\n```python\r\nIn[57]: a = torch.ones(2)\r\nIn[58]: a[m].clamp_(min=2)  # in-place\r\nOut[58]: tensor([ 2.])\r\nIn[59]: a\r\nOut[59]: tensor([ 1.,  1.])\r\nIn[60]: a[m] = a[m].clamp(min=2)  # out-of-place + assignment\r\nIn[61]: a\r\nOut[61]: tensor([ 2.,  1.])\r\n```\r\n\r\nIf the second method above works, I think the first one (in-place) should also work. Also, the in-place method makes the code a bit cleaner.\r\n\r\nI will add this snippet to the issue message."}