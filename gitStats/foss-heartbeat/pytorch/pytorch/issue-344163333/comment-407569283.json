{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/407569283", "html_url": "https://github.com/pytorch/pytorch/issues/9778#issuecomment-407569283", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9778", "id": 407569283, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzU2OTI4Mw==", "user": {"login": "t-vi", "id": 20787943, "node_id": "MDQ6VXNlcjIwNzg3OTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/20787943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-vi", "html_url": "https://github.com/t-vi", "followers_url": "https://api.github.com/users/t-vi/followers", "following_url": "https://api.github.com/users/t-vi/following{/other_user}", "gists_url": "https://api.github.com/users/t-vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-vi/subscriptions", "organizations_url": "https://api.github.com/users/t-vi/orgs", "repos_url": "https://api.github.com/users/t-vi/repos", "events_url": "https://api.github.com/users/t-vi/events{/privacy}", "received_events_url": "https://api.github.com/users/t-vi/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-24T22:13:05Z", "updated_at": "2018-07-24T22:15:10Z", "author_association": "CONTRIBUTOR", "body_html": "<p>The fundamental reason you're seeing this is that a[m] and a[[0]] is a new tensor with elements copied from a and a[0] is a view of a.</p>\n<p>Numpy does very tricky things to support a[m] and a[[0]] on the left hand side of assignments:</p>\n<pre><code>a = numpy.random.randn(10)\na[a&gt;0] = 1\nprint(a) # a has 1\nb = numpy.random.randn(10)\nc = b[b&gt;0]\nc[:] = 1\nprint (b) # b won't have 1\n</code></pre>\n<p>This is probably some \"lazy instantiation\" trick, or so, but I didn't look.</p>", "body_text": "The fundamental reason you're seeing this is that a[m] and a[[0]] is a new tensor with elements copied from a and a[0] is a view of a.\nNumpy does very tricky things to support a[m] and a[[0]] on the left hand side of assignments:\na = numpy.random.randn(10)\na[a>0] = 1\nprint(a) # a has 1\nb = numpy.random.randn(10)\nc = b[b>0]\nc[:] = 1\nprint (b) # b won't have 1\n\nThis is probably some \"lazy instantiation\" trick, or so, but I didn't look.", "body": "The fundamental reason you're seeing this is that a[m] and a[[0]] is a new tensor with elements copied from a and a[0] is a view of a.\r\n\r\nNumpy does very tricky things to support a[m] and a[[0]] on the left hand side of assignments:\r\n```\r\na = numpy.random.randn(10)\r\na[a>0] = 1\r\nprint(a) # a has 1\r\nb = numpy.random.randn(10)\r\nc = b[b>0]\r\nc[:] = 1\r\nprint (b) # b won't have 1\r\n```\r\nThis is probably some \"lazy instantiation\" trick, or so, but I didn't look."}