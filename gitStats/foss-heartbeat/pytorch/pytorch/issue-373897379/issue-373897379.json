{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13116", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13116/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13116/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13116/events", "html_url": "https://github.com/pytorch/pytorch/issues/13116", "id": 373897379, "node_id": "MDU6SXNzdWUzNzM4OTczNzk=", "number": 13116, "title": "[caffe2] Improve build_android experience", "user": {"login": "t-vi", "id": 20787943, "node_id": "MDQ6VXNlcjIwNzg3OTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/20787943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-vi", "html_url": "https://github.com/t-vi", "followers_url": "https://api.github.com/users/t-vi/followers", "following_url": "https://api.github.com/users/t-vi/following{/other_user}", "gists_url": "https://api.github.com/users/t-vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-vi/subscriptions", "organizations_url": "https://api.github.com/users/t-vi/orgs", "repos_url": "https://api.github.com/users/t-vi/repos", "events_url": "https://api.github.com/users/t-vi/events{/privacy}", "received_events_url": "https://api.github.com/users/t-vi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-25T11:18:22Z", "updated_at": "2018-11-23T08:48:34Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"rocket\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f680.png\">\ud83d\ude80</g-emoji> Feature</h2>\n<p>It would be nice to make it easier to build android libraries for caffe2.</p>\n<h2>Motivation</h2>\n<p>I recently built the AICamera example with recent android studio. The result and steps are here:</p>\n<p><a href=\"https://github.com/t-vi/AICamera/\">https://github.com/t-vi/AICamera/</a></p>\n<h2>Pitch</h2>\n<p>Based on the feedback I got on the first day after mentioning this on the PyTorch slack, there are more people who have been trying this and had less success, even though I'd think they're pretty good with PyTorch in general.</p>\n<ul>\n<li>To facilitate android x86 building, add a switch to disable AVX independent of detection.<br>\n(Or make it work on android, but I guess android x86 is debugging mostly anyway.)</li>\n<li>Make the build output path include the architecture.</li>\n<li>Default to clang to adapt to what android seems to be doing toolchain-wise.</li>\n<li>Add some instructions to build and copy the libs + includes.</li>\n</ul>\n<h2>Alternatives</h2>\n<ul>\n<li>Keep it a secret black art and find a business model helping people on a case by case basis.</li>\n<li>Build libtorch for android and use that.</li>\n</ul>\n<h2>Additional context</h2>\n<p>The other changes in my fork might be the basis for a PR for the AICamera repo and an update to the tutorial once this is merged.</p>\n<p>Needless to say, I would submit the PR.</p>", "body_text": "\ud83d\ude80 Feature\nIt would be nice to make it easier to build android libraries for caffe2.\nMotivation\nI recently built the AICamera example with recent android studio. The result and steps are here:\nhttps://github.com/t-vi/AICamera/\nPitch\nBased on the feedback I got on the first day after mentioning this on the PyTorch slack, there are more people who have been trying this and had less success, even though I'd think they're pretty good with PyTorch in general.\n\nTo facilitate android x86 building, add a switch to disable AVX independent of detection.\n(Or make it work on android, but I guess android x86 is debugging mostly anyway.)\nMake the build output path include the architecture.\nDefault to clang to adapt to what android seems to be doing toolchain-wise.\nAdd some instructions to build and copy the libs + includes.\n\nAlternatives\n\nKeep it a secret black art and find a business model helping people on a case by case basis.\nBuild libtorch for android and use that.\n\nAdditional context\nThe other changes in my fork might be the basis for a PR for the AICamera repo and an update to the tutorial once this is merged.\nNeedless to say, I would submit the PR.", "body": "## \ud83d\ude80 Feature\r\n\r\nIt would be nice to make it easier to build android libraries for caffe2.\r\n\r\n## Motivation\r\n\r\nI recently built the AICamera example with recent android studio. The result and steps are here:\r\n\r\nhttps://github.com/t-vi/AICamera/\r\n\r\n## Pitch\r\n\r\nBased on the feedback I got on the first day after mentioning this on the PyTorch slack, there are more people who have been trying this and had less success, even though I'd think they're pretty good with PyTorch in general.\r\n\r\n- To facilitate android x86 building, add a switch to disable AVX independent of detection.\r\n  (Or make it work on android, but I guess android x86 is debugging mostly anyway.)\r\n- Make the build output path include the architecture.\r\n- Default to clang to adapt to what android seems to be doing toolchain-wise.\r\n- Add some instructions to build and copy the libs + includes.\r\n\r\n## Alternatives\r\n\r\n- Keep it a secret black art and find a business model helping people on a case by case basis.\r\n- Build libtorch for android and use that.\r\n\r\n## Additional context\r\n\r\nThe other changes in my fork might be the basis for a PR for the AICamera repo and an update to the tutorial once this is merged.\r\n\r\nNeedless to say, I would submit the PR."}