{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/147983852", "pull_request_review_id": 73154833, "id": 147983852, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0Nzk4Mzg1Mg==", "diff_hunk": "@@ -273,6 +288,19 @@ def run(self):\n             'torch/lib/build/ATen/ATen/Declarations.yaml',\n             jit_gen_dir)\n \n+        if IS_WINDOWS:\n+            build_temp = self.build_temp\n+            build_dir = 'torch/csrc'\n+\n+            ext_filename = self.get_ext_filename('_C')\n+            lib_filename = '.'.join(ext_filename.split('.')[:-1]) + '.lib'\n+\n+            _C_LIB = os.path.join(build_temp, build_dir, lib_filename).replace('\\\\', '/')", "path": "setup.py", "position": 70, "original_position": 71, "commit_id": "bb39f23252a1ccd7465eb20a76c4de3d4ea80f52", "original_commit_id": "1e67d6b96864f48bcfbcfba92b894dc6300dddb4", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "Can you explain what's going on in here? Setting some globals only inside one of the commands seems weird. It might work for configurations that run all of them in certain order, but will fail if someone runs a subset manually.\r\n\r\nOn the other hand, I'm unsure why do they need to be `global`", "created_at": "2017-10-31T12:53:43Z", "updated_at": "2018-11-23T15:35:49Z", "html_url": "https://github.com/pytorch/pytorch/pull/2941#discussion_r147983852", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2941", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/147983852"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2941#discussion_r147983852"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2941"}}, "body_html": "<p>Can you explain what's going on in here? Setting some globals only inside one of the commands seems weird. It might work for configurations that run all of them in certain order, but will fail if someone runs a subset manually.</p>\n<p>On the other hand, I'm unsure why do they need to be <code>global</code></p>", "body_text": "Can you explain what's going on in here? Setting some globals only inside one of the commands seems weird. It might work for configurations that run all of them in certain order, but will fail if someone runs a subset manually.\nOn the other hand, I'm unsure why do they need to be global"}