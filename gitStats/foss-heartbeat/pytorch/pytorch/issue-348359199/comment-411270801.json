{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/411270801", "html_url": "https://github.com/pytorch/pytorch/issues/10303#issuecomment-411270801", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10303", "id": 411270801, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTI3MDgwMQ==", "user": {"login": "Ai-is-light", "id": 11785119, "node_id": "MDQ6VXNlcjExNzg1MTE5", "avatar_url": "https://avatars2.githubusercontent.com/u/11785119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ai-is-light", "html_url": "https://github.com/Ai-is-light", "followers_url": "https://api.github.com/users/Ai-is-light/followers", "following_url": "https://api.github.com/users/Ai-is-light/following{/other_user}", "gists_url": "https://api.github.com/users/Ai-is-light/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ai-is-light/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ai-is-light/subscriptions", "organizations_url": "https://api.github.com/users/Ai-is-light/orgs", "repos_url": "https://api.github.com/users/Ai-is-light/repos", "events_url": "https://api.github.com/users/Ai-is-light/events{/privacy}", "received_events_url": "https://api.github.com/users/Ai-is-light/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-08T03:15:11Z", "updated_at": "2018-08-08T03:15:11Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5652049\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zou3519\">@zou3519</a> Thanks! Looking forward to your any replies.<br>\nThe code and dataset were the same as before, but I got the following error. However they could work well about a half mouth ago.<br>\nthe pytorch's version is 0.3.1, BUT I find the version 0.4.0 also meeting with the same error<br>\nraceback (most recent call last):<br>\nFile \"main.py\", line 341, in<br>\nmain()<br>\nFile \"main.py\", line 141, in main<br>\ntrain(train_loader, model, criterion, optimizer, epoch)<br>\nFile \"main.py\", line 192, in train<br>\nprec1, prec5 = accuracy(output.data, target, topk=(1,5))<br>\nFile \"main.py\", line 329, in accuracy<br>\n_, pred = output.topk(maxk, 1, True, True)<br>\nRuntimeError: invalid argument 5: k not in range for dimension at /pytorch/torch/lib/THC/generic/THCTensorTopK.cu:21<br>\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [0,0,0] Assertion t &gt;= 0 &amp;&amp; t &lt; n_classes failed.<br>\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [1,0,0] Assertion t &gt;= 0 &amp;&amp; t &lt; n_classes failed.<br>\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [2,0,0] Assertion t &gt;= 0 &amp;&amp; t &lt; n_classes failed.<br>\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [3,0,0] Assertion t &gt;= 0 &amp;&amp; t &lt; n_classes failed.<br>\nTHCudaCheck FAIL file=/pytorch/torch/lib/THC/generic/THCStorage.c line=184 error=59 : device-side assert triggered<br>\nterminate called after throwing an instance of 'std::runtime_error'<br>\nwhat(): cuda runtime error (59) : device-side assert triggered at /pytorch/torch/lib/THC/generic/THCStorage.c:184<br>\nAborted (core dumped)</p>", "body_text": "@zou3519 Thanks! Looking forward to your any replies.\nThe code and dataset were the same as before, but I got the following error. However they could work well about a half mouth ago.\nthe pytorch's version is 0.3.1, BUT I find the version 0.4.0 also meeting with the same error\nraceback (most recent call last):\nFile \"main.py\", line 341, in\nmain()\nFile \"main.py\", line 141, in main\ntrain(train_loader, model, criterion, optimizer, epoch)\nFile \"main.py\", line 192, in train\nprec1, prec5 = accuracy(output.data, target, topk=(1,5))\nFile \"main.py\", line 329, in accuracy\n_, pred = output.topk(maxk, 1, True, True)\nRuntimeError: invalid argument 5: k not in range for dimension at /pytorch/torch/lib/THC/generic/THCTensorTopK.cu:21\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [0,0,0] Assertion t >= 0 && t < n_classes failed.\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [1,0,0] Assertion t >= 0 && t < n_classes failed.\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [2,0,0] Assertion t >= 0 && t < n_classes failed.\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [3,0,0] Assertion t >= 0 && t < n_classes failed.\nTHCudaCheck FAIL file=/pytorch/torch/lib/THC/generic/THCStorage.c line=184 error=59 : device-side assert triggered\nterminate called after throwing an instance of 'std::runtime_error'\nwhat(): cuda runtime error (59) : device-side assert triggered at /pytorch/torch/lib/THC/generic/THCStorage.c:184\nAborted (core dumped)", "body": "@zou3519 Thanks! Looking forward to your any replies.\r\nThe code and dataset were the same as before, but I got the following error. However they could work well about a half mouth ago.\r\nthe pytorch's version is 0.3.1, BUT I find the version 0.4.0 also meeting with the same error\r\nraceback (most recent call last):\r\nFile \"main.py\", line 341, in \r\nmain()\r\nFile \"main.py\", line 141, in main\r\ntrain(train_loader, model, criterion, optimizer, epoch)\r\nFile \"main.py\", line 192, in train\r\nprec1, prec5 = accuracy(output.data, target, topk=(1,5))\r\nFile \"main.py\", line 329, in accuracy\r\n_, pred = output.topk(maxk, 1, True, True)\r\nRuntimeError: invalid argument 5: k not in range for dimension at /pytorch/torch/lib/THC/generic/THCTensorTopK.cu:21\r\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [0,0,0] Assertion t >= 0 && t < n_classes failed.\r\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [1,0,0] Assertion t >= 0 && t < n_classes failed.\r\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [2,0,0] Assertion t >= 0 && t < n_classes failed.\r\n/pytorch/torch/lib/THCUNN/ClassNLLCriterion.cu:101: void cunn_ClassNLLCriterion_updateOutput_kernel(Dtype *, Dtype *, Dtype *, long *, Dtype *, int, int, int, int, long) [with Dtype = float, Acctype = float]: block: [0,0,0], thread: [3,0,0] Assertion t >= 0 && t < n_classes failed.\r\nTHCudaCheck FAIL file=/pytorch/torch/lib/THC/generic/THCStorage.c line=184 error=59 : device-side assert triggered\r\nterminate called after throwing an instance of 'std::runtime_error'\r\nwhat(): cuda runtime error (59) : device-side assert triggered at /pytorch/torch/lib/THC/generic/THCStorage.c:184\r\nAborted (core dumped)"}