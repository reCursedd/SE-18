{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7826", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7826/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7826/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7826/events", "html_url": "https://github.com/pytorch/pytorch/issues/7826", "id": 326299374, "node_id": "MDU6SXNzdWUzMjYyOTkzNzQ=", "number": 7826, "title": "[Caffe2]  Building From Source Error : module 'enum' has no attribute 'IntFlag'", "user": {"login": "Hammania689", "id": 20171200, "node_id": "MDQ6VXNlcjIwMTcxMjAw", "avatar_url": "https://avatars3.githubusercontent.com/u/20171200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hammania689", "html_url": "https://github.com/Hammania689", "followers_url": "https://api.github.com/users/Hammania689/followers", "following_url": "https://api.github.com/users/Hammania689/following{/other_user}", "gists_url": "https://api.github.com/users/Hammania689/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hammania689/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hammania689/subscriptions", "organizations_url": "https://api.github.com/users/Hammania689/orgs", "repos_url": "https://api.github.com/users/Hammania689/repos", "events_url": "https://api.github.com/users/Hammania689/events{/privacy}", "received_events_url": "https://api.github.com/users/Hammania689/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-24T21:19:43Z", "updated_at": "2018-05-28T02:18:41Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I have followed the installation instructions provided from Caffe2 website, however when I attempt to build I run into this error. I do not understand why this is happening?</p>\n<h2>Here's My Output When I Run <code>sudo make install</code></h2>\n<pre><code>[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/smallfile.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/multiline.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/current.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/cpulist.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/processors.c.o\n[ 20%] Linking C static library ../../lib/libcpuinfo.a\n[ 20%] Built target cpuinfo\n[ 21%] Generating src/x86_64-fma/2d-fourier-8x8.py.o\nTraceback (most recent call last):\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 183, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 142, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 109, in _get_module_details\n    __import__(pkg_name)\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/__init__.py\", line 25, in &lt;module&gt;\n    from peachpy.x86_64.function import Function, LocalVariable\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/function.py\", line 16, in &lt;module&gt;\n    import peachpy.x86_64.avx\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/avx.py\", line 4, in &lt;module&gt;\n    import inspect\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/inspect.py\", line 41, in &lt;module&gt;\n    import linecache\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/linecache.py\", line 11, in &lt;module&gt;\n    import tokenize\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/tokenize.py\", line 33, in &lt;module&gt;\n    import re\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/re.py\", line 142, in &lt;module&gt;\n    class RegexFlag(enum.IntFlag):\nAttributeError: module 'enum' has no attribute 'IntFlag'\nconfu-deps/NNPACK/CMakeFiles/nnpack.dir/build.make:61: recipe for target 'confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o' failed\nmake[2]: *** [confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o] Error 1\nCMakeFiles/Makefile2:343: recipe for target 'confu-deps/NNPACK/CMakeFiles/nnpack.dir/all' failed\nmake[1]: *** [confu-deps/NNPACK/CMakeFiles/nnpack.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>\n<h2>System Info</h2>\n<p>OS: Ubuntu 16.04.4 LTS<br>\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609<br>\nCMake version: version 3.5.1</p>\n<p>Python version: 2.7<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.0.176<br>\nGPU models and configuration: GPU 0: TITAN X (Pascal)<br>\nNvidia driver version: 384.81<br>\ncuDNN version: Probably one of the following:<br>\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4<br>\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a</p>\n<p>Versions of relevant libraries:<br>\n[pip] numpy (1.14.3)<br>\n[pip] torch (0.4.0)<br>\n[pip] torchvision (0.2.1)<br>\n[conda] cuda90                    1.0                  h6433d27_0    pytorch<br>\n[conda] pytorch                   0.4.0           py27_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch<br>\n[conda] torchvision               0.2.1                    py27_1    pytorch</p>\n<p><strong>I am using Pyenv and Conda to manage my installation but I don't believe this is the issue for I have had success in past installations</strong></p>\n<h2>Goal of Installation</h2>\n<p>I had successfully installed Caffe2 with Python3 but I want to install Detectron and there currently is no support for Python3 so I had to start from scratch.</p>\n<p>Can someone please help me fix this error or inform me of a better method to install Caffe2 and Detectron?<br>\nThank you for your time!</p>", "body_text": "I have followed the installation instructions provided from Caffe2 website, however when I attempt to build I run into this error. I do not understand why this is happening?\nHere's My Output When I Run sudo make install\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/smallfile.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/multiline.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/current.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/cpulist.c.o\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/processors.c.o\n[ 20%] Linking C static library ../../lib/libcpuinfo.a\n[ 20%] Built target cpuinfo\n[ 21%] Generating src/x86_64-fma/2d-fourier-8x8.py.o\nTraceback (most recent call last):\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 183, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 142, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 109, in _get_module_details\n    __import__(pkg_name)\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/__init__.py\", line 25, in <module>\n    from peachpy.x86_64.function import Function, LocalVariable\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/function.py\", line 16, in <module>\n    import peachpy.x86_64.avx\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/avx.py\", line 4, in <module>\n    import inspect\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/inspect.py\", line 41, in <module>\n    import linecache\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/linecache.py\", line 11, in <module>\n    import tokenize\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/tokenize.py\", line 33, in <module>\n    import re\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/re.py\", line 142, in <module>\n    class RegexFlag(enum.IntFlag):\nAttributeError: module 'enum' has no attribute 'IntFlag'\nconfu-deps/NNPACK/CMakeFiles/nnpack.dir/build.make:61: recipe for target 'confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o' failed\nmake[2]: *** [confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o] Error 1\nCMakeFiles/Makefile2:343: recipe for target 'confu-deps/NNPACK/CMakeFiles/nnpack.dir/all' failed\nmake[1]: *** [confu-deps/NNPACK/CMakeFiles/nnpack.dir/all] Error 2\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\n\nSystem Info\nOS: Ubuntu 16.04.4 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609\nCMake version: version 3.5.1\nPython version: 2.7\nIs CUDA available: Yes\nCUDA runtime version: 9.0.176\nGPU models and configuration: GPU 0: TITAN X (Pascal)\nNvidia driver version: 384.81\ncuDNN version: Probably one of the following:\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\nVersions of relevant libraries:\n[pip] numpy (1.14.3)\n[pip] torch (0.4.0)\n[pip] torchvision (0.2.1)\n[conda] cuda90                    1.0                  h6433d27_0    pytorch\n[conda] pytorch                   0.4.0           py27_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch\n[conda] torchvision               0.2.1                    py27_1    pytorch\nI am using Pyenv and Conda to manage my installation but I don't believe this is the issue for I have had success in past installations\nGoal of Installation\nI had successfully installed Caffe2 with Python3 but I want to install Detectron and there currently is no support for Python3 so I had to start from scratch.\nCan someone please help me fix this error or inform me of a better method to install Caffe2 and Detectron?\nThank you for your time!", "body": "I have followed the installation instructions provided from Caffe2 website, however when I attempt to build I run into this error. I do not understand why this is happening? \r\n\r\n## Here's My Output When I Run `sudo make install` \r\n\r\n```\r\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/smallfile.c.o\r\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/multiline.c.o\r\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/current.c.o\r\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/cpulist.c.o\r\n[ 19%] Building C object confu-deps/cpuinfo/CMakeFiles/cpuinfo.dir/src/linux/processors.c.o\r\n[ 20%] Linking C static library ../../lib/libcpuinfo.a\r\n[ 20%] Built target cpuinfo\r\n[ 21%] Generating src/x86_64-fma/2d-fourier-8x8.py.o\r\nTraceback (most recent call last):\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 183, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 142, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/runpy.py\", line 109, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/__init__.py\", line 25, in <module>\r\n    from peachpy.x86_64.function import Function, LocalVariable\r\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/function.py\", line 16, in <module>\r\n    import peachpy.x86_64.avx\r\n  File \"/home/hameed/pytorch/third_party/python-peachpy/peachpy/x86_64/avx.py\", line 4, in <module>\r\n    import inspect\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/inspect.py\", line 41, in <module>\r\n    import linecache\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/linecache.py\", line 11, in <module>\r\n    import tokenize\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/tokenize.py\", line 33, in <module>\r\n    import re\r\n  File \"/home/hameed/.pyenv/versions/3.6.5/lib/python3.6/re.py\", line 142, in <module>\r\n    class RegexFlag(enum.IntFlag):\r\nAttributeError: module 'enum' has no attribute 'IntFlag'\r\nconfu-deps/NNPACK/CMakeFiles/nnpack.dir/build.make:61: recipe for target 'confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o' failed\r\nmake[2]: *** [confu-deps/NNPACK/src/x86_64-fma/2d-fourier-8x8.py.o] Error 1\r\nCMakeFiles/Makefile2:343: recipe for target 'confu-deps/NNPACK/CMakeFiles/nnpack.dir/all' failed\r\nmake[1]: *** [confu-deps/NNPACK/CMakeFiles/nnpack.dir/all] Error 2\r\nMakefile:138: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\n\r\n## System Info\r\nOS: Ubuntu 16.04.4 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609\r\nCMake version: version 3.5.1\r\n\r\nPython version: 2.7\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.0.176\r\nGPU models and configuration: GPU 0: TITAN X (Pascal)\r\nNvidia driver version: 384.81\r\ncuDNN version: Probably one of the following:\r\n/usr/lib/x86_64-linux-gnu/libcudnn.so.7.1.4\r\n/usr/lib/x86_64-linux-gnu/libcudnn_static_v7.a\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy (1.14.3)\r\n[pip] torch (0.4.0)\r\n[pip] torchvision (0.2.1)\r\n[conda] cuda90                    1.0                  h6433d27_0    pytorch\r\n[conda] pytorch                   0.4.0           py27_cuda9.0.176_cudnn7.1.2_1  [cuda90]  pytorch\r\n[conda] torchvision               0.2.1                    py27_1    pytorch\r\n\r\n\r\n**I am using Pyenv and Conda to manage my installation but I don't believe this is the issue for I have had success in past installations**\r\n\r\n## Goal of Installation\r\nI had successfully installed Caffe2 with Python3 but I want to install Detectron and there currently is no support for Python3 so I had to start from scratch. \r\n\r\nCan someone please help me fix this error or inform me of a better method to install Caffe2 and Detectron?\r\nThank you for your time!"}