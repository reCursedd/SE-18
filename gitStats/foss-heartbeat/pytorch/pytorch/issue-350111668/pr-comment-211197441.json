{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/211197441", "pull_request_review_id": 147566738, "id": 211197441, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMTE5NzQ0MQ==", "diff_hunk": "@@ -539,19 +539,27 @@ if(BUILD_CAFFE2 OR BUILD_ATEN)\n     set(Caffe2_HIP_DEPENDENCY_LIBS\n       ${rocrand_LIBRARIES} ${hiprand_LIBRARIES} ${PYTORCH_HIP_HCC_LIBRARIES} ${PYTORCH_MIOPEN_LIBRARIES})\n     # Additional libraries required by PyTorch AMD that aren't used by Caffe2 (not in Caffe2's docker image)\n-    if(BUILD_ATEN)\n+    if(NOT ANDROID AND NOT IOS)\n       set(Caffe2_HIP_DEPENDENCY_LIBS ${Caffe2_HIP_DEPENDENCY_LIBS} ${hipsparse_LIBRARIES})\n     endif()\n     # TODO: There is a bug in rocblas's cmake files that exports the wrong targets name in ${rocblas_LIBRARIES}\n     list(APPEND Caffe2_HIP_DEPENDENCY_LIBS\n       roc::rocblas)\n+\n+    # TODO: Currently pytorch hipify script uses a feature called\n+    # \"disabled_modules\" that effectively ifdef out a file, but\n+    # without doing extra processing in the callers, which results in\n+    # some unresolved symbols in the shared lib\n+    # (libcaffe2_hip.so). Remove this when all disabled_modules are\n+    # eliminated.\n+    set(CMAKE_EXE_LINKER_FLAGS \"-Wl,--unresolved-symbols=ignore-in-shared-libs ${CMAKE_EXE_LINKER_FLAGS}\")", "path": "cmake/Dependencies.cmake", "position": 36, "original_position": 36, "commit_id": "2e93568b090c9859102f4476ac9a9fa8c6ff5bcf", "original_commit_id": "487b180d0977e6f4a279dedc39ca5fa4971c8ff9", "user": {"login": "bddppq", "id": 9300575, "node_id": "MDQ6VXNlcjkzMDA1NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9300575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bddppq", "html_url": "https://github.com/bddppq", "followers_url": "https://api.github.com/users/bddppq/followers", "following_url": "https://api.github.com/users/bddppq/following{/other_user}", "gists_url": "https://api.github.com/users/bddppq/gists{/gist_id}", "starred_url": "https://api.github.com/users/bddppq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bddppq/subscriptions", "organizations_url": "https://api.github.com/users/bddppq/orgs", "repos_url": "https://api.github.com/users/bddppq/repos", "events_url": "https://api.github.com/users/bddppq/events{/privacy}", "received_events_url": "https://api.github.com/users/bddppq/received_events", "type": "User", "site_admin": false}, "body": "@Jorghi12 @iotamudelta Please remember to remove this once the unresolved symbols are eliminated.", "created_at": "2018-08-20T09:33:03Z", "updated_at": "2018-11-23T15:49:38Z", "html_url": "https://github.com/pytorch/pytorch/pull/10469#discussion_r211197441", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/10469", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/211197441"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/10469#discussion_r211197441"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/10469"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8586039\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Jorghi12\">@Jorghi12</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=12565466\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/iotamudelta\">@iotamudelta</a> Please remember to remove this once the unresolved symbols are eliminated.</p>", "body_text": "@Jorghi12 @iotamudelta Please remember to remove this once the unresolved symbols are eliminated."}