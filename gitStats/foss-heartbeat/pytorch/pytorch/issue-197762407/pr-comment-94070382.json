{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/94070382", "pull_request_review_id": 14601040, "id": 94070382, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MDcwMzgy", "diff_hunk": "@@ -26,27 +26,35 @@ union Constant\n   }\n };\n \n+static inline void CHECK_ARG(bool cond, const char* msg) {\n+  if (!cond) {\n+    throw std::runtime_error(msg);\n+  }\n+}\n+\n void setTensorDescriptor(TensorDescriptor& desc, cudnnDataType_t dataType, THVoidTensor* tensor, int groups)\n {\n-  int inputSize[4];\n-  int inputStride[4];\n-  for (int i = 0; i < 4; ++i) {\n+  CHECK_ARG(tensor->nDimension <= 5, \"invalid tensor\");\n+  int inputSize[5];\n+  int inputStride[5];", "path": "torch/csrc/cudnn/Conv.cpp", "position": null, "original_position": 17, "commit_id": "9a0e8be419f6812c783a021b465762f42b7dcc43", "original_commit_id": "0f26effe7a517f8f3af1c2060b87e0e39d535c42", "user": {"login": "colesbury", "id": 655866, "node_id": "MDQ6VXNlcjY1NTg2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/655866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colesbury", "html_url": "https://github.com/colesbury", "followers_url": "https://api.github.com/users/colesbury/followers", "following_url": "https://api.github.com/users/colesbury/following{/other_user}", "gists_url": "https://api.github.com/users/colesbury/gists{/gist_id}", "starred_url": "https://api.github.com/users/colesbury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colesbury/subscriptions", "organizations_url": "https://api.github.com/users/colesbury/orgs", "repos_url": "https://api.github.com/users/colesbury/repos", "events_url": "https://api.github.com/users/colesbury/events{/privacy}", "received_events_url": "https://api.github.com/users/colesbury/received_events", "type": "User", "site_admin": false}, "body": "We don't actually need to fill in the ones below. I'll remove them. We just need capacity for the largest possible number of dimensions and the for the first nDimension to be valid. ", "created_at": "2016-12-28T19:47:38Z", "updated_at": "2018-11-23T15:32:07Z", "html_url": "https://github.com/pytorch/pytorch/pull/359#discussion_r94070382", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/359", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/94070382"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/359#discussion_r94070382"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/359"}}, "body_html": "<p>We don't actually need to fill in the ones below. I'll remove them. We just need capacity for the largest possible number of dimensions and the for the first nDimension to be valid.</p>", "body_text": "We don't actually need to fill in the ones below. I'll remove them. We just need capacity for the largest possible number of dimensions and the for the first nDimension to be valid.", "in_reply_to_id": 94062288}