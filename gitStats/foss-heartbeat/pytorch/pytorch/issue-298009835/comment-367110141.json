{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/367110141", "html_url": "https://github.com/pytorch/pytorch/issues/5285#issuecomment-367110141", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5285", "id": 367110141, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzExMDE0MQ==", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-20T20:34:31Z", "updated_at": "2018-02-20T20:34:31Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Hitting the following now:</p>\n<pre><code>Traceback (most recent call last):\n  File \"srgan.py\", line 22, in &lt;module&gt;\n    from torchlight.nn.train_callbacks import ModelSaverCallback, ReduceLROnPlateau, TensorboardVisualizerCallback\n  File \"/private/home/rzou/Torchlight/examples/torchlight/nn/train_callbacks.py\", line 9, in &lt;module&gt;\n    from tensorboardX import SummaryWriter\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/__init__.py\", line 4, in &lt;module&gt;\n    from .writer import FileWriter, SummaryWriter\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/writer.py\", line 25, in &lt;module&gt;\n    from .src import summary_pb2\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/src/summary_pb2.py\", line 25, in &lt;module&gt;\n    dependencies=[tensorboard_dot_src_dot_tensor__pb2.DESCRIPTOR,])\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/google/protobuf/descriptor.py\", line 829, in __new__\n    return _message.default_pool.AddSerializedFile(serialized_pb)\nTypeError: Couldn't build proto file into descriptor pool!\nInvalid proto descriptor for file \"tensorboard/src/summary.proto\":\n  tensorboard/src/summary.proto: A file with this name is already in the pool.\n</code></pre>\n<p>In your code,</p>\n<pre><code># TODO causes a memory leak on CPU\n# block_x3 = self.block_x3(block_x2)\n</code></pre>\n<p>What is the output of <code>block_x2.size()</code>? I'm thinking of just making a random input and sending it into a convolution and seeing if that causes an OOM.</p>", "body_text": "Hitting the following now:\nTraceback (most recent call last):\n  File \"srgan.py\", line 22, in <module>\n    from torchlight.nn.train_callbacks import ModelSaverCallback, ReduceLROnPlateau, TensorboardVisualizerCallback\n  File \"/private/home/rzou/Torchlight/examples/torchlight/nn/train_callbacks.py\", line 9, in <module>\n    from tensorboardX import SummaryWriter\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/__init__.py\", line 4, in <module>\n    from .writer import FileWriter, SummaryWriter\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/writer.py\", line 25, in <module>\n    from .src import summary_pb2\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/src/summary_pb2.py\", line 25, in <module>\n    dependencies=[tensorboard_dot_src_dot_tensor__pb2.DESCRIPTOR,])\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/google/protobuf/descriptor.py\", line 829, in __new__\n    return _message.default_pool.AddSerializedFile(serialized_pb)\nTypeError: Couldn't build proto file into descriptor pool!\nInvalid proto descriptor for file \"tensorboard/src/summary.proto\":\n  tensorboard/src/summary.proto: A file with this name is already in the pool.\n\nIn your code,\n# TODO causes a memory leak on CPU\n# block_x3 = self.block_x3(block_x2)\n\nWhat is the output of block_x2.size()? I'm thinking of just making a random input and sending it into a convolution and seeing if that causes an OOM.", "body": "Hitting the following now:\r\n```\r\nTraceback (most recent call last):\r\n  File \"srgan.py\", line 22, in <module>\r\n    from torchlight.nn.train_callbacks import ModelSaverCallback, ReduceLROnPlateau, TensorboardVisualizerCallback\r\n  File \"/private/home/rzou/Torchlight/examples/torchlight/nn/train_callbacks.py\", line 9, in <module>\r\n    from tensorboardX import SummaryWriter\r\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/__init__.py\", line 4, in <module>\r\n    from .writer import FileWriter, SummaryWriter\r\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/writer.py\", line 25, in <module>\r\n    from .src import summary_pb2\r\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/tensorboardX/src/summary_pb2.py\", line 25, in <module>\r\n    dependencies=[tensorboard_dot_src_dot_tensor__pb2.DESCRIPTOR,])\r\n  File \"/private/home/rzou/local/miniconda3/lib/python3.6/site-packages/google/protobuf/descriptor.py\", line 829, in __new__\r\n    return _message.default_pool.AddSerializedFile(serialized_pb)\r\nTypeError: Couldn't build proto file into descriptor pool!\r\nInvalid proto descriptor for file \"tensorboard/src/summary.proto\":\r\n  tensorboard/src/summary.proto: A file with this name is already in the pool.\r\n```\r\n\r\nIn your code,\r\n```\r\n# TODO causes a memory leak on CPU\r\n# block_x3 = self.block_x3(block_x2)\r\n```\r\nWhat is the output of `block_x2.size()`? I'm thinking of just making a random input and sending it into a convolution and seeing if that causes an OOM."}