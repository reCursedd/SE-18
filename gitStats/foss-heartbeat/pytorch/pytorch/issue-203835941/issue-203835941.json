{"url": "https://api.github.com/repos/pytorch/pytorch/issues/627", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/627/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/627/events", "html_url": "https://github.com/pytorch/pytorch/issues/627", "id": 203835941, "node_id": "MDU6SXNzdWUyMDM4MzU5NDE=", "number": 627, "title": "torch.cat bug/unexpected behavior", "user": {"login": "thuyen", "id": 4015328, "node_id": "MDQ6VXNlcjQwMTUzMjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4015328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thuyen", "html_url": "https://github.com/thuyen", "followers_url": "https://api.github.com/users/thuyen/followers", "following_url": "https://api.github.com/users/thuyen/following{/other_user}", "gists_url": "https://api.github.com/users/thuyen/gists{/gist_id}", "starred_url": "https://api.github.com/users/thuyen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thuyen/subscriptions", "organizations_url": "https://api.github.com/users/thuyen/orgs", "repos_url": "https://api.github.com/users/thuyen/repos", "events_url": "https://api.github.com/users/thuyen/events{/privacy}", "received_events_url": "https://api.github.com/users/thuyen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 491934870, "node_id": "MDU6TGFiZWw0OTE5MzQ4NzA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/dependency%20bug", "name": "dependency bug", "color": "b60205", "default": false}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-01-28T22:33:40Z", "updated_at": "2017-01-31T19:32:15Z", "closed_at": "2017-01-31T19:32:15Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I would expect <code>x</code> and <code>y</code> are the same in the following:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">import</span> torch\n\na0 <span class=\"pl-k\">=</span> np.reshape(np.arange(<span class=\"pl-c1\">24</span>), (<span class=\"pl-c1\">4</span>,<span class=\"pl-c1\">6</span>))\na1 <span class=\"pl-k\">=</span> np.transpose(a0)\n\nt1 <span class=\"pl-k\">=</span> torch.from_numpy(a1)\nx <span class=\"pl-k\">=</span> t1.unsqueeze(<span class=\"pl-c1\">0</span>)[<span class=\"pl-c1\">0</span>]\ny <span class=\"pl-k\">=</span> torch.cat([t1.unsqueeze(<span class=\"pl-c1\">0</span>)])[<span class=\"pl-c1\">0</span>]\n\n<span class=\"pl-c1\">print</span>(x)\n<span class=\"pl-c1\">print</span>(y)</pre></div>\n<p>But they're not:</p>\n<pre><code>x\n  0   6  12  18\n  1   7  13  19\n  2   8  14  20\n  3   9  15  21\n  4  10  16  22\n  5  11  17  23\n[torch.LongTensor of size 6x4]\n\ny\n  0   1   2   3\n  4   5   6   7\n  8   9  10  11\n 12  13  14  15\n 16  17  18  19\n 20  21  22  23\n[torch.LongTensor of size 6x4]\n</code></pre>", "body_text": "I would expect x and y are the same in the following:\nimport numpy as np\nimport torch\n\na0 = np.reshape(np.arange(24), (4,6))\na1 = np.transpose(a0)\n\nt1 = torch.from_numpy(a1)\nx = t1.unsqueeze(0)[0]\ny = torch.cat([t1.unsqueeze(0)])[0]\n\nprint(x)\nprint(y)\nBut they're not:\nx\n  0   6  12  18\n  1   7  13  19\n  2   8  14  20\n  3   9  15  21\n  4  10  16  22\n  5  11  17  23\n[torch.LongTensor of size 6x4]\n\ny\n  0   1   2   3\n  4   5   6   7\n  8   9  10  11\n 12  13  14  15\n 16  17  18  19\n 20  21  22  23\n[torch.LongTensor of size 6x4]", "body": "I would expect `x` and `y` are the same in the following:\r\n\r\n````python\r\nimport numpy as np\r\nimport torch\r\n\r\na0 = np.reshape(np.arange(24), (4,6))\r\na1 = np.transpose(a0)\r\n\r\nt1 = torch.from_numpy(a1)\r\nx = t1.unsqueeze(0)[0]\r\ny = torch.cat([t1.unsqueeze(0)])[0]\r\n\r\nprint(x)\r\nprint(y)\r\n````\r\n\r\nBut they're not:\r\n````\r\nx\r\n  0   6  12  18\r\n  1   7  13  19\r\n  2   8  14  20\r\n  3   9  15  21\r\n  4  10  16  22\r\n  5  11  17  23\r\n[torch.LongTensor of size 6x4]\r\n\r\ny\r\n  0   1   2   3\r\n  4   5   6   7\r\n  8   9  10  11\r\n 12  13  14  15\r\n 16  17  18  19\r\n 20  21  22  23\r\n[torch.LongTensor of size 6x4]\r\n````"}