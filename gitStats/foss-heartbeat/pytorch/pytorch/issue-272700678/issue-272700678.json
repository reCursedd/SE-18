{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3608", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3608/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3608/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3608/events", "html_url": "https://github.com/pytorch/pytorch/issues/3608", "id": 272700678, "node_id": "MDU6SXNzdWUyNzI3MDA2Nzg=", "number": 3608, "title": "binary cross entropy requires double tensor for target", "user": {"login": "Kuzphi", "id": 13776118, "node_id": "MDQ6VXNlcjEzNzc2MTE4", "avatar_url": "https://avatars1.githubusercontent.com/u/13776118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kuzphi", "html_url": "https://github.com/Kuzphi", "followers_url": "https://api.github.com/users/Kuzphi/followers", "following_url": "https://api.github.com/users/Kuzphi/following{/other_user}", "gists_url": "https://api.github.com/users/Kuzphi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kuzphi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kuzphi/subscriptions", "organizations_url": "https://api.github.com/users/Kuzphi/orgs", "repos_url": "https://api.github.com/users/Kuzphi/repos", "events_url": "https://api.github.com/users/Kuzphi/events{/privacy}", "received_events_url": "https://api.github.com/users/Kuzphi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-09T19:54:05Z", "updated_at": "2018-03-03T09:52:15Z", "closed_at": "2017-11-16T16:10:09Z", "author_association": "NONE", "body_html": "<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c1\">input</span> <span class=\"pl-k\">=</span> autograd.Variable(torch.randn(<span class=\"pl-c1\">3</span>), <span class=\"pl-v\">requires_grad</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>)\ntarget <span class=\"pl-k\">=</span> autograd.Variable(torch.LongTensor(<span class=\"pl-c1\">3</span>).random_(<span class=\"pl-c1\">2</span>))\nloss <span class=\"pl-k\">=</span> F.binary_cross_entropy(F.sigmoid(<span class=\"pl-c1\">input</span>), target)\nloss.backward()</pre></div>\n<pre><code>RuntimeError: Expected object of type Variable[torch.FloatTensor] but found type Variable[torch.LongTensor] for argument #1 'target'\n</code></pre>\n<p>in latest release, binary_cross_entropy requires double tensor rather than long tensor.<br>\nwhich does not make sense for cross entropy.</p>", "body_text": "input = autograd.Variable(torch.randn(3), requires_grad=True)\ntarget = autograd.Variable(torch.LongTensor(3).random_(2))\nloss = F.binary_cross_entropy(F.sigmoid(input), target)\nloss.backward()\nRuntimeError: Expected object of type Variable[torch.FloatTensor] but found type Variable[torch.LongTensor] for argument #1 'target'\n\nin latest release, binary_cross_entropy requires double tensor rather than long tensor.\nwhich does not make sense for cross entropy.", "body": "```python\r\ninput = autograd.Variable(torch.randn(3), requires_grad=True)\r\ntarget = autograd.Variable(torch.LongTensor(3).random_(2))\r\nloss = F.binary_cross_entropy(F.sigmoid(input), target)\r\nloss.backward()\r\n```\r\n\r\n```\r\nRuntimeError: Expected object of type Variable[torch.FloatTensor] but found type Variable[torch.LongTensor] for argument #1 'target'\r\n```\r\n\r\nin latest release, binary_cross_entropy requires double tensor rather than long tensor.\r\n which does not make sense for cross entropy. "}