{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8957", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8957/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8957/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8957/events", "html_url": "https://github.com/pytorch/pytorch/issues/8957", "id": 336346392, "node_id": "MDU6SXNzdWUzMzYzNDYzOTI=", "number": 8957, "title": "BatchSampler docstring is outdated", "user": {"login": "dmitriy-serdyuk", "id": 2872615, "node_id": "MDQ6VXNlcjI4NzI2MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2872615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmitriy-serdyuk", "html_url": "https://github.com/dmitriy-serdyuk", "followers_url": "https://api.github.com/users/dmitriy-serdyuk/followers", "following_url": "https://api.github.com/users/dmitriy-serdyuk/following{/other_user}", "gists_url": "https://api.github.com/users/dmitriy-serdyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmitriy-serdyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmitriy-serdyuk/subscriptions", "organizations_url": "https://api.github.com/users/dmitriy-serdyuk/orgs", "repos_url": "https://api.github.com/users/dmitriy-serdyuk/repos", "events_url": "https://api.github.com/users/dmitriy-serdyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/dmitriy-serdyuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-27T18:50:23Z", "updated_at": "2018-06-27T23:07:34Z", "closed_at": "2018-06-27T23:07:34Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Issue description</h2>\n<p>The examples in the BatchSampler docstring cause exceptions.</p>\n<h2>Code example</h2>\n<p>Copy pasted from <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L115\">https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L115</a></p>\n<div class=\"highlight highlight-source-python\"><pre>In [<span class=\"pl-c1\">1</span>]: <span class=\"pl-k\">from</span> torch.utils.data.sampler <span class=\"pl-k\">import</span> BatchSampler\nIn [<span class=\"pl-c1\">2</span>]: <span class=\"pl-c1\">list</span>(BatchSampler(<span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">10</span>), <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">3</span>, <span class=\"pl-v\">drop_last</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>))\n<span class=\"pl-ii\">--------------------------------------------------------------------------</span><span class=\"pl-k\">-</span>\n<span class=\"pl-c1\">ValueError</span>                                Traceback (most recent call last)\n<span class=\"pl-k\">&lt;</span>ipython<span class=\"pl-k\">-</span><span class=\"pl-c1\">input</span><span class=\"pl-k\">-</span><span class=\"pl-c1\">3</span><span class=\"pl-k\">-</span><span class=\"pl-ii\">6b5b38ed53b0</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">in</span> <span class=\"pl-k\">&lt;</span>module<span class=\"pl-k\">&gt;</span>()\n<span class=\"pl-ii\">----</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">1</span> <span class=\"pl-c1\">list</span>(BatchSampler(<span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">10</span>), <span class=\"pl-v\">batch_size</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">3</span>, <span class=\"pl-v\">drop_last</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">False</span>))\n\n<span class=\"pl-k\">~</span><span class=\"pl-k\">/</span>miniconda<span class=\"pl-k\">/</span>envs<span class=\"pl-k\">/</span>pytorch4<span class=\"pl-k\">/</span>lib<span class=\"pl-k\">/</span>python3.6<span class=\"pl-k\">/</span>site<span class=\"pl-k\">-</span>packages<span class=\"pl-k\">/</span>torch<span class=\"pl-k\">/</span>utils<span class=\"pl-k\">/</span>data<span class=\"pl-k\">/</span>sampler.py <span class=\"pl-k\">in</span> <span class=\"pl-c1\">__init__</span>(<span class=\"pl-c1\">self</span>, sampler, batch_size, drop_last)\n    <span class=\"pl-c1\">122</span>             <span class=\"pl-k\">raise</span> <span class=\"pl-c1\">ValueError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sampler should be an instance of <span class=\"pl-pds\">\"</span></span>\n    <span class=\"pl-c1\">123</span>                              <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>torch.utils.data.Sampler, but got sampler=<span class=\"pl-c1\">{}</span><span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-ii\">--</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c1\">124</span>                              .format(sampler))\n    <span class=\"pl-c1\">125</span>         <span class=\"pl-k\">if</span> <span class=\"pl-k\">not</span> <span class=\"pl-c1\">isinstance</span>(batch_size, _int_classes) <span class=\"pl-k\">or</span> <span class=\"pl-c1\">isinstance</span>(batch_size, <span class=\"pl-c1\">bool</span>) <span class=\"pl-k\">or</span> \\\n    <span class=\"pl-c1\">126</span>                 batch_size <span class=\"pl-k\">&lt;=</span> <span class=\"pl-c1\">0</span>:\n\n<span class=\"pl-c1\">ValueError</span>: sampler should be an instance of torch.utils.data.Sampler, but got sampler<span class=\"pl-k\">=</span><span class=\"pl-c1\">range</span>(<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">10</span>)</pre></div>\n<h2>System Info</h2>\n<p>PyTorch version: 0.4.0<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: None</p>\n<p>OS: Mac OSX 10.13.5<br>\nGCC version: Could not collect<br>\nCMake version: Could not collect</p>\n<p>Python version: 3.6<br>\nIs CUDA available: No<br>\nCUDA runtime version: No CUDA<br>\nGPU models and configuration: No CUDA<br>\nNvidia driver version: No CUDA<br>\ncuDNN version: No CUDA</p>\n<p>Versions of relevant libraries:<br>\n[pip] numpy (1.14.2)<br>\n[pip] torch (0.4.0)<br>\n[pip] torchvision (0.2.1)<br>\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch<br>\n[conda] torchvision               0.2.1                    py36_1    pytorch</p>", "body_text": "Issue description\nThe examples in the BatchSampler docstring cause exceptions.\nCode example\nCopy pasted from https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L115\nIn [1]: from torch.utils.data.sampler import BatchSampler\nIn [2]: list(BatchSampler(range(10), batch_size=3, drop_last=False))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-3-6b5b38ed53b0> in <module>()\n----> 1 list(BatchSampler(range(10), batch_size=3, drop_last=False))\n\n~/miniconda/envs/pytorch4/lib/python3.6/site-packages/torch/utils/data/sampler.py in __init__(self, sampler, batch_size, drop_last)\n    122             raise ValueError(\"sampler should be an instance of \"\n    123                              \"torch.utils.data.Sampler, but got sampler={}\"\n--> 124                              .format(sampler))\n    125         if not isinstance(batch_size, _int_classes) or isinstance(batch_size, bool) or \\\n    126                 batch_size <= 0:\n\nValueError: sampler should be an instance of torch.utils.data.Sampler, but got sampler=range(0, 10)\nSystem Info\nPyTorch version: 0.4.0\nIs debug build: No\nCUDA used to build PyTorch: None\nOS: Mac OSX 10.13.5\nGCC version: Could not collect\nCMake version: Could not collect\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\nVersions of relevant libraries:\n[pip] numpy (1.14.2)\n[pip] torch (0.4.0)\n[pip] torchvision (0.2.1)\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch\n[conda] torchvision               0.2.1                    py36_1    pytorch", "body": "## Issue description\r\n\r\nThe examples in the BatchSampler docstring cause exceptions.\r\n\r\n## Code example\r\n\r\nCopy pasted from https://github.com/pytorch/pytorch/blob/master/torch/utils/data/sampler.py#L115\r\n\r\n```python\r\nIn [1]: from torch.utils.data.sampler import BatchSampler\r\nIn [2]: list(BatchSampler(range(10), batch_size=3, drop_last=False))\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-6b5b38ed53b0> in <module>()\r\n----> 1 list(BatchSampler(range(10), batch_size=3, drop_last=False))\r\n\r\n~/miniconda/envs/pytorch4/lib/python3.6/site-packages/torch/utils/data/sampler.py in __init__(self, sampler, batch_size, drop_last)\r\n    122             raise ValueError(\"sampler should be an instance of \"\r\n    123                              \"torch.utils.data.Sampler, but got sampler={}\"\r\n--> 124                              .format(sampler))\r\n    125         if not isinstance(batch_size, _int_classes) or isinstance(batch_size, bool) or \\\r\n    126                 batch_size <= 0:\r\n\r\nValueError: sampler should be an instance of torch.utils.data.Sampler, but got sampler=range(0, 10)\r\n```\r\n\r\n## System Info\r\nPyTorch version: 0.4.0\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Mac OSX 10.13.5\r\nGCC version: Could not collect\r\nCMake version: Could not collect\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA\r\n\r\nVersions of relevant libraries:\r\n[pip] numpy (1.14.2)\r\n[pip] torch (0.4.0)\r\n[pip] torchvision (0.2.1)\r\n[conda] pytorch                   0.4.0           py36_cuda0.0_cudnn0.0_1    pytorch\r\n[conda] torchvision               0.2.1                    py36_1    pytorch"}