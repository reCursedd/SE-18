{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/291830986", "html_url": "https://github.com/pytorch/pytorch/issues/922#issuecomment-291830986", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/922", "id": 291830986, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTgzMDk4Ng==", "user": {"login": "gut", "id": 40444, "node_id": "MDQ6VXNlcjQwNDQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/40444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gut", "html_url": "https://github.com/gut", "followers_url": "https://api.github.com/users/gut/followers", "following_url": "https://api.github.com/users/gut/following{/other_user}", "gists_url": "https://api.github.com/users/gut/gists{/gist_id}", "starred_url": "https://api.github.com/users/gut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gut/subscriptions", "organizations_url": "https://api.github.com/users/gut/orgs", "repos_url": "https://api.github.com/users/gut/repos", "events_url": "https://api.github.com/users/gut/events{/privacy}", "received_events_url": "https://api.github.com/users/gut/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-05T11:20:32Z", "updated_at": "2017-04-05T11:20:32Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=847743\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pedropgusmao\">@pedropgusmao</a> Hi, I see what you mean:</p>\n<pre><code>$ gcc ./torch/lib/TH/vector/VSX.c -o vsx -DRUN_VSX_TESTS\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THDoubleVector_muls_VSX\u2019:\n./torch/lib/TH/vector/VSX.c:1739:5: warning: implicit declaration of function \u2018standardDouble_muls\u2019 [-Wimplicit-function-declaration]\n     standardDouble_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\n     ^\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THFloatVector_muls_VSX\u2019:\n./torch/lib/TH/vector/VSX.c:1811:5: warning: implicit declaration of function \u2018standardFloat_muls\u2019 [-Wimplicit-function-declaration]\n     standardFloat_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\n     ^\n/tmp/ccTWsGeZ.o: In function `test_THDoubleVector_muls_VSX':\nVSX.c:(.text+0xbfcc): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xbfe4): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xbffc): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xc014): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xc134): undefined reference to `standardDouble_muls'\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc168): more undefined references to `standardDouble_muls' follow\n/tmp/ccTWsGeZ.o: In function `test_THFloatVector_muls_VSX':\nVSX.c:(.text+0xc534): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc54c): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc564): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc57c): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc69c): undefined reference to `standardFloat_muls'\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc6d0): more undefined references to `standardFloat_muls' follow\ncollect2: error: ld returned 1 exit status\n</code></pre>\n<p>But after adding your diff:</p>\n<div class=\"highlight highlight-source-diff\"><pre><span class=\"pl-c1\">diff --git i/torch/lib/TH/vector/VSX.c w/torch/lib/TH/vector/VSX.c</span>\nindex 796d3b8..fbc7d61 100644\n<span class=\"pl-md\">--- i/torch/lib/TH/vector/VSX.c</span>\n<span class=\"pl-mi1\">+++ w/torch/lib/TH/vector/VSX.c</span>\n<span class=\"pl-mdr\">@@ -1105,13 +1105,13 @@</span> static void standardFloat_scale(float *y, const float c, const ptrdiff_t n)\n     y[i] *= c;\n }\n\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>static void standardDouble_mul(double *y, const double *x, const ptrdiff_t n)</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>static void standardDouble_muls(double *y, const double *x, const ptrdiff_t n)</span>\n {\n   for (ptrdiff_t i = 0; i &lt; n; i++)\n     y[i] *= x[i];\n }\n\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>static void standardFloat_mul(float *y, const float *x, const ptrdiff_t n)</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>static void standardFloat_muls(float *y, const float *x, const ptrdiff_t n)</span>\n {\n   for (ptrdiff_t i = 0; i &lt; n; i++)\n     y[i] *= x[i];</pre></div>\n<p>I coud compile and run VSX's tests, however I still didn't accomplish to have torch's tests passing. They segfault as you said on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"211918344\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/922\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/922/hovercard?comment_id=291429297&amp;comment_type=issue_comment\" href=\"https://github.com/pytorch/pytorch/issues/922#issuecomment-291429297\">#922 (comment)</a></p>\n<p>Does anybody have progress on this?</p>", "body_text": "@pedropgusmao Hi, I see what you mean:\n$ gcc ./torch/lib/TH/vector/VSX.c -o vsx -DRUN_VSX_TESTS\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THDoubleVector_muls_VSX\u2019:\n./torch/lib/TH/vector/VSX.c:1739:5: warning: implicit declaration of function \u2018standardDouble_muls\u2019 [-Wimplicit-function-declaration]\n     standardDouble_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\n     ^\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THFloatVector_muls_VSX\u2019:\n./torch/lib/TH/vector/VSX.c:1811:5: warning: implicit declaration of function \u2018standardFloat_muls\u2019 [-Wimplicit-function-declaration]\n     standardFloat_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\n     ^\n/tmp/ccTWsGeZ.o: In function `test_THDoubleVector_muls_VSX':\nVSX.c:(.text+0xbfcc): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xbfe4): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xbffc): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xc014): undefined reference to `standardDouble_muls'\nVSX.c:(.text+0xc134): undefined reference to `standardDouble_muls'\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc168): more undefined references to `standardDouble_muls' follow\n/tmp/ccTWsGeZ.o: In function `test_THFloatVector_muls_VSX':\nVSX.c:(.text+0xc534): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc54c): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc564): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc57c): undefined reference to `standardFloat_muls'\nVSX.c:(.text+0xc69c): undefined reference to `standardFloat_muls'\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc6d0): more undefined references to `standardFloat_muls' follow\ncollect2: error: ld returned 1 exit status\n\nBut after adding your diff:\ndiff --git i/torch/lib/TH/vector/VSX.c w/torch/lib/TH/vector/VSX.c\nindex 796d3b8..fbc7d61 100644\n--- i/torch/lib/TH/vector/VSX.c\n+++ w/torch/lib/TH/vector/VSX.c\n@@ -1105,13 +1105,13 @@ static void standardFloat_scale(float *y, const float c, const ptrdiff_t n)\n     y[i] *= c;\n }\n\n-static void standardDouble_mul(double *y, const double *x, const ptrdiff_t n)\n+static void standardDouble_muls(double *y, const double *x, const ptrdiff_t n)\n {\n   for (ptrdiff_t i = 0; i < n; i++)\n     y[i] *= x[i];\n }\n\n-static void standardFloat_mul(float *y, const float *x, const ptrdiff_t n)\n+static void standardFloat_muls(float *y, const float *x, const ptrdiff_t n)\n {\n   for (ptrdiff_t i = 0; i < n; i++)\n     y[i] *= x[i];\nI coud compile and run VSX's tests, however I still didn't accomplish to have torch's tests passing. They segfault as you said on #922 (comment)\nDoes anybody have progress on this?", "body": "@pedropgusmao Hi, I see what you mean:\r\n```\r\n$ gcc ./torch/lib/TH/vector/VSX.c -o vsx -DRUN_VSX_TESTS\r\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THDoubleVector_muls_VSX\u2019:\r\n./torch/lib/TH/vector/VSX.c:1739:5: warning: implicit declaration of function \u2018standardDouble_muls\u2019 [-Wimplicit-function-declaration]\r\n     standardDouble_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\r\n     ^\r\n./torch/lib/TH/vector/VSX.c: In function \u2018test_THFloatVector_muls_VSX\u2019:\r\n./torch/lib/TH/vector/VSX.c:1811:5: warning: implicit declaration of function \u2018standardFloat_muls\u2019 [-Wimplicit-function-declaration]\r\n     standardFloat_muls(y_standard, x, VSX_PERF_NUM_TEST_ELEMENTS  );\r\n     ^\r\n/tmp/ccTWsGeZ.o: In function `test_THDoubleVector_muls_VSX':\r\nVSX.c:(.text+0xbfcc): undefined reference to `standardDouble_muls'\r\nVSX.c:(.text+0xbfe4): undefined reference to `standardDouble_muls'\r\nVSX.c:(.text+0xbffc): undefined reference to `standardDouble_muls'\r\nVSX.c:(.text+0xc014): undefined reference to `standardDouble_muls'\r\nVSX.c:(.text+0xc134): undefined reference to `standardDouble_muls'\r\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc168): more undefined references to `standardDouble_muls' follow\r\n/tmp/ccTWsGeZ.o: In function `test_THFloatVector_muls_VSX':\r\nVSX.c:(.text+0xc534): undefined reference to `standardFloat_muls'\r\nVSX.c:(.text+0xc54c): undefined reference to `standardFloat_muls'\r\nVSX.c:(.text+0xc564): undefined reference to `standardFloat_muls'\r\nVSX.c:(.text+0xc57c): undefined reference to `standardFloat_muls'\r\nVSX.c:(.text+0xc69c): undefined reference to `standardFloat_muls'\r\n/tmp/ccTWsGeZ.o:VSX.c:(.text+0xc6d0): more undefined references to `standardFloat_muls' follow\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nBut after adding your diff:\r\n```diff\r\ndiff --git i/torch/lib/TH/vector/VSX.c w/torch/lib/TH/vector/VSX.c\r\nindex 796d3b8..fbc7d61 100644\r\n--- i/torch/lib/TH/vector/VSX.c\r\n+++ w/torch/lib/TH/vector/VSX.c\r\n@@ -1105,13 +1105,13 @@ static void standardFloat_scale(float *y, const float c, const ptrdiff_t n)\r\n     y[i] *= c;\r\n }\r\n\r\n-static void standardDouble_mul(double *y, const double *x, const ptrdiff_t n)\r\n+static void standardDouble_muls(double *y, const double *x, const ptrdiff_t n)\r\n {\r\n   for (ptrdiff_t i = 0; i < n; i++)\r\n     y[i] *= x[i];\r\n }\r\n\r\n-static void standardFloat_mul(float *y, const float *x, const ptrdiff_t n)\r\n+static void standardFloat_muls(float *y, const float *x, const ptrdiff_t n)\r\n {\r\n   for (ptrdiff_t i = 0; i < n; i++)\r\n     y[i] *= x[i];\r\n```\r\n\r\nI coud compile and run VSX's tests, however I still didn't accomplish to have torch's tests passing. They segfault as you said on https://github.com/pytorch/pytorch/issues/922#issuecomment-291429297\r\n\r\nDoes anybody have progress on this?"}