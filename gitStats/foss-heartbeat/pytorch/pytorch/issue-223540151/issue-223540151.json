{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1328", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1328/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1328/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1328/events", "html_url": "https://github.com/pytorch/pytorch/issues/1328", "id": 223540151, "node_id": "MDU6SXNzdWUyMjM1NDAxNTE=", "number": 1328, "title": "Unhelpful CrossEntropyLoss dimension error message", "user": {"login": "jsuarez5341", "id": 14065750, "node_id": "MDQ6VXNlcjE0MDY1NzUw", "avatar_url": "https://avatars2.githubusercontent.com/u/14065750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsuarez5341", "html_url": "https://github.com/jsuarez5341", "followers_url": "https://api.github.com/users/jsuarez5341/followers", "following_url": "https://api.github.com/users/jsuarez5341/following{/other_user}", "gists_url": "https://api.github.com/users/jsuarez5341/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsuarez5341/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsuarez5341/subscriptions", "organizations_url": "https://api.github.com/users/jsuarez5341/orgs", "repos_url": "https://api.github.com/users/jsuarez5341/repos", "events_url": "https://api.github.com/users/jsuarez5341/events{/privacy}", "received_events_url": "https://api.github.com/users/jsuarez5341/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131849, "node_id": "MDU6TGFiZWw0MjQxMzE4NDk=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-04-22T04:52:22Z", "updated_at": "2018-08-14T20:07:08Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I believe I've stumbled upon a slight whoops in nn.CrossEntropyLoss(). If the criterion is called with (a, y) where a in (N, C) and y in (N) such that some yi &gt; C, I get the internal error message below (took a while to parse)... seems like this could use a wrapper. A simple note following the internal error would suffice--how about: \"Ensure the class dimension of the predictions matches the class dimension of the targets\" ?</p>\n<p>THCudaCheck FAIL file=/py/conda-bld/pytorch_1490903321756/work/torch/lib/THC/generic/THCTensorCopy.c line=65 error=59 : device-side assert triggered</p>\n<p>System: Ubuntu 16.06, Python 3.6 (conda install).</p>", "body_text": "I believe I've stumbled upon a slight whoops in nn.CrossEntropyLoss(). If the criterion is called with (a, y) where a in (N, C) and y in (N) such that some yi > C, I get the internal error message below (took a while to parse)... seems like this could use a wrapper. A simple note following the internal error would suffice--how about: \"Ensure the class dimension of the predictions matches the class dimension of the targets\" ?\nTHCudaCheck FAIL file=/py/conda-bld/pytorch_1490903321756/work/torch/lib/THC/generic/THCTensorCopy.c line=65 error=59 : device-side assert triggered\nSystem: Ubuntu 16.06, Python 3.6 (conda install).", "body": "I believe I've stumbled upon a slight whoops in nn.CrossEntropyLoss(). If the criterion is called with (a, y) where a in (N, C) and y in (N) such that some yi > C, I get the internal error message below (took a while to parse)... seems like this could use a wrapper. A simple note following the internal error would suffice--how about: \"Ensure the class dimension of the predictions matches the class dimension of the targets\" ?  \r\n\r\nTHCudaCheck FAIL file=/py/conda-bld/pytorch_1490903321756/work/torch/lib/THC/generic/THCTensorCopy.c line=65 error=59 : device-side assert triggered\r\n\r\nSystem: Ubuntu 16.06, Python 3.6 (conda install)."}