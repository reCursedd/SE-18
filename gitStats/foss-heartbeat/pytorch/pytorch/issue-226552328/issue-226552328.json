{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1485", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1485/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1485/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1485/events", "html_url": "https://github.com/pytorch/pytorch/issues/1485", "id": 226552328, "node_id": "MDU6SXNzdWUyMjY1NTIzMjg=", "number": 1485, "title": "Handle bugs in cudnnGet* better", "user": {"login": "chenyuntc", "id": 9301117, "node_id": "MDQ6VXNlcjkzMDExMTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9301117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyuntc", "html_url": "https://github.com/chenyuntc", "followers_url": "https://api.github.com/users/chenyuntc/followers", "following_url": "https://api.github.com/users/chenyuntc/following{/other_user}", "gists_url": "https://api.github.com/users/chenyuntc/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyuntc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyuntc/subscriptions", "organizations_url": "https://api.github.com/users/chenyuntc/orgs", "repos_url": "https://api.github.com/users/chenyuntc/repos", "events_url": "https://api.github.com/users/chenyuntc/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyuntc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484050, "node_id": "MDU6TGFiZWw0NDM0ODQwNTA=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/medium%20priority", "name": "medium priority", "color": "fbca04", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-05T12:02:17Z", "updated_at": "2018-08-09T16:01:00Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Simple code to reproduce the problem:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n<span class=\"pl-k\">import</span> torch.nn <span class=\"pl-k\">as</span> nn\nec<span class=\"pl-k\">=</span>nn.Conv3d(<span class=\"pl-c1\">1</span>,<span class=\"pl-c1\">1</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">1</span>).cuda()\n<span class=\"pl-c1\">input</span><span class=\"pl-k\">=</span>torch.autograd.Variable(torch.ones(<span class=\"pl-c1\">1</span>,<span class=\"pl-c1\">1</span>,<span class=\"pl-c1\">511</span>,<span class=\"pl-c1\">512</span>,<span class=\"pl-c1\">512</span>),<span class=\"pl-v\">requires_grad</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">True</span>).cuda()\nec(<span class=\"pl-c1\">input</span>).sum().backward()</pre></div>\n<p>it raises:</p>\n<pre><code>RuntimeError: CUDNN_STATUS_NOT_SUPPORTED. This error may appear if you passed in a non-contiguous input.\n</code></pre>\n<p>Even if I add <code>contiguous</code>, it still doesn't work.</p>\n<ul>\n<li>\n<p>if I change input to torch.ones(1,1,510,512,512), it works fine.</p>\n</li>\n<li>\n<p>if I set <code>requires_grad</code> to False, It raise another error:</p>\n</li>\n</ul>\n<pre><code>RuntimeError: CUDNN_STATUS_EXECUTION_FAILED\n</code></pre>\n<p>I'm using:<br>\ntorch: 0.1.12_1(pip install using binary)<br>\ncudnn 5.1, cuda 8<br>\ntested in GTX1080 and Titan X</p>\n<hr>\n<p>I tried to update cudnn to v6, it still doesn't work(there is libcudnn.so.6 in <code>torch/lib</code> after install with wheel, but I still upgrade the system libcudnn to the latest version)</p>", "body_text": "Simple code to reproduce the problem:\nimport torch\nimport torch.nn as nn\nec=nn.Conv3d(1,1,3,2,1).cuda()\ninput=torch.autograd.Variable(torch.ones(1,1,511,512,512),requires_grad=True).cuda()\nec(input).sum().backward()\nit raises:\nRuntimeError: CUDNN_STATUS_NOT_SUPPORTED. This error may appear if you passed in a non-contiguous input.\n\nEven if I add contiguous, it still doesn't work.\n\n\nif I change input to torch.ones(1,1,510,512,512), it works fine.\n\n\nif I set requires_grad to False, It raise another error:\n\n\nRuntimeError: CUDNN_STATUS_EXECUTION_FAILED\n\nI'm using:\ntorch: 0.1.12_1(pip install using binary)\ncudnn 5.1, cuda 8\ntested in GTX1080 and Titan X\n\nI tried to update cudnn to v6, it still doesn't work(there is libcudnn.so.6 in torch/lib after install with wheel, but I still upgrade the system libcudnn to the latest version)", "body": "Simple code to reproduce the problem:\r\n```python\r\nimport torch\r\nimport torch.nn as nn\r\nec=nn.Conv3d(1,1,3,2,1).cuda()\r\ninput=torch.autograd.Variable(torch.ones(1,1,511,512,512),requires_grad=True).cuda()\r\nec(input).sum().backward()\r\n```\r\nit raises:\r\n```\r\nRuntimeError: CUDNN_STATUS_NOT_SUPPORTED. This error may appear if you passed in a non-contiguous input.\r\n```\r\nEven if I add `contiguous`, it still doesn't work.  \r\n\r\n- if I change input to torch.ones(1,1,510,512,512), it works fine. \r\n\r\n- if I set `requires_grad` to False, It raise another error:\r\n```\r\nRuntimeError: CUDNN_STATUS_EXECUTION_FAILED\r\n```\r\n\r\nI'm using:\r\ntorch: 0.1.12_1(pip install using binary)\r\ncudnn 5.1, cuda 8\r\ntested in GTX1080 and Titan X\r\n\r\n------\r\nI tried to update cudnn to v6, it still doesn't work(there is libcudnn.so.6 in `torch/lib` after install with wheel, but I still upgrade the system libcudnn to the latest version)"}