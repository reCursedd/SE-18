{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/224975206", "pull_request_review_id": 164480169, "id": 224975206, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDk3NTIwNg==", "diff_hunk": "@@ -122,9 +122,24 @@ class CAFFE2_API OperatorBase : public Observable<OperatorBase> {\n     static_assert(\n         std::is_same<T, Tensor>::value,\n         \"Output(int, DeviceType) is only available for Tensor\");\n+    // When you get a Tensor here it is not fully initialized\n     return BlobGetMutableTensor(outputs_.at(idx), type);\n   }\n \n+  template <typename T>\n+  inline T* Output(\n+      int idx,\n+      const vector<int64_t>& dims,\n+      const at::TensorOptions& options) {\n+    static_assert(\n+        std::is_same<T, Tensor>::value,\n+        \"Output(int, DeviceType) is only available for Tensor\");", "path": "caffe2/core/operator.h", "position": null, "original_position": 15, "commit_id": "6c278f2cff213711e8c0508b0b0b22fa0fff384e", "original_commit_id": "7d76e4da0c84a2201f62c214bae1b44c2c698d22", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "body": "So... we technically don't need the template parameter here at all, since this is a fresh overload. It seems a little goofy to say \"You can have it in any color you want, as long as it's Tensor.\" Maybe consistency with the other Output methods justifies this, but I'm not sure.", "created_at": "2018-10-14T00:07:34Z", "updated_at": "2018-11-23T15:52:58Z", "html_url": "https://github.com/pytorch/pytorch/pull/12407#discussion_r224975206", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12407", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/224975206"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12407#discussion_r224975206"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12407"}}, "body_html": "<p>So... we technically don't need the template parameter here at all, since this is a fresh overload. It seems a little goofy to say \"You can have it in any color you want, as long as it's Tensor.\" Maybe consistency with the other Output methods justifies this, but I'm not sure.</p>", "body_text": "So... we technically don't need the template parameter here at all, since this is a fresh overload. It seems a little goofy to say \"You can have it in any color you want, as long as it's Tensor.\" Maybe consistency with the other Output methods justifies this, but I'm not sure."}