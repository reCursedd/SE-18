{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/379845258", "html_url": "https://github.com/pytorch/pytorch/issues/6411#issuecomment-379845258", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6411", "id": 379845258, "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTg0NTI1OA==", "user": {"login": "myleott", "id": 231798, "node_id": "MDQ6VXNlcjIzMTc5OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/231798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/myleott", "html_url": "https://github.com/myleott", "followers_url": "https://api.github.com/users/myleott/followers", "following_url": "https://api.github.com/users/myleott/following{/other_user}", "gists_url": "https://api.github.com/users/myleott/gists{/gist_id}", "starred_url": "https://api.github.com/users/myleott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/myleott/subscriptions", "organizations_url": "https://api.github.com/users/myleott/orgs", "repos_url": "https://api.github.com/users/myleott/repos", "events_url": "https://api.github.com/users/myleott/events{/privacy}", "received_events_url": "https://api.github.com/users/myleott/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-09T18:17:13Z", "updated_at": "2018-04-09T18:17:13Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I think the point was that the current documentation for padding_idx says: \"padding_idx (int, optional) \u2013 If given, pads the output with zeros whenever it encounters the index.\"</p>\n<p>But that isn't quite true. It just zeros the weights for padding_idx in the constructor. If one re-initializes the weights (as is often done in practice, e.g., in the PyTorch word_language_model example [1]), then padding_idx is effectively ignored.</p>\n<p>Updating the documentation will be helpful.</p>\n<p>[1] <a href=\"https://github.com/pytorch/examples/blob/master/word_language_model/model.py#L41-L43\">https://github.com/pytorch/examples/blob/master/word_language_model/model.py#L41-L43</a></p>", "body_text": "I think the point was that the current documentation for padding_idx says: \"padding_idx (int, optional) \u2013 If given, pads the output with zeros whenever it encounters the index.\"\nBut that isn't quite true. It just zeros the weights for padding_idx in the constructor. If one re-initializes the weights (as is often done in practice, e.g., in the PyTorch word_language_model example [1]), then padding_idx is effectively ignored.\nUpdating the documentation will be helpful.\n[1] https://github.com/pytorch/examples/blob/master/word_language_model/model.py#L41-L43", "body": "I think the point was that the current documentation for padding_idx says: \"padding_idx (int, optional) \u2013 If given, pads the output with zeros whenever it encounters the index.\"\r\n\r\nBut that isn't quite true. It just zeros the weights for padding_idx in the constructor. If one re-initializes the weights (as is often done in practice, e.g., in the PyTorch word_language_model example [1]), then padding_idx is effectively ignored.\r\n\r\nUpdating the documentation will be helpful.\r\n\r\n[1] https://github.com/pytorch/examples/blob/master/word_language_model/model.py#L41-L43"}