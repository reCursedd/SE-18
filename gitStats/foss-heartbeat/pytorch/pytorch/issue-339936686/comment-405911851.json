{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/405911851", "html_url": "https://github.com/pytorch/pytorch/issues/9310#issuecomment-405911851", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9310", "id": 405911851, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTkxMTg1MQ==", "user": {"login": "rhls-jon", "id": 41371251, "node_id": "MDQ6VXNlcjQxMzcxMjUx", "avatar_url": "https://avatars1.githubusercontent.com/u/41371251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhls-jon", "html_url": "https://github.com/rhls-jon", "followers_url": "https://api.github.com/users/rhls-jon/followers", "following_url": "https://api.github.com/users/rhls-jon/following{/other_user}", "gists_url": "https://api.github.com/users/rhls-jon/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhls-jon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhls-jon/subscriptions", "organizations_url": "https://api.github.com/users/rhls-jon/orgs", "repos_url": "https://api.github.com/users/rhls-jon/repos", "events_url": "https://api.github.com/users/rhls-jon/events{/privacy}", "received_events_url": "https://api.github.com/users/rhls-jon/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T12:21:54Z", "updated_at": "2018-07-18T12:21:54Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>since I have the exact same error, I will also post the requested output here, I hope that is fine and it helps:</p>\n<p>Here is the full cmake consol log:</p>\n<pre><code>jonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ cmake ..\n-- The CXX compiler identification is GNU 7.3.0\n-- The C compiler identification is GNU 7.3.0\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Not forcing any particular BLAS to be found\n-- Build type not set - defaulting to Release\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\n-- Does not need to define long separately.\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\n-- std::exception_ptr is supported.\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\n-- NUMA is available\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\n  add_subdirectory given source\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\n  which is not an existing directory.\nCall Stack (most recent call first):\n  cmake/ProtoBuf.cmake:84 (custom_protobuf_find)\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/ProtoBuf.cmake:90 (message):\n  Protobuf cannot be found.  Caffe2 will automatically switch to use own\n  protobuf under third_party.  Note that this behavior may change in the\n  future, and you will need to specify -DBUILD_CUSTOM_PROTOBUF=ON explicitly.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\n-- Use custom protobuf build.\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\n  add_subdirectory given source\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\n  which is not an existing directory.\nCall Stack (most recent call first):\n  cmake/ProtoBuf.cmake:95 (custom_protobuf_find)\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/ProtoBuf.cmake:108 (get_target_property):\n  get_target_property() called with non-existent target\n  \"protobuf::libprotobuf\".\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\n-- Caffe2 protobuf include directory: \n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Found Git: /usr/bin/git (found version \"2.17.1\") \n-- The BLAS backend of choice:Eigen\n-- Brace yourself, we are building NNPACK\nCMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/NNPACK\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\n  been created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:147 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/cpuinfo\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:152 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Caffe2: Found gflags with new-style gflags target.\n-- Caffe2: Cannot find glog automatically. Using legacy find.\n-- Found glog: /usr/include  \n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libglog.so)\n-- Found LMDB: /usr/include  \n-- Found lmdb    (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/liblmdb.so)\n-- Found LevelDB: /usr/include  \n-- Found LevelDB (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libleveldb.so)\n-- Found Snappy: /home/jonas/anaconda3/include  \n-- Found Snappy  (include: /home/jonas/anaconda3/include, library: /home/jonas/anaconda3/lib/libsnappy.so)\n-- Found Numa: /usr/include  \n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\n-- OpenCV found (/usr/share/OpenCV)\nCMake Warning at cmake/Dependencies.cmake:330 (find_package):\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\n  CMake did not find one.\n\n  Could not find a package configuration file provided by \"Eigen3\" with any\n  of the following names:\n\n    Eigen3Config.cmake\n    eigen3-config.cmake\n\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\n  provides a separate development package or SDK, be sure it has been\n  installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Did not find system Eigen. Using third party subdirectory.\n-- Setting Python to /home/jonas/anaconda3/bin/python\nPython 3.6.5 :: Anaconda, Inc.\n-- Setting Python's include dir to /home/jonas/anaconda3/include/python3.6m from distutils.sysconfig\n-- Setting Python's library to /home/jonas/anaconda3/lib/python3.6\n-- Found PythonInterp: /home/jonas/anaconda3/bin/python (found suitable version \"3.6.5\", minimum required is \"2.7\") \n-- Found PythonLibs: /home/jonas/anaconda3/lib/python3.6 (found suitable version \"3.6.5\", minimum required is \"2.7\") \n-- Found NumPy: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include (found version \"1.14.3\") \n-- NumPy ver. 1.14.3 found (include: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include)\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \n-- Found MPI_C: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so (found version \"3.1\") \n-- Found MPI_CXX: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so (found version \"3.1\") \n-- Found MPI: TRUE (found version \"3.1\")  \n-- MPI support found\n-- MPI compile flags: -pthread\n-- MPI include path: /usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/include/usr/lib/x86_64-linux-gnu/openmpi/include\n-- MPI LINK flags path: -L/usr/lib -pthread\n-- MPI libraries: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so\nCMake Warning at cmake/Dependencies.cmake:434 (message):\n  OpenMPI found, but it is not built with CUDA support.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCUDA_TOOLKIT_ROOT_DIR not found or specified\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:10 (message):\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\n  or a Caffe2 dependent library, the next warning / error will give you more\n  info.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:471 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:500 (message):\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:576 (message):\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\n  -DUSE_NCCL=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Could NOT find Gloo (missing: Gloo_INCLUDE_DIR Gloo_LIBRARY) \nCMake Error at cmake/Dependencies.cmake:621 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/gloo\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:661 (message):\n  mobile opengl is only used in android or ios builds.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:737 (message):\n  Metal is only used in ios builds.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:782 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/onnx\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/public/utils.cmake:16 (get_target_property):\n  get_target_property() called with non-existent target \"onnx\".\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:790 (caffe2_interface_library)\n  CMakeLists.txt:187 (include)\n\n\n-- GCC 7.3.0: Adding gcc and gcc_s libs to link line\n-- NCCL operators skipped due to no CUDA support\n-- Excluding ideep operators as we are not using ideep\n-- Including image processing operators\n-- Excluding video processing operators due to no opencv\n-- Excluding mkl operators as we are not using mkl\n-- Include Observer library\n-- Using lib/python3.6/site-packages as python relative installation path\n-- Automatically generating missing __init__.py files.\nCMake Warning at CMakeLists.txt:350 (message):\n  Generated cmake files are only fully tested if one builds with system glog,\n  gflags, and protobuf.  Other settings may generate files that are not well\n  tested.\n\n\nCMake Warning at CMakeLists.txt:399 (message):\n  Generated cmake files are only available when building shared libs.\n\n\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.11.1\n--   CMake command         : /home/jonas/anaconda3/bin/cmake\n--   Git version           : v0.1.11-9360-g6de038286\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 7.3.0\n--   BLAS                  : Eigen\n--   CXX flags             :  -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-aliasing -Wno-error=deprecated-declarations -faligned-new\n--   Build type            : Release\n--   Compile definitions   : \n--   CMAKE_PREFIX_PATH     : \n--   CMAKE_INSTALL_PREFIX  : /usr/local\n-- \n--   BUILD_CAFFE2          : ON\n--   BUILD_ATEN            : OFF\n--   BUILD_BINARY          : ON\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.6.5\n--     Python executable   : /home/jonas/anaconda3/bin/python\n--     Pythonlibs version  : 3.6.5\n--     Python library      : /home/jonas/anaconda3/lib/python3.6\n--     Python includes     : /home/jonas/anaconda3/include/python3.6m\n--     Python site-packages: lib/python3.6/site-packages\n--   BUILD_SHARED_LIBS     : OFF\n--   BUILD_TEST            : OFF\n--   USE_ASAN              : OFF\n--   USE_ATEN              : OFF\n--   USE_CUDA              : OFF\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : ON\n--   USE_GLOG              : ON\n--   USE_GLOO              : ON\n--     USE_GLOO_IBVERBS    : OFF\n--   USE_LEVELDB           : ON\n--     LevelDB version     : 1.20\n--     Snappy version      : ..\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : ON\n--     LMDB version        : 0.9.21\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_MPI               : ON\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : ON\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : ON\n--     OpenCV version      : 3.2.0\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   Public Dependencies  : Threads::Threads;gflags;glog::glog\n--   Private Dependencies : $&lt;TARGET_FILE:nnpack&gt;;$&lt;TARGET_FILE:cpuinfo&gt;;cpuinfo;/usr/lib/x86_64-linux-gnu/liblmdb.so;/usr/lib/x86_64-linux-gnu/libleveldb.so;/home/jonas/anaconda3/lib/libsnappy.so;/usr/lib/x86_64-linux-gnu/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so;gloo;onnxifi_loader;gcc_s;gcc;dl\n-- Configuring incomplete, errors occurred!\n</code></pre>\n<p>ldconfig gives:</p>\n<pre><code>jonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ ldconfig -p | grep pthread\n\tlibpthread_workqueue.so.0 (libc6,x86-64) =&gt; /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so.0\n\tlibpthread_workqueue.so (libc6,x86-64) =&gt; /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so\n\tlibpthread.so.0 (libc6,x86-64, OS ABI: Linux 3.2.0) =&gt; /lib/x86_64-linux-gnu/libpthread.so.0\n</code></pre>\n<p>And here some system info just in case:</p>\n<pre><code>jonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ uname -a\nLinux jonas-ThinkPad-T480 4.15.0-24-generic #26-Ubuntu SMP Wed Jun 13 08:44:47 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ lsb_release -a\nNo LSB modules are available.\nDistributor ID:\tUbuntu\nDescription:\tUbuntu 18.04 LTS\nRelease:\t18.04\nCodename:\tbionic\n</code></pre>\n<p>full cmake log and error log:<br>\n<a href=\"https://github.com/pytorch/pytorch/files/2205694/CMakeError.log\">CMakeError.log</a><br>\n<a href=\"https://github.com/pytorch/pytorch/files/2205695/CMakeOutput.log\">CMakeOutput.log</a></p>\n<p>to me it looks like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"338865919\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9204\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9204/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9204\">#9204</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"339936686\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/9310\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/9310/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/9310\">#9310</a> are the same error just different logs where used to report it, but i will let you decide that.</p>", "body_text": "Hi,\nsince I have the exact same error, I will also post the requested output here, I hope that is fine and it helps:\nHere is the full cmake consol log:\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ cmake ..\n-- The CXX compiler identification is GNU 7.3.0\n-- The C compiler identification is GNU 7.3.0\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Not forcing any particular BLAS to be found\n-- Build type not set - defaulting to Release\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\n-- Does not need to define long separately.\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\n-- std::exception_ptr is supported.\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\n-- NUMA is available\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\n  add_subdirectory given source\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\n  which is not an existing directory.\nCall Stack (most recent call first):\n  cmake/ProtoBuf.cmake:84 (custom_protobuf_find)\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/ProtoBuf.cmake:90 (message):\n  Protobuf cannot be found.  Caffe2 will automatically switch to use own\n  protobuf under third_party.  Note that this behavior may change in the\n  future, and you will need to specify -DBUILD_CUSTOM_PROTOBUF=ON explicitly.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\n-- Use custom protobuf build.\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\n  add_subdirectory given source\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\n  which is not an existing directory.\nCall Stack (most recent call first):\n  cmake/ProtoBuf.cmake:95 (custom_protobuf_find)\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/ProtoBuf.cmake:108 (get_target_property):\n  get_target_property() called with non-existent target\n  \"protobuf::libprotobuf\".\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:22 (include)\n  CMakeLists.txt:187 (include)\n\n\n-- Caffe2 protobuf include directory: \n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \n-- Found Git: /usr/bin/git (found version \"2.17.1\") \n-- The BLAS backend of choice:Eigen\n-- Brace yourself, we are building NNPACK\nCMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/NNPACK\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\n  been created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:114 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:147 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/cpuinfo\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:152 (set_property):\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\n  created.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Caffe2: Found gflags with new-style gflags target.\n-- Caffe2: Cannot find glog automatically. Using legacy find.\n-- Found glog: /usr/include  \n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libglog.so)\n-- Found LMDB: /usr/include  \n-- Found lmdb    (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/liblmdb.so)\n-- Found LevelDB: /usr/include  \n-- Found LevelDB (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libleveldb.so)\n-- Found Snappy: /home/jonas/anaconda3/include  \n-- Found Snappy  (include: /home/jonas/anaconda3/include, library: /home/jonas/anaconda3/lib/libsnappy.so)\n-- Found Numa: /usr/include  \n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\n-- OpenCV found (/usr/share/OpenCV)\nCMake Warning at cmake/Dependencies.cmake:330 (find_package):\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\n  CMake did not find one.\n\n  Could not find a package configuration file provided by \"Eigen3\" with any\n  of the following names:\n\n    Eigen3Config.cmake\n    eigen3-config.cmake\n\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\n  provides a separate development package or SDK, be sure it has been\n  installed.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Did not find system Eigen. Using third party subdirectory.\n-- Setting Python to /home/jonas/anaconda3/bin/python\nPython 3.6.5 :: Anaconda, Inc.\n-- Setting Python's include dir to /home/jonas/anaconda3/include/python3.6m from distutils.sysconfig\n-- Setting Python's library to /home/jonas/anaconda3/lib/python3.6\n-- Found PythonInterp: /home/jonas/anaconda3/bin/python (found suitable version \"3.6.5\", minimum required is \"2.7\") \n-- Found PythonLibs: /home/jonas/anaconda3/lib/python3.6 (found suitable version \"3.6.5\", minimum required is \"2.7\") \n-- Found NumPy: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include (found version \"1.14.3\") \n-- NumPy ver. 1.14.3 found (include: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include)\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \n-- Found MPI_C: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so (found version \"3.1\") \n-- Found MPI_CXX: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so (found version \"3.1\") \n-- Found MPI: TRUE (found version \"3.1\")  \n-- MPI support found\n-- MPI compile flags: -pthread\n-- MPI include path: /usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/include/usr/lib/x86_64-linux-gnu/openmpi/include\n-- MPI LINK flags path: -L/usr/lib -pthread\n-- MPI libraries: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so\nCMake Warning at cmake/Dependencies.cmake:434 (message):\n  OpenMPI found, but it is not built with CUDA support.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCUDA_TOOLKIT_ROOT_DIR not found or specified\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"7.0\")\nCMake Warning at cmake/public/cuda.cmake:10 (message):\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\n  or a Caffe2 dependent library, the next warning / error will give you more\n  info.\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:471 (include)\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:500 (message):\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:576 (message):\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\n  -DUSE_NCCL=OFF.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\n-- Could NOT find Gloo (missing: Gloo_INCLUDE_DIR Gloo_LIBRARY) \nCMake Error at cmake/Dependencies.cmake:621 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/gloo\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:661 (message):\n  mobile opengl is only used in android or ios builds.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Warning at cmake/Dependencies.cmake:737 (message):\n  Metal is only used in ios builds.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/Dependencies.cmake:782 (add_subdirectory):\n  The source directory\n\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/onnx\n\n  does not contain a CMakeLists.txt file.\nCall Stack (most recent call first):\n  CMakeLists.txt:187 (include)\n\n\nCMake Error at cmake/public/utils.cmake:16 (get_target_property):\n  get_target_property() called with non-existent target \"onnx\".\nCall Stack (most recent call first):\n  cmake/Dependencies.cmake:790 (caffe2_interface_library)\n  CMakeLists.txt:187 (include)\n\n\n-- GCC 7.3.0: Adding gcc and gcc_s libs to link line\n-- NCCL operators skipped due to no CUDA support\n-- Excluding ideep operators as we are not using ideep\n-- Including image processing operators\n-- Excluding video processing operators due to no opencv\n-- Excluding mkl operators as we are not using mkl\n-- Include Observer library\n-- Using lib/python3.6/site-packages as python relative installation path\n-- Automatically generating missing __init__.py files.\nCMake Warning at CMakeLists.txt:350 (message):\n  Generated cmake files are only fully tested if one builds with system glog,\n  gflags, and protobuf.  Other settings may generate files that are not well\n  tested.\n\n\nCMake Warning at CMakeLists.txt:399 (message):\n  Generated cmake files are only available when building shared libs.\n\n\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.11.1\n--   CMake command         : /home/jonas/anaconda3/bin/cmake\n--   Git version           : v0.1.11-9360-g6de038286\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 7.3.0\n--   BLAS                  : Eigen\n--   CXX flags             :  -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-aliasing -Wno-error=deprecated-declarations -faligned-new\n--   Build type            : Release\n--   Compile definitions   : \n--   CMAKE_PREFIX_PATH     : \n--   CMAKE_INSTALL_PREFIX  : /usr/local\n-- \n--   BUILD_CAFFE2          : ON\n--   BUILD_ATEN            : OFF\n--   BUILD_BINARY          : ON\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.6.5\n--     Python executable   : /home/jonas/anaconda3/bin/python\n--     Pythonlibs version  : 3.6.5\n--     Python library      : /home/jonas/anaconda3/lib/python3.6\n--     Python includes     : /home/jonas/anaconda3/include/python3.6m\n--     Python site-packages: lib/python3.6/site-packages\n--   BUILD_SHARED_LIBS     : OFF\n--   BUILD_TEST            : OFF\n--   USE_ASAN              : OFF\n--   USE_ATEN              : OFF\n--   USE_CUDA              : OFF\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : ON\n--   USE_GLOG              : ON\n--   USE_GLOO              : ON\n--     USE_GLOO_IBVERBS    : OFF\n--   USE_LEVELDB           : ON\n--     LevelDB version     : 1.20\n--     Snappy version      : ..\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : ON\n--     LMDB version        : 0.9.21\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_MPI               : ON\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : ON\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : ON\n--     OpenCV version      : 3.2.0\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   Public Dependencies  : Threads::Threads;gflags;glog::glog\n--   Private Dependencies : $<TARGET_FILE:nnpack>;$<TARGET_FILE:cpuinfo>;cpuinfo;/usr/lib/x86_64-linux-gnu/liblmdb.so;/usr/lib/x86_64-linux-gnu/libleveldb.so;/home/jonas/anaconda3/lib/libsnappy.so;/usr/lib/x86_64-linux-gnu/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so;gloo;onnxifi_loader;gcc_s;gcc;dl\n-- Configuring incomplete, errors occurred!\n\nldconfig gives:\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ ldconfig -p | grep pthread\n\tlibpthread_workqueue.so.0 (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so.0\n\tlibpthread_workqueue.so (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so\n\tlibpthread.so.0 (libc6,x86-64, OS ABI: Linux 3.2.0) => /lib/x86_64-linux-gnu/libpthread.so.0\n\nAnd here some system info just in case:\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ uname -a\nLinux jonas-ThinkPad-T480 4.15.0-24-generic #26-Ubuntu SMP Wed Jun 13 08:44:47 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ lsb_release -a\nNo LSB modules are available.\nDistributor ID:\tUbuntu\nDescription:\tUbuntu 18.04 LTS\nRelease:\t18.04\nCodename:\tbionic\n\nfull cmake log and error log:\nCMakeError.log\nCMakeOutput.log\nto me it looks like #9204 and #9310 are the same error just different logs where used to report it, but i will let you decide that.", "body": "Hi,\r\n\r\nsince I have the exact same error, I will also post the requested output here, I hope that is fine and it helps:\r\n\r\nHere is the full cmake consol log:\r\n```\r\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ cmake ..\r\n-- The CXX compiler identification is GNU 7.3.0\r\n-- The C compiler identification is GNU 7.3.0\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Not forcing any particular BLAS to be found\r\n-- Build type not set - defaulting to Release\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\r\n-- Does not need to define long separately.\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\r\n-- std::exception_ptr is supported.\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\r\n-- NUMA is available\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Success\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\r\n-- Current compiler supports avx2 extention. Will build perfkernels.\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\r\n-- Building using own protobuf under third_party per request.\r\n-- Use custom protobuf build.\r\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\r\n  add_subdirectory given source\r\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\r\n  which is not an existing directory.\r\nCall Stack (most recent call first):\r\n  cmake/ProtoBuf.cmake:84 (custom_protobuf_find)\r\n  cmake/Dependencies.cmake:22 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Warning at cmake/ProtoBuf.cmake:90 (message):\r\n  Protobuf cannot be found.  Caffe2 will automatically switch to use own\r\n  protobuf under third_party.  Note that this behavior may change in the\r\n  future, and you will need to specify -DBUILD_CUSTOM_PROTOBUF=ON explicitly.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:22 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- Use custom protobuf build.\r\nCMake Error at cmake/ProtoBuf.cmake:41 (add_subdirectory):\r\n  add_subdirectory given source\r\n  \"/home/jonas/rhls_repos/caffe2/tests/pytorch/cmake/../third_party/protobuf/cmake\"\r\n  which is not an existing directory.\r\nCall Stack (most recent call first):\r\n  cmake/ProtoBuf.cmake:95 (custom_protobuf_find)\r\n  cmake/Dependencies.cmake:22 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/ProtoBuf.cmake:108 (get_target_property):\r\n  get_target_property() called with non-existent target\r\n  \"protobuf::libprotobuf\".\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:22 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- Caffe2 protobuf include directory: \r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Found Git: /usr/bin/git (found version \"2.17.1\") \r\n-- The BLAS backend of choice:Eigen\r\n-- Brace yourself, we are building NNPACK\r\nCMake Error at cmake/External/nnpack.cmake:68 (add_subdirectory):\r\n  The source directory\r\n\r\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/NNPACK\r\n\r\n  does not contain a CMakeLists.txt file.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:114 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:73 (set_property):\r\n  set_property could not find TARGET nnpack.  Perhaps it has not yet been\r\n  created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:114 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:74 (set_property):\r\n  set_property could not find TARGET pthreadpool.  Perhaps it has not yet\r\n  been created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:114 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/External/nnpack.cmake:75 (set_property):\r\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\r\n  created.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:114 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/Dependencies.cmake:147 (add_subdirectory):\r\n  The source directory\r\n\r\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/cpuinfo\r\n\r\n  does not contain a CMakeLists.txt file.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/Dependencies.cmake:152 (set_property):\r\n  set_property could not find TARGET cpuinfo.  Perhaps it has not yet been\r\n  created.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- Caffe2: Found gflags with new-style gflags target.\r\n-- Caffe2: Cannot find glog automatically. Using legacy find.\r\n-- Found glog: /usr/include  \r\n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libglog.so)\r\n-- Found LMDB: /usr/include  \r\n-- Found lmdb    (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/liblmdb.so)\r\n-- Found LevelDB: /usr/include  \r\n-- Found LevelDB (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libleveldb.so)\r\n-- Found Snappy: /home/jonas/anaconda3/include  \r\n-- Found Snappy  (include: /home/jonas/anaconda3/include, library: /home/jonas/anaconda3/lib/libsnappy.so)\r\n-- Found Numa: /usr/include  \r\n-- Found Numa  (include: /usr/include, library: /usr/lib/x86_64-linux-gnu/libnuma.so)\r\n-- OpenCV found (/usr/share/OpenCV)\r\nCMake Warning at cmake/Dependencies.cmake:330 (find_package):\r\n  By not providing \"FindEigen3.cmake\" in CMAKE_MODULE_PATH this project has\r\n  asked CMake to find a package configuration file provided by \"Eigen3\", but\r\n  CMake did not find one.\r\n\r\n  Could not find a package configuration file provided by \"Eigen3\" with any\r\n  of the following names:\r\n\r\n    Eigen3Config.cmake\r\n    eigen3-config.cmake\r\n\r\n  Add the installation prefix of \"Eigen3\" to CMAKE_PREFIX_PATH or set\r\n  \"Eigen3_DIR\" to a directory containing one of the above files.  If \"Eigen3\"\r\n  provides a separate development package or SDK, be sure it has been\r\n  installed.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- Did not find system Eigen. Using third party subdirectory.\r\n-- Setting Python to /home/jonas/anaconda3/bin/python\r\nPython 3.6.5 :: Anaconda, Inc.\r\n-- Setting Python's include dir to /home/jonas/anaconda3/include/python3.6m from distutils.sysconfig\r\n-- Setting Python's library to /home/jonas/anaconda3/lib/python3.6\r\n-- Found PythonInterp: /home/jonas/anaconda3/bin/python (found suitable version \"3.6.5\", minimum required is \"2.7\") \r\n-- Found PythonLibs: /home/jonas/anaconda3/lib/python3.6 (found suitable version \"3.6.5\", minimum required is \"2.7\") \r\n-- Found NumPy: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include (found version \"1.14.3\") \r\n-- NumPy ver. 1.14.3 found (include: /home/jonas/anaconda3/lib/python3.6/site-packages/numpy/core/include)\r\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \r\n-- Found MPI_C: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so (found version \"3.1\") \r\n-- Found MPI_CXX: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so (found version \"3.1\") \r\n-- Found MPI: TRUE (found version \"3.1\")  \r\n-- MPI support found\r\n-- MPI compile flags: -pthread\r\n-- MPI include path: /usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/usr/lib/x86_64-linux-gnu/openmpi/include/openmpi/opal/mca/event/libevent2022/libevent/include/usr/lib/x86_64-linux-gnu/openmpi/include\r\n-- MPI LINK flags path: -L/usr/lib -pthread\r\n-- MPI libraries: /usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so\r\nCMake Warning at cmake/Dependencies.cmake:434 (message):\r\n  OpenMPI found, but it is not built with CUDA support.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCUDA_TOOLKIT_ROOT_DIR not found or specified\r\n-- Could NOT find CUDA (missing: CUDA_TOOLKIT_ROOT_DIR CUDA_NVCC_EXECUTABLE CUDA_INCLUDE_DIRS CUDA_CUDART_LIBRARY) (Required is at least version \"7.0\")\r\nCMake Warning at cmake/public/cuda.cmake:10 (message):\r\n  Caffe2: CUDA cannot be found.  Depending on whether you are building Caffe2\r\n  or a Caffe2 dependent library, the next warning / error will give you more\r\n  info.\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:471 (include)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:500 (message):\r\n  Not compiling with CUDA.  Suppress this warning with -DUSE_CUDA=OFF.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:576 (message):\r\n  Not using CUDA, so disabling NCCL.  Suppress this warning with\r\n  -DUSE_NCCL=OFF.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- Could NOT find Gloo (missing: Gloo_INCLUDE_DIR Gloo_LIBRARY) \r\nCMake Error at cmake/Dependencies.cmake:621 (add_subdirectory):\r\n  The source directory\r\n\r\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/gloo\r\n\r\n  does not contain a CMakeLists.txt file.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:661 (message):\r\n  mobile opengl is only used in android or ios builds.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Warning at cmake/Dependencies.cmake:737 (message):\r\n  Metal is only used in ios builds.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/Dependencies.cmake:782 (add_subdirectory):\r\n  The source directory\r\n\r\n    /home/jonas/rhls_repos/caffe2/tests/pytorch/third_party/onnx\r\n\r\n  does not contain a CMakeLists.txt file.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\nCMake Error at cmake/public/utils.cmake:16 (get_target_property):\r\n  get_target_property() called with non-existent target \"onnx\".\r\nCall Stack (most recent call first):\r\n  cmake/Dependencies.cmake:790 (caffe2_interface_library)\r\n  CMakeLists.txt:187 (include)\r\n\r\n\r\n-- GCC 7.3.0: Adding gcc and gcc_s libs to link line\r\n-- NCCL operators skipped due to no CUDA support\r\n-- Excluding ideep operators as we are not using ideep\r\n-- Including image processing operators\r\n-- Excluding video processing operators due to no opencv\r\n-- Excluding mkl operators as we are not using mkl\r\n-- Include Observer library\r\n-- Using lib/python3.6/site-packages as python relative installation path\r\n-- Automatically generating missing __init__.py files.\r\nCMake Warning at CMakeLists.txt:350 (message):\r\n  Generated cmake files are only fully tested if one builds with system glog,\r\n  gflags, and protobuf.  Other settings may generate files that are not well\r\n  tested.\r\n\r\n\r\nCMake Warning at CMakeLists.txt:399 (message):\r\n  Generated cmake files are only available when building shared libs.\r\n\r\n\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.11.1\r\n--   CMake command         : /home/jonas/anaconda3/bin/cmake\r\n--   Git version           : v0.1.11-9360-g6de038286\r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/c++\r\n--   C++ compiler version  : 7.3.0\r\n--   BLAS                  : Eigen\r\n--   CXX flags             :  -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -fvisibility=hidden -fvisibility-inlines-hidden -DONNX_NAMESPACE=onnx_c2 -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-aliasing -Wno-error=deprecated-declarations -faligned-new\r\n--   Build type            : Release\r\n--   Compile definitions   : \r\n--   CMAKE_PREFIX_PATH     : \r\n--   CMAKE_INSTALL_PREFIX  : /usr/local\r\n-- \r\n--   BUILD_CAFFE2          : ON\r\n--   BUILD_ATEN            : OFF\r\n--   BUILD_BINARY          : ON\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 3.6.5\r\n--     Python executable   : /home/jonas/anaconda3/bin/python\r\n--     Pythonlibs version  : 3.6.5\r\n--     Python library      : /home/jonas/anaconda3/lib/python3.6\r\n--     Python includes     : /home/jonas/anaconda3/include/python3.6m\r\n--     Python site-packages: lib/python3.6/site-packages\r\n--   BUILD_SHARED_LIBS     : OFF\r\n--   BUILD_TEST            : OFF\r\n--   USE_ASAN              : OFF\r\n--   USE_ATEN              : OFF\r\n--   USE_CUDA              : OFF\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : ON\r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : ON\r\n--   USE_GLOG              : ON\r\n--   USE_GLOO              : ON\r\n--     USE_GLOO_IBVERBS    : OFF\r\n--   USE_LEVELDB           : ON\r\n--     LevelDB version     : 1.20\r\n--     Snappy version      : ..\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : ON\r\n--     LMDB version        : 0.9.21\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : \r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_MPI               : ON\r\n--   USE_NCCL              : OFF\r\n--   USE_NERVANA_GPU       : OFF\r\n--   USE_NNPACK            : ON\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : ON\r\n--     OpenCV version      : 3.2.0\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   Public Dependencies  : Threads::Threads;gflags;glog::glog\r\n--   Private Dependencies : $<TARGET_FILE:nnpack>;$<TARGET_FILE:cpuinfo>;cpuinfo;/usr/lib/x86_64-linux-gnu/liblmdb.so;/usr/lib/x86_64-linux-gnu/libleveldb.so;/home/jonas/anaconda3/lib/libsnappy.so;/usr/lib/x86_64-linux-gnu/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi_cxx.so;/usr/lib/x86_64-linux-gnu/openmpi/lib/libmpi.so;gloo;onnxifi_loader;gcc_s;gcc;dl\r\n-- Configuring incomplete, errors occurred!\r\n```\r\n\r\nldconfig gives:\r\n```\r\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ ldconfig -p | grep pthread\r\n\tlibpthread_workqueue.so.0 (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so.0\r\n\tlibpthread_workqueue.so (libc6,x86-64) => /usr/lib/x86_64-linux-gnu/libpthread_workqueue.so\r\n\tlibpthread.so.0 (libc6,x86-64, OS ABI: Linux 3.2.0) => /lib/x86_64-linux-gnu/libpthread.so.0\r\n```\r\n\r\nAnd here some system info just in case:\r\n```\r\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ uname -a\r\nLinux jonas-ThinkPad-T480 4.15.0-24-generic #26-Ubuntu SMP Wed Jun 13 08:44:47 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\njonas@jonas-ThinkPad-T480:~/rhls_repos/caffe2/tests/pytorch/build$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 18.04 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n```\r\n\r\nfull cmake log and error log:\r\n[CMakeError.log](https://github.com/pytorch/pytorch/files/2205694/CMakeError.log)\r\n[CMakeOutput.log](https://github.com/pytorch/pytorch/files/2205695/CMakeOutput.log)\r\n\r\nto me it looks like #9204 and #9310 are the same error just different logs where used to report it, but i will let you decide that.\r\n\r\n"}