{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/383621919", "html_url": "https://github.com/pytorch/pytorch/pull/6854#issuecomment-383621919", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/6854", "id": 383621919, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYyMTkxOQ==", "user": {"login": "bstriner", "id": 12462956, "node_id": "MDQ6VXNlcjEyNDYyOTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/12462956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bstriner", "html_url": "https://github.com/bstriner", "followers_url": "https://api.github.com/users/bstriner/followers", "following_url": "https://api.github.com/users/bstriner/following{/other_user}", "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}", "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions", "organizations_url": "https://api.github.com/users/bstriner/orgs", "repos_url": "https://api.github.com/users/bstriner/repos", "events_url": "https://api.github.com/users/bstriner/events{/privacy}", "received_events_url": "https://api.github.com/users/bstriner/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-23T15:42:42Z", "updated_at": "2018-04-23T15:42:42Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> valid concerns that I expected. They are old compilers, but that is literally what anaconda 2.7-3.6 is running on and therefore 99% of your Windows user-base.</p>\n<ul>\n<li>Current peterjc123 conda channel requires upgrading vc14 to 14.1. This causes a lot of conflicts in conda because a lot of other packages explicitly depend on vc14. You might have to force installs and the conda resolution gets broken. This build works on 14 so it would play nice with conda.</li>\n<li>Working with 14 should also mean you can use windows compilers for python. Haven't tried it yet, but would mean you don't need a VS setup to build pytorch from source.</li>\n<li>These fixes might also work on 2008, but I haven't tried it yet, which would mean you can make python 2.7 windows builds as well.</li>\n</ul>\n<p>Everything is broken off by defines, so these changes shouldn't affect any other builds. Relatively minimal in terms of things that had to be touched.</p>\n<p>What might make this PR more worthwhile would be adding a py27 VS2008 CI build and conda release.</p>\n<p>I would prefer that the 3.5 and 3.6 packages didn't require messing with conda dependency resolution, but it isn't the end of the world if that doesn't change.</p>\n<p>Cheers</p>", "body_text": "@apaszke valid concerns that I expected. They are old compilers, but that is literally what anaconda 2.7-3.6 is running on and therefore 99% of your Windows user-base.\n\nCurrent peterjc123 conda channel requires upgrading vc14 to 14.1. This causes a lot of conflicts in conda because a lot of other packages explicitly depend on vc14. You might have to force installs and the conda resolution gets broken. This build works on 14 so it would play nice with conda.\nWorking with 14 should also mean you can use windows compilers for python. Haven't tried it yet, but would mean you don't need a VS setup to build pytorch from source.\nThese fixes might also work on 2008, but I haven't tried it yet, which would mean you can make python 2.7 windows builds as well.\n\nEverything is broken off by defines, so these changes shouldn't affect any other builds. Relatively minimal in terms of things that had to be touched.\nWhat might make this PR more worthwhile would be adding a py27 VS2008 CI build and conda release.\nI would prefer that the 3.5 and 3.6 packages didn't require messing with conda dependency resolution, but it isn't the end of the world if that doesn't change.\nCheers", "body": "@apaszke valid concerns that I expected. They are old compilers, but that is literally what anaconda 2.7-3.6 is running on and therefore 99% of your Windows user-base.\r\n\r\n- Current peterjc123 conda channel requires upgrading vc14 to 14.1. This causes a lot of conflicts in conda because a lot of other packages explicitly depend on vc14. You might have to force installs and the conda resolution gets broken. This build works on 14 so it would play nice with conda.\r\n- Working with 14 should also mean you can use windows compilers for python. Haven't tried it yet, but would mean you don't need a VS setup to build pytorch from source.\r\n- These fixes might also work on 2008, but I haven't tried it yet, which would mean you can make python 2.7 windows builds as well.\r\n\r\nEverything is broken off by defines, so these changes shouldn't affect any other builds. Relatively minimal in terms of things that had to be touched.\r\n\r\nWhat might make this PR more worthwhile would be adding a py27 VS2008 CI build and conda release.\r\n\r\nI would prefer that the 3.5 and 3.6 packages didn't require messing with conda dependency resolution, but it isn't the end of the world if that doesn't change.\r\n\r\nCheers"}