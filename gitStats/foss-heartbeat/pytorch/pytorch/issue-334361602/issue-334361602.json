{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8739", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8739/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8739/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8739/events", "html_url": "https://github.com/pytorch/pytorch/pull/8739", "id": 334361602, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk2MzUyMzQ4", "number": 8739, "title": "[C++ API] Better forward methods", "user": {"login": "goldsborough", "id": 6429851, "node_id": "MDQ6VXNlcjY0Mjk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6429851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldsborough", "html_url": "https://github.com/goldsborough", "followers_url": "https://api.github.com/users/goldsborough/followers", "following_url": "https://api.github.com/users/goldsborough/following{/other_user}", "gists_url": "https://api.github.com/users/goldsborough/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldsborough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldsborough/subscriptions", "organizations_url": "https://api.github.com/users/goldsborough/orgs", "repos_url": "https://api.github.com/users/goldsborough/repos", "events_url": "https://api.github.com/users/goldsborough/events{/privacy}", "received_events_url": "https://api.github.com/users/goldsborough/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-21T06:55:49Z", "updated_at": "2018-11-23T15:46:22Z", "closed_at": "2018-06-26T20:23:17Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/8739", "html_url": "https://github.com/pytorch/pytorch/pull/8739", "diff_url": "https://github.com/pytorch/pytorch/pull/8739.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/8739.patch"}, "body_html": "<p>A while ago we removed the requirement of modules' <code>forward()</code> methods to have the signature <code>vector&lt;Variable&gt; forward(vector&lt;Variable&gt;)</code>, but I hadn't updated modules' forward methods to be more specific than that signature. This PR does this. E.g. <code>forward()</code> for rnn modules is now <code>RNNOutput forward(Variable input, Variable state)</code> where <code>RNNOutput</code> is <code>struct { Variable output; Variable state; };</code>. This makes everything much, much nicer and removes dozens and dozens of lines like <code>module-&gt;forward({input})[0]</code> and instead is just <code>module-&gt;forward(input)</code>.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3605224\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ebetica\">@ebetica</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "A while ago we removed the requirement of modules' forward() methods to have the signature vector<Variable> forward(vector<Variable>), but I hadn't updated modules' forward methods to be more specific than that signature. This PR does this. E.g. forward() for rnn modules is now RNNOutput forward(Variable input, Variable state) where RNNOutput is struct { Variable output; Variable state; };. This makes everything much, much nicer and removes dozens and dozens of lines like module->forward({input})[0] and instead is just module->forward(input).\n@ebetica @ezyang @apaszke", "body": "A while ago we removed the requirement of modules' `forward()` methods to have the signature `vector<Variable> forward(vector<Variable>)`, but I hadn't updated modules' forward methods to be more specific than that signature. This PR does this. E.g. `forward()` for rnn modules is now `RNNOutput forward(Variable input, Variable state)` where `RNNOutput` is `struct { Variable output; Variable state; };`. This makes everything much, much nicer and removes dozens and dozens of lines like `module->forward({input})[0]` and instead is just `module->forward(input)`.\r\n\r\n@ebetica @ezyang @apaszke "}