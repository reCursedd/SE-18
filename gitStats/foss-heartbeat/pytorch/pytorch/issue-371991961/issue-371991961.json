{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12874", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12874/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12874/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12874/events", "html_url": "https://github.com/pytorch/pytorch/issues/12874", "id": 371991961, "node_id": "MDU6SXNzdWUzNzE5OTE5NjE=", "number": 12874, "title": "CUDA10.0 build pytorch 1.0 on master failed via Xcode 9.4(9F1027a)", "user": {"login": "llv22", "id": 679518, "node_id": "MDQ6VXNlcjY3OTUxOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/679518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llv22", "html_url": "https://github.com/llv22", "followers_url": "https://api.github.com/users/llv22/followers", "following_url": "https://api.github.com/users/llv22/following{/other_user}", "gists_url": "https://api.github.com/users/llv22/gists{/gist_id}", "starred_url": "https://api.github.com/users/llv22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llv22/subscriptions", "organizations_url": "https://api.github.com/users/llv22/orgs", "repos_url": "https://api.github.com/users/llv22/repos", "events_url": "https://api.github.com/users/llv22/events{/privacy}", "received_events_url": "https://api.github.com/users/llv22/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-19T14:51:24Z", "updated_at": "2018-11-02T02:16:30Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>Seems that CUDA10.0 could build pytorch objects, but during linkage phase. it failed. could you help to check reason, or give me some hints for solving with it? now my mac with nvidia GPU 1080i can't use torch with GPU.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>Set  USE_DISTRIBUTED=OFF in CMakeLists.txt</li>\n<li>MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py bdist_wheel</li>\n</ol>\n<h2>Expected behavior</h2>\n<p>torch wheel should be generated with GPU supported (0.4 torch wheel could be generated in the same way), but failed with following error</p>\n<div class=\"highlight highlight-source-shell\"><pre>error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/python3.6/site-packages/caffe2/python/caffe2_pybind11_state_gpu.cpython-36m-darwin.so (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-add_rpath /usr/local/cuda/lib<span class=\"pl-pds\">\"</span></span> would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\n+ [[ ON <span class=\"pl-k\">==</span> <span class=\"pl-cce\">\\O\\N</span> ]]\n++ <span class=\"pl-c1\">pwd</span>\n++ <span class=\"pl-c1\">cd</span> ..\n++ <span class=\"pl-c1\">pwd</span>\n+ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Copying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto<span class=\"pl-pds\">'</span></span>\nCopying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto\n++ find caffe2/proto\n+ <span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>All the files in caffe2/proto are caffe2/proto</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake</span>\n<span class=\"pl-s\">caffe2/proto/CMakeFiles/progress.marks</span>\n<span class=\"pl-s\">caffe2/proto/__init__.py</span>\n<span class=\"pl-s\">caffe2/proto/prof_dag.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/Makefile</span>\n<span class=\"pl-s\">caffe2/proto/hsm.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/cmake_install.cmake</span>\n<span class=\"pl-s\">caffe2/proto/CTestTestfile.cmake</span>\n<span class=\"pl-s\">caffe2/proto/prof_dag.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/hsm.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/caffe2_legacy.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/predictor_consts.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/caffe2_legacy.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/predictor_consts.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/torch.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/torch.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/metanet.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/metanet.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/caffe2.pb.cc</span>\n<span class=\"pl-s\">caffe2/proto/caffe2.pb.h</span>\n<span class=\"pl-s\">caffe2/proto/prof_dag_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/hsm_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/metanet_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/caffe2_legacy_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/predictor_consts_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/torch_pb2.py</span>\n<span class=\"pl-s\">caffe2/proto/caffe2_pb2.py<span class=\"pl-pds\">'</span></span>\nAll the files <span class=\"pl-k\">in</span> caffe2/proto are caffe2/proto\ncaffe2/proto/CMakeFiles\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o\ncaffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake\ncaffe2/proto/CMakeFiles/progress.marks\ncaffe2/proto/__init__.py\ncaffe2/proto/prof_dag.pb.cc\ncaffe2/proto/Makefile\ncaffe2/proto/hsm.pb.cc\ncaffe2/proto/cmake_install.cmake\ncaffe2/proto/CTestTestfile.cmake\ncaffe2/proto/prof_dag.pb.h\ncaffe2/proto/hsm.pb.h\ncaffe2/proto/caffe2_legacy.pb.cc\ncaffe2/proto/predictor_consts.pb.cc\ncaffe2/proto/caffe2_legacy.pb.h\ncaffe2/proto/predictor_consts.pb.h\ncaffe2/proto/torch.pb.cc\ncaffe2/proto/torch.pb.h\ncaffe2/proto/metanet.pb.cc\ncaffe2/proto/metanet.pb.h\ncaffe2/proto/caffe2.pb.cc\ncaffe2/proto/caffe2.pb.h\ncaffe2/proto/prof_dag_pb2.py\ncaffe2/proto/hsm_pb2.py\ncaffe2/proto/metanet_pb2.py\ncaffe2/proto/caffe2_legacy_pb2.py\ncaffe2/proto/predictor_consts_pb2.py\ncaffe2/proto/torch_pb2.py\ncaffe2/proto/caffe2_pb2.py\n++ <span class=\"pl-c1\">pwd</span>\n+ <span class=\"pl-k\">for</span> <span class=\"pl-smi\">proto_file</span> <span class=\"pl-k\">in</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$(pwd)/caffe2/proto/*.py<span class=\"pl-pds\">'</span></span>\n++ <span class=\"pl-c1\">pwd</span>\n+ cp /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/\ncp: /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/__init__.py and /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py are identical (not copied).\nFailed to run <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack caffe2 libshm THD<span class=\"pl-pds\">'</span></span></pre></div>\n<h2>Environment</h2>\n<p>$ python ~/Downloads/collect_env.py<br>\nCollecting environment information...<br>\nPyTorch version: 1.0.0.dev20181016<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: Could not collect</p>\n<p>OS: Mac OSX 10.13.6<br>\nGCC version: Could not collect<br>\nCMake version: version 3.10.1</p>\n<p>Python version: 3.6<br>\nIs CUDA available: No<br>\nCUDA runtime version: 10.0.130<br>\nGPU models and configuration: Could not collect<br>\nNvidia driver version: Could not collect<br>\ncuDNN version: Probably one of the following:<br>\n/usr/local/cuda/lib/libcudnn.7.dylib<br>\n/usr/local/cuda/lib/libcudnn.dylib<br>\n/usr/local/cuda/lib/libcudnn_static.a</p>\n<p>Versions of relevant libraries:<br>\n[pip] Could not collect<br>\n[conda] pytorch-nightly           1.0.0.dev20181016         py3.6_0    pytorch</p>", "body_text": "\ud83d\udc1b Bug\nSeems that CUDA10.0 could build pytorch objects, but during linkage phase. it failed. could you help to check reason, or give me some hints for solving with it? now my mac with nvidia GPU 1080i can't use torch with GPU.\nTo Reproduce\nSteps to reproduce the behavior:\n\nSet  USE_DISTRIBUTED=OFF in CMakeLists.txt\nMACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py bdist_wheel\n\nExpected behavior\ntorch wheel should be generated with GPU supported (0.4 torch wheel could be generated in the same way), but failed with following error\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/python3.6/site-packages/caffe2/python/caffe2_pybind11_state_gpu.cpython-36m-darwin.so (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\n+ [[ ON == \\O\\N ]]\n++ pwd\n++ cd ..\n++ pwd\n+ echo 'Copying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto'\nCopying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto\n++ find caffe2/proto\n+ echo 'All the files in caffe2/proto are caffe2/proto\ncaffe2/proto/CMakeFiles\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o\ncaffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake\ncaffe2/proto/CMakeFiles/progress.marks\ncaffe2/proto/__init__.py\ncaffe2/proto/prof_dag.pb.cc\ncaffe2/proto/Makefile\ncaffe2/proto/hsm.pb.cc\ncaffe2/proto/cmake_install.cmake\ncaffe2/proto/CTestTestfile.cmake\ncaffe2/proto/prof_dag.pb.h\ncaffe2/proto/hsm.pb.h\ncaffe2/proto/caffe2_legacy.pb.cc\ncaffe2/proto/predictor_consts.pb.cc\ncaffe2/proto/caffe2_legacy.pb.h\ncaffe2/proto/predictor_consts.pb.h\ncaffe2/proto/torch.pb.cc\ncaffe2/proto/torch.pb.h\ncaffe2/proto/metanet.pb.cc\ncaffe2/proto/metanet.pb.h\ncaffe2/proto/caffe2.pb.cc\ncaffe2/proto/caffe2.pb.h\ncaffe2/proto/prof_dag_pb2.py\ncaffe2/proto/hsm_pb2.py\ncaffe2/proto/metanet_pb2.py\ncaffe2/proto/caffe2_legacy_pb2.py\ncaffe2/proto/predictor_consts_pb2.py\ncaffe2/proto/torch_pb2.py\ncaffe2/proto/caffe2_pb2.py'\nAll the files in caffe2/proto are caffe2/proto\ncaffe2/proto/CMakeFiles\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o\ncaffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake\ncaffe2/proto/CMakeFiles/progress.marks\ncaffe2/proto/__init__.py\ncaffe2/proto/prof_dag.pb.cc\ncaffe2/proto/Makefile\ncaffe2/proto/hsm.pb.cc\ncaffe2/proto/cmake_install.cmake\ncaffe2/proto/CTestTestfile.cmake\ncaffe2/proto/prof_dag.pb.h\ncaffe2/proto/hsm.pb.h\ncaffe2/proto/caffe2_legacy.pb.cc\ncaffe2/proto/predictor_consts.pb.cc\ncaffe2/proto/caffe2_legacy.pb.h\ncaffe2/proto/predictor_consts.pb.h\ncaffe2/proto/torch.pb.cc\ncaffe2/proto/torch.pb.h\ncaffe2/proto/metanet.pb.cc\ncaffe2/proto/metanet.pb.h\ncaffe2/proto/caffe2.pb.cc\ncaffe2/proto/caffe2.pb.h\ncaffe2/proto/prof_dag_pb2.py\ncaffe2/proto/hsm_pb2.py\ncaffe2/proto/metanet_pb2.py\ncaffe2/proto/caffe2_legacy_pb2.py\ncaffe2/proto/predictor_consts_pb2.py\ncaffe2/proto/torch_pb2.py\ncaffe2/proto/caffe2_pb2.py\n++ pwd\n+ for proto_file in '$(pwd)/caffe2/proto/*.py'\n++ pwd\n+ cp /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/\ncp: /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/__init__.py and /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py are identical (not copied).\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack caffe2 libshm THD'\nEnvironment\n$ python ~/Downloads/collect_env.py\nCollecting environment information...\nPyTorch version: 1.0.0.dev20181016\nIs debug build: No\nCUDA used to build PyTorch: Could not collect\nOS: Mac OSX 10.13.6\nGCC version: Could not collect\nCMake version: version 3.10.1\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: 10.0.130\nGPU models and configuration: Could not collect\nNvidia driver version: Could not collect\ncuDNN version: Probably one of the following:\n/usr/local/cuda/lib/libcudnn.7.dylib\n/usr/local/cuda/lib/libcudnn.dylib\n/usr/local/cuda/lib/libcudnn_static.a\nVersions of relevant libraries:\n[pip] Could not collect\n[conda] pytorch-nightly           1.0.0.dev20181016         py3.6_0    pytorch", "body": "## \ud83d\udc1b Bug\r\n\r\nSeems that CUDA10.0 could build pytorch objects, but during linkage phase. it failed. could you help to check reason, or give me some hints for solving with it? now my mac with nvidia GPU 1080i can't use torch with GPU.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Set  USE_DISTRIBUTED=OFF in CMakeLists.txt\r\n1. MACOSX_DEPLOYMENT_TARGET=10.13 CC=clang CXX=clang++ python setup.py bdist_wheel\r\n\r\n## Expected behavior\r\n\r\ntorch wheel should be generated with GPU supported (0.4 torch wheel could be generated in the same way), but failed with following error\r\n\r\n``` bash\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/blob_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/context_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/event_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/net_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/math_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/conv_op_cache_cudnn_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/batch_matmul_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/elementwise_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/operator_fallback_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/reshape_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/roi_align_op_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/test/utility_ops_gpu_test (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/python3.6/site-packages/caffe2/python/caffe2_pybind11_state_gpu.cpython-36m-darwin.so (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libtorch.1.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\nerror: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/install_name_tool: for: /Volumes/llv24macOS/git_projects/ml/pytorch/torch/lib/tmp_install/lib/libcaffe2_detectron_ops_gpu.dylib (for architecture x86_64) option \"-add_rpath /usr/local/cuda/lib\" would duplicate path, file already has LC_RPATH for: /usr/local/cuda/lib\r\n+ [[ ON == \\O\\N ]]\r\n++ pwd\r\n++ cd ..\r\n++ pwd\r\n+ echo 'Copying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto'\r\nCopying Caffe2 proto files from /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto to  /Volumes/llv24macOS/git_projects/ml/pytorch/caffe2/proto\r\n++ find caffe2/proto\r\n+ echo 'All the files in caffe2/proto are caffe2/proto\r\ncaffe2/proto/CMakeFiles\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o\r\ncaffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake\r\ncaffe2/proto/CMakeFiles/progress.marks\r\ncaffe2/proto/__init__.py\r\ncaffe2/proto/prof_dag.pb.cc\r\ncaffe2/proto/Makefile\r\ncaffe2/proto/hsm.pb.cc\r\ncaffe2/proto/cmake_install.cmake\r\ncaffe2/proto/CTestTestfile.cmake\r\ncaffe2/proto/prof_dag.pb.h\r\ncaffe2/proto/hsm.pb.h\r\ncaffe2/proto/caffe2_legacy.pb.cc\r\ncaffe2/proto/predictor_consts.pb.cc\r\ncaffe2/proto/caffe2_legacy.pb.h\r\ncaffe2/proto/predictor_consts.pb.h\r\ncaffe2/proto/torch.pb.cc\r\ncaffe2/proto/torch.pb.h\r\ncaffe2/proto/metanet.pb.cc\r\ncaffe2/proto/metanet.pb.h\r\ncaffe2/proto/caffe2.pb.cc\r\ncaffe2/proto/caffe2.pb.h\r\ncaffe2/proto/prof_dag_pb2.py\r\ncaffe2/proto/hsm_pb2.py\r\ncaffe2/proto/metanet_pb2.py\r\ncaffe2/proto/caffe2_legacy_pb2.py\r\ncaffe2/proto/predictor_consts_pb2.py\r\ncaffe2/proto/torch_pb2.py\r\ncaffe2/proto/caffe2_pb2.py'\r\nAll the files in caffe2/proto are caffe2/proto\r\ncaffe2/proto/CMakeFiles\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/flags.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/progress.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/hsm.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/cmake_clean.cmake\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/torch.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/build.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/DependInfo.cmake\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.make\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/CXX.includecache\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/depend.internal\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/prof_dag.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/metanet.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/predictor_consts.pb.cc.o\r\ncaffe2/proto/CMakeFiles/Caffe2_PROTO.dir/caffe2_legacy.pb.cc.o\r\ncaffe2/proto/CMakeFiles/CMakeDirectoryInformation.cmake\r\ncaffe2/proto/CMakeFiles/progress.marks\r\ncaffe2/proto/__init__.py\r\ncaffe2/proto/prof_dag.pb.cc\r\ncaffe2/proto/Makefile\r\ncaffe2/proto/hsm.pb.cc\r\ncaffe2/proto/cmake_install.cmake\r\ncaffe2/proto/CTestTestfile.cmake\r\ncaffe2/proto/prof_dag.pb.h\r\ncaffe2/proto/hsm.pb.h\r\ncaffe2/proto/caffe2_legacy.pb.cc\r\ncaffe2/proto/predictor_consts.pb.cc\r\ncaffe2/proto/caffe2_legacy.pb.h\r\ncaffe2/proto/predictor_consts.pb.h\r\ncaffe2/proto/torch.pb.cc\r\ncaffe2/proto/torch.pb.h\r\ncaffe2/proto/metanet.pb.cc\r\ncaffe2/proto/metanet.pb.h\r\ncaffe2/proto/caffe2.pb.cc\r\ncaffe2/proto/caffe2.pb.h\r\ncaffe2/proto/prof_dag_pb2.py\r\ncaffe2/proto/hsm_pb2.py\r\ncaffe2/proto/metanet_pb2.py\r\ncaffe2/proto/caffe2_legacy_pb2.py\r\ncaffe2/proto/predictor_consts_pb2.py\r\ncaffe2/proto/torch_pb2.py\r\ncaffe2/proto/caffe2_pb2.py\r\n++ pwd\r\n+ for proto_file in '$(pwd)/caffe2/proto/*.py'\r\n++ pwd\r\n+ cp /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/\r\ncp: /Volumes/llv24macOS/git_projects/ml/pytorch/build/../caffe2/proto/__init__.py and /Volumes/llv24macOS/git_projects/ml/pytorch/build/caffe2/proto/__init__.py are identical (not copied).\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack caffe2 libshm THD'\r\n```\r\n\r\n## Environment\r\n\r\n$ python ~/Downloads/collect_env.py \r\nCollecting environment information...\r\nPyTorch version: 1.0.0.dev20181016\r\nIs debug build: No\r\nCUDA used to build PyTorch: Could not collect\r\n\r\nOS: Mac OSX 10.13.6\r\nGCC version: Could not collect\r\nCMake version: version 3.10.1\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: 10.0.130\r\nGPU models and configuration: Could not collect\r\nNvidia driver version: Could not collect\r\ncuDNN version: Probably one of the following:\r\n/usr/local/cuda/lib/libcudnn.7.dylib\r\n/usr/local/cuda/lib/libcudnn.dylib\r\n/usr/local/cuda/lib/libcudnn_static.a\r\n\r\nVersions of relevant libraries:\r\n[pip] Could not collect\r\n[conda] pytorch-nightly           1.0.0.dev20181016         py3.6_0    pytorch\r\n\r\n"}