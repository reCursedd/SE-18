{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/287515082", "html_url": "https://github.com/pytorch/pytorch/issues/1031#issuecomment-287515082", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1031", "id": 287515082, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUxNTA4Mg==", "user": {"login": "Jerrynet", "id": 8600549, "node_id": "MDQ6VXNlcjg2MDA1NDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8600549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jerrynet", "html_url": "https://github.com/Jerrynet", "followers_url": "https://api.github.com/users/Jerrynet/followers", "following_url": "https://api.github.com/users/Jerrynet/following{/other_user}", "gists_url": "https://api.github.com/users/Jerrynet/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jerrynet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jerrynet/subscriptions", "organizations_url": "https://api.github.com/users/Jerrynet/orgs", "repos_url": "https://api.github.com/users/Jerrynet/repos", "events_url": "https://api.github.com/users/Jerrynet/events{/privacy}", "received_events_url": "https://api.github.com/users/Jerrynet/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-18T04:14:55Z", "updated_at": "2017-03-18T04:14:55Z", "author_association": "NONE", "body_html": "<p>Maybe it's caused by a <a href=\"http://stackoverflow.com/questions/31468117/python-3-can-pickle-handle-byte-objects-larger-than-4gb\" rel=\"nofollow\">pickle bug</a>?</p>\n<p>I just test this code and it doesn't work (on Mac OS X 10.12.3 with Python 3.6):</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\n\na <span class=\"pl-k\">=</span> torch.ones(<span class=\"pl-c1\">800</span><span class=\"pl-k\">*</span><span class=\"pl-c1\">3</span><span class=\"pl-k\">*</span><span class=\"pl-c1\">480</span><span class=\"pl-k\">*</span><span class=\"pl-c1\">640</span>)\nb <span class=\"pl-k\">=</span> a.numpy()\ntorch.save(b, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b.pth<span class=\"pl-pds\">'</span></span>)</pre></div>\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 120, in save\n    return _save(obj, f, pickle_module, pickle_protocol)\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 186, in _save\n    pickler.dump(obj)\nOSError: [Errno 22] Invalid argument\n</code></pre>", "body_text": "Maybe it's caused by a pickle bug?\nI just test this code and it doesn't work (on Mac OS X 10.12.3 with Python 3.6):\nimport torch\n\na = torch.ones(800*3*480*640)\nb = a.numpy()\ntorch.save(b, 'b.pth')\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 120, in save\n    return _save(obj, f, pickle_module, pickle_protocol)\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 186, in _save\n    pickler.dump(obj)\nOSError: [Errno 22] Invalid argument", "body": "Maybe it's caused by a [pickle bug](http://stackoverflow.com/questions/31468117/python-3-can-pickle-handle-byte-objects-larger-than-4gb)?\r\n\r\nI just test this code and it doesn't work (on Mac OS X 10.12.3 with Python 3.6):\r\n```python\r\nimport torch\r\n\r\na = torch.ones(800*3*480*640)\r\nb = a.numpy()\r\ntorch.save(b, 'b.pth')\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 120, in save\r\n    return _save(obj, f, pickle_module, pickle_protocol)\r\n  File \"/Users/jerry/anaconda/envs/tensorflow/lib/python3.6/site-packages/torch/serialization.py\", line 186, in _save\r\n    pickler.dump(obj)\r\nOSError: [Errno 22] Invalid argument\r\n```"}