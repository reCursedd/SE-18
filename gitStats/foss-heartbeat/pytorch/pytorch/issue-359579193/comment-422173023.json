{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/422173023", "html_url": "https://github.com/pytorch/pytorch/issues/11582#issuecomment-422173023", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11582", "id": 422173023, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjE3MzAyMw==", "user": {"login": "pietern", "id": 9845, "node_id": "MDQ6VXNlcjk4NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietern", "html_url": "https://github.com/pietern", "followers_url": "https://api.github.com/users/pietern/followers", "following_url": "https://api.github.com/users/pietern/following{/other_user}", "gists_url": "https://api.github.com/users/pietern/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietern/subscriptions", "organizations_url": "https://api.github.com/users/pietern/orgs", "repos_url": "https://api.github.com/users/pietern/repos", "events_url": "https://api.github.com/users/pietern/events{/privacy}", "received_events_url": "https://api.github.com/users/pietern/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-17T21:11:35Z", "updated_at": "2018-09-17T21:11:35Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Some of these print a difference of 74 between the expected error code and the actual error code. This can be explained by <code>SKIP_IF_NO_CUDA_EXIT_CODE</code> equal to 75 and the other processes exiting with code 1. The process group is initialized before the skipped test is called and exits with 75.</p>\n<p>I think what's happening is that not all connections are fully setup before the first process runs the test and calls <code>sys.exit</code>. If we throw in a barrier after <code>init_process_group</code> we should be good to go. Creating a PR.</p>", "body_text": "Some of these print a difference of 74 between the expected error code and the actual error code. This can be explained by SKIP_IF_NO_CUDA_EXIT_CODE equal to 75 and the other processes exiting with code 1. The process group is initialized before the skipped test is called and exits with 75.\nI think what's happening is that not all connections are fully setup before the first process runs the test and calls sys.exit. If we throw in a barrier after init_process_group we should be good to go. Creating a PR.", "body": "Some of these print a difference of 74 between the expected error code and the actual error code. This can be explained by `SKIP_IF_NO_CUDA_EXIT_CODE` equal to 75 and the other processes exiting with code 1. The process group is initialized before the skipped test is called and exits with 75.\r\n\r\nI think what's happening is that not all connections are fully setup before the first process runs the test and calls `sys.exit`. If we throw in a barrier after `init_process_group` we should be good to go. Creating a PR."}