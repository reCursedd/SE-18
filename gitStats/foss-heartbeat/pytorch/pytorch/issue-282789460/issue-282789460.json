{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4220", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4220/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4220/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4220/events", "html_url": "https://github.com/pytorch/pytorch/issues/4220", "id": 282789460, "node_id": "MDU6SXNzdWUyODI3ODk0NjA=", "number": 4220, "title": "OSError: [Errno 4] Interrupted system call", "user": {"login": "tryerrorman", "id": 10434436, "node_id": "MDQ6VXNlcjEwNDM0NDM2", "avatar_url": "https://avatars3.githubusercontent.com/u/10434436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tryerrorman", "html_url": "https://github.com/tryerrorman", "followers_url": "https://api.github.com/users/tryerrorman/followers", "following_url": "https://api.github.com/users/tryerrorman/following{/other_user}", "gists_url": "https://api.github.com/users/tryerrorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/tryerrorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tryerrorman/subscriptions", "organizations_url": "https://api.github.com/users/tryerrorman/orgs", "repos_url": "https://api.github.com/users/tryerrorman/repos", "events_url": "https://api.github.com/users/tryerrorman/events{/privacy}", "received_events_url": "https://api.github.com/users/tryerrorman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-18T07:44:49Z", "updated_at": "2017-12-18T20:43:14Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>When I use pytorch to train a  small network in a multi-user Ubuntu 16.04 + cuda 8.0 + python2.7, I came across the OSError. It happens accidentally. Some time within 1 epoch, some time 4 epoch. The log is:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"autoencodertrain.py\", line 43, in <br>\ndata = dataloader.get_next_iter()<br>\nFile \"/home/pytorch/codes/gan/xgan/data/newdata_loader.py\", line 45, in get_next_iter<br>\ndataB  = self.dataLoaderB.<strong>iter</strong>().next()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 254, in <strong>next</strong><br>\nidx, batch = self._get_batch()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 233, in _get_batch<br>\nreturn self.data_queue.get()<br>\nFile \"/usr/lib/python2.7/multiprocessing/queues.py\", line 378, in get<br>\nreturn recv()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/queue.py\", line 22, in recv<br>\nreturn pickle.loads(buf)<br>\nFile \"/usr/lib/python2.7/pickle.py\", line 1388, in loads<br>\nreturn Unpickler(file).load()<br>\nFile \"/usr/lib/python2.7/pickle.py\", line 864, in load<br>\ndispatch<a href=\"self\">key</a><br>\nFile \"/usr/lib/python2.7/pickle.py\", line 1139, in load_reduce<br>\nvalue = func(*args)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/reductions.py\", line 68, in rebuild_storage_fd<br>\nfd = multiprocessing.reduction.rebuild_handle(df)<br>\nFile \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 170, in rebuild_handle<br>\nnew_handle = recv_handle(conn)<br>\nFile \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 85, in recv_handle<br>\nreturn _multiprocessing.recvfd(conn.fileno())<br>\nOSError: [Errno 4] Interrupted system call</p>\n</blockquote>\n<p>Can anyone help solve this problem. Or give some hints on how to solve it.</p>", "body_text": "When I use pytorch to train a  small network in a multi-user Ubuntu 16.04 + cuda 8.0 + python2.7, I came across the OSError. It happens accidentally. Some time within 1 epoch, some time 4 epoch. The log is:\n\nTraceback (most recent call last):\nFile \"autoencodertrain.py\", line 43, in \ndata = dataloader.get_next_iter()\nFile \"/home/pytorch/codes/gan/xgan/data/newdata_loader.py\", line 45, in get_next_iter\ndataB  = self.dataLoaderB.iter().next()\nFile \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 254, in next\nidx, batch = self._get_batch()\nFile \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 233, in _get_batch\nreturn self.data_queue.get()\nFile \"/usr/lib/python2.7/multiprocessing/queues.py\", line 378, in get\nreturn recv()\nFile \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/queue.py\", line 22, in recv\nreturn pickle.loads(buf)\nFile \"/usr/lib/python2.7/pickle.py\", line 1388, in loads\nreturn Unpickler(file).load()\nFile \"/usr/lib/python2.7/pickle.py\", line 864, in load\ndispatchkey\nFile \"/usr/lib/python2.7/pickle.py\", line 1139, in load_reduce\nvalue = func(*args)\nFile \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/reductions.py\", line 68, in rebuild_storage_fd\nfd = multiprocessing.reduction.rebuild_handle(df)\nFile \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 170, in rebuild_handle\nnew_handle = recv_handle(conn)\nFile \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 85, in recv_handle\nreturn _multiprocessing.recvfd(conn.fileno())\nOSError: [Errno 4] Interrupted system call\n\nCan anyone help solve this problem. Or give some hints on how to solve it.", "body": "When I use pytorch to train a  small network in a multi-user Ubuntu 16.04 + cuda 8.0 + python2.7, I came across the OSError. It happens accidentally. Some time within 1 epoch, some time 4 epoch. The log is:\r\n\r\n> Traceback (most recent call last):\r\n  File \"autoencodertrain.py\", line 43, in <module>\r\n    data = dataloader.get_next_iter()\r\n  File \"/home/pytorch/codes/gan/xgan/data/newdata_loader.py\", line 45, in get_next_iter\r\n    dataB  = self.dataLoaderB.__iter__().next()\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 254, in __next__\r\n    idx, batch = self._get_batch()\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/utils/data/dataloader.py\", line 233, in _get_batch\r\n    return self.data_queue.get()\r\n  File \"/usr/lib/python2.7/multiprocessing/queues.py\", line 378, in get\r\n    return recv()\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/queue.py\", line 22, in recv\r\n    return pickle.loads(buf)\r\n  File \"/usr/lib/python2.7/pickle.py\", line 1388, in loads\r\n    return Unpickler(file).load()\r\n  File \"/usr/lib/python2.7/pickle.py\", line 864, in load\r\n    dispatch[key](self)\r\n  File \"/usr/lib/python2.7/pickle.py\", line 1139, in load_reduce\r\n    value = func(*args)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/multiprocessing/reductions.py\", line 68, in rebuild_storage_fd\r\n    fd = multiprocessing.reduction.rebuild_handle(df)\r\n  File \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 170, in rebuild_handle\r\n    new_handle = recv_handle(conn)\r\n  File \"/usr/lib/python2.7/multiprocessing/reduction.py\", line 85, in recv_handle\r\n    return _multiprocessing.recvfd(conn.fileno())\r\nOSError: [Errno 4] Interrupted system call\r\n\r\nCan anyone help solve this problem. Or give some hints on how to solve it.\r\n"}