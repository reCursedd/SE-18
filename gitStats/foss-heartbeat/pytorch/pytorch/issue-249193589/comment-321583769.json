{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/321583769", "html_url": "https://github.com/pytorch/pytorch/pull/2365#issuecomment-321583769", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2365", "id": 321583769, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTU4Mzc2OQ==", "user": {"login": "wsttiger", "id": 7681384, "node_id": "MDQ6VXNlcjc2ODEzODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/7681384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wsttiger", "html_url": "https://github.com/wsttiger", "followers_url": "https://api.github.com/users/wsttiger/followers", "following_url": "https://api.github.com/users/wsttiger/following{/other_user}", "gists_url": "https://api.github.com/users/wsttiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/wsttiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wsttiger/subscriptions", "organizations_url": "https://api.github.com/users/wsttiger/orgs", "repos_url": "https://api.github.com/users/wsttiger/repos", "events_url": "https://api.github.com/users/wsttiger/events{/privacy}", "received_events_url": "https://api.github.com/users/wsttiger/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-10T15:20:33Z", "updated_at": "2017-08-10T15:20:33Z", "author_association": "NONE", "body_html": "<div class=\"email-fragment\">I\u2019m sorry I left this commented.</div>\n<div class=\"email-quoted-reply\"> +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'</div>\n<div class=\"email-fragment\">The compilation was failing both with the hip code and the master tip code when I had WITH_NCCL set to True.</div>\n<span class=\"email-hidden-toggle\"><a href=\"#\">\u2026</a></span><div class=\"email-hidden-reply\">\n<div class=\"email-signature-reply\">-Scott</div>\n<div class=\"email-quoted-reply\"> On Aug 10, 2017, at 9:12 AM, Francisco Massa ***@***.***&gt; wrote:\n\n <a class=\"user-mention\" href=\"https://github.com/fmassa\">@fmassa</a> commented on this pull request.\n\n In setup.py &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249193589\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2365\" href=\"https://github.com/pytorch/pytorch/pull/2365#discussion_r132464068\">#2365 (comment)</a>&gt;:\n\n &gt; @@ -19,7 +19,8 @@\n  DEBUG = check_env_flag('DEBUG')\n  WITH_DISTRIBUTED = not check_env_flag('NO_DISTRIBUTED')\n  WITH_DISTRIBUTED_MW = WITH_DISTRIBUTED and check_env_flag('WITH_DISTRIBUTED_MW')\n -WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n +WITH_NCCL = False\n Could we make it conditional on the compilation, so that we can still leverage NCCL on NVidia?\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub &lt;<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249193589\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/2365\" href=\"https://github.com/pytorch/pytorch/pull/2365#pullrequestreview-55547040\">#2365 (review)</a>&gt;, or mute the thread &lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AHU1aDvGpXzCPYGmHwYA7oh9r22YKmCNks5sWw_SgaJpZM4Oyxpq\">https://github.com/notifications/unsubscribe-auth/AHU1aDvGpXzCPYGmHwYA7oh9r22YKmCNks5sWw_SgaJpZM4Oyxpq</a>&gt;.\n</div>\n<div class=\"email-fragment\"></div>\n</div>", "body_text": "I\u2019m sorry I left this commented.\n +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\nThe compilation was failing both with the hip code and the master tip code when I had WITH_NCCL set to True.\n\u2026\n-Scott\n On Aug 10, 2017, at 9:12 AM, Francisco Massa ***@***.***> wrote:\n\n @fmassa commented on this pull request.\n\n In setup.py <#2365 (comment)>:\n\n > @@ -19,7 +19,8 @@\n  DEBUG = check_env_flag('DEBUG')\n  WITH_DISTRIBUTED = not check_env_flag('NO_DISTRIBUTED')\n  WITH_DISTRIBUTED_MW = WITH_DISTRIBUTED and check_env_flag('WITH_DISTRIBUTED_MW')\n -WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n +WITH_NCCL = False\n Could we make it conditional on the compilation, so that we can still leverage NCCL on NVidia?\n\n \u2014\n You are receiving this because you authored the thread.\n Reply to this email directly, view it on GitHub <#2365 (review)>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AHU1aDvGpXzCPYGmHwYA7oh9r22YKmCNks5sWw_SgaJpZM4Oyxpq>.", "body": "I\u2019m sorry I left this commented.\n> +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\nThe compilation was failing both with the hip code and the master tip code when I had WITH_NCCL set to True.\n\n-Scott\n\n\n> On Aug 10, 2017, at 9:12 AM, Francisco Massa <notifications@github.com> wrote:\n> \n> @fmassa commented on this pull request.\n> \n> In setup.py <https://github.com/pytorch/pytorch/pull/2365#discussion_r132464068>:\n> \n> > @@ -19,7 +19,8 @@\n>  DEBUG = check_env_flag('DEBUG')\n>  WITH_DISTRIBUTED = not check_env_flag('NO_DISTRIBUTED')\n>  WITH_DISTRIBUTED_MW = WITH_DISTRIBUTED and check_env_flag('WITH_DISTRIBUTED_MW')\n> -WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n> +# WITH_NCCL = WITH_CUDA and platform.system() != 'Darwin'\n> +WITH_NCCL = False\n> Could we make it conditional on the compilation, so that we can still leverage NCCL on NVidia?\n> \n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/pytorch/pytorch/pull/2365#pullrequestreview-55547040>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AHU1aDvGpXzCPYGmHwYA7oh9r22YKmCNks5sWw_SgaJpZM4Oyxpq>.\n> \n\n"}