{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417849257", "html_url": "https://github.com/pytorch/pytorch/issues/9058#issuecomment-417849257", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9058", "id": 417849257, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg0OTI1Nw==", "user": {"login": "pprp", "id": 29230784, "node_id": "MDQ6VXNlcjI5MjMwNzg0", "avatar_url": "https://avatars1.githubusercontent.com/u/29230784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pprp", "html_url": "https://github.com/pprp", "followers_url": "https://api.github.com/users/pprp/followers", "following_url": "https://api.github.com/users/pprp/following{/other_user}", "gists_url": "https://api.github.com/users/pprp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pprp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pprp/subscriptions", "organizations_url": "https://api.github.com/users/pprp/orgs", "repos_url": "https://api.github.com/users/pprp/repos", "events_url": "https://api.github.com/users/pprp/events{/privacy}", "received_events_url": "https://api.github.com/users/pprp/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-01T10:31:56Z", "updated_at": "2018-09-01T10:31:56Z", "author_association": "NONE", "body_html": "<h1>Caffe2 python run does not have GPU support</h1>\n<h3>system info</h3>\n<ul>\n<li>PyTorch or Caffe2: Caffe2</li>\n<li>OS: ubuntu16.04</li>\n<li>How I installed Caffe2: source</li>\n<li>Python version: python 3.6.0</li>\n<li>CUDA/cuDNN version:8.0.61/7.0.5</li>\n<li>GPU models and configuration:Nvidia GTX 1080</li>\n<li>GCC version:5.4.0</li>\n<li>cmake version: 3.5.1</li>\n<li>miniconda</li>\n</ul>\n<h3>What I did</h3>\n<ul>\n<li>I have tried to build caffe2 from source (following <a href=\"https://caffe2.ai/docs/getting-started.html?platform=ubuntu&amp;configuration=compile#install-with-gpu-support\" rel=\"nofollow\">this</a>):</li>\n</ul>\n<p>After I installed the dependencies on that page and clone the repository, I run this command <code>FULL_CAFFE2=1 python setup.py install</code>. I test <code>from caffe2.python import core</code> and I got <code>Failure</code></p>\n<ul>\n<li>Then I find a solution in github <a href=\"https://github.com/pytorch/pytorch/issues/6259\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6259/hovercard\">following this(@kaisark)</a></li>\n</ul>\n<p>I passed the test and got Success but I found it doesn't support GPU.</p>\n<h3>Test caffe2 python core</h3>\n<pre><code>(cf2) caffe@learner-pc:~$ python\nPython 3.6.0 |Continuum Analytics, Inc.| (default, Dec 23 2016, 12:22:00)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from caffe2.python import core\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\n&gt;&gt;&gt;\n</code></pre>\n<h3>Relavent Information</h3>\n<pre><code>(cf2) caffe@learner-pc:~$ which python\n/home/caffe/miniconda3/envs/cf2/bin/python\n(cf2) caffe@learner-pc:~$ python --version\nPython 3.6.0 :: Continuum Analytics, Inc.\n(cf2) caffe@learner-pc:~$ echo $PYTHONPATH\n\n(cf2) caffe@learner-pc:~$ echo $PATH\n/home/caffe/miniconda3/envs/cf2/bin:/home/caffe/bin:/home/caffe/.local/bin:/sbin:/home/caffe/miniconda3/bin:/usr/local/cuda-8.0/bin:/usr/local/cuda/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/snap/bin:/usr/local/protobuf/bin\n(cf2) caffe@learner-pc:~$ echo $LD_LIBRARY_PATH\n/usr/local/lib:/usr/local/cuda-8.0/lib64::/usr/local/protobuf/lib:/home/caffe/github/nccl/build/lib\n(cf2) caffe@learner-pc:~$\n</code></pre>\n<h3>Thanks for any help!</h3>", "body_text": "Caffe2 python run does not have GPU support\nsystem info\n\nPyTorch or Caffe2: Caffe2\nOS: ubuntu16.04\nHow I installed Caffe2: source\nPython version: python 3.6.0\nCUDA/cuDNN version:8.0.61/7.0.5\nGPU models and configuration:Nvidia GTX 1080\nGCC version:5.4.0\ncmake version: 3.5.1\nminiconda\n\nWhat I did\n\nI have tried to build caffe2 from source (following this):\n\nAfter I installed the dependencies on that page and clone the repository, I run this command FULL_CAFFE2=1 python setup.py install. I test from caffe2.python import core and I got Failure\n\nThen I find a solution in github following this(@kaisark)\n\nI passed the test and got Success but I found it doesn't support GPU.\nTest caffe2 python core\n(cf2) caffe@learner-pc:~$ python\nPython 3.6.0 |Continuum Analytics, Inc.| (default, Dec 23 2016, 12:22:00)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from caffe2.python import core\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\n>>>\n\nRelavent Information\n(cf2) caffe@learner-pc:~$ which python\n/home/caffe/miniconda3/envs/cf2/bin/python\n(cf2) caffe@learner-pc:~$ python --version\nPython 3.6.0 :: Continuum Analytics, Inc.\n(cf2) caffe@learner-pc:~$ echo $PYTHONPATH\n\n(cf2) caffe@learner-pc:~$ echo $PATH\n/home/caffe/miniconda3/envs/cf2/bin:/home/caffe/bin:/home/caffe/.local/bin:/sbin:/home/caffe/miniconda3/bin:/usr/local/cuda-8.0/bin:/usr/local/cuda/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/snap/bin:/usr/local/protobuf/bin\n(cf2) caffe@learner-pc:~$ echo $LD_LIBRARY_PATH\n/usr/local/lib:/usr/local/cuda-8.0/lib64::/usr/local/protobuf/lib:/home/caffe/github/nccl/build/lib\n(cf2) caffe@learner-pc:~$\n\nThanks for any help!", "body": "# Caffe2 python run does not have GPU support\r\n\r\n\r\n\r\n### system info\r\n\r\n- PyTorch or Caffe2: Caffe2\r\n- OS: ubuntu16.04\r\n- How I installed Caffe2: source\r\n- Python version: python 3.6.0\r\n- CUDA/cuDNN version:8.0.61/7.0.5\r\n- GPU models and configuration:Nvidia GTX 1080\r\n- GCC version:5.4.0\r\n- cmake version: 3.5.1\r\n- miniconda\r\n\r\n### What I did\r\n\r\n- I have tried to build caffe2 from source (following [this](https://caffe2.ai/docs/getting-started.html?platform=ubuntu&configuration=compile#install-with-gpu-support)):\r\n\r\nAfter I installed the dependencies on that page and clone the repository, I run this command `FULL_CAFFE2=1 python setup.py install`. I test `from caffe2.python import core` and I got `Failure`\r\n\r\n- Then I find a solution in github [following this(@kaisark)](https://github.com/pytorch/pytorch/issues/6259)\r\n\r\nI passed the test and got Success but I found it doesn't support GPU.\r\n\r\n### Test caffe2 python core\r\n\r\n```\r\n(cf2) caffe@learner-pc:~$ python\r\nPython 3.6.0 |Continuum Analytics, Inc.| (default, Dec 23 2016, 12:22:00)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from caffe2.python import core\r\nWARNING:root:This caffe2 python run does not have GPU support. Will run in CPU only mode.\r\n>>>\r\n```\r\n\r\n### Relavent Information\r\n\r\n```\r\n(cf2) caffe@learner-pc:~$ which python\r\n/home/caffe/miniconda3/envs/cf2/bin/python\r\n(cf2) caffe@learner-pc:~$ python --version\r\nPython 3.6.0 :: Continuum Analytics, Inc.\r\n(cf2) caffe@learner-pc:~$ echo $PYTHONPATH\r\n\r\n(cf2) caffe@learner-pc:~$ echo $PATH\r\n/home/caffe/miniconda3/envs/cf2/bin:/home/caffe/bin:/home/caffe/.local/bin:/sbin:/home/caffe/miniconda3/bin:/usr/local/cuda-8.0/bin:/usr/local/cuda/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/snap/bin:/usr/local/protobuf/bin\r\n(cf2) caffe@learner-pc:~$ echo $LD_LIBRARY_PATH\r\n/usr/local/lib:/usr/local/cuda-8.0/lib64::/usr/local/protobuf/lib:/home/caffe/github/nccl/build/lib\r\n(cf2) caffe@learner-pc:~$\r\n```\r\n\r\n### Thanks for any help!"}