{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4860", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4860/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4860/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4860/events", "html_url": "https://github.com/pytorch/pytorch/issues/4860", "id": 291736260, "node_id": "MDU6SXNzdWUyOTE3MzYyNjA=", "number": 4860, "title": "CUDNN_LIBRARY selection", "user": {"login": "achainan", "id": 163181, "node_id": "MDQ6VXNlcjE2MzE4MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/163181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achainan", "html_url": "https://github.com/achainan", "followers_url": "https://api.github.com/users/achainan/followers", "following_url": "https://api.github.com/users/achainan/following{/other_user}", "gists_url": "https://api.github.com/users/achainan/gists{/gist_id}", "starred_url": "https://api.github.com/users/achainan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achainan/subscriptions", "organizations_url": "https://api.github.com/users/achainan/orgs", "repos_url": "https://api.github.com/users/achainan/repos", "events_url": "https://api.github.com/users/achainan/events{/privacy}", "received_events_url": "https://api.github.com/users/achainan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-25T22:20:55Z", "updated_at": "2018-02-22T03:51:05Z", "closed_at": "2018-02-22T03:51:05Z", "author_association": "NONE", "body_html": "<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/pytorch/pytorch/blob/94f439c07c4f3e13fbd87016212b3534d31a7165/tools/setup_helpers/cudnn.py#L59-L63\">pytorch/tools/setup_helpers/cudnn.py</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 59 to 63\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/pytorch/pytorch/commit/94f439c07c4f3e13fbd87016212b3534d31a7165\">94f439c</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L59\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"59\"></td>\n          <td id=\"LC59\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> libraries <span class=\"pl-k\">=</span> <span class=\"pl-c1\">sorted</span>(glob.glob(os.path.join(path, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>libcudnn*<span class=\"pl-pds\">'</span></span>))) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L60\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"60\"></td>\n          <td id=\"LC60\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">if</span> libraries: </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L61\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"61\"></td>\n          <td id=\"LC61\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-c1\">CUDNN_LIBRARY</span> <span class=\"pl-k\">=</span> libraries[<span class=\"pl-c1\">0</span>] </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L62\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"62\"></td>\n          <td id=\"LC62\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-c1\">CUDNN_LIB_DIR</span> <span class=\"pl-k\">=</span> path </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L63\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"63\"></td>\n          <td id=\"LC63\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">     <span class=\"pl-k\">break</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>If there was two libcudnn files (libcudnn.5.dylib and libcudnn.7.dylib) in the folder wouldn't it result in taking the older version (libcudnn.5.dylib)?</p>\n<p>Maybe adding a warning or something to insure its the right lib?</p>", "body_text": "pytorch/tools/setup_helpers/cudnn.py\n    \n    \n        Lines 59 to 63\n      in\n      94f439c\n    \n    \n    \n    \n\n        \n          \n           libraries = sorted(glob.glob(os.path.join(path, 'libcudnn*'))) \n        \n\n        \n          \n           if libraries: \n        \n\n        \n          \n               CUDNN_LIBRARY = libraries[0] \n        \n\n        \n          \n               CUDNN_LIB_DIR = path \n        \n\n        \n          \n               break \n        \n    \n  \n\n\nIf there was two libcudnn files (libcudnn.5.dylib and libcudnn.7.dylib) in the folder wouldn't it result in taking the older version (libcudnn.5.dylib)?\nMaybe adding a warning or something to insure its the right lib?", "body": "https://github.com/pytorch/pytorch/blob/94f439c07c4f3e13fbd87016212b3534d31a7165/tools/setup_helpers/cudnn.py#L59-L63\r\n\r\nIf there was two libcudnn files (libcudnn.5.dylib and libcudnn.7.dylib) in the folder wouldn't it result in taking the older version (libcudnn.5.dylib)?\r\n\r\nMaybe adding a warning or something to insure its the right lib?\r\n\r\n"}