{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2430", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2430/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2430/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2430/events", "html_url": "https://github.com/pytorch/pytorch/issues/2430", "id": 250421781, "node_id": "MDU6SXNzdWUyNTA0MjE3ODE=", "number": 2430, "title": "Trying to get pytorch working for the first time", "user": {"login": "robert604", "id": 23422701, "node_id": "MDQ6VXNlcjIzNDIyNzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/23422701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robert604", "html_url": "https://github.com/robert604", "followers_url": "https://api.github.com/users/robert604/followers", "following_url": "https://api.github.com/users/robert604/following{/other_user}", "gists_url": "https://api.github.com/users/robert604/gists{/gist_id}", "starred_url": "https://api.github.com/users/robert604/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robert604/subscriptions", "organizations_url": "https://api.github.com/users/robert604/orgs", "repos_url": "https://api.github.com/users/robert604/repos", "events_url": "https://api.github.com/users/robert604/events{/privacy}", "received_events_url": "https://api.github.com/users/robert604/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-15T20:03:51Z", "updated_at": "2017-08-17T13:29:08Z", "closed_at": "2017-08-16T22:02:23Z", "author_association": "NONE", "body_html": "<p>I am using a freshly installed Ubuntu mate 16.04 on a machine with two gpu's.  One is connected to the monitor (gtx 610) while the other is for use with neural networks (gtx 1060).<br>\nI used the \"software and updates\" app to install ver 384.59 and then ver 378.13 of the nvidia driver, but in both cases I wasn't able to get a pytorch script working properly.<br>\nI have anaconda installed with which I have installed spyder as the ide for python 3.6.<br>\nHere's the output from the \"nvidia-smi\" command:</p>\n<p>+-----------------------------------------------------------------------------+<br>\n| NVIDIA-SMI 378.13                 Driver Version: 378.13                    |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br>\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br>\n|===============================+======================+======================|<br>\n|   0  GeForce GT 610      Off  | 0000:03:00.0     N/A |                  N/A |<br>\n| 40%   47C    P8    N/A /  N/A |    299MiB /   959MiB |     N/A      Default |<br>\n+-------------------------------+----------------------+----------------------+<br>\n|   1  GeForce GTX 106...  Off  | 0000:04:00.0     Off |                  N/A |<br>\n| 40%   39C    P8     6W / 120W |     11MiB /  6072MiB |      0%      Default |<br>\n+-------------------------------+----------------------+----------------------+</p>\n<p>+-----------------------------------------------------------------------------+<br>\n| Processes:                                                       GPU Memory |<br>\n|  GPU       PID  Type  Process name                               Usage      |<br>\n|=============================================================================|<br>\n|    0                  Not Supported                                         |<br>\n+-----------------------------------------------------------------------------+</p>\n<p>I have not installed cuda manually on this setup. After installing pytorch through anaconda I tried out the simple script below:<br>\nimport torch<br>\na = torch.randn(10).cuda()<br>\nprint(a)<br>\nprint(a + 2)</p>\n<p>The program just hangs indefinitely, and it appears that one of my cpu cores is busy.<br>\nAfter some research on the internet I changed the script to:<br>\nimport torch<br>\ntorch.cuda.set_device(1)<br>\na = torch.randn(10).cuda()<br>\nprint(a)<br>\nprint(a + 2)</p>\n<p>Now I get a different error, here's the traceback:<br>\nTraceback (most recent call last):</p>\n<p>File \"\", line 1, in <br>\nrunfile('/home/robert/Downloads/Data/pytorch/pytorch1.py', wdir='/home/robert/Downloads/Data/pytorch')</p>\n<p>File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 688, in runfile<br>\nexecfile(filename, namespace)</p>\n<p>File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 101, in execfile<br>\nexec(compile(f.read(), filename, 'exec'), namespace)</p>\n<p>File \"/home/robert/Downloads/Data/pytorch/pytorch1.py\", line 13, in <br>\nprint(a + 2)</p>\n<p>File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/torch/tensor.py\", line 267, in <strong>add</strong><br>\nreturn self.add(other)</p>\n<p>RuntimeError: cuda runtime error (8) : invalid device function at /opt/conda/conda-bld/libtorch-gpu_1493845455319/work/pytorch-0.1.12/torch/lib/THC/generic/THCTensorMathPairwise.cu:21</p>\n<p>I'd also like to mention that I have used this machine with cuda for deep learning before using keras and have not made any hardware changes.  I was having problems reinstalling cuda after doing an update of the operating system so I thought I'd try out pytorch.</p>\n<p>Any help would be greatly appreciated.</p>", "body_text": "I am using a freshly installed Ubuntu mate 16.04 on a machine with two gpu's.  One is connected to the monitor (gtx 610) while the other is for use with neural networks (gtx 1060).\nI used the \"software and updates\" app to install ver 384.59 and then ver 378.13 of the nvidia driver, but in both cases I wasn't able to get a pytorch script working properly.\nI have anaconda installed with which I have installed spyder as the ide for python 3.6.\nHere's the output from the \"nvidia-smi\" command:\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 378.13                 Driver Version: 378.13                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GT 610      Off  | 0000:03:00.0     N/A |                  N/A |\n| 40%   47C    P8    N/A /  N/A |    299MiB /   959MiB |     N/A      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  GeForce GTX 106...  Off  | 0000:04:00.0     Off |                  N/A |\n| 40%   39C    P8     6W / 120W |     11MiB /  6072MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|    0                  Not Supported                                         |\n+-----------------------------------------------------------------------------+\nI have not installed cuda manually on this setup. After installing pytorch through anaconda I tried out the simple script below:\nimport torch\na = torch.randn(10).cuda()\nprint(a)\nprint(a + 2)\nThe program just hangs indefinitely, and it appears that one of my cpu cores is busy.\nAfter some research on the internet I changed the script to:\nimport torch\ntorch.cuda.set_device(1)\na = torch.randn(10).cuda()\nprint(a)\nprint(a + 2)\nNow I get a different error, here's the traceback:\nTraceback (most recent call last):\nFile \"\", line 1, in \nrunfile('/home/robert/Downloads/Data/pytorch/pytorch1.py', wdir='/home/robert/Downloads/Data/pytorch')\nFile \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 688, in runfile\nexecfile(filename, namespace)\nFile \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 101, in execfile\nexec(compile(f.read(), filename, 'exec'), namespace)\nFile \"/home/robert/Downloads/Data/pytorch/pytorch1.py\", line 13, in \nprint(a + 2)\nFile \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/torch/tensor.py\", line 267, in add\nreturn self.add(other)\nRuntimeError: cuda runtime error (8) : invalid device function at /opt/conda/conda-bld/libtorch-gpu_1493845455319/work/pytorch-0.1.12/torch/lib/THC/generic/THCTensorMathPairwise.cu:21\nI'd also like to mention that I have used this machine with cuda for deep learning before using keras and have not made any hardware changes.  I was having problems reinstalling cuda after doing an update of the operating system so I thought I'd try out pytorch.\nAny help would be greatly appreciated.", "body": "I am using a freshly installed Ubuntu mate 16.04 on a machine with two gpu's.  One is connected to the monitor (gtx 610) while the other is for use with neural networks (gtx 1060).\r\nI used the \"software and updates\" app to install ver 384.59 and then ver 378.13 of the nvidia driver, but in both cases I wasn't able to get a pytorch script working properly.\r\nI have anaconda installed with which I have installed spyder as the ide for python 3.6.\r\nHere's the output from the \"nvidia-smi\" command:\r\n\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 378.13                 Driver Version: 378.13                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GT 610      Off  | 0000:03:00.0     N/A |                  N/A |\r\n| 40%   47C    P8    N/A /  N/A |    299MiB /   959MiB |     N/A      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  GeForce GTX 106...  Off  | 0000:04:00.0     Off |                  N/A |\r\n| 40%   39C    P8     6W / 120W |     11MiB /  6072MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|    0                  Not Supported                                         |\r\n+-----------------------------------------------------------------------------+\r\n\r\nI have not installed cuda manually on this setup. After installing pytorch through anaconda I tried out the simple script below:\r\nimport torch\r\na = torch.randn(10).cuda()\r\nprint(a)\r\nprint(a + 2)\r\n\r\nThe program just hangs indefinitely, and it appears that one of my cpu cores is busy.\r\nAfter some research on the internet I changed the script to:\r\nimport torch\r\ntorch.cuda.set_device(1)\r\na = torch.randn(10).cuda()\r\nprint(a)\r\nprint(a + 2)\r\n\r\nNow I get a different error, here's the traceback:\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-1-2739f6cb979a>\", line 1, in <module>\r\n    runfile('/home/robert/Downloads/Data/pytorch/pytorch1.py', wdir='/home/robert/Downloads/Data/pytorch')\r\n\r\n  File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 688, in runfile\r\n    execfile(filename, namespace)\r\n\r\n  File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 101, in execfile\r\n    exec(compile(f.read(), filename, 'exec'), namespace)\r\n\r\n  File \"/home/robert/Downloads/Data/pytorch/pytorch1.py\", line 13, in <module>\r\n    print(a + 2)\r\n\r\n  File \"/home/robert/anaconda3/envs/alpha/lib/python3.6/site-packages/torch/tensor.py\", line 267, in __add__\r\n    return self.add(other)\r\n\r\nRuntimeError: cuda runtime error (8) : invalid device function at /opt/conda/conda-bld/libtorch-gpu_1493845455319/work/pytorch-0.1.12/torch/lib/THC/generic/THCTensorMathPairwise.cu:21\r\n\r\nI'd also like to mention that I have used this machine with cuda for deep learning before using keras and have not made any hardware changes.  I was having problems reinstalling cuda after doing an update of the operating system so I thought I'd try out pytorch.\r\n\r\nAny help would be greatly appreciated.\r\n"}