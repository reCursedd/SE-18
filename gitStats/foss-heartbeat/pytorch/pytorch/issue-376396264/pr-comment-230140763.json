{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/230140763", "pull_request_review_id": 170809795, "id": 230140763, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDE0MDc2Mw==", "diff_hunk": "@@ -43,6 +43,25 @@ LIST(APPEND MKLDNN_INCLUDE_DIR ${IDEEP_INCLUDE_DIR})\n IF(MKL_FOUND)\n   LIST(APPEND MKLDNN_LIBRARIES ${MKL_LIBRARIES})\n   LIST(APPEND MKLDNN_INCLUDE_DIR ${MKL_INCLUDE_DIR})\n+  # The OMP-related variables of MKL-DNN have to be overwritten here,\n+  # if MKL is using, and the OMP version is defined by MKL.\n+  # MKL_LIBRARIES_xxxx_LIBRARY is defined by MKL.\n+  # INTEL_MKL_DIR gives the MKL root path.\n+  IF (INTEL_MKL_DIR)\n+    SET(MKLROOT ${INTEL_MKL_DIR})\n+    IF(WIN32)\n+      SET(MKLIOMP5DLL ${MKL_LIBRARIES_libiomp5md_LIBRARY} CACHE STRING \"Overwrite MKL-DNN omp dependency\" FORCE)\n+    ELSE(WIN32)\n+      IF (MKL_LIBRARIES_gomp_LIBRARY)", "path": "cmake/Modules/FindMKLDNN.cmake", "position": 13, "original_position": 13, "commit_id": "8b16e143d8e8fdbb4426165a7f0a2d2172876207", "original_commit_id": "d4ee0cbbea34aa962465a50d8adb8d4d99d51105", "user": {"login": "yinghai", "id": 1100089, "node_id": "MDQ6VXNlcjExMDAwODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1100089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yinghai", "html_url": "https://github.com/yinghai", "followers_url": "https://api.github.com/users/yinghai/followers", "following_url": "https://api.github.com/users/yinghai/following{/other_user}", "gists_url": "https://api.github.com/users/yinghai/gists{/gist_id}", "starred_url": "https://api.github.com/users/yinghai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yinghai/subscriptions", "organizations_url": "https://api.github.com/users/yinghai/orgs", "repos_url": "https://api.github.com/users/yinghai/repos", "events_url": "https://api.github.com/users/yinghai/events{/privacy}", "received_events_url": "https://api.github.com/users/yinghai/received_events", "type": "User", "site_admin": false}, "body": "Where is this flag set? ", "created_at": "2018-11-01T18:05:34Z", "updated_at": "2018-11-23T15:54:02Z", "html_url": "https://github.com/pytorch/pytorch/pull/13449#discussion_r230140763", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/13449", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/230140763"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/13449#discussion_r230140763"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/13449"}}, "body_html": "<p>Where is this flag set?</p>", "body_text": "Where is this flag set?"}