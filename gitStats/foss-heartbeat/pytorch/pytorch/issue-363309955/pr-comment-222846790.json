{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/222846790", "pull_request_review_id": 161834776, "id": 222846790, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjg0Njc5MA==", "diff_hunk": "@@ -1936,14 +1936,17 @@\n     SparseCPU: new_with_tensor_and_size_sparse\n     SparseCUDA: new_with_tensor_and_size_sparse\n \n-- func: sparse_coo_tensor(Type dtype, IntList size) -> Tensor\n-  variants: []\n-\n - func: sparse_coo_tensor(IndexTensor indices, Tensor values) -> Tensor\n-  variants: []\n \n - func: sparse_coo_tensor(IndexTensor indices, Tensor values, IntList size) -> Tensor\n-  variants: []\n+\n+# FIXME: would be nicer if TensorOptions was optional based; not adding default arguments for options given\n+# the default would never make sense.\n+- func: sparse_coo_tensor(IntList size, *, TensorOptions options) -> Tensor\n+\n+- func: sparse_coo_tensor(IndexTensor indices, Tensor values, *, TensorOptions options) -> Tensor", "path": "aten/src/ATen/native/native_functions.yaml", "position": 17, "original_position": 17, "commit_id": "ecd250e0ca05ae56d76897fc94387f58b8d64972", "original_commit_id": "ecd250e0ca05ae56d76897fc94387f58b8d64972", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "body": "This entry and the one below don't make much sense to me. The type of the sparse tensor in these cases are already defined by the `indices` and `values` types. The type isn't actually used!! See\r\nhttps://github.com/pytorch/pytorch/blob/16e21e14e398b90cfada8a0c6a2f628505e1dfac/aten/src/ATen/native/sparse/SparseTensor.cpp#L151\r\n\r\nCan I purge it? Context: I'm rebasing #11253 ", "created_at": "2018-10-04T22:29:17Z", "updated_at": "2018-11-23T15:52:24Z", "html_url": "https://github.com/pytorch/pytorch/pull/12025#discussion_r222846790", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12025", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/222846790"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12025#discussion_r222846790"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12025"}}, "body_html": "<p>This entry and the one below don't make much sense to me. The type of the sparse tensor in these cases are already defined by the <code>indices</code> and <code>values</code> types. The type isn't actually used!! See<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/pytorch/pytorch/blob/16e21e14e398b90cfada8a0c6a2f628505e1dfac/aten/src/ATen/native/sparse/SparseTensor.cpp#L151\">pytorch/aten/src/ATen/native/sparse/SparseTensor.cpp</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n         Line 151\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/pytorch/pytorch/commit/16e21e14e398b90cfada8a0c6a2f628505e1dfac\">16e21e1</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L151\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"151\"></td>\n          <td id=\"LC151\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">const</span> SparseType&amp; dtype = values.<span class=\"pl-c1\">type</span>().<span class=\"pl-c1\">toSparse</span>(); </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<p>Can I purge it? Context: I'm rebasing <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357010970\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11253\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11253/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11253\">#11253</a></p>", "body_text": "This entry and the one below don't make much sense to me. The type of the sparse tensor in these cases are already defined by the indices and values types. The type isn't actually used!! See\n\n  \n    \n      pytorch/aten/src/ATen/native/sparse/SparseTensor.cpp\n    \n    \n         Line 151\n      in\n      16e21e1\n    \n    \n    \n    \n\n        \n          \n           const SparseType& dtype = values.type().toSparse(); \n        \n    \n  \n\n\nCan I purge it? Context: I'm rebasing #11253"}