{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/310137010", "html_url": "https://github.com/pytorch/pytorch/issues/1822#issuecomment-310137010", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1822", "id": 310137010, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDEzNzAxMA==", "user": {"login": "vlasenkov", "id": 13369474, "node_id": "MDQ6VXNlcjEzMzY5NDc0", "avatar_url": "https://avatars3.githubusercontent.com/u/13369474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlasenkov", "html_url": "https://github.com/vlasenkov", "followers_url": "https://api.github.com/users/vlasenkov/followers", "following_url": "https://api.github.com/users/vlasenkov/following{/other_user}", "gists_url": "https://api.github.com/users/vlasenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlasenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlasenkov/subscriptions", "organizations_url": "https://api.github.com/users/vlasenkov/orgs", "repos_url": "https://api.github.com/users/vlasenkov/repos", "events_url": "https://api.github.com/users/vlasenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/vlasenkov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-21T16:41:46Z", "updated_at": "2017-06-21T16:41:46Z", "author_association": "CONTRIBUTOR", "body_html": "<ul>\n<li>Dot fails <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L174\">here</a>. <code>sdot_</code> just returns zero.</li>\n<li>Also found this in <code>./torch/lib/build/TH/CMakeFiles/CMakeError.log</code>:</li>\n</ul>\n<pre><code>/Library/Developer/CommandLineTools/usr/bin/cc    -DUSE_SSE4_1 -msse4.2 -DUSE_SSE4_2 -DUSE_AVX2 -DUSE_AVX   -DUSE_SSE3   -DUSE_SSE2  -DTH_INDEX_BASE=0 -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/TH -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THC   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THS -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THCS   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THPP  -L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib  -Qunused-arguments -Wl,-rpath,@loader_path -std=gnu99 -DHAVE_GCC_GET_CPUID -DBLAS_F2C_FLOAT_WORKS -Wl,-search_paths_first -Wl,-headerpad_max_install_names   CMakeFiles/cmTC_5cb31.dir/src.c.o  -o cmTC_5cb31  -framework Accelerate \nld: warning: directory not found for option '-L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib'\n\nReturn value: 1\nSource file was:\n\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\nfloat x[4] = { 1, 2, 3, 4 };\nfloat y[4] = { .1, .01, .001, .0001 };\nint four = 4;\nint one = 1;\nextern float sdot_();\nint main() {\n  int i;\n  double r = sdot_(&amp;four, x, &amp;one, y, &amp;one);\n  exit((float)r != (float).1234);\n}\nDetermining if the function malloc_usable_size exists failed with the following output:\nChange Dir: /Users/leonidvlasenkov/pytorch/torch/lib/build/TH/CMakeFiles/CMakeTmp\n</code></pre>\n<p>Are there any  ideas?</p>", "body_text": "Dot fails here. sdot_ just returns zero.\nAlso found this in ./torch/lib/build/TH/CMakeFiles/CMakeError.log:\n\n/Library/Developer/CommandLineTools/usr/bin/cc    -DUSE_SSE4_1 -msse4.2 -DUSE_SSE4_2 -DUSE_AVX2 -DUSE_AVX   -DUSE_SSE3   -DUSE_SSE2  -DTH_INDEX_BASE=0 -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/TH -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THC   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THS -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THCS   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THPP  -L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib  -Qunused-arguments -Wl,-rpath,@loader_path -std=gnu99 -DHAVE_GCC_GET_CPUID -DBLAS_F2C_FLOAT_WORKS -Wl,-search_paths_first -Wl,-headerpad_max_install_names   CMakeFiles/cmTC_5cb31.dir/src.c.o  -o cmTC_5cb31  -framework Accelerate \nld: warning: directory not found for option '-L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib'\n\nReturn value: 1\nSource file was:\n\n#include <stdlib.h>\n#include <stdio.h>\nfloat x[4] = { 1, 2, 3, 4 };\nfloat y[4] = { .1, .01, .001, .0001 };\nint four = 4;\nint one = 1;\nextern float sdot_();\nint main() {\n  int i;\n  double r = sdot_(&four, x, &one, y, &one);\n  exit((float)r != (float).1234);\n}\nDetermining if the function malloc_usable_size exists failed with the following output:\nChange Dir: /Users/leonidvlasenkov/pytorch/torch/lib/build/TH/CMakeFiles/CMakeTmp\n\nAre there any  ideas?", "body": "- Dot fails [here](https://github.com/pytorch/pytorch/blob/master/torch/lib/TH/generic/THBlas.c#L174). `sdot_` just returns zero.\r\n- Also found this in `./torch/lib/build/TH/CMakeFiles/CMakeError.log`:\r\n```\r\n/Library/Developer/CommandLineTools/usr/bin/cc    -DUSE_SSE4_1 -msse4.2 -DUSE_SSE4_2 -DUSE_AVX2 -DUSE_AVX   -DUSE_SSE3   -DUSE_SSE2  -DTH_INDEX_BASE=0 -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/TH -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THC   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THS -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THCS   -I/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/include/THPP  -L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib  -Qunused-arguments -Wl,-rpath,@loader_path -std=gnu99 -DHAVE_GCC_GET_CPUID -DBLAS_F2C_FLOAT_WORKS -Wl,-search_paths_first -Wl,-headerpad_max_install_names   CMakeFiles/cmTC_5cb31.dir/src.c.o  -o cmTC_5cb31  -framework Accelerate \r\nld: warning: directory not found for option '-L/Users/leonidvlasenkov/pytorch/torch/lib/tmp_install/lib'\r\n\r\nReturn value: 1\r\nSource file was:\r\n\r\n#include <stdlib.h>\r\n#include <stdio.h>\r\nfloat x[4] = { 1, 2, 3, 4 };\r\nfloat y[4] = { .1, .01, .001, .0001 };\r\nint four = 4;\r\nint one = 1;\r\nextern float sdot_();\r\nint main() {\r\n  int i;\r\n  double r = sdot_(&four, x, &one, y, &one);\r\n  exit((float)r != (float).1234);\r\n}\r\nDetermining if the function malloc_usable_size exists failed with the following output:\r\nChange Dir: /Users/leonidvlasenkov/pytorch/torch/lib/build/TH/CMakeFiles/CMakeTmp\r\n```\r\nAre there any  ideas?"}