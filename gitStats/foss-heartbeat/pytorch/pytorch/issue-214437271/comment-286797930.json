{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/286797930", "html_url": "https://github.com/pytorch/pytorch/pull/1005#issuecomment-286797930", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1005", "id": 286797930, "node_id": "MDEyOklzc3VlQ29tbWVudDI4Njc5NzkzMA==", "user": {"login": "vadimkantorov", "id": 1041752, "node_id": "MDQ6VXNlcjEwNDE3NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1041752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimkantorov", "html_url": "https://github.com/vadimkantorov", "followers_url": "https://api.github.com/users/vadimkantorov/followers", "following_url": "https://api.github.com/users/vadimkantorov/following{/other_user}", "gists_url": "https://api.github.com/users/vadimkantorov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimkantorov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimkantorov/subscriptions", "organizations_url": "https://api.github.com/users/vadimkantorov/orgs", "repos_url": "https://api.github.com/users/vadimkantorov/repos", "events_url": "https://api.github.com/users/vadimkantorov/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimkantorov/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-15T16:27:14Z", "updated_at": "2017-03-15T16:48:35Z", "author_association": "NONE", "body_html": "<p>In Python 2.7.6:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-en\">A</span>(<span class=\"pl-c1\">object</span>):\n     <span class=\"pl-k\">pass</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">B</span>:\n     <span class=\"pl-k\">pass</span></pre></div>\n<pre><code>&gt;&gt;&gt; type(B)\n&lt;type 'classobj'&gt;\n&gt;&gt;&gt; type(A)\n&lt;type 'type'&gt;\n\n&gt;&gt;&gt; A.__class__\n&lt;type 'type'&gt;\n&gt;&gt;&gt; B.__class__\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: class B has no attribute '__class__'\n\n&gt;&gt;&gt; A().__class__\n&lt;class '__main__.A'&gt;\n&gt;&gt;&gt; B().__class__\n&lt;class __main__.B at 0x7fbb19cd6258&gt;\n</code></pre>\n<p>Answering your question: they are similar, with minor differences in formatting. Probably <code>type(obj)</code> would be a better solution than <code>getattr</code>. I'll try it.</p>\n<pre><code>&gt;&gt;&gt; type(B)\n&lt;type 'classobj'&gt;\n&gt;&gt;&gt; A.__class__\n&lt;type 'type'&gt;\n</code></pre>\n<p>The problem in serializer seems to be that it called <code>torch.is_storage</code> on class itself, not class instance.</p>", "body_text": "In Python 2.7.6:\nclass A(object):\n     pass\n\nclass B:\n     pass\n>>> type(B)\n<type 'classobj'>\n>>> type(A)\n<type 'type'>\n\n>>> A.__class__\n<type 'type'>\n>>> B.__class__\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nAttributeError: class B has no attribute '__class__'\n\n>>> A().__class__\n<class '__main__.A'>\n>>> B().__class__\n<class __main__.B at 0x7fbb19cd6258>\n\nAnswering your question: they are similar, with minor differences in formatting. Probably type(obj) would be a better solution than getattr. I'll try it.\n>>> type(B)\n<type 'classobj'>\n>>> A.__class__\n<type 'type'>\n\nThe problem in serializer seems to be that it called torch.is_storage on class itself, not class instance.", "body": "In Python 2.7.6:\r\n\r\n```python\r\nclass A(object):\r\n     pass\r\n\r\nclass B:\r\n     pass\r\n```\r\n\r\n```\r\n>>> type(B)\r\n<type 'classobj'>\r\n>>> type(A)\r\n<type 'type'>\r\n\r\n>>> A.__class__\r\n<type 'type'>\r\n>>> B.__class__\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: class B has no attribute '__class__'\r\n\r\n>>> A().__class__\r\n<class '__main__.A'>\r\n>>> B().__class__\r\n<class __main__.B at 0x7fbb19cd6258>\r\n```\r\n\r\nAnswering your question: they are similar, with minor differences in formatting. Probably `type(obj)` would be a better solution than `getattr`. I'll try it. \r\n```\r\n>>> type(B)\r\n<type 'classobj'>\r\n>>> A.__class__\r\n<type 'type'>\r\n```\r\n\r\nThe problem in serializer seems to be that it called `torch.is_storage` on class itself, not class instance."}