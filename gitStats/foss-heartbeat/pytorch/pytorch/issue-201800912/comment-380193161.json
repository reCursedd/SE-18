{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/380193161", "html_url": "https://github.com/pytorch/pytorch/issues/494#issuecomment-380193161", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/494", "id": 380193161, "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDE5MzE2MQ==", "user": {"login": "devinbostIL", "id": 19719649, "node_id": "MDQ6VXNlcjE5NzE5NjQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/19719649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devinbostIL", "html_url": "https://github.com/devinbostIL", "followers_url": "https://api.github.com/users/devinbostIL/followers", "following_url": "https://api.github.com/users/devinbostIL/following{/other_user}", "gists_url": "https://api.github.com/users/devinbostIL/gists{/gist_id}", "starred_url": "https://api.github.com/users/devinbostIL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devinbostIL/subscriptions", "organizations_url": "https://api.github.com/users/devinbostIL/orgs", "repos_url": "https://api.github.com/users/devinbostIL/repos", "events_url": "https://api.github.com/users/devinbostIL/events{/privacy}", "received_events_url": "https://api.github.com/users/devinbostIL/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-10T18:01:05Z", "updated_at": "2018-04-10T18:01:05Z", "author_association": "NONE", "body_html": "<p>I opened the x64 Native Tools Command Prompt for VS 2017 after updating VS 2017 to latest, ran:<br>\n<code>\"C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries_2018.1.156\\windows\\mkl\\bin\\mklvars.bat\" intel64</code><br>\nand then ran <code>cd</code> to get into the <code>pytorch-scripts</code> repo, ran <code>git pull</code> to grab latest, and then I ran:<br>\n<code>cuda90.bat</code><br>\nbut got:</p>\n<blockquote>\n<p>C:\\src\\pytorch_source\\pytorch-scripts&gt;cuda90.bat<br>\nMKL found, adding it to build<br>\nThe flags after configuring:<br>\nNO_CUDA=<br>\nCMAKE_GENERATOR=Visual Studio 15 2017 Win64<br>\nCUDA_PATH=C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0<br>\nDISTUTILS_USE_SDK=1<br>\nDo you wish to continue? (Y/N)<br>\nType input: y</p>\n<hr>\n<p>** Visual Studio 2017 Developer Command Prompt v15.6.6<br>\n** Copyright (c) 2017 Microsoft Corporation</p>\n<hr>\n<p>[ERROR:vcvars.bat] Toolset directory for version '14.11' was not found.<br>\n[ERROR:VsDevCmd.bat] *** VsDevCmd.bat encountered errors. Environment may be incomplete and/or incorrect. ***<br>\n[ERROR:VsDevCmd.bat] In an uninitialized command prompt, please 'set VSCMD_DEBUG=[value]' and then re-run<br>\n[ERROR:VsDevCmd.bat] vsdevcmd.bat [args] for additional details.<br>\n[ERROR:VsDevCmd.bat] Where [value] is:<br>\n[ERROR:VsDevCmd.bat]    1 : basic debug logging<br>\n[ERROR:VsDevCmd.bat]    2 : detailed debug logging<br>\n[ERROR:VsDevCmd.bat]    3 : trace level logging. Redirection of output to a file when using this level is recommended.<br>\n[ERROR:VsDevCmd.bat] Example: set VSCMD_DEBUG=3<br>\n[ERROR:VsDevCmd.bat]          vsdevcmd.bat &gt; vsdevcmd.trace.txt 2&gt;&amp;1<br>\nrunning install<br>\nrunning build_deps<br>\nA subdirectory or file tmp_install already exists.<br>\nA subdirectory or file build\\ATen already exists.<br>\nCMake Error: Error: generator : Visual Studio 15 2017 Win64<br>\nDoes not match the generator used previously: Ninja<br>\nEither remove the CMakeCache.txt file and CMakeFiles directory or choose a different binary directory.<br>\nMicrosoft (R) Build Engine version 15.6.85.37198 for .NET Framework<br>\nCopyright (C) Microsoft Corporation. All rights reserved.</p>\n<p>MSBUILD : error MSB1009: Project file does not exist.<br>\nSwitch: INSTALL.vcxproj</p>\n</blockquote>\n<p>I feel like I'm missing or forgetting something. Any ideas?</p>", "body_text": "I opened the x64 Native Tools Command Prompt for VS 2017 after updating VS 2017 to latest, ran:\n\"C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries_2018.1.156\\windows\\mkl\\bin\\mklvars.bat\" intel64\nand then ran cd to get into the pytorch-scripts repo, ran git pull to grab latest, and then I ran:\ncuda90.bat\nbut got:\n\nC:\\src\\pytorch_source\\pytorch-scripts>cuda90.bat\nMKL found, adding it to build\nThe flags after configuring:\nNO_CUDA=\nCMAKE_GENERATOR=Visual Studio 15 2017 Win64\nCUDA_PATH=C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\nDISTUTILS_USE_SDK=1\nDo you wish to continue? (Y/N)\nType input: y\n\n** Visual Studio 2017 Developer Command Prompt v15.6.6\n** Copyright (c) 2017 Microsoft Corporation\n\n[ERROR:vcvars.bat] Toolset directory for version '14.11' was not found.\n[ERROR:VsDevCmd.bat] *** VsDevCmd.bat encountered errors. Environment may be incomplete and/or incorrect. ***\n[ERROR:VsDevCmd.bat] In an uninitialized command prompt, please 'set VSCMD_DEBUG=[value]' and then re-run\n[ERROR:VsDevCmd.bat] vsdevcmd.bat [args] for additional details.\n[ERROR:VsDevCmd.bat] Where [value] is:\n[ERROR:VsDevCmd.bat]    1 : basic debug logging\n[ERROR:VsDevCmd.bat]    2 : detailed debug logging\n[ERROR:VsDevCmd.bat]    3 : trace level logging. Redirection of output to a file when using this level is recommended.\n[ERROR:VsDevCmd.bat] Example: set VSCMD_DEBUG=3\n[ERROR:VsDevCmd.bat]          vsdevcmd.bat > vsdevcmd.trace.txt 2>&1\nrunning install\nrunning build_deps\nA subdirectory or file tmp_install already exists.\nA subdirectory or file build\\ATen already exists.\nCMake Error: Error: generator : Visual Studio 15 2017 Win64\nDoes not match the generator used previously: Ninja\nEither remove the CMakeCache.txt file and CMakeFiles directory or choose a different binary directory.\nMicrosoft (R) Build Engine version 15.6.85.37198 for .NET Framework\nCopyright (C) Microsoft Corporation. All rights reserved.\nMSBUILD : error MSB1009: Project file does not exist.\nSwitch: INSTALL.vcxproj\n\nI feel like I'm missing or forgetting something. Any ideas?", "body": "I opened the x64 Native Tools Command Prompt for VS 2017 after updating VS 2017 to latest, ran: \r\n`\"C:\\Program Files (x86)\\IntelSWTools\\compilers_and_libraries_2018.1.156\\windows\\mkl\\bin\\mklvars.bat\" intel64`\r\nand then ran `cd` to get into the `pytorch-scripts` repo, ran `git pull` to grab latest, and then I ran:\r\n`cuda90.bat` \r\nbut got:\r\n\r\n> C:\\src\\pytorch_source\\pytorch-scripts>cuda90.bat\r\n> MKL found, adding it to build\r\n> The flags after configuring:\r\n> NO_CUDA=\r\n> CMAKE_GENERATOR=Visual Studio 15 2017 Win64\r\n> CUDA_PATH=C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\r\n> DISTUTILS_USE_SDK=1\r\n> Do you wish to continue? (Y/N)\r\n> Type input: y\r\n> **********************************************************************\r\n> ** Visual Studio 2017 Developer Command Prompt v15.6.6\r\n> ** Copyright (c) 2017 Microsoft Corporation\r\n> **********************************************************************\r\n> [ERROR:vcvars.bat] Toolset directory for version '14.11' was not found.\r\n> [ERROR:VsDevCmd.bat] *** VsDevCmd.bat encountered errors. Environment may be incomplete and/or incorrect. ***\r\n> [ERROR:VsDevCmd.bat] In an uninitialized command prompt, please 'set VSCMD_DEBUG=[value]' and then re-run\r\n> [ERROR:VsDevCmd.bat] vsdevcmd.bat [args] for additional details.\r\n> [ERROR:VsDevCmd.bat] Where [value] is:\r\n> [ERROR:VsDevCmd.bat]    1 : basic debug logging\r\n> [ERROR:VsDevCmd.bat]    2 : detailed debug logging\r\n> [ERROR:VsDevCmd.bat]    3 : trace level logging. Redirection of output to a file when using this level is recommended.\r\n> [ERROR:VsDevCmd.bat] Example: set VSCMD_DEBUG=3\r\n> [ERROR:VsDevCmd.bat]          vsdevcmd.bat > vsdevcmd.trace.txt 2>&1\r\n> running install\r\n> running build_deps\r\n> A subdirectory or file tmp_install already exists.\r\n> A subdirectory or file build\\ATen already exists.\r\n> CMake Error: Error: generator : Visual Studio 15 2017 Win64\r\n> Does not match the generator used previously: Ninja\r\n> Either remove the CMakeCache.txt file and CMakeFiles directory or choose a different binary directory.\r\n> Microsoft (R) Build Engine version 15.6.85.37198 for .NET Framework\r\n> Copyright (C) Microsoft Corporation. All rights reserved.\r\n> \r\n> MSBUILD : error MSB1009: Project file does not exist.\r\n> Switch: INSTALL.vcxproj\r\n\r\nI feel like I'm missing or forgetting something. Any ideas?"}