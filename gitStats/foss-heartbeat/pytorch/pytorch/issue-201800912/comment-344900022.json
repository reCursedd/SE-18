{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/344900022", "html_url": "https://github.com/pytorch/pytorch/issues/494#issuecomment-344900022", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/494", "id": 344900022, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDkwMDAyMg==", "user": {"login": "trias702", "id": 25867060, "node_id": "MDQ6VXNlcjI1ODY3MDYw", "avatar_url": "https://avatars3.githubusercontent.com/u/25867060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trias702", "html_url": "https://github.com/trias702", "followers_url": "https://api.github.com/users/trias702/followers", "following_url": "https://api.github.com/users/trias702/following{/other_user}", "gists_url": "https://api.github.com/users/trias702/gists{/gist_id}", "starred_url": "https://api.github.com/users/trias702/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trias702/subscriptions", "organizations_url": "https://api.github.com/users/trias702/orgs", "repos_url": "https://api.github.com/users/trias702/repos", "events_url": "https://api.github.com/users/trias702/events{/privacy}", "received_events_url": "https://api.github.com/users/trias702/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-16T11:48:21Z", "updated_at": "2017-11-16T11:48:21Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> NativeFunctions.h now appears in pytorch\\torch\\lib\\build\\ATen\\ATen, but only after I had to manually create the trailing ATen directory by hand, and then run gen.py manually. Is this the correct location for NativeFunctions.h after running pytorch\\aten\\src\\ATen\\gen.py?</p>\n<p>If this is correct, then it appears that gen.py is missing a critical os.makedirs(directory) line.</p>\n<p>Here is the output of generated_cpp.txt from my last failed build:</p>\n<p><code>ATen/CUDAGenerator.h;ATen/CPUGenerator.h;ATen/Declarations.yaml;ATen/CPUByteStorage.cpp;ATen/CPUByteStorage.h;ATen/CPUByteType.cpp;ATen/CPUByteType.h;ATen/CPUByteTensor.cpp;ATen/CPUByteTensor.h;ATen/CPUCharStorage.cpp;ATen/CPUCharStorage.h;ATen/CPUCharType.cpp;ATen/CPUCharType.h;ATen/CPUCharTensor.cpp;ATen/CPUCharTensor.h;ATen/CPUDoubleStorage.cpp;ATen/CPUDoubleStorage.h;ATen/CPUDoubleType.cpp;ATen/CPUDoubleType.h;ATen/CPUDoubleTensor.cpp;ATen/CPUDoubleTensor.h;ATen/CPUFloatStorage.cpp;ATen/CPUFloatStorage.h;ATen/CPUFloatType.cpp;ATen/CPUFloatType.h;ATen/CPUFloatTensor.cpp;ATen/CPUFloatTensor.h;ATen/CPUIntStorage.cpp;ATen/CPUIntStorage.h;ATen/CPUIntType.cpp;ATen/CPUIntType.h;ATen/CPUIntTensor.cpp;ATen/CPUIntTensor.h;ATen/CPULongStorage.cpp;ATen/CPULongStorage.h;ATen/CPULongType.cpp;ATen/CPULongType.h;ATen/CPULongTensor.cpp;ATen/CPULongTensor.h;ATen/CPUShortStorage.cpp;ATen/CPUShortStorage.h;ATen/CPUShortType.cpp;ATen/CPUShortType.h;ATen/CPUShortTensor.cpp;ATen/CPUShortTensor.h;ATen/CPUHalfStorage.cpp;ATen/CPUHalfStorage.h;ATen/CPUHalfType.cpp;ATen/CPUHalfType.h;ATen/CPUHalfTensor.cpp;ATen/CPUHalfTensor.h;ATen/SparseCPUByteType.cpp;ATen/SparseCPUByteType.h;ATen/SparseCPUByteTensor.cpp;ATen/SparseCPUByteTensor.h;ATen/SparseCPUCharType.cpp;ATen/SparseCPUCharType.h;ATen/SparseCPUCharTensor.cpp;ATen/SparseCPUCharTensor.h;ATen/SparseCPUDoubleType.cpp;ATen/SparseCPUDoubleType.h;ATen/SparseCPUDoubleTensor.cpp;ATen/SparseCPUDoubleTensor.h;ATen/SparseCPUFloatType.cpp;ATen/SparseCPUFloatType.h;ATen/SparseCPUFloatTensor.cpp;ATen/SparseCPUFloatTensor.h;ATen/SparseCPUIntType.cpp;ATen/SparseCPUIntType.h;ATen/SparseCPUIntTensor.cpp;ATen/SparseCPUIntTensor.h;ATen/SparseCPULongType.cpp;ATen/SparseCPULongType.h;ATen/SparseCPULongTensor.cpp;ATen/SparseCPULongTensor.h;ATen/SparseCPUShortType.cpp;ATen/SparseCPUShortType.h;ATen/SparseCPUShortTensor.cpp;ATen/SparseCPUShortTensor.h;ATen/CUDAByteStorage.cpp;ATen/CUDAByteStorage.h;ATen/CUDAByteType.cpp;ATen/CUDAByteType.h;ATen/CUDAByteTensor.cpp;ATen/CUDAByteTensor.h;ATen/CUDACharStorage.cpp;ATen/CUDACharStorage.h;ATen/CUDACharType.cpp;ATen/CUDACharType.h;ATen/CUDACharTensor.cpp;ATen/CUDACharTensor.h;ATen/CUDADoubleStorage.cpp;ATen/CUDADoubleStorage.h;ATen/CUDADoubleType.cpp;ATen/CUDADoubleType.h;ATen/CUDADoubleTensor.cpp;ATen/CUDADoubleTensor.h;ATen/CUDAFloatStorage.cpp;ATen/CUDAFloatStorage.h;ATen/CUDAFloatType.cpp;ATen/CUDAFloatType.h;ATen/CUDAFloatTensor.cpp;ATen/CUDAFloatTensor.h;ATen/CUDAIntStorage.cpp;ATen/CUDAIntStorage.h;ATen/CUDAIntType.cpp;ATen/CUDAIntType.h;ATen/CUDAIntTensor.cpp;ATen/CUDAIntTensor.h;ATen/CUDALongStorage.cpp;ATen/CUDALongStorage.h;ATen/CUDALongType.cpp;ATen/CUDALongType.h;ATen/CUDALongTensor.cpp;ATen/CUDALongTensor.h;ATen/CUDAShortStorage.cpp;ATen/CUDAShortStorage.h;ATen/CUDAShortType.cpp;ATen/CUDAShortType.h;ATen/CUDAShortTensor.cpp;ATen/CUDAShortTensor.h;ATen/CUDAHalfStorage.cpp;ATen/CUDAHalfStorage.h;ATen/CUDAHalfType.cpp;ATen/CUDAHalfType.h;ATen/CUDAHalfTensor.cpp;ATen/CUDAHalfTensor.h;ATen/SparseCUDAByteType.cpp;ATen/SparseCUDAByteType.h;ATen/SparseCUDAByteTensor.cpp;ATen/SparseCUDAByteTensor.h;ATen/SparseCUDACharType.cpp;ATen/SparseCUDACharType.h;ATen/SparseCUDACharTensor.cpp;ATen/SparseCUDACharTensor.h;ATen/SparseCUDADoubleType.cpp;ATen/SparseCUDADoubleType.h;ATen/SparseCUDADoubleTensor.cpp;ATen/SparseCUDADoubleTensor.h;ATen/SparseCUDAFloatType.cpp;ATen/SparseCUDAFloatType.h;ATen/SparseCUDAFloatTensor.cpp;ATen/SparseCUDAFloatTensor.h;ATen/SparseCUDAIntType.cpp;ATen/SparseCUDAIntType.h;ATen/SparseCUDAIntTensor.cpp;ATen/SparseCUDAIntTensor.h;ATen/SparseCUDALongType.cpp;ATen/SparseCUDALongType.h;ATen/SparseCUDALongTensor.cpp;ATen/SparseCUDALongTensor.h;ATen/SparseCUDAShortType.cpp;ATen/SparseCUDAShortType.h;ATen/SparseCUDAShortTensor.cpp;ATen/SparseCUDAShortTensor.h;ATen/Type.h;ATen/Type.cpp;ATen/Tensor.h;ATen/TensorMethods.h;ATen/Functions.h;ATen/Dispatch.h;ATen/Copy.cpp;ATen/NativeFunctions.h;</code></p>\n<p>Will now try a fresh, clean build using the trick of manually creating that inner ATen directory and seeing if it works.</p>", "body_text": "@peterjc123 NativeFunctions.h now appears in pytorch\\torch\\lib\\build\\ATen\\ATen, but only after I had to manually create the trailing ATen directory by hand, and then run gen.py manually. Is this the correct location for NativeFunctions.h after running pytorch\\aten\\src\\ATen\\gen.py?\nIf this is correct, then it appears that gen.py is missing a critical os.makedirs(directory) line.\nHere is the output of generated_cpp.txt from my last failed build:\nATen/CUDAGenerator.h;ATen/CPUGenerator.h;ATen/Declarations.yaml;ATen/CPUByteStorage.cpp;ATen/CPUByteStorage.h;ATen/CPUByteType.cpp;ATen/CPUByteType.h;ATen/CPUByteTensor.cpp;ATen/CPUByteTensor.h;ATen/CPUCharStorage.cpp;ATen/CPUCharStorage.h;ATen/CPUCharType.cpp;ATen/CPUCharType.h;ATen/CPUCharTensor.cpp;ATen/CPUCharTensor.h;ATen/CPUDoubleStorage.cpp;ATen/CPUDoubleStorage.h;ATen/CPUDoubleType.cpp;ATen/CPUDoubleType.h;ATen/CPUDoubleTensor.cpp;ATen/CPUDoubleTensor.h;ATen/CPUFloatStorage.cpp;ATen/CPUFloatStorage.h;ATen/CPUFloatType.cpp;ATen/CPUFloatType.h;ATen/CPUFloatTensor.cpp;ATen/CPUFloatTensor.h;ATen/CPUIntStorage.cpp;ATen/CPUIntStorage.h;ATen/CPUIntType.cpp;ATen/CPUIntType.h;ATen/CPUIntTensor.cpp;ATen/CPUIntTensor.h;ATen/CPULongStorage.cpp;ATen/CPULongStorage.h;ATen/CPULongType.cpp;ATen/CPULongType.h;ATen/CPULongTensor.cpp;ATen/CPULongTensor.h;ATen/CPUShortStorage.cpp;ATen/CPUShortStorage.h;ATen/CPUShortType.cpp;ATen/CPUShortType.h;ATen/CPUShortTensor.cpp;ATen/CPUShortTensor.h;ATen/CPUHalfStorage.cpp;ATen/CPUHalfStorage.h;ATen/CPUHalfType.cpp;ATen/CPUHalfType.h;ATen/CPUHalfTensor.cpp;ATen/CPUHalfTensor.h;ATen/SparseCPUByteType.cpp;ATen/SparseCPUByteType.h;ATen/SparseCPUByteTensor.cpp;ATen/SparseCPUByteTensor.h;ATen/SparseCPUCharType.cpp;ATen/SparseCPUCharType.h;ATen/SparseCPUCharTensor.cpp;ATen/SparseCPUCharTensor.h;ATen/SparseCPUDoubleType.cpp;ATen/SparseCPUDoubleType.h;ATen/SparseCPUDoubleTensor.cpp;ATen/SparseCPUDoubleTensor.h;ATen/SparseCPUFloatType.cpp;ATen/SparseCPUFloatType.h;ATen/SparseCPUFloatTensor.cpp;ATen/SparseCPUFloatTensor.h;ATen/SparseCPUIntType.cpp;ATen/SparseCPUIntType.h;ATen/SparseCPUIntTensor.cpp;ATen/SparseCPUIntTensor.h;ATen/SparseCPULongType.cpp;ATen/SparseCPULongType.h;ATen/SparseCPULongTensor.cpp;ATen/SparseCPULongTensor.h;ATen/SparseCPUShortType.cpp;ATen/SparseCPUShortType.h;ATen/SparseCPUShortTensor.cpp;ATen/SparseCPUShortTensor.h;ATen/CUDAByteStorage.cpp;ATen/CUDAByteStorage.h;ATen/CUDAByteType.cpp;ATen/CUDAByteType.h;ATen/CUDAByteTensor.cpp;ATen/CUDAByteTensor.h;ATen/CUDACharStorage.cpp;ATen/CUDACharStorage.h;ATen/CUDACharType.cpp;ATen/CUDACharType.h;ATen/CUDACharTensor.cpp;ATen/CUDACharTensor.h;ATen/CUDADoubleStorage.cpp;ATen/CUDADoubleStorage.h;ATen/CUDADoubleType.cpp;ATen/CUDADoubleType.h;ATen/CUDADoubleTensor.cpp;ATen/CUDADoubleTensor.h;ATen/CUDAFloatStorage.cpp;ATen/CUDAFloatStorage.h;ATen/CUDAFloatType.cpp;ATen/CUDAFloatType.h;ATen/CUDAFloatTensor.cpp;ATen/CUDAFloatTensor.h;ATen/CUDAIntStorage.cpp;ATen/CUDAIntStorage.h;ATen/CUDAIntType.cpp;ATen/CUDAIntType.h;ATen/CUDAIntTensor.cpp;ATen/CUDAIntTensor.h;ATen/CUDALongStorage.cpp;ATen/CUDALongStorage.h;ATen/CUDALongType.cpp;ATen/CUDALongType.h;ATen/CUDALongTensor.cpp;ATen/CUDALongTensor.h;ATen/CUDAShortStorage.cpp;ATen/CUDAShortStorage.h;ATen/CUDAShortType.cpp;ATen/CUDAShortType.h;ATen/CUDAShortTensor.cpp;ATen/CUDAShortTensor.h;ATen/CUDAHalfStorage.cpp;ATen/CUDAHalfStorage.h;ATen/CUDAHalfType.cpp;ATen/CUDAHalfType.h;ATen/CUDAHalfTensor.cpp;ATen/CUDAHalfTensor.h;ATen/SparseCUDAByteType.cpp;ATen/SparseCUDAByteType.h;ATen/SparseCUDAByteTensor.cpp;ATen/SparseCUDAByteTensor.h;ATen/SparseCUDACharType.cpp;ATen/SparseCUDACharType.h;ATen/SparseCUDACharTensor.cpp;ATen/SparseCUDACharTensor.h;ATen/SparseCUDADoubleType.cpp;ATen/SparseCUDADoubleType.h;ATen/SparseCUDADoubleTensor.cpp;ATen/SparseCUDADoubleTensor.h;ATen/SparseCUDAFloatType.cpp;ATen/SparseCUDAFloatType.h;ATen/SparseCUDAFloatTensor.cpp;ATen/SparseCUDAFloatTensor.h;ATen/SparseCUDAIntType.cpp;ATen/SparseCUDAIntType.h;ATen/SparseCUDAIntTensor.cpp;ATen/SparseCUDAIntTensor.h;ATen/SparseCUDALongType.cpp;ATen/SparseCUDALongType.h;ATen/SparseCUDALongTensor.cpp;ATen/SparseCUDALongTensor.h;ATen/SparseCUDAShortType.cpp;ATen/SparseCUDAShortType.h;ATen/SparseCUDAShortTensor.cpp;ATen/SparseCUDAShortTensor.h;ATen/Type.h;ATen/Type.cpp;ATen/Tensor.h;ATen/TensorMethods.h;ATen/Functions.h;ATen/Dispatch.h;ATen/Copy.cpp;ATen/NativeFunctions.h;\nWill now try a fresh, clean build using the trick of manually creating that inner ATen directory and seeing if it works.", "body": "@peterjc123 NativeFunctions.h now appears in pytorch\\torch\\lib\\build\\ATen\\ATen, but only after I had to manually create the trailing ATen directory by hand, and then run gen.py manually. Is this the correct location for NativeFunctions.h after running pytorch\\aten\\src\\ATen\\gen.py?\r\n\r\nIf this is correct, then it appears that gen.py is missing a critical os.makedirs(directory) line.\r\n\r\nHere is the output of generated_cpp.txt from my last failed build:\r\n\r\n`ATen/CUDAGenerator.h;ATen/CPUGenerator.h;ATen/Declarations.yaml;ATen/CPUByteStorage.cpp;ATen/CPUByteStorage.h;ATen/CPUByteType.cpp;ATen/CPUByteType.h;ATen/CPUByteTensor.cpp;ATen/CPUByteTensor.h;ATen/CPUCharStorage.cpp;ATen/CPUCharStorage.h;ATen/CPUCharType.cpp;ATen/CPUCharType.h;ATen/CPUCharTensor.cpp;ATen/CPUCharTensor.h;ATen/CPUDoubleStorage.cpp;ATen/CPUDoubleStorage.h;ATen/CPUDoubleType.cpp;ATen/CPUDoubleType.h;ATen/CPUDoubleTensor.cpp;ATen/CPUDoubleTensor.h;ATen/CPUFloatStorage.cpp;ATen/CPUFloatStorage.h;ATen/CPUFloatType.cpp;ATen/CPUFloatType.h;ATen/CPUFloatTensor.cpp;ATen/CPUFloatTensor.h;ATen/CPUIntStorage.cpp;ATen/CPUIntStorage.h;ATen/CPUIntType.cpp;ATen/CPUIntType.h;ATen/CPUIntTensor.cpp;ATen/CPUIntTensor.h;ATen/CPULongStorage.cpp;ATen/CPULongStorage.h;ATen/CPULongType.cpp;ATen/CPULongType.h;ATen/CPULongTensor.cpp;ATen/CPULongTensor.h;ATen/CPUShortStorage.cpp;ATen/CPUShortStorage.h;ATen/CPUShortType.cpp;ATen/CPUShortType.h;ATen/CPUShortTensor.cpp;ATen/CPUShortTensor.h;ATen/CPUHalfStorage.cpp;ATen/CPUHalfStorage.h;ATen/CPUHalfType.cpp;ATen/CPUHalfType.h;ATen/CPUHalfTensor.cpp;ATen/CPUHalfTensor.h;ATen/SparseCPUByteType.cpp;ATen/SparseCPUByteType.h;ATen/SparseCPUByteTensor.cpp;ATen/SparseCPUByteTensor.h;ATen/SparseCPUCharType.cpp;ATen/SparseCPUCharType.h;ATen/SparseCPUCharTensor.cpp;ATen/SparseCPUCharTensor.h;ATen/SparseCPUDoubleType.cpp;ATen/SparseCPUDoubleType.h;ATen/SparseCPUDoubleTensor.cpp;ATen/SparseCPUDoubleTensor.h;ATen/SparseCPUFloatType.cpp;ATen/SparseCPUFloatType.h;ATen/SparseCPUFloatTensor.cpp;ATen/SparseCPUFloatTensor.h;ATen/SparseCPUIntType.cpp;ATen/SparseCPUIntType.h;ATen/SparseCPUIntTensor.cpp;ATen/SparseCPUIntTensor.h;ATen/SparseCPULongType.cpp;ATen/SparseCPULongType.h;ATen/SparseCPULongTensor.cpp;ATen/SparseCPULongTensor.h;ATen/SparseCPUShortType.cpp;ATen/SparseCPUShortType.h;ATen/SparseCPUShortTensor.cpp;ATen/SparseCPUShortTensor.h;ATen/CUDAByteStorage.cpp;ATen/CUDAByteStorage.h;ATen/CUDAByteType.cpp;ATen/CUDAByteType.h;ATen/CUDAByteTensor.cpp;ATen/CUDAByteTensor.h;ATen/CUDACharStorage.cpp;ATen/CUDACharStorage.h;ATen/CUDACharType.cpp;ATen/CUDACharType.h;ATen/CUDACharTensor.cpp;ATen/CUDACharTensor.h;ATen/CUDADoubleStorage.cpp;ATen/CUDADoubleStorage.h;ATen/CUDADoubleType.cpp;ATen/CUDADoubleType.h;ATen/CUDADoubleTensor.cpp;ATen/CUDADoubleTensor.h;ATen/CUDAFloatStorage.cpp;ATen/CUDAFloatStorage.h;ATen/CUDAFloatType.cpp;ATen/CUDAFloatType.h;ATen/CUDAFloatTensor.cpp;ATen/CUDAFloatTensor.h;ATen/CUDAIntStorage.cpp;ATen/CUDAIntStorage.h;ATen/CUDAIntType.cpp;ATen/CUDAIntType.h;ATen/CUDAIntTensor.cpp;ATen/CUDAIntTensor.h;ATen/CUDALongStorage.cpp;ATen/CUDALongStorage.h;ATen/CUDALongType.cpp;ATen/CUDALongType.h;ATen/CUDALongTensor.cpp;ATen/CUDALongTensor.h;ATen/CUDAShortStorage.cpp;ATen/CUDAShortStorage.h;ATen/CUDAShortType.cpp;ATen/CUDAShortType.h;ATen/CUDAShortTensor.cpp;ATen/CUDAShortTensor.h;ATen/CUDAHalfStorage.cpp;ATen/CUDAHalfStorage.h;ATen/CUDAHalfType.cpp;ATen/CUDAHalfType.h;ATen/CUDAHalfTensor.cpp;ATen/CUDAHalfTensor.h;ATen/SparseCUDAByteType.cpp;ATen/SparseCUDAByteType.h;ATen/SparseCUDAByteTensor.cpp;ATen/SparseCUDAByteTensor.h;ATen/SparseCUDACharType.cpp;ATen/SparseCUDACharType.h;ATen/SparseCUDACharTensor.cpp;ATen/SparseCUDACharTensor.h;ATen/SparseCUDADoubleType.cpp;ATen/SparseCUDADoubleType.h;ATen/SparseCUDADoubleTensor.cpp;ATen/SparseCUDADoubleTensor.h;ATen/SparseCUDAFloatType.cpp;ATen/SparseCUDAFloatType.h;ATen/SparseCUDAFloatTensor.cpp;ATen/SparseCUDAFloatTensor.h;ATen/SparseCUDAIntType.cpp;ATen/SparseCUDAIntType.h;ATen/SparseCUDAIntTensor.cpp;ATen/SparseCUDAIntTensor.h;ATen/SparseCUDALongType.cpp;ATen/SparseCUDALongType.h;ATen/SparseCUDALongTensor.cpp;ATen/SparseCUDALongTensor.h;ATen/SparseCUDAShortType.cpp;ATen/SparseCUDAShortType.h;ATen/SparseCUDAShortTensor.cpp;ATen/SparseCUDAShortTensor.h;ATen/Type.h;ATen/Type.cpp;ATen/Tensor.h;ATen/TensorMethods.h;ATen/Functions.h;ATen/Dispatch.h;ATen/Copy.cpp;ATen/NativeFunctions.h;`\r\n\r\nWill now try a fresh, clean build using the trick of manually creating that inner ATen directory and seeing if it works."}