{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/375195231", "html_url": "https://github.com/pytorch/pytorch/issues/494#issuecomment-375195231", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/494", "id": 375195231, "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTE5NTIzMQ==", "user": {"login": "devinbostIL", "id": 19719649, "node_id": "MDQ6VXNlcjE5NzE5NjQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/19719649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devinbostIL", "html_url": "https://github.com/devinbostIL", "followers_url": "https://api.github.com/users/devinbostIL/followers", "following_url": "https://api.github.com/users/devinbostIL/following{/other_user}", "gists_url": "https://api.github.com/users/devinbostIL/gists{/gist_id}", "starred_url": "https://api.github.com/users/devinbostIL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devinbostIL/subscriptions", "organizations_url": "https://api.github.com/users/devinbostIL/orgs", "repos_url": "https://api.github.com/users/devinbostIL/repos", "events_url": "https://api.github.com/users/devinbostIL/events{/privacy}", "received_events_url": "https://api.github.com/users/devinbostIL/received_events", "type": "User", "site_admin": false}, "created_at": "2018-03-22T06:38:33Z", "updated_at": "2018-03-22T06:38:33Z", "author_association": "NONE", "body_html": "<p>I attempted to run the cmake-gui from the VS 2017 x64 native tools command prompt, and these are the values that got configured. (I only needed to manually add the MAGMA_INCLUDE_DIR and MAGMA_LIBRARIES values.)</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/19719649/37754793-a440a726-2d68-11e8-84b4-5cb7ad9e4774.png\"><img src=\"https://user-images.githubusercontent.com/19719649/37754793-a440a726-2d68-11e8-84b4-5cb7ad9e4774.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>\n<p>CMake runs for a bit and provides this output:<br>\n<a href=\"https://github.com/pytorch/pytorch/files/1836358/cmake_output.txt\">cmake_output.txt</a></p>\n<p>In the CMakeError.log file, I have:<br>\n<a href=\"https://github.com/pytorch/pytorch/files/1836363/CMakeError.log\">CMakeError.log</a></p>\n<p>Here's what's in the error log file (starting from the top) until it reaches \"Build FAILED\":</p>\n<blockquote>\n<p>Performing C SOURCE FILE Test HAS_C11_ATOMICS failed with the following output:<br>\nChange Dir: C:/src/magma_cuda90/pytorch/build/CMakeFiles/CMakeTmp</p>\n<p>Run Build Command:\"C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/MSBuild/15.0/Bin/MSBuild.exe\" \"cmTC_ee73f.vcxproj\" \"/p:Configuration=Debug\" \"/p:VisualStudioVersion=15.0\"<br>\nMicrosoft (R) Build Engine version 15.1.1012.6693</p>\n<p>Copyright (C) Microsoft Corporation. All rights reserved.</p>\n<p>Build started 3/22/2018 12:28:29 AM.</p>\n<p>Project \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" on node 1 (default targets).</p>\n<p>PrepareForBuild:</p>\n<p>Creating directory \"cmTC_ee73f.dir\\Debug\".</p>\n<p>Creating directory \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\Debug\".</p>\n<p>Creating directory \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\".</p>\n<p>InitializeBuildStatus:</p>\n<p>Creating \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\\unsuccessfulbuild\" because \"AlwaysCreate\" was specified.</p>\n<p>ClCompile:</p>\n<p>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.10.25017\\bin\\HostX86\\x64\\CL.exe /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\"Debug\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c</p>\n<p>Microsoft (R) C/C++ Optimizing Compiler Version 19.10.25019 for x64</p>\n<p>Copyright (C) Microsoft Corporation.  All rights reserved.</p>\n<p>cl /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\"Debug\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c</p>\n<p>src.c</p>\n<p>C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c(2): fatal error C1083: Cannot open include file: 'stdatomic.h': No such file or directory [C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj]</p>\n<p>Done Building Project \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" (default targets) -- FAILED.</p>\n</blockquote>\n<p>Any ideas where this <code>stdatomic.h</code> file is supposed to be coming from? Am I just totally going about running the build process incorrectly?</p>", "body_text": "I attempted to run the cmake-gui from the VS 2017 x64 native tools command prompt, and these are the values that got configured. (I only needed to manually add the MAGMA_INCLUDE_DIR and MAGMA_LIBRARIES values.)\n\nCMake runs for a bit and provides this output:\ncmake_output.txt\nIn the CMakeError.log file, I have:\nCMakeError.log\nHere's what's in the error log file (starting from the top) until it reaches \"Build FAILED\":\n\nPerforming C SOURCE FILE Test HAS_C11_ATOMICS failed with the following output:\nChange Dir: C:/src/magma_cuda90/pytorch/build/CMakeFiles/CMakeTmp\nRun Build Command:\"C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/MSBuild/15.0/Bin/MSBuild.exe\" \"cmTC_ee73f.vcxproj\" \"/p:Configuration=Debug\" \"/p:VisualStudioVersion=15.0\"\nMicrosoft (R) Build Engine version 15.1.1012.6693\nCopyright (C) Microsoft Corporation. All rights reserved.\nBuild started 3/22/2018 12:28:29 AM.\nProject \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" on node 1 (default targets).\nPrepareForBuild:\nCreating directory \"cmTC_ee73f.dir\\Debug\".\nCreating directory \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\Debug\".\nCreating directory \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\".\nInitializeBuildStatus:\nCreating \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\\unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\nClCompile:\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.10.25017\\bin\\HostX86\\x64\\CL.exe /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\"Debug\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c\nMicrosoft (R) C/C++ Optimizing Compiler Version 19.10.25019 for x64\nCopyright (C) Microsoft Corporation.  All rights reserved.\ncl /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\"Debug\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c\nsrc.c\nC:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c(2): fatal error C1083: Cannot open include file: 'stdatomic.h': No such file or directory [C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj]\nDone Building Project \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" (default targets) -- FAILED.\n\nAny ideas where this stdatomic.h file is supposed to be coming from? Am I just totally going about running the build process incorrectly?", "body": "I attempted to run the cmake-gui from the VS 2017 x64 native tools command prompt, and these are the values that got configured. (I only needed to manually add the MAGMA_INCLUDE_DIR and MAGMA_LIBRARIES values.)\r\n\r\n![image](https://user-images.githubusercontent.com/19719649/37754793-a440a726-2d68-11e8-84b4-5cb7ad9e4774.png)\r\n\r\nCMake runs for a bit and provides this output:\r\n[cmake_output.txt](https://github.com/pytorch/pytorch/files/1836358/cmake_output.txt)\r\n\r\nIn the CMakeError.log file, I have:\r\n[CMakeError.log](https://github.com/pytorch/pytorch/files/1836363/CMakeError.log)\r\n\r\nHere's what's in the error log file (starting from the top) until it reaches \"Build FAILED\":\r\n\r\n\r\n> Performing C SOURCE FILE Test HAS_C11_ATOMICS failed with the following output:\r\n> Change Dir: C:/src/magma_cuda90/pytorch/build/CMakeFiles/CMakeTmp\r\n> \r\n> Run Build Command:\"C:/Program Files (x86)/Microsoft Visual Studio/2017/Professional/MSBuild/15.0/Bin/MSBuild.exe\" \"cmTC_ee73f.vcxproj\" \"/p:Configuration=Debug\" \"/p:VisualStudioVersion=15.0\"\r\n> Microsoft (R) Build Engine version 15.1.1012.6693\r\n> \r\n> Copyright (C) Microsoft Corporation. All rights reserved.\r\n> \r\n> Build started 3/22/2018 12:28:29 AM.\r\n> \r\n> Project \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" on node 1 (default targets).\r\n> \r\n> PrepareForBuild:\r\n> \r\n>   Creating directory \"cmTC_ee73f.dir\\Debug\\\".\r\n> \r\n>   Creating directory \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\Debug\\\".\r\n> \r\n>   Creating directory \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\\\".\r\n> \r\n> InitializeBuildStatus:\r\n> \r\n>   Creating \"cmTC_ee73f.dir\\Debug\\cmTC_ee73f.tlog\\unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\r\n> \r\n> ClCompile:\r\n> \r\n>   C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\VC\\Tools\\MSVC\\14.10.25017\\bin\\HostX86\\x64\\CL.exe /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\\\"Debug\\\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c\r\n> \r\n>   Microsoft (R) C/C++ Optimizing Compiler Version 19.10.25019 for x64\r\n> \r\n>   Copyright (C) Microsoft Corporation.  All rights reserved.\r\n> \r\n>   cl /c /IC:\\src\\magma_cuda90\\pytorch\\magma_cuda90_release\\include /I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\include\" /Zi /W3 /WX- /diagnostics:classic /Od /Ob0 /D USE_AVX2 /D USE_AVX /D USE_SSE3 /D USE_SSE4_1 /D USE_SSE4_2 /D USE_SSE2 /D CUDA_HAS_FP16=1 /D WIN32 /D _WINDOWS /D USE_GCC_GET_CPUID /D HAS_C11_ATOMICS /D \"CMAKE_INTDIR=\\\"Debug\\\"\" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /openmp /Fo\"cmTC_ee73f.dir\\Debug\\\\\" /Fd\"cmTC_ee73f.dir\\Debug\\vc141.pdb\" /Gd /TC /errorReport:queue C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c\r\n> \r\n>   src.c\r\n> \r\n> C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\src.c(2): fatal error C1083: Cannot open include file: 'stdatomic.h': No such file or directory [C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj]\r\n> \r\n> Done Building Project \"C:\\src\\magma_cuda90\\pytorch\\build\\CMakeFiles\\CMakeTmp\\cmTC_ee73f.vcxproj\" (default targets) -- FAILED.\r\n\r\nAny ideas where this `stdatomic.h` file is supposed to be coming from? Am I just totally going about running the build process incorrectly?\r\n"}