{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/344941974", "html_url": "https://github.com/pytorch/pytorch/issues/494#issuecomment-344941974", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/494", "id": 344941974, "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDk0MTk3NA==", "user": {"login": "trias702", "id": 25867060, "node_id": "MDQ6VXNlcjI1ODY3MDYw", "avatar_url": "https://avatars3.githubusercontent.com/u/25867060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trias702", "html_url": "https://github.com/trias702", "followers_url": "https://api.github.com/users/trias702/followers", "following_url": "https://api.github.com/users/trias702/following{/other_user}", "gists_url": "https://api.github.com/users/trias702/gists{/gist_id}", "starred_url": "https://api.github.com/users/trias702/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trias702/subscriptions", "organizations_url": "https://api.github.com/users/trias702/orgs", "repos_url": "https://api.github.com/users/trias702/repos", "events_url": "https://api.github.com/users/trias702/events{/privacy}", "received_events_url": "https://api.github.com/users/trias702/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-16T14:39:34Z", "updated_at": "2017-11-16T14:39:34Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> Sadly it is not working. The failure still appears to be gen.py in aten/src/aten. When it executes via python setup.py bdist_wheel, it is still not creating any files in pytorch/torch/lib/build/ATen/ATen, or anywhere else.</p>\n<p>Looking at the write() function in gen.py, if output_dependencies is not null, then the write is re-directed to a different file, although am not sure how that is supposed to work downstream. Currently, during the bdist_wheel build, output_dependencies is \"pytorch/torch/lib/build/ATen/src/ATen/generated_cpp.txt\" and I can see this file contains all of the header and cpp files needed downstream. How are all of these files supposed to be generated to disk later on?</p>\n<p>I do note that if I manually run gen.py with -s and no output dependencies, then it does successfully create all of the files on disk. However, during the formal build, because output dependencies is NOT null, then it just writes their filenames to a flat file and nothing is ever copied to disk, hence the downstream NativeFunctionsCuda.cu cannot locate the required NativeFunctions.h file.</p>", "body_text": "@peterjc123 Sadly it is not working. The failure still appears to be gen.py in aten/src/aten. When it executes via python setup.py bdist_wheel, it is still not creating any files in pytorch/torch/lib/build/ATen/ATen, or anywhere else.\nLooking at the write() function in gen.py, if output_dependencies is not null, then the write is re-directed to a different file, although am not sure how that is supposed to work downstream. Currently, during the bdist_wheel build, output_dependencies is \"pytorch/torch/lib/build/ATen/src/ATen/generated_cpp.txt\" and I can see this file contains all of the header and cpp files needed downstream. How are all of these files supposed to be generated to disk later on?\nI do note that if I manually run gen.py with -s and no output dependencies, then it does successfully create all of the files on disk. However, during the formal build, because output dependencies is NOT null, then it just writes their filenames to a flat file and nothing is ever copied to disk, hence the downstream NativeFunctionsCuda.cu cannot locate the required NativeFunctions.h file.", "body": "@peterjc123 Sadly it is not working. The failure still appears to be gen.py in aten/src/aten. When it executes via python setup.py bdist_wheel, it is still not creating any files in pytorch/torch/lib/build/ATen/ATen, or anywhere else.\r\n\r\nLooking at the write() function in gen.py, if output_dependencies is not null, then the write is re-directed to a different file, although am not sure how that is supposed to work downstream. Currently, during the bdist_wheel build, output_dependencies is \"pytorch/torch/lib/build/ATen/src/ATen/generated_cpp.txt\" and I can see this file contains all of the header and cpp files needed downstream. How are all of these files supposed to be generated to disk later on?\r\n\r\nI do note that if I manually run gen.py with -s and no output dependencies, then it does successfully create all of the files on disk. However, during the formal build, because output dependencies is NOT null, then it just writes their filenames to a flat file and nothing is ever copied to disk, hence the downstream NativeFunctionsCuda.cu cannot locate the required NativeFunctions.h file."}