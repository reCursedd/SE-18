{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/340511893", "html_url": "https://github.com/pytorch/pytorch/issues/494#issuecomment-340511893", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/494", "id": 340511893, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDUxMTg5Mw==", "user": {"login": "QuantScientist", "id": 18743986, "node_id": "MDQ6VXNlcjE4NzQzOTg2", "avatar_url": "https://avatars2.githubusercontent.com/u/18743986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuantScientist", "html_url": "https://github.com/QuantScientist", "followers_url": "https://api.github.com/users/QuantScientist/followers", "following_url": "https://api.github.com/users/QuantScientist/following{/other_user}", "gists_url": "https://api.github.com/users/QuantScientist/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuantScientist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuantScientist/subscriptions", "organizations_url": "https://api.github.com/users/QuantScientist/orgs", "repos_url": "https://api.github.com/users/QuantScientist/repos", "events_url": "https://api.github.com/users/QuantScientist/events{/privacy}", "received_events_url": "https://api.github.com/users/QuantScientist/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-30T17:00:36Z", "updated_at": "2017-10-30T17:00:36Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a>  thanks,<br>\nI am now getting this:</p>\n<pre><code>OS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253\n</code></pre>\n<p>Only happens within an epoch, I suspect this has to do with multi processing on the data loader.</p>\n<p>Full stack trace:</p>\n<pre><code>Epoch 1\nTHCudaCheck FAIL file=c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp line=253 error=63 : OS call failed or operation not supported on this OS\nTraceback (most recent call last):\n  File \"D:/db/Dropbox/dev2/cpp/gpgpu/Deep-Learning-Boot-Camp/day02-PyTORCH-and-PyCUDA/PyTorch/83-PyTorch-Statoil-Iceberg-Classifier-Challenge.py\", line 347, in &lt;module&gt;\n    for i, data in enumerate(train_loader, 1):\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 301, in __iter__\n    return DataLoaderIter(self)\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 158, in __init__\n    w.start()\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start\n    self._popen = self._Popen(self)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen\n    return Popen(process_obj)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 65, in __init__\n    reduction.dump(process_obj, to_child)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\reduction.py\", line 60, in dump\n    ForkingPickler(file, protocol).dump(obj)\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\multiprocessing\\reductions.py\", line 104, in reduce_storage\n    metadata = storage._share_cuda_()\nRuntimeError: cuda runtime error (63) : OS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253\n</code></pre>", "body_text": "@peterjc123  thanks,\nI am now getting this:\nOS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253\n\nOnly happens within an epoch, I suspect this has to do with multi processing on the data loader.\nFull stack trace:\nEpoch 1\nTHCudaCheck FAIL file=c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp line=253 error=63 : OS call failed or operation not supported on this OS\nTraceback (most recent call last):\n  File \"D:/db/Dropbox/dev2/cpp/gpgpu/Deep-Learning-Boot-Camp/day02-PyTORCH-and-PyCUDA/PyTorch/83-PyTorch-Statoil-Iceberg-Classifier-Challenge.py\", line 347, in <module>\n    for i, data in enumerate(train_loader, 1):\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 301, in __iter__\n    return DataLoaderIter(self)\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 158, in __init__\n    w.start()\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start\n    self._popen = self._Popen(self)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen\n    return Popen(process_obj)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 65, in __init__\n    reduction.dump(process_obj, to_child)\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\reduction.py\", line 60, in dump\n    ForkingPickler(file, protocol).dump(obj)\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\multiprocessing\\reductions.py\", line 104, in reduce_storage\n    metadata = storage._share_cuda_()\nRuntimeError: cuda runtime error (63) : OS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253", "body": "@peterjc123  thanks,\r\nI am now getting this:\r\n```\r\nOS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253\r\n```\r\nOnly happens within an epoch, I suspect this has to do with multi processing on the data loader. \r\n\r\nFull stack trace:\r\n```\r\nEpoch 1\r\nTHCudaCheck FAIL file=c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp line=253 error=63 : OS call failed or operation not supported on this OS\r\nTraceback (most recent call last):\r\n  File \"D:/db/Dropbox/dev2/cpp/gpgpu/Deep-Learning-Boot-Camp/day02-PyTORCH-and-PyCUDA/PyTorch/83-PyTorch-Statoil-Iceberg-Classifier-Challenge.py\", line 347, in <module>\r\n    for i, data in enumerate(train_loader, 1):\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 301, in __iter__\r\n    return DataLoaderIter(self)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\utils\\data\\dataloader.py\", line 158, in __init__\r\n    w.start()\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\process.py\", line 105, in start\r\n    self._popen = self._Popen(self)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 223, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 322, in _Popen\r\n    return Popen(process_obj)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\popen_spawn_win32.py\", line 65, in __init__\r\n    reduction.dump(process_obj, to_child)\r\n  File \"C:\\Anaconda3\\lib\\multiprocessing\\reduction.py\", line 60, in dump\r\n    ForkingPickler(file, protocol).dump(obj)\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\torch\\multiprocessing\\reductions.py\", line 104, in reduce_storage\r\n    metadata = storage._share_cuda_()\r\nRuntimeError: cuda runtime error (63) : OS call failed or operation not supported on this OS at c:\\anaconda2\\conda-bld\\pytorch_1502680315075\\work\\torch\\csrc\\generic\\StorageSharing.cpp:253\r\n```"}