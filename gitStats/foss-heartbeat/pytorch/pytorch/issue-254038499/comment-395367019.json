{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/395367019", "html_url": "https://github.com/pytorch/pytorch/issues/2575#issuecomment-395367019", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2575", "id": 395367019, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTM2NzAxOQ==", "user": {"login": "lautjy", "id": 9349212, "node_id": "MDQ6VXNlcjkzNDkyMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/9349212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lautjy", "html_url": "https://github.com/lautjy", "followers_url": "https://api.github.com/users/lautjy/followers", "following_url": "https://api.github.com/users/lautjy/following{/other_user}", "gists_url": "https://api.github.com/users/lautjy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lautjy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lautjy/subscriptions", "organizations_url": "https://api.github.com/users/lautjy/orgs", "repos_url": "https://api.github.com/users/lautjy/repos", "events_url": "https://api.github.com/users/lautjy/events{/privacy}", "received_events_url": "https://api.github.com/users/lautjy/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-07T10:07:39Z", "updated_at": "2018-06-07T10:07:39Z", "author_association": "NONE", "body_html": "<p>Fix is to recompile everything from sources using -fPIC flag.<br>\nsoumith above said that the problem child is the OpenMP library. It has not been compiled with -fPIC flag, and causes this problem. (Your system might have some other things without -fPIC flag. It depends where you installed the dependencies from.)</p>\n<p>Popular workaround is to change the import order. Like <code>import pytorch</code> first, etc. Changing import orders did not work for me though.</p>\n<p>I encountered this problem when <code>pip installing</code> everything on a bare Amazon Linux AMI.<br>\nThen I tried the Fast.ai community AMI which has preinstalled everything - and there I did not have this problem. So this is a workaround that worked for me.</p>", "body_text": "Fix is to recompile everything from sources using -fPIC flag.\nsoumith above said that the problem child is the OpenMP library. It has not been compiled with -fPIC flag, and causes this problem. (Your system might have some other things without -fPIC flag. It depends where you installed the dependencies from.)\nPopular workaround is to change the import order. Like import pytorch first, etc. Changing import orders did not work for me though.\nI encountered this problem when pip installing everything on a bare Amazon Linux AMI.\nThen I tried the Fast.ai community AMI which has preinstalled everything - and there I did not have this problem. So this is a workaround that worked for me.", "body": "Fix is to recompile everything from sources using -fPIC flag.\r\nsoumith above said that the problem child is the OpenMP library. It has not been compiled with -fPIC flag, and causes this problem. (Your system might have some other things without -fPIC flag. It depends where you installed the dependencies from.)\r\n\r\nPopular workaround is to change the import order. Like `import pytorch` first, etc. Changing import orders did not work for me though.\r\n\r\nI encountered this problem when `pip installing` everything on a bare Amazon Linux AMI.\r\nThen I tried the Fast.ai community AMI which has preinstalled everything - and there I did not have this problem. So this is a workaround that worked for me."}