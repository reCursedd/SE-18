{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12913", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12913/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12913/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12913/events", "html_url": "https://github.com/pytorch/pytorch/issues/12913", "id": 372320473, "node_id": "MDU6SXNzdWUzNzIzMjA0NzM=", "number": 12913, "title": "ubuntu16.04 build from source caffe2", "user": {"login": "jyh890622", "id": 32392349, "node_id": "MDQ6VXNlcjMyMzkyMzQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/32392349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyh890622", "html_url": "https://github.com/jyh890622", "followers_url": "https://api.github.com/users/jyh890622/followers", "following_url": "https://api.github.com/users/jyh890622/following{/other_user}", "gists_url": "https://api.github.com/users/jyh890622/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyh890622/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyh890622/subscriptions", "organizations_url": "https://api.github.com/users/jyh890622/orgs", "repos_url": "https://api.github.com/users/jyh890622/repos", "events_url": "https://api.github.com/users/jyh890622/events{/privacy}", "received_events_url": "https://api.github.com/users/jyh890622/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-10-21T14:26:53Z", "updated_at": "2018-11-20T08:45:58Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"question\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/2753.png\">\u2753</g-emoji> Questions and Help</h2>\n<h3>Please note that this issue tracker is not a help form and this issue will be closed.</h3>\n<p>cm@cm-Vostro-2421:~/pytorch$ python setup.py install<br>\nBuilding wheel torch-1.0.0a0+ed02619<br>\nrunning install<br>\nsetup.py::run()<br>\nrunning build_deps<br>\nsetup.py::build_deps::run()</p>\n<ul>\n<li>SYNC_COMMAND=cp<br>\n++ command -v rsync</li>\n<li>'[' -x /usr/bin/rsync ']'</li>\n<li>SYNC_COMMAND='rsync -lptgoD'</li>\n<li>CMAKE_COMMAND=cmake<br>\n++ command -v cmake3</li>\n<li>[[ -x '' ]]</li>\n<li>USE_CUDA=0</li>\n<li>USE_ROCM=0</li>\n<li>USE_NNPACK=0</li>\n<li>USE_MKLDNN=0</li>\n<li>USE_GLOO_IBVERBS=0</li>\n<li>CAFFE2_STATIC_LINK_CUDA=0</li>\n<li>RERUN_CMAKE=1</li>\n<li>[[ 8 -gt 0 ]]</li>\n<li>case \"$1\" in</li>\n<li>USE_CUDA=1</li>\n<li>shift</li>\n<li>[[ 7 -gt 0 ]]</li>\n<li>case \"$1\" in</li>\n<li>USE_NNPACK=1</li>\n<li>shift</li>\n<li>[[ 6 -gt 0 ]]</li>\n<li>case \"$1\" in</li>\n<li>break</li>\n<li>CMAKE_INSTALL='make install'</li>\n<li>BUILD_SHARED_LIBS=ON</li>\n<li>USER_CFLAGS=</li>\n<li>USER_LDFLAGS=</li>\n<li>[[ -n '' ]]</li>\n<li>[[ -n '' ]]</li>\n<li>[[ -n '' ]]<br>\n++ uname</li>\n<li>'[' Linux == Darwin ']'<br>\n+++ dirname ../tools/build_pytorch_libs.sh<br>\n++ cd ../tools/..<br>\n+++ pwd<br>\n++ printf '%q\\n' /home/cm/pytorch</li>\n<li>BASE_DIR=/home/cm/pytorch</li>\n<li>TORCH_LIB_DIR=/home/cm/pytorch/torch/lib</li>\n<li>INSTALL_DIR=/home/cm/pytorch/torch/lib/tmp_install</li>\n<li>THIRD_PARTY_DIR=/home/cm/pytorch/third_party</li>\n<li>C_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\"'</li>\n<li>C_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'</li>\n<li>LDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\" '</li>\n<li>LD_POSTFIX=.so<br>\n++ uname</li>\n<li>[[ Linux == \\D\\a\\r\\w\\i\\n ]]</li>\n<li>[[ 0 -eq 1 ]]</li>\n<li>LDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'</li>\n<li>CPP_FLAGS=' -std=c++11 '</li>\n<li>GLOO_FLAGS='-DBUILD_TEST=OFF '</li>\n<li>THD_FLAGS=</li>\n<li>NCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install</li>\n<li>[[ 1 -eq 1 ]]</li>\n<li>GLOO_FLAGS+='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install'</li>\n<li>[[ 0 -eq 1 ]]</li>\n<li>CWRAP_FILES='/home/cm/pytorch/torch/lib/ATen/Declarations.cwrap;/home/cm/pytorch/torch/lib/THNN/generic/THNN.h;/home/cm/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/cm/pytorch/torch/lib/ATen/nn.yaml'</li>\n<li>CUDA_NVCC_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'</li>\n<li>[[ -z '' ]]</li>\n<li>CUDA_DEVICE_DEBUG=0</li>\n<li>'[' -z '' ']'<br>\n++ getconf _NPROCESSORS_ONLN</li>\n<li>MAX_JOBS=4</li>\n<li>BUILD_TYPE=Release</li>\n<li>[[ -n '' ]]</li>\n<li>[[ -n '' ]]</li>\n<li>echo 'Building in Release mode'<br>\nBuilding in Release mode</li>\n<li>mkdir -p /home/cm/pytorch/torch/lib/tmp_install</li>\n<li>for arg in '\"$@\"'</li>\n<li>[[ nccl == \\n\\c\\c\\l ]]</li>\n<li>pushd /home/cm/pytorch/third_party<br>\n~/pytorch/third_party ~/pytorch/build</li>\n<li>build_nccl</li>\n<li>mkdir -p build/nccl</li>\n<li>pushd build/nccl<br>\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch/build</li>\n<li>[[ 1 -eq 1 ]]</li>\n<li>cmake ../../nccl -DCMAKE_MODULE_PATH=/home/cm/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/cm/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/cm/pytorch/cmake/public/utils.cmake -DNUM_JOBS=4<br>\n-- The C compiler identification is GNU 5.4.0<br>\n-- The CXX compiler identification is GNU 5.4.0<br>\n-- Check for working C compiler: /usr/bin/cc<br>\n-- Check for working C compiler: /usr/bin/cc -- works<br>\n-- Detecting C compiler ABI info<br>\n-- Detecting C compiler ABI info - done<br>\n-- Detecting C compile features<br>\n-- Detecting C compile features - done<br>\n-- Check for working CXX compiler: /usr/bin/c++<br>\n-- Check for working CXX compiler: /usr/bin/c++ -- works<br>\n-- Detecting CXX compiler ABI info<br>\n-- Detecting CXX compiler ABI info - done<br>\n-- Detecting CXX compile features<br>\n-- Detecting CXX compile features - done<br>\n-- Looking for pthread.h<br>\n-- Looking for pthread.h - found<br>\n-- Looking for pthread_create<br>\n-- Looking for pthread_create - not found<br>\n-- Looking for pthread_create in pthreads<br>\n-- Looking for pthread_create in pthreads - not found<br>\n-- Looking for pthread_create in pthread<br>\n-- Looking for pthread_create in pthread - found<br>\n-- Found Threads: TRUE<br>\n-- Found CUDA: /usr/local/cuda (found suitable version \"8.0\", minimum required is \"7.0\")<br>\n-- Autodetected CUDA architecture(s): 2.1(2.0)<br>\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_20,code=sm_21<br>\n-- Configuring done<br>\n-- Generating done<br>\n-- Build files have been written to: /home/cm/pytorch/third_party/build/nccl</li>\n<li>make install -j4<br>\nScanning dependencies of target nccl<br>\n[100%] Generating lib/libnccl.so<br>\nmake[3]: \u8b66\u544a: \u5b50 make \u4e2d\u5f3a\u5236 -jN: \u5173\u95ed jobserver \u6a21\u5f0f\u3002<br>\nGenerating nccl.h.in                           &gt; nccl.h<br>\nCompiling  init.cu                             &gt; /home/cm/pytorch/third_party/build/nccl/obj/init.o<br>\nCompiling  ring.cu                             &gt; /home/cm/pytorch/third_party/build/nccl/obj/ring.o<br>\nCompiling  bootstrap.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/bootstrap.o<br>\nCompiling  transport.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\ninit.cu:52:1: warning: \u2018ncclNet\u2019 initialized and declared \u2018extern\u2019<br>\nncclNet_t* ncclNet = NULL;<br>\n^<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  misc/group.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/group.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  misc/nvmlwrap.cu                    &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/nvmlwrap.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  misc/ibvwrap.cu                     &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/ibvwrap.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  misc/rings.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/rings.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  misc/utils.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/utils.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  misc/enqueue.cu                     &gt; /home/cm/pytorch/third_party/build/nccl/obj/misc/enqueue.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  transport/p2p.cu                    &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport/p2p.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  transport/shm.cu                    &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport/shm.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  transport/net.cu                    &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport/net.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  transport/net_socket.cu             &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport/net_socket.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  transport/net_ib.cu                 &gt; /home/cm/pytorch/third_party/build/nccl/obj/transport/net_ib.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  collectives/all_reduce.cu           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_reduce.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  collectives/all_gather.cu           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_gather.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  collectives/broadcast.cu            &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/broadcast.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  collectives/reduce.cu               &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  collectives/reduce_scatter.cu       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce_scatter.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  all_reduce.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_prod.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nGrabbing   nccl.h                              &gt; /home/cm/pytorch/third_party/build/nccl/include/nccl.h<br>\nCompiling  broadcast.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_prod.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  reduce.cu                           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_prod.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  all_gather.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_prod.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce_scatter.cu                   &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_prod.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  all_reduce.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_min.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  broadcast.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_min.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce.cu                           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_min.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  all_gather.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_min.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce_scatter.cu                   &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_min.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  all_reduce.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_max.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  broadcast.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_max.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce.cu                           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_max.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  all_gather.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_max.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce_scatter.cu                   &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_max.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  all_reduce.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_sum.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  broadcast.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_sum.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  reduce.cu                           &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_sum.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  all_gather.cu                       &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_sum.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nCompiling  reduce_scatter.cu                   &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_sum.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nCompiling  functions.cu                        &gt; /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/functions.o<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nptxas warning : Too big maxrregcount value specified 96, will be ignored<br>\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).<br>\nnvlink fatal   : Internal error: reference to deleted section<br>\nMakefile:83: recipe for target '/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o' failed<br>\nmake[5]: *** [/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o] Error 1<br>\nMakefile:45: recipe for target 'devicelib' failed<br>\nmake[4]: *** [devicelib] Error 2<br>\nMakefile:24: recipe for target 'src.build' failed<br>\nmake[3]: *** [src.build] Error 2<br>\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed<br>\nmake[2]: *** [lib/libnccl.so] Error 2<br>\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed<br>\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2<br>\nMakefile:127: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'</li>\n</ul>\n<ul>\n<li><a href=\"https://discuss.pytorch.org/\" rel=\"nofollow\">Discussion Forum</a></li>\n</ul>", "body_text": "\u2753 Questions and Help\nPlease note that this issue tracker is not a help form and this issue will be closed.\ncm@cm-Vostro-2421:~/pytorch$ python setup.py install\nBuilding wheel torch-1.0.0a0+ed02619\nrunning install\nsetup.py::run()\nrunning build_deps\nsetup.py::build_deps::run()\n\nSYNC_COMMAND=cp\n++ command -v rsync\n'[' -x /usr/bin/rsync ']'\nSYNC_COMMAND='rsync -lptgoD'\nCMAKE_COMMAND=cmake\n++ command -v cmake3\n[[ -x '' ]]\nUSE_CUDA=0\nUSE_ROCM=0\nUSE_NNPACK=0\nUSE_MKLDNN=0\nUSE_GLOO_IBVERBS=0\nCAFFE2_STATIC_LINK_CUDA=0\nRERUN_CMAKE=1\n[[ 8 -gt 0 ]]\ncase \"$1\" in\nUSE_CUDA=1\nshift\n[[ 7 -gt 0 ]]\ncase \"$1\" in\nUSE_NNPACK=1\nshift\n[[ 6 -gt 0 ]]\ncase \"$1\" in\nbreak\nCMAKE_INSTALL='make install'\nBUILD_SHARED_LIBS=ON\nUSER_CFLAGS=\nUSER_LDFLAGS=\n[[ -n '' ]]\n[[ -n '' ]]\n[[ -n '' ]]\n++ uname\n'[' Linux == Darwin ']'\n+++ dirname ../tools/build_pytorch_libs.sh\n++ cd ../tools/..\n+++ pwd\n++ printf '%q\\n' /home/cm/pytorch\nBASE_DIR=/home/cm/pytorch\nTORCH_LIB_DIR=/home/cm/pytorch/torch/lib\nINSTALL_DIR=/home/cm/pytorch/torch/lib/tmp_install\nTHIRD_PARTY_DIR=/home/cm/pytorch/third_party\nC_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\"'\nC_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\nLDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\" '\nLD_POSTFIX=.so\n++ uname\n[[ Linux == \\D\\a\\r\\w\\i\\n ]]\n[[ 0 -eq 1 ]]\nLDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'\nCPP_FLAGS=' -std=c++11 '\nGLOO_FLAGS='-DBUILD_TEST=OFF '\nTHD_FLAGS=\nNCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install\n[[ 1 -eq 1 ]]\nGLOO_FLAGS+='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install'\n[[ 0 -eq 1 ]]\nCWRAP_FILES='/home/cm/pytorch/torch/lib/ATen/Declarations.cwrap;/home/cm/pytorch/torch/lib/THNN/generic/THNN.h;/home/cm/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/cm/pytorch/torch/lib/ATen/nn.yaml'\nCUDA_NVCC_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\n[[ -z '' ]]\nCUDA_DEVICE_DEBUG=0\n'[' -z '' ']'\n++ getconf _NPROCESSORS_ONLN\nMAX_JOBS=4\nBUILD_TYPE=Release\n[[ -n '' ]]\n[[ -n '' ]]\necho 'Building in Release mode'\nBuilding in Release mode\nmkdir -p /home/cm/pytorch/torch/lib/tmp_install\nfor arg in '\"$@\"'\n[[ nccl == \\n\\c\\c\\l ]]\npushd /home/cm/pytorch/third_party\n~/pytorch/third_party ~/pytorch/build\nbuild_nccl\nmkdir -p build/nccl\npushd build/nccl\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch/build\n[[ 1 -eq 1 ]]\ncmake ../../nccl -DCMAKE_MODULE_PATH=/home/cm/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/cm/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/cm/pytorch/cmake/public/utils.cmake -DNUM_JOBS=4\n-- The C compiler identification is GNU 5.4.0\n-- The CXX compiler identification is GNU 5.4.0\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE\n-- Found CUDA: /usr/local/cuda (found suitable version \"8.0\", minimum required is \"7.0\")\n-- Autodetected CUDA architecture(s): 2.1(2.0)\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_20,code=sm_21\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/cm/pytorch/third_party/build/nccl\nmake install -j4\nScanning dependencies of target nccl\n[100%] Generating lib/libnccl.so\nmake[3]: \u8b66\u544a: \u5b50 make \u4e2d\u5f3a\u5236 -jN: \u5173\u95ed jobserver \u6a21\u5f0f\u3002\nGenerating nccl.h.in                           > nccl.h\nCompiling  init.cu                             > /home/cm/pytorch/third_party/build/nccl/obj/init.o\nCompiling  ring.cu                             > /home/cm/pytorch/third_party/build/nccl/obj/ring.o\nCompiling  bootstrap.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/bootstrap.o\nCompiling  transport.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/transport.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\ninit.cu:52:1: warning: \u2018ncclNet\u2019 initialized and declared \u2018extern\u2019\nncclNet_t* ncclNet = NULL;\n^\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  misc/group.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/group.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  misc/nvmlwrap.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/misc/nvmlwrap.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  misc/ibvwrap.cu                     > /home/cm/pytorch/third_party/build/nccl/obj/misc/ibvwrap.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  misc/rings.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/rings.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  misc/utils.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/utils.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  misc/enqueue.cu                     > /home/cm/pytorch/third_party/build/nccl/obj/misc/enqueue.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  transport/p2p.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/p2p.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  transport/shm.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/shm.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  transport/net.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/net.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  transport/net_socket.cu             > /home/cm/pytorch/third_party/build/nccl/obj/transport/net_socket.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  transport/net_ib.cu                 > /home/cm/pytorch/third_party/build/nccl/obj/transport/net_ib.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  collectives/all_reduce.cu           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_reduce.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  collectives/all_gather.cu           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_gather.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  collectives/broadcast.cu            > /home/cm/pytorch/third_party/build/nccl/obj/collectives/broadcast.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  collectives/reduce.cu               > /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  collectives/reduce_scatter.cu       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce_scatter.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_prod.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nGrabbing   nccl.h                              > /home/cm/pytorch/third_party/build/nccl/include/nccl.h\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_prod.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_prod.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_prod.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_prod.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_min.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_min.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_min.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_min.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_min.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_max.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_max.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_max.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_max.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_max.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_sum.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_sum.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_sum.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_sum.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_sum.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nCompiling  functions.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/functions.o\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nptxas warning : Too big maxrregcount value specified 96, will be ignored\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nnvlink fatal   : Internal error: reference to deleted section\nMakefile:83: recipe for target '/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o' failed\nmake[5]: *** [/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o] Error 1\nMakefile:45: recipe for target 'devicelib' failed\nmake[4]: *** [devicelib] Error 2\nMakefile:24: recipe for target 'src.build' failed\nmake[3]: *** [src.build] Error 2\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed\nmake[2]: *** [lib/libnccl.so] Error 2\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'\n\n\nDiscussion Forum", "body": "## \u2753 Questions and Help\r\n\r\n### Please note that this issue tracker is not a help form and this issue will be closed.\r\n\r\ncm@cm-Vostro-2421:~/pytorch$ python setup.py install\r\nBuilding wheel torch-1.0.0a0+ed02619\r\nrunning install\r\nsetup.py::run()\r\nrunning build_deps\r\nsetup.py::build_deps::run()\r\n+ SYNC_COMMAND=cp\r\n++ command -v rsync\r\n+ '[' -x /usr/bin/rsync ']'\r\n+ SYNC_COMMAND='rsync -lptgoD'\r\n+ CMAKE_COMMAND=cmake\r\n++ command -v cmake3\r\n+ [[ -x '' ]]\r\n+ USE_CUDA=0\r\n+ USE_ROCM=0\r\n+ USE_NNPACK=0\r\n+ USE_MKLDNN=0\r\n+ USE_GLOO_IBVERBS=0\r\n+ CAFFE2_STATIC_LINK_CUDA=0\r\n+ RERUN_CMAKE=1\r\n+ [[ 8 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ USE_CUDA=1\r\n+ shift\r\n+ [[ 7 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ USE_NNPACK=1\r\n+ shift\r\n+ [[ 6 -gt 0 ]]\r\n+ case \"$1\" in\r\n+ break\r\n+ CMAKE_INSTALL='make install'\r\n+ BUILD_SHARED_LIBS=ON\r\n+ USER_CFLAGS=\r\n+ USER_LDFLAGS=\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n++ uname\r\n+ '[' Linux == Darwin ']'\r\n+++ dirname ../tools/build_pytorch_libs.sh\r\n++ cd ../tools/..\r\n+++ pwd\r\n++ printf '%q\\n' /home/cm/pytorch\r\n+ BASE_DIR=/home/cm/pytorch\r\n+ TORCH_LIB_DIR=/home/cm/pytorch/torch/lib\r\n+ INSTALL_DIR=/home/cm/pytorch/torch/lib/tmp_install\r\n+ THIRD_PARTY_DIR=/home/cm/pytorch/third_party\r\n+ C_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\"'\r\n+ C_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\r\n+ LDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\" '\r\n+ LD_POSTFIX=.so\r\n++ uname\r\n+ [[ Linux == \\D\\a\\r\\w\\i\\n ]]\r\n+ [[ 0 -eq 1 ]]\r\n+ LDFLAGS='-L\"/home/cm/pytorch/torch/lib/tmp_install/lib\"  -Wl,-rpath,$ORIGIN'\r\n+ CPP_FLAGS=' -std=c++11 '\r\n+ GLOO_FLAGS='-DBUILD_TEST=OFF '\r\n+ THD_FLAGS=\r\n+ NCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install\r\n+ [[ 1 -eq 1 ]]\r\n+ GLOO_FLAGS+='-DUSE_CUDA=1 -DNCCL_ROOT_DIR=/home/cm/pytorch/torch/lib/tmp_install'\r\n+ [[ 0 -eq 1 ]]\r\n+ CWRAP_FILES='/home/cm/pytorch/torch/lib/ATen/Declarations.cwrap;/home/cm/pytorch/torch/lib/THNN/generic/THNN.h;/home/cm/pytorch/torch/lib/THCUNN/generic/THCUNN.h;/home/cm/pytorch/torch/lib/ATen/nn.yaml'\r\n+ CUDA_NVCC_FLAGS=' -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1'\r\n+ [[ -z '' ]]\r\n+ CUDA_DEVICE_DEBUG=0\r\n+ '[' -z '' ']'\r\n++ getconf _NPROCESSORS_ONLN\r\n+ MAX_JOBS=4\r\n+ BUILD_TYPE=Release\r\n+ [[ -n '' ]]\r\n+ [[ -n '' ]]\r\n+ echo 'Building in Release mode'\r\nBuilding in Release mode\r\n+ mkdir -p /home/cm/pytorch/torch/lib/tmp_install\r\n+ for arg in '\"$@\"'\r\n+ [[ nccl == \\n\\c\\c\\l ]]\r\n+ pushd /home/cm/pytorch/third_party\r\n~/pytorch/third_party ~/pytorch/build\r\n+ build_nccl\r\n+ mkdir -p build/nccl\r\n+ pushd build/nccl\r\n~/pytorch/third_party/build/nccl ~/pytorch/third_party ~/pytorch/build\r\n+ [[ 1 -eq 1 ]]\r\n+ cmake ../../nccl -DCMAKE_MODULE_PATH=/home/cm/pytorch/cmake/Modules_CUDA_fix -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/home/cm/pytorch/torch/lib/tmp_install '-DCMAKE_C_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1 ' '-DCMAKE_CXX_FLAGS= -I\"/home/cm/pytorch/torch/lib/tmp_install/include\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/TH\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THC\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THS\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCS\"   -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THNN\" -I\"/home/cm/pytorch/torch/lib/tmp_install/include/THCUNN\" -DOMPI_SKIP_MPICXX=1  -std=c++11  ' -DCMAKE_SHARED_LINKER_FLAGS= -DCMAKE_UTILS_PATH=/home/cm/pytorch/cmake/public/utils.cmake -DNUM_JOBS=4\r\n-- The C compiler identification is GNU 5.4.0\r\n-- The CXX compiler identification is GNU 5.4.0\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Found CUDA: /usr/local/cuda (found suitable version \"8.0\", minimum required is \"7.0\") \r\n-- Autodetected CUDA architecture(s): 2.1(2.0)\r\n-- Set NVCC_GENCODE for building NCCL: -gencode=arch=compute_20,code=sm_21\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/cm/pytorch/third_party/build/nccl\r\n+ make install -j4\r\nScanning dependencies of target nccl\r\n[100%] Generating lib/libnccl.so\r\nmake[3]: \u8b66\u544a: \u5b50 make \u4e2d\u5f3a\u5236 -jN: \u5173\u95ed jobserver \u6a21\u5f0f\u3002\r\nGenerating nccl.h.in                           > nccl.h\r\nCompiling  init.cu                             > /home/cm/pytorch/third_party/build/nccl/obj/init.o\r\nCompiling  ring.cu                             > /home/cm/pytorch/third_party/build/nccl/obj/ring.o\r\nCompiling  bootstrap.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/bootstrap.o\r\nCompiling  transport.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/transport.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\ninit.cu:52:1: warning: \u2018ncclNet\u2019 initialized and declared \u2018extern\u2019\r\n ncclNet_t* ncclNet = NULL;\r\n ^\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  misc/group.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/group.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  misc/nvmlwrap.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/misc/nvmlwrap.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  misc/ibvwrap.cu                     > /home/cm/pytorch/third_party/build/nccl/obj/misc/ibvwrap.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  misc/rings.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/rings.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  misc/utils.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/misc/utils.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  misc/enqueue.cu                     > /home/cm/pytorch/third_party/build/nccl/obj/misc/enqueue.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  transport/p2p.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/p2p.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  transport/shm.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/shm.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  transport/net.cu                    > /home/cm/pytorch/third_party/build/nccl/obj/transport/net.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  transport/net_socket.cu             > /home/cm/pytorch/third_party/build/nccl/obj/transport/net_socket.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  transport/net_ib.cu                 > /home/cm/pytorch/third_party/build/nccl/obj/transport/net_ib.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  collectives/all_reduce.cu           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_reduce.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  collectives/all_gather.cu           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/all_gather.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  collectives/broadcast.cu            > /home/cm/pytorch/third_party/build/nccl/obj/collectives/broadcast.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  collectives/reduce.cu               > /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  collectives/reduce_scatter.cu       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/reduce_scatter.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_prod.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nGrabbing   nccl.h                              > /home/cm/pytorch/third_party/build/nccl/include/nccl.h\r\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_prod.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_prod.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_prod.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_prod.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_min.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_min.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_min.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_min.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_min.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_max.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_max.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_max.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_max.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_max.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  all_reduce.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_reduce_sum.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  broadcast.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/broadcast_sum.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  reduce.cu                           > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_sum.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  all_gather.cu                       > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/all_gather_sum.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nCompiling  reduce_scatter.cu                   > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/reduce_scatter_sum.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nCompiling  functions.cu                        > /home/cm/pytorch/third_party/build/nccl/obj/collectives/device/functions.o\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nptxas warning : Too big maxrregcount value specified 96, will be ignored\r\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\r\nnvlink fatal   : Internal error: reference to deleted section\r\nMakefile:83: recipe for target '/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o' failed\r\nmake[5]: *** [/home/cm/pytorch/third_party/build/nccl/obj/collectives/device/devlink.o] Error 1\r\nMakefile:45: recipe for target 'devicelib' failed\r\nmake[4]: *** [devicelib] Error 2\r\nMakefile:24: recipe for target 'src.build' failed\r\nmake[3]: *** [src.build] Error 2\r\nCMakeFiles/nccl.dir/build.make:60: recipe for target 'lib/libnccl.so' failed\r\nmake[2]: *** [lib/libnccl.so] Error 2\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/nccl.dir/all' failed\r\nmake[1]: *** [CMakeFiles/nccl.dir/all] Error 2\r\nMakefile:127: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo c10d THD'\r\n- [Discussion Forum](https://discuss.pytorch.org/)\r\n"}