{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10897", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10897/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10897/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10897/events", "html_url": "https://github.com/pytorch/pytorch/issues/10897", "id": 354271196, "node_id": "MDU6SXNzdWUzNTQyNzExOTY=", "number": 10897, "title": "Using numeric literals as left hand operands in operations with tensors located on GPU with id>0 results in illegal memory access exception", "user": {"login": "VladislavZavadskyy", "id": 16824835, "node_id": "MDQ6VXNlcjE2ODI0ODM1", "avatar_url": "https://avatars1.githubusercontent.com/u/16824835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VladislavZavadskyy", "html_url": "https://github.com/VladislavZavadskyy", "followers_url": "https://api.github.com/users/VladislavZavadskyy/followers", "following_url": "https://api.github.com/users/VladislavZavadskyy/following{/other_user}", "gists_url": "https://api.github.com/users/VladislavZavadskyy/gists{/gist_id}", "starred_url": "https://api.github.com/users/VladislavZavadskyy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VladislavZavadskyy/subscriptions", "organizations_url": "https://api.github.com/users/VladislavZavadskyy/orgs", "repos_url": "https://api.github.com/users/VladislavZavadskyy/repos", "events_url": "https://api.github.com/users/VladislavZavadskyy/events{/privacy}", "received_events_url": "https://api.github.com/users/VladislavZavadskyy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-27T10:50:26Z", "updated_at": "2018-08-27T17:22:18Z", "closed_at": "2018-08-27T17:22:18Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Code example</h2>\n<p>To reproduce use this code</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\nt <span class=\"pl-k\">=</span> torch.tensor(<span class=\"pl-c1\">1</span>, <span class=\"pl-v\">device</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda:0<span class=\"pl-pds\">'</span></span>)\nt <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>\nOut[<span class=\"pl-c1\">7</span>]: tensor(<span class=\"pl-c1\">0</span>, <span class=\"pl-v\">device</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda:0<span class=\"pl-pds\">'</span></span>)\n<span class=\"pl-c1\">1</span> <span class=\"pl-k\">-</span> t\nOut[<span class=\"pl-c1\">8</span>]: tensor(<span class=\"pl-c1\">0</span>, <span class=\"pl-v\">device</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda:0<span class=\"pl-pds\">'</span></span>)\nt <span class=\"pl-k\">=</span> torch.tensor(<span class=\"pl-c1\">1</span>, <span class=\"pl-v\">device</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda:1<span class=\"pl-pds\">'</span></span>)\nt <span class=\"pl-k\">-</span> <span class=\"pl-c1\">1</span>\nOut[<span class=\"pl-c1\">10</span>]: tensor(<span class=\"pl-c1\">0</span>, <span class=\"pl-v\">device</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>cuda:1<span class=\"pl-pds\">'</span></span>)\n<span class=\"pl-c1\">1</span> <span class=\"pl-k\">-</span> t\nTHCudaCheck <span class=\"pl-c1\">FAIL</span> <span class=\"pl-v\">file</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>mnt<span class=\"pl-k\">/</span>calc<span class=\"pl-k\">/</span><span class=\"pl-c1\">SSD</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>calculator<span class=\"pl-k\">/</span>experiments<span class=\"pl-k\">/</span>pytorch<span class=\"pl-k\">/</span>aten<span class=\"pl-k\">/</span>src<span class=\"pl-k\">/</span><span class=\"pl-c1\">THC</span><span class=\"pl-k\">/</span>generic<span class=\"pl-k\">/</span>THCTensorCopy.cpp line<span class=\"pl-k\">=</span><span class=\"pl-c1\">68</span> error<span class=\"pl-k\">=</span><span class=\"pl-c1\">77</span> : an illegal memory access was encountered\nTraceback (most recent call last):\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">224</span>, <span class=\"pl-k\">in</span> catch_format_error\n    r <span class=\"pl-k\">=</span> method(<span class=\"pl-c1\">self</span>, <span class=\"pl-k\">*</span>args, <span class=\"pl-k\">**</span>kwargs)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">702</span>, <span class=\"pl-k\">in</span> <span class=\"pl-c1\">__call__</span>\n    printer.pretty(obj)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">400</span>, <span class=\"pl-k\">in</span> pretty\n    <span class=\"pl-k\">return</span> _repr_pprint(obj, <span class=\"pl-c1\">self</span>, cycle)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">695</span>, <span class=\"pl-k\">in</span> _repr_pprint\n    output <span class=\"pl-k\">=</span> <span class=\"pl-c1\">repr</span>(obj)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/tensor.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">60</span>, <span class=\"pl-k\">in</span> <span class=\"pl-c1\">__repr__</span>\n    <span class=\"pl-k\">return</span> torch._tensor_str._str(<span class=\"pl-c1\">self</span>)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">256</span>, <span class=\"pl-k\">in</span> _str\n    formatter <span class=\"pl-k\">=</span> _Formatter(get_summarized_data(<span class=\"pl-c1\">self</span>) <span class=\"pl-k\">if</span> summarize <span class=\"pl-k\">else</span> <span class=\"pl-c1\">self</span>)\n  File <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py<span class=\"pl-pds\">\"</span></span>, line <span class=\"pl-c1\">76</span>, <span class=\"pl-k\">in</span> <span class=\"pl-c1\">__init__</span>\n    copy <span class=\"pl-k\">=</span> torch.empty(tensor.size(), <span class=\"pl-v\">dtype</span><span class=\"pl-k\">=</span>torch.long).copy_(tensor).view(tensor.nelement())\n<span class=\"pl-c1\">RuntimeError</span>: cuda runtime error (<span class=\"pl-c1\">77</span>) : an illegal memory access was encountered at <span class=\"pl-k\">/</span>mnt<span class=\"pl-k\">/</span>calc<span class=\"pl-k\">/</span><span class=\"pl-c1\">SSD</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>calculator<span class=\"pl-k\">/</span>experiments<span class=\"pl-k\">/</span>pytorch<span class=\"pl-k\">/</span>aten<span class=\"pl-k\">/</span>src<span class=\"pl-k\">/</span><span class=\"pl-c1\">THC</span><span class=\"pl-k\">/</span>generic<span class=\"pl-k\">/</span>THCTensorCopy.cpp:<span class=\"pl-c1\">68</span></pre></div>\n<h2>System Info</h2>\n<p>PyTorch version: 0.5.0a0+c8b246a<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: 9.2.148</p>\n<p>OS: Ubuntu 18.04.1 LTS<br>\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0<br>\nCMake version: version 3.11.1</p>\n<p>Python version: 3.6<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.1.85<br>\nGPU models and configuration:<br>\nGPU 0: GeForce GTX 1080 Ti<br>\nGPU 1: GeForce GTX TITAN X<br>\nGPU 2: GeForce GTX 1080 Ti</p>\n<p>Nvidia driver version: 396.45<br>\ncuDNN version: 7.1.4</p>\n<p>Versions of relevant libraries:<br>\n[conda] magma-cuda92              2.3.0                         1    pytorch</p>", "body_text": "Code example\nTo reproduce use this code\nimport torch\nt = torch.tensor(1, device='cuda:0')\nt -1\nOut[7]: tensor(0, device='cuda:0')\n1 - t\nOut[8]: tensor(0, device='cuda:0')\nt = torch.tensor(1, device='cuda:1')\nt - 1\nOut[10]: tensor(0, device='cuda:1')\n1 - t\nTHCudaCheck FAIL file=/mnt/calc/SSD/home/calculator/experiments/pytorch/aten/src/THC/generic/THCTensorCopy.cpp line=68 error=77 : an illegal memory access was encountered\nTraceback (most recent call last):\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py\", line 224, in catch_format_error\n    r = method(self, *args, **kwargs)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py\", line 702, in __call__\n    printer.pretty(obj)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py\", line 400, in pretty\n    return _repr_pprint(obj, self, cycle)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py\", line 695, in _repr_pprint\n    output = repr(obj)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/tensor.py\", line 60, in __repr__\n    return torch._tensor_str._str(self)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py\", line 256, in _str\n    formatter = _Formatter(get_summarized_data(self) if summarize else self)\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py\", line 76, in __init__\n    copy = torch.empty(tensor.size(), dtype=torch.long).copy_(tensor).view(tensor.nelement())\nRuntimeError: cuda runtime error (77) : an illegal memory access was encountered at /mnt/calc/SSD/home/calculator/experiments/pytorch/aten/src/THC/generic/THCTensorCopy.cpp:68\nSystem Info\nPyTorch version: 0.5.0a0+c8b246a\nIs debug build: No\nCUDA used to build PyTorch: 9.2.148\nOS: Ubuntu 18.04.1 LTS\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\nCMake version: version 3.11.1\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: 9.1.85\nGPU models and configuration:\nGPU 0: GeForce GTX 1080 Ti\nGPU 1: GeForce GTX TITAN X\nGPU 2: GeForce GTX 1080 Ti\nNvidia driver version: 396.45\ncuDNN version: 7.1.4\nVersions of relevant libraries:\n[conda] magma-cuda92              2.3.0                         1    pytorch", "body": "## Code example\r\nTo reproduce use this code\r\n\r\n```python\r\nimport torch\r\nt = torch.tensor(1, device='cuda:0')\r\nt -1\r\nOut[7]: tensor(0, device='cuda:0')\r\n1 - t\r\nOut[8]: tensor(0, device='cuda:0')\r\nt = torch.tensor(1, device='cuda:1')\r\nt - 1\r\nOut[10]: tensor(0, device='cuda:1')\r\n1 - t\r\nTHCudaCheck FAIL file=/mnt/calc/SSD/home/calculator/experiments/pytorch/aten/src/THC/generic/THCTensorCopy.cpp line=68 error=77 : an illegal memory access was encountered\r\nTraceback (most recent call last):\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py\", line 224, in catch_format_error\r\n    r = method(self, *args, **kwargs)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/core/formatters.py\", line 702, in __call__\r\n    printer.pretty(obj)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py\", line 400, in pretty\r\n    return _repr_pprint(obj, self, cycle)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/IPython/lib/pretty.py\", line 695, in _repr_pprint\r\n    output = repr(obj)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/tensor.py\", line 60, in __repr__\r\n    return torch._tensor_str._str(self)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py\", line 256, in _str\r\n    formatter = _Formatter(get_summarized_data(self) if summarize else self)\r\n  File \"/home/pesyk/anaconda3/lib/python3.6/site-packages/torch/_tensor_str.py\", line 76, in __init__\r\n    copy = torch.empty(tensor.size(), dtype=torch.long).copy_(tensor).view(tensor.nelement())\r\nRuntimeError: cuda runtime error (77) : an illegal memory access was encountered at /mnt/calc/SSD/home/calculator/experiments/pytorch/aten/src/THC/generic/THCTensorCopy.cpp:68\r\n```\r\n\r\n## System Info\r\nPyTorch version: 0.5.0a0+c8b246a\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.2.148\r\n\r\nOS: Ubuntu 18.04.1 LTS\r\nGCC version: (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\nCMake version: version 3.11.1\r\n\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.1.85\r\nGPU models and configuration: \r\nGPU 0: GeForce GTX 1080 Ti\r\nGPU 1: GeForce GTX TITAN X\r\nGPU 2: GeForce GTX 1080 Ti\r\n\r\nNvidia driver version: 396.45\r\ncuDNN version: 7.1.4\r\n\r\nVersions of relevant libraries:\r\n[conda] magma-cuda92              2.3.0                         1    pytorch"}