{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/224466868", "pull_request_review_id": 163840345, "id": 224466868, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNDQ2Njg2OA==", "diff_hunk": "@@ -7287,6 +7287,15 @@ def fn(x):\n         with self.assertRaisesRegex(RuntimeError, \"operation failed in interpreter\"):\n             fn(torch.tensor(4))\n \n+    def test_trace_contiguous(self):\n+        def foo(x):\n+            return x[:, :, ::2].view(12).contiguous()", "path": "test/test_jit.py", "position": null, "original_position": 6, "commit_id": "a950ca563e9ec3257283b6e5a71e753e2d173f2c", "original_commit_id": "1eedffb22db73904950233790e7e6fd63c56bf43", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "I don't think `view` will succeed on a non-contiguous tensor, so this code is incorrect. Maybe instead of checking data pointers and relying on that behavior simply check that one of the nodes in the graph has an `aten::contiguous` kind?", "created_at": "2018-10-11T14:20:48Z", "updated_at": "2018-11-23T15:52:53Z", "html_url": "https://github.com/pytorch/pytorch/pull/12541#discussion_r224466868", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12541", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/224466868"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12541#discussion_r224466868"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12541"}}, "body_html": "<p>I don't think <code>view</code> will succeed on a non-contiguous tensor, so this code is incorrect. Maybe instead of checking data pointers and relying on that behavior simply check that one of the nodes in the graph has an <code>aten::contiguous</code> kind?</p>", "body_text": "I don't think view will succeed on a non-contiguous tensor, so this code is incorrect. Maybe instead of checking data pointers and relying on that behavior simply check that one of the nodes in the graph has an aten::contiguous kind?"}