{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/420435719", "html_url": "https://github.com/pytorch/pytorch/issues/11445#issuecomment-420435719", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/11445", "id": 420435719, "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDQzNTcxOQ==", "user": {"login": "nwsterling", "id": 8649725, "node_id": "MDQ6VXNlcjg2NDk3MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8649725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nwsterling", "html_url": "https://github.com/nwsterling", "followers_url": "https://api.github.com/users/nwsterling/followers", "following_url": "https://api.github.com/users/nwsterling/following{/other_user}", "gists_url": "https://api.github.com/users/nwsterling/gists{/gist_id}", "starred_url": "https://api.github.com/users/nwsterling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nwsterling/subscriptions", "organizations_url": "https://api.github.com/users/nwsterling/orgs", "repos_url": "https://api.github.com/users/nwsterling/repos", "events_url": "https://api.github.com/users/nwsterling/events{/privacy}", "received_events_url": "https://api.github.com/users/nwsterling/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-11T21:43:00Z", "updated_at": "2018-09-11T21:46:10Z", "author_association": "NONE", "body_html": "<p>Thank you so much, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a>, for your prompt response. Running <code>find /home/nick/anaconda3/envs/some_env/ -name caffe2_pb2*</code> returns no files.</p>\n<p>Running <code>find /home/nick -name caffe2_pb2*</code> returns the following...</p>\n<pre><code>/home/nick/pytorch/torch/lib/tmp_install/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\n/home/nick/pytorch/torch/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\n/home/nick/pytorch/build/caffe2/proto/caffe2_pb2.py\n</code></pre>\n<p>It seems like maybe caffe2_pb2 is within the tmp_install directory, but never seems to make it into the anaconda environment. When I look at the \"SUMMARY\" section running <code>FULL_CAFFE2=1 python setup.py install</code>, I notice that CMAKE_PREFIX_PATH is different than what I had intended to set on the command line, even though I run <code>export CMAKE_PREFIX_PATH=/home/nick/anaconda3/envs/some_env/</code>.</p>\n<pre><code>-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.12.2\n--   CMake command         : /home/nick/anaconda3/envs/some_env/bin/cmake\n--   Git version           : v0.1.11-10342-g87b2f05a9\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 7.3.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -Wno-stringop-overflow\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;MAGMA_V2;USE_C11_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /home/nick/anaconda3/envs/some_env/lib/python3.5/site-packages\n--   CMAKE_INSTALL_PREFIX  : /home/nick/pytorch/torch/lib/tmp_install\n-- \n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.5.6\n--     Python executable   : /home/nick/anaconda3/envs/some_env/bin/python\n--     Pythonlibs version  : 3.5.6\n--     Python library      : /home/nick/anaconda3/envs/some_env/lib/python3.5\n--     Python includes     : /home/nick/anaconda3/envs/some_env/include/python3.5m\n--     Python site-packages: lib/python3.5/site-packages\n--   BUILD_SHARED_LIBS     : ON\n\n</code></pre>", "body_text": "Thank you so much, @ezyang, for your prompt response. Running find /home/nick/anaconda3/envs/some_env/ -name caffe2_pb2* returns no files.\nRunning find /home/nick -name caffe2_pb2* returns the following...\n/home/nick/pytorch/torch/lib/tmp_install/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\n/home/nick/pytorch/torch/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\n/home/nick/pytorch/build/caffe2/proto/caffe2_pb2.py\n\nIt seems like maybe caffe2_pb2 is within the tmp_install directory, but never seems to make it into the anaconda environment. When I look at the \"SUMMARY\" section running FULL_CAFFE2=1 python setup.py install, I notice that CMAKE_PREFIX_PATH is different than what I had intended to set on the command line, even though I run export CMAKE_PREFIX_PATH=/home/nick/anaconda3/envs/some_env/.\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.12.2\n--   CMake command         : /home/nick/anaconda3/envs/some_env/bin/cmake\n--   Git version           : v0.1.11-10342-g87b2f05a9\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 7.3.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -Wno-stringop-overflow\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;MAGMA_V2;USE_C11_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /home/nick/anaconda3/envs/some_env/lib/python3.5/site-packages\n--   CMAKE_INSTALL_PREFIX  : /home/nick/pytorch/torch/lib/tmp_install\n-- \n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.5.6\n--     Python executable   : /home/nick/anaconda3/envs/some_env/bin/python\n--     Pythonlibs version  : 3.5.6\n--     Python library      : /home/nick/anaconda3/envs/some_env/lib/python3.5\n--     Python includes     : /home/nick/anaconda3/envs/some_env/include/python3.5m\n--     Python site-packages: lib/python3.5/site-packages\n--   BUILD_SHARED_LIBS     : ON", "body": "Thank you so much, @ezyang, for your prompt response. Running `find /home/nick/anaconda3/envs/some_env/ -name caffe2_pb2*` returns no files. \r\n\r\nRunning `find /home/nick -name caffe2_pb2*` returns the following...\r\n\r\n```\r\n/home/nick/pytorch/torch/lib/tmp_install/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\r\n/home/nick/pytorch/torch/lib/python3.5/site-packages/caffe2/proto/caffe2_pb2.py\r\n/home/nick/pytorch/build/caffe2/proto/caffe2_pb2.py\r\n```\r\nIt seems like maybe caffe2_pb2 is within the tmp_install directory, but never seems to make it into the anaconda environment. When I look at the \"SUMMARY\" section running `FULL_CAFFE2=1 python setup.py install`, I notice that CMAKE_PREFIX_PATH is different than what I had intended to set on the command line, even though I run `export CMAKE_PREFIX_PATH=/home/nick/anaconda3/envs/some_env/`.\r\n\r\n```\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.12.2\r\n--   CMake command         : /home/nick/anaconda3/envs/some_env/bin/cmake\r\n--   Git version           : v0.1.11-10342-g87b2f05a9\r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/c++\r\n--   C++ compiler version  : 7.3.0\r\n--   BLAS                  : MKL\r\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-stringop-overflow -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -faligned-new -Wno-unused-but-set-variable -Wno-maybe-uninitialized -Wno-stringop-overflow\r\n--   Build type            : Release\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;MAGMA_V2;USE_C11_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\r\n--   CMAKE_PREFIX_PATH     : /home/nick/anaconda3/envs/some_env/lib/python3.5/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /home/nick/pytorch/torch/lib/tmp_install\r\n-- \r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 3.5.6\r\n--     Python executable   : /home/nick/anaconda3/envs/some_env/bin/python\r\n--     Pythonlibs version  : 3.5.6\r\n--     Python library      : /home/nick/anaconda3/envs/some_env/lib/python3.5\r\n--     Python includes     : /home/nick/anaconda3/envs/some_env/include/python3.5m\r\n--     Python site-packages: lib/python3.5/site-packages\r\n--   BUILD_SHARED_LIBS     : ON\r\n\r\n```"}