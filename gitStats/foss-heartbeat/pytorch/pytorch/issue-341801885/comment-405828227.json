{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/405828227", "html_url": "https://github.com/pytorch/pytorch/issues/9489#issuecomment-405828227", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9489", "id": 405828227, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTgyODIyNw==", "user": {"login": "008karan", "id": 18630864, "node_id": "MDQ6VXNlcjE4NjMwODY0", "avatar_url": "https://avatars2.githubusercontent.com/u/18630864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/008karan", "html_url": "https://github.com/008karan", "followers_url": "https://api.github.com/users/008karan/followers", "following_url": "https://api.github.com/users/008karan/following{/other_user}", "gists_url": "https://api.github.com/users/008karan/gists{/gist_id}", "starred_url": "https://api.github.com/users/008karan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/008karan/subscriptions", "organizations_url": "https://api.github.com/users/008karan/orgs", "repos_url": "https://api.github.com/users/008karan/repos", "events_url": "https://api.github.com/users/008karan/events{/privacy}", "received_events_url": "https://api.github.com/users/008karan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-18T06:51:28Z", "updated_at": "2018-07-18T06:51:28Z", "author_association": "NONE", "body_html": "<p>So I followed your method of creating a new environment and installing caffe2 as 'conda install -c caffe2 caffe2'. It passed both tests:</p>\n<pre lang=\"#\" data-meta=\"To check if Caffe2 build was successful\"><code>python2 -c 'from caffe2.python import core' 2&gt;/dev/null &amp;&amp; echo \"Success\" || echo \"Failure\"\n\n# To check if Caffe2 GPU build was successful\n# This must print a number &gt; 0 in order to use Detectron\npython2 -c 'from caffe2.python import workspace; print(workspace.NumCudaDevices())'\n</code></pre>\n<p>Then I moved ahead for densepose by following <a href=\"https://github.com/facebookresearch/DensePose/blob/master/INSTALL.md\">this</a>. I am getting error in this line:<br>\n<code>cd $DENSEPOSE &amp;&amp; make ops</code></p>\n<p>output:</p>\n<blockquote>\n</blockquote>\n<p>mkdir -p build &amp;&amp; cd build &amp;&amp; cmake .. &amp;&amp; make -j1<br>\n-- Caffe2: Found gflags with new-style gflags target.<br>\n-- Caffe2: Cannot find glog automatically. Using legacy find.<br>\n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-lin<br>\nux-gnu/libglog.so)<br>\n-- Caffe2: Found protobuf with new-style protobuf targets.<br>\n-- Caffe2: Protobuf version 3.5.0<br>\n-- Caffe2: CUDA detected: 8.0<br>\n-- Caffe2: CUDA nvcc is: /usr/local/cuda-8.0/bin/nvcc<br>\n-- Caffe2: CUDA toolkit directory: /usr/local/cuda-8.0<br>\n-- Caffe2: Header version is: 8.0<br>\n-- Found cuDNN: v6.0.21  (include: /usr/local/cuda-8.0/include, library: /<br>\nusr/local/cuda-8.0/lib64/libcudnn.so)<br>\nCMake Error at /home/g008kaaraan/pytorch/build/public/utils.cmake:164 (cud<br>\na_select_nvcc_arch_flags):<br>\nUnknown CMake command \"cuda_select_nvcc_arch_flags\".<br>\nCall Stack (most recent call first):<br>\n/home/g008kaaraan/pytorch/build/public/cuda.cmake:332 (torch_cuda_get_nv<br>\ncc_gencode_flag)<br>\n/home/g008kaaraan/pytorch/build/Caffe2Config.cmake:79 (include)<br>\nCMakeLists.txt:8 (find_package)<br>\n-- Configuring incomplete, errors occurred!<br>\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeOutput.log\".<br>\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeError.log\".<br>\nMakefile:13: recipe for target 'ops' failed<br>\nmake: *** [ops] Error 1</p>\n<blockquote>\n</blockquote>\n<p>How to proceed now. Thanks for the help!</p>", "body_text": "So I followed your method of creating a new environment and installing caffe2 as 'conda install -c caffe2 caffe2'. It passed both tests:\npython2 -c 'from caffe2.python import core' 2>/dev/null && echo \"Success\" || echo \"Failure\"\n\n# To check if Caffe2 GPU build was successful\n# This must print a number > 0 in order to use Detectron\npython2 -c 'from caffe2.python import workspace; print(workspace.NumCudaDevices())'\n\nThen I moved ahead for densepose by following this. I am getting error in this line:\ncd $DENSEPOSE && make ops\noutput:\n\n\nmkdir -p build && cd build && cmake .. && make -j1\n-- Caffe2: Found gflags with new-style gflags target.\n-- Caffe2: Cannot find glog automatically. Using legacy find.\n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-lin\nux-gnu/libglog.so)\n-- Caffe2: Found protobuf with new-style protobuf targets.\n-- Caffe2: Protobuf version 3.5.0\n-- Caffe2: CUDA detected: 8.0\n-- Caffe2: CUDA nvcc is: /usr/local/cuda-8.0/bin/nvcc\n-- Caffe2: CUDA toolkit directory: /usr/local/cuda-8.0\n-- Caffe2: Header version is: 8.0\n-- Found cuDNN: v6.0.21  (include: /usr/local/cuda-8.0/include, library: /\nusr/local/cuda-8.0/lib64/libcudnn.so)\nCMake Error at /home/g008kaaraan/pytorch/build/public/utils.cmake:164 (cud\na_select_nvcc_arch_flags):\nUnknown CMake command \"cuda_select_nvcc_arch_flags\".\nCall Stack (most recent call first):\n/home/g008kaaraan/pytorch/build/public/cuda.cmake:332 (torch_cuda_get_nv\ncc_gencode_flag)\n/home/g008kaaraan/pytorch/build/Caffe2Config.cmake:79 (include)\nCMakeLists.txt:8 (find_package)\n-- Configuring incomplete, errors occurred!\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeError.log\".\nMakefile:13: recipe for target 'ops' failed\nmake: *** [ops] Error 1\n\n\nHow to proceed now. Thanks for the help!", "body": "So I followed your method of creating a new environment and installing caffe2 as 'conda install -c caffe2 caffe2'. It passed both tests:\r\n```# To check if Caffe2 build was successful\r\npython2 -c 'from caffe2.python import core' 2>/dev/null && echo \"Success\" || echo \"Failure\"\r\n\r\n# To check if Caffe2 GPU build was successful\r\n# This must print a number > 0 in order to use Detectron\r\npython2 -c 'from caffe2.python import workspace; print(workspace.NumCudaDevices())'\r\n``` \r\n\r\nThen I moved ahead for densepose by following [this](https://github.com/facebookresearch/DensePose/blob/master/INSTALL.md). I am getting error in this line:\r\n`cd $DENSEPOSE && make ops` \r\n\r\noutput:\r\n\r\n> \r\nmkdir -p build && cd build && cmake .. && make -j1\r\n-- Caffe2: Found gflags with new-style gflags target.\r\n-- Caffe2: Cannot find glog automatically. Using legacy find.\r\n-- Caffe2: Found glog (include: /usr/include, library: /usr/lib/x86_64-lin\r\nux-gnu/libglog.so)\r\n-- Caffe2: Found protobuf with new-style protobuf targets.\r\n-- Caffe2: Protobuf version 3.5.0\r\n-- Caffe2: CUDA detected: 8.0\r\n-- Caffe2: CUDA nvcc is: /usr/local/cuda-8.0/bin/nvcc\r\n-- Caffe2: CUDA toolkit directory: /usr/local/cuda-8.0\r\n-- Caffe2: Header version is: 8.0\r\n-- Found cuDNN: v6.0.21  (include: /usr/local/cuda-8.0/include, library: /\r\nusr/local/cuda-8.0/lib64/libcudnn.so)\r\nCMake Error at /home/g008kaaraan/pytorch/build/public/utils.cmake:164 (cud\r\na_select_nvcc_arch_flags):\r\n  Unknown CMake command \"cuda_select_nvcc_arch_flags\".\r\nCall Stack (most recent call first):\r\n/home/g008kaaraan/pytorch/build/public/cuda.cmake:332 (torch_cuda_get_nv\r\ncc_gencode_flag)\r\n  /home/g008kaaraan/pytorch/build/Caffe2Config.cmake:79 (include)\r\n  CMakeLists.txt:8 (find_package)\r\n-- Configuring incomplete, errors occurred!\r\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeOutput.log\".\r\nSee also \"/home/g008kaaraan/densepose/build/CMakeFiles/CMakeError.log\".\r\nMakefile:13: recipe for target 'ops' failed\r\nmake: *** [ops] Error 1\r\n\r\n> \r\nHow to proceed now. Thanks for the help!\r\n\r\n "}