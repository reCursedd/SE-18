{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8555", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8555/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8555/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8555/events", "html_url": "https://github.com/pytorch/pytorch/pull/8555", "id": 332820578, "node_id": "MDExOlB1bGxSZXF1ZXN0MTk1MjEwNjI5", "number": 8555, "title": "Remove NO_* and WITH_* across codebase, except in setup.py", "user": {"login": "soumith", "id": 1310570, "node_id": "MDQ6VXNlcjEzMTA1NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1310570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumith", "html_url": "https://github.com/soumith", "followers_url": "https://api.github.com/users/soumith/followers", "following_url": "https://api.github.com/users/soumith/following{/other_user}", "gists_url": "https://api.github.com/users/soumith/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumith/subscriptions", "organizations_url": "https://api.github.com/users/soumith/orgs", "repos_url": "https://api.github.com/users/soumith/repos", "events_url": "https://api.github.com/users/soumith/events{/privacy}", "received_events_url": "https://api.github.com/users/soumith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-15T15:32:32Z", "updated_at": "2018-11-23T15:45:40Z", "closed_at": "2018-06-15T16:29:49Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/8555", "html_url": "https://github.com/pytorch/pytorch/pull/8555", "diff_url": "https://github.com/pytorch/pytorch/pull/8555.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/8555.patch"}, "body_html": "<ol>\n<li>remove the WITH_* / NO_* legacy options in CMakeLists.txt and aten/CMakeLists.txt</li>\n<li>Sed the following variables from WITH_* to USE_* using <code>find . -type f -exec sed -i 's/WITH_NCCL/USE_NCCL/g' {} +</code></li>\n</ol>\n<pre><code>WITH_CUDA\nWITH_CUDNN\nWITH_DISTRIBUTED\nWITH_DISTRIBUTED_MW\nWITH_GLOO_IBVERBS\nWITH_NCCL\nWITH_ROCM\nWITH_NUMPY\nWITH_SYSTEM_NCCL\nWITH_MKLDNN\nWITH_NNPACK\nWITH_C10D\nWITH_NINJA\n</code></pre>\n<ol start=\"3\">\n<li>remove all instances of NO_* in all files except setup.py and README.md</li>\n</ol>\n<p>The following variables were checked and worked around:</p>\n<pre><code>NO_CUDA\nNO_CUDNN\nNO_MKLDNN\nNO_NNPACK\nNO_DISTRIBUTED\nNO_SYSTEM_NCCL\n</code></pre>\n<ol start=\"4\">\n<li>in setup.py, on instance of <code>NO_*</code> or <code>WITH_*</code> of supported variables, hotpatch a <code>USE_*</code> equivalent</li>\n</ol>", "body_text": "remove the WITH_* / NO_* legacy options in CMakeLists.txt and aten/CMakeLists.txt\nSed the following variables from WITH_* to USE_* using find . -type f -exec sed -i 's/WITH_NCCL/USE_NCCL/g' {} +\n\nWITH_CUDA\nWITH_CUDNN\nWITH_DISTRIBUTED\nWITH_DISTRIBUTED_MW\nWITH_GLOO_IBVERBS\nWITH_NCCL\nWITH_ROCM\nWITH_NUMPY\nWITH_SYSTEM_NCCL\nWITH_MKLDNN\nWITH_NNPACK\nWITH_C10D\nWITH_NINJA\n\n\nremove all instances of NO_* in all files except setup.py and README.md\n\nThe following variables were checked and worked around:\nNO_CUDA\nNO_CUDNN\nNO_MKLDNN\nNO_NNPACK\nNO_DISTRIBUTED\nNO_SYSTEM_NCCL\n\n\nin setup.py, on instance of NO_* or WITH_* of supported variables, hotpatch a USE_* equivalent", "body": "1. remove the WITH_* / NO_* legacy options in CMakeLists.txt and aten/CMakeLists.txt\r\n2. Sed the following variables from WITH_* to USE_* using `find . -type f -exec sed -i 's/WITH_NCCL/USE_NCCL/g' {} +`\r\n\r\n```\r\nWITH_CUDA\r\nWITH_CUDNN\r\nWITH_DISTRIBUTED\r\nWITH_DISTRIBUTED_MW\r\nWITH_GLOO_IBVERBS\r\nWITH_NCCL\r\nWITH_ROCM\r\nWITH_NUMPY\r\nWITH_SYSTEM_NCCL\r\nWITH_MKLDNN\r\nWITH_NNPACK\r\nWITH_C10D\r\nWITH_NINJA\r\n```\r\n\r\n3. remove all instances of NO_* in all files except setup.py and README.md\r\n\r\nThe following variables were checked and worked around:\r\n```\r\nNO_CUDA\r\nNO_CUDNN\r\nNO_MKLDNN\r\nNO_NNPACK\r\nNO_DISTRIBUTED\r\nNO_SYSTEM_NCCL\r\n```\r\n\r\n4. in setup.py, on instance of `NO_*` or `WITH_*` of supported variables, hotpatch a `USE_*` equivalent"}