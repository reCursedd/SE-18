{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/428634910", "html_url": "https://github.com/pytorch/pytorch/issues/8195#issuecomment-428634910", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8195", "id": 428634910, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODYzNDkxMA==", "user": {"login": "kateiyas", "id": 464041, "node_id": "MDQ6VXNlcjQ2NDA0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/464041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kateiyas", "html_url": "https://github.com/kateiyas", "followers_url": "https://api.github.com/users/kateiyas/followers", "following_url": "https://api.github.com/users/kateiyas/following{/other_user}", "gists_url": "https://api.github.com/users/kateiyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/kateiyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kateiyas/subscriptions", "organizations_url": "https://api.github.com/users/kateiyas/orgs", "repos_url": "https://api.github.com/users/kateiyas/repos", "events_url": "https://api.github.com/users/kateiyas/events{/privacy}", "received_events_url": "https://api.github.com/users/kateiyas/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-10T16:13:57Z", "updated_at": "2018-10-10T16:13:57Z", "author_association": "NONE", "body_html": "<p>Same problem here. I've already added <code>-fPIC</code> to the CMake flags in <code>CMakeCache.txt</code> as described in the error message and <a href=\"https://github.com/BVLC/caffe/issues/2171\" data-hovercard-type=\"issue\" data-hovercard-url=\"/BVLC/caffe/issues/2171/hovercard\">here</a>. Does not have any effect.</p>\n<pre><code>//Flags used by the CXX compiler during all build types.\nCMAKE_CXX_FLAGS:STRING=-fPIC\n</code></pre>\n<p>Error message:</p>\n<pre><code>[ 83%] Linking CXX shared library ../lib/libcaffe2.so\n/usr/bin/ld: /usr/local/lib/libleveldb.a(db_impl.cc.o): relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC\n/usr/local/lib/libleveldb.a: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\ncaffe2/CMakeFiles/caffe2.dir/build.make:4877: recipe for target 'lib/libcaffe2.so' failed\nmake[2]: *** [lib/libcaffe2.so] Error 1\nCMakeFiles/Makefile2:3402: recipe for target 'caffe2/CMakeFiles/caffe2.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/caffe2.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>", "body_text": "Same problem here. I've already added -fPIC to the CMake flags in CMakeCache.txt as described in the error message and here. Does not have any effect.\n//Flags used by the CXX compiler during all build types.\nCMAKE_CXX_FLAGS:STRING=-fPIC\n\nError message:\n[ 83%] Linking CXX shared library ../lib/libcaffe2.so\n/usr/bin/ld: /usr/local/lib/libleveldb.a(db_impl.cc.o): relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC\n/usr/local/lib/libleveldb.a: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\ncaffe2/CMakeFiles/caffe2.dir/build.make:4877: recipe for target 'lib/libcaffe2.so' failed\nmake[2]: *** [lib/libcaffe2.so] Error 1\nCMakeFiles/Makefile2:3402: recipe for target 'caffe2/CMakeFiles/caffe2.dir/all' failed\nmake[1]: *** [caffe2/CMakeFiles/caffe2.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2", "body": "Same problem here. I've already added `-fPIC` to the CMake flags in `CMakeCache.txt` as described in the error message and [here](https://github.com/BVLC/caffe/issues/2171). Does not have any effect.\r\n\r\n```\r\n//Flags used by the CXX compiler during all build types.\r\nCMAKE_CXX_FLAGS:STRING=-fPIC\r\n```\r\n\r\nError message: \r\n\r\n```\r\n[ 83%] Linking CXX shared library ../lib/libcaffe2.so\r\n/usr/bin/ld: /usr/local/lib/libleveldb.a(db_impl.cc.o): relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC\r\n/usr/local/lib/libleveldb.a: error adding symbols: Bad value\r\ncollect2: error: ld returned 1 exit status\r\ncaffe2/CMakeFiles/caffe2.dir/build.make:4877: recipe for target 'lib/libcaffe2.so' failed\r\nmake[2]: *** [lib/libcaffe2.so] Error 1\r\nCMakeFiles/Makefile2:3402: recipe for target 'caffe2/CMakeFiles/caffe2.dir/all' failed\r\nmake[1]: *** [caffe2/CMakeFiles/caffe2.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```"}