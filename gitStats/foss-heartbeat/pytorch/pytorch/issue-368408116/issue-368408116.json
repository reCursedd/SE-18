{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12502", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12502/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12502/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12502/events", "html_url": "https://github.com/pytorch/pytorch/pull/12502", "id": 368408116, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIxNTkzNjA3", "number": 12502, "title": "Differentiable and Non-differentiable Views", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-10-09T21:36:01Z", "updated_at": "2018-11-23T15:52:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/12502", "html_url": "https://github.com/pytorch/pytorch/pull/12502", "diff_url": "https://github.com/pytorch/pytorch/pull/12502.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/12502.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #11390.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"358166118\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11390\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/11390/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/11390\">#11390</a>.</p>\n<p>This PR introduces the idea of non-differentiable views. A non-differentiable is a view that shares storage with the base variable, but gradient should never flow through the view relation. This includes:</p>\n<ol>\n<li>.detach()</li>\n<li>Views created when GradMode is disabled</li>\n<li>Views that are non-differentiable by nature, e.g., <code>sparse_tensor.indices()</code> (This is being added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357010970\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11253\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11253/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11253\">#11253</a>. I base <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"357010970\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/11253\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/11253/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/11253\">#11253</a> on this and update the note in that PR.)</li>\n</ol>\n<p>See the note in this PR for details.</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3768583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gchanan\">@gchanan</a></p>", "body_text": "Fixes #11390.\nThis PR introduces the idea of non-differentiable views. A non-differentiable is a view that shares storage with the base variable, but gradient should never flow through the view relation. This includes:\n\n.detach()\nViews created when GradMode is disabled\nViews that are non-differentiable by nature, e.g., sparse_tensor.indices() (This is being added in #11253. I base #11253 on this and update the note in that PR.)\n\nSee the note in this PR for details.\ncc @colesbury @apaszke @gchanan", "body": "Fixes https://github.com/pytorch/pytorch/issues/11390. \r\n\r\nThis PR introduces the idea of non-differentiable views. A non-differentiable is a view that shares storage with the base variable, but gradient should never flow through the view relation. This includes:\r\n1. .detach()\r\n2. Views created when GradMode is disabled\r\n3. Views that are non-differentiable by nature, e.g., `sparse_tensor.indices()` (This is being added in #11253. I base #11253 on this and update the note in that PR.)\r\n\r\nSee the note in this PR for details.\r\n\r\n\r\ncc @colesbury @apaszke @gchanan "}