{"url": "https://api.github.com/repos/pytorch/pytorch/issues/554", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/554/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/554/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/554/events", "html_url": "https://github.com/pytorch/pytorch/issues/554", "id": 202557169, "node_id": "MDU6SXNzdWUyMDI1NTcxNjk=", "number": 554, "title": "Multi-GPU execution error", "user": {"login": "thomasjanssens", "id": 17139354, "node_id": "MDQ6VXNlcjE3MTM5MzU0", "avatar_url": "https://avatars2.githubusercontent.com/u/17139354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomasjanssens", "html_url": "https://github.com/thomasjanssens", "followers_url": "https://api.github.com/users/thomasjanssens/followers", "following_url": "https://api.github.com/users/thomasjanssens/following{/other_user}", "gists_url": "https://api.github.com/users/thomasjanssens/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomasjanssens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomasjanssens/subscriptions", "organizations_url": "https://api.github.com/users/thomasjanssens/orgs", "repos_url": "https://api.github.com/users/thomasjanssens/repos", "events_url": "https://api.github.com/users/thomasjanssens/events{/privacy}", "received_events_url": "https://api.github.com/users/thomasjanssens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 424131847, "node_id": "MDU6TGFiZWw0MjQxMzE4NDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/bug", "name": "bug", "color": "b60205", "default": true}, {"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-23T15:01:02Z", "updated_at": "2017-01-26T03:47:24Z", "closed_at": "2017-01-26T03:47:24Z", "author_association": "NONE", "body_html": "<p>I'm running PyTorch on a system with 4 Nvidia K10 GPUs and can't get the Multi-GPU code to work. I attempted to modify the first neural net in the 60-minute tutorial to run on all my GPUs, by adding this line to the cell defining the network:</p>\n<p><code>net = torch.nn.DataParallel(net, device_ids=[0, 1, 2, 3]).cuda()</code></p>\n<p>If I then attempt to use the net as follows<br>\n<code>input = Variable(torch.randn(1, 1, 32, 32)).cuda()</code><br>\n<code>out = net(input)</code>,<br>\nJupyter waits a few seconds and reports the kernel has died. Following along in <code>nvidia-smi</code> I see all GPUs encountering an <code>Unknown Error</code> at the same moment. Am I using the API wrong, could there be a configuration issue in my system, or is this a bug in the DataParallel implementation?</p>\n<p>I'm using CUDA 8 and PyTorch 0.1.6.</p>\n<p>Edit: my Nvidia driver version is 367.48 I also forgot to add, executing the above code on CUDA without parallelization (i.e. <code>net = net.cuda()</code>) works fine.</p>", "body_text": "I'm running PyTorch on a system with 4 Nvidia K10 GPUs and can't get the Multi-GPU code to work. I attempted to modify the first neural net in the 60-minute tutorial to run on all my GPUs, by adding this line to the cell defining the network:\nnet = torch.nn.DataParallel(net, device_ids=[0, 1, 2, 3]).cuda()\nIf I then attempt to use the net as follows\ninput = Variable(torch.randn(1, 1, 32, 32)).cuda()\nout = net(input),\nJupyter waits a few seconds and reports the kernel has died. Following along in nvidia-smi I see all GPUs encountering an Unknown Error at the same moment. Am I using the API wrong, could there be a configuration issue in my system, or is this a bug in the DataParallel implementation?\nI'm using CUDA 8 and PyTorch 0.1.6.\nEdit: my Nvidia driver version is 367.48 I also forgot to add, executing the above code on CUDA without parallelization (i.e. net = net.cuda()) works fine.", "body": "I'm running PyTorch on a system with 4 Nvidia K10 GPUs and can't get the Multi-GPU code to work. I attempted to modify the first neural net in the 60-minute tutorial to run on all my GPUs, by adding this line to the cell defining the network:\r\n\r\n`net = torch.nn.DataParallel(net, device_ids=[0, 1, 2, 3]).cuda()`\r\n\r\nIf I then attempt to use the net as follows\r\n`input = Variable(torch.randn(1, 1, 32, 32)).cuda()`\r\n`out = net(input)`,\r\nJupyter waits a few seconds and reports the kernel has died. Following along in `nvidia-smi` I see all GPUs encountering an `Unknown Error` at the same moment. Am I using the API wrong, could there be a configuration issue in my system, or is this a bug in the DataParallel implementation?\r\n\r\nI'm using CUDA 8 and PyTorch 0.1.6. \r\n\r\nEdit: my Nvidia driver version is 367.48 I also forgot to add, executing the above code on CUDA without parallelization (i.e. `net = net.cuda()`) works fine. \r\n"}