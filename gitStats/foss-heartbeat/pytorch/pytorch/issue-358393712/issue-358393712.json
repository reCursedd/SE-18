{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11437", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11437/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11437/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11437/events", "html_url": "https://github.com/pytorch/pytorch/issues/11437", "id": 358393712, "node_id": "MDU6SXNzdWUzNTgzOTM3MTI=", "number": 11437, "title": "element_wise mean loss doesn't work in 0.4.1", "user": {"login": "ericwang385", "id": 24954432, "node_id": "MDQ6VXNlcjI0OTU0NDMy", "avatar_url": "https://avatars3.githubusercontent.com/u/24954432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericwang385", "html_url": "https://github.com/ericwang385", "followers_url": "https://api.github.com/users/ericwang385/followers", "following_url": "https://api.github.com/users/ericwang385/following{/other_user}", "gists_url": "https://api.github.com/users/ericwang385/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericwang385/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericwang385/subscriptions", "organizations_url": "https://api.github.com/users/ericwang385/orgs", "repos_url": "https://api.github.com/users/ericwang385/repos", "events_url": "https://api.github.com/users/ericwang385/events{/privacy}", "received_events_url": "https://api.github.com/users/ericwang385/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-09T17:01:47Z", "updated_at": "2018-09-09T19:43:08Z", "closed_at": "2018-09-09T19:43:08Z", "author_association": "NONE", "body_html": "<p>when using MSELoss in 0.4.1<br>\nfinds that<br>\n<code>tensor(2323865.5000, device='cuda:0', grad_fn=&lt;SumBackward0&gt;)</code><br>\nthe value of the loss is extremely large also the grad_fn=SumBackward<br>\nwhich should be grad_fn=MeanBackward after element_wise mean<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24954432/45266737-5c34f700-b492-11e8-9144-4be5913fcdbc.png\"><img width=\"808\" alt=\"2018-09-10 12 29 22\" src=\"https://user-images.githubusercontent.com/24954432/45266737-5c34f700-b492-11e8-9144-4be5913fcdbc.png\" style=\"max-width:100%;\"></a><br>\nwhere get_enum returns a number rather than a string 'elementwise_mean'<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24954432/45266857-87204a80-b494-11e8-90a4-87212d4b262d.png\"><img width=\"551\" alt=\"2018-09-10 12 42 48\" src=\"https://user-images.githubusercontent.com/24954432/45266857-87204a80-b494-11e8-90a4-87212d4b262d.png\" style=\"max-width:100%;\"></a><br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24954432/45266751-930b0d00-b492-11e8-922e-27a7784f30e1.png\"><img width=\"652\" alt=\"2018-09-10 12 08 32\" src=\"https://user-images.githubusercontent.com/24954432/45266751-930b0d00-b492-11e8-922e-27a7784f30e1.png\" style=\"max-width:100%;\"></a><br>\nthen bug occurs when _pointwise_loss try to compare reduction with 'elementwise_mean'<br>\nseeing that this bug already solved in the master branch<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/24954432/45266778-0745b080-b493-11e8-9777-d653eb9c59cd.png\"><img width=\"802\" alt=\"2018-09-10 12 08 15\" src=\"https://user-images.githubusercontent.com/24954432/45266778-0745b080-b493-11e8-9777-d653eb9c59cd.png\" style=\"max-width:100%;\"></a></p>\n<p>I was wondering if you guys can cherry pick this fix to the stable 0.4.1 branch, or gives us another stable version like 0.4.2 or something</p>", "body_text": "when using MSELoss in 0.4.1\nfinds that\ntensor(2323865.5000, device='cuda:0', grad_fn=<SumBackward0>)\nthe value of the loss is extremely large also the grad_fn=SumBackward\nwhich should be grad_fn=MeanBackward after element_wise mean\n\nwhere get_enum returns a number rather than a string 'elementwise_mean'\n\n\nthen bug occurs when _pointwise_loss try to compare reduction with 'elementwise_mean'\nseeing that this bug already solved in the master branch\n\nI was wondering if you guys can cherry pick this fix to the stable 0.4.1 branch, or gives us another stable version like 0.4.2 or something", "body": "when using MSELoss in 0.4.1\r\nfinds that \r\n`tensor(2323865.5000, device='cuda:0', grad_fn=<SumBackward0>)`\r\nthe value of the loss is extremely large also the grad_fn=SumBackward\r\nwhich should be grad_fn=MeanBackward after element_wise mean\r\n<img width=\"808\" alt=\"2018-09-10 12 29 22\" src=\"https://user-images.githubusercontent.com/24954432/45266737-5c34f700-b492-11e8-9144-4be5913fcdbc.png\">\r\nwhere get_enum returns a number rather than a string 'elementwise_mean'\r\n<img width=\"551\" alt=\"2018-09-10 12 42 48\" src=\"https://user-images.githubusercontent.com/24954432/45266857-87204a80-b494-11e8-90a4-87212d4b262d.png\">\r\n<img width=\"652\" alt=\"2018-09-10 12 08 32\" src=\"https://user-images.githubusercontent.com/24954432/45266751-930b0d00-b492-11e8-922e-27a7784f30e1.png\">\r\nthen bug occurs when _pointwise_loss try to compare reduction with 'elementwise_mean'\r\nseeing that this bug already solved in the master branch\r\n<img width=\"802\" alt=\"2018-09-10 12 08 15\" src=\"https://user-images.githubusercontent.com/24954432/45266778-0745b080-b493-11e8-9777-d653eb9c59cd.png\">\r\n\r\nI was wondering if you guys can cherry pick this fix to the stable 0.4.1 branch, or gives us another stable version like 0.4.2 or something\r\n\r\n"}