{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8656", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8656/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8656/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8656/events", "html_url": "https://github.com/pytorch/pytorch/issues/8656", "id": 333772327, "node_id": "MDU6SXNzdWUzMzM3NzIzMjc=", "number": 8656, "title": "models trained on previous versions do not work correctly", "user": {"login": "krylea", "id": 30674826, "node_id": "MDQ6VXNlcjMwNjc0ODI2", "avatar_url": "https://avatars0.githubusercontent.com/u/30674826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krylea", "html_url": "https://github.com/krylea", "followers_url": "https://api.github.com/users/krylea/followers", "following_url": "https://api.github.com/users/krylea/following{/other_user}", "gists_url": "https://api.github.com/users/krylea/gists{/gist_id}", "starred_url": "https://api.github.com/users/krylea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krylea/subscriptions", "organizations_url": "https://api.github.com/users/krylea/orgs", "repos_url": "https://api.github.com/users/krylea/repos", "events_url": "https://api.github.com/users/krylea/events{/privacy}", "received_events_url": "https://api.github.com/users/krylea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-19T17:42:09Z", "updated_at": "2018-06-19T19:20:41Z", "closed_at": "2018-06-19T19:20:40Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>I have a sequence to sequence model trained with pytorch 0.3.0.post4. It gave reasonable outputs when queried at the time, and I have since downloaded the model onto my computer (which uses 0.3.1.post2) and still observe reasonable responses from the model.<br>\nThe server this model was trained on was recently upgraded to pytorch 0.4, and since then the model produces nonsensical results when queried. I need to use this trained model's weights as the initial weights for another network (which I am training on the same server) and this new network also produces nonsensical results when it is trained and queried.</p>\n<p>I am not sure how to attach a code sample as the model I am training is quite complicated, and the code is several thousand lines long. There is no one particular place the code is failing, the outputs simply do not make sense.</p>\n<h2>System Info</h2>\n<p>Server:<br>\nPyTorch version: 0.4.0<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: 9.0.176</p>\n<p>OS: Ubuntu 16.04.3 LTS<br>\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609<br>\nCMake version: version 3.5.1</p>\n<p>Python version: 3.5<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.0.176<br>\nGPU models and configuration:<br>\nGPU 0: Tesla P100-PCIE-16GB<br>\nGPU 1: Tesla P100-PCIE-16GB<br>\nGPU 2: Tesla P100-PCIE-16GB<br>\nGPU 3: Tesla P100-PCIE-16GB</p>\n<p>Nvidia driver version: 384.111<br>\ncuDNN version: Could not collect</p>\n<p>Versions of relevant libraries:<br>\n[pip3] msgpack-numpy (0.4.1)<br>\n[pip3] numpy (1.13.3)<br>\n[pip3] torch (0.4.0)<br>\n[pip3] torchtext (0.2.3)<br>\n[pip3] torchvision (0.1.9)<br>\n[conda] Could not collect</p>\n<p>Home Computer:<br>\nPyTorch version: 0.3.1.post2<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: None</p>\n<p>OS: Mac OSX 10.13.2<br>\nGCC version: Could not collect<br>\nCMake version: version 3.6.2</p>\n<p>Python version: 3.6<br>\nIs CUDA available: No<br>\nCUDA runtime version: No CUDA<br>\nGPU models and configuration: No CUDA<br>\nNvidia driver version: No CUDA<br>\ncuDNN version: No CUDA</p>\n<p>Versions of relevant libraries:<br>\n[pip3] numpy (1.14.3)<br>\n[pip3] numpydoc (0.6.0)<br>\n[pip3] pytorchviz (0.0.1)<br>\n[pip3] torch (0.3.1.post2)<br>\n[pip3] torchvision (0.2.0)<br>\n[conda] pytorch                   0.3.1           py36_cuda0.0_cudnn0.0_2    pytorch<br>\n[conda] pytorchviz                0.0.1                     <br>\n[conda] torchvision               0.2.0            py36hf5eb7ec_1    pytorch</p>", "body_text": "Issue description\nI have a sequence to sequence model trained with pytorch 0.3.0.post4. It gave reasonable outputs when queried at the time, and I have since downloaded the model onto my computer (which uses 0.3.1.post2) and still observe reasonable responses from the model.\nThe server this model was trained on was recently upgraded to pytorch 0.4, and since then the model produces nonsensical results when queried. I need to use this trained model's weights as the initial weights for another network (which I am training on the same server) and this new network also produces nonsensical results when it is trained and queried.\nI am not sure how to attach a code sample as the model I am training is quite complicated, and the code is several thousand lines long. There is no one particular place the code is failing, the outputs simply do not make sense.\nSystem Info\nServer:\nPyTorch version: 0.4.0\nIs debug build: No\nCUDA used to build PyTorch: 9.0.176\nOS: Ubuntu 16.04.3 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\nCMake version: version 3.5.1\nPython version: 3.5\nIs CUDA available: Yes\nCUDA runtime version: 9.0.176\nGPU models and configuration:\nGPU 0: Tesla P100-PCIE-16GB\nGPU 1: Tesla P100-PCIE-16GB\nGPU 2: Tesla P100-PCIE-16GB\nGPU 3: Tesla P100-PCIE-16GB\nNvidia driver version: 384.111\ncuDNN version: Could not collect\nVersions of relevant libraries:\n[pip3] msgpack-numpy (0.4.1)\n[pip3] numpy (1.13.3)\n[pip3] torch (0.4.0)\n[pip3] torchtext (0.2.3)\n[pip3] torchvision (0.1.9)\n[conda] Could not collect\nHome Computer:\nPyTorch version: 0.3.1.post2\nIs debug build: No\nCUDA used to build PyTorch: None\nOS: Mac OSX 10.13.2\nGCC version: Could not collect\nCMake version: version 3.6.2\nPython version: 3.6\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\nVersions of relevant libraries:\n[pip3] numpy (1.14.3)\n[pip3] numpydoc (0.6.0)\n[pip3] pytorchviz (0.0.1)\n[pip3] torch (0.3.1.post2)\n[pip3] torchvision (0.2.0)\n[conda] pytorch                   0.3.1           py36_cuda0.0_cudnn0.0_2    pytorch\n[conda] pytorchviz                0.0.1                     \n[conda] torchvision               0.2.0            py36hf5eb7ec_1    pytorch", "body": "## Issue description\r\n\r\nI have a sequence to sequence model trained with pytorch 0.3.0.post4. It gave reasonable outputs when queried at the time, and I have since downloaded the model onto my computer (which uses 0.3.1.post2) and still observe reasonable responses from the model.\r\nThe server this model was trained on was recently upgraded to pytorch 0.4, and since then the model produces nonsensical results when queried. I need to use this trained model's weights as the initial weights for another network (which I am training on the same server) and this new network also produces nonsensical results when it is trained and queried.\r\n\r\nI am not sure how to attach a code sample as the model I am training is quite complicated, and the code is several thousand lines long. There is no one particular place the code is failing, the outputs simply do not make sense.\r\n\r\n## System Info\r\nServer:\r\nPyTorch version: 0.4.0\r\nIs debug build: No\r\nCUDA used to build PyTorch: 9.0.176\r\n\r\nOS: Ubuntu 16.04.3 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609\r\nCMake version: version 3.5.1\r\n\r\nPython version: 3.5\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.0.176\r\nGPU models and configuration: \r\nGPU 0: Tesla P100-PCIE-16GB\r\nGPU 1: Tesla P100-PCIE-16GB\r\nGPU 2: Tesla P100-PCIE-16GB\r\nGPU 3: Tesla P100-PCIE-16GB\r\n\r\nNvidia driver version: 384.111\r\ncuDNN version: Could not collect\r\n\r\nVersions of relevant libraries:\r\n[pip3] msgpack-numpy (0.4.1)\r\n[pip3] numpy (1.13.3)\r\n[pip3] torch (0.4.0)\r\n[pip3] torchtext (0.2.3)\r\n[pip3] torchvision (0.1.9)\r\n[conda] Could not collect\r\n\r\nHome Computer:\r\nPyTorch version: 0.3.1.post2\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Mac OSX 10.13.2\r\nGCC version: Could not collect\r\nCMake version: version 3.6.2\r\n\r\nPython version: 3.6\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA\r\n\r\nVersions of relevant libraries:\r\n[pip3] numpy (1.14.3)\r\n[pip3] numpydoc (0.6.0)\r\n[pip3] pytorchviz (0.0.1)\r\n[pip3] torch (0.3.1.post2)\r\n[pip3] torchvision (0.2.0)\r\n[conda] pytorch                   0.3.1           py36_cuda0.0_cudnn0.0_2    pytorch\r\n[conda] pytorchviz                0.0.1                     <pip>\r\n[conda] torchvision               0.2.0            py36hf5eb7ec_1    pytorch\r\n\r\n\r\n"}