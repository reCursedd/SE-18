{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6367", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6367/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6367/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6367/events", "html_url": "https://github.com/pytorch/pytorch/pull/6367", "id": 312138973, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgwMDY3OTEw", "number": 6367, "title": "Fix activation images not showing up on official website", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-06T22:29:49Z", "updated_at": "2018-04-07T15:25:23Z", "closed_at": "2018-04-07T15:06:25Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6367", "html_url": "https://github.com/pytorch/pytorch/pull/6367", "diff_url": "https://github.com/pytorch/pytorch/pull/6367.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6367.patch"}, "body_html": "<p>For some reason, Sphinx <em><strong>copies</strong></em> all images referenced in docs to a folder it automatically creates, <code>_images</code>, and <em><strong>changes</strong></em> all the references to the new path under <code>_images</code>. For example, the actual ELU image is at <a href=\"http://pytorch.org/docs/master/_static/img/activation/ELU.png\" rel=\"nofollow\">http://pytorch.org/docs/master/_static/img/activation/ELU.png</a>, as indicated by the code <a href=\"https://github.com/pytorch/pytorch/blob/master/torch/nn/modules/activation.py#L280\">https://github.com/pytorch/pytorch/blob/master/torch/nn/modules/activation.py#L280</a>. However, website has a link to <code>http://pytorch.org/docs/master/_images/ELU.png</code>.</p>\n<p>There doesn't seem to be a way to turn off such behavior. This PR adds <code>_images</code> to <code>html_static_path</code>, and changes the activation image directory to somewhere out of <code>_static</code> so we don't get the same images twice in our static assets.</p>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #5677.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"303998416\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/5677\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/5677/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/5677\">#5677</a> .</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1427775\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pmitros\">@pmitros</a></p>", "body_text": "For some reason, Sphinx copies all images referenced in docs to a folder it automatically creates, _images, and changes all the references to the new path under _images. For example, the actual ELU image is at http://pytorch.org/docs/master/_static/img/activation/ELU.png, as indicated by the code https://github.com/pytorch/pytorch/blob/master/torch/nn/modules/activation.py#L280. However, website has a link to http://pytorch.org/docs/master/_images/ELU.png.\nThere doesn't seem to be a way to turn off such behavior. This PR adds _images to html_static_path, and changes the activation image directory to somewhere out of _static so we don't get the same images twice in our static assets.\nFixes #5677 .\ncc @pmitros", "body": "For some reason, Sphinx ***copies*** all images referenced in docs to a folder it automatically creates, `_images`, and ***changes*** all the references to the new path under `_images`. For example, the actual ELU image is at http://pytorch.org/docs/master/_static/img/activation/ELU.png, as indicated by the code https://github.com/pytorch/pytorch/blob/master/torch/nn/modules/activation.py#L280. However, website has a link to `http://pytorch.org/docs/master/_images/ELU.png`.\r\n\r\nThere doesn't seem to be a way to turn off such behavior. This PR adds `_images` to `html_static_path`, and changes the activation image directory to somewhere out of `_static` so we don't get the same images twice in our static assets.\r\n\r\nFixes #5677 .\r\n\r\ncc @pmitros "}