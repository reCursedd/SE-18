{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12809", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12809/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12809/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12809/events", "html_url": "https://github.com/pytorch/pytorch/issues/12809", "id": 371394274, "node_id": "MDU6SXNzdWUzNzEzOTQyNzQ=", "number": 12809, "title": "No such thing as xlocale.h", "user": {"login": "t-vi", "id": 20787943, "node_id": "MDQ6VXNlcjIwNzg3OTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/20787943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-vi", "html_url": "https://github.com/t-vi", "followers_url": "https://api.github.com/users/t-vi/followers", "following_url": "https://api.github.com/users/t-vi/following{/other_user}", "gists_url": "https://api.github.com/users/t-vi/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-vi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-vi/subscriptions", "organizations_url": "https://api.github.com/users/t-vi/orgs", "repos_url": "https://api.github.com/users/t-vi/repos", "events_url": "https://api.github.com/users/t-vi/events{/privacy}", "received_events_url": "https://api.github.com/users/t-vi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-18T07:24:46Z", "updated_at": "2018-10-21T09:18:14Z", "closed_at": "2018-10-21T09:18:14Z", "author_association": "CONTRIBUTOR", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n<p>xlocale.h isn't a thing on recent linux:<br>\n<a href=\"https://sourceware.org/glibc/wiki/Release/2.26#Removal_of_.27xlocale.h.27\" rel=\"nofollow\">https://sourceware.org/glibc/wiki/Release/2.26#Removal_of_.27xlocale.h.27</a></p>\n<p>This has been added by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"370840570\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/12739\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/12739/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/12739\">#12739</a>, which refers to windows in the commit message, but adds the xlocale.h in the non-windows part of the new ifdef.<br>\nIs the ifdef else part (that xlocale.h) needed? <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=370202\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zdevito\">@zdevito</a></p>\n<h2>To Reproduce</h2>\n<p>Build current master on a system with glibc 2.27 (e.g. debian unstable).</p>\n<pre><code>In file included from ../torch/csrc/jit/script/tree.h:7:0,\n                 from ../torch/csrc/jit/script/error_report.h:3,\n                 from ../torch/csrc/jit/script/compiler.h:7,\n                 from ../torch/csrc/jit/graph_executor.cpp:35:\n../torch/csrc/jit/script/lexer.h:11:21: fatal error: xlocale.h: No such file or directory\n #include &lt;xlocale.h&gt;\n                     ^\ncompilation terminated.\n</code></pre>\n<p>Of course, I'd be happy to submit a patch removing it, but not if someone else needs it. (Then one should probably check at configuration.)</p>", "body_text": "\ud83d\udc1b Bug\nxlocale.h isn't a thing on recent linux:\nhttps://sourceware.org/glibc/wiki/Release/2.26#Removal_of_.27xlocale.h.27\nThis has been added by #12739, which refers to windows in the commit message, but adds the xlocale.h in the non-windows part of the new ifdef.\nIs the ifdef else part (that xlocale.h) needed? @zdevito\nTo Reproduce\nBuild current master on a system with glibc 2.27 (e.g. debian unstable).\nIn file included from ../torch/csrc/jit/script/tree.h:7:0,\n                 from ../torch/csrc/jit/script/error_report.h:3,\n                 from ../torch/csrc/jit/script/compiler.h:7,\n                 from ../torch/csrc/jit/graph_executor.cpp:35:\n../torch/csrc/jit/script/lexer.h:11:21: fatal error: xlocale.h: No such file or directory\n #include <xlocale.h>\n                     ^\ncompilation terminated.\n\nOf course, I'd be happy to submit a patch removing it, but not if someone else needs it. (Then one should probably check at configuration.)", "body": "## \ud83d\udc1b Bug\r\n\r\nxlocale.h isn't a thing on recent linux:\r\nhttps://sourceware.org/glibc/wiki/Release/2.26#Removal_of_.27xlocale.h.27\r\n\r\nThis has been added by #12739, which refers to windows in the commit message, but adds the xlocale.h in the non-windows part of the new ifdef.\r\nIs the ifdef else part (that xlocale.h) needed? @zdevito \r\n\r\n## To Reproduce\r\n\r\nBuild current master on a system with glibc 2.27 (e.g. debian unstable).\r\n\r\n```\r\nIn file included from ../torch/csrc/jit/script/tree.h:7:0,\r\n                 from ../torch/csrc/jit/script/error_report.h:3,\r\n                 from ../torch/csrc/jit/script/compiler.h:7,\r\n                 from ../torch/csrc/jit/graph_executor.cpp:35:\r\n../torch/csrc/jit/script/lexer.h:11:21: fatal error: xlocale.h: No such file or directory\r\n #include <xlocale.h>\r\n                     ^\r\ncompilation terminated.\r\n```\r\n\r\nOf course, I'd be happy to submit a patch removing it, but not if someone else needs it. (Then one should probably check at configuration.)"}