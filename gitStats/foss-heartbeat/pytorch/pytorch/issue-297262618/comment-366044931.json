{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/366044931", "html_url": "https://github.com/pytorch/pytorch/issues/5248#issuecomment-366044931", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5248", "id": 366044931, "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjA0NDkzMQ==", "user": {"login": "neerajprad", "id": 1762463, "node_id": "MDQ6VXNlcjE3NjI0NjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1762463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neerajprad", "html_url": "https://github.com/neerajprad", "followers_url": "https://api.github.com/users/neerajprad/followers", "following_url": "https://api.github.com/users/neerajprad/following{/other_user}", "gists_url": "https://api.github.com/users/neerajprad/gists{/gist_id}", "starred_url": "https://api.github.com/users/neerajprad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neerajprad/subscriptions", "organizations_url": "https://api.github.com/users/neerajprad/orgs", "repos_url": "https://api.github.com/users/neerajprad/repos", "events_url": "https://api.github.com/users/neerajprad/events{/privacy}", "received_events_url": "https://api.github.com/users/neerajprad/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-15T20:02:43Z", "updated_at": "2018-02-15T20:02:43Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I also think that the right place for these validation checks should be the constructor, so that any penalty is paid once and not multiple times as we call <code>sample</code> or <code>log_prob</code> on the same instance. This also ensures that we fail fast, and prevents ad-hoc behavior like this that results from shifting the onus of argument validation to the underlying sampler. Adding a <code>validate=False</code> argument to the constructor (or a separate <code>.validate()</code> method) might be a reasonable step forward, given that performance impact could be non trivial for large tensors.</p>", "body_text": "I also think that the right place for these validation checks should be the constructor, so that any penalty is paid once and not multiple times as we call sample or log_prob on the same instance. This also ensures that we fail fast, and prevents ad-hoc behavior like this that results from shifting the onus of argument validation to the underlying sampler. Adding a validate=False argument to the constructor (or a separate .validate() method) might be a reasonable step forward, given that performance impact could be non trivial for large tensors.", "body": "I also think that the right place for these validation checks should be the constructor, so that any penalty is paid once and not multiple times as we call `sample` or `log_prob` on the same instance. This also ensures that we fail fast, and prevents ad-hoc behavior like this that results from shifting the onus of argument validation to the underlying sampler. Adding a `validate=False` argument to the constructor (or a separate `.validate()` method) might be a reasonable step forward, given that performance impact could be non trivial for large tensors."}