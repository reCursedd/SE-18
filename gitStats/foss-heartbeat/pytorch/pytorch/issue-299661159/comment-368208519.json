{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/368208519", "html_url": "https://github.com/pytorch/pytorch/issues/5369#issuecomment-368208519", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5369", "id": 368208519, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODIwODUxOQ==", "user": {"login": "ztwe", "id": 7899459, "node_id": "MDQ6VXNlcjc4OTk0NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7899459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ztwe", "html_url": "https://github.com/ztwe", "followers_url": "https://api.github.com/users/ztwe/followers", "following_url": "https://api.github.com/users/ztwe/following{/other_user}", "gists_url": "https://api.github.com/users/ztwe/gists{/gist_id}", "starred_url": "https://api.github.com/users/ztwe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ztwe/subscriptions", "organizations_url": "https://api.github.com/users/ztwe/orgs", "repos_url": "https://api.github.com/users/ztwe/repos", "events_url": "https://api.github.com/users/ztwe/events{/privacy}", "received_events_url": "https://api.github.com/users/ztwe/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-24T07:43:23Z", "updated_at": "2018-02-24T07:46:25Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a>  I remove the old code and pull new code, then compile, install.It still fails.</p>\n<p>/usr/local/lib/python2.7/dist-packages/keras/models.py:251: UserWarning: No training configuration found in save file: the model was <em>not</em> compiled. Compile it manually.<br>\nwarnings.warn('No training configuration found in save file: '<br>\nTraceback (most recent call last):<br>\nFile \"demo.py\", line 3, in <br>\nimport model<br>\nFile \"/home/qianbb/github/chinese-ocr/model.py\", line 5, in <br>\nfrom crnn.crnn import crnnOcr<br>\nFile \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 72, in <br>\nmodel,converter = crnnSource()<br>\nFile \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 64, in crnnSource<br>\nmodel = crnn.CRNN(32, 1, len(alphabet)+1, 256, 1).cuda()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 216, in cuda<br>\nreturn self._apply(lambda t: t.cuda(device))<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply<br>\nmodule._apply(fn)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply<br>\nmodule._apply(fn)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply<br>\nmodule._apply(fn)<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 100, in _apply<br>\nself.flatten_parameters()<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 66, in flatten_parameters<br>\nif not any_param.is_cuda or not torch.backends.cudnn.is_acceptable(any_param):<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/<strong>init</strong>.py\", line 87, in is_acceptable<br>\nif _libcudnn() is None:<br>\nFile \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/<strong>init</strong>.py\", line 58, in _libcudnn<br>\n'but linked against {}'.format(compile_version, __cudnn_version))<br>\nRuntimeError: cuDNN version mismatch: PyTorch was compiled against 6021 but linked against 5110</p>\n<p>The library of cuda is shown as following screenshot.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/7899459/36627130-4b2d7fae-1979-11e8-9007-e4c459b57505.png\"><img src=\"https://user-images.githubusercontent.com/7899459/36627130-4b2d7fae-1979-11e8-9007-e4c459b57505.png\" alt=\"2018-02-24 15-40-50\" style=\"max-width:100%;\"></a></p>", "body_text": "@soumith  I remove the old code and pull new code, then compile, install.It still fails.\n/usr/local/lib/python2.7/dist-packages/keras/models.py:251: UserWarning: No training configuration found in save file: the model was not compiled. Compile it manually.\nwarnings.warn('No training configuration found in save file: '\nTraceback (most recent call last):\nFile \"demo.py\", line 3, in \nimport model\nFile \"/home/qianbb/github/chinese-ocr/model.py\", line 5, in \nfrom crnn.crnn import crnnOcr\nFile \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 72, in \nmodel,converter = crnnSource()\nFile \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 64, in crnnSource\nmodel = crnn.CRNN(32, 1, len(alphabet)+1, 256, 1).cuda()\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 216, in cuda\nreturn self._apply(lambda t: t.cuda(device))\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\nmodule._apply(fn)\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\nmodule._apply(fn)\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\nmodule._apply(fn)\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 100, in _apply\nself.flatten_parameters()\nFile \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 66, in flatten_parameters\nif not any_param.is_cuda or not torch.backends.cudnn.is_acceptable(any_param):\nFile \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/init.py\", line 87, in is_acceptable\nif _libcudnn() is None:\nFile \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/init.py\", line 58, in _libcudnn\n'but linked against {}'.format(compile_version, __cudnn_version))\nRuntimeError: cuDNN version mismatch: PyTorch was compiled against 6021 but linked against 5110\nThe library of cuda is shown as following screenshot.", "body": "@soumith  I remove the old code and pull new code, then compile, install.It still fails.\r\n\r\n/usr/local/lib/python2.7/dist-packages/keras/models.py:251: UserWarning: No training configuration found in save file: the model was *not* compiled. Compile it manually.\r\n  warnings.warn('No training configuration found in save file: '\r\nTraceback (most recent call last):\r\n  File \"demo.py\", line 3, in <module>\r\n    import model\r\n  File \"/home/qianbb/github/chinese-ocr/model.py\", line 5, in <module>\r\n    from crnn.crnn import crnnOcr\r\n  File \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 72, in <module>\r\n    model,converter = crnnSource()\r\n  File \"/home/qianbb/github/chinese-ocr/crnn/crnn.py\", line 64, in crnnSource\r\n    model = crnn.CRNN(32, 1, len(alphabet)+1, 256, 1).cuda()\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 216, in cuda\r\n    return self._apply(lambda t: t.cuda(device))\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/module.py\", line 146, in _apply\r\n    module._apply(fn)\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 100, in _apply\r\n    self.flatten_parameters()\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/nn/modules/rnn.py\", line 66, in flatten_parameters\r\n    if not any_param.is_cuda or not torch.backends.cudnn.is_acceptable(any_param):\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/__init__.py\", line 87, in is_acceptable\r\n    if _libcudnn() is None:\r\n  File \"/usr/local/lib/python2.7/dist-packages/torch/backends/cudnn/__init__.py\", line 58, in _libcudnn\r\n    'but linked against {}'.format(compile_version, __cudnn_version))\r\nRuntimeError: cuDNN version mismatch: PyTorch was compiled against 6021 but linked against 5110\r\n\r\n\r\nThe library of cuda is shown as following screenshot.\r\n![2018-02-24 15-40-50](https://user-images.githubusercontent.com/7899459/36627130-4b2d7fae-1979-11e8-9007-e4c459b57505.png)\r\n"}