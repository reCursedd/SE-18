{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/311132426", "html_url": "https://github.com/pytorch/pytorch/pull/1792#issuecomment-311132426", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1792", "id": 311132426, "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTEzMjQyNg==", "user": {"login": "esube", "id": 7385894, "node_id": "MDQ6VXNlcjczODU4OTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/7385894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/esube", "html_url": "https://github.com/esube", "followers_url": "https://api.github.com/users/esube/followers", "following_url": "https://api.github.com/users/esube/following{/other_user}", "gists_url": "https://api.github.com/users/esube/gists{/gist_id}", "starred_url": "https://api.github.com/users/esube/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/esube/subscriptions", "organizations_url": "https://api.github.com/users/esube/orgs", "repos_url": "https://api.github.com/users/esube/repos", "events_url": "https://api.github.com/users/esube/events{/privacy}", "received_events_url": "https://api.github.com/users/esube/received_events", "type": "User", "site_admin": false}, "created_at": "2017-06-26T17:50:03Z", "updated_at": "2017-06-26T17:50:28Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=687194\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alykhantejani\">@alykhantejani</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1310570\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/soumith\">@soumith</a><br>\nI just saw this commit. Thanks for implementing this tf like BCE with logits!</p>\n<p>I noticed that the function repeats the weight vector to match target if it is provided. However, when the weight vector is the same shape as the target vector to begin with (as is the case in multi-label classification), the check line fails as it tries to expand the weight vector. So, it would be nice to check if the weight is already the same shape as the target before trying to expand it. This will solve some issues related to mult-label sample by sample weighting rather than class-based weighting.</p>", "body_text": "@alykhantejani @soumith\nI just saw this commit. Thanks for implementing this tf like BCE with logits!\nI noticed that the function repeats the weight vector to match target if it is provided. However, when the weight vector is the same shape as the target vector to begin with (as is the case in multi-label classification), the check line fails as it tries to expand the weight vector. So, it would be nice to check if the weight is already the same shape as the target before trying to expand it. This will solve some issues related to mult-label sample by sample weighting rather than class-based weighting.", "body": "@alykhantejani @soumith \r\nI just saw this commit. Thanks for implementing this tf like BCE with logits!\r\n\r\nI noticed that the function repeats the weight vector to match target if it is provided. However, when the weight vector is the same shape as the target vector to begin with (as is the case in multi-label classification), the check line fails as it tries to expand the weight vector. So, it would be nice to check if the weight is already the same shape as the target before trying to expand it. This will solve some issues related to mult-label sample by sample weighting rather than class-based weighting."}