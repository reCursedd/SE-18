{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7065", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7065/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7065/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7065/events", "html_url": "https://github.com/pytorch/pytorch/issues/7065", "id": 318603508, "node_id": "MDU6SXNzdWUzMTg2MDM1MDg=", "number": 7065, "title": "build error with mpi_test", "user": {"login": "sunstarchan", "id": 6760921, "node_id": "MDQ6VXNlcjY3NjA5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6760921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunstarchan", "html_url": "https://github.com/sunstarchan", "followers_url": "https://api.github.com/users/sunstarchan/followers", "following_url": "https://api.github.com/users/sunstarchan/following{/other_user}", "gists_url": "https://api.github.com/users/sunstarchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunstarchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunstarchan/subscriptions", "organizations_url": "https://api.github.com/users/sunstarchan/orgs", "repos_url": "https://api.github.com/users/sunstarchan/repos", "events_url": "https://api.github.com/users/sunstarchan/events{/privacy}", "received_events_url": "https://api.github.com/users/sunstarchan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}, {"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-04-28T05:53:14Z", "updated_at": "2018-04-30T15:05:33Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I'm trying to  build caffe2 by following the instruction from <a href=\"https://caffe2.ai/docs/getting-started.html?platform=mac&amp;configuration=compile#brew-and-pip-install-path\" rel=\"nofollow\">https://caffe2.ai/docs/getting-started.html?platform=mac&amp;configuration=compile#brew-and-pip-install-path</a></p>\n<p>but I get following build errors. my openmpi is installed by brew, and the version is 3.0.1</p>\n<p>[ 83%] Linking CXX executable ../bin/mpi_test<br>\nUndefined symbols for architecture x86_64:<br>\n\"_MPI_Comm_rank\", referenced from:<br>\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\n\"_MPI_Comm_size\", referenced from:<br>\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\n\"_MPI_Finalize\", referenced from:<br>\n_main in mpi_test.cc.o<br>\n\"_MPI_Init_thread\", referenced from:<br>\n_main in mpi_test.cc.o<br>\n\"_ompi_mpi_comm_world\", referenced from:<br>\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o<br>\nld: symbol(s) not found for architecture x86_64<br>\nclang: error: linker command failed with exit code 1 (use -v to see invocation)<br>\nmake[2]: *** [bin/mpi_test] Error 1<br>\nmake[1]: *** [caffe2/CMakeFiles/mpi_test.dir/all] Error 2<br>\nmake: *** [all] Error 2</p>", "body_text": "I'm trying to  build caffe2 by following the instruction from https://caffe2.ai/docs/getting-started.html?platform=mac&configuration=compile#brew-and-pip-install-path\nbut I get following build errors. my openmpi is installed by brew, and the version is 3.0.1\n[ 83%] Linking CXX executable ../bin/mpi_test\nUndefined symbols for architecture x86_64:\n\"_MPI_Comm_rank\", referenced from:\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\n\"_MPI_Comm_size\", referenced from:\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\n\"_MPI_Finalize\", referenced from:\n_main in mpi_test.cc.o\n\"_MPI_Init_thread\", referenced from:\n_main in mpi_test.cc.o\n\"_ompi_mpi_comm_world\", referenced from:\ncaffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\ncaffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [bin/mpi_test] Error 1\nmake[1]: *** [caffe2/CMakeFiles/mpi_test.dir/all] Error 2\nmake: *** [all] Error 2", "body": "I'm trying to  build caffe2 by following the instruction from https://caffe2.ai/docs/getting-started.html?platform=mac&configuration=compile#brew-and-pip-install-path\r\n\r\nbut I get following build errors. my openmpi is installed by brew, and the version is 3.0.1\r\n\r\n[ 83%] Linking CXX executable ../bin/mpi_test\r\nUndefined symbols for architecture x86_64:\r\n  \"_MPI_Comm_rank\", referenced from:\r\n      caffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\n  \"_MPI_Comm_size\", referenced from:\r\n      caffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\n  \"_MPI_Finalize\", referenced from:\r\n      _main in mpi_test.cc.o\r\n  \"_MPI_Init_thread\", referenced from:\r\n      _main in mpi_test.cc.o\r\n  \"_ompi_mpi_comm_world\", referenced from:\r\n      caffe2::MPITest_TestMPIBroadcast_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIReduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllgather_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\n      caffe2::MPITest_TestInPlaceMPIAllreduce_Test::TestBody() in mpi_test.cc.o\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [bin/mpi_test] Error 1\r\nmake[1]: *** [caffe2/CMakeFiles/mpi_test.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n\r\n"}