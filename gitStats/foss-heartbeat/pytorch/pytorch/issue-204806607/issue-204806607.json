{"url": "https://api.github.com/repos/pytorch/pytorch/issues/675", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/675/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/675/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/675/events", "html_url": "https://github.com/pytorch/pytorch/issues/675", "id": 204806607, "node_id": "MDU6SXNzdWUyMDQ4MDY2MDc=", "number": 675, "title": "[build/nccl] failed to build libnccl on Debian unstable", "user": {"login": "cdluminate", "id": 5723047, "node_id": "MDQ6VXNlcjU3MjMwNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5723047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdluminate", "html_url": "https://github.com/cdluminate", "followers_url": "https://api.github.com/users/cdluminate/followers", "following_url": "https://api.github.com/users/cdluminate/following{/other_user}", "gists_url": "https://api.github.com/users/cdluminate/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdluminate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdluminate/subscriptions", "organizations_url": "https://api.github.com/users/cdluminate/orgs", "repos_url": "https://api.github.com/users/cdluminate/repos", "events_url": "https://api.github.com/users/cdluminate/events{/privacy}", "received_events_url": "https://api.github.com/users/cdluminate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-02T08:07:02Z", "updated_at": "2017-02-03T01:54:30Z", "closed_at": "2017-02-03T01:47:07Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Failed to build CUDA version of pytorch (without CUDNN) with the latest source.</p>\n<p>OS: debian unstable/experimental<br>\nCompiler: gcc-5, g++-5<br>\nCUDA: 8.0.44 (package provided by Debian)</p>\n<p>buildlog: <a href=\"http://debomatic-amd64.debian.net/distribution#experimental/pytorch-contrib/0.1.7~1/buildlog\" rel=\"nofollow\">http://debomatic-amd64.debian.net/distribution#experimental/pytorch-contrib/0.1.7~1/buildlog</a></p>\n<pre><code>-- The C compiler identification is GNU 5.4.1\n-- The CXX compiler identification is GNU 5.4.1\n-- Check for working C compiler: /usr/bin/gcc-5\n-- Check for working C compiler: /usr/bin/gcc-5 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-5\n-- Check for working CXX compiler: /usr/bin/g++-5 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Found CUDA: /usr (found suitable version \"8.0\", minimum required is \"7.0\") \n-- Configuring done\n-- Generating done\n-- Build files have been written to: /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl\nmake[2]: Entering directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl'\nmake[3]: Entering directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl'\nmake[4]: Entering directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl'\nScanning dependencies of target nccl\nmake[4]: Leaving directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl'\nmake[4]: Entering directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl'\n[100%] Generating lib/libnccl.so\nmake[5]: Entering directory '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/nccl'\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\nGrabbing  src/nccl.h                &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/include/nccl.h\nCompiling src/libwrap.cu            &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/libwrap.o\nCompiling src/core.cu               &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/core.o\nCompiling src/all_gather.cu         &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu         &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/all_reduce.o\nCompiling src/broadcast.cu          &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/broadcast.o\nCompiling src/reduce.cu             &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/reduce.o\nCompiling src/reduce_scatter.cu     &gt; /&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/reduce_scatter.o\nsrc/core.cu(724): error: expected an expression\n\nsrc/core.cu(724): error: expected an expression\n\n2 errors detected in the compilation of \"/tmp/tmpxft_00002c02_00000000-13_core.compute_52.cpp1.ii\".\nMakefile:98: recipe for target '/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/core.o' failed\nmake[5]: *** [/&lt;&lt;PKGBUILDDIR&gt;&gt;/torch/lib/build/nccl/obj/core.o] Error 2\n</code></pre>\n<p>I have no idea about this ...</p>", "body_text": "Failed to build CUDA version of pytorch (without CUDNN) with the latest source.\nOS: debian unstable/experimental\nCompiler: gcc-5, g++-5\nCUDA: 8.0.44 (package provided by Debian)\nbuildlog: http://debomatic-amd64.debian.net/distribution#experimental/pytorch-contrib/0.1.7~1/buildlog\n-- The C compiler identification is GNU 5.4.1\n-- The CXX compiler identification is GNU 5.4.1\n-- Check for working C compiler: /usr/bin/gcc-5\n-- Check for working C compiler: /usr/bin/gcc-5 -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/g++-5\n-- Check for working CXX compiler: /usr/bin/g++-5 -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Found CUDA: /usr (found suitable version \"8.0\", minimum required is \"7.0\") \n-- Configuring done\n-- Generating done\n-- Build files have been written to: /<<PKGBUILDDIR>>/torch/lib/build/nccl\nmake[2]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\nmake[3]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\nmake[4]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\nScanning dependencies of target nccl\nmake[4]: Leaving directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\nmake[4]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\n[100%] Generating lib/libnccl.so\nmake[5]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/nccl'\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\nGrabbing  src/nccl.h                > /<<PKGBUILDDIR>>/torch/lib/build/nccl/include/nccl.h\nCompiling src/libwrap.cu            > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/libwrap.o\nCompiling src/core.cu               > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o\nCompiling src/all_gather.cu         > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/all_gather.o\nCompiling src/all_reduce.cu         > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/all_reduce.o\nCompiling src/broadcast.cu          > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/broadcast.o\nCompiling src/reduce.cu             > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/reduce.o\nCompiling src/reduce_scatter.cu     > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/reduce_scatter.o\nsrc/core.cu(724): error: expected an expression\n\nsrc/core.cu(724): error: expected an expression\n\n2 errors detected in the compilation of \"/tmp/tmpxft_00002c02_00000000-13_core.compute_52.cpp1.ii\".\nMakefile:98: recipe for target '/<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o' failed\nmake[5]: *** [/<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o] Error 2\n\nI have no idea about this ...", "body": "Failed to build CUDA version of pytorch (without CUDNN) with the latest source.\r\n\r\nOS: debian unstable/experimental\r\nCompiler: gcc-5, g++-5\r\nCUDA: 8.0.44 (package provided by Debian)\r\n\r\nbuildlog: http://debomatic-amd64.debian.net/distribution#experimental/pytorch-contrib/0.1.7~1/buildlog\r\n\r\n```\r\n-- The C compiler identification is GNU 5.4.1\r\n-- The CXX compiler identification is GNU 5.4.1\r\n-- Check for working C compiler: /usr/bin/gcc-5\r\n-- Check for working C compiler: /usr/bin/gcc-5 -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/g++-5\r\n-- Check for working CXX compiler: /usr/bin/g++-5 -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Found CUDA: /usr (found suitable version \"8.0\", minimum required is \"7.0\") \r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /<<PKGBUILDDIR>>/torch/lib/build/nccl\r\nmake[2]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\r\nmake[3]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\r\nmake[4]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\r\nScanning dependencies of target nccl\r\nmake[4]: Leaving directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\r\nmake[4]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/build/nccl'\r\n[100%] Generating lib/libnccl.so\r\nmake[5]: Entering directory '/<<PKGBUILDDIR>>/torch/lib/nccl'\r\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\r\nls: cannot access '/usr/lib64/libcudart.so.*': No such file or directory\r\nGrabbing  src/nccl.h                > /<<PKGBUILDDIR>>/torch/lib/build/nccl/include/nccl.h\r\nCompiling src/libwrap.cu            > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/libwrap.o\r\nCompiling src/core.cu               > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o\r\nCompiling src/all_gather.cu         > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/all_gather.o\r\nCompiling src/all_reduce.cu         > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/all_reduce.o\r\nCompiling src/broadcast.cu          > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/broadcast.o\r\nCompiling src/reduce.cu             > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/reduce.o\r\nCompiling src/reduce_scatter.cu     > /<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/reduce_scatter.o\r\nsrc/core.cu(724): error: expected an expression\r\n\r\nsrc/core.cu(724): error: expected an expression\r\n\r\n2 errors detected in the compilation of \"/tmp/tmpxft_00002c02_00000000-13_core.compute_52.cpp1.ii\".\r\nMakefile:98: recipe for target '/<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o' failed\r\nmake[5]: *** [/<<PKGBUILDDIR>>/torch/lib/build/nccl/obj/core.o] Error 2\r\n```\r\n\r\nI have no idea about this ..."}