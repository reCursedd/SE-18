{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/216870427", "pull_request_review_id": 154453288, "id": 216870427, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjg3MDQyNw==", "diff_hunk": "@@ -26,10 +26,18 @@ TensorImpl::TensorImpl(TensorTypeId type_id, ScalarType scalar_type, Allocator *\n   }\n }\n \n-TensorImpl::TensorImpl(Storage&& storage, TensorTypeId type_id, bool is_variable)\n-    : TensorImpl(std::move(storage), type_id, dataTypeToScalarType(storage.dtype()), is_variable) {}\n-\n-TensorImpl::TensorImpl(Storage&& storage, TensorTypeId type_id, ScalarType scalar_type, bool is_variable)\n+TensorImpl::TensorImpl(Storage storage, TensorTypeId type_id, bool is_variable)\n+    :storage_(std::move(storage)),\n+    storage_offset_(0),\n+    sizes_{0},\n+    strides_{1},\n+    is_contiguous_(true),\n+    numel_(0),\n+    type_id_(type_id),\n+    scalar_type_(dataTypeToScalarType(storage_.dtype())),\n+    is_variable_(is_variable) {}", "path": "aten/src/ATen/core/TensorImpl.cpp", "position": null, "original_position": 17, "commit_id": "732467f0883497d208a40d7b2d178d973cb2b230", "original_commit_id": "77a9ee249285a16035a4b184fcfe2e3d2415f9d4", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "body": "This doesn't seem shorter. Why have two nearly identical versions of the constructor? Seems like the second one is totally unnecessary. (I wouldn't have peeped up about this, but your diff made the code longer)", "created_at": "2018-09-12T01:09:21Z", "updated_at": "2018-11-23T15:51:06Z", "html_url": "https://github.com/pytorch/pytorch/pull/11546#discussion_r216870427", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/11546", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/216870427"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/11546#discussion_r216870427"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/11546"}}, "body_html": "<p>This doesn't seem shorter. Why have two nearly identical versions of the constructor? Seems like the second one is totally unnecessary. (I wouldn't have peeped up about this, but your diff made the code longer)</p>", "body_text": "This doesn't seem shorter. Why have two nearly identical versions of the constructor? Seems like the second one is totally unnecessary. (I wouldn't have peeped up about this, but your diff made the code longer)"}