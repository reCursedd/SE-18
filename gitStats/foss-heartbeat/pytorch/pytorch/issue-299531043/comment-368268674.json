{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/368268674", "html_url": "https://github.com/pytorch/pytorch/pull/5356#issuecomment-368268674", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/5356", "id": 368268674, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODI2ODY3NA==", "user": {"login": "lantiga", "id": 191033, "node_id": "MDQ6VXNlcjE5MTAzMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/191033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantiga", "html_url": "https://github.com/lantiga", "followers_url": "https://api.github.com/users/lantiga/followers", "following_url": "https://api.github.com/users/lantiga/following{/other_user}", "gists_url": "https://api.github.com/users/lantiga/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantiga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantiga/subscriptions", "organizations_url": "https://api.github.com/users/lantiga/orgs", "repos_url": "https://api.github.com/users/lantiga/repos", "events_url": "https://api.github.com/users/lantiga/events{/privacy}", "received_events_url": "https://api.github.com/users/lantiga/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-24T23:28:17Z", "updated_at": "2018-02-25T08:19:07Z", "author_association": "COLLABORATOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=6429851\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/goldsborough\">@goldsborough</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> I have considerably reduced the number of <code>#ifdef</code>s, and avoided interleaving <code>#ifdef</code>s inside functions everywhere except in one case.</p>\n<p>At this point, bar some more cleanup (e.g. moving the content of the larger <code>#ifdef</code>s to separate files), I think this is as far as <code>#ifdef</code>ing can get.</p>\n<p>Let me know if you think this is manageable or whether we should resort to a more profound refactoring - in which case I'll need some directions in order to avoid breaking ongoing work.</p>", "body_text": "@goldsborough @apaszke I have considerably reduced the number of #ifdefs, and avoided interleaving #ifdefs inside functions everywhere except in one case.\nAt this point, bar some more cleanup (e.g. moving the content of the larger #ifdefs to separate files), I think this is as far as #ifdefing can get.\nLet me know if you think this is manageable or whether we should resort to a more profound refactoring - in which case I'll need some directions in order to avoid breaking ongoing work.", "body": "@goldsborough @apaszke I have considerably reduced the number of `#ifdef`s, and avoided interleaving `#ifdef`s inside functions everywhere except in one case.\r\n\r\nAt this point, bar some more cleanup (e.g. moving the content of the larger `#ifdef`s to separate files), I think this is as far as `#ifdef`ing can get.\r\n\r\nLet me know if you think this is manageable or whether we should resort to a more profound refactoring - in which case I'll need some directions in order to avoid breaking ongoing work."}