{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/368618684", "html_url": "https://github.com/pytorch/pytorch/pull/4921#issuecomment-368618684", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4921", "id": 368618684, "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODYxODY4NA==", "user": {"login": "Yi-Li", "id": 30933421, "node_id": "MDQ6VXNlcjMwOTMzNDIx", "avatar_url": "https://avatars0.githubusercontent.com/u/30933421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yi-Li", "html_url": "https://github.com/Yi-Li", "followers_url": "https://api.github.com/users/Yi-Li/followers", "following_url": "https://api.github.com/users/Yi-Li/following{/other_user}", "gists_url": "https://api.github.com/users/Yi-Li/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yi-Li/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yi-Li/subscriptions", "organizations_url": "https://api.github.com/users/Yi-Li/orgs", "repos_url": "https://api.github.com/users/Yi-Li/repos", "events_url": "https://api.github.com/users/Yi-Li/events{/privacy}", "received_events_url": "https://api.github.com/users/Yi-Li/received_events", "type": "User", "site_admin": false}, "created_at": "2018-02-26T19:24:28Z", "updated_at": "2018-02-26T19:24:28Z", "author_association": "NONE", "body_html": "<p>Hi<br>\nI downloaded the most recent pytorch and tried to install it from the source so that I can make use of the new nccl APIs. I could run the torch/lib/nccl/test/single successfully.<br>\nI specified WITH_SYSTEM_NCCL=0 (along with WITH_NCCL=1 WITH_DISTRIBUTED=1, WITH_CUDA=1) when I invoke \u201cpython setup.py build develop\".  It seems the version of generated libnccl.so is 1.3.5, not version 2+, so THD was compiled without nccl support.<br>\nI also downloaded NCCL2 from Nvidia website, tried WITH_SYSTEM_NCCL=1, and specified NCCL_INCLUDE_DIR, NCCL_LIB_DIR, NCCL_ROOT_DIR. But THD was compiled without nccl support either. I have been stuck here for a few days. Could you help with this? Thanks a lot!</p>\n<p>Best,<br>\nLissa</p>", "body_text": "Hi\nI downloaded the most recent pytorch and tried to install it from the source so that I can make use of the new nccl APIs. I could run the torch/lib/nccl/test/single successfully.\nI specified WITH_SYSTEM_NCCL=0 (along with WITH_NCCL=1 WITH_DISTRIBUTED=1, WITH_CUDA=1) when I invoke \u201cpython setup.py build develop\".  It seems the version of generated libnccl.so is 1.3.5, not version 2+, so THD was compiled without nccl support.\nI also downloaded NCCL2 from Nvidia website, tried WITH_SYSTEM_NCCL=1, and specified NCCL_INCLUDE_DIR, NCCL_LIB_DIR, NCCL_ROOT_DIR. But THD was compiled without nccl support either. I have been stuck here for a few days. Could you help with this? Thanks a lot!\nBest,\nLissa", "body": "Hi\r\nI downloaded the most recent pytorch and tried to install it from the source so that I can make use of the new nccl APIs. I could run the torch/lib/nccl/test/single successfully. \r\nI specified WITH_SYSTEM_NCCL=0 (along with WITH_NCCL=1 WITH_DISTRIBUTED=1, WITH_CUDA=1) when I invoke \u201cpython setup.py build develop\".  It seems the version of generated libnccl.so is 1.3.5, not version 2+, so THD was compiled without nccl support.\r\nI also downloaded NCCL2 from Nvidia website, tried WITH_SYSTEM_NCCL=1, and specified NCCL_INCLUDE_DIR, NCCL_LIB_DIR, NCCL_ROOT_DIR. But THD was compiled without nccl support either. I have been stuck here for a few days. Could you help with this? Thanks a lot!\r\n\r\nBest,\r\nLissa\r\n"}