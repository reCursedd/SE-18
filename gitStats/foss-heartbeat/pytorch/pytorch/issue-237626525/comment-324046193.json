{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/324046193", "html_url": "https://github.com/pytorch/pytorch/issues/1868#issuecomment-324046193", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1868", "id": 324046193, "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDA0NjE5Mw==", "user": {"login": "hahey", "id": 24297713, "node_id": "MDQ6VXNlcjI0Mjk3NzEz", "avatar_url": "https://avatars1.githubusercontent.com/u/24297713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hahey", "html_url": "https://github.com/hahey", "followers_url": "https://api.github.com/users/hahey/followers", "following_url": "https://api.github.com/users/hahey/following{/other_user}", "gists_url": "https://api.github.com/users/hahey/gists{/gist_id}", "starred_url": "https://api.github.com/users/hahey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hahey/subscriptions", "organizations_url": "https://api.github.com/users/hahey/orgs", "repos_url": "https://api.github.com/users/hahey/repos", "events_url": "https://api.github.com/users/hahey/events{/privacy}", "received_events_url": "https://api.github.com/users/hahey/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-22T14:36:08Z", "updated_at": "2017-08-22T14:36:08Z", "author_association": "NONE", "body_html": "<p>I got a similar segmentation fault problem with Louis-Tian due to random number generation.<br>\nMy whole source code is a bit hard to attach here because there is dependency to data and code is quite long but the following is the gdb backtrace.</p>\n<pre><code>Thread 141 \"python\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff82ffd700 (LWP 15532)]\n0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n(gdb) bt\n#0  0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#1  0x00007fffc8a82c04 in THRandom_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#2  0x00007fffc87bedd7 in THFloatTensor_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#3  0x00007fffd4df95fb in THPFloatTensor_uniform_ (self=&lt;torch.FloatTensor at remote 0x7fffe91a9148&gt;, args=(&lt;float at remote 0x7fffedd09b10&gt;, &lt;float at remote 0x7ffff2de1f90&gt;), kwargs=&lt;optimized out&gt;) at /pytorch/torch/csrc/generic/TensorMethods.cpp:50822\n#4  0x00000000004e9bc7 in PyCFunction_Call () at ../Objects/methodobject.c:98\n#5  0x0000000000524414 in call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fff82ffb5a0) at ../Python/ceval.c:4705\n#6  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#7  0x0000000000528814 in fast_function (nk=&lt;optimized out&gt;, na=&lt;optimized out&gt;, n=&lt;optimized out&gt;, pp_stack=0x7fff82ffb6d0, func=&lt;optimized out&gt;) at ../Python/ceval.c:4803\n#8  call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fff82ffb6d0) at ../Python/ceval.c:4730\n#9  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#10 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(&lt;cell at remote 0x7fffa3eb89a8&gt;,), kwdefs=0x0, defcount=5, defs=0x7fffa3eadf28, kwcount=5, kws=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, args=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, globals=&lt;optimized out&gt;,\n    _co=&lt;code at remote 0x7fffa3e45b70&gt;) at ../Python/ceval.c:4018\n#11 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#12 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#13 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#14 0x00000000005262af in ext_do_call (nk=&lt;optimized out&gt;, na=2, flags=&lt;optimized out&gt;, pp_stack=0x7fff82ffb988, func=&lt;function at remote 0x7fffa3e49378&gt;) at ../Python/ceval.c:5034\n#15 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#16 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(&lt;cell at remote 0x7fffa3eb8a08&gt;,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=5, kws=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, args=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, globals=&lt;optimized out&gt;,\n    _co=&lt;code at remote 0x7fffa3e505d0&gt;) at ../Python/ceval.c:4018\n#17 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#18 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#19 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#20 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#21 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#22 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\n#23 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\n#24 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#25 0x00000000005262af in ext_do_call (nk=&lt;optimized out&gt;, na=0, flags=&lt;optimized out&gt;, pp_stack=0x7fff82ffbd58, func=&lt;type at remote 0x17cacb8&gt;) at ../Python/ceval.c:5034\n#26 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#27 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(&lt;cell at remote 0x7ffff68d2a38&gt;,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, args=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, globals=&lt;optimized out&gt;,\n    _co=&lt;code at remote 0x7ffff5f42d20&gt;) at ../Python/ceval.c:4018\n#28 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#29 0x00000000004ebcc3 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#30 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#31 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#32 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#33 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\n#34 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\n#35 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#36 0x0000000000528d06 in do_call (nk=&lt;optimized out&gt;, na=&lt;optimized out&gt;, pp_stack=0x7fff82ffc120, func=&lt;optimized out&gt;) at ../Python/ceval.c:4936\n#37 call_function (oparg=&lt;optimized out&gt;, pp_stack=0x7fff82ffc120) at ../Python/ceval.c:4732\n#38 PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#39 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, args=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, globals=&lt;optimized out&gt;, _co=&lt;code at remote 0x7ffff5f53270&gt;)\n    at ../Python/ceval.c:4018\n#40 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#41 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#42 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#43 0x00000000005262af in ext_do_call (nk=&lt;optimized out&gt;, na=1, flags=&lt;optimized out&gt;, pp_stack=0x7fff82ffc3d8, func=&lt;function at remote 0x7fffa3e2eae8&gt;) at ../Python/ceval.c:5034\n#44 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#45 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=&lt;optimized out&gt;, argcount=&lt;optimized out&gt;, args=&lt;optimized out&gt;, locals=&lt;optimized out&gt;, globals=&lt;optimized out&gt;, _co=&lt;code at remote 0x7fffa3f926f0&gt;)\n    at ../Python/ceval.c:4018\n#46 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#47 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#48 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#49 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#50 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#51 0x000000000054d4f6 in slot_tp_call () at ../Objects/typeobject.c:6053\n#52 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#53 0x00000000005262af in ext_do_call (nk=&lt;optimized out&gt;, na=0, flags=&lt;optimized out&gt;, pp_stack=0x7fff82ffc778,\n    func=&lt;DAPmodel(_backward_hooks={}, _forward_hooks={}, _parameters={}, init_state=(&lt;Variable at remote 0x7fffeb8259e8&gt;, &lt;Variable at remote 0x7fffeb825570&gt;), _forward_pre_hooks={}, rnn_config={'rnn_type': &lt;type at remote 0x17cacb8&gt;, 'rnn_args': {'bidirectional': True, 'num_layers': 2, 'hidden_size': 256, 'dropout': &lt;float at remote 0x7fffa3e0a240&gt;}}, _backend=&lt;THNNFunctionBackend(function_classes={'SpatialUpSamplingBilinear': &lt;FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=&lt;type at remote 0x16c7db8&gt;, forward=&lt;staticmethod at remote 0x7fffa3fa2278&gt;, backward=&lt;staticmethod at remote 0x7fffa3fa2208&gt;, _is_legacy=False, __doc__=None) at remote 0x16c78c8&gt;, 'NLLLoss2dBackward': &lt;FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=&lt;type at remote 0x172c238&gt;, forward=&lt;staticmethod at remote 0x7fffa3f64da0&gt;, backward=&lt;staticmethod at remote 0x7fffa3f64e10&gt;, _is_legacy=False, __doc__=None) at remote 0x172bbc8&gt;, 'SpatialSubSampling': &lt;FunctionMeta(__module__='torch.nn._functions.thnn....(truncated)) at ../Python/ceval.c:5034\n</code></pre>\n<p>If I add a line of code setting a manual seed just before the random function that I am using,<br>\nthe segmentation fault problem disappears. Also torch.random generates some huge number outside of (0,1] a while before the segmentation fault occurs.</p>", "body_text": "I got a similar segmentation fault problem with Louis-Tian due to random number generation.\nMy whole source code is a bit hard to attach here because there is dependency to data and code is quite long but the following is the gdb backtrace.\nThread 141 \"python\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff82ffd700 (LWP 15532)]\n0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n(gdb) bt\n#0  0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#1  0x00007fffc8a82c04 in THRandom_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#2  0x00007fffc87bedd7 in THFloatTensor_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\n#3  0x00007fffd4df95fb in THPFloatTensor_uniform_ (self=<torch.FloatTensor at remote 0x7fffe91a9148>, args=(<float at remote 0x7fffedd09b10>, <float at remote 0x7ffff2de1f90>), kwargs=<optimized out>) at /pytorch/torch/csrc/generic/TensorMethods.cpp:50822\n#4  0x00000000004e9bc7 in PyCFunction_Call () at ../Objects/methodobject.c:98\n#5  0x0000000000524414 in call_function (oparg=<optimized out>, pp_stack=0x7fff82ffb5a0) at ../Python/ceval.c:4705\n#6  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#7  0x0000000000528814 in fast_function (nk=<optimized out>, na=<optimized out>, n=<optimized out>, pp_stack=0x7fff82ffb6d0, func=<optimized out>) at ../Python/ceval.c:4803\n#8  call_function (oparg=<optimized out>, pp_stack=0x7fff82ffb6d0) at ../Python/ceval.c:4730\n#9  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#10 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7fffa3eb89a8>,), kwdefs=0x0, defcount=5, defs=0x7fffa3eadf28, kwcount=5, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\n    _co=<code at remote 0x7fffa3e45b70>) at ../Python/ceval.c:4018\n#11 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#12 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#13 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#14 0x00000000005262af in ext_do_call (nk=<optimized out>, na=2, flags=<optimized out>, pp_stack=0x7fff82ffb988, func=<function at remote 0x7fffa3e49378>) at ../Python/ceval.c:5034\n#15 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#16 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7fffa3eb8a08>,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=5, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\n    _co=<code at remote 0x7fffa3e505d0>) at ../Python/ceval.c:4018\n#17 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#18 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#19 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#20 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#21 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#22 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\n#23 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\n#24 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#25 0x00000000005262af in ext_do_call (nk=<optimized out>, na=0, flags=<optimized out>, pp_stack=0x7fff82ffbd58, func=<type at remote 0x17cacb8>) at ../Python/ceval.c:5034\n#26 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#27 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7ffff68d2a38>,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\n    _co=<code at remote 0x7ffff5f42d20>) at ../Python/ceval.c:4018\n#28 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#29 0x00000000004ebcc3 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#30 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#31 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#32 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#33 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\n#34 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\n#35 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#36 0x0000000000528d06 in do_call (nk=<optimized out>, na=<optimized out>, pp_stack=0x7fff82ffc120, func=<optimized out>) at ../Python/ceval.c:4936\n#37 call_function (oparg=<optimized out>, pp_stack=0x7fff82ffc120) at ../Python/ceval.c:4732\n#38 PyEval_EvalFrameEx () at ../Python/ceval.c:3236\n#39 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>, _co=<code at remote 0x7ffff5f53270>)\n    at ../Python/ceval.c:4018\n#40 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#41 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#42 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#43 0x00000000005262af in ext_do_call (nk=<optimized out>, na=1, flags=<optimized out>, pp_stack=0x7fff82ffc3d8, func=<function at remote 0x7fffa3e2eae8>) at ../Python/ceval.c:5034\n#44 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\n#45 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>, _co=<code at remote 0x7fffa3f926f0>)\n    at ../Python/ceval.c:4018\n#46 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\n#47 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\n#48 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#49 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\n#50 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#51 0x000000000054d4f6 in slot_tp_call () at ../Objects/typeobject.c:6053\n#52 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\n#53 0x00000000005262af in ext_do_call (nk=<optimized out>, na=0, flags=<optimized out>, pp_stack=0x7fff82ffc778,\n    func=<DAPmodel(_backward_hooks={}, _forward_hooks={}, _parameters={}, init_state=(<Variable at remote 0x7fffeb8259e8>, <Variable at remote 0x7fffeb825570>), _forward_pre_hooks={}, rnn_config={'rnn_type': <type at remote 0x17cacb8>, 'rnn_args': {'bidirectional': True, 'num_layers': 2, 'hidden_size': 256, 'dropout': <float at remote 0x7fffa3e0a240>}}, _backend=<THNNFunctionBackend(function_classes={'SpatialUpSamplingBilinear': <FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=<type at remote 0x16c7db8>, forward=<staticmethod at remote 0x7fffa3fa2278>, backward=<staticmethod at remote 0x7fffa3fa2208>, _is_legacy=False, __doc__=None) at remote 0x16c78c8>, 'NLLLoss2dBackward': <FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=<type at remote 0x172c238>, forward=<staticmethod at remote 0x7fffa3f64da0>, backward=<staticmethod at remote 0x7fffa3f64e10>, _is_legacy=False, __doc__=None) at remote 0x172bbc8>, 'SpatialSubSampling': <FunctionMeta(__module__='torch.nn._functions.thnn....(truncated)) at ../Python/ceval.c:5034\n\nIf I add a line of code setting a manual seed just before the random function that I am using,\nthe segmentation fault problem disappears. Also torch.random generates some huge number outside of (0,1] a while before the segmentation fault occurs.", "body": "I got a similar segmentation fault problem with Louis-Tian due to random number generation. \r\nMy whole source code is a bit hard to attach here because there is dependency to data and code is quite long but the following is the gdb backtrace.\r\n\r\n```\r\nThread 141 \"python\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fff82ffd700 (LWP 15532)]\r\n0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\r\n(gdb) bt\r\n#0  0x00007fffc8a82ba7 in THRandom_random () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\r\n#1  0x00007fffc8a82c04 in THRandom_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\r\n#2  0x00007fffc87bedd7 in THFloatTensor_uniform () from /home/heuna/Documents/DAPmodel/.venv3/lib/python3.5/site-packages/torch/lib/libTH.so.1\r\n#3  0x00007fffd4df95fb in THPFloatTensor_uniform_ (self=<torch.FloatTensor at remote 0x7fffe91a9148>, args=(<float at remote 0x7fffedd09b10>, <float at remote 0x7ffff2de1f90>), kwargs=<optimized out>) at /pytorch/torch/csrc/generic/TensorMethods.cpp:50822\r\n#4  0x00000000004e9bc7 in PyCFunction_Call () at ../Objects/methodobject.c:98\r\n#5  0x0000000000524414 in call_function (oparg=<optimized out>, pp_stack=0x7fff82ffb5a0) at ../Python/ceval.c:4705\r\n#6  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\r\n#7  0x0000000000528814 in fast_function (nk=<optimized out>, na=<optimized out>, n=<optimized out>, pp_stack=0x7fff82ffb6d0, func=<optimized out>) at ../Python/ceval.c:4803\r\n#8  call_function (oparg=<optimized out>, pp_stack=0x7fff82ffb6d0) at ../Python/ceval.c:4730\r\n#9  PyEval_EvalFrameEx () at ../Python/ceval.c:3236\r\n#10 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7fffa3eb89a8>,), kwdefs=0x0, defcount=5, defs=0x7fffa3eadf28, kwcount=5, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\r\n    _co=<code at remote 0x7fffa3e45b70>) at ../Python/ceval.c:4018\r\n#11 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\r\n#12 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\r\n#13 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#14 0x00000000005262af in ext_do_call (nk=<optimized out>, na=2, flags=<optimized out>, pp_stack=0x7fff82ffb988, func=<function at remote 0x7fffa3e49378>) at ../Python/ceval.c:5034\r\n#15 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\r\n#16 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7fffa3eb8a08>,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=5, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\r\n    _co=<code at remote 0x7fffa3e505d0>) at ../Python/ceval.c:4018\r\n#17 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\r\n#18 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\r\n#19 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#20 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\r\n#21 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#22 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\r\n#23 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\r\n#24 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#25 0x00000000005262af in ext_do_call (nk=<optimized out>, na=0, flags=<optimized out>, pp_stack=0x7fff82ffbd58, func=<type at remote 0x17cacb8>) at ../Python/ceval.c:5034\r\n#26 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\r\n#27 0x000000000052e87a in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=(<cell at remote 0x7ffff68d2a38>,), kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>,\r\n    _co=<code at remote 0x7ffff5f42d20>) at ../Python/ceval.c:4018\r\n#28 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\r\n#29 0x00000000004ebcc3 in function_call.lto_priv () at ../Objects/funcobject.c:627\r\n#30 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#31 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\r\n#32 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#33 0x000000000054d359 in slot_tp_init () at ../Objects/typeobject.c:6268\r\n#34 0x000000000055d17c in type_call.lto_priv () at ../Objects/typeobject.c:905\r\n#35 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#36 0x0000000000528d06 in do_call (nk=<optimized out>, na=<optimized out>, pp_stack=0x7fff82ffc120, func=<optimized out>) at ../Python/ceval.c:4936\r\n#37 call_function (oparg=<optimized out>, pp_stack=0x7fff82ffc120) at ../Python/ceval.c:4732\r\n#38 PyEval_EvalFrameEx () at ../Python/ceval.c:3236\r\n#39 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>, _co=<code at remote 0x7ffff5f53270>)\r\n    at ../Python/ceval.c:4018\r\n#40 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\r\n#41 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\r\n#42 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#43 0x00000000005262af in ext_do_call (nk=<optimized out>, na=1, flags=<optimized out>, pp_stack=0x7fff82ffc3d8, func=<function at remote 0x7fffa3e2eae8>) at ../Python/ceval.c:5034\r\n#44 PyEval_EvalFrameEx () at ../Python/ceval.c:3275\r\n#45 0x000000000052e12b in _PyEval_EvalCodeWithName (qualname=0x0, name=0x0, closure=0x0, kwdefs=0x0, defcount=0, defs=0x0, kwcount=0, kws=<optimized out>, argcount=<optimized out>, args=<optimized out>, locals=<optimized out>, globals=<optimized out>, _co=<code at remote 0x7fffa3f926f0>)\r\n    at ../Python/ceval.c:4018\r\n#46 PyEval_EvalCodeEx () at ../Python/ceval.c:4039\r\n#47 0x00000000004ebdd7 in function_call.lto_priv () at ../Objects/funcobject.c:627\r\n#48 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#49 0x00000000004f413e in method_call.lto_priv () at ../Objects/classobject.c:330\r\n#50 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#51 0x000000000054d4f6 in slot_tp_call () at ../Objects/typeobject.c:6053\r\n#52 0x00000000005b7167 in PyObject_Call () at ../Objects/abstract.c:2165\r\n#53 0x00000000005262af in ext_do_call (nk=<optimized out>, na=0, flags=<optimized out>, pp_stack=0x7fff82ffc778,\r\n    func=<DAPmodel(_backward_hooks={}, _forward_hooks={}, _parameters={}, init_state=(<Variable at remote 0x7fffeb8259e8>, <Variable at remote 0x7fffeb825570>), _forward_pre_hooks={}, rnn_config={'rnn_type': <type at remote 0x17cacb8>, 'rnn_args': {'bidirectional': True, 'num_layers': 2, 'hidden_size': 256, 'dropout': <float at remote 0x7fffa3e0a240>}}, _backend=<THNNFunctionBackend(function_classes={'SpatialUpSamplingBilinear': <FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=<type at remote 0x16c7db8>, forward=<staticmethod at remote 0x7fffa3fa2278>, backward=<staticmethod at remote 0x7fffa3fa2208>, _is_legacy=False, __doc__=None) at remote 0x16c78c8>, 'NLLLoss2dBackward': <FunctionMeta(__module__='torch.nn._functions.thnn.auto', _backward_cls=<type at remote 0x172c238>, forward=<staticmethod at remote 0x7fffa3f64da0>, backward=<staticmethod at remote 0x7fffa3f64e10>, _is_legacy=False, __doc__=None) at remote 0x172bbc8>, 'SpatialSubSampling': <FunctionMeta(__module__='torch.nn._functions.thnn....(truncated)) at ../Python/ceval.c:5034\r\n```\r\n\r\nIf I add a line of code setting a manual seed just before the random function that I am using,\r\nthe segmentation fault problem disappears. Also torch.random generates some huge number outside of (0,1] a while before the segmentation fault occurs."}