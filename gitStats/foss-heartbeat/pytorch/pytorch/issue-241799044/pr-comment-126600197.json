{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/126600197", "pull_request_review_id": 49097636, "id": 126600197, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjYwMDE5Nw==", "diff_hunk": "@@ -332,5 +332,63 @@ __global__ void indexSelectLargeIndex(TensorInfo<T, IndexType> dst,\n   }\n }\n \n+template <typename IndexType, unsigned int Dims>\n+struct LinearIndexCalcData {\n+  // sizes for Tensor dims (either from the Tensor, or the size of the adv indexer at that dim)\n+  IndexType sizes[Dims];\n+  IndexType strides[Dims];       // strides for Tensor\n+  bool adv[Dims];                // which Tensors are advanced indexers\n+  long *advIndexTensors[Dims];   // Adv Indexing Tensors", "path": "torch/lib/THC/THCTensorIndex.cu", "position": null, "original_position": 10, "commit_id": "5197f58602341b8c02036283337f502913271a88", "original_commit_id": "25db5f04a3ccf5d966c7f90fa10020255713b31e", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "these comments aren't really helpful. About `adv` - don't Tensors *always* trigger advanced indexing (also `is_adv` might be a better name)? Also, what's `advIndexTensors`? It's impossible to tell both from the name and the comment. Is it their data or their sizes?\r\n\r\nAlso, isn't it enough to use NULL pointers in this array instead of storing `adv` separately?", "created_at": "2017-07-11T05:43:33Z", "updated_at": "2018-11-23T15:34:03Z", "html_url": "https://github.com/pytorch/pytorch/pull/2039#discussion_r126600197", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2039", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/126600197"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2039#discussion_r126600197"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2039"}}, "body_html": "<p>these comments aren't really helpful. About <code>adv</code> - don't Tensors <em>always</em> trigger advanced indexing (also <code>is_adv</code> might be a better name)? Also, what's <code>advIndexTensors</code>? It's impossible to tell both from the name and the comment. Is it their data or their sizes?</p>\n<p>Also, isn't it enough to use NULL pointers in this array instead of storing <code>adv</code> separately?</p>", "body_text": "these comments aren't really helpful. About adv - don't Tensors always trigger advanced indexing (also is_adv might be a better name)? Also, what's advIndexTensors? It's impossible to tell both from the name and the comment. Is it their data or their sizes?\nAlso, isn't it enough to use NULL pointers in this array instead of storing adv separately?"}