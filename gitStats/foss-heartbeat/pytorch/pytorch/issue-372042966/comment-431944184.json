{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/431944184", "html_url": "https://github.com/pytorch/pytorch/issues/12879#issuecomment-431944184", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12879", "id": 431944184, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTk0NDE4NA==", "user": {"login": "dzhulgakov", "id": 17890620, "node_id": "MDQ6VXNlcjE3ODkwNjIw", "avatar_url": "https://avatars2.githubusercontent.com/u/17890620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzhulgakov", "html_url": "https://github.com/dzhulgakov", "followers_url": "https://api.github.com/users/dzhulgakov/followers", "following_url": "https://api.github.com/users/dzhulgakov/following{/other_user}", "gists_url": "https://api.github.com/users/dzhulgakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzhulgakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzhulgakov/subscriptions", "organizations_url": "https://api.github.com/users/dzhulgakov/orgs", "repos_url": "https://api.github.com/users/dzhulgakov/repos", "events_url": "https://api.github.com/users/dzhulgakov/events{/privacy}", "received_events_url": "https://api.github.com/users/dzhulgakov/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-22T19:15:06Z", "updated_at": "2018-10-22T19:15:06Z", "author_association": "MEMBER", "body_html": "<p>Above repro needs to have a fix <code>float epsilon_=0.1</code> otherwise it's UB and clang exploits it to run faster</p>\n<p>Equivalent FB repro that shows ~2x perf difference: <a href=\"https://phabricator.internmc.facebook.com/differential/diff/61299366/\" rel=\"nofollow\">https://phabricator.internmc.facebook.com/differential/diff/61299366/</a></p>\n<p>I don't have time to dig into it further, in case anyone wants to take a stab</p>", "body_text": "Above repro needs to have a fix float epsilon_=0.1 otherwise it's UB and clang exploits it to run faster\nEquivalent FB repro that shows ~2x perf difference: https://phabricator.internmc.facebook.com/differential/diff/61299366/\nI don't have time to dig into it further, in case anyone wants to take a stab", "body": "Above repro needs to have a fix `float epsilon_=0.1` otherwise it's UB and clang exploits it to run faster\r\n\r\nEquivalent FB repro that shows ~2x perf difference: https://phabricator.internmc.facebook.com/differential/diff/61299366/\r\n\r\nI don't have time to dig into it further, in case anyone wants to take a stab"}