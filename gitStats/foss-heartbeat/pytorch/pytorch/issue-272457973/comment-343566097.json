{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/343566097", "html_url": "https://github.com/pytorch/pytorch/issues/3587#issuecomment-343566097", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3587", "id": 343566097, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzU2NjA5Nw==", "user": {"login": "Evpok", "id": 1656541, "node_id": "MDQ6VXNlcjE2NTY1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1656541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Evpok", "html_url": "https://github.com/Evpok", "followers_url": "https://api.github.com/users/Evpok/followers", "following_url": "https://api.github.com/users/Evpok/following{/other_user}", "gists_url": "https://api.github.com/users/Evpok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Evpok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Evpok/subscriptions", "organizations_url": "https://api.github.com/users/Evpok/orgs", "repos_url": "https://api.github.com/users/Evpok/repos", "events_url": "https://api.github.com/users/Evpok/events{/privacy}", "received_events_url": "https://api.github.com/users/Evpok/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-10T19:36:25Z", "updated_at": "2017-11-10T19:36:25Z", "author_association": "CONTRIBUTOR", "body_html": "<p>From what I understand of the CuDNN API, which is the basis of pytorch's one, the output is sorted by timesteps, so <code>h_n</code> should be the concatenation of the hidden state of the forward layer for the last item of the sequence and of the hidden state of the backward layer for the first item of the sequence.</p>\n<p>I agree that it should be more explicit. Also it is really inconvenient for e.g. bidirectional attention, but I guess there is no way around it if you want to be able to use CuDNN calls.</p>", "body_text": "From what I understand of the CuDNN API, which is the basis of pytorch's one, the output is sorted by timesteps, so h_n should be the concatenation of the hidden state of the forward layer for the last item of the sequence and of the hidden state of the backward layer for the first item of the sequence.\nI agree that it should be more explicit. Also it is really inconvenient for e.g. bidirectional attention, but I guess there is no way around it if you want to be able to use CuDNN calls.", "body": "From what I understand of the CuDNN API, which is the basis of pytorch's one, the output is sorted by timesteps, so `h_n` should be the concatenation of the hidden state of the forward layer for the last item of the sequence and of the hidden state of the backward layer for the first item of the sequence.\r\n\r\nI agree that it should be more explicit. Also it is really inconvenient for e.g. bidirectional attention, but I guess there is no way around it if you want to be able to use CuDNN calls."}