{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7023", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7023/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7023/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7023/events", "html_url": "https://github.com/pytorch/pytorch/issues/7023", "id": 318267638, "node_id": "MDU6SXNzdWUzMTgyNjc2Mzg=", "number": 7023, "title": "[Caffe2 Bug] ill-formed initializer list", "user": {"login": "xkszltl", "id": 5203025, "node_id": "MDQ6VXNlcjUyMDMwMjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5203025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xkszltl", "html_url": "https://github.com/xkszltl", "followers_url": "https://api.github.com/users/xkszltl/followers", "following_url": "https://api.github.com/users/xkszltl/following{/other_user}", "gists_url": "https://api.github.com/users/xkszltl/gists{/gist_id}", "starred_url": "https://api.github.com/users/xkszltl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xkszltl/subscriptions", "organizations_url": "https://api.github.com/users/xkszltl/orgs", "repos_url": "https://api.github.com/users/xkszltl/repos", "events_url": "https://api.github.com/users/xkszltl/events{/privacy}", "received_events_url": "https://api.github.com/users/xkszltl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-04-27T03:40:37Z", "updated_at": "2018-04-28T01:28:28Z", "closed_at": "2018-04-28T01:28:23Z", "author_association": "CONTRIBUTOR", "body_html": "<h2>Issue description</h2>\n<p>Visual Studio 2017 is complaining about error C2398:</p>\n<pre><code>error C2398: Element '9': conversion from 'double' to 'float' requires a narrowing conversion\n</code></pre>\n<p>In <code>roi_align_op_gpu_test.cc</code> there's a code block:</p>\n<pre><code>    vector&lt;float&gt; rois{0, 0,           0,           79,          59,\n                       0, 0,           5.0005703,   52.63237,    43.69501495,\n                       0, 24.13628387, 7.51243401,  79,          46.06628418,\n                       0, 0,           7.50924301,  68.47792816, 46.03357315,\n                       0, 0,           23.09477997, 51.61448669, 59,\n                       0, 0,           39.52141571, 52.44710541, 59,\n                       0, 23.57396317, 29.98791885, 79,          59,\n                       0, 0,           41.90219116, 79,          59,\n                       0, 0,           23.30098343, 79,          59};\n</code></pre>\n<p>We should add <code>f</code> to the end of all double constants since narrowing conversion is ill-formed</p>\n<h2>System Info</h2>\n<ul>\n<li>PyTorch or Caffe2: Caffe2</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>OS: Win10</li>\n<li>PyTorch version: master branch</li>\n<li>CUDA/cuDNN version: 9.1/7.1.3</li>\n<li>GPU models and configuration: 1080Ti</li>\n<li>Visual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset</li>\n<li>CMake version: 3.11.1</li>\n</ul>", "body_text": "Issue description\nVisual Studio 2017 is complaining about error C2398:\nerror C2398: Element '9': conversion from 'double' to 'float' requires a narrowing conversion\n\nIn roi_align_op_gpu_test.cc there's a code block:\n    vector<float> rois{0, 0,           0,           79,          59,\n                       0, 0,           5.0005703,   52.63237,    43.69501495,\n                       0, 24.13628387, 7.51243401,  79,          46.06628418,\n                       0, 0,           7.50924301,  68.47792816, 46.03357315,\n                       0, 0,           23.09477997, 51.61448669, 59,\n                       0, 0,           39.52141571, 52.44710541, 59,\n                       0, 23.57396317, 29.98791885, 79,          59,\n                       0, 0,           41.90219116, 79,          59,\n                       0, 0,           23.30098343, 79,          59};\n\nWe should add f to the end of all double constants since narrowing conversion is ill-formed\nSystem Info\n\nPyTorch or Caffe2: Caffe2\nHow you installed PyTorch (conda, pip, source): source\nOS: Win10\nPyTorch version: master branch\nCUDA/cuDNN version: 9.1/7.1.3\nGPU models and configuration: 1080Ti\nVisual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset\nCMake version: 3.11.1", "body": "## Issue description\r\n\r\nVisual Studio 2017 is complaining about error C2398:\r\n```\r\nerror C2398: Element '9': conversion from 'double' to 'float' requires a narrowing conversion\r\n```\r\n\r\nIn `roi_align_op_gpu_test.cc` there's a code block:\r\n```\r\n    vector<float> rois{0, 0,           0,           79,          59,\r\n                       0, 0,           5.0005703,   52.63237,    43.69501495,\r\n                       0, 24.13628387, 7.51243401,  79,          46.06628418,\r\n                       0, 0,           7.50924301,  68.47792816, 46.03357315,\r\n                       0, 0,           23.09477997, 51.61448669, 59,\r\n                       0, 0,           39.52141571, 52.44710541, 59,\r\n                       0, 23.57396317, 29.98791885, 79,          59,\r\n                       0, 0,           41.90219116, 79,          59,\r\n                       0, 0,           23.30098343, 79,          59};\r\n```\r\nWe should add `f` to the end of all double constants since narrowing conversion is ill-formed \r\n\r\n## System Info\r\n- PyTorch or Caffe2: Caffe2\r\n- How you installed PyTorch (conda, pip, source): source\r\n- OS: Win10\r\n- PyTorch version: master branch\r\n- CUDA/cuDNN version: 9.1/7.1.3\r\n- GPU models and configuration: 1080Ti\r\n- Visual Studio version (if compiling from source): Visual Studio 2017.6 + v140 toolset\r\n- CMake version: 3.11.1\r\n\r\n"}