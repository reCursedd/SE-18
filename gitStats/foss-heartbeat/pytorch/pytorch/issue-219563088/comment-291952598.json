{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/291952598", "html_url": "https://github.com/pytorch/pytorch/issues/1191#issuecomment-291952598", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/1191", "id": 291952598, "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTk1MjU5OA==", "user": {"login": "mratsim", "id": 22738317, "node_id": "MDQ6VXNlcjIyNzM4MzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/22738317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mratsim", "html_url": "https://github.com/mratsim", "followers_url": "https://api.github.com/users/mratsim/followers", "following_url": "https://api.github.com/users/mratsim/following{/other_user}", "gists_url": "https://api.github.com/users/mratsim/gists{/gist_id}", "starred_url": "https://api.github.com/users/mratsim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mratsim/subscriptions", "organizations_url": "https://api.github.com/users/mratsim/orgs", "repos_url": "https://api.github.com/users/mratsim/repos", "events_url": "https://api.github.com/users/mratsim/events{/privacy}", "received_events_url": "https://api.github.com/users/mratsim/received_events", "type": "User", "site_admin": false}, "created_at": "2017-04-05T18:27:23Z", "updated_at": "2017-04-05T18:28:07Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I've fixed the linking issue on my machine by adding the Magma libs path to <code>/etc/ld.so.conf.d/</code>, thanks for the hint.</p>\n<p>I do think there is a need of a <code>MAGMA_LIB_DIR</code> and <code>MAGMA_INCLUDE_DIR</code> so that people who don't install magma in <code>/usr/local</code> don't have to sed the FindMAGMA files like the following</p>\n<div class=\"highlight highlight-source-shell\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span>Adding MAGMA on Archlinux support</span>\n  sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s#/usr/local/magma/lib#/opt/magma/lib#g<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${_pkgname}</span>/torch/lib/THC/cmake/FindMAGMA.cmake<span class=\"pl-pds\">\"</span></span>\n  sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s#/usr/local/magma/include#/opt/magma/include#g<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${_pkgname}</span>/torch/lib/THC/cmake/FindMAGMA.cmake<span class=\"pl-pds\">\"</span></span>\n  sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s#/usr/local/magma/lib#/opt/magma/lib#g<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${_pkgname}</span>/torch/lib/THCS/cmake/FindMAGMA.cmake<span class=\"pl-pds\">\"</span></span>\n  sed -i <span class=\"pl-s\"><span class=\"pl-pds\">'</span>s#/usr/local/magma/include#/opt/magma/include#g<span class=\"pl-pds\">'</span></span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">${_pkgname}</span>/torch/lib/THCS/cmake/FindMAGMA.cmake<span class=\"pl-pds\">\"</span></span></pre></div>", "body_text": "I've fixed the linking issue on my machine by adding the Magma libs path to /etc/ld.so.conf.d/, thanks for the hint.\nI do think there is a need of a MAGMA_LIB_DIR and MAGMA_INCLUDE_DIR so that people who don't install magma in /usr/local don't have to sed the FindMAGMA files like the following\n#Adding MAGMA on Archlinux support\n  sed -i 's#/usr/local/magma/lib#/opt/magma/lib#g' \"${_pkgname}/torch/lib/THC/cmake/FindMAGMA.cmake\"\n  sed -i 's#/usr/local/magma/include#/opt/magma/include#g' \"${_pkgname}/torch/lib/THC/cmake/FindMAGMA.cmake\"\n  sed -i 's#/usr/local/magma/lib#/opt/magma/lib#g' \"${_pkgname}/torch/lib/THCS/cmake/FindMAGMA.cmake\"\n  sed -i 's#/usr/local/magma/include#/opt/magma/include#g' \"${_pkgname}/torch/lib/THCS/cmake/FindMAGMA.cmake\"", "body": "I've fixed the linking issue on my machine by adding the Magma libs path to `/etc/ld.so.conf.d/`, thanks for the hint.\r\n\r\nI do think there is a need of a `MAGMA_LIB_DIR` and `MAGMA_INCLUDE_DIR` so that people who don't install magma in `/usr/local` don't have to sed the FindMAGMA files like the following\r\n\r\n```bash\r\n#Adding MAGMA on Archlinux support\r\n  sed -i 's#/usr/local/magma/lib#/opt/magma/lib#g' \"${_pkgname}/torch/lib/THC/cmake/FindMAGMA.cmake\"\r\n  sed -i 's#/usr/local/magma/include#/opt/magma/include#g' \"${_pkgname}/torch/lib/THC/cmake/FindMAGMA.cmake\"\r\n  sed -i 's#/usr/local/magma/lib#/opt/magma/lib#g' \"${_pkgname}/torch/lib/THCS/cmake/FindMAGMA.cmake\"\r\n  sed -i 's#/usr/local/magma/include#/opt/magma/include#g' \"${_pkgname}/torch/lib/THCS/cmake/FindMAGMA.cmake\"\r\n```\r\n\r\n"}