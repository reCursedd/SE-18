{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/154427534", "pull_request_review_id": 80595739, "id": 154427534, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NDQyNzUzNA==", "diff_hunk": "@@ -194,6 +194,24 @@ def test_sinh(self):\n     def test_lgamma(self):\n         self._testMathByName('lgamma')\n \n+    def test_digamma(self):\n+        y = torch.Tensor([-10, 0])\n+        x = torch.Tensor([-0.1, 3, 999])", "path": "test/test_torch.py", "position": null, "original_position": 6, "commit_id": "2ae32004d861781e0d418aa49afb94418e20e4f9", "original_commit_id": "3e535765c86aa4ea9c60aa996423ce582c5fe8fa", "user": {"login": "fritzo", "id": 648532, "node_id": "MDQ6VXNlcjY0ODUzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/648532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fritzo", "html_url": "https://github.com/fritzo", "followers_url": "https://api.github.com/users/fritzo/followers", "following_url": "https://api.github.com/users/fritzo/following{/other_user}", "gists_url": "https://api.github.com/users/fritzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fritzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fritzo/subscriptions", "organizations_url": "https://api.github.com/users/fritzo/orgs", "repos_url": "https://api.github.com/users/fritzo/repos", "events_url": "https://api.github.com/users/fritzo/events{/privacy}", "received_events_url": "https://api.github.com/users/fritzo/received_events", "type": "User", "site_admin": false}, "body": "You could also check against hard-coded values generated by `scipy.special.digamma()`, e.g.:\r\n```py\r\n>>> import numpy as np\r\n>>> import scipy.special\r\n>>> x = 10.0 ** np.arange(-5, 5, 0.5)\r\n>>> x\r\narray([  1.00000000e-05,   3.16227766e-05,   1.00000000e-04,\r\n         3.16227766e-04,   1.00000000e-03,   3.16227766e-03,\r\n         1.00000000e-02,   3.16227766e-02,   1.00000000e-01,\r\n         3.16227766e-01,   1.00000000e+00,   3.16227766e+00,\r\n         1.00000000e+01,   3.16227766e+01,   1.00000000e+02,\r\n         3.16227766e+02,   1.00000000e+03,   3.16227766e+03,\r\n         1.00000000e+04,   3.16227766e+04])\r\n>>> scipy.special.digamma(x)\r\narray([ -1.00000577e+05,  -3.16233538e+04,  -1.00005771e+04,\r\n        -3.16285436e+03,  -1.00057557e+03,  -3.16799792e+02,\r\n        -1.00560885e+02,  -3.21491437e+01,  -1.04237549e+01,\r\n        -3.31321826e+00,  -5.77215665e-01,   9.84925052e-01,\r\n         2.25175259e+00,   3.43798293e+00,   4.60016185e+00,\r\n         5.75488076e+00,   6.90725520e+00,   8.05888970e+00,\r\n         9.21029037e+00,   1.03616171e+01])\r\n```", "created_at": "2017-12-01T19:25:04Z", "updated_at": "2018-11-23T15:37:00Z", "html_url": "https://github.com/pytorch/pytorch/pull/3955#discussion_r154427534", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3955", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/154427534"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3955#discussion_r154427534"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3955"}}, "body_html": "<p>You could also check against hard-coded values generated by <code>scipy.special.digamma()</code>, e.g.:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">import</span> numpy <span class=\"pl-k\">as</span> np\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-k\">import</span> scipy.special\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x <span class=\"pl-k\">=</span> <span class=\"pl-c1\">10.0</span> <span class=\"pl-k\">**</span> np.arange(<span class=\"pl-k\">-</span><span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">0.5</span>)\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> x\narray([  <span class=\"pl-c1\">1.00000000e-05</span>,   <span class=\"pl-c1\">3.16227766e-05</span>,   <span class=\"pl-c1\">1.00000000e-04</span>,\n         <span class=\"pl-c1\">3.16227766e-04</span>,   <span class=\"pl-c1\">1.00000000e-03</span>,   <span class=\"pl-c1\">3.16227766e-03</span>,\n         <span class=\"pl-c1\">1.00000000e-02</span>,   <span class=\"pl-c1\">3.16227766e-02</span>,   <span class=\"pl-c1\">1.00000000e-01</span>,\n         <span class=\"pl-c1\">3.16227766e-01</span>,   <span class=\"pl-c1\">1.00000000e+00</span>,   <span class=\"pl-c1\">3.16227766e+00</span>,\n         <span class=\"pl-c1\">1.00000000e+01</span>,   <span class=\"pl-c1\">3.16227766e+01</span>,   <span class=\"pl-c1\">1.00000000e+02</span>,\n         <span class=\"pl-c1\">3.16227766e+02</span>,   <span class=\"pl-c1\">1.00000000e+03</span>,   <span class=\"pl-c1\">3.16227766e+03</span>,\n         <span class=\"pl-c1\">1.00000000e+04</span>,   <span class=\"pl-c1\">3.16227766e+04</span>])\n<span class=\"pl-k\">&gt;&gt;</span><span class=\"pl-k\">&gt;</span> scipy.special.digamma(x)\narray([ <span class=\"pl-k\">-</span><span class=\"pl-c1\">1.00000577e+05</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">3.16233538e+04</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">1.00005771e+04</span>,\n        <span class=\"pl-k\">-</span><span class=\"pl-c1\">3.16285436e+03</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">1.00057557e+03</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">3.16799792e+02</span>,\n        <span class=\"pl-k\">-</span><span class=\"pl-c1\">1.00560885e+02</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">3.21491437e+01</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">1.04237549e+01</span>,\n        <span class=\"pl-k\">-</span><span class=\"pl-c1\">3.31321826e+00</span>,  <span class=\"pl-k\">-</span><span class=\"pl-c1\">5.77215665e-01</span>,   <span class=\"pl-c1\">9.84925052e-01</span>,\n         <span class=\"pl-c1\">2.25175259e+00</span>,   <span class=\"pl-c1\">3.43798293e+00</span>,   <span class=\"pl-c1\">4.60016185e+00</span>,\n         <span class=\"pl-c1\">5.75488076e+00</span>,   <span class=\"pl-c1\">6.90725520e+00</span>,   <span class=\"pl-c1\">8.05888970e+00</span>,\n         <span class=\"pl-c1\">9.21029037e+00</span>,   <span class=\"pl-c1\">1.03616171e+01</span>])</pre></div>", "body_text": "You could also check against hard-coded values generated by scipy.special.digamma(), e.g.:\n>>> import numpy as np\n>>> import scipy.special\n>>> x = 10.0 ** np.arange(-5, 5, 0.5)\n>>> x\narray([  1.00000000e-05,   3.16227766e-05,   1.00000000e-04,\n         3.16227766e-04,   1.00000000e-03,   3.16227766e-03,\n         1.00000000e-02,   3.16227766e-02,   1.00000000e-01,\n         3.16227766e-01,   1.00000000e+00,   3.16227766e+00,\n         1.00000000e+01,   3.16227766e+01,   1.00000000e+02,\n         3.16227766e+02,   1.00000000e+03,   3.16227766e+03,\n         1.00000000e+04,   3.16227766e+04])\n>>> scipy.special.digamma(x)\narray([ -1.00000577e+05,  -3.16233538e+04,  -1.00005771e+04,\n        -3.16285436e+03,  -1.00057557e+03,  -3.16799792e+02,\n        -1.00560885e+02,  -3.21491437e+01,  -1.04237549e+01,\n        -3.31321826e+00,  -5.77215665e-01,   9.84925052e-01,\n         2.25175259e+00,   3.43798293e+00,   4.60016185e+00,\n         5.75488076e+00,   6.90725520e+00,   8.05888970e+00,\n         9.21029037e+00,   1.03616171e+01])"}