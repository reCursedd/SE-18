{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/223977384", "pull_request_review_id": 163232997, "id": 223977384, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzk3NzM4NA==", "diff_hunk": "@@ -520,7 +526,14 @@ void TensorDeserializer::Deserialize(const TensorProto& proto, Tensor* tensor) {\n                 (i + chunkBegin) * temp_blob.meta().itemsize(),\n             1);\n       }\n-    }\n+    } break;\n+    case TensorProto_DataType_SPECIAL: {\n+      CAFFE_THROW(\"SPECIAL Tensor is not handled yet.\");\n+    } break;\n+    case TensorProto_DataType_NO_CONTENT: {\n+      CAFFE_THROW(\"NO_CONTENT Tensor should not be deserialized.\");\n+    } break;\n+      // Note: we intentially do not provide \"default:\" so if any new data types", "path": "caffe2/core/blob_serialization.cc", "position": 6, "original_position": 25, "commit_id": "af60ce1589b2921a069f7c301ab6bec2886fba79", "original_commit_id": "68dd65e5dfe6fee935ecbf8564478f422446414f", "user": {"login": "kennyhorror", "id": 1067890, "node_id": "MDQ6VXNlcjEwNjc4OTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1067890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennyhorror", "html_url": "https://github.com/kennyhorror", "followers_url": "https://api.github.com/users/kennyhorror/followers", "following_url": "https://api.github.com/users/kennyhorror/following{/other_user}", "gists_url": "https://api.github.com/users/kennyhorror/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennyhorror/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennyhorror/subscriptions", "organizations_url": "https://api.github.com/users/kennyhorror/orgs", "repos_url": "https://api.github.com/users/kennyhorror/repos", "events_url": "https://api.github.com/users/kennyhorror/events{/privacy}", "received_events_url": "https://api.github.com/users/kennyhorror/received_events", "type": "User", "site_admin": false}, "body": "I might be wrong, but this is pretty questionable from the forward compatibility perspective unless you handle it in some other place. In the current version you'll be able silently load the model even if it's not possible to use it in current binary.\r\n\r\nThis is probably more like a question to @Yangqing around the original code in the first place", "created_at": "2018-10-10T08:17:43Z", "updated_at": "2018-11-23T15:52:48Z", "html_url": "https://github.com/pytorch/pytorch/pull/12384#discussion_r223977384", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/12384", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/223977384"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/12384#discussion_r223977384"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/12384"}}, "body_html": "<p>I might be wrong, but this is pretty questionable from the forward compatibility perspective unless you handle it in some other place. In the current version you'll be able silently load the model even if it's not possible to use it in current binary.</p>\n<p>This is probably more like a question to <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=551151\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Yangqing\">@Yangqing</a> around the original code in the first place</p>", "body_text": "I might be wrong, but this is pretty questionable from the forward compatibility perspective unless you handle it in some other place. In the current version you'll be able silently load the model even if it's not possible to use it in current binary.\nThis is probably more like a question to @Yangqing around the original code in the first place"}