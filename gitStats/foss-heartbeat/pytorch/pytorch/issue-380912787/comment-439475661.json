{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/439475661", "html_url": "https://github.com/pytorch/pytorch/issues/13993#issuecomment-439475661", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13993", "id": 439475661, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTQ3NTY2MQ==", "user": {"login": "seanprime7", "id": 883319, "node_id": "MDQ6VXNlcjg4MzMxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/883319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seanprime7", "html_url": "https://github.com/seanprime7", "followers_url": "https://api.github.com/users/seanprime7/followers", "following_url": "https://api.github.com/users/seanprime7/following{/other_user}", "gists_url": "https://api.github.com/users/seanprime7/gists{/gist_id}", "starred_url": "https://api.github.com/users/seanprime7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seanprime7/subscriptions", "organizations_url": "https://api.github.com/users/seanprime7/orgs", "repos_url": "https://api.github.com/users/seanprime7/repos", "events_url": "https://api.github.com/users/seanprime7/events{/privacy}", "received_events_url": "https://api.github.com/users/seanprime7/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-16T17:59:42Z", "updated_at": "2018-11-16T17:59:42Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5545022\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jspark1105\">@jspark1105</a>, I have applied the patch</p>\n<pre><code># git log -2\ncommit cfd756ebddd375b0f793ded533094809c4a489c1\nAuthor: Jongsoo Park &lt;jongsoo@fb.com&gt;\nDate:   Thu Nov 15 17:39:06 2018 -0800\n\n    remove unnecessary file from avx2 list (#14012)\n\n    Summary:\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/14012\n\n    conv_dnnlowp_op.cc doesn't need avx2 anymore.\n\n    Differential Revision: D13079665\n\n    fbshipit-source-id: 22f77c28ce898c390a60a8d91e09bb4a61c0397b\n\ncommit 37cb357d8da3427900b8f72f6de7e77b77dcdbae\nAuthor: Peter Goldsborough &lt;psag@fb.com&gt;\nDate:   Thu Nov 15 17:28:20 2018 -0800\n\n    Remove OptionsGuard from ATen (#13738)\n\n    Summary:\n    Deletes the `OptionsGuard` from ATen. This works towards the goal of reworking `DefaultTensorOptions`. `OptionsGuard` is troublesome because it relies on mutating thread local state. This PR fixes those code locations and then deletes the `OptionsGuard`.\n\n    ezyang gchanan\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/13738\n\n    Differential Revision: D13000962\n\n    Pulled By: goldsborough\n\n    fbshipit-source-id: c8143ee75070c2280f5fd1d9af86f8ce14279b72\n</code></pre>\n<p>Then did a clean build, then ran <code>pytorch -c 'import torch'</code>.  And I still see the same issue</p>\n<pre><code># pip list | grep torch\ntorch                    1.0.0a0+cfd756e /workspace/pytorch-upstream\ntorchtext                0.3.0\ntorchvision              0.2.1\n\n# python -c \"import torch\"\nIllegal instruction (core dumped)\n</code></pre>\n<p>And the backtrace seems to be the same as before.</p>", "body_text": "@jspark1105, I have applied the patch\n# git log -2\ncommit cfd756ebddd375b0f793ded533094809c4a489c1\nAuthor: Jongsoo Park <jongsoo@fb.com>\nDate:   Thu Nov 15 17:39:06 2018 -0800\n\n    remove unnecessary file from avx2 list (#14012)\n\n    Summary:\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/14012\n\n    conv_dnnlowp_op.cc doesn't need avx2 anymore.\n\n    Differential Revision: D13079665\n\n    fbshipit-source-id: 22f77c28ce898c390a60a8d91e09bb4a61c0397b\n\ncommit 37cb357d8da3427900b8f72f6de7e77b77dcdbae\nAuthor: Peter Goldsborough <psag@fb.com>\nDate:   Thu Nov 15 17:28:20 2018 -0800\n\n    Remove OptionsGuard from ATen (#13738)\n\n    Summary:\n    Deletes the `OptionsGuard` from ATen. This works towards the goal of reworking `DefaultTensorOptions`. `OptionsGuard` is troublesome because it relies on mutating thread local state. This PR fixes those code locations and then deletes the `OptionsGuard`.\n\n    ezyang gchanan\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/13738\n\n    Differential Revision: D13000962\n\n    Pulled By: goldsborough\n\n    fbshipit-source-id: c8143ee75070c2280f5fd1d9af86f8ce14279b72\n\nThen did a clean build, then ran pytorch -c 'import torch'.  And I still see the same issue\n# pip list | grep torch\ntorch                    1.0.0a0+cfd756e /workspace/pytorch-upstream\ntorchtext                0.3.0\ntorchvision              0.2.1\n\n# python -c \"import torch\"\nIllegal instruction (core dumped)\n\nAnd the backtrace seems to be the same as before.", "body": "@jspark1105, I have applied the patch\r\n\r\n```\r\n# git log -2\r\ncommit cfd756ebddd375b0f793ded533094809c4a489c1\r\nAuthor: Jongsoo Park <jongsoo@fb.com>\r\nDate:   Thu Nov 15 17:39:06 2018 -0800\r\n\r\n    remove unnecessary file from avx2 list (#14012)\r\n\r\n    Summary:\r\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/14012\r\n\r\n    conv_dnnlowp_op.cc doesn't need avx2 anymore.\r\n\r\n    Differential Revision: D13079665\r\n\r\n    fbshipit-source-id: 22f77c28ce898c390a60a8d91e09bb4a61c0397b\r\n\r\ncommit 37cb357d8da3427900b8f72f6de7e77b77dcdbae\r\nAuthor: Peter Goldsborough <psag@fb.com>\r\nDate:   Thu Nov 15 17:28:20 2018 -0800\r\n\r\n    Remove OptionsGuard from ATen (#13738)\r\n\r\n    Summary:\r\n    Deletes the `OptionsGuard` from ATen. This works towards the goal of reworking `DefaultTensorOptions`. `OptionsGuard` is troublesome because it relies on mutating thread local state. This PR fixes those code locations and then deletes the `OptionsGuard`.\r\n\r\n    ezyang gchanan\r\n    Pull Request resolved: https://github.com/pytorch/pytorch/pull/13738\r\n\r\n    Differential Revision: D13000962\r\n\r\n    Pulled By: goldsborough\r\n\r\n    fbshipit-source-id: c8143ee75070c2280f5fd1d9af86f8ce14279b72\r\n```\r\n\r\nThen did a clean build, then ran `pytorch -c 'import torch'`.  And I still see the same issue\r\n```\r\n# pip list | grep torch\r\ntorch                    1.0.0a0+cfd756e /workspace/pytorch-upstream\r\ntorchtext                0.3.0\r\ntorchvision              0.2.1\r\n\r\n# python -c \"import torch\"\r\nIllegal instruction (core dumped)\r\n```\r\n\r\nAnd the backtrace seems to be the same as before."}