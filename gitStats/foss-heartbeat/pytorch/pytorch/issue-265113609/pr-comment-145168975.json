{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/145168975", "pull_request_review_id": 69928769, "id": 145168975, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTE2ODk3NQ==", "diff_hunk": "@@ -58,8 +58,11 @@ def backward(ctx, grad_output):\n class FeatureDropout(Dropout):\n \n     @staticmethod\n-    def symbolic(input, p=0.5, train=False, inplace=False):\n-        return None\n+    def symbolic(g, input, p=0.5, train=False, inplace=False):\n+        # NB: No FeatureDropout in ONNX, use Dropout instead.\n+        if train:\n+            raise ValueError(\"In train mode, FeatureDropout is different from Dropout.\")", "path": "torch/nn/_functions/dropout.py", "position": 9, "original_position": 9, "commit_id": "031ed8c9750558e39286b5790736252fcb081d72", "original_commit_id": "031ed8c9750558e39286b5790736252fcb081d72", "user": {"login": "houseroad", "id": 30275821, "node_id": "MDQ6VXNlcjMwMjc1ODIx", "avatar_url": "https://avatars0.githubusercontent.com/u/30275821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houseroad", "html_url": "https://github.com/houseroad", "followers_url": "https://api.github.com/users/houseroad/followers", "following_url": "https://api.github.com/users/houseroad/following{/other_user}", "gists_url": "https://api.github.com/users/houseroad/gists{/gist_id}", "starred_url": "https://api.github.com/users/houseroad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houseroad/subscriptions", "organizations_url": "https://api.github.com/users/houseroad/orgs", "repos_url": "https://api.github.com/users/houseroad/repos", "events_url": "https://api.github.com/users/houseroad/events{/privacy}", "received_events_url": "https://api.github.com/users/houseroad/received_events", "type": "User", "site_admin": false}, "body": "Yes, people may export the model in train mode and use it in inference mode, and vise versa. The message can still warn users when training flag is set true during exporting.\r\n\r\nAnd this is just a temporary solution.\r\n@ezyang has requested the FeatureDropout in https://github.com/onnx/onnx/issues/113.\r\nWe will update the exporter as long as it is introduced into ONNX.\r\n\r\n", "created_at": "2017-10-17T15:34:48Z", "updated_at": "2018-11-23T15:35:20Z", "html_url": "https://github.com/pytorch/pytorch/pull/3100#discussion_r145168975", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3100", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/145168975"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3100#discussion_r145168975"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3100"}}, "body_html": "<p>Yes, people may export the model in train mode and use it in inference mode, and vise versa. The message can still warn users when training flag is set true during exporting.</p>\n<p>And this is just a temporary solution.<br>\n<a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> has requested the FeatureDropout in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"265080719\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/onnx/onnx/issues/113\" data-hovercard-type=\"issue\" data-hovercard-url=\"/onnx/onnx/issues/113/hovercard\" href=\"https://github.com/onnx/onnx/issues/113\">onnx/onnx#113</a>.<br>\nWe will update the exporter as long as it is introduced into ONNX.</p>", "body_text": "Yes, people may export the model in train mode and use it in inference mode, and vise versa. The message can still warn users when training flag is set true during exporting.\nAnd this is just a temporary solution.\n@ezyang has requested the FeatureDropout in onnx/onnx#113.\nWe will update the exporter as long as it is introduced into ONNX.", "in_reply_to_id": 145055631}