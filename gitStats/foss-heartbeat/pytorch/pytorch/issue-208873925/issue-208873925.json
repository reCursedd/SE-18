{"url": "https://api.github.com/repos/pytorch/pytorch/issues/795", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/795/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/795/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/795/events", "html_url": "https://github.com/pytorch/pytorch/issues/795", "id": 208873925, "node_id": "MDU6SXNzdWUyMDg4NzM5MjU=", "number": 795, "title": "F.log_softmax raises nan values", "user": {"login": "wkentaro", "id": 4310419, "node_id": "MDQ6VXNlcjQzMTA0MTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/4310419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wkentaro", "html_url": "https://github.com/wkentaro", "followers_url": "https://api.github.com/users/wkentaro/followers", "following_url": "https://api.github.com/users/wkentaro/following{/other_user}", "gists_url": "https://api.github.com/users/wkentaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/wkentaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wkentaro/subscriptions", "organizations_url": "https://api.github.com/users/wkentaro/orgs", "repos_url": "https://api.github.com/users/wkentaro/repos", "events_url": "https://api.github.com/users/wkentaro/events{/privacy}", "received_events_url": "https://api.github.com/users/wkentaro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-20T13:03:06Z", "updated_at": "2017-02-20T21:07:58Z", "closed_at": "2017-02-20T16:54:36Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I'm working on image classification task, and get nan in the loss after the cross_entropy.<br>\nBy analyzing with ipdb module, I got the <code>F.log_softmax</code> raises nan values:</p>\n<pre><code>ipdb&gt; np.isnan(input.data.cpu().numpy()).sum()\n0\nipdb&gt; np.isnan((F.log_softmax(input).data.cpu().numpy())).sum()\n7733\nipdb&gt; np.isnan((F.softmax(input).data.cpu().numpy())).sum()\n0\nipdb&gt; np.isnan(np.log(F.softmax(input).data.cpu().numpy())).sum()\n0\n</code></pre>\n<p>Is this one of the known issues like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"208519685\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/773\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/773/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/773\">#773</a>?<br>\nOr am I missing something?</p>", "body_text": "I'm working on image classification task, and get nan in the loss after the cross_entropy.\nBy analyzing with ipdb module, I got the F.log_softmax raises nan values:\nipdb> np.isnan(input.data.cpu().numpy()).sum()\n0\nipdb> np.isnan((F.log_softmax(input).data.cpu().numpy())).sum()\n7733\nipdb> np.isnan((F.softmax(input).data.cpu().numpy())).sum()\n0\nipdb> np.isnan(np.log(F.softmax(input).data.cpu().numpy())).sum()\n0\n\nIs this one of the known issues like #773?\nOr am I missing something?", "body": "I'm working on image classification task, and get nan in the loss after the cross_entropy.\r\nBy analyzing with ipdb module, I got the `F.log_softmax` raises nan values:\r\n\r\n```\r\nipdb> np.isnan(input.data.cpu().numpy()).sum()\r\n0\r\nipdb> np.isnan((F.log_softmax(input).data.cpu().numpy())).sum()\r\n7733\r\nipdb> np.isnan((F.softmax(input).data.cpu().numpy())).sum()\r\n0\r\nipdb> np.isnan(np.log(F.softmax(input).data.cpu().numpy())).sum()\r\n0\r\n```\r\n\r\nIs this one of the known issues like https://github.com/pytorch/pytorch/issues/773?\r\nOr am I missing something?"}