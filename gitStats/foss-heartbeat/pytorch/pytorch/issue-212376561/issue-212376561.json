{"url": "https://api.github.com/repos/pytorch/pytorch/issues/948", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/948/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/948/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/948/events", "html_url": "https://github.com/pytorch/pytorch/issues/948", "id": 212376561, "node_id": "MDU6SXNzdWUyMTIzNzY1NjE=", "number": 948, "title": "Simple building error in MacOS", "user": {"login": "Teaonly", "id": 2042911, "node_id": "MDQ6VXNlcjIwNDI5MTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2042911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Teaonly", "html_url": "https://github.com/Teaonly", "followers_url": "https://api.github.com/users/Teaonly/followers", "following_url": "https://api.github.com/users/Teaonly/following{/other_user}", "gists_url": "https://api.github.com/users/Teaonly/gists{/gist_id}", "starred_url": "https://api.github.com/users/Teaonly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Teaonly/subscriptions", "organizations_url": "https://api.github.com/users/Teaonly/orgs", "repos_url": "https://api.github.com/users/Teaonly/repos", "events_url": "https://api.github.com/users/Teaonly/events{/privacy}", "received_events_url": "https://api.github.com/users/Teaonly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-07T09:33:34Z", "updated_at": "2017-03-07T14:48:05Z", "closed_at": "2017-03-07T14:48:05Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Version \uff1a<br>\n<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/2b1cd919ce01db7b696ae557526c36e069ae970a/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/2b1cd919ce01db7b696ae557526c36e069ae970a\"><tt>2b1cd91</tt></a></p>\n<ol>\n<li>no include  in some cpp files:</li>\n</ol>\n<pre><code>torch/csrc/utils/tuple_parser.cpp:12:18: error: implicit instantiation of undefined template 'std::__1::basic_string&lt;char,\n      std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;'\n     std::string msg(\"missing required arguments (expected \");\n                 ^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\n      is declared here\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\n                                ^\ntorch/csrc/utils/tuple_parser.cpp:13:18: error: no member named 'to_string' in namespace 'std'\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\n            ~~~~~^\ntorch/csrc/utils/tuple_parser.cpp:13:55: error: no member named 'to_string' in namespace 'std'\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\n                                                 ~~~~~^\ntorch/csrc/utils/tuple_parser.cpp:76:15: error: implicit instantiation of undefined template 'std::__1::basic_string&lt;char,\n      std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;'\n  std::string msg(\"argument \");\n              ^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\n      is declared here\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\n                                ^\ntorch/csrc/utils/tuple_parser.cpp:77:15: error: no member named 'to_string' in namespace 'std'\n  msg += std::to_string(idx - 1);\n         ~~~~~^\n5 errors generated.\n</code></pre>\n<ol start=\"2\">\n<li>struct define order in engine.cpp<br>\nThe pre-defined struct is not passed by clang in macOS, so we should reorder them.</li>\n</ol>\n<pre><code>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:912:49: error: invalid\n      application of 'sizeof' to an incomplete type 'value_type' (aka 'torch::autograd::FunctionTask')\n    static const difference_type __block_size = sizeof(value_type) &lt; 256 ? 4096 / sizeof(value_type) : 16;\n                                                ^~~~~~~~~~~~~~~~~~\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:1161:15: note: in\n      instantiation of template class 'std::__1::__deque_base&lt;torch::autograd::FunctionTask,\n      std::__1::allocator&lt;torch::autograd::FunctionTask&gt; &gt;' requested here\n    : private __deque_base&lt;_Tp, _Allocator&gt;\n              ^\ntorch/csrc/autograd/engine.cpp:26:28: note: in instantiation of template class 'std::__1::deque&lt;torch::autograd::FunctionTask,\n      std::__1::allocator&lt;torch::autograd::FunctionTask&gt; &gt;' requested here\n  std::deque&lt;FunctionTask&gt; queue;\n                           ^\n/Users/teaonly/Workspace/github/ptdebug/pytorch/torch/csrc/autograd/engine.h:18:8: note: forward declaration of\n      'torch::autograd::FunctionTask'\nstruct FunctionTask;\n       ^\nIn file included from torch/csrc/autograd/engine.cpp:1:\n</code></pre>", "body_text": "Version \uff1a\n2b1cd91\n\nno include  in some cpp files:\n\ntorch/csrc/utils/tuple_parser.cpp:12:18: error: implicit instantiation of undefined template 'std::__1::basic_string<char,\n      std::__1::char_traits<char>, std::__1::allocator<char> >'\n     std::string msg(\"missing required arguments (expected \");\n                 ^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\n      is declared here\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\n                                ^\ntorch/csrc/utils/tuple_parser.cpp:13:18: error: no member named 'to_string' in namespace 'std'\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\n            ~~~~~^\ntorch/csrc/utils/tuple_parser.cpp:13:55: error: no member named 'to_string' in namespace 'std'\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\n                                                 ~~~~~^\ntorch/csrc/utils/tuple_parser.cpp:76:15: error: implicit instantiation of undefined template 'std::__1::basic_string<char,\n      std::__1::char_traits<char>, std::__1::allocator<char> >'\n  std::string msg(\"argument \");\n              ^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\n      is declared here\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\n                                ^\ntorch/csrc/utils/tuple_parser.cpp:77:15: error: no member named 'to_string' in namespace 'std'\n  msg += std::to_string(idx - 1);\n         ~~~~~^\n5 errors generated.\n\n\nstruct define order in engine.cpp\nThe pre-defined struct is not passed by clang in macOS, so we should reorder them.\n\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:912:49: error: invalid\n      application of 'sizeof' to an incomplete type 'value_type' (aka 'torch::autograd::FunctionTask')\n    static const difference_type __block_size = sizeof(value_type) < 256 ? 4096 / sizeof(value_type) : 16;\n                                                ^~~~~~~~~~~~~~~~~~\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:1161:15: note: in\n      instantiation of template class 'std::__1::__deque_base<torch::autograd::FunctionTask,\n      std::__1::allocator<torch::autograd::FunctionTask> >' requested here\n    : private __deque_base<_Tp, _Allocator>\n              ^\ntorch/csrc/autograd/engine.cpp:26:28: note: in instantiation of template class 'std::__1::deque<torch::autograd::FunctionTask,\n      std::__1::allocator<torch::autograd::FunctionTask> >' requested here\n  std::deque<FunctionTask> queue;\n                           ^\n/Users/teaonly/Workspace/github/ptdebug/pytorch/torch/csrc/autograd/engine.h:18:8: note: forward declaration of\n      'torch::autograd::FunctionTask'\nstruct FunctionTask;\n       ^\nIn file included from torch/csrc/autograd/engine.cpp:1:", "body": "Version \uff1a\r\n2b1cd919ce01db7b696ae557526c36e069ae970a \r\n\r\n1. no include <string> in some cpp files: \r\n\r\n```\r\ntorch/csrc/utils/tuple_parser.cpp:12:18: error: implicit instantiation of undefined template 'std::__1::basic_string<char,\r\n      std::__1::char_traits<char>, std::__1::allocator<char> >'\r\n     std::string msg(\"missing required arguments (expected \");\r\n                 ^\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\r\n      is declared here\r\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\r\n                                ^\r\ntorch/csrc/utils/tuple_parser.cpp:13:18: error: no member named 'to_string' in namespace 'std'\r\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\r\n            ~~~~~^\r\ntorch/csrc/utils/tuple_parser.cpp:13:55: error: no member named 'to_string' in namespace 'std'\r\n     msg += std::to_string(num_args) + \" got \" + std::to_string(size) + \")\";\r\n                                                 ~~~~~^\r\ntorch/csrc/utils/tuple_parser.cpp:76:15: error: implicit instantiation of undefined template 'std::__1::basic_string<char,\r\n      std::__1::char_traits<char>, std::__1::allocator<char> >'\r\n  std::string msg(\"argument \");\r\n              ^\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/iosfwd:193:33: note: template\r\n      is declared here\r\n    class _LIBCPP_TYPE_VIS_ONLY basic_string;\r\n                                ^\r\ntorch/csrc/utils/tuple_parser.cpp:77:15: error: no member named 'to_string' in namespace 'std'\r\n  msg += std::to_string(idx - 1);\r\n         ~~~~~^\r\n5 errors generated.\r\n```\r\n\r\n2. struct define order in engine.cpp\r\nThe pre-defined struct is not passed by clang in macOS, so we should reorder them.\r\n\r\n```\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:912:49: error: invalid\r\n      application of 'sizeof' to an incomplete type 'value_type' (aka 'torch::autograd::FunctionTask')\r\n    static const difference_type __block_size = sizeof(value_type) < 256 ? 4096 / sizeof(value_type) : 16;\r\n                                                ^~~~~~~~~~~~~~~~~~\r\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/deque:1161:15: note: in\r\n      instantiation of template class 'std::__1::__deque_base<torch::autograd::FunctionTask,\r\n      std::__1::allocator<torch::autograd::FunctionTask> >' requested here\r\n    : private __deque_base<_Tp, _Allocator>\r\n              ^\r\ntorch/csrc/autograd/engine.cpp:26:28: note: in instantiation of template class 'std::__1::deque<torch::autograd::FunctionTask,\r\n      std::__1::allocator<torch::autograd::FunctionTask> >' requested here\r\n  std::deque<FunctionTask> queue;\r\n                           ^\r\n/Users/teaonly/Workspace/github/ptdebug/pytorch/torch/csrc/autograd/engine.h:18:8: note: forward declaration of\r\n      'torch::autograd::FunctionTask'\r\nstruct FunctionTask;\r\n       ^\r\nIn file included from torch/csrc/autograd/engine.cpp:1:\r\n```\r\n\r\n\r\n"}