{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/148923273", "pull_request_review_id": 74247310, "id": 148923273, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODkyMzI3Mw==", "diff_hunk": "@@ -48,6 +51,9 @@ struct TensorBase {\n   TensorImpl * get() const {\n     return pImpl;\n   }\n+  bool defined() const {\n+    return pImpl != UndefinedTensor::singleton();", "path": "aten/src/ATen/TensorBase.h", "position": 44, "original_position": 28, "commit_id": "68dddd8d0fb7aa59d1dc9a468fb61bcc6454527a", "original_commit_id": "50dc0bcfee997bda4b497a97b4ea9c5a86f6105b", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "Now that undefined is always a valid tensor, can we simply skip or reorder the `defined` called as well? In general we might be able to remove some `defined()` now when we are only doing it to prevent a null dereference.", "created_at": "2017-11-04T05:04:16Z", "updated_at": "2018-11-23T15:36:01Z", "html_url": "https://github.com/pytorch/pytorch/pull/3482#discussion_r148923273", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3482", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/148923273"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3482#discussion_r148923273"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3482"}}, "body_html": "<p>Now that undefined is always a valid tensor, can we simply skip or reorder the <code>defined</code> called as well? In general we might be able to remove some <code>defined()</code> now when we are only doing it to prevent a null dereference.</p>", "body_text": "Now that undefined is always a valid tensor, can we simply skip or reorder the defined called as well? In general we might be able to remove some defined() now when we are only doing it to prevent a null dereference.", "in_reply_to_id": 148922482}