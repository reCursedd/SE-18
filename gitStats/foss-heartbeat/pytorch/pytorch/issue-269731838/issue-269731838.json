{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3375", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3375/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3375/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3375/events", "html_url": "https://github.com/pytorch/pytorch/issues/3375", "id": 269731838, "node_id": "MDU6SXNzdWUyNjk3MzE4Mzg=", "number": 3375, "title": "Fails to build with CUDA 7.5.18 on Debian Jessie", "user": {"login": "eLvErDe", "id": 1586757, "node_id": "MDQ6VXNlcjE1ODY3NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1586757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eLvErDe", "html_url": "https://github.com/eLvErDe", "followers_url": "https://api.github.com/users/eLvErDe/followers", "following_url": "https://api.github.com/users/eLvErDe/following{/other_user}", "gists_url": "https://api.github.com/users/eLvErDe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eLvErDe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eLvErDe/subscriptions", "organizations_url": "https://api.github.com/users/eLvErDe/orgs", "repos_url": "https://api.github.com/users/eLvErDe/repos", "events_url": "https://api.github.com/users/eLvErDe/events{/privacy}", "received_events_url": "https://api.github.com/users/eLvErDe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-30T19:52:03Z", "updated_at": "2017-10-30T19:52:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Hi,</p>\n<p>Build fails with the following errors:</p>\n<pre><code>/usr/bin/cmake -D input_file:FILEPATH=/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.NVCC-depend -D output_file:FILEPATH=/build/pytorch-0.2.0/debian/build/c\nuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.depend.tmp -D verbose=1 -P /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/cmake/FindCUDA/FindCUDA/make2cmake.cmake\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(18): error: class \"thrust::detail::execute_with_allocator&lt;THCThrustAllocator, thrust::system::cuda::detail::execution_policy&gt;\" has no member \"on\"\n\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceChar.cu.o.depend.tmp\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(16): error: no instance of overloaded function \"thrust::transform\" matches the argument list\n            argument types are: (&lt;error-type&gt;, float *, float *, half *, __float2halfOp)\n\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceByte.cu.o.depend.tmp\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(29): error: class \"thrust::detail::execute_with_allocator&lt;THCThrustAllocator, thrust::system::cuda::detail::execution_policy&gt;\" has no member \"on\"\n\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(27): error: no instance of overloaded function \"thrust::transform\" matches the argument list\n            argument types are: (&lt;error-type&gt;, half *, half *, float *, __half2floatOp)\n</code></pre>\n<p>That's really weird because same build works fine on Ubuntu Xenial which also comes with CUDA 7.5.18 so I'm not sure what wrong.</p>\n<p>Here's Debian Jessie complete (failed) build log:<br>\n<a href=\"https://github.com/pytorch/pytorch/files/1428534/cuda7.5-build-failure-debian-jessie.txt\">cuda7.5-build-failure-debian-jessie.txt</a></p>\n<p>And here's the one from Ubuntu Xenail that works (interrupted at the end):<br>\n<a href=\"https://github.com/pytorch/pytorch/files/1428535/cuda7.5-build-success-ubuntu-xenial.txt\">cuda7.5-build-success-ubuntu-xenial.txt</a></p>\n<p>Thanks in advance,</p>\n<p>I'll stay available to do any test you need to get it fixed.</p>", "body_text": "Hi,\nBuild fails with the following errors:\n/usr/bin/cmake -D input_file:FILEPATH=/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.NVCC-depend -D output_file:FILEPATH=/build/pytorch-0.2.0/debian/build/c\nuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.depend.tmp -D verbose=1 -P /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/cmake/FindCUDA/FindCUDA/make2cmake.cmake\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(18): error: class \"thrust::detail::execute_with_allocator<THCThrustAllocator, thrust::system::cuda::detail::execution_policy>\" has no member \"on\"\n\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceChar.cu.o.depend.tmp\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(16): error: no instance of overloaded function \"thrust::transform\" matches the argument list\n            argument types are: (<error-type>, float *, float *, half *, __float2halfOp)\n\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceByte.cu.o.depend.tmp\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(29): error: class \"thrust::detail::execute_with_allocator<THCThrustAllocator, thrust::system::cuda::detail::execution_policy>\" has no member \"on\"\n\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(27): error: no instance of overloaded function \"thrust::transform\" matches the argument list\n            argument types are: (<error-type>, half *, half *, float *, __half2floatOp)\n\nThat's really weird because same build works fine on Ubuntu Xenial which also comes with CUDA 7.5.18 so I'm not sure what wrong.\nHere's Debian Jessie complete (failed) build log:\ncuda7.5-build-failure-debian-jessie.txt\nAnd here's the one from Ubuntu Xenail that works (interrupted at the end):\ncuda7.5-build-success-ubuntu-xenial.txt\nThanks in advance,\nI'll stay available to do any test you need to get it fixed.", "body": "Hi,\r\n\r\nBuild fails with the following errors:\r\n\r\n```\r\n/usr/bin/cmake -D input_file:FILEPATH=/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.NVCC-depend -D output_file:FILEPATH=/build/pytorch-0.2.0/debian/build/c\r\nuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir//THC_generated_THCTensorMathReduce.cu.o.depend.tmp -D verbose=1 -P /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/cmake/FindCUDA/FindCUDA/make2cmake.cmake\r\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(18): error: class \"thrust::detail::execute_with_allocator<THCThrustAllocator, thrust::system::cuda::detail::execution_policy>\" has no member \"on\"\r\n\r\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceChar.cu.o.depend.tmp\r\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(16): error: no instance of overloaded function \"thrust::transform\" matches the argument list\r\n            argument types are: (<error-type>, float *, float *, half *, __float2halfOp)\r\n\r\n-- Generating temporary cmake readable file: /build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/build/THC/CMakeFiles/THC.dir/generated/THC_generated_THCTensorMathReduceByte.cu.o.depend.tmp\r\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(29): error: class \"thrust::detail::execute_with_allocator<THCThrustAllocator, thrust::system::cuda::detail::execution_policy>\" has no member \"on\"\r\n\r\n/build/pytorch-0.2.0/debian/build/cuda-avx-sse42/torch/lib/THC/THCHalf.cu(27): error: no instance of overloaded function \"thrust::transform\" matches the argument list\r\n            argument types are: (<error-type>, half *, half *, float *, __half2floatOp)\r\n```\r\n\r\nThat's really weird because same build works fine on Ubuntu Xenial which also comes with CUDA 7.5.18 so I'm not sure what wrong.\r\n\r\nHere's Debian Jessie complete (failed) build log:\r\n[cuda7.5-build-failure-debian-jessie.txt](https://github.com/pytorch/pytorch/files/1428534/cuda7.5-build-failure-debian-jessie.txt)\r\n\r\nAnd here's the one from Ubuntu Xenail that works (interrupted at the end):\r\n[cuda7.5-build-success-ubuntu-xenial.txt](https://github.com/pytorch/pytorch/files/1428535/cuda7.5-build-success-ubuntu-xenial.txt)\r\n\r\nThanks in advance,\r\n\r\nI'll stay available to do any test you need to get it fixed."}