{"url": "https://api.github.com/repos/pytorch/pytorch/issues/2155", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/2155/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/2155/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/2155/events", "html_url": "https://github.com/pytorch/pytorch/issues/2155", "id": 244199826, "node_id": "MDU6SXNzdWUyNDQxOTk4MjY=", "number": 2155, "title": "PyTorch breaks Matplotlib", "user": {"login": "hongzimao", "id": 5906100, "node_id": "MDQ6VXNlcjU5MDYxMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5906100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hongzimao", "html_url": "https://github.com/hongzimao", "followers_url": "https://api.github.com/users/hongzimao/followers", "following_url": "https://api.github.com/users/hongzimao/following{/other_user}", "gists_url": "https://api.github.com/users/hongzimao/gists{/gist_id}", "starred_url": "https://api.github.com/users/hongzimao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hongzimao/subscriptions", "organizations_url": "https://api.github.com/users/hongzimao/orgs", "repos_url": "https://api.github.com/users/hongzimao/repos", "events_url": "https://api.github.com/users/hongzimao/events{/privacy}", "received_events_url": "https://api.github.com/users/hongzimao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-07-19T23:05:05Z", "updated_at": "2018-03-05T13:34:56Z", "closed_at": "2017-08-31T16:46:31Z", "author_association": "NONE", "body_html": "<pre><code>import matplotlib\nmatplotlib.use('Agg')\nimport matplotlib.pyplot as plt\nimport torch\n\nfig = plt.figure()\nplt.plot([1,2])\nfig.savefig('test.pdf')\n</code></pre>\n<p>Running this simple python code will have error <code>*** Error in 'python': free(): invalid pointer: 0x00007f5ba8129ac0 ***</code> (omit the backtrace output). It breaks at <code>fig.savefig('test.pdf')</code>.</p>\n<p>OS Ubuntu 16.04.2 LTS, Python version 2.7.12, PyTorch version 0.1.12_2, Matplotlib version 2.0.2</p>", "body_text": "import matplotlib\nmatplotlib.use('Agg')\nimport matplotlib.pyplot as plt\nimport torch\n\nfig = plt.figure()\nplt.plot([1,2])\nfig.savefig('test.pdf')\n\nRunning this simple python code will have error *** Error in 'python': free(): invalid pointer: 0x00007f5ba8129ac0 *** (omit the backtrace output). It breaks at fig.savefig('test.pdf').\nOS Ubuntu 16.04.2 LTS, Python version 2.7.12, PyTorch version 0.1.12_2, Matplotlib version 2.0.2", "body": "```\r\nimport matplotlib\r\nmatplotlib.use('Agg')\r\nimport matplotlib.pyplot as plt\r\nimport torch\r\n\r\nfig = plt.figure()\r\nplt.plot([1,2])\r\nfig.savefig('test.pdf')\r\n```\r\n\r\nRunning this simple python code will have error `*** Error in 'python': free(): invalid pointer: 0x00007f5ba8129ac0 ***` (omit the backtrace output). It breaks at `fig.savefig('test.pdf')`. \r\n\r\nOS Ubuntu 16.04.2 LTS, Python version 2.7.12, PyTorch version 0.1.12_2, Matplotlib version 2.0.2\r\n\r\n"}