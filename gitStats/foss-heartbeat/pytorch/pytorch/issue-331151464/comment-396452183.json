{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/396452183", "html_url": "https://github.com/pytorch/pytorch/issues/8329#issuecomment-396452183", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8329", "id": 396452183, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjQ1MjE4Mw==", "user": {"login": "HuangJunJie2017", "id": 31001081, "node_id": "MDQ6VXNlcjMxMDAxMDgx", "avatar_url": "https://avatars3.githubusercontent.com/u/31001081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HuangJunJie2017", "html_url": "https://github.com/HuangJunJie2017", "followers_url": "https://api.github.com/users/HuangJunJie2017/followers", "following_url": "https://api.github.com/users/HuangJunJie2017/following{/other_user}", "gists_url": "https://api.github.com/users/HuangJunJie2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/HuangJunJie2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HuangJunJie2017/subscriptions", "organizations_url": "https://api.github.com/users/HuangJunJie2017/orgs", "repos_url": "https://api.github.com/users/HuangJunJie2017/repos", "events_url": "https://api.github.com/users/HuangJunJie2017/events{/privacy}", "received_events_url": "https://api.github.com/users/HuangJunJie2017/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-12T03:12:50Z", "updated_at": "2018-06-12T03:16:31Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=9998726\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/peterjc123\">@peterjc123</a> i am new to this, i don't know how to specify the include_dirs, i directly modify the  THCGeneral.h file : <code>#include \"%CUDA_PATH%/cuda.h\"</code></p>\n<p>however there are new errors(syntax error'\u8bed\u6cd5\u9519\u8bef'):</p>\n<p>`(python3) C:\\Users\\hjj&gt;python D:\\pytorch_custom_lib\\test_relu\\build.py<br>\ngenerating C:\\Users\\hjj\\AppData\\Local\\Temp\\tmp7rxbwo82_ext_lib.c<br>\nsetting the current directory to 'C:\\Users\\hjj\\AppData\\Local\\Temp\\tmp7rxbwo82'<br>\nrunning build_ext<br>\nbuilding '_ext_lib' extension<br>\ncreating Release<br>\ncreating Release\\pytorch_custom_lib<br>\ncreating Release\\pytorch_custom_lib\\test_relu<br>\ncreating Release\\pytorch_custom_lib\\test_relu\\src<br>\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi....\\lib\\include -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi....\\lib\\include\\TH -IC:\\anaconda2\\envs\\python3\\include -IC:\\anaconda2\\envs\\python3\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\winrt\" /Tc_ext_lib.c /Fo.\\Release_ext_lib.obj -std=c99<br>\ncl: \u547d\u4ee4\u884c warning D9002 :\u5ffd\u7565\u672a\u77e5\u9009\u9879\u201c-std=c99\u201d<br>\n_ext_lib.c<br>\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(494): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(494): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(495): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(543): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(544): error C2054: \u5728\u201cx1\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d<br>\n_ext_lib.c(551): error C2297: \u201c<em>\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint <em>\u201d\u7c7b\u578b<br>\n_ext_lib.c(552): error C2297: \u201c</em>\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint <em>\u201d\u7c7b\u578b<br>\n_ext_lib.c(566): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(577): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(585): warning C4013: \u201cmy_lib_add_backward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int<br>\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c</em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c<em>\u201d\u7684\u524d\u9762)<br>\n_ext_lib.c(596): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(597): error C2054: \u5728\u201cx2\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d<br>\n_ext_lib.c(604): error C2297: \u201c</em>\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint <em>\u201d\u7c7b\u578b<br>\n_ext_lib.c(605): error C2297: \u201c</em>\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint <em>\u201d\u7c7b\u578b<br>\n_ext_lib.c(606): error C2297: \u201c</em>\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b<br>\n_ext_lib.c(621): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(632): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(643): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d<br>\n_ext_lib.c(651): warning C4013: \u201cmy_lib_add_forward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int<br>\n_ext_lib.c(663): error C2065: \u201c_cffi_d_my_lib_add_backward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26<br>\n_ext_lib.c(663): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d<br>\n_ext_lib.c(664): error C2065: \u201c_cffi_d_my_lib_add_forward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26<br>\n_ext_lib.c(664): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d<br>\n_ext_lib.c(663): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf<br>\n_ext_lib.c(664): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf<br>\nTraceback (most recent call last):<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 423, in compile<br>\nself.spawn(args)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 542, in spawn<br>\nreturn super().spawn(cmd)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\ccompiler.py\", line 909, in spawn<br>\nspawn(cmd, dry_run=self.dry_run)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 38, in spawn<br>\n_spawn_nt(cmd, search_path, dry_run=dry_run)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 81, in _spawn_nt<br>\n\"command %r failed with exit status %d\" % (cmd, rc))<br>\ndistutils.errors.DistutilsExecError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 51, in _build<br>\ndist.run_command('build_ext')<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\dist.py\", line 974, in run_command<br>\ncmd_obj.run()<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 75, in run<br>\n_build_ext.run(self)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 186, in run<br>\n_build_ext.build_ext.run(self)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 339, in run<br>\nself.build_extensions()<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 194, in build_extensions<br>\nself.build_extension(ext)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 196, in build_extension<br>\n_build_ext.build_extension(self, ext)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 533, in build_extension<br>\ndepends=ext.depends)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 425, in compile<br>\nraise CompileError(msg)<br>\ndistutils.errors.CompileError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\nFile \"D:\\pytorch_custom_lib\\test_relu\\build.py\", line 23, in <br>\nffi.build()<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi_<em>init</em>_.py\", line 184, in build<br>\n<em>build_extension(ffi, cffi_wrapper_name, target_dir, verbose)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi_<em>init</em></em>.py\", line 108, in _build_extension<br>\noutfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\api.py\", line 690, in compile<br>\ncompiler_verbose=verbose, debug=debug, **kwds)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\recompiler.py\", line 1515, in recompile<br>\ncompiler_verbose, debug)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 22, in compile<br>\noutputfilename = _build(tmpdir, ext, compiler_verbose, debug)<br>\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 58, in _build<br>\nraise VerificationError('%s: %s' % (e.<strong>class</strong>.<strong>name</strong>, e))<br>\ncffi.error.VerificationError: CompileError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2`</p>", "body_text": "@peterjc123 i am new to this, i don't know how to specify the include_dirs, i directly modify the  THCGeneral.h file : #include \"%CUDA_PATH%/cuda.h\"\nhowever there are new errors(syntax error'\u8bed\u6cd5\u9519\u8bef'):\n`(python3) C:\\Users\\hjj>python D:\\pytorch_custom_lib\\test_relu\\build.py\ngenerating C:\\Users\\hjj\\AppData\\Local\\Temp\\tmp7rxbwo82_ext_lib.c\nsetting the current directory to 'C:\\Users\\hjj\\AppData\\Local\\Temp\\tmp7rxbwo82'\nrunning build_ext\nbuilding '_ext_lib' extension\ncreating Release\ncreating Release\\pytorch_custom_lib\ncreating Release\\pytorch_custom_lib\\test_relu\ncreating Release\\pytorch_custom_lib\\test_relu\\src\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi....\\lib\\include -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi....\\lib\\include\\TH -IC:\\anaconda2\\envs\\python3\\include -IC:\\anaconda2\\envs\\python3\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\winrt\" /Tc_ext_lib.c /Fo.\\Release_ext_lib.obj -std=c99\ncl: \u547d\u4ee4\u884c warning D9002 :\u5ffd\u7565\u672a\u77e5\u9009\u9879\u201c-std=c99\u201d\n_ext_lib.c\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(494): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(494): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(495): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(543): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(544): error C2054: \u5728\u201cx1\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d\n_ext_lib.c(551): error C2297: \u201c\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint \u201d\u7c7b\u578b\n_ext_lib.c(552): error C2297: \u201c\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint \u201d\u7c7b\u578b\n_ext_lib.c(566): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(577): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(585): warning C4013: \u201cmy_lib_add_backward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c\u201d\u7684\u524d\u9762)\n_ext_lib.c(596): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(597): error C2054: \u5728\u201cx2\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d\n_ext_lib.c(604): error C2297: \u201c\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint \u201d\u7c7b\u578b\n_ext_lib.c(605): error C2297: \u201c\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint \u201d\u7c7b\u578b\n_ext_lib.c(606): error C2297: \u201c\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\n_ext_lib.c(621): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(632): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(643): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\n_ext_lib.c(651): warning C4013: \u201cmy_lib_add_forward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int\n_ext_lib.c(663): error C2065: \u201c_cffi_d_my_lib_add_backward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\n_ext_lib.c(663): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d\n_ext_lib.c(664): error C2065: \u201c_cffi_d_my_lib_add_forward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\n_ext_lib.c(664): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d\n_ext_lib.c(663): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf\n_ext_lib.c(664): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf\nTraceback (most recent call last):\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 423, in compile\nself.spawn(args)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 542, in spawn\nreturn super().spawn(cmd)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\ccompiler.py\", line 909, in spawn\nspawn(cmd, dry_run=self.dry_run)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 38, in spawn\n_spawn_nt(cmd, search_path, dry_run=dry_run)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 81, in _spawn_nt\n\"command %r failed with exit status %d\" % (cmd, rc))\ndistutils.errors.DistutilsExecError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 51, in _build\ndist.run_command('build_ext')\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\dist.py\", line 974, in run_command\ncmd_obj.run()\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 75, in run\n_build_ext.run(self)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 186, in run\n_build_ext.build_ext.run(self)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 339, in run\nself.build_extensions()\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 194, in build_extensions\nself.build_extension(ext)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 196, in build_extension\n_build_ext.build_extension(self, ext)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 533, in build_extension\ndepends=ext.depends)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\distutils_msvccompiler.py\", line 425, in compile\nraise CompileError(msg)\ndistutils.errors.CompileError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"D:\\pytorch_custom_lib\\test_relu\\build.py\", line 23, in \nffi.build()\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi_init_.py\", line 184, in build\nbuild_extension(ffi, cffi_wrapper_name, target_dir, verbose)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi_init.py\", line 108, in _build_extension\noutfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\api.py\", line 690, in compile\ncompiler_verbose=verbose, debug=debug, **kwds)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\recompiler.py\", line 1515, in recompile\ncompiler_verbose, debug)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 22, in compile\noutputfilename = _build(tmpdir, ext, compiler_verbose, debug)\nFile \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 58, in _build\nraise VerificationError('%s: %s' % (e.class.name, e))\ncffi.error.VerificationError: CompileError: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2`", "body": "@peterjc123 i am new to this, i don't know how to specify the include_dirs, i directly modify the  THCGeneral.h file : `#include \"%CUDA_PATH%/cuda.h\"` \r\n\r\nhowever there are new errors(syntax error'\u8bed\u6cd5\u9519\u8bef'):\r\n\r\n`(python3) C:\\Users\\hjj>python D:\\pytorch_custom_lib\\test_relu\\build.py\r\ngenerating C:\\Users\\hjj\\AppData\\Local\\Temp\\tmp7rxbwo82\\_ext_lib.c\r\nsetting the current directory to 'C:\\\\Users\\\\hjj\\\\AppData\\\\Local\\\\Temp\\\\tmp7rxbwo82'\r\nrunning build_ext\r\nbuilding '_ext_lib' extension\r\ncreating Release\r\ncreating Release\\pytorch_custom_lib\r\ncreating Release\\pytorch_custom_lib\\test_relu\r\ncreating Release\\pytorch_custom_lib\\test_relu\\src\r\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi\\..\\..\\lib\\include -IC:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi\\..\\..\\lib\\include\\TH -IC:\\anaconda2\\envs\\python3\\include -IC:\\anaconda2\\envs\\python3\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.10586.0\\winrt\" /Tc_ext_lib.c /Fo.\\Release\\_ext_lib.obj -std=c99\r\ncl: \u547d\u4ee4\u884c warning D9002 :\u5ffd\u7565\u672a\u77e5\u9009\u9879\u201c-std=c99\u201d\r\n_ext_lib.c\r\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(493): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(494): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(494): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(495): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(495): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(543): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(543): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(544): error C2054: \u5728\u201cx1\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d\r\n_ext_lib.c(551): error C2297: \u201c*\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\r\n_ext_lib.c(552): error C2297: \u201c*\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\r\n_ext_lib.c(566): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(577): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(585): warning C4013: \u201cmy_lib_add_backward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int\r\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c)\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c{\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(596): error C2143: \u8bed\u6cd5\u9519\u8bef: \u7f3a\u5c11\u201c;\u201d(\u5728\u201c*\u201d\u7684\u524d\u9762)\r\n_ext_lib.c(596): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(597): error C2054: \u5728\u201cx2\u201d\u4e4b\u540e\u5e94\u8f93\u5165\u201c(\u201d\r\n_ext_lib.c(604): error C2297: \u201c*\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\r\n_ext_lib.c(605): error C2297: \u201c*\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\r\n_ext_lib.c(606): error C2297: \u201c*\u201d: \u975e\u6cd5\uff0c\u53f3\u64cd\u4f5c\u6570\u5305\u542b\u201cint *\u201d\u7c7b\u578b\r\n_ext_lib.c(621): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(632): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(643): error C2059: \u8bed\u6cd5\u9519\u8bef:\u201c)\u201d\r\n_ext_lib.c(651): warning C4013: \u201cmy_lib_add_forward_cuda\u201d\u672a\u5b9a\u4e49\uff1b\u5047\u8bbe\u5916\u90e8\u8fd4\u56de int\r\n_ext_lib.c(663): error C2065: \u201c_cffi_d_my_lib_add_backward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\r\n_ext_lib.c(663): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d\r\n_ext_lib.c(664): error C2065: \u201c_cffi_d_my_lib_add_forward_cuda\u201d: \u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\r\n_ext_lib.c(664): warning C4312: \u201c\u7c7b\u578b\u8f6c\u6362\u201d: \u4ece\u201cint\u201d\u8f6c\u6362\u5230\u66f4\u5927\u7684\u201cvoid *\u201d\r\n_ext_lib.c(663): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf\r\n_ext_lib.c(664): error C2099: \u521d\u59cb\u503c\u8bbe\u5b9a\u9879\u4e0d\u662f\u5e38\u91cf\r\nTraceback (most recent call last):\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\_msvccompiler.py\", line 423, in compile\r\n    self.spawn(args)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\_msvccompiler.py\", line 542, in spawn\r\n    return super().spawn(cmd)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\ccompiler.py\", line 909, in spawn\r\n    spawn(cmd, dry_run=self.dry_run)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 38, in spawn\r\n    _spawn_nt(cmd, search_path, dry_run=dry_run)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\spawn.py\", line 81, in _spawn_nt\r\n    \"command %r failed with exit status %d\" % (cmd, rc))\r\ndistutils.errors.DistutilsExecError: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 51, in _build\r\n    dist.run_command('build_ext')\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 75, in run\r\n    _build_ext.run(self)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 186, in run\r\n    _build_ext.build_ext.run(self)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 339, in run\r\n    self.build_extensions()\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\Cython\\Distutils\\old_build_ext.py\", line 194, in build_extensions\r\n    self.build_extension(ext)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\setuptools\\command\\build_ext.py\", line 196, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\command\\build_ext.py\", line 533, in build_extension\r\n    depends=ext.depends)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\distutils\\_msvccompiler.py\", line 425, in compile\r\n    raise CompileError(msg)\r\ndistutils.errors.CompileError: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\pytorch_custom_lib\\test_relu\\build.py\", line 23, in <module>\r\n    ffi.build()\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi\\__init__.py\", line 184, in build\r\n    _build_extension(ffi, cffi_wrapper_name, target_dir, verbose)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\torch\\utils\\ffi\\__init__.py\", line 108, in _build_extension\r\n    outfile = ffi.compile(tmpdir=tmpdir, verbose=verbose, target=libname)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\api.py\", line 690, in compile\r\n    compiler_verbose=verbose, debug=debug, **kwds)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\recompiler.py\", line 1515, in recompile\r\n    compiler_verbose, debug)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 22, in compile\r\n    outputfilename = _build(tmpdir, ext, compiler_verbose, debug)\r\n  File \"C:\\anaconda2\\envs\\python3\\lib\\site-packages\\cffi\\ffiplatform.py\", line 58, in _build\r\n    raise VerificationError('%s: %s' % (e.__class__.__name__, e))\r\ncffi.error.VerificationError: CompileError: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\x86_amd64\\\\cl.exe' failed with exit status 2`"}