{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417880727", "html_url": "https://github.com/pytorch/pytorch/issues/10442#issuecomment-417880727", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10442", "id": 417880727, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzg4MDcyNw==", "user": {"login": "ghltshubh", "id": 16928813, "node_id": "MDQ6VXNlcjE2OTI4ODEz", "avatar_url": "https://avatars3.githubusercontent.com/u/16928813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghltshubh", "html_url": "https://github.com/ghltshubh", "followers_url": "https://api.github.com/users/ghltshubh/followers", "following_url": "https://api.github.com/users/ghltshubh/following{/other_user}", "gists_url": "https://api.github.com/users/ghltshubh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghltshubh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghltshubh/subscriptions", "organizations_url": "https://api.github.com/users/ghltshubh/orgs", "repos_url": "https://api.github.com/users/ghltshubh/repos", "events_url": "https://api.github.com/users/ghltshubh/events{/privacy}", "received_events_url": "https://api.github.com/users/ghltshubh/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-01T19:08:02Z", "updated_at": "2018-09-01T23:19:03Z", "author_association": "NONE", "body_html": "<p>Nope it ends up with the same. The error stack trace:</p>\n<pre><code>error: invalid value 'extended' in '-std=extended'\nError while processing /tmp/tmpxft_0000cb55_00000000-1.cpp.\nCMake Error at c10d_cuda_test_generated_CUDATest.cu.o.Release.cmake:219 (message):\n  Error generating\n  /autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/build/c10d/test/CMakeFiles/c10d_cuda_test.dir//./c10d_cuda_test_generated_CUDATest.cu.o\n\n\nmake[2]: *** [test/CMakeFiles/c10d_cuda_test.dir/c10d_cuda_test_generated_CUDATest.cu.o] Error 1\nmake[1]: *** [test/CMakeFiles/c10d_cuda_test.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n[ 54%] Linking CXX executable ProcessGroupMPITest\n[ 62%] Linking CXX executable allreduce\n[ 62%] Linking CXX executable FileStoreTest\n[ 62%] Linking CXX executable TCPStoreTest\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `c10::intrusive_ptr&lt;at::TensorImpl, at::UndefinedTensor&gt;::retain_()':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0xed88): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `at::DeviceGuard::set_index(int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0x107d8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `at::DeviceGuard::DeviceGuard(at::Device)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x14c8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `float* at::Tensor::data&lt;float&gt;() const':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x1724): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x17ec): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x88d8): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)' follow\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `TCPStoreTest'\n/usr/bin/ld: link errors found, deleting executable `FileStoreTest'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `ProcessGroupMPITest'\n/usr/bin/sha1sum: TCPStoreTest: No such file or directory\n/usr/bin/sha1sum: FileStoreTest: No such file or directory\n/usr/bin/sha1sum: ProcessGroupMPITest: No such file or directory\nmake[2]: *** [test/ProcessGroupMPITest] Error 1\nmake[1]: *** [test/CMakeFiles/ProcessGroupMPITest.dir/all] Error 2\nmake[2]: *** [test/FileStoreTest] Error 1\nmake[1]: *** [test/CMakeFiles/FileStoreTest.dir/all] Error 2\nmake[2]: *** [test/TCPStoreTest] Error 1\nmake[1]: *** [test/CMakeFiles/TCPStoreTest.dir/all] Error 2\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::Context::getNonVariableType(at::Backend, at::ScalarType)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1668): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1714): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::TensorOptions::TensorOptions(at::Type const&amp;, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x197c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1a00): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1b58): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\nCMakeFiles/allreduce.dir/allreduce.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1d18): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)' follow\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll&lt;float&gt;::BroadcastOneToAll(std::shared_ptr&lt;gloo::Context&gt; const&amp;, std::vector&lt;float*, std::allocator&lt;float*&gt; &gt; const&amp;, unsigned long, int, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f1b0): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f294): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f378): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f45c): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll&lt;double&gt;::BroadcastOneToAll(std::shared_ptr&lt;gloo::Context&gt; const&amp;, std::vector&lt;double*, std::allocator&lt;double*&gt; &gt; const&amp;, unsigned long, int, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fd50): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n../libc10d.a(ProcessGroupGloo.cpp.o):/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fe34): more undefined references to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)' follow\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `c10::intrusive_ptr&lt;at::TensorImpl, at::UndefinedTensor&gt;::retain_()':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x2b18c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n../libc10d.a(CUDAUtils.cpp.o): In function `at::DeviceGuard::set_index(int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/CUDAUtils.cpp:(.text+0x898): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `allreduce'\n/usr/bin/sha1sum: allreduce: No such file or directory\nmake[2]: *** [example/allreduce] Error 1\nmake[1]: *** [example/CMakeFiles/allreduce.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo THD c10d'\n</code></pre>", "body_text": "Nope it ends up with the same. The error stack trace:\nerror: invalid value 'extended' in '-std=extended'\nError while processing /tmp/tmpxft_0000cb55_00000000-1.cpp.\nCMake Error at c10d_cuda_test_generated_CUDATest.cu.o.Release.cmake:219 (message):\n  Error generating\n  /autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/build/c10d/test/CMakeFiles/c10d_cuda_test.dir//./c10d_cuda_test_generated_CUDATest.cu.o\n\n\nmake[2]: *** [test/CMakeFiles/c10d_cuda_test.dir/c10d_cuda_test_generated_CUDATest.cu.o] Error 1\nmake[1]: *** [test/CMakeFiles/c10d_cuda_test.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n[ 54%] Linking CXX executable ProcessGroupMPITest\n[ 62%] Linking CXX executable allreduce\n[ 62%] Linking CXX executable FileStoreTest\n[ 62%] Linking CXX executable TCPStoreTest\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `c10::intrusive_ptr<at::TensorImpl, at::UndefinedTensor>::retain_()':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0xed88): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `at::DeviceGuard::set_index(int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0x107d8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `at::DeviceGuard::DeviceGuard(at::Device)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x14c8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `float* at::Tensor::data<float>() const':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x1724): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x17ec): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x88d8): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `TCPStoreTest'\n/usr/bin/ld: link errors found, deleting executable `FileStoreTest'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `ProcessGroupMPITest'\n/usr/bin/sha1sum: TCPStoreTest: No such file or directory\n/usr/bin/sha1sum: FileStoreTest: No such file or directory\n/usr/bin/sha1sum: ProcessGroupMPITest: No such file or directory\nmake[2]: *** [test/ProcessGroupMPITest] Error 1\nmake[1]: *** [test/CMakeFiles/ProcessGroupMPITest.dir/all] Error 2\nmake[2]: *** [test/FileStoreTest] Error 1\nmake[1]: *** [test/CMakeFiles/FileStoreTest.dir/all] Error 2\nmake[2]: *** [test/TCPStoreTest] Error 1\nmake[1]: *** [test/CMakeFiles/TCPStoreTest.dir/all] Error 2\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::Context::getNonVariableType(at::Backend, at::ScalarType)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1668): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1714): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::TensorOptions::TensorOptions(at::Type const&, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x197c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1a00): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1b58): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\nCMakeFiles/allreduce.dir/allreduce.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1d18): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll<float>::BroadcastOneToAll(std::shared_ptr<gloo::Context> const&, std::vector<float*, std::allocator<float*> > const&, unsigned long, int, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f1b0): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f294): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f378): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f45c): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll<double>::BroadcastOneToAll(std::shared_ptr<gloo::Context> const&, std::vector<double*, std::allocator<double*> > const&, unsigned long, int, int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fd50): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n../libc10d.a(ProcessGroupGloo.cpp.o):/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fe34): more undefined references to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `c10::intrusive_ptr<at::TensorImpl, at::UndefinedTensor>::retain_()':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x2b18c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n../libc10d.a(CUDAUtils.cpp.o): In function `at::DeviceGuard::set_index(int)':\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/CUDAUtils.cpp:(.text+0x898): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\n/usr/bin/ld: link errors found, deleting executable `allreduce'\n/usr/bin/sha1sum: allreduce: No such file or directory\nmake[2]: *** [example/allreduce] Error 1\nmake[1]: *** [example/CMakeFiles/allreduce.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo THD c10d'", "body": "Nope it ends up with the same. The error stack trace:\r\n```\r\nerror: invalid value 'extended' in '-std=extended'\r\nError while processing /tmp/tmpxft_0000cb55_00000000-1.cpp.\r\nCMake Error at c10d_cuda_test_generated_CUDATest.cu.o.Release.cmake:219 (message):\r\n  Error generating\r\n  /autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/build/c10d/test/CMakeFiles/c10d_cuda_test.dir//./c10d_cuda_test_generated_CUDATest.cu.o\r\n\r\n\r\nmake[2]: *** [test/CMakeFiles/c10d_cuda_test.dir/c10d_cuda_test_generated_CUDATest.cu.o] Error 1\r\nmake[1]: *** [test/CMakeFiles/c10d_cuda_test.dir/all] Error 2\r\nmake[1]: *** Waiting for unfinished jobs....\r\n[ 54%] Linking CXX executable ProcessGroupMPITest\r\n[ 62%] Linking CXX executable allreduce\r\n[ 62%] Linking CXX executable FileStoreTest\r\n[ 62%] Linking CXX executable TCPStoreTest\r\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\r\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\r\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\r\n/usr/bin/ld: warning: libgfortran.so.4, needed by /autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0, not found (try using -rpath or -rpath-link)\r\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `c10::intrusive_ptr<at::TensorImpl, at::UndefinedTensor>::retain_()':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0xed88): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n../libc10d.a(ProcessGroupMPI.cpp.o): In function `at::DeviceGuard::set_index(int)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupMPI.cpp:(.text+0x107d8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `at::DeviceGuard::DeviceGuard(at::Device)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x14c8): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o: In function `float* at::Tensor::data<float>() const':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x1724): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x17ec): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\nCMakeFiles/ProcessGroupMPITest.dir/ProcessGroupMPITest.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/test/ProcessGroupMPITest.cpp:(.text+0x88d8): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\r\n/usr/bin/ld: link errors found, deleting executable `TCPStoreTest'\r\n/usr/bin/ld: link errors found, deleting executable `FileStoreTest'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\r\n/usr/bin/ld: link errors found, deleting executable `ProcessGroupMPITest'\r\n/usr/bin/sha1sum: TCPStoreTest: No such file or directory\r\n/usr/bin/sha1sum: FileStoreTest: No such file or directory\r\n/usr/bin/sha1sum: ProcessGroupMPITest: No such file or directory\r\nmake[2]: *** [test/ProcessGroupMPITest] Error 1\r\nmake[1]: *** [test/CMakeFiles/ProcessGroupMPITest.dir/all] Error 2\r\nmake[2]: *** [test/FileStoreTest] Error 1\r\nmake[1]: *** [test/CMakeFiles/FileStoreTest.dir/all] Error 2\r\nmake[2]: *** [test/TCPStoreTest] Error 1\r\nmake[1]: *** [test/CMakeFiles/TCPStoreTest.dir/all] Error 2\r\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::Context::getNonVariableType(at::Backend, at::ScalarType)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1668): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1714): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\nCMakeFiles/allreduce.dir/allreduce.cpp.o: In function `at::TensorOptions::TensorOptions(at::Type const&, int)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x197c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1a00): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1b58): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\nCMakeFiles/allreduce.dir/allreduce.cpp.o:/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/example/allreduce.cpp:(.text+0x1d18): more undefined references to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\r\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll<float>::BroadcastOneToAll(std::shared_ptr<gloo::Context> const&, std::vector<float*, std::allocator<float*> > const&, unsigned long, int, int)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f1b0): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f294): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f378): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1f45c): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `gloo::BroadcastOneToAll<double>::BroadcastOneToAll(std::shared_ptr<gloo::Context> const&, std::vector<double*, std::allocator<double*> > const&, unsigned long, int, int)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fd50): undefined reference to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n../libc10d.a(ProcessGroupGloo.cpp.o):/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x1fe34): more undefined references to `gloo::EnforceNotMet::EnforceNotMet(char const*, int, char const*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)' follow\r\n../libc10d.a(ProcessGroupGloo.cpp.o): In function `c10::intrusive_ptr<at::TensorImpl, at::UndefinedTensor>::retain_()':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/ProcessGroupGloo.cpp:(.text+0x2b18c): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n../libc10d.a(CUDAUtils.cpp.o): In function `at::DeviceGuard::set_index(int)':\r\n/autofs/nccs-svm1_home1/shubhankar/pytorch/torch/lib/c10d/CUDAUtils.cpp:(.text+0x898): undefined reference to `at::Error::Error(at::SourceLocation, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_etime@GFORTRAN_7'\r\n/autofs/nccs-svm1_home1/shubhankar/miniconda3/envs/pytorch/lib/libopenblas.so.0: undefined reference to `_gfortran_concat_string@GFORTRAN_7'\r\n/usr/bin/ld: link errors found, deleting executable `allreduce'\r\n/usr/bin/sha1sum: allreduce: No such file or directory\r\nmake[2]: *** [example/allreduce] Error 1\r\nmake[1]: *** [example/CMakeFiles/allreduce.dir/all] Error 2\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack nccl caffe2 libshm gloo THD c10d'\r\n```"}