{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/398565152", "html_url": "https://github.com/pytorch/pytorch/pull/8612#issuecomment-398565152", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8612", "id": 398565152, "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODU2NTE1Mg==", "user": {"login": "cpuhrsch", "id": 1716488, "node_id": "MDQ6VXNlcjE3MTY0ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1716488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpuhrsch", "html_url": "https://github.com/cpuhrsch", "followers_url": "https://api.github.com/users/cpuhrsch/followers", "following_url": "https://api.github.com/users/cpuhrsch/following{/other_user}", "gists_url": "https://api.github.com/users/cpuhrsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpuhrsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpuhrsch/subscriptions", "organizations_url": "https://api.github.com/users/cpuhrsch/orgs", "repos_url": "https://api.github.com/users/cpuhrsch/repos", "events_url": "https://api.github.com/users/cpuhrsch/events{/privacy}", "received_events_url": "https://api.github.com/users/cpuhrsch/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-19T22:22:47Z", "updated_at": "2018-06-19T22:22:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Timing were retrieved <a href=\"https://github.com/pytorch/benchmark/blob/master/timing/python/benchmarks/cpu_unary_benchmark.py\">using this benchmark</a>.</p>\n<p>The command run was</p>\n<pre><code>OMP_NUM_THREADS=1 numactl --membind=0 --cpubind=0 taskset -c 0 python run.py --include CPUUnaryBench --benchmark-min-time 2 --benchmark-warmup-repetitions 2 --benchmark-repetitions 3\n</code></pre>\n<p>This is a single core benchmark.</p>\n<pre><code>framework                                Torch   Torch Master     Ratio  Better\ncont  trans function     dim mag\nFalse False ('sigmoid',) 3   1        6.930478       6.567699  0.947655   False\n                             3       13.235672      29.237036  2.208957    True\n                             6     8351.410715   30095.457062  3.603638    True\n                             7    85592.009994  308379.842767  3.602905    True\n      True  ('sigmoid',) 3   1        7.514903       6.595705  0.877683   False\n                             3       18.093501      29.376038  1.623568    True\n                             6     8895.611246   30055.028340  3.378636    True\n                             7    91487.099854  307583.449497  3.362042    True\nTrue  False ('sigmoid',) 3   1        6.942165       6.119649  0.881519   False\n                             3       12.475567       7.145404  0.572752   False\n                             6     1647.585599    1244.441353  0.755312   False\n                             7    16909.896146   13191.346432  0.780096   False\n      True  ('sigmoid',) 3   1        7.536675       6.587368  0.874042   False\n                             3       17.715659      28.759583  1.623399    True\n                             6     8135.648723   29658.940342  3.645553    True\n                             7    79345.416158  303789.017412  3.828690    True\n</code></pre>\n<p>There are significant gains for the non-contiguous cases if the Tensor is larger than 10 elements. However, there is a regression for the regular contiguous case. This needs to be resolved before this can be merged.</p>", "body_text": "Timing were retrieved using this benchmark.\nThe command run was\nOMP_NUM_THREADS=1 numactl --membind=0 --cpubind=0 taskset -c 0 python run.py --include CPUUnaryBench --benchmark-min-time 2 --benchmark-warmup-repetitions 2 --benchmark-repetitions 3\n\nThis is a single core benchmark.\nframework                                Torch   Torch Master     Ratio  Better\ncont  trans function     dim mag\nFalse False ('sigmoid',) 3   1        6.930478       6.567699  0.947655   False\n                             3       13.235672      29.237036  2.208957    True\n                             6     8351.410715   30095.457062  3.603638    True\n                             7    85592.009994  308379.842767  3.602905    True\n      True  ('sigmoid',) 3   1        7.514903       6.595705  0.877683   False\n                             3       18.093501      29.376038  1.623568    True\n                             6     8895.611246   30055.028340  3.378636    True\n                             7    91487.099854  307583.449497  3.362042    True\nTrue  False ('sigmoid',) 3   1        6.942165       6.119649  0.881519   False\n                             3       12.475567       7.145404  0.572752   False\n                             6     1647.585599    1244.441353  0.755312   False\n                             7    16909.896146   13191.346432  0.780096   False\n      True  ('sigmoid',) 3   1        7.536675       6.587368  0.874042   False\n                             3       17.715659      28.759583  1.623399    True\n                             6     8135.648723   29658.940342  3.645553    True\n                             7    79345.416158  303789.017412  3.828690    True\n\nThere are significant gains for the non-contiguous cases if the Tensor is larger than 10 elements. However, there is a regression for the regular contiguous case. This needs to be resolved before this can be merged.", "body": "Timing were retrieved [using this benchmark](https://github.com/pytorch/benchmark/blob/master/timing/python/benchmarks/cpu_unary_benchmark.py).\r\n\r\nThe command run was\r\n\r\n```\r\nOMP_NUM_THREADS=1 numactl --membind=0 --cpubind=0 taskset -c 0 python run.py --include CPUUnaryBench --benchmark-min-time 2 --benchmark-warmup-repetitions 2 --benchmark-repetitions 3\r\n```\r\n\r\nThis is a single core benchmark.\r\n\r\n```\r\nframework                                Torch   Torch Master     Ratio  Better\r\ncont  trans function     dim mag\r\nFalse False ('sigmoid',) 3   1        6.930478       6.567699  0.947655   False\r\n                             3       13.235672      29.237036  2.208957    True\r\n                             6     8351.410715   30095.457062  3.603638    True\r\n                             7    85592.009994  308379.842767  3.602905    True\r\n      True  ('sigmoid',) 3   1        7.514903       6.595705  0.877683   False\r\n                             3       18.093501      29.376038  1.623568    True\r\n                             6     8895.611246   30055.028340  3.378636    True\r\n                             7    91487.099854  307583.449497  3.362042    True\r\nTrue  False ('sigmoid',) 3   1        6.942165       6.119649  0.881519   False\r\n                             3       12.475567       7.145404  0.572752   False\r\n                             6     1647.585599    1244.441353  0.755312   False\r\n                             7    16909.896146   13191.346432  0.780096   False\r\n      True  ('sigmoid',) 3   1        7.536675       6.587368  0.874042   False\r\n                             3       17.715659      28.759583  1.623399    True\r\n                             6     8135.648723   29658.940342  3.645553    True\r\n                             7    79345.416158  303789.017412  3.828690    True\r\n```\r\n\r\nThere are significant gains for the non-contiguous cases if the Tensor is larger than 10 elements. However, there is a regression for the regular contiguous case. This needs to be resolved before this can be merged."}