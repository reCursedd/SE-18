{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/199354422", "pull_request_review_id": 133458676, "id": 199354422, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5OTM1NDQyMg==", "diff_hunk": "@@ -4720,13 +4720,16 @@ def test_upsamplingLinear1d(self):\n         for align_corners in [True, False]:\n             kwargs = dict(mode='linear', align_corners=align_corners)\n \n-            m = nn.Upsample(size=4, **kwargs)\n-            in_t = torch.ones(1, 1, 2)\n-            out_t = m(Variable(in_t))\n-            self.assertEqual(torch.ones(1, 1, 4), out_t.data)\n+            # test float scale factor up & downsampling\n+            for scale_factor in [0.5, 1.5, 2]:\n+                m = nn.Upsample(scale_factor=scale_factor, **kwargs)\n+                in_t = torch.ones(1, 1, 2)\n+                out_size = int(math.floor(in_t.shape[-1] * scale_factor))\n+                out_t = m(Variable(in_t))", "path": "test/test_nn.py", "position": null, "original_position": 13, "commit_id": "f99c543ab514043a5a842d80d166f4ef7e36d93b", "original_commit_id": "03cfb5387bfea8f995540b427c7e8a2855140963", "user": {"login": "fmassa", "id": 9110200, "node_id": "MDQ6VXNlcjkxMTAyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/9110200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmassa", "html_url": "https://github.com/fmassa", "followers_url": "https://api.github.com/users/fmassa/followers", "following_url": "https://api.github.com/users/fmassa/following{/other_user}", "gists_url": "https://api.github.com/users/fmassa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmassa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmassa/subscriptions", "organizations_url": "https://api.github.com/users/fmassa/orgs", "repos_url": "https://api.github.com/users/fmassa/repos", "events_url": "https://api.github.com/users/fmassa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmassa/received_events", "type": "User", "site_admin": false}, "body": "we can probably remove the `Variable` in the tests, there are a few more in this file that can be seen from the diff", "created_at": "2018-07-01T16:30:54Z", "updated_at": "2018-11-23T15:46:38Z", "html_url": "https://github.com/pytorch/pytorch/pull/8591#discussion_r199354422", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8591", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/199354422"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8591#discussion_r199354422"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8591"}}, "body_html": "<p>we can probably remove the <code>Variable</code> in the tests, there are a few more in this file that can be seen from the diff</p>", "body_text": "we can probably remove the Variable in the tests, there are a few more in this file that can be seen from the diff"}