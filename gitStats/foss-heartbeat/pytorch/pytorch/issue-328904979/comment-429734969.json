{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/429734969", "html_url": "https://github.com/pytorch/pytorch/issues/8103#issuecomment-429734969", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8103", "id": 429734969, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTczNDk2OQ==", "user": {"login": "taodeng", "id": 28968155, "node_id": "MDQ6VXNlcjI4OTY4MTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/28968155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taodeng", "html_url": "https://github.com/taodeng", "followers_url": "https://api.github.com/users/taodeng/followers", "following_url": "https://api.github.com/users/taodeng/following{/other_user}", "gists_url": "https://api.github.com/users/taodeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/taodeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taodeng/subscriptions", "organizations_url": "https://api.github.com/users/taodeng/orgs", "repos_url": "https://api.github.com/users/taodeng/repos", "events_url": "https://api.github.com/users/taodeng/events{/privacy}", "received_events_url": "https://api.github.com/users/taodeng/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-15T07:21:15Z", "updated_at": "2018-10-15T07:21:15Z", "author_association": "NONE", "body_html": "<blockquote>\n<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=483114\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewssobral\">@andrewssobral</a> , I have pytorch working on my TX2. I'm at SHA1 ID <a href=\"https://github.com/pytorch/pytorch/commit/cfa05706efa71454bede06c2aa25abc287db1f04\">cfa0570</a> and have only done the following change in \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\":</p>\n<p>Around line 62:<br>\ncomment out THCState_getCurrentDeviceProperties(state)-&gt;maxThraedsPerBlock;<br>\nSet<br>\nconst int num_threads = 512;</p>\n<p>Around line 97<br>\ncomment out THCState_getCurrentDeviceProperties(state)-&gt;maxThraedsPerBlock;<br>\nSet<br>\nconst int num_threads = 512;</p>\n<p>I followed this guide for installation: <a href=\"https://gist.github.com/dusty-nv/ef2b372301c00c0a9d3203e42fd83426\">https://gist.github.com/dusty-nv/ef2b372301c00c0a9d3203e42fd83426</a> using the install mode command \"sudo python setup.py install\"</p>\n<p>Hope this helps</p>\n</blockquote>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=41024250\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/joe-devv\">@joe-devv</a> Hi, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=41024250\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/joe-devv\">@joe-devv</a> , I have changed \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\" on my TX2 as you mentioned. But it also showed the error:</p>\n<p>RuntimeError: cuda runtime error (7) : too many resources requested for launch at /home/nvidia/pytorch/torch/lib/THCUNN/generic/SpatialUpSamplingBilinear.cu:66</p>\n<p>My tx2 is:<br>\nJetson 3.3, Cuda 9.0, Cudnn 7.0.</p>", "body_text": "Hi @andrewssobral , I have pytorch working on my TX2. I'm at SHA1 ID cfa0570 and have only done the following change in \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\":\nAround line 62:\ncomment out THCState_getCurrentDeviceProperties(state)->maxThraedsPerBlock;\nSet\nconst int num_threads = 512;\nAround line 97\ncomment out THCState_getCurrentDeviceProperties(state)->maxThraedsPerBlock;\nSet\nconst int num_threads = 512;\nI followed this guide for installation: https://gist.github.com/dusty-nv/ef2b372301c00c0a9d3203e42fd83426 using the install mode command \"sudo python setup.py install\"\nHope this helps\n\n@joe-devv Hi, @joe-devv , I have changed \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\" on my TX2 as you mentioned. But it also showed the error:\nRuntimeError: cuda runtime error (7) : too many resources requested for launch at /home/nvidia/pytorch/torch/lib/THCUNN/generic/SpatialUpSamplingBilinear.cu:66\nMy tx2 is:\nJetson 3.3, Cuda 9.0, Cudnn 7.0.", "body": "> Hi @andrewssobral , I have pytorch working on my TX2. I'm at SHA1 ID [cfa0570](https://github.com/pytorch/pytorch/commit/cfa05706efa71454bede06c2aa25abc287db1f04) and have only done the following change in \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\":\r\n> \r\n> Around line 62:\r\n> comment out THCState_getCurrentDeviceProperties(state)->maxThraedsPerBlock;\r\n> Set\r\n> const int num_threads = 512;\r\n> \r\n> Around line 97\r\n> comment out THCState_getCurrentDeviceProperties(state)->maxThraedsPerBlock;\r\n> Set\r\n> const int num_threads = 512;\r\n> \r\n> I followed this guide for installation: https://gist.github.com/dusty-nv/ef2b372301c00c0a9d3203e42fd83426 using the install mode command \"sudo python setup.py install\"\r\n> \r\n> Hope this helps\r\n\r\n@joe-devv Hi, @joe-devv , I have changed \"aten/src/THCUNN/generic/SpatialUpSamplingBilinear.cu\" on my TX2 as you mentioned. But it also showed the error:\r\n\r\nRuntimeError: cuda runtime error (7) : too many resources requested for launch at /home/nvidia/pytorch/torch/lib/THCUNN/generic/SpatialUpSamplingBilinear.cu:66\r\n\r\nMy tx2 is:\r\nJetson 3.3, Cuda 9.0, Cudnn 7.0. "}