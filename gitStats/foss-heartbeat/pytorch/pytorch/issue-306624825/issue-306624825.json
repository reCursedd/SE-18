{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5886", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5886/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5886/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5886/events", "html_url": "https://github.com/pytorch/pytorch/issues/5886", "id": 306624825, "node_id": "MDU6SXNzdWUzMDY2MjQ4MjU=", "number": 5886, "title": "Flaky test: not reentrant test_matmul_4d_1d and test_matmul_4d_4d on OS X", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-19T20:35:30Z", "updated_at": "2018-03-19T20:35:30Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<pre><code>20:00:22 ======================================================================\n20:00:22 ERROR: test_matmul_4d_1d (__main__.TestAutograd)\n20:00:22 ----------------------------------------------------------------------\n20:00:22 Traceback (most recent call last):\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\n20:00:22     check(name)\n20:00:22   File \"test_autograd.py\", line 2996, in check\n20:00:22     output_variable, (self_variable,) + args_variable)\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\n20:00:22     return fail_test('not reentrant')\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\n20:00:22     raise RuntimeError(msg)\n20:00:22 RuntimeError: not reentrant\n20:00:22 \n20:00:22 ======================================================================\n20:00:22 ERROR: test_matmul_4d_4d (__main__.TestAutograd)\n20:00:22 ----------------------------------------------------------------------\n20:00:22 Traceback (most recent call last):\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\n20:00:22     check(name)\n20:00:22   File \"test_autograd.py\", line 2996, in check\n20:00:22     output_variable, (self_variable,) + args_variable)\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\n20:00:22     return fail_test('not reentrant')\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\n20:00:22     raise RuntimeError(msg)\n20:00:22 RuntimeError: not reentrant\n20:00:22 \n20:00:22 ----------------------------------------------------------------------\n20:00:22 Ran 772 tests in 85.303s\n20:00:22 \n</code></pre>\n<p>Test log: <a href=\"https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-macos-10.13-py3-build-test/3462//console\" rel=\"nofollow\">https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-macos-10.13-py3-build-test/3462//console</a></p>\n<p>Host was  worker-macos-high-sierra-0</p>\n<p>Subsequent master PR did not fail this way.</p>", "body_text": "20:00:22 ======================================================================\n20:00:22 ERROR: test_matmul_4d_1d (__main__.TestAutograd)\n20:00:22 ----------------------------------------------------------------------\n20:00:22 Traceback (most recent call last):\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\n20:00:22     check(name)\n20:00:22   File \"test_autograd.py\", line 2996, in check\n20:00:22     output_variable, (self_variable,) + args_variable)\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\n20:00:22     return fail_test('not reentrant')\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\n20:00:22     raise RuntimeError(msg)\n20:00:22 RuntimeError: not reentrant\n20:00:22 \n20:00:22 ======================================================================\n20:00:22 ERROR: test_matmul_4d_4d (__main__.TestAutograd)\n20:00:22 ----------------------------------------------------------------------\n20:00:22 Traceback (most recent call last):\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\n20:00:22     check(name)\n20:00:22   File \"test_autograd.py\", line 2996, in check\n20:00:22     output_variable, (self_variable,) + args_variable)\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\n20:00:22     return fail_test('not reentrant')\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\n20:00:22     raise RuntimeError(msg)\n20:00:22 RuntimeError: not reentrant\n20:00:22 \n20:00:22 ----------------------------------------------------------------------\n20:00:22 Ran 772 tests in 85.303s\n20:00:22 \n\nTest log: https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-macos-10.13-py3-build-test/3462//console\nHost was  worker-macos-high-sierra-0\nSubsequent master PR did not fail this way.", "body": "```\r\n20:00:22 ======================================================================\r\n20:00:22 ERROR: test_matmul_4d_1d (__main__.TestAutograd)\r\n20:00:22 ----------------------------------------------------------------------\r\n20:00:22 Traceback (most recent call last):\r\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\r\n20:00:22     check(name)\r\n20:00:22   File \"test_autograd.py\", line 2996, in check\r\n20:00:22     output_variable, (self_variable,) + args_variable)\r\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\r\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\r\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\r\n20:00:22     return fail_test('not reentrant')\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\r\n20:00:22     raise RuntimeError(msg)\r\n20:00:22 RuntimeError: not reentrant\r\n20:00:22 \r\n20:00:22 ======================================================================\r\n20:00:22 ERROR: test_matmul_4d_4d (__main__.TestAutograd)\r\n20:00:22 ----------------------------------------------------------------------\r\n20:00:22 Traceback (most recent call last):\r\n20:00:22   File \"test_autograd.py\", line 3064, in do_test\r\n20:00:22     check(name)\r\n20:00:22   File \"test_autograd.py\", line 2996, in check\r\n20:00:22     output_variable, (self_variable,) + args_variable)\r\n20:00:22   File \"test_autograd.py\", line 2929, in run_grad_and_gradgrad_checks\r\n20:00:22     test_case.assertTrue(gradgradcheck(apply_method, input_variables, gen_non_contig_grad_outputs=True))\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 265, in gradgradcheck\r\n20:00:22     return gradcheck(new_func, inputs + grad_outputs, eps, atol, rtol, raise_exception)\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 186, in gradcheck\r\n20:00:22     return fail_test('not reentrant')\r\n20:00:22   File \"/private/var/lib/jenkins/workspace/pytorch-builds/pytorch-macos-10.13-py3-build-test/miniconda3/lib/python3.6/site-packages/torch/autograd/gradcheck.py\", line 166, in fail_test\r\n20:00:22     raise RuntimeError(msg)\r\n20:00:22 RuntimeError: not reentrant\r\n20:00:22 \r\n20:00:22 ----------------------------------------------------------------------\r\n20:00:22 Ran 772 tests in 85.303s\r\n20:00:22 \r\n```\r\n\r\nTest log: https://ci.pytorch.org/jenkins/job/pytorch-builds/job/pytorch-macos-10.13-py3-build-test/3462//console\r\n\r\nHost was  worker-macos-high-sierra-0\r\n\r\nSubsequent master PR did not fail this way."}