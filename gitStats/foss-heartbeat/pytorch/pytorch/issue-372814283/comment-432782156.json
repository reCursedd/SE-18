{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/432782156", "html_url": "https://github.com/pytorch/pytorch/pull/12979#issuecomment-432782156", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/12979", "id": 432782156, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjc4MjE1Ng==", "user": {"login": "bwasti", "id": 4842908, "node_id": "MDQ6VXNlcjQ4NDI5MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4842908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bwasti", "html_url": "https://github.com/bwasti", "followers_url": "https://api.github.com/users/bwasti/followers", "following_url": "https://api.github.com/users/bwasti/following{/other_user}", "gists_url": "https://api.github.com/users/bwasti/gists{/gist_id}", "starred_url": "https://api.github.com/users/bwasti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bwasti/subscriptions", "organizations_url": "https://api.github.com/users/bwasti/orgs", "repos_url": "https://api.github.com/users/bwasti/repos", "events_url": "https://api.github.com/users/bwasti/events{/privacy}", "received_events_url": "https://api.github.com/users/bwasti/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-24T18:47:50Z", "updated_at": "2018-10-24T18:47:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p>One interesting nuance here is that any input data is moved to the front of external_inputs, which some functionality in the codebase actually leverages (see predictor.cc for positional inputs).  We will want to preserve this.  Instead, could you merge the two lists and remove all duplicates in the process?</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-c\"><span class=\"pl-c\">#</span> Now we make input/output_blobs line up with what Predictor expects.</span>\nnew_external_inputs <span class=\"pl-k\">=</span> input_blobs\n<span class=\"pl-k\">for</span> external_input <span class=\"pl-k\">in</span> proto.external_input:\n  <span class=\"pl-k\">if</span> external_input <span class=\"pl-k\">not</span> <span class=\"pl-k\">in</span> new_external_inputs:\n    new_external_inputs.append(external_input)\npredict_net.external_input.extend(new_external_inputs)\t</pre></div>", "body_text": "One interesting nuance here is that any input data is moved to the front of external_inputs, which some functionality in the codebase actually leverages (see predictor.cc for positional inputs).  We will want to preserve this.  Instead, could you merge the two lists and remove all duplicates in the process?\n# Now we make input/output_blobs line up with what Predictor expects.\nnew_external_inputs = input_blobs\nfor external_input in proto.external_input:\n  if external_input not in new_external_inputs:\n    new_external_inputs.append(external_input)\npredict_net.external_input.extend(new_external_inputs)", "body": "One interesting nuance here is that any input data is moved to the front of external_inputs, which some functionality in the codebase actually leverages (see predictor.cc for positional inputs).  We will want to preserve this.  Instead, could you merge the two lists and remove all duplicates in the process?\r\n\r\n```python\r\n# Now we make input/output_blobs line up with what Predictor expects.\r\nnew_external_inputs = input_blobs\r\nfor external_input in proto.external_input:\r\n  if external_input not in new_external_inputs:\r\n    new_external_inputs.append(external_input)\r\npredict_net.external_input.extend(new_external_inputs)\t\r\n```"}