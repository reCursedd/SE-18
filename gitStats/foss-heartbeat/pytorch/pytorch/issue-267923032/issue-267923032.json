{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3253", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3253/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3253/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3253/events", "html_url": "https://github.com/pytorch/pytorch/issues/3253", "id": 267923032, "node_id": "MDU6SXNzdWUyNjc5MjMwMzI=", "number": 3253, "title": "HardTanh and UpsamplingBilinear2d not supported by ONNX", "user": {"login": "vweilv", "id": 32693055, "node_id": "MDQ6VXNlcjMyNjkzMDU1", "avatar_url": "https://avatars1.githubusercontent.com/u/32693055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vweilv", "html_url": "https://github.com/vweilv", "followers_url": "https://api.github.com/users/vweilv/followers", "following_url": "https://api.github.com/users/vweilv/following{/other_user}", "gists_url": "https://api.github.com/users/vweilv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vweilv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vweilv/subscriptions", "organizations_url": "https://api.github.com/users/vweilv/orgs", "repos_url": "https://api.github.com/users/vweilv/repos", "events_url": "https://api.github.com/users/vweilv/events{/privacy}", "received_events_url": "https://api.github.com/users/vweilv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 693805995, "node_id": "MDU6TGFiZWw2OTM4MDU5OTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/onnx", "name": "onnx", "color": "e99695", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-24T07:19:21Z", "updated_at": "2017-10-24T19:05:01Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I tried to export my PyTorch model to ONNX but two error occur:<br>\n(1) Hardtanh error<br>\n<code>Traceback (most recent call last): File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in &lt;module&gt; export_params=True)      # store the trained parameter weights inside the model file File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 96, in _export torch._C._jit_pass_onnx(trace) File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 121, in run_symbolic return symbolic_fn(*args) File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/nn/_functions/thnn/auto.py\", line 133, in symbolic return symbolic_fn(*args, **kwargs) TypeError: 'NoneType' object is not callable (occurred when translating Hardtanh)</code></p>\n<p>(2) UpsamplingBilinear2d error<br>\n<code>Traceback (most recent call last): File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in &lt;module&gt; export_params=True)      # store the trained parameter weights inside the model file File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 105, in _export proto = trace.export(list(model.state_dict().values())) RuntimeError: Couldn't export UpsamplingBilinear2d function - maybe it doesn't implement a symbolic definition?</code></p>\n<hr>\n<p>So, how can I fix the errors? Thank you.</p>", "body_text": "I tried to export my PyTorch model to ONNX but two error occur:\n(1) Hardtanh error\nTraceback (most recent call last): File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in <module> export_params=True)      # store the trained parameter weights inside the model file File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 96, in _export torch._C._jit_pass_onnx(trace) File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 121, in run_symbolic return symbolic_fn(*args) File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/nn/_functions/thnn/auto.py\", line 133, in symbolic return symbolic_fn(*args, **kwargs) TypeError: 'NoneType' object is not callable (occurred when translating Hardtanh)\n(2) UpsamplingBilinear2d error\nTraceback (most recent call last): File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in <module> export_params=True)      # store the trained parameter weights inside the model file File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 105, in _export proto = trace.export(list(model.state_dict().values())) RuntimeError: Couldn't export UpsamplingBilinear2d function - maybe it doesn't implement a symbolic definition?\n\nSo, how can I fix the errors? Thank you.", "body": "I tried to export my PyTorch model to ONNX but two error occur:\r\n(1) Hardtanh error\r\n`Traceback (most recent call last):\r\n  File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in <module>\r\n    export_params=True)      # store the trained parameter weights inside the model file\r\n  File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 96, in _export\r\n    torch._C._jit_pass_onnx(trace)\r\n  File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 121, in run_symbolic\r\n    return symbolic_fn(*args)\r\n  File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/nn/_functions/thnn/auto.py\", line 133, in symbolic\r\n    return symbolic_fn(*args, **kwargs)\r\nTypeError: 'NoneType' object is not callable (occurred when translating Hardtanh)`\r\n\r\n(2) UpsamplingBilinear2d error\r\n`Traceback (most recent call last):\r\n  File \"/Users/lv/PycharmProjects/Pp/model.py\", line 127, in <module>\r\n    export_params=True)      # store the trained parameter weights inside the model file\r\n  File \"/Users/lv/anaconda/lib/python2.7/site-packages/torch/onnx.py\", line 105, in _export\r\n    proto = trace.export(list(model.state_dict().values()))\r\nRuntimeError: Couldn't export UpsamplingBilinear2d function - maybe it doesn't implement a symbolic definition?`\r\n\r\n---------------------------------------\r\nSo, how can I fix the errors? Thank you."}