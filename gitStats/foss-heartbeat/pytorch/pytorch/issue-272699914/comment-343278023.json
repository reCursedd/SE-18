{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/343278023", "html_url": "https://github.com/pytorch/pytorch/pull/3607#issuecomment-343278023", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3607", "id": 343278023, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzI3ODAyMw==", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-09T20:15:18Z", "updated_at": "2017-11-09T20:15:18Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Cool! We should capture this information but I have a few suggested tweaks:</p>\n<ul>\n<li>Capturing debug info might be <em>very</em> expensive. Can you measure it in your tracing code? Depending on whether or not it is expensive, we should put it behind a record debug info flag.</li>\n<li>Debug name really needs to be a valid C identifier because it is used in pretty-printing of things. So <code>debugName()</code> is probably not right for this information.</li>\n<li>Instead maybe add a <code>SourceLocation</code> object to <code>ir.h</code> that holds this string, and equip <code>Node</code> with a <code>shared_ptr&lt;SourceLocation&gt;</code> that it holds. This should be copied when the node is copied (see <code>cloneFrom</code>).</li>\n</ul>", "body_text": "Cool! We should capture this information but I have a few suggested tweaks:\n\nCapturing debug info might be very expensive. Can you measure it in your tracing code? Depending on whether or not it is expensive, we should put it behind a record debug info flag.\nDebug name really needs to be a valid C identifier because it is used in pretty-printing of things. So debugName() is probably not right for this information.\nInstead maybe add a SourceLocation object to ir.h that holds this string, and equip Node with a shared_ptr<SourceLocation> that it holds. This should be copied when the node is copied (see cloneFrom).", "body": "Cool! We should capture this information but I have a few suggested tweaks:\r\n\r\n* Capturing debug info might be _very_ expensive. Can you measure it in your tracing code? Depending on whether or not it is expensive, we should put it behind a record debug info flag.\r\n*  Debug name really needs to be a valid C identifier because it is used in pretty-printing of things. So `debugName()` is probably not right for this information.\r\n* Instead maybe add a `SourceLocation` object to `ir.h` that holds this string, and equip `Node` with a `shared_ptr<SourceLocation>` that it holds. This should be copied when the node is copied (see `cloneFrom`). \r\n"}