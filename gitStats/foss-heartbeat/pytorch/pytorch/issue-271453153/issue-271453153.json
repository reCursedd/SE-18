{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3502", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3502/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3502/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3502/events", "html_url": "https://github.com/pytorch/pytorch/issues/3502", "id": 271453153, "node_id": "MDU6SXNzdWUyNzE0NTMxNTM=", "number": 3502, "title": "Is grad attribute in Variable immutable?", "user": {"login": "lanpa", "id": 2005323, "node_id": "MDQ6VXNlcjIwMDUzMjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2005323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lanpa", "html_url": "https://github.com/lanpa", "followers_url": "https://api.github.com/users/lanpa/followers", "following_url": "https://api.github.com/users/lanpa/following{/other_user}", "gists_url": "https://api.github.com/users/lanpa/gists{/gist_id}", "starred_url": "https://api.github.com/users/lanpa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lanpa/subscriptions", "organizations_url": "https://api.github.com/users/lanpa/orgs", "repos_url": "https://api.github.com/users/lanpa/repos", "events_url": "https://api.github.com/users/lanpa/events{/privacy}", "received_events_url": "https://api.github.com/users/lanpa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-06T12:06:13Z", "updated_at": "2017-12-04T01:15:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>The <a href=\"http://pytorch.org/docs/master/autograd.html?highlight=reassigned#variable\" rel=\"nofollow\">doc</a> says :<br>\n\"This attribute is lazily allocated and can\u2019t be reassigned.\"</p>\n<p>but It can be modified instead. See the example:</p>\n<div class=\"highlight highlight-source-python\"><pre><span class=\"pl-k\">import</span> torch\nm <span class=\"pl-k\">=</span> torch.nn.Linear(<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">1</span>)\nx <span class=\"pl-k\">=</span> torch.autograd.Variable(torch.rand(<span class=\"pl-c1\">4</span>))\ny <span class=\"pl-k\">=</span> m(x)\n<span class=\"pl-c1\">print</span>(m.weight.grad) <span class=\"pl-c\"><span class=\"pl-c\">#</span> None</span>\ny.backward()\n<span class=\"pl-c1\">print</span>(m.weight.grad)\nww <span class=\"pl-k\">=</span> m.weight.grad.clone()\n\nm.weight.grad <span class=\"pl-k\">*=</span> <span class=\"pl-c1\">100</span>\n<span class=\"pl-c1\">print</span>(m.weight.grad)\n\nm.weight.grad <span class=\"pl-k\">=</span> ww\n<span class=\"pl-c1\">print</span>(m.weight.grad)</pre></div>", "body_text": "The doc says :\n\"This attribute is lazily allocated and can\u2019t be reassigned.\"\nbut It can be modified instead. See the example:\nimport torch\nm = torch.nn.Linear(4, 1)\nx = torch.autograd.Variable(torch.rand(4))\ny = m(x)\nprint(m.weight.grad) # None\ny.backward()\nprint(m.weight.grad)\nww = m.weight.grad.clone()\n\nm.weight.grad *= 100\nprint(m.weight.grad)\n\nm.weight.grad = ww\nprint(m.weight.grad)", "body": "The [doc](http://pytorch.org/docs/master/autograd.html?highlight=reassigned#variable) says :\r\n\"This attribute is lazily allocated and can\u2019t be reassigned.\"\r\n\r\nbut It can be modified instead. See the example: \r\n\r\n```python\r\nimport torch\r\nm = torch.nn.Linear(4, 1)\r\nx = torch.autograd.Variable(torch.rand(4))\r\ny = m(x)\r\nprint(m.weight.grad) # None\r\ny.backward()\r\nprint(m.weight.grad)\r\nww = m.weight.grad.clone()\r\n\r\nm.weight.grad *= 100\r\nprint(m.weight.grad)\r\n\r\nm.weight.grad = ww\r\nprint(m.weight.grad)\r\n```\r\n"}