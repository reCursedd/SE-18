{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5415", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5415/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5415/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5415/events", "html_url": "https://github.com/pytorch/pytorch/pull/5415", "id": 300353883, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcxNDYwMzQ5", "number": 5415, "title": "Set python random seed in workers", "user": {"login": "achalddave", "id": 1168881, "node_id": "MDQ6VXNlcjExNjg4ODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1168881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achalddave", "html_url": "https://github.com/achalddave", "followers_url": "https://api.github.com/users/achalddave/followers", "following_url": "https://api.github.com/users/achalddave/following{/other_user}", "gists_url": "https://api.github.com/users/achalddave/gists{/gist_id}", "starred_url": "https://api.github.com/users/achalddave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achalddave/subscriptions", "organizations_url": "https://api.github.com/users/achalddave/orgs", "repos_url": "https://api.github.com/users/achalddave/repos", "events_url": "https://api.github.com/users/achalddave/events{/privacy}", "received_events_url": "https://api.github.com/users/achalddave/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-26T18:52:56Z", "updated_at": "2018-02-27T08:16:14Z", "closed_at": "2018-02-27T08:16:11Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/5415", "html_url": "https://github.com/pytorch/pytorch/pull/5415", "diff_url": "https://github.com/pytorch/pytorch/pull/5415.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/5415.patch"}, "body_html": "<p>A common task for each data loader worker is to compute random crops and flips on images. These operations are implemented using python's <code>random</code> module (e.g. <a href=\"https://github.com/pytorch/vision/blob/a42f9d995cd000b51755c2cb40e8154c5b693825/torchvision/transforms/transforms.py#L494\"><code>RandomResizedCrop</code></a>). If we only set the torch seed, then threads compute different random augmentations across runs, even if <code>random.seed</code> and <code>torch.manual_seed</code> are set in the main thread.</p>", "body_text": "A common task for each data loader worker is to compute random crops and flips on images. These operations are implemented using python's random module (e.g. RandomResizedCrop). If we only set the torch seed, then threads compute different random augmentations across runs, even if random.seed and torch.manual_seed are set in the main thread.", "body": "A common task for each data loader worker is to compute random crops and flips on images. These operations are implemented using python's `random` module (e.g. [`RandomResizedCrop`](https://github.com/pytorch/vision/blob/a42f9d995cd000b51755c2cb40e8154c5b693825/torchvision/transforms/transforms.py#L494)). If we only set the torch seed, then threads compute different random augmentations across runs, even if `random.seed` and `torch.manual_seed` are set in the main thread. "}