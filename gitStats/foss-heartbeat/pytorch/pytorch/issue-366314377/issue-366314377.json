{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12283", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12283/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12283/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12283/events", "html_url": "https://github.com/pytorch/pytorch/issues/12283", "id": 366314377, "node_id": "MDU6SXNzdWUzNjYzMTQzNzc=", "number": 12283, "title": "Takes 5 minutes to get back from .cuda()", "user": {"login": "jiaanguo", "id": 16428388, "node_id": "MDQ6VXNlcjE2NDI4Mzg4", "avatar_url": "https://avatars0.githubusercontent.com/u/16428388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiaanguo", "html_url": "https://github.com/jiaanguo", "followers_url": "https://api.github.com/users/jiaanguo/followers", "following_url": "https://api.github.com/users/jiaanguo/following{/other_user}", "gists_url": "https://api.github.com/users/jiaanguo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiaanguo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiaanguo/subscriptions", "organizations_url": "https://api.github.com/users/jiaanguo/orgs", "repos_url": "https://api.github.com/users/jiaanguo/repos", "events_url": "https://api.github.com/users/jiaanguo/events{/privacy}", "received_events_url": "https://api.github.com/users/jiaanguo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-03T12:25:49Z", "updated_at": "2018-10-05T14:59:18Z", "closed_at": "2018-10-05T13:18:39Z", "author_association": "NONE", "body_html": "<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f41b.png\">\ud83d\udc1b</g-emoji> Bug</h2>\n\n<p>It takes several (around 5) minutes to run <code>torch.tensor([0.]).cuda()</code> for the first time. After that, there isn't any problems calling cuda().</p>\n<p>My configuration has 2 RTX 2080s in SLI and a GTX 1070. The GTX 1070 does not have any problem, while both RTX 2080s have the slow cuda() initialisation problem.</p>\n<p>I also tested both pytorch 0.4.1 and 1.0 preview on cuda 10.0.130, driver version 410.57, the problem persists.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>import torch</li>\n<li>torch.tensor([0.]).cuda()</li>\n</ol>\n\n<h2>Expected behavior</h2>\n\n<p>expect <code>torch.tensor([0.]).cuda()</code> to reply immediately after issuing.</p>\n<h2>Environment</h2>\n<ul>\n<li>PyTorch Version (e.g., 1.0): 0.4.1, 1.0</li>\n<li>OS (e.g., Linux): Ubuntu 18.04</li>\n<li>How you installed PyTorch (<code>conda</code>, <code>pip</code>, source): conda install pytorch-nightly -c pytorch</li>\n<li>Build command you used (if compiling from source):</li>\n<li>Python version: 3.6.5</li>\n<li>Nvidia driver verison: 410.57</li>\n<li>CUDA/cuDNN version: 10.0.130</li>\n<li>GPU models and configuration: 2 * RTX 2080 in SLI + GTX 1070</li>\n<li>Any other relevant information:</li>\n</ul>\n<h2>Additional context</h2>\n", "body_text": "\ud83d\udc1b Bug\n\nIt takes several (around 5) minutes to run torch.tensor([0.]).cuda() for the first time. After that, there isn't any problems calling cuda().\nMy configuration has 2 RTX 2080s in SLI and a GTX 1070. The GTX 1070 does not have any problem, while both RTX 2080s have the slow cuda() initialisation problem.\nI also tested both pytorch 0.4.1 and 1.0 preview on cuda 10.0.130, driver version 410.57, the problem persists.\nTo Reproduce\nSteps to reproduce the behavior:\n\nimport torch\ntorch.tensor([0.]).cuda()\n\n\nExpected behavior\n\nexpect torch.tensor([0.]).cuda() to reply immediately after issuing.\nEnvironment\n\nPyTorch Version (e.g., 1.0): 0.4.1, 1.0\nOS (e.g., Linux): Ubuntu 18.04\nHow you installed PyTorch (conda, pip, source): conda install pytorch-nightly -c pytorch\nBuild command you used (if compiling from source):\nPython version: 3.6.5\nNvidia driver verison: 410.57\nCUDA/cuDNN version: 10.0.130\nGPU models and configuration: 2 * RTX 2080 in SLI + GTX 1070\nAny other relevant information:\n\nAdditional context", "body": "## \ud83d\udc1b Bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nIt takes several (around 5) minutes to run `torch.tensor([0.]).cuda()` for the first time. After that, there isn't any problems calling cuda(). \r\n\r\nMy configuration has 2 RTX 2080s in SLI and a GTX 1070. The GTX 1070 does not have any problem, while both RTX 2080s have the slow cuda() initialisation problem.\r\n\r\nI also tested both pytorch 0.4.1 and 1.0 preview on cuda 10.0.130, driver version 410.57, the problem persists.\r\n\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. import torch\r\n2. torch.tensor([0.]).cuda()\r\n\r\n<!-- If you have a code sample, error messages, stack traces, please provide it here as well -->\r\n\r\n## Expected behavior\r\n\r\n<!-- A clear and concise description of what you expected to happen. -->\r\nexpect `torch.tensor([0.]).cuda()` to reply immediately after issuing.\r\n\r\n## Environment\r\n\r\n - PyTorch Version (e.g., 1.0): 0.4.1, 1.0\r\n - OS (e.g., Linux): Ubuntu 18.04\r\n - How you installed PyTorch (`conda`, `pip`, source): conda install pytorch-nightly -c pytorch\r\n - Build command you used (if compiling from source):\r\n - Python version: 3.6.5\r\n - Nvidia driver verison: 410.57\r\n - CUDA/cuDNN version: 10.0.130\r\n - GPU models and configuration: 2 * RTX 2080 in SLI + GTX 1070\r\n - Any other relevant information:\r\n\r\n## Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n"}