{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/145759970", "pull_request_review_id": 70605458, "id": 145759970, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTc1OTk3MA==", "diff_hunk": "@@ -69,6 +71,24 @@ inline bool isTracing(const variable_list& vars) {\n   return false;\n }\n \n+inline bool isTracing(const at::TensorList& vars) {\n+  for (Variable var : vars) {\n+    if (!var.defined() || !var.tracing_state()) continue;\n+    if (std::any_of(var.tracing_state()->begin(), var.tracing_state()->end(), detail::isElemActive))\n+      return true;\n+  }\n+  return false;\n+}\n+\n+inline bool isTracing(const at::ArrayRef<Variable>& vars) {\n+  for (const Variable& var : vars) {\n+    if (!var.defined() || !var.tracing_state()) continue;\n+    if (std::any_of(var.tracing_state()->begin(), var.tracing_state()->end(), detail::isElemActive))\n+      return true;\n+  }\n+  return false;\n+}", "path": "torch/csrc/jit/tracer.h", "position": 22, "original_position": 31, "commit_id": "86c9ea260bff743162df1c07d673bb6039fb424d", "original_commit_id": "2c8d829ca36179d8d2ab55d2c0fa5dafaf987946", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "If you just factor out the body of the loop then all the important logic is defined in one place, and the duplication is much shorter. No need for iterator tricks or templates.", "created_at": "2017-10-19T16:55:10Z", "updated_at": "2018-11-23T15:35:30Z", "html_url": "https://github.com/pytorch/pytorch/pull/3160#discussion_r145759970", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/3160", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/145759970"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/3160#discussion_r145759970"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/3160"}}, "body_html": "<p>If you just factor out the body of the loop then all the important logic is defined in one place, and the duplication is much shorter. No need for iterator tricks or templates.</p>", "body_text": "If you just factor out the body of the loop then all the important logic is defined in one place, and the duplication is much shorter. No need for iterator tricks or templates.", "in_reply_to_id": 145646067}