{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7946", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7946/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7946/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7946/events", "html_url": "https://github.com/pytorch/pytorch/issues/7946", "id": 327587604, "node_id": "MDU6SXNzdWUzMjc1ODc2MDQ=", "number": 7946, "title": "how to use Softmax when do segmentation", "user": {"login": "994374821", "id": 33171806, "node_id": "MDQ6VXNlcjMzMTcxODA2", "avatar_url": "https://avatars3.githubusercontent.com/u/33171806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/994374821", "html_url": "https://github.com/994374821", "followers_url": "https://api.github.com/users/994374821/followers", "following_url": "https://api.github.com/users/994374821/following{/other_user}", "gists_url": "https://api.github.com/users/994374821/gists{/gist_id}", "starred_url": "https://api.github.com/users/994374821/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/994374821/subscriptions", "organizations_url": "https://api.github.com/users/994374821/orgs", "repos_url": "https://api.github.com/users/994374821/repos", "events_url": "https://api.github.com/users/994374821/events{/privacy}", "received_events_url": "https://api.github.com/users/994374821/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-30T06:16:40Z", "updated_at": "2018-08-23T02:41:34Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I want  implement FCN by caffe2 to do semantic segmentation,  but I do not konw how to implement Softmax as FCN in caffe version.<br>\nCould you help me, Thanks!<br>\nthe code of FCN's softmax using caffe is as follows:</p>\n<pre><code>layer {\n  name: \"upscore\"\n  type: \"Deconvolution\"\n  bottom: \"score_fr\"\n  top: \"upscore\"\n  param {\n    lr_mult: 0\n  }\n  convolution_param {\n    num_output: 21\n    bias_term: false\n    kernel_size: 64\n    stride: 32\n  }\n}\nlayer {\n  name: \"score\"\n  type: \"Crop\"\n  bottom: \"upscore\"\n  bottom: \"data\"\n  top: \"score\"\n  crop_param {\n    axis: 2\n    offset: 19\n  }\n}\nlayer {\n  name: \"loss\"\n  type: \"SoftmaxWithLoss\"\n  bottom: \"score\"\n  bottom: \"label\"\n  top: \"loss\"\n  loss_param {\n    ignore_label: 255\n    normalize: false\n  }\n}\n</code></pre>", "body_text": "I want  implement FCN by caffe2 to do semantic segmentation,  but I do not konw how to implement Softmax as FCN in caffe version.\nCould you help me, Thanks!\nthe code of FCN's softmax using caffe is as follows:\nlayer {\n  name: \"upscore\"\n  type: \"Deconvolution\"\n  bottom: \"score_fr\"\n  top: \"upscore\"\n  param {\n    lr_mult: 0\n  }\n  convolution_param {\n    num_output: 21\n    bias_term: false\n    kernel_size: 64\n    stride: 32\n  }\n}\nlayer {\n  name: \"score\"\n  type: \"Crop\"\n  bottom: \"upscore\"\n  bottom: \"data\"\n  top: \"score\"\n  crop_param {\n    axis: 2\n    offset: 19\n  }\n}\nlayer {\n  name: \"loss\"\n  type: \"SoftmaxWithLoss\"\n  bottom: \"score\"\n  bottom: \"label\"\n  top: \"loss\"\n  loss_param {\n    ignore_label: 255\n    normalize: false\n  }\n}", "body": "I want  implement FCN by caffe2 to do semantic segmentation,  but I do not konw how to implement Softmax as FCN in caffe version.\r\nCould you help me, Thanks!\r\nthe code of FCN's softmax using caffe is as follows:\r\n```\r\nlayer {\r\n  name: \"upscore\"\r\n  type: \"Deconvolution\"\r\n  bottom: \"score_fr\"\r\n  top: \"upscore\"\r\n  param {\r\n    lr_mult: 0\r\n  }\r\n  convolution_param {\r\n    num_output: 21\r\n    bias_term: false\r\n    kernel_size: 64\r\n    stride: 32\r\n  }\r\n}\r\nlayer {\r\n  name: \"score\"\r\n  type: \"Crop\"\r\n  bottom: \"upscore\"\r\n  bottom: \"data\"\r\n  top: \"score\"\r\n  crop_param {\r\n    axis: 2\r\n    offset: 19\r\n  }\r\n}\r\nlayer {\r\n  name: \"loss\"\r\n  type: \"SoftmaxWithLoss\"\r\n  bottom: \"score\"\r\n  bottom: \"label\"\r\n  top: \"loss\"\r\n  loss_param {\r\n    ignore_label: 255\r\n    normalize: false\r\n  }\r\n}\r\n```\r\n"}