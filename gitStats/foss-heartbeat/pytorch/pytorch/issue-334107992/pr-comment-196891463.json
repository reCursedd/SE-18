{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196891463", "pull_request_review_id": 130520042, "id": 196891463, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njg5MTQ2Mw==", "diff_hunk": "@@ -870,6 +873,8 @@ void testControlFlow() {\n   script::defineMethodsInModule(cu, cf_examples, torch::jit::script::Resolver(), nullptr);\n   auto run = [&](const std::string & name, std::vector<at::Tensor> stack) {\n     auto graph = cu.get_method(name).graph();\n+    // TODO: why isn't this (a required pass) called?\n+    EraseNumberTypes(graph);", "path": "torch/csrc/jit/test_jit.cpp", "position": null, "original_position": 24, "commit_id": "5eda0ceda38ead73ca63cfaf60091a2d55c6eef0", "original_commit_id": "416c80cde11c348807ca5d62140f18dcbaa6a296", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "We should decide _when_ EraseNumberTypes happens. If it is just so the interpreter doesn't have to handle it then the `Code` constructor should be the _only_ one to call it, and the calls in the graph executor should be removed.", "created_at": "2018-06-20T18:11:20Z", "updated_at": "2018-11-23T15:45:53Z", "html_url": "https://github.com/pytorch/pytorch/pull/8687#discussion_r196891463", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8687", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196891463"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8687#discussion_r196891463"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8687"}}, "body_html": "<p>We should decide <em>when</em> EraseNumberTypes happens. If it is just so the interpreter doesn't have to handle it then the <code>Code</code> constructor should be the <em>only</em> one to call it, and the calls in the graph executor should be removed.</p>", "body_text": "We should decide when EraseNumberTypes happens. If it is just so the interpreter doesn't have to handle it then the Code constructor should be the only one to call it, and the calls in the graph executor should be removed."}