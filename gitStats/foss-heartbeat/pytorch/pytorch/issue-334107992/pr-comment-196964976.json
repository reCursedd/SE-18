{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196964976", "pull_request_review_id": 130614670, "id": 196964976, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Njk2NDk3Ng==", "diff_hunk": "@@ -6,20 +6,21 @@ ModelProto {\n     GraphProto {\n       name: \"torch-jit-export\"\n       inputs: [{name: \"x.1\", type:Tensor dims: 1 2 3}]\n-      outputs: [{name: \"4\", type:Tensor dims: 1 2 3}]\n+      outputs: [{name: \"5\", type:Tensor dims: 1 2 3}]\n       initializers: []\n       nodes: [\n         Node {type: \"ReduceSum\", inputs: [x.1], outputs: [1], attributes: [{ name: 'keepdims', type: int, value: 0}]},\n         Node {type: \"Constant\", inputs: [], outputs: [2], attributes: [{ name: 'value', type: tensor, value:TensorProto shape: []}]},\n-        Node {type: \"Greater\", inputs: [1,2], outputs: [3], attributes: []},\n-        Node {type: \"If\", inputs: [3], outputs: [4], attributes: [{ name: 'then_branch', type: graph, value:\n+        Node {type: \"ATen\", inputs: [2,1], outputs: [3], attributes: [{ name: 'operator', type: string, value: 'type_as'}]},", "path": "test/expect/TestScript.test_onnx_export_script_module_if.expect", "position": null, "original_position": 12, "commit_id": "5eda0ceda38ead73ca63cfaf60091a2d55c6eef0", "original_commit_id": "416c80cde11c348807ca5d62140f18dcbaa6a296", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "body": "Thanks for the confirmation, @jamesr66a.  For now I think I could eliminate the aten::type_as nodes that I added right before exporting to onnx so that the behavior before this PR is unchanged.", "created_at": "2018-06-20T22:43:20Z", "updated_at": "2018-11-23T15:45:58Z", "html_url": "https://github.com/pytorch/pytorch/pull/8687#discussion_r196964976", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8687", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196964976"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8687#discussion_r196964976"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8687"}}, "body_html": "<p>Thanks for the confirmation, <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4685384\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jamesr66a\">@jamesr66a</a>.  For now I think I could eliminate the aten::type_as nodes that I added right before exporting to onnx so that the behavior before this PR is unchanged.</p>", "body_text": "Thanks for the confirmation, @jamesr66a.  For now I think I could eliminate the aten::type_as nodes that I added right before exporting to onnx so that the behavior before this PR is unchanged.", "in_reply_to_id": 196886221}