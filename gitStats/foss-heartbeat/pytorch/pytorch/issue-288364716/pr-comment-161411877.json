{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/161411877", "pull_request_review_id": 88696222, "id": 161411877, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MTQxMTg3Nw==", "diff_hunk": "@@ -298,6 +302,38 @@ def test_bernoulli_3d(self):\n                          (2, 5, 2, 3, 5))\n         self.assertEqual(Bernoulli(p).sample_n(2).size(), (2, 2, 3, 5))\n \n+    def test_binomial(self):\n+        total_count = 10\n+        p = Variable(torch.Tensor([0.1, 0.2, 0.3]), requires_grad=True)\n+        self._gradcheck_log_prob(lambda p: Multinomial(total_count, p), [p])\n+        self._gradcheck_log_prob(lambda p: Multinomial(total_count, None, p.log()), [p])\n+        self.assertRaises(NotImplementedError, Multinomial(10, p).rsample)\n+        self.assertRaises(NotImplementedError, Multinomial(10, p).entropy)\n+\n+    @unittest.skipIf(not TEST_NUMPY, \"NumPy not found\")\n+    def test_binomial_log_prob(self):\n+        total_count = 10\n+        probs = Variable(torch.Tensor([0.1, 0.2, 0.3]), requires_grad=True)", "path": "test/test_distributions.py", "position": null, "original_position": 42, "commit_id": "384a7aa1123bea06f052581f5b292b833afa6a49", "original_commit_id": "90c83303144bc4e9ff0a7de5918403aac423e586", "user": {"login": "fritzo", "id": 648532, "node_id": "MDQ6VXNlcjY0ODUzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/648532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fritzo", "html_url": "https://github.com/fritzo", "followers_url": "https://api.github.com/users/fritzo/followers", "following_url": "https://api.github.com/users/fritzo/following{/other_user}", "gists_url": "https://api.github.com/users/fritzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fritzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fritzo/subscriptions", "organizations_url": "https://api.github.com/users/fritzo/orgs", "repos_url": "https://api.github.com/users/fritzo/repos", "events_url": "https://api.github.com/users/fritzo/events{/privacy}", "received_events_url": "https://api.github.com/users/fritzo/received_events", "type": "User", "site_admin": false}, "body": "Could you add some more test data to provide more assurance that `log_prob` is correct?", "created_at": "2018-01-14T22:14:09Z", "updated_at": "2018-11-23T15:38:10Z", "html_url": "https://github.com/pytorch/pytorch/pull/4658#discussion_r161411877", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/4658", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/161411877"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/4658#discussion_r161411877"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/4658"}}, "body_html": "<p>Could you add some more test data to provide more assurance that <code>log_prob</code> is correct?</p>", "body_text": "Could you add some more test data to provide more assurance that log_prob is correct?"}