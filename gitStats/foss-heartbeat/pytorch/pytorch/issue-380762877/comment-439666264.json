{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/439666264", "html_url": "https://github.com/pytorch/pytorch/issues/13969#issuecomment-439666264", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13969", "id": 439666264, "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTY2NjI2NA==", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-18T04:08:39Z", "updated_at": "2018-11-18T13:10:48Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3768583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gchanan\">@gchanan</a> please correct me if I am wrong.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5652049\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zou3519\">@zou3519</a> There is not much difference afaict (except for the <code>AutoNoGIL</code> pointed out by <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=20787943\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/t-vi\">@t-vi</a>). We have two implementations for historical reasons. Python <code>.to</code> was implemented with <a href=\"https://github.com/pytorch/pytorch/blob/1bafa6236f60d6a356edb61ef885fe5d39b166ce/torch/csrc/utils/tensor_conversion_dispatch.cpp#L14\"><code>dispatch_type_conversion</code> </a> outside of ATen. Then, to maintain parity in C++ API, we added it as an ordinary method on <code>at::Tensor</code>, without touching <code>dispatch_type_conversion</code>. Afterwards, to support JIT, we changed the <code>at::Tensor</code> method to become a <a href=\"https://github.com/pytorch/pytorch/blob/1bafa6236f60d6a356edb61ef885fe5d39b166ce/aten/src/ATen/native/TensorConversions.cpp\">native function</a>. I be very happy if we can remove <code>dispatch_type_conversion</code> and use <code>.to</code> directly.</p>", "body_text": "@gchanan please correct me if I am wrong.\n@zou3519 There is not much difference afaict (except for the AutoNoGIL pointed out by @t-vi). We have two implementations for historical reasons. Python .to was implemented with dispatch_type_conversion  outside of ATen. Then, to maintain parity in C++ API, we added it as an ordinary method on at::Tensor, without touching dispatch_type_conversion. Afterwards, to support JIT, we changed the at::Tensor method to become a native function. I be very happy if we can remove dispatch_type_conversion and use .to directly.", "body": "@gchanan please correct me if I am wrong.\r\n\r\n@zou3519 There is not much difference afaict (except for the `AutoNoGIL` pointed out by @t-vi). We have two implementations for historical reasons. Python `.to` was implemented with [`dispatch_type_conversion` ](https://github.com/pytorch/pytorch/blob/1bafa6236f60d6a356edb61ef885fe5d39b166ce/torch/csrc/utils/tensor_conversion_dispatch.cpp#L14) outside of ATen. Then, to maintain parity in C++ API, we added it as an ordinary method on `at::Tensor`, without touching `dispatch_type_conversion`. Afterwards, to support JIT, we changed the `at::Tensor` method to become a [native function](https://github.com/pytorch/pytorch/blob/1bafa6236f60d6a356edb61ef885fe5d39b166ce/aten/src/ATen/native/TensorConversions.cpp). I be very happy if we can remove `dispatch_type_conversion` and use `.to` directly.\r\n\r\n"}