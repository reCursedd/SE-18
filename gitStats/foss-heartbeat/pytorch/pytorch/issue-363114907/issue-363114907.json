{"url": "https://api.github.com/repos/pytorch/pytorch/issues/12010", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/12010/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/12010/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/12010/events", "html_url": "https://github.com/pytorch/pytorch/issues/12010", "id": 363114907, "node_id": "MDU6SXNzdWUzNjMxMTQ5MDc=", "number": 12010, "title": "Caffe2 compiled with MKLDNN doesn't have device_type = MKLDNN", "user": {"login": "denmoroz", "id": 5019624, "node_id": "MDQ6VXNlcjUwMTk2MjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5019624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denmoroz", "html_url": "https://github.com/denmoroz", "followers_url": "https://api.github.com/users/denmoroz/followers", "following_url": "https://api.github.com/users/denmoroz/following{/other_user}", "gists_url": "https://api.github.com/users/denmoroz/gists{/gist_id}", "starred_url": "https://api.github.com/users/denmoroz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denmoroz/subscriptions", "organizations_url": "https://api.github.com/users/denmoroz/orgs", "repos_url": "https://api.github.com/users/denmoroz/repos", "events_url": "https://api.github.com/users/denmoroz/events{/privacy}", "received_events_url": "https://api.github.com/users/denmoroz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-24T11:58:10Z", "updated_at": "2018-09-24T17:19:11Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>Cannot use device_type = MKLDNN adter building Caffe2 from source with MKL and MKLDNN support.</p>\n<pre><code>self._device_opts = caffe2_pb2.DeviceOption()\nself._device_opts.device_type = caffe2_pb2.MKLDNN\n</code></pre>\n<p>Then, when using RunNetOnce:</p>\n<pre><code>RuntimeError: [enforce fail at operator.cc:90] gDeviceTypeRegistry()-&gt;count(type). Device type mkldnn not registered.\n</code></pre>\n<p>Also</p>\n<pre><code>workspace.C.has_mkldnn\n</code></pre>\n<p>returns False.</p>\n<h2>Installation process</h2>\n<ol>\n<li>Latest MKL installation:</li>\n</ol>\n<pre><code>wget https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\n    &amp;&amp; apt-key add GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\n    &amp;&amp; echo deb https://apt.repos.intel.com/mkl all main &gt; /etc/apt/sources.list.d/intel-mkl.list \\\n    &amp;&amp; apt-get update \\\n    &amp;&amp; apt-get install -y intel-mkl-64bit-2019.0-045\n</code></pre>\n<ol start=\"2\">\n<li>Installing MKL-DNN from master to \"/usr/local/mkl-dnn\":</li>\n</ol>\n<pre><code> git clone --depth 1 https://github.com/01org/mkl-dnn.git \\\n    &amp;&amp; cd mkl-dnn/scripts &amp;&amp; ./prepare_mkl.sh &amp;&amp; cd .. \\\n    &amp;&amp; mkdir -p build &amp;&amp; cd build &amp;&amp; mkdir -p /usr/local/mkl-dnn \\\n    &amp;&amp; cmake -DCMAKE_INSTALL_PREFIX=\"/usr/local/mkl-dnn\" .. \\\n    &amp;&amp; make -j\"$(nproc)\" &amp;&amp; make install \\\n    &amp;&amp; cd ../../ &amp;&amp; rm -rf mkl-dnn\n</code></pre>\n<pre><code>ln -s /usr/local/mkl-dnn/lib/libmklml_intel.so /usr/local/lib/libmklml_intel.so \\\n    &amp;&amp; ln -s /usr/local/mkl-dnn/lib/libmkldnn.so /usr/local/lib/libmkldnn.so \\\n    &amp;&amp; ln -s /usr/local/mkl-dnn/lib/libiomp5.so /usr/local/lib/libiomp5.so \\\n    &amp;&amp; ldconfig\n</code></pre>\n<ol start=\"3\">\n<li>Installing PyTorch &amp; Caffe2 from master for CPU inference (without CUDA):</li>\n</ol>\n<pre><code>git clone --depth 1 --recursive https://github.com/pytorch/pytorch.git \\\n    &amp;&amp; cd pytorch \\\n    &amp;&amp; MKLDNN_HOME=\"/usr/local/mkl-dnn\" FULL_CAFFE2=ON NO_CUDA=TRUE python3 setup.py install \\\n    &amp;&amp; cd .. &amp;&amp; rm -rf pytorch\n</code></pre>\n<ol start=\"4\">\n<li>Seems like MKL-DNN is correctly found:</li>\n</ol>\n<pre><code>-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NOT USE_CUDA is set\n-- CuDNN not found. Compiling without CuDNN support\n-- MIOpen not found. Compiling without MIOpen support\ndisabling ROCM because NOT USE_ROCM is set\n-- Found MKLDNN: /usr/local/mkl-dnn/include  \n-- Found MKLDNN      (include: /usr/local/mkl-dnn/include, library: /usr/local/mkl-dnn/lib/libmkldnn.so)\n</code></pre>\n<ol start=\"5\">\n<li>Whole summary:</li>\n</ol>\n<pre><code>-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.5.1\n--   CMake command         : /usr/bin/cmake\n--   Git version           : 76ab26c\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 5.4.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /usr/lib/python3/dist-packages\n--   CMAKE_INSTALL_PREFIX  : /pytorch/torch/lib/tmp_install\n-- \n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.5.2\n--     Python executable   : /usr/bin/python3\n--     Pythonlibs version  : 3.5.2\n--     Python library      : /usr/lib/python3.5\n--     Python includes     : /usr/include/python3.5m\n--     Python site-packages: lib/python3/dist-packages\n--   BUILD_CAFFE2_OPS      : ON\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : ON\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 0\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : \n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : ON\n--     USE_MPI             : ON\n--     USE_GLOO            : ON\n--     USE_GLOO_IBVERBS    : OFF\n--   Public Dependencies  : Threads::Threads;caffe2::mkl\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;/usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\n</code></pre>\n<h2>System Info</h2>\n<p>PyTorch version: 1.0.0a0+76ab26c<br>\nIs debug build: No<br>\nCUDA used to build PyTorch: None</p>\n<p>OS: Ubuntu 16.04.5 LTS<br>\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609<br>\nCMake version: version 3.5.1</p>\n<p>Python version: 3.5<br>\nIs CUDA available: No<br>\nCUDA runtime version: No CUDA<br>\nGPU models and configuration: No CUDA<br>\nNvidia driver version: No CUDA<br>\ncuDNN version: No CUDA</p>\n<p>Versions of relevant libraries:<br>\n[pip] Could not collect<br>\n[conda] Could not collect</p>", "body_text": "Issue description\nCannot use device_type = MKLDNN adter building Caffe2 from source with MKL and MKLDNN support.\nself._device_opts = caffe2_pb2.DeviceOption()\nself._device_opts.device_type = caffe2_pb2.MKLDNN\n\nThen, when using RunNetOnce:\nRuntimeError: [enforce fail at operator.cc:90] gDeviceTypeRegistry()->count(type). Device type mkldnn not registered.\n\nAlso\nworkspace.C.has_mkldnn\n\nreturns False.\nInstallation process\n\nLatest MKL installation:\n\nwget https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\n    && apt-key add GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\n    && echo deb https://apt.repos.intel.com/mkl all main > /etc/apt/sources.list.d/intel-mkl.list \\\n    && apt-get update \\\n    && apt-get install -y intel-mkl-64bit-2019.0-045\n\n\nInstalling MKL-DNN from master to \"/usr/local/mkl-dnn\":\n\n git clone --depth 1 https://github.com/01org/mkl-dnn.git \\\n    && cd mkl-dnn/scripts && ./prepare_mkl.sh && cd .. \\\n    && mkdir -p build && cd build && mkdir -p /usr/local/mkl-dnn \\\n    && cmake -DCMAKE_INSTALL_PREFIX=\"/usr/local/mkl-dnn\" .. \\\n    && make -j\"$(nproc)\" && make install \\\n    && cd ../../ && rm -rf mkl-dnn\n\nln -s /usr/local/mkl-dnn/lib/libmklml_intel.so /usr/local/lib/libmklml_intel.so \\\n    && ln -s /usr/local/mkl-dnn/lib/libmkldnn.so /usr/local/lib/libmkldnn.so \\\n    && ln -s /usr/local/mkl-dnn/lib/libiomp5.so /usr/local/lib/libiomp5.so \\\n    && ldconfig\n\n\nInstalling PyTorch & Caffe2 from master for CPU inference (without CUDA):\n\ngit clone --depth 1 --recursive https://github.com/pytorch/pytorch.git \\\n    && cd pytorch \\\n    && MKLDNN_HOME=\"/usr/local/mkl-dnn\" FULL_CAFFE2=ON NO_CUDA=TRUE python3 setup.py install \\\n    && cd .. && rm -rf pytorch\n\n\nSeems like MKL-DNN is correctly found:\n\n-- Found a library with BLAS API (mkl).\n-- Found a library with LAPACK API. (mkl)\ndisabling CUDA because NOT USE_CUDA is set\n-- CuDNN not found. Compiling without CuDNN support\n-- MIOpen not found. Compiling without MIOpen support\ndisabling ROCM because NOT USE_ROCM is set\n-- Found MKLDNN: /usr/local/mkl-dnn/include  \n-- Found MKLDNN      (include: /usr/local/mkl-dnn/include, library: /usr/local/mkl-dnn/lib/libmkldnn.so)\n\n\nWhole summary:\n\n-- \n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.5.1\n--   CMake command         : /usr/bin/cmake\n--   Git version           : 76ab26c\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 5.4.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /usr/lib/python3/dist-packages\n--   CMAKE_INSTALL_PREFIX  : /pytorch/torch/lib/tmp_install\n-- \n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 3.5.2\n--     Python executable   : /usr/bin/python3\n--     Pythonlibs version  : 3.5.2\n--     Python library      : /usr/lib/python3.5\n--     Python includes     : /usr/include/python3.5m\n--     Python site-packages: lib/python3/dist-packages\n--   BUILD_CAFFE2_OPS      : ON\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : ON\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 0\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : \n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               : \n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : OFF\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : ON\n--     USE_MPI             : ON\n--     USE_GLOO            : ON\n--     USE_GLOO_IBVERBS    : OFF\n--   Public Dependencies  : Threads::Threads;caffe2::mkl\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;/usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\n\nSystem Info\nPyTorch version: 1.0.0a0+76ab26c\nIs debug build: No\nCUDA used to build PyTorch: None\nOS: Ubuntu 16.04.5 LTS\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\nCMake version: version 3.5.1\nPython version: 3.5\nIs CUDA available: No\nCUDA runtime version: No CUDA\nGPU models and configuration: No CUDA\nNvidia driver version: No CUDA\ncuDNN version: No CUDA\nVersions of relevant libraries:\n[pip] Could not collect\n[conda] Could not collect", "body": "## Issue description\r\n\r\nCannot use device_type = MKLDNN adter building Caffe2 from source with MKL and MKLDNN support.\r\n\r\n```\r\nself._device_opts = caffe2_pb2.DeviceOption()\r\nself._device_opts.device_type = caffe2_pb2.MKLDNN\r\n```\r\n\r\nThen, when using RunNetOnce:\r\n\r\n```\r\nRuntimeError: [enforce fail at operator.cc:90] gDeviceTypeRegistry()->count(type). Device type mkldnn not registered.\r\n```\r\n\r\nAlso\r\n```\r\nworkspace.C.has_mkldnn\r\n```\r\n\r\nreturns False.\r\n\r\n## Installation process\r\n1. Latest MKL installation:\r\n```\r\nwget https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\r\n    && apt-key add GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB \\\r\n    && echo deb https://apt.repos.intel.com/mkl all main > /etc/apt/sources.list.d/intel-mkl.list \\\r\n    && apt-get update \\\r\n    && apt-get install -y intel-mkl-64bit-2019.0-045\r\n```\r\n\r\n2. Installing MKL-DNN from master to \"/usr/local/mkl-dnn\":\r\n```\r\n git clone --depth 1 https://github.com/01org/mkl-dnn.git \\\r\n    && cd mkl-dnn/scripts && ./prepare_mkl.sh && cd .. \\\r\n    && mkdir -p build && cd build && mkdir -p /usr/local/mkl-dnn \\\r\n    && cmake -DCMAKE_INSTALL_PREFIX=\"/usr/local/mkl-dnn\" .. \\\r\n    && make -j\"$(nproc)\" && make install \\\r\n    && cd ../../ && rm -rf mkl-dnn\r\n```\r\n\r\n```\r\nln -s /usr/local/mkl-dnn/lib/libmklml_intel.so /usr/local/lib/libmklml_intel.so \\\r\n    && ln -s /usr/local/mkl-dnn/lib/libmkldnn.so /usr/local/lib/libmkldnn.so \\\r\n    && ln -s /usr/local/mkl-dnn/lib/libiomp5.so /usr/local/lib/libiomp5.so \\\r\n    && ldconfig\r\n```\r\n\r\n3. Installing PyTorch & Caffe2 from master for CPU inference (without CUDA):\r\n```\r\ngit clone --depth 1 --recursive https://github.com/pytorch/pytorch.git \\\r\n    && cd pytorch \\\r\n    && MKLDNN_HOME=\"/usr/local/mkl-dnn\" FULL_CAFFE2=ON NO_CUDA=TRUE python3 setup.py install \\\r\n    && cd .. && rm -rf pytorch\r\n```\r\n\r\n4. Seems like MKL-DNN is correctly found:\r\n```\r\n-- Found a library with BLAS API (mkl).\r\n-- Found a library with LAPACK API. (mkl)\r\ndisabling CUDA because NOT USE_CUDA is set\r\n-- CuDNN not found. Compiling without CuDNN support\r\n-- MIOpen not found. Compiling without MIOpen support\r\ndisabling ROCM because NOT USE_ROCM is set\r\n-- Found MKLDNN: /usr/local/mkl-dnn/include  \r\n-- Found MKLDNN      (include: /usr/local/mkl-dnn/include, library: /usr/local/mkl-dnn/lib/libmkldnn.so)\r\n```\r\n\r\n5. Whole summary:\r\n```\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.5.1\r\n--   CMake command         : /usr/bin/cmake\r\n--   Git version           : 76ab26c\r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/c++\r\n--   C++ compiler version  : 5.4.0\r\n--   BLAS                  : MKL\r\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\r\n--   Build type            : Release\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;TH_BLAS_MKL;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\r\n--   CMAKE_PREFIX_PATH     : /usr/lib/python3/dist-packages\r\n--   CMAKE_INSTALL_PREFIX  : /pytorch/torch/lib/tmp_install\r\n-- \r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 3.5.2\r\n--     Python executable   : /usr/bin/python3\r\n--     Pythonlibs version  : 3.5.2\r\n--     Python library      : /usr/lib/python3.5\r\n--     Python includes     : /usr/include/python3.5m\r\n--     Python site-packages: lib/python3/dist-packages\r\n--   BUILD_CAFFE2_OPS      : ON\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : ON\r\n--   USE_ASAN              : OFF\r\n--   USE_CUDA              : 0\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : \r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_LEVELDB           : OFF\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : OFF\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : \r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_NCCL              : OFF\r\n--   USE_NERVANA_GPU       : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : OFF\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : ON\r\n--     USE_MPI             : ON\r\n--     USE_GLOO            : ON\r\n--     USE_GLOO_IBVERBS    : OFF\r\n--   Public Dependencies  : Threads::Threads;caffe2::mkl\r\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/x86_64-linux-gnu/libnuma.so;/usr/lib/openmpi/lib/libmpi_cxx.so;/usr/lib/openmpi/lib/libmpi.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\r\n-- Configuring done\r\n-- Generating done\r\n```\r\n\r\n## System Info\r\nPyTorch version: 1.0.0a0+76ab26c\r\nIs debug build: No\r\nCUDA used to build PyTorch: None\r\n\r\nOS: Ubuntu 16.04.5 LTS\r\nGCC version: (Ubuntu 5.4.0-6ubuntu1~16.04.10) 5.4.0 20160609\r\nCMake version: version 3.5.1\r\n\r\nPython version: 3.5\r\nIs CUDA available: No\r\nCUDA runtime version: No CUDA\r\nGPU models and configuration: No CUDA\r\nNvidia driver version: No CUDA\r\ncuDNN version: No CUDA\r\n\r\nVersions of relevant libraries:\r\n[pip] Could not collect\r\n[conda] Could not collect\r\n"}