{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9461", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9461/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9461/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9461/events", "html_url": "https://github.com/pytorch/pytorch/issues/9461", "id": 341368233, "node_id": "MDU6SXNzdWUzNDEzNjgyMzM=", "number": 9461, "title": "Windows CPU version much slower than Unix versions", "user": {"login": "peterjc123", "id": 9998726, "node_id": "MDQ6VXNlcjk5OTg3MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9998726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterjc123", "html_url": "https://github.com/peterjc123", "followers_url": "https://api.github.com/users/peterjc123/followers", "following_url": "https://api.github.com/users/peterjc123/following{/other_user}", "gists_url": "https://api.github.com/users/peterjc123/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterjc123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterjc123/subscriptions", "organizations_url": "https://api.github.com/users/peterjc123/orgs", "repos_url": "https://api.github.com/users/peterjc123/repos", "events_url": "https://api.github.com/users/peterjc123/events{/privacy}", "received_events_url": "https://api.github.com/users/peterjc123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 790080431, "node_id": "MDU6TGFiZWw3OTAwODA0MzE=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/windows", "name": "windows", "color": "fcff6b", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-07-16T01:13:57Z", "updated_at": "2018-07-16T17:18:46Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Actually, this was first detected when we tried to build 0.4 packages and do some benchmarking. At first, I thought the reason may be that <code>OpenMP</code> is not well supported. But recently, when I managed to build PyTorch CPU version with Intel C++ Compiler, it was still much slower in some of the complex networks like SqueezeNet and MobileNet. So I tried to use <code>Intel Advisor</code> to locate the problems. And here is the screenshot: (I tried to get the log but it keeps crashing...)<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/9998726/42740291-19d4b278-88d8-11e8-8af8-047519399392.png\"><img src=\"https://user-images.githubusercontent.com/9998726/42740291-19d4b278-88d8-11e8-8af8-047519399392.png\" alt=\"image\" style=\"max-width:100%;\"></a><br>\nIt actually detected the potential problems for us. But I just don't know whether these loops should be vectorized or remain the scalar version. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1716488\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cpuhrsch\">@cpuhrsch</a> , may be you can shed some light for me?</p>", "body_text": "Actually, this was first detected when we tried to build 0.4 packages and do some benchmarking. At first, I thought the reason may be that OpenMP is not well supported. But recently, when I managed to build PyTorch CPU version with Intel C++ Compiler, it was still much slower in some of the complex networks like SqueezeNet and MobileNet. So I tried to use Intel Advisor to locate the problems. And here is the screenshot: (I tried to get the log but it keeps crashing...)\n\nIt actually detected the potential problems for us. But I just don't know whether these loops should be vectorized or remain the scalar version. @cpuhrsch , may be you can shed some light for me?", "body": "Actually, this was first detected when we tried to build 0.4 packages and do some benchmarking. At first, I thought the reason may be that `OpenMP` is not well supported. But recently, when I managed to build PyTorch CPU version with Intel C++ Compiler, it was still much slower in some of the complex networks like SqueezeNet and MobileNet. So I tried to use `Intel Advisor` to locate the problems. And here is the screenshot: (I tried to get the log but it keeps crashing...)\r\n![image](https://user-images.githubusercontent.com/9998726/42740291-19d4b278-88d8-11e8-8af8-047519399392.png)\r\nIt actually detected the potential problems for us. But I just don't know whether these loops should be vectorized or remain the scalar version. @cpuhrsch , may be you can shed some light for me?"}