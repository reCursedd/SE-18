{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/212831631", "pull_request_review_id": 149543630, "id": 212831631, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjgzMTYzMQ==", "diff_hunk": "@@ -95,14 +97,25 @@ RecordFunction::RecordFunction(const char* name) {\n   pushRange(name);\n }\n \n+RecordFunction::RecordFunction(const char* name, int64_t current_sequence_nr) \n+{\n+  if (state == ProfilerState::Disabled)\n+    return;\n+  std::stringstream s;\n+  s << name << \", current sequence nr \" << current_sequence_nr;\n+  pushRange(s.str());", "path": "torch/csrc/autograd/profiler.cpp", "position": null, "original_position": 19, "commit_id": "e381a7b571a238371006fd69e7aff72bdd1ffb1e", "original_commit_id": "ca57b19fd7ee94f62e9c9aae97a7687f257caa29", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "All string formatting should happen when the trace is processed. Right now it happens in the hot path and greatly increases the overhead of the profiler. Also, can we make it less verbose as in e.g. `Add(id=123)`, and then `AddBackward(forward_id=123)`?", "created_at": "2018-08-26T16:28:01Z", "updated_at": "2018-11-23T15:50:02Z", "html_url": "https://github.com/pytorch/pytorch/pull/10881#discussion_r212831631", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/10881", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/212831631"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/10881#discussion_r212831631"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/10881"}}, "body_html": "<p>All string formatting should happen when the trace is processed. Right now it happens in the hot path and greatly increases the overhead of the profiler. Also, can we make it less verbose as in e.g. <code>Add(id=123)</code>, and then <code>AddBackward(forward_id=123)</code>?</p>", "body_text": "All string formatting should happen when the trace is processed. Right now it happens in the hot path and greatly increases the overhead of the profiler. Also, can we make it less verbose as in e.g. Add(id=123), and then AddBackward(forward_id=123)?"}