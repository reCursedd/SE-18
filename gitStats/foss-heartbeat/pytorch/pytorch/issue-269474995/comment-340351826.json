{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/340351826", "html_url": "https://github.com/pytorch/pytorch/pull/3359#issuecomment-340351826", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3359", "id": 340351826, "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDM1MTgyNg==", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "created_at": "2017-10-30T06:06:17Z", "updated_at": "2017-10-30T06:06:17Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Haven't had time to look at this fully yet, but its not clear if we should be copying the inputs list every time just because of const correctness. Instead can we make both input and output not make copies? For instance, can we return ArrayRef&lt;Node*&gt; or ArrayRef&lt;const Node*&gt; for both input and output?  You can construct a single-entry ArrayRef for the <code>outputs().size() == 1</code> whose begin  is just the node itself. I think the only gotcha is making sure the python conversions of ArrayRef work.</p>", "body_text": "Haven't had time to look at this fully yet, but its not clear if we should be copying the inputs list every time just because of const correctness. Instead can we make both input and output not make copies? For instance, can we return ArrayRef<Node*> or ArrayRef<const Node*> for both input and output?  You can construct a single-entry ArrayRef for the outputs().size() == 1 whose begin  is just the node itself. I think the only gotcha is making sure the python conversions of ArrayRef work.", "body": "Haven't had time to look at this fully yet, but its not clear if we should be copying the inputs list every time just because of const correctness. Instead can we make both input and output not make copies? For instance, can we return ArrayRef<Node*> or ArrayRef<const Node*> for both input and output?  You can construct a single-entry ArrayRef for the `outputs().size() == 1` whose begin  is just the node itself. I think the only gotcha is making sure the python conversions of ArrayRef work."}