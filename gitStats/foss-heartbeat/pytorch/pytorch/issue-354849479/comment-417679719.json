{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/417679719", "html_url": "https://github.com/pytorch/pytorch/issues/10960#issuecomment-417679719", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/10960", "id": 417679719, "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzY3OTcxOQ==", "user": {"login": "hanyunfan", "id": 6924448, "node_id": "MDQ6VXNlcjY5MjQ0NDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6924448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanyunfan", "html_url": "https://github.com/hanyunfan", "followers_url": "https://api.github.com/users/hanyunfan/followers", "following_url": "https://api.github.com/users/hanyunfan/following{/other_user}", "gists_url": "https://api.github.com/users/hanyunfan/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanyunfan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanyunfan/subscriptions", "organizations_url": "https://api.github.com/users/hanyunfan/orgs", "repos_url": "https://api.github.com/users/hanyunfan/repos", "events_url": "https://api.github.com/users/hanyunfan/events{/privacy}", "received_events_url": "https://api.github.com/users/hanyunfan/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-31T14:22:13Z", "updated_at": "2018-08-31T14:22:13Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=79994\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/orionr\">@orionr</a> which gcc you are using?</p>\n<p>Switched to 5.5, and get below error:</p>\n<p>[ 17%] Linking C static library ../../lib/libnnpack.a<br>\ncd /home/frank/pytorch/build/confu-deps/NNPACK &amp;&amp; /home/frank/miniconda2/bin/cmake -P CMakeFiles/nnpack.dir/cmake_clean_target.cmake<br>\ncd /home/frank/pytorch/build/confu-deps/NNPACK &amp;&amp; /home/frank/miniconda2/bin/cmake -E cmake_link_script CMakeFiles/nnpack.dir/link.txt --verbose=1<br>\n/bin/ar qc ../../lib/libnnpack.a  CMakeFiles/nnpack.dir/src/init.c.o CMakeFiles/nnpack.dir/src/convolution-inference.c.o CMakeFiles/nnpack.dir/src/fully-connected-inference.c.o CMakeFiles/nnpack.dir/src/pooling-output.c.o CMakeFiles/nnpack.dir/src/relu-output.c.o CMakeFiles/nnpack.dir/src/softmax-output.c.o CMakeFiles/nnpack.dir/src/fully-connected-output.c.o CMakeFiles/nnpack.dir/src/relu-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-kernel-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-output.c.o CMakeFiles/nnpack.dir/src/x86_64-fma/softmax.c.o src/x86_64-fma/2d-fourier-8x8.py.o src/x86_64-fma/2d-fourier-16x16.py.o src/x86_64-fma/2d-winograd-8x8-3x3.py.o src/x86_64-fma/blas/s8gemm.py.o src/x86_64-fma/blas/c8gemm.py.o src/x86_64-fma/blas/s4c6gemm.py.o src/x86_64-fma/blas/conv1x1.py.o src/x86_64-fma/blas/sgemm.py.o src/x86_64-fma/max-pooling.py.o src/x86_64-fma/relu.py.o src/x86_64-fma/softmax.py.o src/x86_64-fma/blas/sdotxf.py.o src/x86_64-fma/blas/shdotxf.py.o<br>\n/bin/ranlib ../../lib/libnnpack.a<br>\nmake[2]: Leaving directory <code>/home/frank/pytorch/build' [ 17%] Built target nnpack make[1]: Leaving directory </code>/home/frank/pytorch/build'<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn --use-gloo-ibverbs --full-caffe2 caffe2 libshm gloo THD c10d'<br>\n[frank@node010 pytorch]$</p>", "body_text": "@orionr which gcc you are using?\nSwitched to 5.5, and get below error:\n[ 17%] Linking C static library ../../lib/libnnpack.a\ncd /home/frank/pytorch/build/confu-deps/NNPACK && /home/frank/miniconda2/bin/cmake -P CMakeFiles/nnpack.dir/cmake_clean_target.cmake\ncd /home/frank/pytorch/build/confu-deps/NNPACK && /home/frank/miniconda2/bin/cmake -E cmake_link_script CMakeFiles/nnpack.dir/link.txt --verbose=1\n/bin/ar qc ../../lib/libnnpack.a  CMakeFiles/nnpack.dir/src/init.c.o CMakeFiles/nnpack.dir/src/convolution-inference.c.o CMakeFiles/nnpack.dir/src/fully-connected-inference.c.o CMakeFiles/nnpack.dir/src/pooling-output.c.o CMakeFiles/nnpack.dir/src/relu-output.c.o CMakeFiles/nnpack.dir/src/softmax-output.c.o CMakeFiles/nnpack.dir/src/fully-connected-output.c.o CMakeFiles/nnpack.dir/src/relu-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-kernel-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-output.c.o CMakeFiles/nnpack.dir/src/x86_64-fma/softmax.c.o src/x86_64-fma/2d-fourier-8x8.py.o src/x86_64-fma/2d-fourier-16x16.py.o src/x86_64-fma/2d-winograd-8x8-3x3.py.o src/x86_64-fma/blas/s8gemm.py.o src/x86_64-fma/blas/c8gemm.py.o src/x86_64-fma/blas/s4c6gemm.py.o src/x86_64-fma/blas/conv1x1.py.o src/x86_64-fma/blas/sgemm.py.o src/x86_64-fma/max-pooling.py.o src/x86_64-fma/relu.py.o src/x86_64-fma/softmax.py.o src/x86_64-fma/blas/sdotxf.py.o src/x86_64-fma/blas/shdotxf.py.o\n/bin/ranlib ../../lib/libnnpack.a\nmake[2]: Leaving directory /home/frank/pytorch/build' [ 17%] Built target nnpack make[1]: Leaving directory /home/frank/pytorch/build'\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn --use-gloo-ibverbs --full-caffe2 caffe2 libshm gloo THD c10d'\n[frank@node010 pytorch]$", "body": "@orionr which gcc you are using?\r\n\r\nSwitched to 5.5, and get below error:\r\n\r\n[ 17%] Linking C static library ../../lib/libnnpack.a\r\ncd /home/frank/pytorch/build/confu-deps/NNPACK && /home/frank/miniconda2/bin/cmake -P CMakeFiles/nnpack.dir/cmake_clean_target.cmake\r\ncd /home/frank/pytorch/build/confu-deps/NNPACK && /home/frank/miniconda2/bin/cmake -E cmake_link_script CMakeFiles/nnpack.dir/link.txt --verbose=1\r\n/bin/ar qc ../../lib/libnnpack.a  CMakeFiles/nnpack.dir/src/init.c.o CMakeFiles/nnpack.dir/src/convolution-inference.c.o CMakeFiles/nnpack.dir/src/fully-connected-inference.c.o CMakeFiles/nnpack.dir/src/pooling-output.c.o CMakeFiles/nnpack.dir/src/relu-output.c.o CMakeFiles/nnpack.dir/src/softmax-output.c.o CMakeFiles/nnpack.dir/src/fully-connected-output.c.o CMakeFiles/nnpack.dir/src/relu-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-input-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-kernel-gradient.c.o CMakeFiles/nnpack.dir/src/convolution-output.c.o CMakeFiles/nnpack.dir/src/x86_64-fma/softmax.c.o src/x86_64-fma/2d-fourier-8x8.py.o src/x86_64-fma/2d-fourier-16x16.py.o src/x86_64-fma/2d-winograd-8x8-3x3.py.o src/x86_64-fma/blas/s8gemm.py.o src/x86_64-fma/blas/c8gemm.py.o src/x86_64-fma/blas/s4c6gemm.py.o src/x86_64-fma/blas/conv1x1.py.o src/x86_64-fma/blas/sgemm.py.o src/x86_64-fma/max-pooling.py.o src/x86_64-fma/relu.py.o src/x86_64-fma/softmax.py.o src/x86_64-fma/blas/sdotxf.py.o src/x86_64-fma/blas/shdotxf.py.o\r\n/bin/ranlib ../../lib/libnnpack.a\r\nmake[2]: Leaving directory `/home/frank/pytorch/build'\r\n[ 17%] Built target nnpack\r\nmake[1]: Leaving directory `/home/frank/pytorch/build'\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-nnpack --use-mkldnn --use-gloo-ibverbs --full-caffe2 caffe2 libshm gloo THD c10d'\r\n[frank@node010 pytorch]$\r\n"}