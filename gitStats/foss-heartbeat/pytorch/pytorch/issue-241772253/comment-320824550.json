{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/320824550", "html_url": "https://github.com/pytorch/pytorch/issues/2036#issuecomment-320824550", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/2036", "id": 320824550, "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDgyNDU1MA==", "user": {"login": "liubenyuan", "id": 171338, "node_id": "MDQ6VXNlcjE3MTMzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/171338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liubenyuan", "html_url": "https://github.com/liubenyuan", "followers_url": "https://api.github.com/users/liubenyuan/followers", "following_url": "https://api.github.com/users/liubenyuan/following{/other_user}", "gists_url": "https://api.github.com/users/liubenyuan/gists{/gist_id}", "starred_url": "https://api.github.com/users/liubenyuan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liubenyuan/subscriptions", "organizations_url": "https://api.github.com/users/liubenyuan/orgs", "repos_url": "https://api.github.com/users/liubenyuan/repos", "events_url": "https://api.github.com/users/liubenyuan/events{/privacy}", "received_events_url": "https://api.github.com/users/liubenyuan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-08-08T01:30:14Z", "updated_at": "2017-08-08T01:30:14Z", "author_association": "NONE", "body_html": "<p>Hi, I experience the same issue when upgrading pytorch 0.1.2 to pytorch 0.2.0</p>\n<pre><code>----&gt; 1 import torch\n\n/opt/anaconda/lib/python3.6/site-packages/torch/__init__.py in &lt;module&gt;()\n     51 sys.setdlopenflags(_dl_flags.RTLD_GLOBAL | _dl_flags.RTLD_NOW)\n     52 \n---&gt; 53 from torch._C import *\n     54 \n     55 __all__ += [name for name in dir(_C)\n\nImportError: /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1: undefined symbol: THLongStorage_inferSizeN\n</code></pre>\n<p>and</p>\n<pre><code>nm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1 | grep THLongStorage_infer\n                 U THLongStorage_inferExpandGeometry\n                 U THLongStorage_inferSizeN\n</code></pre>\n<p>however, <code>THLongStorage_infer</code> exists in <code>libTH.so.1</code>, it seems like torch tries to find <code>libTHC</code> instead of <code>libTH</code>.</p>\n<pre><code>nm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTH.so.1 | grep THLongStorage_infer\n0000000000036d40 T THLongStorage_inferExpandGeometry\n00000000000368f0 T THLongStorage_inferSize2\n0000000000036ac0 T THLongStorage_inferSizeN\n</code></pre>", "body_text": "Hi, I experience the same issue when upgrading pytorch 0.1.2 to pytorch 0.2.0\n----> 1 import torch\n\n/opt/anaconda/lib/python3.6/site-packages/torch/__init__.py in <module>()\n     51 sys.setdlopenflags(_dl_flags.RTLD_GLOBAL | _dl_flags.RTLD_NOW)\n     52 \n---> 53 from torch._C import *\n     54 \n     55 __all__ += [name for name in dir(_C)\n\nImportError: /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1: undefined symbol: THLongStorage_inferSizeN\n\nand\nnm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1 | grep THLongStorage_infer\n                 U THLongStorage_inferExpandGeometry\n                 U THLongStorage_inferSizeN\n\nhowever, THLongStorage_infer exists in libTH.so.1, it seems like torch tries to find libTHC instead of libTH.\nnm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTH.so.1 | grep THLongStorage_infer\n0000000000036d40 T THLongStorage_inferExpandGeometry\n00000000000368f0 T THLongStorage_inferSize2\n0000000000036ac0 T THLongStorage_inferSizeN", "body": "Hi, I experience the same issue when upgrading pytorch 0.1.2 to pytorch 0.2.0\r\n\r\n```\r\n----> 1 import torch\r\n\r\n/opt/anaconda/lib/python3.6/site-packages/torch/__init__.py in <module>()\r\n     51 sys.setdlopenflags(_dl_flags.RTLD_GLOBAL | _dl_flags.RTLD_NOW)\r\n     52 \r\n---> 53 from torch._C import *\r\n     54 \r\n     55 __all__ += [name for name in dir(_C)\r\n\r\nImportError: /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1: undefined symbol: THLongStorage_inferSizeN\r\n```\r\n\r\nand \r\n```\r\nnm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTHC.so.1 | grep THLongStorage_infer\r\n                 U THLongStorage_inferExpandGeometry\r\n                 U THLongStorage_inferSizeN\r\n```\r\nhowever, `THLongStorage_infer` exists in `libTH.so.1`, it seems like torch tries to find `libTHC` instead of `libTH`.\r\n```\r\nnm /opt/anaconda/lib/python3.6/site-packages/torch/lib/libTH.so.1 | grep THLongStorage_infer\r\n0000000000036d40 T THLongStorage_inferExpandGeometry\r\n00000000000368f0 T THLongStorage_inferSize2\r\n0000000000036ac0 T THLongStorage_inferSizeN\r\n```"}