{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/395607852", "html_url": "https://github.com/pytorch/pytorch/pull/8117#issuecomment-395607852", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8117", "id": 395607852, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTYwNzg1Mg==", "user": {"login": "weiyangfb", "id": 38509346, "node_id": "MDQ6VXNlcjM4NTA5MzQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/38509346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weiyangfb", "html_url": "https://github.com/weiyangfb", "followers_url": "https://api.github.com/users/weiyangfb/followers", "following_url": "https://api.github.com/users/weiyangfb/following{/other_user}", "gists_url": "https://api.github.com/users/weiyangfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/weiyangfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weiyangfb/subscriptions", "organizations_url": "https://api.github.com/users/weiyangfb/orgs", "repos_url": "https://api.github.com/users/weiyangfb/repos", "events_url": "https://api.github.com/users/weiyangfb/events{/privacy}", "received_events_url": "https://api.github.com/users/weiyangfb/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-08T00:30:44Z", "updated_at": "2018-06-11T20:45:02Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Now the failure should appears:</p>\n<pre><code>00:21:26 ======================================================================\n00:21:26 FAIL: test_hardshrink (test_torch.TestTorch)\n00:21:26 ----------------------------------------------------------------------\n00:21:26 Traceback (most recent call last):\n00:21:26   File \"/var/lib/jenkins/workspace/test/test_torch.py\", line 5592, in test_hardshrink\n00:21:26     self.assertEqual(torch.tensor([1, 0, 0, 0.6]).view(2, 2), data.hardshrink())\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 307, in assertEqual\n00:21:26     assertTensorsEqual(x, y)\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 299, in assertTensorsEqual\n00:21:26     self.assertLessEqual(max_err, prec, message)\n00:21:26 AssertionError: tensor(0.5000) not less than or equal to 1e-05\n00:21:26 \n00:21:26 ----------------------------------------------------------------------\n00:21:26 lambd = 0.3\n00:21:26 lambd = 0.5\n00:21:26 lambd = 0\n00:21:26 Ran 508 tests in 29.749s\n00:21:26 \n00:21:26 FAILED (failures=1, skipped=123)\n00:21:26 Traceback (most recent call last):\n00:21:26   File \"test/run_test.py\", line 344, in &lt;module&gt;\n00:21:26     main()\n00:21:26   File \"test/run_test.py\", line 336, in main\n00:21:26     raise RuntimeError(message)\n00:21:26 RuntimeError: test_sparse failed!\n</code></pre>\n<p>The 3rd lambd equals 0, where it should be default value 0.5</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a></p>", "body_text": "Now the failure should appears:\n00:21:26 ======================================================================\n00:21:26 FAIL: test_hardshrink (test_torch.TestTorch)\n00:21:26 ----------------------------------------------------------------------\n00:21:26 Traceback (most recent call last):\n00:21:26   File \"/var/lib/jenkins/workspace/test/test_torch.py\", line 5592, in test_hardshrink\n00:21:26     self.assertEqual(torch.tensor([1, 0, 0, 0.6]).view(2, 2), data.hardshrink())\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 307, in assertEqual\n00:21:26     assertTensorsEqual(x, y)\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 299, in assertTensorsEqual\n00:21:26     self.assertLessEqual(max_err, prec, message)\n00:21:26 AssertionError: tensor(0.5000) not less than or equal to 1e-05\n00:21:26 \n00:21:26 ----------------------------------------------------------------------\n00:21:26 lambd = 0.3\n00:21:26 lambd = 0.5\n00:21:26 lambd = 0\n00:21:26 Ran 508 tests in 29.749s\n00:21:26 \n00:21:26 FAILED (failures=1, skipped=123)\n00:21:26 Traceback (most recent call last):\n00:21:26   File \"test/run_test.py\", line 344, in <module>\n00:21:26     main()\n00:21:26   File \"test/run_test.py\", line 336, in main\n00:21:26     raise RuntimeError(message)\n00:21:26 RuntimeError: test_sparse failed!\n\nThe 3rd lambd equals 0, where it should be default value 0.5\n@ezyang", "body": "Now the failure should appears:\r\n\r\n```\r\n00:21:26 ======================================================================\r\n00:21:26 FAIL: test_hardshrink (test_torch.TestTorch)\r\n00:21:26 ----------------------------------------------------------------------\r\n00:21:26 Traceback (most recent call last):\r\n00:21:26   File \"/var/lib/jenkins/workspace/test/test_torch.py\", line 5592, in test_hardshrink\r\n00:21:26     self.assertEqual(torch.tensor([1, 0, 0, 0.6]).view(2, 2), data.hardshrink())\r\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 307, in assertEqual\r\n00:21:26     assertTensorsEqual(x, y)\r\n00:21:26   File \"/var/lib/jenkins/workspace/test/common.py\", line 299, in assertTensorsEqual\r\n00:21:26     self.assertLessEqual(max_err, prec, message)\r\n00:21:26 AssertionError: tensor(0.5000) not less than or equal to 1e-05\r\n00:21:26 \r\n00:21:26 ----------------------------------------------------------------------\r\n00:21:26 lambd = 0.3\r\n00:21:26 lambd = 0.5\r\n00:21:26 lambd = 0\r\n00:21:26 Ran 508 tests in 29.749s\r\n00:21:26 \r\n00:21:26 FAILED (failures=1, skipped=123)\r\n00:21:26 Traceback (most recent call last):\r\n00:21:26   File \"test/run_test.py\", line 344, in <module>\r\n00:21:26     main()\r\n00:21:26   File \"test/run_test.py\", line 336, in main\r\n00:21:26     raise RuntimeError(message)\r\n00:21:26 RuntimeError: test_sparse failed!\r\n```\r\n\r\nThe 3rd lambd equals 0, where it should be default value 0.5\r\n\r\n@ezyang "}