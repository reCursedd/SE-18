{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/362084807", "html_url": "https://github.com/pytorch/pytorch/issues/4948#issuecomment-362084807", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4948", "id": 362084807, "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjA4NDgwNw==", "user": {"login": "yf225", "id": 4063635, "node_id": "MDQ6VXNlcjQwNjM2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4063635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yf225", "html_url": "https://github.com/yf225", "followers_url": "https://api.github.com/users/yf225/followers", "following_url": "https://api.github.com/users/yf225/following{/other_user}", "gists_url": "https://api.github.com/users/yf225/gists{/gist_id}", "starred_url": "https://api.github.com/users/yf225/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yf225/subscriptions", "organizations_url": "https://api.github.com/users/yf225/orgs", "repos_url": "https://api.github.com/users/yf225/repos", "events_url": "https://api.github.com/users/yf225/events{/privacy}", "received_events_url": "https://api.github.com/users/yf225/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-31T21:58:18Z", "updated_at": "2018-01-31T21:58:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p>For CPU perf tests, it's necessary to run them on dedicated machines (vs. shared VPC instances) to avoid runtime fluctuation. However, both dedicated instances and dedicated hosts on EC2 are quite expensive compared to shared instances. For our CI system we can get around it by running the CPU perf tests on our Mac machines which are dedicated, but it will be hard for developers to spin up a strictly equivalent instance and run the tests themselves.</p>\n<p>One solution is to encourage the developers to run the CPU perf tests on their own dev machines (using Docker to set up the same test environment, but not the same hardware specs), and pay more attention to where the slowness are before/after the change rather than comparing the absolute numbers with the CI benchmark.</p>", "body_text": "For CPU perf tests, it's necessary to run them on dedicated machines (vs. shared VPC instances) to avoid runtime fluctuation. However, both dedicated instances and dedicated hosts on EC2 are quite expensive compared to shared instances. For our CI system we can get around it by running the CPU perf tests on our Mac machines which are dedicated, but it will be hard for developers to spin up a strictly equivalent instance and run the tests themselves.\nOne solution is to encourage the developers to run the CPU perf tests on their own dev machines (using Docker to set up the same test environment, but not the same hardware specs), and pay more attention to where the slowness are before/after the change rather than comparing the absolute numbers with the CI benchmark.", "body": "For CPU perf tests, it's necessary to run them on dedicated machines (vs. shared VPC instances) to avoid runtime fluctuation. However, both dedicated instances and dedicated hosts on EC2 are quite expensive compared to shared instances. For our CI system we can get around it by running the CPU perf tests on our Mac machines which are dedicated, but it will be hard for developers to spin up a strictly equivalent instance and run the tests themselves.\r\n\r\nOne solution is to encourage the developers to run the CPU perf tests on their own dev machines (using Docker to set up the same test environment, but not the same hardware specs), and pay more attention to where the slowness are before/after the change rather than comparing the absolute numbers with the CI benchmark. "}