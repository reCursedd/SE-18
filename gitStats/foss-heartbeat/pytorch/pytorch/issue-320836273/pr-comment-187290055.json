{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187290055", "pull_request_review_id": 119037709, "id": 187290055, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NzI5MDA1NQ==", "diff_hunk": "@@ -6265,14 +6265,32 @@ def load_bytes():\n             return data\n \n         fileobject_lambdas = [lambda: test_file_path, load_bytes]\n-        map_locations = [map_location, {'cuda:0': 'cpu'}, 'cpu']\n+        map_locations = [map_location, {'cuda:0': 'cpu'}, 'cpu', torch.device('cpu')]\n \n         for fileobject_lambda in fileobject_lambdas:\n             for map_location in map_locations:\n                 tensor = torch.load(fileobject_lambda(), map_location=map_location)\n                 self.assertIsInstance(tensor, torch.FloatTensor)\n                 self.assertEqual(tensor, torch.FloatTensor([[1.0, 2.0], [3.0, 4.0]]))\n \n+    @unittest.skipIf(not torch.cuda.is_available(), 'no CUDA')\n+    def test_serialization_map_location_cuda(self):", "path": "test/test_torch.py", "position": null, "original_position": 14, "commit_id": "42ca998298e509ba4dca616aa8014d2ed6d097ca", "original_commit_id": "ec6af39eb1f2c3122720a7465d87fa1ee222c324", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "I can't see why do we need this extra test. It should be very easy to just add the extra cases to the one above, and change `assertIsInstance(tensor, torch.FloatTensor)` to something more robust", "created_at": "2018-05-10T10:05:12Z", "updated_at": "2018-11-23T15:43:50Z", "html_url": "https://github.com/pytorch/pytorch/pull/7339#discussion_r187290055", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/7339", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/187290055"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/7339#discussion_r187290055"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/7339"}}, "body_html": "<p>I can't see why do we need this extra test. It should be very easy to just add the extra cases to the one above, and change <code>assertIsInstance(tensor, torch.FloatTensor)</code> to something more robust</p>", "body_text": "I can't see why do we need this extra test. It should be very easy to just add the extra cases to the one above, and change assertIsInstance(tensor, torch.FloatTensor) to something more robust"}