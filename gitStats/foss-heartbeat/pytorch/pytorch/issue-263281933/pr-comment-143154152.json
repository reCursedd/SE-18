{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/143154152", "pull_request_review_id": 67623475, "id": 143154152, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzE1NDE1Mg==", "diff_hunk": "@@ -580,5 +567,85 @@ def _time(trace_name, name, time=True):\n         print(\"{} {} time: {} ms\".format(trace_name, name, start.elapsed_time(end)))\n \n \n+def verify(model, args, loss_fn=torch.sum, devices=None):\n+    \"\"\"\n+    Verify that a JIT compiled model has the same behavior as its uncompiled\n+    version along with its backwards pass.\n+\n+    This function has side-effects (e.g., it executes your model / saves and loads\n+    parameters), so don't expect the model to come out exactly the same as what\n+    you passed in.", "path": "torch/jit/__init__.py", "position": null, "original_position": 157, "commit_id": "672a20149aada1a999056fd6074d3726fe8b1d8d", "original_commit_id": "7735ba1f8eabf3506cfc416fc04621266be7fbec", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "Executing a model and saving/loading parameters isn't an externally visible side effect. Let's just say that it **might have side effects if your model changes at every forward (e.g. you have BN in training mode)**. It might also be good switch the model to eval like we do with exports", "created_at": "2017-10-06T10:05:48Z", "updated_at": "2018-11-23T15:35:04Z", "html_url": "https://github.com/pytorch/pytorch/pull/2995#discussion_r143154152", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/2995", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/143154152"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/2995#discussion_r143154152"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/2995"}}, "body_html": "<p>Executing a model and saving/loading parameters isn't an externally visible side effect. Let's just say that it <strong>might have side effects if your model changes at every forward (e.g. you have BN in training mode)</strong>. It might also be good switch the model to eval like we do with exports</p>", "body_text": "Executing a model and saving/loading parameters isn't an externally visible side effect. Let's just say that it might have side effects if your model changes at every forward (e.g. you have BN in training mode). It might also be good switch the model to eval like we do with exports"}