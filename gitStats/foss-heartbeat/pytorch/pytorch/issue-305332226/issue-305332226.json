{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5791", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5791/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5791/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5791/events", "html_url": "https://github.com/pytorch/pytorch/issues/5791", "id": 305332226, "node_id": "MDU6SXNzdWUzMDUzMzIyMjY=", "number": 5791, "title": "torch.poisson does not work with FloatTensor on master", "user": {"login": "neerajprad", "id": 1762463, "node_id": "MDQ6VXNlcjE3NjI0NjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1762463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neerajprad", "html_url": "https://github.com/neerajprad", "followers_url": "https://api.github.com/users/neerajprad/followers", "following_url": "https://api.github.com/users/neerajprad/following{/other_user}", "gists_url": "https://api.github.com/users/neerajprad/gists{/gist_id}", "starred_url": "https://api.github.com/users/neerajprad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neerajprad/subscriptions", "organizations_url": "https://api.github.com/users/neerajprad/orgs", "repos_url": "https://api.github.com/users/neerajprad/repos", "events_url": "https://api.github.com/users/neerajprad/events{/privacy}", "received_events_url": "https://api.github.com/users/neerajprad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-14T21:17:58Z", "updated_at": "2018-03-17T16:05:34Z", "closed_at": "2018-03-17T16:05:34Z", "author_association": "CONTRIBUTOR", "body_html": "<ul>\n<li>OS: Mac</li>\n<li>PyTorch version: master (commit <code>e40425f</code>)</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Python version: 2.7</li>\n<li>GPU models and configuration: CPU</li>\n<li>GCC version (if compiling from source): clang</li>\n</ul>\n<p>When upgrading to PyTorch master (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"305307042\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/uber/pyro/issues/890\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/uber/pyro/pull/890/hovercard\" href=\"https://github.com/uber/pyro/pull/890\">uber/pyro#890</a>), we realized that <code>torch.poisson</code> no longer accepts a <code>FloatTensor</code>, but works with a <code>DoubleTensor</code>.</p>\n<pre><code>&gt;&gt;&gt; import torch\n&gt;&gt;&gt; torch.poisson(torch.tensor([1]))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nRuntimeError: expected scalar type Double but found Float\n\n&gt;&gt;&gt; torch.poisson(torch.DoubleTensor([1]))\n 2\n[torch.DoubleTensor of size (1,)]\n</code></pre>\n<p>cc. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "OS: Mac\nPyTorch version: master (commit e40425f)\nHow you installed PyTorch (conda, pip, source): source\nPython version: 2.7\nGPU models and configuration: CPU\nGCC version (if compiling from source): clang\n\nWhen upgrading to PyTorch master (uber/pyro#890), we realized that torch.poisson no longer accepts a FloatTensor, but works with a DoubleTensor.\n>>> import torch\n>>> torch.poisson(torch.tensor([1]))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nRuntimeError: expected scalar type Double but found Float\n\n>>> torch.poisson(torch.DoubleTensor([1]))\n 2\n[torch.DoubleTensor of size (1,)]\n\ncc. @apaszke", "body": "- OS: Mac\r\n- PyTorch version: master (commit `e40425f`)\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Python version: 2.7\r\n- GPU models and configuration: CPU\r\n- GCC version (if compiling from source): clang\r\n\r\nWhen upgrading to PyTorch master (https://github.com/uber/pyro/pull/890), we realized that `torch.poisson` no longer accepts a `FloatTensor`, but works with a `DoubleTensor`.\r\n\r\n```\r\n>>> import torch\r\n>>> torch.poisson(torch.tensor([1]))\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nRuntimeError: expected scalar type Double but found Float\r\n\r\n>>> torch.poisson(torch.DoubleTensor([1]))\r\n 2\r\n[torch.DoubleTensor of size (1,)]\r\n```\r\n\r\ncc. @apaszke "}