{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/173662662", "pull_request_review_id": 102606950, "id": 173662662, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzY2MjY2Mg==", "diff_hunk": "@@ -1876,6 +1876,57 @@ def test_print_graph_executor(meme):\n         if not WINDOWS:\n             self.assertExpected(captured[0])\n \n+    def test_script_module(self):\n+        class M1(torch.jit.ScriptModule):\n+            def __init__(self):\n+                super(M1, self).__init__(False)\n+                self.weight = nn.Parameter(torch.randn(2))\n+\n+            @torch.jit.script_method\n+            def forward(self, thing):\n+                return self.weight + thing\n+\n+        class M2(torch.jit.ScriptModule):\n+            def __init__(self):\n+                super(M2, self).__init__(False)\n+                # test submodule\n+                self.sub = M1()\n+                # test parameters\n+                self.weight = nn.Parameter(torch.randn(2, 3))\n+                self.bias = nn.Parameter(torch.randn(2))\n+                # test defining a method from a string\n+                self.define(\"\"\"", "path": "test/test_jit.py", "position": 52, "original_position": 52, "commit_id": "ea6aa3491a3ed3df04c89336181fc62bbae67cd7", "original_commit_id": "1c077075a28c6808727b4d63ae7ac69659ccf869", "user": {"login": "apaszke", "id": 4583066, "node_id": "MDQ6VXNlcjQ1ODMwNjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4583066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apaszke", "html_url": "https://github.com/apaszke", "followers_url": "https://api.github.com/users/apaszke/followers", "following_url": "https://api.github.com/users/apaszke/following{/other_user}", "gists_url": "https://api.github.com/users/apaszke/gists{/gist_id}", "starred_url": "https://api.github.com/users/apaszke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apaszke/subscriptions", "organizations_url": "https://api.github.com/users/apaszke/orgs", "repos_url": "https://api.github.com/users/apaszke/repos", "events_url": "https://api.github.com/users/apaszke/events{/privacy}", "received_events_url": "https://api.github.com/users/apaszke/received_events", "type": "User", "site_admin": false}, "body": "We probably want to prefix this one with an underscore. It's not something that we want to generally encourage (remember that e.g. resolution callbacks don't work too well with string sources).", "created_at": "2018-03-11T17:31:28Z", "updated_at": "2018-11-23T15:40:35Z", "html_url": "https://github.com/pytorch/pytorch/pull/5630#discussion_r173662662", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/5630", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/173662662"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/5630#discussion_r173662662"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/5630"}}, "body_html": "<p>We probably want to prefix this one with an underscore. It's not something that we want to generally encourage (remember that e.g. resolution callbacks don't work too well with string sources).</p>", "body_text": "We probably want to prefix this one with an underscore. It's not something that we want to generally encourage (remember that e.g. resolution callbacks don't work too well with string sources)."}