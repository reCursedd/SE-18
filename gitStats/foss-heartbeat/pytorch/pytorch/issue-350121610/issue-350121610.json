{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10471", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10471/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10471/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10471/events", "html_url": "https://github.com/pytorch/pytorch/issues/10471", "id": 350121610, "node_id": "MDU6SXNzdWUzNTAxMjE2MTA=", "number": 10471, "title": "[Caffe2] Multithreading in Caffe2", "user": {"login": "minthetkhine", "id": 36428221, "node_id": "MDQ6VXNlcjM2NDI4MjIx", "avatar_url": "https://avatars0.githubusercontent.com/u/36428221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minthetkhine", "html_url": "https://github.com/minthetkhine", "followers_url": "https://api.github.com/users/minthetkhine/followers", "following_url": "https://api.github.com/users/minthetkhine/following{/other_user}", "gists_url": "https://api.github.com/users/minthetkhine/gists{/gist_id}", "starred_url": "https://api.github.com/users/minthetkhine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minthetkhine/subscriptions", "organizations_url": "https://api.github.com/users/minthetkhine/orgs", "repos_url": "https://api.github.com/users/minthetkhine/repos", "events_url": "https://api.github.com/users/minthetkhine/events{/privacy}", "received_events_url": "https://api.github.com/users/minthetkhine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-13T17:27:05Z", "updated_at": "2018-08-15T23:41:35Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I am trying to implement a multithreading approach in Caffe2, but I got these errors:</p>\n<pre><code>E0809 13:54:40.390210 101295 net_async_scheduling.cc:213] Detected concurrent runs\nE0809 13:54:40.390240 101295 net.h:57] Failed to execute async run\nException in thread thread2:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 119, in worker\n    densepose(data)\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 77, in densepose\n    cls_boxes, cls_segms, cls_keyps, cls_bodys = infer_engine.im_detect_all(model, cv_image, None, timers=timers)\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 58, in im_detect_all\n    model, im, cfg.TEST.SCALE, cfg.TEST.MAX_SIZE, boxes=box_proposals\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 158, in im_detect_bbox\n    workspace.RunNet(model.net.Proto().name)\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 219, in RunNet\n    StringifyNetName(name), num_iter, allow_fail,\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 180, in CallWithExceptionIntercept\n    return func(*args, **kwargs)\nRuntimeError: [enforce fail at pybind_state.cc:1111] success. Error running net generalized_rcnn \n</code></pre>\n<p>May I know why I get these errors?</p>", "body_text": "I am trying to implement a multithreading approach in Caffe2, but I got these errors:\nE0809 13:54:40.390210 101295 net_async_scheduling.cc:213] Detected concurrent runs\nE0809 13:54:40.390240 101295 net.h:57] Failed to execute async run\nException in thread thread2:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 119, in worker\n    densepose(data)\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 77, in densepose\n    cls_boxes, cls_segms, cls_keyps, cls_bodys = infer_engine.im_detect_all(model, cv_image, None, timers=timers)\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 58, in im_detect_all\n    model, im, cfg.TEST.SCALE, cfg.TEST.MAX_SIZE, boxes=box_proposals\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 158, in im_detect_bbox\n    workspace.RunNet(model.net.Proto().name)\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 219, in RunNet\n    StringifyNetName(name), num_iter, allow_fail,\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 180, in CallWithExceptionIntercept\n    return func(*args, **kwargs)\nRuntimeError: [enforce fail at pybind_state.cc:1111] success. Error running net generalized_rcnn \n\nMay I know why I get these errors?", "body": "I am trying to implement a multithreading approach in Caffe2, but I got these errors:\r\n\r\n```\r\nE0809 13:54:40.390210 101295 net_async_scheduling.cc:213] Detected concurrent runs\r\nE0809 13:54:40.390240 101295 net.h:57] Failed to execute async run\r\nException in thread thread2:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 754, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 119, in worker\r\n    densepose(data)\r\n  File \"/home/alfred/catkin_ws/src/live_pytorch/src/segmenter.py\", line 77, in densepose\r\n    cls_boxes, cls_segms, cls_keyps, cls_bodys = infer_engine.im_detect_all(model, cv_image, None, timers=timers)\r\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 58, in im_detect_all\r\n    model, im, cfg.TEST.SCALE, cfg.TEST.MAX_SIZE, boxes=box_proposals\r\n  File \"/home/alfred/exp/DensePose/detectron/core/test.py\", line 158, in im_detect_bbox\r\n    workspace.RunNet(model.net.Proto().name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 219, in RunNet\r\n    StringifyNetName(name), num_iter, allow_fail,\r\n  File \"/usr/local/lib/python2.7/dist-packages/caffe2/python/workspace.py\", line 180, in CallWithExceptionIntercept\r\n    return func(*args, **kwargs)\r\nRuntimeError: [enforce fail at pybind_state.cc:1111] success. Error running net generalized_rcnn \r\n```\r\n\r\nMay I know why I get these errors?"}