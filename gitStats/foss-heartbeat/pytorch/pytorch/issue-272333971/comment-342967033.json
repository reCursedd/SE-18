{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/342967033", "html_url": "https://github.com/pytorch/pytorch/pull/3570#issuecomment-342967033", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/3570", "id": 342967033, "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mjk2NzAzMw==", "user": {"login": "gchanan", "id": 3768583, "node_id": "MDQ6VXNlcjM3Njg1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gchanan", "html_url": "https://github.com/gchanan", "followers_url": "https://api.github.com/users/gchanan/followers", "following_url": "https://api.github.com/users/gchanan/following{/other_user}", "gists_url": "https://api.github.com/users/gchanan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gchanan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gchanan/subscriptions", "organizations_url": "https://api.github.com/users/gchanan/orgs", "repos_url": "https://api.github.com/users/gchanan/repos", "events_url": "https://api.github.com/users/gchanan/events{/privacy}", "received_events_url": "https://api.github.com/users/gchanan/received_events", "type": "User", "site_admin": false}, "created_at": "2017-11-08T21:32:50Z", "updated_at": "2017-11-08T21:32:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p>right, there is double virtual dispatch for some of these functions.  We can't just turn off virtual dispatch completely (at the Type level) because we need to override the implementation of some of these in VariableType; if we take <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a>'s suggestion to mark which inputs are differentiable we could perhaps infer virtual if there exists a differentiable input.  Until then perhaps we should add an explicit dispatch type to native functions.</p>\n<p>For the second virtual dispatch, that could probably be done but would take a decent amount of reworking because they are all on different types in TH/THC land.  I know <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a> has discussed similar ideas before.</p>", "body_text": "right, there is double virtual dispatch for some of these functions.  We can't just turn off virtual dispatch completely (at the Type level) because we need to override the implementation of some of these in VariableType; if we take @ezyang's suggestion to mark which inputs are differentiable we could perhaps infer virtual if there exists a differentiable input.  Until then perhaps we should add an explicit dispatch type to native functions.\nFor the second virtual dispatch, that could probably be done but would take a decent amount of reworking because they are all on different types in TH/THC land.  I know @colesbury has discussed similar ideas before.", "body": "right, there is double virtual dispatch for some of these functions.  We can't just turn off virtual dispatch completely (at the Type level) because we need to override the implementation of some of these in VariableType; if we take @ezyang's suggestion to mark which inputs are differentiable we could perhaps infer virtual if there exists a differentiable input.  Until then perhaps we should add an explicit dispatch type to native functions.\r\n\r\nFor the second virtual dispatch, that could probably be done but would take a decent amount of reworking because they are all on different types in TH/THC land.  I know @colesbury has discussed similar ideas before."}