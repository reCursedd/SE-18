{"url": "https://api.github.com/repos/pytorch/pytorch/issues/6517", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/6517/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/6517/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/6517/events", "html_url": "https://github.com/pytorch/pytorch/pull/6517", "id": 313459898, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxMDA2ODUy", "number": 6517, "title": " More precise digamma", "user": {"login": "zou3519", "id": 5652049, "node_id": "MDQ6VXNlcjU2NTIwNDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5652049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zou3519", "html_url": "https://github.com/zou3519", "followers_url": "https://api.github.com/users/zou3519/followers", "following_url": "https://api.github.com/users/zou3519/following{/other_user}", "gists_url": "https://api.github.com/users/zou3519/gists{/gist_id}", "starred_url": "https://api.github.com/users/zou3519/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zou3519/subscriptions", "organizations_url": "https://api.github.com/users/zou3519/orgs", "repos_url": "https://api.github.com/users/zou3519/repos", "events_url": "https://api.github.com/users/zou3519/events{/privacy}", "received_events_url": "https://api.github.com/users/zou3519/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-04-11T19:39:09Z", "updated_at": "2018-11-23T15:42:25Z", "closed_at": "2018-04-13T15:49:10Z", "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/pytorch/pytorch/pulls/6517", "html_url": "https://github.com/pytorch/pytorch/pull/6517", "diff_url": "https://github.com/pytorch/pytorch/pull/6517.diff", "patch_url": "https://github.com/pytorch/pytorch/pull/6517.patch"}, "body_html": "<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #6190.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"310531349\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/6190\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/6190/hovercard\" href=\"https://github.com/pytorch/pytorch/issues/6190\">#6190</a>.</p>\n<p>This is a rebase of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"278251815\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/pytorch/pytorch/issues/3955\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/pytorch/pytorch/pull/3955/hovercard\" href=\"https://github.com/pytorch/pytorch/pull/3955\">#3955</a> with some tweaks for better performance around<br>\npoles. The code is ported over from cephes with permission.</p>\n<p>By itself, the cephes code returns inf for the poles.</p>\n<p>For better performance around the poles with float32, one intermediate<br>\nstep is always computed with double precision, regardless of dtype.<br>\nThis step does <code>PI / tan(PI * input)</code>. This is necessary because small (1e-6)<br>\nrounding errors for the inputs to tan have strong effects on the output<br>\n(ie, the derivative of tan is very large at some points).</p>\n<p>cc <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=655866\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/colesbury\">@colesbury</a> <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a></p>", "body_text": "Fixes #6190.\nThis is a rebase of #3955 with some tweaks for better performance around\npoles. The code is ported over from cephes with permission.\nBy itself, the cephes code returns inf for the poles.\nFor better performance around the poles with float32, one intermediate\nstep is always computed with double precision, regardless of dtype.\nThis step does PI / tan(PI * input). This is necessary because small (1e-6)\nrounding errors for the inputs to tan have strong effects on the output\n(ie, the derivative of tan is very large at some points).\ncc @colesbury @apaszke", "body": "Fixes #6190.\r\n\r\nThis is a rebase of #3955 with some tweaks for better performance around\r\npoles. The code is ported over from cephes with permission.\r\n\r\nBy itself, the cephes code returns inf for the poles.\r\n\r\nFor better performance around the poles with float32, one intermediate\r\nstep is always computed with double precision, regardless of dtype.\r\nThis step does `PI / tan(PI * input)`. This is necessary because small (1e-6)\r\nrounding errors for the inputs to tan have strong effects on the output\r\n(ie, the derivative of tan is very large at some points).\r\n\r\ncc @colesbury @apaszke "}