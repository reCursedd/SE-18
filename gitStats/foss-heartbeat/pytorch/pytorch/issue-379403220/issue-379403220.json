{"url": "https://api.github.com/repos/pytorch/pytorch/issues/13806", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/13806/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/13806/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/13806/events", "html_url": "https://github.com/pytorch/pytorch/issues/13806", "id": 379403220, "node_id": "MDU6SXNzdWUzNzk0MDMyMjA=", "number": 13806, "title": "OMP: Error about doubly-linked OpenMP when loading CIFAR10 dataset", "user": {"login": "themightyoarfish", "id": 11613312, "node_id": "MDQ6VXNlcjExNjEzMzEy", "avatar_url": "https://avatars0.githubusercontent.com/u/11613312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themightyoarfish", "html_url": "https://github.com/themightyoarfish", "followers_url": "https://api.github.com/users/themightyoarfish/followers", "following_url": "https://api.github.com/users/themightyoarfish/following{/other_user}", "gists_url": "https://api.github.com/users/themightyoarfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/themightyoarfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themightyoarfish/subscriptions", "organizations_url": "https://api.github.com/users/themightyoarfish/orgs", "repos_url": "https://api.github.com/users/themightyoarfish/repos", "events_url": "https://api.github.com/users/themightyoarfish/events{/privacy}", "received_events_url": "https://api.github.com/users/themightyoarfish/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-10T08:28:42Z", "updated_at": "2018-11-10T10:26:51Z", "closed_at": "2018-11-10T10:26:50Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I compile PyTorch from source (1.0.0a0+54e8623).<br>\nand when I attempt to load data I get this:</p>\n<pre><code>OMP: Error #15: Initializing libomp.dylib, but found libiomp5.dylib already initialized.\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see http://openmp.llvm.org/\nAbort trap: 6\n</code></pre>\n<p>The crash occurs when I do this:</p>\n<pre><code>dataloader = DataLoader(self._dataset, batch_size=self._batch_size, pin_memory=True, shuffle=True, drop_last=True)\nnext(dataloader)\n</code></pre>\n<p>I'm using the CIFAR10 dataset here, the problem does not occur with MNIST.</p>\n<p>The system is macOS 10.12.6. What could the problem be here?</p>", "body_text": "I compile PyTorch from source (1.0.0a0+54e8623).\nand when I attempt to load data I get this:\nOMP: Error #15: Initializing libomp.dylib, but found libiomp5.dylib already initialized.\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see http://openmp.llvm.org/\nAbort trap: 6\n\nThe crash occurs when I do this:\ndataloader = DataLoader(self._dataset, batch_size=self._batch_size, pin_memory=True, shuffle=True, drop_last=True)\nnext(dataloader)\n\nI'm using the CIFAR10 dataset here, the problem does not occur with MNIST.\nThe system is macOS 10.12.6. What could the problem be here?", "body": "I compile PyTorch from source (1.0.0a0+54e8623).\r\nand when I attempt to load data I get this:\r\n```\r\nOMP: Error #15: Initializing libomp.dylib, but found libiomp5.dylib already initialized.\r\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see http://openmp.llvm.org/\r\nAbort trap: 6\r\n```\r\n\r\nThe crash occurs when I do this:\r\n```\r\ndataloader = DataLoader(self._dataset, batch_size=self._batch_size, pin_memory=True, shuffle=True, drop_last=True)\r\nnext(dataloader)\r\n```\r\n\r\nI'm using the CIFAR10 dataset here, the problem does not occur with MNIST.\r\n\r\n\r\nThe system is macOS 10.12.6. What could the problem be here?"}