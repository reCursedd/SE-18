{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11354", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11354/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11354/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11354/events", "html_url": "https://github.com/pytorch/pytorch/issues/11354", "id": 357871883, "node_id": "MDU6SXNzdWUzNTc4NzE4ODM=", "number": 11354, "title": "caffe2 failed to build from source", "user": {"login": "qike-12sigma", "id": 40771746, "node_id": "MDQ6VXNlcjQwNzcxNzQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/40771746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qike-12sigma", "html_url": "https://github.com/qike-12sigma", "followers_url": "https://api.github.com/users/qike-12sigma/followers", "following_url": "https://api.github.com/users/qike-12sigma/following{/other_user}", "gists_url": "https://api.github.com/users/qike-12sigma/gists{/gist_id}", "starred_url": "https://api.github.com/users/qike-12sigma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qike-12sigma/subscriptions", "organizations_url": "https://api.github.com/users/qike-12sigma/orgs", "repos_url": "https://api.github.com/users/qike-12sigma/repos", "events_url": "https://api.github.com/users/qike-12sigma/events{/privacy}", "received_events_url": "https://api.github.com/users/qike-12sigma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-07T00:02:09Z", "updated_at": "2018-09-07T21:21:58Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>I'm trying to build caffe2 from source, but got stuck on this error. Any help would be appreciated!</p>\n<h2>Building wheel torch-0.5.0a0+49231ab<br>\nrunning install<br>\nrunning build_deps<br>\nBuilding in Release mode<br>\n-- Need to define long as a separate typeid.<br>\n-- std::exception_ptr is supported.<br>\n-- NUMA is disabled<br>\n-- Turning off deprecation warning due to glog.<br>\n-- Current compiler supports avx2 extention. Will build perfkernels.<br>\n-- Building using own protobuf under third_party per request.<br>\n-- Use custom protobuf build.<br>\n-- Caffe2 protobuf include directory: $&lt;BUILD_INTERFACE:/home/qike/pytorch/third_party/protobuf/src&gt;$&lt;INSTALL_INTERFACE:include&gt;<br>\n-- The BLAS backend of choice:MKL<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl - guide - pthread - m]<br>\n--   Library mkl: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl - guide - pthread - m]<br>\n--   Library mkl: not found<br>\n-- Brace yourself, we are building NNPACK<br>\n-- Found PythonInterp: /usr/bin/python (found version \"2.7.6\")<br>\n-- Found lmdb    (include: /usr/include, library: /usr/lib/i386-linux-gnu/liblmdb.so)<br>\n-- Found LevelDB (include: /usr/include, library: /usr/lib/i386-linux-gnu/libleveldb.so)<br>\n-- Found Snappy  (include: /usr/include, library: /usr/lib/libsnappy.so)<br>\n-- OpenCV found (/usr/share/OpenCV)<br>\n-- Using third party subdirectory Eigen.<br>\n-- Setting Python's include dir to /usr/include/python2.7 from distutils.sysconfig<br>\n-- Setting Python's library to /usr/lib/python2.7<br>\n-- Found PythonInterp: /usr/bin/python (found suitable version \"2.7.6\", minimum required is \"2.7\")<br>\n-- NumPy ver. 1.15.1 found (include: /home/qike/.local/lib/python2.7/site-packages/numpy/core/include)<br>\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR)<br>\n-- MPI support found<br>\n-- MPI compile flags: -pthread<br>\n-- MPI include path: /usr/lib/openmpi/include/openmpi/usr/lib/openmpi/include<br>\n-- MPI LINK flags path: -L/usr/lib/openmpi/lib -pthread<br>\n-- MPI libraries: /usr/lib/libmpi_cxx.so/usr/lib/libmpi.so/usr/lib/i386-linux-gnu/libdl.so/usr/lib/i386-linux-gnu/libhwloc.so</h2>\n<h2>-- ******** Summary ********<br>\n--   CMake version         : 3.11.2<br>\n--   CMake command         : /usr/local/bin/cmake<br>\n--   System                : Linux<br>\n--   C++ compiler          : /usr/bin/c++<br>\n--   C++ compiler version  : 6.4.0<br>\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden<br>\n--   Build type            : Release<br>\n--   Compile definitions   :<br>\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install<br>\n--   CMAKE_MODULE_PATH     : /home/qike/pytorch/cmake/Modules</h2>\n<h2>--   ONNX version          : 1.3.0<br>\n--   ONNX NAMESPACE        : onnx_torch<br>\n--   ONNX_BUILD_TESTS      : OFF<br>\n--   ONNX_BUILD_BENCHMARKS : OFF<br>\n--   ONNX_USE_LITE_PROTO   : OFF</h2>\n<h2>--   Protobuf compiler     :<br>\n--   Protobuf includes     :<br>\n--   Protobuf libraries    :<br>\n--   BUILD_ONNX_PYTHON     : OFF<br>\n-- Found gcc &gt;=5 and CUDA &lt;= 7.5, adding workaround C++ flags<br>\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor<br>\n-- Removing -DNDEBUG from compile flags<br>\n-- Compiling with OpenMP support<br>\n-- MAGMA not found. Compiling without MAGMA support<br>\n-- Could not find hardware support for NEON on this machine.<br>\n-- No OMAP3 processor on this machine.<br>\n-- No OMAP4 processor on this machine.<br>\n-- SSE2 Found<br>\n-- SSE3 Found<br>\n-- AVX Found<br>\n-- AVX2 Found<br>\n-- Atomics: using GCC intrinsics<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_intel: not found<br>\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]<br>\n--   Library mkl_gf: not found<br>\n-- Checking for [mkl - guide - pthread - m]<br>\n--   Library mkl: not found<br>\n-- MKL library not found<br>\n-- Checking for [openblas]<br>\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND<br>\n-- Checking for [openblas - pthread]<br>\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND<br>\n-- Checking for [goto2 - gfortran]<br>\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND<br>\n-- Checking for [goto2 - gfortran - pthread]<br>\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND<br>\n-- Checking for [acml - gfortran]<br>\n--   Library acml: BLAS_acml_LIBRARY-NOTFOUND<br>\n-- Checking for [Accelerate]<br>\n--   Library Accelerate: BLAS_Accelerate_LIBRARY-NOTFOUND<br>\n-- Checking for [vecLib]<br>\n--   Library vecLib: BLAS_vecLib_LIBRARY-NOTFOUND<br>\n-- Checking for [ptf77blas - atlas - gfortran]<br>\n--   Library ptf77blas: BLAS_ptf77blas_LIBRARY-NOTFOUND<br>\n-- Checking for [blas]<br>\n--   Library blas: /usr/lib/libblas.so<br>\n-- Found a library with BLAS API (generic).<br>\n-- Found a library with LAPACK API. (generic)<br>\n-- CuDNN not found. Compiling without CuDNN support<br>\n-- MIOpen not found. Compiling without MIOpen support<br>\n-- Could NOT find MKLDNN (missing: MKLDNN_INCLUDE_DIR MKLDNN_LIBRARY)<br>\n-- MKLDNN not found. Compiling without MKLDNN support<br>\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line<br>\n-- Using python found in /usr/bin/python<br>\n-- Configuring build for SLEEF-v3.2<br>\n-- Using option <code>-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math</code> to compile libsleef<br>\n-- Building shared libs : OFF<br>\n-- MPFR : LIB_MPFR-NOTFOUND<br>\n-- GMP : LIBGMP-NOTFOUND<br>\n-- RUNNING_ON_TRAVIS : 0<br>\n-- COMPILER_SUPPORTS_OPENMP : 1<br>\n-- Using python found in /usr/bin/python<br>\n-- NCCL operators skipped due to no CUDA support<br>\n-- Excluding ideep operators as we are not using ideep<br>\n-- Including image processing operators<br>\n-- Excluding video processing operators due to no opencv<br>\n-- Excluding mkl operators as we are not using mkl<br>\n-- Include Observer library<br>\n-- Using lib/python2.7/dist-packages as python relative installation path<br>\n-- Automatically generating missing <strong>init</strong>.py files.<br>\n-- A previous caffe2 cmake run already created the <strong>init</strong>.py files.</h2>\n<h2>-- ******** Summary ********<br>\n-- General:<br>\n--   CMake version         : 3.11.2<br>\n--   CMake command         : /usr/local/bin/cmake<br>\n--   Git version           : v0.1.11-10282-g49231ab<br>\n--   System                : Linux<br>\n--   C++ compiler          : /usr/bin/c++<br>\n--   C++ compiler version  : 6.4.0<br>\n--   BLAS                  : MKL<br>\n--   CXX flags             : -msse3 -msse4.1 -msse4.2 -msse2 --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized<br>\n--   Build type            : Release<br>\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1<br>\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install</h2>\n<p>--   BUILD_ATEN_MOBILE     : OFF<br>\n--   BUILD_BINARY          : 1<br>\n--   BUILD_CUSTOM_PROTOBUF : ON<br>\n--     Link local protobuf : ON<br>\n--   BUILD_DOCS            : OFF<br>\n--   BUILD_PYTHON          : ON<br>\n--     Python version      : 2.7.6<br>\n--     Python executable   : /usr/bin/python<br>\n--     Pythonlibs version  : 2.7.6<br>\n--     Python library      : /usr/lib/python2.7<br>\n--     Python includes     : /usr/include/python2.7<br>\n--     Python site-packages: lib/python2.7/dist-packages<br>\n--   BUILD_SHARED_LIBS     : ON<br>\n--   BUILD_TEST            : 1<br>\n--   USE_ASAN              : OFF<br>\n--   USE_CUDA              : 0<br>\n--   USE_ROCM              : OFF<br>\n--   USE_EIGEN_FOR_BLAS    : ON<br>\n--   USE_FFMPEG            : OFF<br>\n--   USE_GFLAGS            : OFF<br>\n--   USE_GLOG              : OFF<br>\n--   USE_LEVELDB           : ON<br>\n--     LevelDB version     : 1.15<br>\n--     Snappy version      : 1.1.0<br>\n--   USE_LITE_PROTO        : OFF<br>\n--   USE_LMDB              : ON<br>\n--     LMDB version        : 0.9.10<br>\n--   USE_METAL             : OFF<br>\n--   USE_MKL               :<br>\n--   USE_MOBILE_OPENGL     : OFF<br>\n--   USE_NCCL              : OFF<br>\n--   USE_NERVANA_GPU       : OFF<br>\n--   USE_NNPACK            : 1<br>\n--   USE_OBSERVERS         : ON<br>\n--   USE_OPENCL            : OFF<br>\n--   USE_OPENCV            : ON<br>\n--     OpenCV version      : 2.4.8<br>\n--   USE_OPENMP            : OFF<br>\n--   USE_PROF              : OFF<br>\n--   USE_REDIS             : OFF<br>\n--   USE_ROCKSDB           : OFF<br>\n--   USE_ZMQ               : OFF<br>\n--   USE_DISTRIBUTED       : ON<br>\n--     USE_MPI             : ON<br>\n--     USE_GLOO            : OFF<br>\n--     USE_GLOO_IBVERBS    : OFF<br>\n--   Public Dependencies  : Threads::Threads<br>\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/i386-linux-gnu/liblmdb.so;/usr/lib/i386-linux-gnu/libleveldb.so;/usr/lib/libsnappy.so;opencv_core;opencv_highgui;opencv_imgproc;/usr/lib/libmpi_cxx.so;/usr/lib/libmpi.so;/usr/lib/i386-linux-gnu/libdl.so;/usr/lib/i386-linux-gnu/libhwloc.so;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl<br>\n-- Configuring done<br>\n-- Generating done<br>\n-- Build files have been written to: /home/qike/pytorch/build<br>\n[  2%] Built target libprotobuf-lite<br>\n[  8%] Built target libprotobuf<br>\n[  8%] Built target js_embed<br>\n[ 16%] Built target libprotoc<br>\n[ 16%] Built target protoc<br>\n[ 16%] Built target pthreadpool<br>\n[ 17%] Built target nnpack_reference_layers<br>\n[ 17%] Built target clog<br>\n[ 19%] Built target cpuinfo<br>\n[ 21%] Built target nnpack<br>\n[ 22%] Built target gtest<br>\n[ 22%] Built target gtest_main<br>\n[ 24%] Built target benchmark<br>\n[ 24%] Built target benchmark_main<br>\n[ 24%] Built target gen_onnx_proto<br>\n[ 25%] Built target onnx_proto<br>\n[ 27%] Built target onnx<br>\n[ 27%] Built target onnxifi_loader<br>\n[ 28%] Built target onnxifi_wrapper<br>\n[ 28%] Built target onnxifi_dummy<br>\n[ 29%] Built target Caffe2_PROTO<br>\n[ 29%] Built target nomnigraph<br>\n[ 29%] Built target Caffe2_perfkernels_avx<br>\n[ 29%] Built target ATEN_CPU_FILES_GEN_TARGET<br>\n[ 29%] Built target caffe2_protos<br>\n[ 29%] Built target __aten_op_header_gen<br>\n[ 29%] Built target common<br>\n[ 29%] Built target mkrename<br>\n[ 29%] Built target renameSSE4.h_generated<br>\n[ 29%] Built target sleefsse4<br>\n[ 29%] Built target renameFMA4.h_generated<br>\n[ 29%] Built target sleeffma4<br>\n[ 29%] Built target renameAVX2.h_generated<br>\n[ 29%] Built target sleefavx2<br>\n[ 30%] Built target renameAVX2128.h_generated<br>\n[ 31%] Built target sleefavx2128<br>\n[ 31%] Built target renameAVX.h_generated<br>\n[ 31%] Built target sleefavx<br>\n[ 31%] Built target renameSSE2.h_generated<br>\n[ 31%] Built target sleefsse2<br>\n[ 31%] Built target sleef<br>\n[ 31%] Built target dispatch<br>\n[ 31%] Building CXX object caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o<br>\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc: In function \u2018void caffe2::math::quantize_and_compress__avx2(const float*, uint8_t*, size_t, size_t, bool, std::unique_ptr&lt;std::uniform_real_distribution &gt;&amp;, std::minstd_rand&amp;)\u2019:<br>\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:171:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope<br>\n_mm256_extract_epi64(orval_v, 0);<br>\n^<br>\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:214:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope<br>\n_mm256_extract_epi64(orval_v, 0);<br>\n^<br>\nmake[2]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o] Error 1<br>\nmake[1]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/all] Error 2<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack --full-caffe2 caffe2 libshm gloo THD'</p>", "body_text": "I'm trying to build caffe2 from source, but got stuck on this error. Any help would be appreciated!\nBuilding wheel torch-0.5.0a0+49231ab\nrunning install\nrunning build_deps\nBuilding in Release mode\n-- Need to define long as a separate typeid.\n-- std::exception_ptr is supported.\n-- NUMA is disabled\n-- Turning off deprecation warning due to glog.\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\n-- Caffe2 protobuf include directory: $<BUILD_INTERFACE:/home/qike/pytorch/third_party/protobuf/src>$<INSTALL_INTERFACE:include>\n-- The BLAS backend of choice:MKL\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl - guide - pthread - m]\n--   Library mkl: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl - guide - pthread - m]\n--   Library mkl: not found\n-- Brace yourself, we are building NNPACK\n-- Found PythonInterp: /usr/bin/python (found version \"2.7.6\")\n-- Found lmdb    (include: /usr/include, library: /usr/lib/i386-linux-gnu/liblmdb.so)\n-- Found LevelDB (include: /usr/include, library: /usr/lib/i386-linux-gnu/libleveldb.so)\n-- Found Snappy  (include: /usr/include, library: /usr/lib/libsnappy.so)\n-- OpenCV found (/usr/share/OpenCV)\n-- Using third party subdirectory Eigen.\n-- Setting Python's include dir to /usr/include/python2.7 from distutils.sysconfig\n-- Setting Python's library to /usr/lib/python2.7\n-- Found PythonInterp: /usr/bin/python (found suitable version \"2.7.6\", minimum required is \"2.7\")\n-- NumPy ver. 1.15.1 found (include: /home/qike/.local/lib/python2.7/site-packages/numpy/core/include)\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR)\n-- MPI support found\n-- MPI compile flags: -pthread\n-- MPI include path: /usr/lib/openmpi/include/openmpi/usr/lib/openmpi/include\n-- MPI LINK flags path: -L/usr/lib/openmpi/lib -pthread\n-- MPI libraries: /usr/lib/libmpi_cxx.so/usr/lib/libmpi.so/usr/lib/i386-linux-gnu/libdl.so/usr/lib/i386-linux-gnu/libhwloc.so\n-- ******** Summary ********\n--   CMake version         : 3.11.2\n--   CMake command         : /usr/local/bin/cmake\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 6.4.0\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden\n--   Build type            : Release\n--   Compile definitions   :\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install\n--   CMAKE_MODULE_PATH     : /home/qike/pytorch/cmake/Modules\n--   ONNX version          : 1.3.0\n--   ONNX NAMESPACE        : onnx_torch\n--   ONNX_BUILD_TESTS      : OFF\n--   ONNX_BUILD_BENCHMARKS : OFF\n--   ONNX_USE_LITE_PROTO   : OFF\n--   Protobuf compiler     :\n--   Protobuf includes     :\n--   Protobuf libraries    :\n--   BUILD_ONNX_PYTHON     : OFF\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\n-- Removing -DNDEBUG from compile flags\n-- Compiling with OpenMP support\n-- MAGMA not found. Compiling without MAGMA support\n-- Could not find hardware support for NEON on this machine.\n-- No OMAP3 processor on this machine.\n-- No OMAP4 processor on this machine.\n-- SSE2 Found\n-- SSE3 Found\n-- AVX Found\n-- AVX2 Found\n-- Atomics: using GCC intrinsics\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_intel: not found\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\n--   Library mkl_gf: not found\n-- Checking for [mkl - guide - pthread - m]\n--   Library mkl: not found\n-- MKL library not found\n-- Checking for [openblas]\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND\n-- Checking for [openblas - pthread]\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND\n-- Checking for [goto2 - gfortran]\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND\n-- Checking for [goto2 - gfortran - pthread]\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND\n-- Checking for [acml - gfortran]\n--   Library acml: BLAS_acml_LIBRARY-NOTFOUND\n-- Checking for [Accelerate]\n--   Library Accelerate: BLAS_Accelerate_LIBRARY-NOTFOUND\n-- Checking for [vecLib]\n--   Library vecLib: BLAS_vecLib_LIBRARY-NOTFOUND\n-- Checking for [ptf77blas - atlas - gfortran]\n--   Library ptf77blas: BLAS_ptf77blas_LIBRARY-NOTFOUND\n-- Checking for [blas]\n--   Library blas: /usr/lib/libblas.so\n-- Found a library with BLAS API (generic).\n-- Found a library with LAPACK API. (generic)\n-- CuDNN not found. Compiling without CuDNN support\n-- MIOpen not found. Compiling without MIOpen support\n-- Could NOT find MKLDNN (missing: MKLDNN_INCLUDE_DIR MKLDNN_LIBRARY)\n-- MKLDNN not found. Compiling without MKLDNN support\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line\n-- Using python found in /usr/bin/python\n-- Configuring build for SLEEF-v3.2\n-- Using option -Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math to compile libsleef\n-- Building shared libs : OFF\n-- MPFR : LIB_MPFR-NOTFOUND\n-- GMP : LIBGMP-NOTFOUND\n-- RUNNING_ON_TRAVIS : 0\n-- COMPILER_SUPPORTS_OPENMP : 1\n-- Using python found in /usr/bin/python\n-- NCCL operators skipped due to no CUDA support\n-- Excluding ideep operators as we are not using ideep\n-- Including image processing operators\n-- Excluding video processing operators due to no opencv\n-- Excluding mkl operators as we are not using mkl\n-- Include Observer library\n-- Using lib/python2.7/dist-packages as python relative installation path\n-- Automatically generating missing init.py files.\n-- A previous caffe2 cmake run already created the init.py files.\n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.11.2\n--   CMake command         : /usr/local/bin/cmake\n--   Git version           : v0.1.11-10282-g49231ab\n--   System                : Linux\n--   C++ compiler          : /usr/bin/c++\n--   C++ compiler version  : 6.4.0\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2 -msse2 --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install\n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : 1\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 2.7.6\n--     Python executable   : /usr/bin/python\n--     Pythonlibs version  : 2.7.6\n--     Python library      : /usr/lib/python2.7\n--     Python includes     : /usr/include/python2.7\n--     Python site-packages: lib/python2.7/dist-packages\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : 1\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 0\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : OFF\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : ON\n--     LevelDB version     : 1.15\n--     Snappy version      : 1.1.0\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : ON\n--     LMDB version        : 0.9.10\n--   USE_METAL             : OFF\n--   USE_MKL               :\n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : ON\n--     OpenCV version      : 2.4.8\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : ON\n--     USE_MPI             : ON\n--     USE_GLOO            : OFF\n--     USE_GLOO_IBVERBS    : OFF\n--   Public Dependencies  : Threads::Threads\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/i386-linux-gnu/liblmdb.so;/usr/lib/i386-linux-gnu/libleveldb.so;/usr/lib/libsnappy.so;opencv_core;opencv_highgui;opencv_imgproc;/usr/lib/libmpi_cxx.so;/usr/lib/libmpi.so;/usr/lib/i386-linux-gnu/libdl.so;/usr/lib/i386-linux-gnu/libhwloc.so;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /home/qike/pytorch/build\n[  2%] Built target libprotobuf-lite\n[  8%] Built target libprotobuf\n[  8%] Built target js_embed\n[ 16%] Built target libprotoc\n[ 16%] Built target protoc\n[ 16%] Built target pthreadpool\n[ 17%] Built target nnpack_reference_layers\n[ 17%] Built target clog\n[ 19%] Built target cpuinfo\n[ 21%] Built target nnpack\n[ 22%] Built target gtest\n[ 22%] Built target gtest_main\n[ 24%] Built target benchmark\n[ 24%] Built target benchmark_main\n[ 24%] Built target gen_onnx_proto\n[ 25%] Built target onnx_proto\n[ 27%] Built target onnx\n[ 27%] Built target onnxifi_loader\n[ 28%] Built target onnxifi_wrapper\n[ 28%] Built target onnxifi_dummy\n[ 29%] Built target Caffe2_PROTO\n[ 29%] Built target nomnigraph\n[ 29%] Built target Caffe2_perfkernels_avx\n[ 29%] Built target ATEN_CPU_FILES_GEN_TARGET\n[ 29%] Built target caffe2_protos\n[ 29%] Built target __aten_op_header_gen\n[ 29%] Built target common\n[ 29%] Built target mkrename\n[ 29%] Built target renameSSE4.h_generated\n[ 29%] Built target sleefsse4\n[ 29%] Built target renameFMA4.h_generated\n[ 29%] Built target sleeffma4\n[ 29%] Built target renameAVX2.h_generated\n[ 29%] Built target sleefavx2\n[ 30%] Built target renameAVX2128.h_generated\n[ 31%] Built target sleefavx2128\n[ 31%] Built target renameAVX.h_generated\n[ 31%] Built target sleefavx\n[ 31%] Built target renameSSE2.h_generated\n[ 31%] Built target sleefsse2\n[ 31%] Built target sleef\n[ 31%] Built target dispatch\n[ 31%] Building CXX object caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc: In function \u2018void caffe2::math::quantize_and_compress__avx2(const float*, uint8_t*, size_t, size_t, bool, std::unique_ptr<std::uniform_real_distribution >&, std::minstd_rand&)\u2019:\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:171:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope\n_mm256_extract_epi64(orval_v, 0);\n^\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:214:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope\n_mm256_extract_epi64(orval_v, 0);\n^\nmake[2]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o] Error 1\nmake[1]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/all] Error 2\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack --full-caffe2 caffe2 libshm gloo THD'", "body": "I'm trying to build caffe2 from source, but got stuck on this error. Any help would be appreciated!\r\n\r\nBuilding wheel torch-0.5.0a0+49231ab\r\nrunning install\r\nrunning build_deps\r\nBuilding in Release mode\r\n-- Need to define long as a separate typeid.\r\n-- std::exception_ptr is supported.\r\n-- NUMA is disabled\r\n-- Turning off deprecation warning due to glog.\r\n-- Current compiler supports avx2 extention. Will build perfkernels.\r\n-- Building using own protobuf under third_party per request.\r\n-- Use custom protobuf build.\r\n-- Caffe2 protobuf include directory: $<BUILD_INTERFACE:/home/qike/pytorch/third_party/protobuf/src>$<INSTALL_INTERFACE:include>\r\n-- The BLAS backend of choice:MKL\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl - guide - pthread - m]\r\n--   Library mkl: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl - guide - pthread - m]\r\n--   Library mkl: not found\r\n-- Brace yourself, we are building NNPACK\r\n-- Found PythonInterp: /usr/bin/python (found version \"2.7.6\") \r\n-- Found lmdb    (include: /usr/include, library: /usr/lib/i386-linux-gnu/liblmdb.so)\r\n-- Found LevelDB (include: /usr/include, library: /usr/lib/i386-linux-gnu/libleveldb.so)\r\n-- Found Snappy  (include: /usr/include, library: /usr/lib/libsnappy.so)\r\n-- OpenCV found (/usr/share/OpenCV)\r\n-- Using third party subdirectory Eigen.\r\n-- Setting Python's include dir to /usr/include/python2.7 from distutils.sysconfig\r\n-- Setting Python's library to /usr/lib/python2.7\r\n-- Found PythonInterp: /usr/bin/python (found suitable version \"2.7.6\", minimum required is \"2.7\") \r\n-- NumPy ver. 1.15.1 found (include: /home/qike/.local/lib/python2.7/site-packages/numpy/core/include)\r\n-- Could NOT find pybind11 (missing: pybind11_INCLUDE_DIR) \r\n-- MPI support found\r\n-- MPI compile flags: -pthread\r\n-- MPI include path: /usr/lib/openmpi/include/openmpi/usr/lib/openmpi/include\r\n-- MPI LINK flags path: -L/usr/lib/openmpi/lib -pthread\r\n-- MPI libraries: /usr/lib/libmpi_cxx.so/usr/lib/libmpi.so/usr/lib/i386-linux-gnu/libdl.so/usr/lib/i386-linux-gnu/libhwloc.so\r\n-- \r\n-- ******** Summary ********\r\n--   CMake version         : 3.11.2\r\n--   CMake command         : /usr/local/bin/cmake\r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/c++\r\n--   C++ compiler version  : 6.4.0\r\n--   CXX flags             :  -Wno-deprecated -fvisibility-inlines-hidden\r\n--   Build type            : Release\r\n--   Compile definitions   : \r\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages\r\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install\r\n--   CMAKE_MODULE_PATH     : /home/qike/pytorch/cmake/Modules\r\n-- \r\n--   ONNX version          : 1.3.0\r\n--   ONNX NAMESPACE        : onnx_torch\r\n--   ONNX_BUILD_TESTS      : OFF\r\n--   ONNX_BUILD_BENCHMARKS : OFF\r\n--   ONNX_USE_LITE_PROTO   : OFF\r\n-- \r\n--   Protobuf compiler     : \r\n--   Protobuf includes     : \r\n--   Protobuf libraries    : \r\n--   BUILD_ONNX_PYTHON     : OFF\r\n-- Found gcc >=5 and CUDA <= 7.5, adding workaround C++ flags\r\n-- Could not find CUDA with FP16 support, compiling without torch.CudaHalfTensor\r\n-- Removing -DNDEBUG from compile flags\r\n-- Compiling with OpenMP support\r\n-- MAGMA not found. Compiling without MAGMA support\r\n-- Could not find hardware support for NEON on this machine.\r\n-- No OMAP3 processor on this machine.\r\n-- No OMAP4 processor on this machine.\r\n-- SSE2 Found\r\n-- SSE3 Found\r\n-- AVX Found\r\n-- AVX2 Found\r\n-- Atomics: using GCC intrinsics\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_sequential - mkl_core - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - gomp - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - iomp5 - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_intel - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_intel - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_intel: not found\r\n-- Checking for [mkl_gf - mkl_gnu_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl_gf - mkl_intel_thread - mkl_core - pthread - m - dl]\r\n--   Library mkl_gf: not found\r\n-- Checking for [mkl - guide - pthread - m]\r\n--   Library mkl: not found\r\n-- MKL library not found\r\n-- Checking for [openblas]\r\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND\r\n-- Checking for [openblas - pthread]\r\n--   Library openblas: BLAS_openblas_LIBRARY-NOTFOUND\r\n-- Checking for [goto2 - gfortran]\r\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND\r\n-- Checking for [goto2 - gfortran - pthread]\r\n--   Library goto2: BLAS_goto2_LIBRARY-NOTFOUND\r\n-- Checking for [acml - gfortran]\r\n--   Library acml: BLAS_acml_LIBRARY-NOTFOUND\r\n-- Checking for [Accelerate]\r\n--   Library Accelerate: BLAS_Accelerate_LIBRARY-NOTFOUND\r\n-- Checking for [vecLib]\r\n--   Library vecLib: BLAS_vecLib_LIBRARY-NOTFOUND\r\n-- Checking for [ptf77blas - atlas - gfortran]\r\n--   Library ptf77blas: BLAS_ptf77blas_LIBRARY-NOTFOUND\r\n-- Checking for [blas]\r\n--   Library blas: /usr/lib/libblas.so\r\n-- Found a library with BLAS API (generic).\r\n-- Found a library with LAPACK API. (generic)\r\n-- CuDNN not found. Compiling without CuDNN support\r\n-- MIOpen not found. Compiling without MIOpen support\r\n-- Could NOT find MKLDNN (missing: MKLDNN_INCLUDE_DIR MKLDNN_LIBRARY) \r\n-- MKLDNN not found. Compiling without MKLDNN support\r\n-- GCC 6.4.0: Adding gcc and gcc_s libs to link line\r\n-- Using python found in /usr/bin/python\r\n-- Configuring build for SLEEF-v3.2\r\n-- Using option `-Wall -Wno-unused -Wno-attributes -Wno-unused-result -Wno-psabi -ffp-contract=off -fno-math-errno -fno-trapping-math` to compile libsleef\r\n-- Building shared libs : OFF\r\n-- MPFR : LIB_MPFR-NOTFOUND\r\n-- GMP : LIBGMP-NOTFOUND\r\n-- RUNNING_ON_TRAVIS : 0\r\n-- COMPILER_SUPPORTS_OPENMP : 1\r\n-- Using python found in /usr/bin/python\r\n-- NCCL operators skipped due to no CUDA support\r\n-- Excluding ideep operators as we are not using ideep\r\n-- Including image processing operators\r\n-- Excluding video processing operators due to no opencv\r\n-- Excluding mkl operators as we are not using mkl\r\n-- Include Observer library\r\n-- Using lib/python2.7/dist-packages as python relative installation path\r\n-- Automatically generating missing __init__.py files.\r\n-- A previous caffe2 cmake run already created the __init__.py files.\r\n-- \r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.11.2\r\n--   CMake command         : /usr/local/bin/cmake\r\n--   Git version           : v0.1.11-10282-g49231ab\r\n--   System                : Linux\r\n--   C++ compiler          : /usr/bin/c++\r\n--   C++ compiler version  : 6.4.0\r\n--   BLAS                  : MKL\r\n--   CXX flags             : -msse3 -msse4.1 -msse4.2 -msse2 --std=c++11  -Wno-deprecated -fvisibility-inlines-hidden -D_FORCE_INLINES -D_MWAITXINTRIN_H_INCLUDED -D__STRICT_ANSI__ -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\r\n--   Build type            : Release\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\r\n--   CMAKE_PREFIX_PATH     : /usr/lib/python2.7/dist-packages\r\n--   CMAKE_INSTALL_PREFIX  : /home/qike/pytorch/torch/lib/tmp_install\r\n-- \r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_BINARY          : 1\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 2.7.6\r\n--     Python executable   : /usr/bin/python\r\n--     Pythonlibs version  : 2.7.6\r\n--     Python library      : /usr/lib/python2.7\r\n--     Python includes     : /usr/include/python2.7\r\n--     Python site-packages: lib/python2.7/dist-packages\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : 1\r\n--   USE_ASAN              : OFF\r\n--   USE_CUDA              : 0\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : ON\r\n--   USE_FFMPEG            : OFF\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_LEVELDB           : ON\r\n--     LevelDB version     : 1.15\r\n--     Snappy version      : 1.1.0\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : ON\r\n--     LMDB version        : 0.9.10\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               : \r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_NCCL              : OFF\r\n--   USE_NERVANA_GPU       : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : ON\r\n--     OpenCV version      : 2.4.8\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : ON\r\n--     USE_MPI             : ON\r\n--     USE_GLOO            : OFF\r\n--     USE_GLOO_IBVERBS    : OFF\r\n--   Public Dependencies  : Threads::Threads\r\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib/i386-linux-gnu/liblmdb.so;/usr/lib/i386-linux-gnu/libleveldb.so;/usr/lib/libsnappy.so;opencv_core;opencv_highgui;opencv_imgproc;/usr/lib/libmpi_cxx.so;/usr/lib/libmpi.so;/usr/lib/i386-linux-gnu/libdl.so;/usr/lib/i386-linux-gnu/libhwloc.so;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/qike/pytorch/build\r\n[  2%] Built target libprotobuf-lite\r\n[  8%] Built target libprotobuf\r\n[  8%] Built target js_embed\r\n[ 16%] Built target libprotoc\r\n[ 16%] Built target protoc\r\n[ 16%] Built target pthreadpool\r\n[ 17%] Built target nnpack_reference_layers\r\n[ 17%] Built target clog\r\n[ 19%] Built target cpuinfo\r\n[ 21%] Built target nnpack\r\n[ 22%] Built target gtest\r\n[ 22%] Built target gtest_main\r\n[ 24%] Built target benchmark\r\n[ 24%] Built target benchmark_main\r\n[ 24%] Built target gen_onnx_proto\r\n[ 25%] Built target onnx_proto\r\n[ 27%] Built target onnx\r\n[ 27%] Built target onnxifi_loader\r\n[ 28%] Built target onnxifi_wrapper\r\n[ 28%] Built target onnxifi_dummy\r\n[ 29%] Built target Caffe2_PROTO\r\n[ 29%] Built target nomnigraph\r\n[ 29%] Built target Caffe2_perfkernels_avx\r\n[ 29%] Built target ATEN_CPU_FILES_GEN_TARGET\r\n[ 29%] Built target caffe2_protos\r\n[ 29%] Built target __aten_op_header_gen\r\n[ 29%] Built target common\r\n[ 29%] Built target mkrename\r\n[ 29%] Built target renameSSE4.h_generated\r\n[ 29%] Built target sleefsse4\r\n[ 29%] Built target renameFMA4.h_generated\r\n[ 29%] Built target sleeffma4\r\n[ 29%] Built target renameAVX2.h_generated\r\n[ 29%] Built target sleefavx2\r\n[ 30%] Built target renameAVX2128.h_generated\r\n[ 31%] Built target sleefavx2128\r\n[ 31%] Built target renameAVX.h_generated\r\n[ 31%] Built target sleefavx\r\n[ 31%] Built target renameSSE2.h_generated\r\n[ 31%] Built target sleefsse2\r\n[ 31%] Built target sleef\r\n[ 31%] Built target dispatch\r\n[ 31%] Building CXX object caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o\r\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc: In function \u2018void caffe2::math::quantize_and_compress__avx2(const float*, uint8_t*, size_t, size_t, bool, std::unique_ptr<std::uniform_real_distribution<float> >&, std::minstd_rand&)\u2019:\r\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:171:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope\r\n             _mm256_extract_epi64(orval_v, 0);\r\n                                            ^\r\n/home/qike/pytorch/caffe2/perfkernels/math_cpu_avx2.cc:214:44: error: \u2018_mm256_extract_epi64\u2019 was not declared in this scope\r\n             _mm256_extract_epi64(orval_v, 0);\r\n                                            ^\r\nmake[2]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/math_cpu_avx2.cc.o] Error 1\r\nmake[1]: *** [caffe2/perfkernels/CMakeFiles/Caffe2_perfkernels_avx2.dir/all] Error 2\r\nmake: *** [all] Error 2\r\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-nnpack --full-caffe2 caffe2 libshm gloo THD'\r\n"}