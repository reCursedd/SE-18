{"url": "https://api.github.com/repos/pytorch/pytorch/issues/5069", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/5069/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/5069/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/5069/events", "html_url": "https://github.com/pytorch/pytorch/issues/5069", "id": 294612084, "node_id": "MDU6SXNzdWUyOTQ2MTIwODQ=", "number": 5069, "title": "Recent git pull breaks working pytorch build", "user": {"login": "meder411", "id": 6818607, "node_id": "MDQ6VXNlcjY4MTg2MDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6818607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meder411", "html_url": "https://github.com/meder411", "followers_url": "https://api.github.com/users/meder411/followers", "following_url": "https://api.github.com/users/meder411/following{/other_user}", "gists_url": "https://api.github.com/users/meder411/gists{/gist_id}", "starred_url": "https://api.github.com/users/meder411/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meder411/subscriptions", "organizations_url": "https://api.github.com/users/meder411/orgs", "repos_url": "https://api.github.com/users/meder411/repos", "events_url": "https://api.github.com/users/meder411/events{/privacy}", "received_events_url": "https://api.github.com/users/meder411/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-06T02:34:10Z", "updated_at": "2018-02-06T02:37:30Z", "closed_at": "2018-02-06T02:36:22Z", "author_association": "NONE", "body_html": "<ul>\n<li>OS: Ubuntu 16.04 LTS</li>\n<li>PyTorch version: Pytorch master pulled 2/5/2018</li>\n<li>How you installed PyTorch (conda, pip, source): source</li>\n<li>Python version: 2.7</li>\n<li>CUDA version: 9.0</li>\n</ul>\n<p>I had a working version of PyTorch built in September 2017. I did a git pull today and tried to run <code>python setup.py install</code> again, but now I get errors from DataChannelGloo. It appears to be related to <a href=\"https://github.com/pytorch/pytorch/issues/4906\" data-hovercard-type=\"issue\" data-hovercard-url=\"/pytorch/pytorch/issues/4906/hovercard\">this issue</a> too.... Any idea what could be the issue? Has some dependency changed since the fall?</p>\n<p>Note that after the initial error, I ran a <code>python setup.py clean</code> before re-running <code>python setup.py install</code>, but it still gave the same error.</p>\n<p>Build error printout:</p>\n<pre><code>[  3%] Building CXX object CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator&lt;_Tp&gt;::construct(_Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;float&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;float&gt;]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::construct(std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type&amp;, _Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;float&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;float&gt;; std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace&lt;_Tp, _Alloc, _Lp&gt;::_Sp_counted_ptr_inplace(_Alloc, _Args&amp;&amp; ...) [with _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;float&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count&lt;_Lp&gt;::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;float&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr&lt;_Tp, _Lp&gt;::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;float&gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr&lt;_Tp&gt;::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;float&gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::allocate_shared(const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;float&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;float&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::make_shared(_Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;float&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec&lt;(thd::CollectiveType)0u, T&gt;::create(thd::GlooCache&amp;, const thd::DataChannelGloo::Group&amp;, const string&amp;, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = float; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; std::__cxx11::string = std::__cxx11::basic_string&lt;char&gt;; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&amp;, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = float; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector&lt;at::Tensor&gt;&amp;, at::Tensor&amp;, THDGroup) [with T = float; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing&lt;float&gt;::AllgatherRing(std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const float*&gt;, float*, long unsigned int&amp;)\u2019\n  { ::new((void *)__p) _Up(std::forward&lt;_Args&gt;(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing&lt;T&gt;::AllgatherRing(const std::shared_ptr&lt;gloo::Context&gt;&amp;, const std::vector&lt;T*&gt;&amp;, T*, int) [with T = float]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list&lt;const float*&gt;\u2019 to \u2018const std::vector&lt;float*, std::allocator&lt;float*&gt; &gt;&amp;\u2019\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator&lt;_Tp&gt;::construct(_Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;double&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;double&gt;]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::construct(std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type&amp;, _Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;double&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;double&gt;; std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace&lt;_Tp, _Alloc, _Lp&gt;::_Sp_counted_ptr_inplace(_Alloc, _Args&amp;&amp; ...) [with _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;double&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count&lt;_Lp&gt;::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;double&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr&lt;_Tp, _Lp&gt;::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;double&gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr&lt;_Tp&gt;::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;double&gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::allocate_shared(const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;double&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;double&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::make_shared(_Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;double&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec&lt;(thd::CollectiveType)0u, T&gt;::create(thd::GlooCache&amp;, const thd::DataChannelGloo::Group&amp;, const string&amp;, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = double; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; std::__cxx11::string = std::__cxx11::basic_string&lt;char&gt;; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&amp;, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = double; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector&lt;at::Tensor&gt;&amp;, at::Tensor&amp;, THDGroup) [with T = double; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing&lt;double&gt;::AllgatherRing(std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const double*&gt;, double*, long unsigned int&amp;)\u2019\n  { ::new((void *)__p) _Up(std::forward&lt;_Args&gt;(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing&lt;T&gt;::AllgatherRing(const std::shared_ptr&lt;gloo::Context&gt;&amp;, const std::vector&lt;T*&gt;&amp;, T*, int) [with T = double]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list&lt;const double*&gt;\u2019 to \u2018const std::vector&lt;double*, std::allocator&lt;double*&gt; &gt;&amp;\u2019\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator&lt;_Tp&gt;::construct(_Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;gloo::float16&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::construct(std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type&amp;, _Up*, _Args&amp;&amp; ...) [with _Up = gloo::AllgatherRing&lt;gloo::float16&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; std::allocator_traits&lt;std::allocator&lt;_Tp1&gt; &gt;::allocator_type = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace&lt;_Tp, _Alloc, _Lp&gt;::_Sp_counted_ptr_inplace(_Alloc, _Args&amp;&amp; ...) [with _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count&lt;_Lp&gt;::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr&lt;_Tp, _Lp&gt;::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr&lt;_Tp&gt;::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&amp;, _Args&amp;&amp; ...) [with _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}; _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::allocate_shared(const _Alloc&amp;, _Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; _Alloc = std::allocator&lt;gloo::AllgatherRing&lt;gloo::float16&gt; &gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr&lt;_Tp1&gt; std::make_shared(_Args&amp;&amp; ...) [with _Tp = gloo::AllgatherRing&lt;gloo::float16&gt;; _Args = {std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec&lt;(thd::CollectiveType)0u, T&gt;::create(thd::GlooCache&amp;, const thd::DataChannelGloo::Group&amp;, const string&amp;, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = gloo::float16; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; std::__cxx11::string = std::__cxx11::basic_string&lt;char&gt;; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&amp;, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = gloo::float16; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple&lt;std::shared_ptr&lt;gloo::Algorithm&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;char&gt;, std::shared_ptr&lt;std::mutex&gt; &gt;; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector&lt;at::Tensor&gt;&amp;, at::Tensor&amp;, THDGroup) [with T = gloo::float16; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing&lt;gloo::float16&gt;::AllgatherRing(std::shared_ptr&lt;gloo::rendezvous::Context&gt;&amp;, std::initializer_list&lt;const gloo::float16*&gt;, gloo::float16*, long unsigned int&amp;)\u2019\n  { ::new((void *)__p) _Up(std::forward&lt;_Args&gt;(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing&lt;T&gt;::AllgatherRing(const std::shared_ptr&lt;gloo::Context&gt;&amp;, const std::vector&lt;T*&gt;&amp;, T*, int) [with T = gloo::float16]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list&lt;const gloo::float16*&gt;\u2019 to \u2018const std::vector&lt;gloo::float16*, std::allocator&lt;gloo::float16*&gt; &gt;&amp;\u2019\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o' failed\nmake[2]: *** [CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o] Error 1\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2\n\n</code></pre>", "body_text": "OS: Ubuntu 16.04 LTS\nPyTorch version: Pytorch master pulled 2/5/2018\nHow you installed PyTorch (conda, pip, source): source\nPython version: 2.7\nCUDA version: 9.0\n\nI had a working version of PyTorch built in September 2017. I did a git pull today and tried to run python setup.py install again, but now I get errors from DataChannelGloo. It appears to be related to this issue too.... Any idea what could be the issue? Has some dependency changed since the fall?\nNote that after the initial error, I ran a python setup.py clean before re-running python setup.py install, but it still gave the same error.\nBuild error printout:\n[  3%] Building CXX object CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<float> >]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = float; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = float; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = float; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<float>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&)\u2019\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = float]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const float*>\u2019 to \u2018const std::vector<float*, std::allocator<float*> >&\u2019\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<double> >]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = double; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = double; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = double; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<double>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&)\u2019\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = double]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const double*>\u2019 to \u2018const std::vector<double*, std::allocator<double*> >&\u2019\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\n                 from /usr/include/c++/5/bits/allocator.h:46,\n                 from /usr/include/c++/5/memory:63,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>]\u2019:\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<gloo::float16> >]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}]\u2019\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = gloo::float16; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = gloo::float16; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = gloo::float16; THDGroup = int]\u2019\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<gloo::float16>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&)\u2019\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\n    ^\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = gloo::float16]\n   AllgatherRing(\n   ^\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const gloo::float16*>\u2019 to \u2018const std::vector<gloo::float16*, std::allocator<gloo::float16*> >&\u2019\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o' failed\nmake[2]: *** [CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o] Error 1\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\nMakefile:127: recipe for target 'all' failed\nmake: *** [all] Error 2", "body": "- OS: Ubuntu 16.04 LTS\r\n- PyTorch version: Pytorch master pulled 2/5/2018\r\n- How you installed PyTorch (conda, pip, source): source\r\n- Python version: 2.7\r\n- CUDA version: 9.0 \r\n\r\n\r\nI had a working version of PyTorch built in September 2017. I did a git pull today and tried to run `python setup.py install` again, but now I get errors from DataChannelGloo. It appears to be related to [this issue](https://github.com/pytorch/pytorch/issues/4906) too.... Any idea what could be the issue? Has some dependency changed since the fall?\r\n\r\nNote that after the initial error, I ran a `python setup.py clean` before re-running `python setup.py install`, but it still gave the same error.\r\n\r\nBuild error printout:\r\n```\r\n[  3%] Building CXX object CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o\r\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\r\n                 from /usr/include/c++/5/bits/allocator.h:46,\r\n                 from /usr/include/c++/5/memory:63,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\r\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>]\u2019:\r\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<float> >]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}; _Tp = gloo::AllgatherRing<float>]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Alloc = std::allocator<gloo::AllgatherRing<float> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<float>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&}]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = float; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = float; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = float; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\r\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<float>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const float*>, float*, long unsigned int&)\u2019\r\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\r\n    ^\r\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = float]\r\n   AllgatherRing(\r\n   ^\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const float*>\u2019 to \u2018const std::vector<float*, std::allocator<float*> >&\u2019\r\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\r\n                 from /usr/include/c++/5/bits/allocator.h:46,\r\n                 from /usr/include/c++/5/memory:63,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\r\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>]\u2019:\r\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<double> >]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}; _Tp = gloo::AllgatherRing<double>]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Alloc = std::allocator<gloo::AllgatherRing<double> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<double>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&}]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = double; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = double; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = double; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\r\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<double>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const double*>, double*, long unsigned int&)\u2019\r\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\r\n    ^\r\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = double]\r\n   AllgatherRing(\r\n   ^\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const double*>\u2019 to \u2018const std::vector<double*, std::allocator<double*> >&\u2019\r\nIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,\r\n                 from /usr/include/c++/5/bits/allocator.h:46,\r\n                 from /usr/include/c++/5/memory:63,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/Allocator.h:3,\r\n                 from /usr/local/src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/../ChannelUtils.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.hpp:3,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:1:\r\n/usr/include/c++/5/ext/new_allocator.h: In instantiation of \u2018void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>]\u2019:\r\n/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from \u2018static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<gloo::AllgatherRing<gloo::float16> >]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from \u2018std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from \u2018std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from \u2018std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from \u2018std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}; _Tp = gloo::AllgatherRing<gloo::float16>]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from \u2018std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Alloc = std::allocator<gloo::AllgatherRing<gloo::float16> >; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}]\u2019\r\n/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from \u2018std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = gloo::AllgatherRing<gloo::float16>; _Args = {std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&}]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:274:56:   required from \u2018static thd::GlooCache::value_type thd::gloo_cache::algorithm_spec<(thd::CollectiveType)0u, T>::create(thd::GlooCache&, const thd::DataChannelGloo::Group&, const string&, thd::DeviceType, std::size_t, std::size_t, std::size_t) [with T = gloo::float16; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; std::__cxx11::string = std::__cxx11::basic_string<char>; std::size_t = long unsigned int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:165:64:   required from \u2018thd::GlooCache::value_type thd::GlooCache::getAlgorithm(THDGroup, const thd::DataChannelGloo::Group&, Args ...) [with thd::CollectiveType D = (thd::CollectiveType)0u; T = gloo::float16; Args = {thd::DeviceType, long unsigned int, long unsigned int, long int}; thd::GlooCache::value_type = std::tuple<std::shared_ptr<gloo::Algorithm>, std::shared_ptr<char>, std::shared_ptr<char>, std::shared_ptr<std::mutex> >; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:160:96:   required from \u2018void thd::DataChannelGloo::allGatherT(std::vector<at::Tensor>&, at::Tensor&, THDGroup) [with T = gloo::float16; THDGroup = int]\u2019\r\n/usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:186:3:   required from here\r\n/usr/include/c++/5/ext/new_allocator.h:120:4: error: no matching function for call to \u2018gloo::AllgatherRing<gloo::float16>::AllgatherRing(std::shared_ptr<gloo::rendezvous::Context>&, std::initializer_list<const gloo::float16*>, gloo::float16*, long unsigned int&)\u2019\r\n  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }\r\n    ^\r\nIn file included from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/GlooCache.hpp:8:0,\r\n                 from /usr/local/src/pytorch/torch/lib/THD/base/data_channels/DataChannelGloo.cpp:3:\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note: candidate: gloo::AllgatherRing<T>::AllgatherRing(const std::shared_ptr<gloo::Context>&, const std::vector<T*>&, T*, int) [with T = gloo::float16]\r\n   AllgatherRing(\r\n   ^\r\n/usr/local/src/pytorch/torch/lib/tmp_install/include/gloo/allgather_ring.h:29:3: note:   no known conversion for argument 2 from \u2018std::initializer_list<const gloo::float16*>\u2019 to \u2018const std::vector<gloo::float16*, std::allocator<gloo::float16*> >&\u2019\r\nCMakeFiles/THD.dir/build.make:134: recipe for target 'CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o' failed\r\nmake[2]: *** [CMakeFiles/THD.dir/base/data_channels/DataChannelGloo.cpp.o] Error 1\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/THD.dir/all' failed\r\nmake[1]: *** [CMakeFiles/THD.dir/all] Error 2\r\nMakefile:127: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n\r\n```\r\n\r\n"}