{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/215017015", "pull_request_review_id": 152189028, "id": 215017015, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNTAxNzAxNQ==", "diff_hunk": "@@ -0,0 +1,54 @@\n+#include \"ATen/ATen.h\"\n+\n+namespace at { namespace native {\n+\n+Tensor constant_pad_nd(const Tensor& self, IntList pad, Scalar value) {\n+    auto input_sizes = self.sizes();\n+    auto l_inp = self.dim();\n+\n+    auto l_pad = pad.size() / 2;\n+    auto l_diff = l_inp - l_pad;\n+    AT_CHECK(l_inp >= l_pad, \"Padding length too large\");", "path": "aten/src/ATen/native/ConstantPadNd.cpp", "position": null, "original_position": 11, "commit_id": "f2109c4136c379834d616724b6373791fabc8cee", "original_commit_id": "23d2ab92816a7804c81fc001ea586312aea11b92", "user": {"login": "SsnL", "id": 5674597, "node_id": "MDQ6VXNlcjU2NzQ1OTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5674597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SsnL", "html_url": "https://github.com/SsnL", "followers_url": "https://api.github.com/users/SsnL/followers", "following_url": "https://api.github.com/users/SsnL/following{/other_user}", "gists_url": "https://api.github.com/users/SsnL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SsnL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SsnL/subscriptions", "organizations_url": "https://api.github.com/users/SsnL/orgs", "repos_url": "https://api.github.com/users/SsnL/repos", "events_url": "https://api.github.com/users/SsnL/events{/privacy}", "received_events_url": "https://api.github.com/users/SsnL/received_events", "type": "User", "site_admin": false}, "body": "Let's instead check `pad`'s length is at most double of the number of dims in `self` because `pad.size() / 2` gives wrong answer for odd numbers. Also, it would be great if this error message can be improved and says explicitly what the input is and what we expect it to be.", "created_at": "2018-09-04T18:17:56Z", "updated_at": "2018-11-23T15:50:34Z", "html_url": "https://github.com/pytorch/pytorch/pull/10885#discussion_r215017015", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/10885", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/215017015"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/10885#discussion_r215017015"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/10885"}}, "body_html": "<p>Let's instead check <code>pad</code>'s length is at most double of the number of dims in <code>self</code> because <code>pad.size() / 2</code> gives wrong answer for odd numbers. Also, it would be great if this error message can be improved and says explicitly what the input is and what we expect it to be.</p>", "body_text": "Let's instead check pad's length is at most double of the number of dims in self because pad.size() / 2 gives wrong answer for odd numbers. Also, it would be great if this error message can be improved and says explicitly what the input is and what we expect it to be."}