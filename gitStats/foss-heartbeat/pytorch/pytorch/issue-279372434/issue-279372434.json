{"url": "https://api.github.com/repos/pytorch/pytorch/issues/4031", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/4031/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/4031/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/4031/events", "html_url": "https://github.com/pytorch/pytorch/issues/4031", "id": 279372434, "node_id": "MDU6SXNzdWUyNzkzNzI0MzQ=", "number": 4031, "title": "NVIDIA memory not deallocated after interupt", "user": {"login": "tamis-laan", "id": 3178666, "node_id": "MDQ6VXNlcjMxNzg2NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3178666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamis-laan", "html_url": "https://github.com/tamis-laan", "followers_url": "https://api.github.com/users/tamis-laan/followers", "following_url": "https://api.github.com/users/tamis-laan/following{/other_user}", "gists_url": "https://api.github.com/users/tamis-laan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamis-laan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamis-laan/subscriptions", "organizations_url": "https://api.github.com/users/tamis-laan/orgs", "repos_url": "https://api.github.com/users/tamis-laan/repos", "events_url": "https://api.github.com/users/tamis-laan/events{/privacy}", "received_events_url": "https://api.github.com/users/tamis-laan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-05T13:21:20Z", "updated_at": "2018-09-14T18:11:43Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>When I interrupt my Pytorch script using Ctrl-C occasionally GPU memory is not deallocated. Also threads related to my script may or may not still be running. If they are running I kill them using \"kill -9 PID\". However this does not deallocate memory on the GPU.</p>\n<blockquote>\n<p>Tue Dec  5 14:12:11 2017<br>\n+-----------------------------------------------------------------------------+<br>\n| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |<br>\n|-------------------------------+----------------------+----------------------+<br>\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br>\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br>\n|===============================+======================+======================|<br>\n|   0  TITAN X (Pascal)    Off  | 00000000:02:00.0  On |                  N/A |<br>\n| 31%   54C    P2    58W / 250W |   7829MiB / 12189MiB |      3%      Default |<br>\n+-------------------------------+----------------------+----------------------+</p>\n<p>+-----------------------------------------------------------------------------+<br>\n| Processes:                                                       GPU Memory |<br>\n|  GPU       PID   Type   Process name                             Usage      |<br>\n|=============================================================================|<br>\n|    0      1213      G   /usr/lib/xorg/Xorg                           166MiB |<br>\n|    0      2355      G   compiz                                       249MiB |<br>\n|    0     32412      G   ...-token=00DF6CCAB2487BD6F9AE70914F3A9358     8MiB |<br>\n+-----------------------------------------------------------------------------+</p>\n</blockquote>", "body_text": "When I interrupt my Pytorch script using Ctrl-C occasionally GPU memory is not deallocated. Also threads related to my script may or may not still be running. If they are running I kill them using \"kill -9 PID\". However this does not deallocate memory on the GPU.\n\nTue Dec  5 14:12:11 2017\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  TITAN X (Pascal)    Off  | 00000000:02:00.0  On |                  N/A |\n| 31%   54C    P2    58W / 250W |   7829MiB / 12189MiB |      3%      Default |\n+-------------------------------+----------------------+----------------------+\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|    0      1213      G   /usr/lib/xorg/Xorg                           166MiB |\n|    0      2355      G   compiz                                       249MiB |\n|    0     32412      G   ...-token=00DF6CCAB2487BD6F9AE70914F3A9358     8MiB |\n+-----------------------------------------------------------------------------+", "body": "When I interrupt my Pytorch script using Ctrl-C occasionally GPU memory is not deallocated. Also threads related to my script may or may not still be running. If they are running I kill them using \"kill -9 PID\". However this does not deallocate memory on the GPU. \r\n\r\n> Tue Dec  5 14:12:11 2017       \r\n> +-----------------------------------------------------------------------------+\r\n> | NVIDIA-SMI 384.98                 Driver Version: 384.98                    |\r\n> |-------------------------------+----------------------+----------------------+\r\n> | GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n> | Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n> |===============================+======================+======================|\r\n> |   0  TITAN X (Pascal)    Off  | 00000000:02:00.0  On |                  N/A |\r\n> | 31%   54C    P2    58W / 250W |   7829MiB / 12189MiB |      3%      Default |\r\n> +-------------------------------+----------------------+----------------------+\r\n>                                                                                \r\n> +-----------------------------------------------------------------------------+\r\n> | Processes:                                                       GPU Memory |\r\n> |  GPU       PID   Type   Process name                             Usage      |\r\n> |=============================================================================|\r\n> |    0      1213      G   /usr/lib/xorg/Xorg                           166MiB |\r\n> |    0      2355      G   compiz                                       249MiB |\r\n> |    0     32412      G   ...-token=00DF6CCAB2487BD6F9AE70914F3A9358     8MiB |\r\n> +-----------------------------------------------------------------------------+"}