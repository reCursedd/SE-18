{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/387756612", "html_url": "https://github.com/pytorch/pytorch/issues/7420#issuecomment-387756612", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/7420", "id": 387756612, "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzc1NjYxMg==", "user": {"login": "avmgithub", "id": 9083746, "node_id": "MDQ6VXNlcjkwODM3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9083746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmgithub", "html_url": "https://github.com/avmgithub", "followers_url": "https://api.github.com/users/avmgithub/followers", "following_url": "https://api.github.com/users/avmgithub/following{/other_user}", "gists_url": "https://api.github.com/users/avmgithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmgithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmgithub/subscriptions", "organizations_url": "https://api.github.com/users/avmgithub/orgs", "repos_url": "https://api.github.com/users/avmgithub/repos", "events_url": "https://api.github.com/users/avmgithub/events{/privacy}", "received_events_url": "https://api.github.com/users/avmgithub/received_events", "type": "User", "site_admin": false}, "created_at": "2018-05-09T14:24:55Z", "updated_at": "2018-05-09T14:25:21Z", "author_association": "CONTRIBUTOR", "body_html": "<p>Interesting finding ,  if I reverse the order of the dev_types in  line   2985 of test_nn.py<br>\n<a href=\"https://github.com/pytorch/pytorch/blob/master/test/test_nn.py#L2985\">https://github.com/pytorch/pytorch/blob/master/test/test_nn.py#L2985</a><br>\nfrom     dev_dtypes += [(\"cuda\", torch.float), (\"cuda\", torch.half)]    to<br>\ndev_dtypes += [(\"cuda\", torch.half), (\"cuda\", torch.float)]</p>\n<p>the test passes.   I'm guessing there is garbage in gpu memory that is not cleared before the torch.half is tested</p>", "body_text": "Interesting finding ,  if I reverse the order of the dev_types in  line   2985 of test_nn.py\nhttps://github.com/pytorch/pytorch/blob/master/test/test_nn.py#L2985\nfrom     dev_dtypes += [(\"cuda\", torch.float), (\"cuda\", torch.half)]    to\ndev_dtypes += [(\"cuda\", torch.half), (\"cuda\", torch.float)]\nthe test passes.   I'm guessing there is garbage in gpu memory that is not cleared before the torch.half is tested", "body": "Interesting finding ,  if I reverse the order of the dev_types in  line   2985 of test_nn.py \r\nhttps://github.com/pytorch/pytorch/blob/master/test/test_nn.py#L2985\r\nfrom     dev_dtypes += [(\"cuda\", torch.float), (\"cuda\", torch.half)]    to \r\ndev_dtypes += [(\"cuda\", torch.half), (\"cuda\", torch.float)]\r\n\r\nthe test passes.   I'm guessing there is garbage in gpu memory that is not cleared before the torch.half is tested"}