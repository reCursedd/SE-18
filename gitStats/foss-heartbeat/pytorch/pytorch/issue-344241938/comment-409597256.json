{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/409597256", "html_url": "https://github.com/pytorch/pytorch/pull/9795#issuecomment-409597256", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9795", "id": 409597256, "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTU5NzI1Ng==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-01T14:35:49Z", "updated_at": "2018-08-01T14:35:49Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I agree it's \"better\" for the header to be in an actual file, but to do this we have to solve some redistribution problems, where the JIT code doesn't \"know\" where we installed ATen/TH headers, so what file should it pass to the compiler? (You can hardcode the filepath into the binary, but congratulations, your binary is no longer relocatable). It's just generally easier to make things work if you have the string in the binary.</p>\n<p>This isn't a fatal problem; for example, you can get the header location from Python and pass it in (like how <code>torch/utils/cpp_extension.py</code> does it). It's just more work. <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=8662829\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zrt95\">@zrt95</a>, it's up to you; if you want to merge the PR as is to start with I'm OK with that.</p>", "body_text": "I agree it's \"better\" for the header to be in an actual file, but to do this we have to solve some redistribution problems, where the JIT code doesn't \"know\" where we installed ATen/TH headers, so what file should it pass to the compiler? (You can hardcode the filepath into the binary, but congratulations, your binary is no longer relocatable). It's just generally easier to make things work if you have the string in the binary.\nThis isn't a fatal problem; for example, you can get the header location from Python and pass it in (like how torch/utils/cpp_extension.py does it). It's just more work. @zrt95, it's up to you; if you want to merge the PR as is to start with I'm OK with that.", "body": "I agree it's \"better\" for the header to be in an actual file, but to do this we have to solve some redistribution problems, where the JIT code doesn't \"know\" where we installed ATen/TH headers, so what file should it pass to the compiler? (You can hardcode the filepath into the binary, but congratulations, your binary is no longer relocatable). It's just generally easier to make things work if you have the string in the binary.\r\n\r\nThis isn't a fatal problem; for example, you can get the header location from Python and pass it in (like how `torch/utils/cpp_extension.py` does it). It's just more work. @zrt95, it's up to you; if you want to merge the PR as is to start with I'm OK with that."}