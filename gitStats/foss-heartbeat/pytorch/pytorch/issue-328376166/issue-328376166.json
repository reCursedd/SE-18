{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8022", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8022/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8022/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8022/events", "html_url": "https://github.com/pytorch/pytorch/issues/8022", "id": 328376166, "node_id": "MDU6SXNzdWUzMjgzNzYxNjY=", "number": 8022, "title": "[Caffe2] ld: can't map file, errno=22 file '/usr/local/cuda/lib/stubs/cuda.framework' for architecture x86_64", "user": {"login": "bingo619", "id": 1096590, "node_id": "MDQ6VXNlcjEwOTY1OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1096590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bingo619", "html_url": "https://github.com/bingo619", "followers_url": "https://api.github.com/users/bingo619/followers", "following_url": "https://api.github.com/users/bingo619/following{/other_user}", "gists_url": "https://api.github.com/users/bingo619/gists{/gist_id}", "starred_url": "https://api.github.com/users/bingo619/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bingo619/subscriptions", "organizations_url": "https://api.github.com/users/bingo619/orgs", "repos_url": "https://api.github.com/users/bingo619/repos", "events_url": "https://api.github.com/users/bingo619/events{/privacy}", "received_events_url": "https://api.github.com/users/bingo619/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 778855555, "node_id": "MDU6TGFiZWw3Nzg4NTU1NTU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/build", "name": "build", "color": "bfdadc", "default": false}, {"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "orionr", "id": 79994, "node_id": "MDQ6VXNlcjc5OTk0", "avatar_url": "https://avatars3.githubusercontent.com/u/79994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orionr", "html_url": "https://github.com/orionr", "followers_url": "https://api.github.com/users/orionr/followers", "following_url": "https://api.github.com/users/orionr/following{/other_user}", "gists_url": "https://api.github.com/users/orionr/gists{/gist_id}", "starred_url": "https://api.github.com/users/orionr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orionr/subscriptions", "organizations_url": "https://api.github.com/users/orionr/orgs", "repos_url": "https://api.github.com/users/orionr/repos", "events_url": "https://api.github.com/users/orionr/events{/privacy}", "received_events_url": "https://api.github.com/users/orionr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "orionr", "id": 79994, "node_id": "MDQ6VXNlcjc5OTk0", "avatar_url": "https://avatars3.githubusercontent.com/u/79994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orionr", "html_url": "https://github.com/orionr", "followers_url": "https://api.github.com/users/orionr/followers", "following_url": "https://api.github.com/users/orionr/following{/other_user}", "gists_url": "https://api.github.com/users/orionr/gists{/gist_id}", "starred_url": "https://api.github.com/users/orionr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orionr/subscriptions", "organizations_url": "https://api.github.com/users/orionr/orgs", "repos_url": "https://api.github.com/users/orionr/repos", "events_url": "https://api.github.com/users/orionr/events{/privacy}", "received_events_url": "https://api.github.com/users/orionr/received_events", "type": "User", "site_admin": false}, {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2018-06-01T04:13:10Z", "updated_at": "2018-06-29T03:53:35Z", "closed_at": "2018-06-05T17:37:05Z", "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>error occurs when linking the cuda library</p>\n<p>ld: can't map file, errno=22 file '/usr/local/cuda/lib/stubs/cuda.framework' for architecture x86_64</p>\n<p>Provide a short description.</p>\n<p>I have tracked down in cuda.cmake</p>\n<p><code>find_library(CUDA_CUDA_LIB cuda PATHS ${CUDA_TOOLKIT_ROOT_DIR} PATH_SUFFIXES lib lib64 lib/stubs lib64/stubs lib/x64)</code></p>\n<p>finds the cuda.framework instead of libcuda.dylib.</p>\n<p>Have confirm it was broken by this commit (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/4bf0202cac4cdf95bf437df5d2e8a8c5bb892569#diff-e1f6ba8d0726bd4dc7d55fa517bd381c/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/4bf0202cac4cdf95bf437df5d2e8a8c5bb892569#diff-e1f6ba8d0726bd4dc7d55fa517bd381c\"><tt>4bf0202</tt>#diff-e1f6ba8d0726bd4dc7d55fa517bd381c</a>)</p>\n<p>Any idea why it is linking the cuda.framework?</p>\n<h2>System Info</h2>\n<p>CUDA used to build PyTorch: 9.2</p>\n<p>OS: Mac OSX 10.13.4<br>\nGCC version: Could not collect<br>\nCMake version: version 3.11.1</p>\n<p>Python version: 3.6<br>\nIs CUDA available: Yes<br>\nCUDA runtime version: 9.2.64<br>\nGPU models and configuration: Could not collect<br>\nNvidia driver version: Could not collect<br>\ncuDNN version: Probably one of the following:<br>\n/usr/local/cuda/lib/libcudnn.7.dylib<br>\n/usr/local/cuda/lib/libcudnn_static.a</p>", "body_text": "Issue description\nerror occurs when linking the cuda library\nld: can't map file, errno=22 file '/usr/local/cuda/lib/stubs/cuda.framework' for architecture x86_64\nProvide a short description.\nI have tracked down in cuda.cmake\nfind_library(CUDA_CUDA_LIB cuda PATHS ${CUDA_TOOLKIT_ROOT_DIR} PATH_SUFFIXES lib lib64 lib/stubs lib64/stubs lib/x64)\nfinds the cuda.framework instead of libcuda.dylib.\nHave confirm it was broken by this commit (4bf0202#diff-e1f6ba8d0726bd4dc7d55fa517bd381c)\nAny idea why it is linking the cuda.framework?\nSystem Info\nCUDA used to build PyTorch: 9.2\nOS: Mac OSX 10.13.4\nGCC version: Could not collect\nCMake version: version 3.11.1\nPython version: 3.6\nIs CUDA available: Yes\nCUDA runtime version: 9.2.64\nGPU models and configuration: Could not collect\nNvidia driver version: Could not collect\ncuDNN version: Probably one of the following:\n/usr/local/cuda/lib/libcudnn.7.dylib\n/usr/local/cuda/lib/libcudnn_static.a", "body": "## Issue description\r\nerror occurs when linking the cuda library\r\n\r\nld: can't map file, errno=22 file '/usr/local/cuda/lib/stubs/cuda.framework' for architecture x86_64\r\n\r\nProvide a short description.\r\n\r\nI have tracked down in cuda.cmake\r\n\r\n`find_library(CUDA_CUDA_LIB cuda\r\n    PATHS ${CUDA_TOOLKIT_ROOT_DIR}\r\n    PATH_SUFFIXES lib lib64 lib/stubs lib64/stubs lib/x64)`\r\n\r\nfinds the cuda.framework instead of libcuda.dylib.\r\n\r\nHave confirm it was broken by this commit (https://github.com/pytorch/pytorch/commit/4bf0202cac4cdf95bf437df5d2e8a8c5bb892569#diff-e1f6ba8d0726bd4dc7d55fa517bd381c)\r\n\r\nAny idea why it is linking the cuda.framework?\r\n\r\n## System Info\r\n\r\nCUDA used to build PyTorch: 9.2\r\n\r\nOS: Mac OSX 10.13.4\r\nGCC version: Could not collect\r\nCMake version: version 3.11.1\r\n\r\nPython version: 3.6\r\nIs CUDA available: Yes\r\nCUDA runtime version: 9.2.64\r\nGPU models and configuration: Could not collect\r\nNvidia driver version: Could not collect\r\ncuDNN version: Probably one of the following:\r\n/usr/local/cuda/lib/libcudnn.7.dylib\r\n/usr/local/cuda/lib/libcudnn_static.a\r\n"}