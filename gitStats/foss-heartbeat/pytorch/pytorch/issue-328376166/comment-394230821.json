{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/394230821", "html_url": "https://github.com/pytorch/pytorch/issues/8022#issuecomment-394230821", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8022", "id": 394230821, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDIzMDgyMQ==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-04T04:24:59Z", "updated_at": "2018-06-04T04:25:47Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=1096590\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bingo619\">@bingo619</a> Thanks for giving it a try. Sounds like <code>libcaffe2_gpu.dylib</code> is being loaded correctly, so my initial guess was wrong. Would it be possible to print the keys of the map to see what is in it when you get the key already registered error message?</p>\n<p>And maybe also, you noted that there was never anything at the key \"CUDAHooks\" when you didn't have the dlopen line. Is the map always empty in that case, or is there something registered, perhaps at a different name? (I made this bug when I developed the patch and figured it out by seeing that there was another CUDAHooks thing but named slightly differently).</p>\n<p>I'd like to debug this myself but I can't get PyTorch to build with Mac OS X and CUDA at the moment. (See also the bugs I've recently filed)</p>", "body_text": "@bingo619 Thanks for giving it a try. Sounds like libcaffe2_gpu.dylib is being loaded correctly, so my initial guess was wrong. Would it be possible to print the keys of the map to see what is in it when you get the key already registered error message?\nAnd maybe also, you noted that there was never anything at the key \"CUDAHooks\" when you didn't have the dlopen line. Is the map always empty in that case, or is there something registered, perhaps at a different name? (I made this bug when I developed the patch and figured it out by seeing that there was another CUDAHooks thing but named slightly differently).\nI'd like to debug this myself but I can't get PyTorch to build with Mac OS X and CUDA at the moment. (See also the bugs I've recently filed)", "body": "@bingo619 Thanks for giving it a try. Sounds like `libcaffe2_gpu.dylib` is being loaded correctly, so my initial guess was wrong. Would it be possible to print the keys of the map to see what is in it when you get the key already registered error message?\r\n\r\nAnd maybe also, you noted that there was never anything at the key \"CUDAHooks\" when you didn't have the dlopen line. Is the map always empty in that case, or is there something registered, perhaps at a different name? (I made this bug when I developed the patch and figured it out by seeing that there was another CUDAHooks thing but named slightly differently).\r\n\r\nI'd like to debug this myself but I can't get PyTorch to build with Mac OS X and CUDA at the moment. (See also the bugs I've recently filed)"}