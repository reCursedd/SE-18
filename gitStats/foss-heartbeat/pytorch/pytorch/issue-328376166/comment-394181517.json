{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/394181517", "html_url": "https://github.com/pytorch/pytorch/issues/8022#issuecomment-394181517", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/8022", "id": 394181517, "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDE4MTUxNw==", "user": {"login": "bingo619", "id": 1096590, "node_id": "MDQ6VXNlcjEwOTY1OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1096590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bingo619", "html_url": "https://github.com/bingo619", "followers_url": "https://api.github.com/users/bingo619/followers", "following_url": "https://api.github.com/users/bingo619/following{/other_user}", "gists_url": "https://api.github.com/users/bingo619/gists{/gist_id}", "starred_url": "https://api.github.com/users/bingo619/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bingo619/subscriptions", "organizations_url": "https://api.github.com/users/bingo619/orgs", "repos_url": "https://api.github.com/users/bingo619/repos", "events_url": "https://api.github.com/users/bingo619/events{/privacy}", "received_events_url": "https://api.github.com/users/bingo619/received_events", "type": "User", "site_admin": false}, "created_at": "2018-06-03T18:29:01Z", "updated_at": "2018-06-03T18:33:12Z", "author_association": "NONE", "body_html": "<p>Have tracked down the problem was in CUDAHooksInterface.cpp,<br>\n<code>cuda_hooks = CUDAHooksRegistry()-&gt;Create(\"CUDAHooks\", CUDAHooksArgs{});</code> always return null because in Registry.h line 77 the registry_.count(key) is always 0;<br>\n<code>ObjectPtrType Create(const SrcType&amp; key, Args... args) {</code><br>\n<code>if (registry_.count(key) == 0) {</code><br>\n<code>// Returns nullptr if the key is not registered.</code><br>\n<code>return nullptr;</code><br>\n<code> }</code><br>\n<code> return registry_[key](args...);</code><br>\n<code>}</code><br>\n`</p>\n<p>Suspect  CUDAHooksRegistry() is creating new instance, because of namespace? Is it working in Linux? Any help will be appreciated.</p>", "body_text": "Have tracked down the problem was in CUDAHooksInterface.cpp,\ncuda_hooks = CUDAHooksRegistry()->Create(\"CUDAHooks\", CUDAHooksArgs{}); always return null because in Registry.h line 77 the registry_.count(key) is always 0;\nObjectPtrType Create(const SrcType& key, Args... args) {\nif (registry_.count(key) == 0) {\n// Returns nullptr if the key is not registered.\nreturn nullptr;\n }\n return registry_[key](args...);\n}\n`\nSuspect  CUDAHooksRegistry() is creating new instance, because of namespace? Is it working in Linux? Any help will be appreciated.", "body": "Have tracked down the problem was in CUDAHooksInterface.cpp, \r\n`cuda_hooks = CUDAHooksRegistry()->Create(\"CUDAHooks\", CUDAHooksArgs{});` always return null because in Registry.h line 77 the registry_.count(key) is always 0; \r\n`\r\nObjectPtrType Create(const SrcType& key, Args... args) { `\r\n   ` if (registry_.count(key) == 0) { `\r\n     ` // Returns nullptr if the key is not registered. `\r\n     ` return nullptr; `\r\n   ` }`\r\n   ` return registry_[key](args...);`\r\n  `}`\r\n`\r\n\r\nSuspect  CUDAHooksRegistry() is creating new instance, because of namespace? Is it working in Linux? Any help will be appreciated."}