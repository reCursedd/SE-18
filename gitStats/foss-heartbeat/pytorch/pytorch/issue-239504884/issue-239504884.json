{"url": "https://api.github.com/repos/pytorch/pytorch/issues/1941", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/1941/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/1941/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/1941/events", "html_url": "https://github.com/pytorch/pytorch/issues/1941", "id": 239504884, "node_id": "MDU6SXNzdWUyMzk1MDQ4ODQ=", "number": 1941, "title": "Install Issue: torch/_C.so looks for two versions of cuda", "user": {"login": "wk910930", "id": 7674820, "node_id": "MDQ6VXNlcjc2NzQ4MjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/7674820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wk910930", "html_url": "https://github.com/wk910930", "followers_url": "https://api.github.com/users/wk910930/followers", "following_url": "https://api.github.com/users/wk910930/following{/other_user}", "gists_url": "https://api.github.com/users/wk910930/gists{/gist_id}", "starred_url": "https://api.github.com/users/wk910930/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wk910930/subscriptions", "organizations_url": "https://api.github.com/users/wk910930/orgs", "repos_url": "https://api.github.com/users/wk910930/repos", "events_url": "https://api.github.com/users/wk910930/events{/privacy}", "received_events_url": "https://api.github.com/users/wk910930/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-29T14:47:11Z", "updated_at": "2017-06-30T04:01:24Z", "closed_at": "2017-06-30T03:05:32Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>When I am trying to <code>import torch</code>, it said <code>ImportError: libcudart.so.7.5: cannot open shared object file</code>. However, when I run the command <code>ldd /usr/local/lib/python2.7/dist-packages/torch/_C.so</code>, it shows</p>\n<div class=\"highlight highlight-source-shell\"><pre>...\nlinux-vdso.so.1 =<span class=\"pl-k\">&gt;</span>  (0x00007ffcc25f4000)\nlibshm.so =<span class=\"pl-k\">&gt;</span> /usr/local/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007fa881131000)\nlibcudart.so.8.0 =<span class=\"pl-k\">&gt;</span> /usr/local/cuda/lib64/libcudart.so.8.0 (0x00007fa880eca000)\nlibnccl.so.1 =<span class=\"pl-k\">&gt;</span> /usr/local/lib/libnccl.so.1 (0x00007fa87eead000)\nlibTH.so.1 =<span class=\"pl-k\">&gt;</span> /usr/local/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007fa87e8e2000)\n...\nlibdl.so.2 =<span class=\"pl-k\">&gt;</span> /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fa86ed3f000)\nlibrt.so.1 =<span class=\"pl-k\">&gt;</span> /lib/x86_64-linux-gnu/librt.so.1 (0x00007fa86eb37000)\nlibcudart.so.7.5 =<span class=\"pl-k\">&gt;</span> not found\nlibm.so.6 =<span class=\"pl-k\">&gt;</span> /lib/x86_64-linux-gnu/libm.so.6 (0x00007fa86e830000)\nlibopenblas.so.0 =<span class=\"pl-k\">&gt;</span> /usr/lib/libopenblas.so.0 (0x00007fa86d01d000)\n...</pre></div>\n<p>Somehow it is looking for the libcudart of two different versions (7.5 &amp; 8.0) at the same time! Currently in my machine, there is only cuda-8.0 installed and <code>/usr/local/cuda</code> is linking to cuda-8.0, too. I have been confused by this for 3 days.</p>\n<p>Someone encountered the same issue?</p>\n<p>Thanks!</p>", "body_text": "Hi,\nWhen I am trying to import torch, it said ImportError: libcudart.so.7.5: cannot open shared object file. However, when I run the command ldd /usr/local/lib/python2.7/dist-packages/torch/_C.so, it shows\n...\nlinux-vdso.so.1 =>  (0x00007ffcc25f4000)\nlibshm.so => /usr/local/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007fa881131000)\nlibcudart.so.8.0 => /usr/local/cuda/lib64/libcudart.so.8.0 (0x00007fa880eca000)\nlibnccl.so.1 => /usr/local/lib/libnccl.so.1 (0x00007fa87eead000)\nlibTH.so.1 => /usr/local/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007fa87e8e2000)\n...\nlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fa86ed3f000)\nlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fa86eb37000)\nlibcudart.so.7.5 => not found\nlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fa86e830000)\nlibopenblas.so.0 => /usr/lib/libopenblas.so.0 (0x00007fa86d01d000)\n...\nSomehow it is looking for the libcudart of two different versions (7.5 & 8.0) at the same time! Currently in my machine, there is only cuda-8.0 installed and /usr/local/cuda is linking to cuda-8.0, too. I have been confused by this for 3 days.\nSomeone encountered the same issue?\nThanks!", "body": "Hi,\r\n\r\nWhen I am trying to `import torch`, it said `ImportError: libcudart.so.7.5: cannot open shared object file`. However, when I run the command `ldd /usr/local/lib/python2.7/dist-packages/torch/_C.so`, it shows\r\n\r\n```shell\r\n...\r\nlinux-vdso.so.1 =>  (0x00007ffcc25f4000)\r\nlibshm.so => /usr/local/lib/python2.7/dist-packages/torch/lib/libshm.so (0x00007fa881131000)\r\nlibcudart.so.8.0 => /usr/local/cuda/lib64/libcudart.so.8.0 (0x00007fa880eca000)\r\nlibnccl.so.1 => /usr/local/lib/libnccl.so.1 (0x00007fa87eead000)\r\nlibTH.so.1 => /usr/local/lib/python2.7/dist-packages/torch/lib/libTH.so.1 (0x00007fa87e8e2000)\r\n...\r\nlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fa86ed3f000)\r\nlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007fa86eb37000)\r\nlibcudart.so.7.5 => not found\r\nlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007fa86e830000)\r\nlibopenblas.so.0 => /usr/lib/libopenblas.so.0 (0x00007fa86d01d000)\r\n...\r\n```\r\n\r\nSomehow it is looking for the libcudart of two different versions (7.5 & 8.0) at the same time! Currently in my machine, there is only cuda-8.0 installed and `/usr/local/cuda` is linking to cuda-8.0, too. I have been confused by this for 3 days.\r\n\r\nSomeone encountered the same issue?\r\n\r\nThanks!\r\n"}