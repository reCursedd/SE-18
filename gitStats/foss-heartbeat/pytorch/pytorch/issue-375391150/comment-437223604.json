{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/437223604", "html_url": "https://github.com/pytorch/pytorch/pull/13303#issuecomment-437223604", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13303", "id": 437223604, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzIyMzYwNA==", "user": {"login": "gujinghui", "id": 31264804, "node_id": "MDQ6VXNlcjMxMjY0ODA0", "avatar_url": "https://avatars2.githubusercontent.com/u/31264804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gujinghui", "html_url": "https://github.com/gujinghui", "followers_url": "https://api.github.com/users/gujinghui/followers", "following_url": "https://api.github.com/users/gujinghui/following{/other_user}", "gists_url": "https://api.github.com/users/gujinghui/gists{/gist_id}", "starred_url": "https://api.github.com/users/gujinghui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gujinghui/subscriptions", "organizations_url": "https://api.github.com/users/gujinghui/orgs", "repos_url": "https://api.github.com/users/gujinghui/repos", "events_url": "https://api.github.com/users/gujinghui/events{/privacy}", "received_events_url": "https://api.github.com/users/gujinghui/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-09T02:00:01Z", "updated_at": "2018-11-09T02:00:01Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>ppc64le does not support mkl-dnn. I suspect this is why the ppc64le is now breaking.</p>\n<p>-- USE_MKLDNN : ON &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</p>\n<p>c++: error: unrecognized command line option '-march=native'<br>\nthird_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:62: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o' failed<br>\nmake[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o] Error 1<br>\nmake[2]: *** Waiting for unfinished jobs....<br>\nc++: error: unrecognized command line option '-march=native'<br>\nthird_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:75: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o' failed<br>\nmake[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o] Error 1<br>\nCMakeFiles/Makefile2:1342: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all' failed<br>\nmake[1]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all] Error 2<br>\nmake[1]: *** Waiting for unfinished jobs....</p>\n<p>Makefile:140: recipe for target 'all' failed<br>\nmake: *** [all] Error 2<br>\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-fbgemm --use-nnpack --use-mkldnn --use-qnnpack caffe2'</p>\n</blockquote>\n<p>Please try to disable MKLDNN by settting NO_MKLDNN=1:<br>\nNO_MKLDNN=1 python setup.py build_deps</p>", "body_text": "ppc64le does not support mkl-dnn. I suspect this is why the ppc64le is now breaking.\n-- USE_MKLDNN : ON <<<<<<<<<<<<<<<<<\nc++: error: unrecognized command line option '-march=native'\nthird_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:62: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o' failed\nmake[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nc++: error: unrecognized command line option '-march=native'\nthird_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:75: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o' failed\nmake[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o] Error 1\nCMakeFiles/Makefile2:1342: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all' failed\nmake[1]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nFailed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-fbgemm --use-nnpack --use-mkldnn --use-qnnpack caffe2'\n\nPlease try to disable MKLDNN by settting NO_MKLDNN=1:\nNO_MKLDNN=1 python setup.py build_deps", "body": "> ppc64le does not support mkl-dnn. I suspect this is why the ppc64le is now breaking.\r\n> \r\n> -- USE_MKLDNN : ON <<<<<<<<<<<<<<<<<\r\n> \r\n> c++: error: unrecognized command line option '-march=native'\r\n> third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:62: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o' failed\r\n> make[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/batch_normalization.cpp.o] Error 1\r\n> make[2]: *** Waiting for unfinished jobs....\r\n> c++: error: unrecognized command line option '-march=native'\r\n> third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/build.make:75: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o' failed\r\n> make[2]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/common/convolution.cpp.o] Error 1\r\n> CMakeFiles/Makefile2:1342: recipe for target 'third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all' failed\r\n> make[1]: *** [third_party/ideep/mkl-dnn/src/CMakeFiles/mkldnn.dir/all] Error 2\r\n> make[1]: *** Waiting for unfinished jobs....\r\n> \r\n> Makefile:140: recipe for target 'all' failed\r\n> make: *** [all] Error 2\r\n> Failed to run 'bash ../tools/build_pytorch_libs.sh --use-cuda --use-fbgemm --use-nnpack --use-mkldnn --use-qnnpack caffe2'\r\n\r\nPlease try to disable MKLDNN by settting NO_MKLDNN=1:\r\nNO_MKLDNN=1 python setup.py build_deps"}