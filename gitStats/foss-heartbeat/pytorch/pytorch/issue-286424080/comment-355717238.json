{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/355717238", "html_url": "https://github.com/pytorch/pytorch/pull/4503#issuecomment-355717238", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4503", "id": 355717238, "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTcxNzIzOA==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-01-06T02:40:38Z", "updated_at": "2018-01-06T02:40:38Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p><code>@contextmanager</code> is very slow, and now we're starting to nest those</p>\n</blockquote>\n<p>If someone is toggling <code>torch.backends.cudnn.enabled</code> in a loop we need to seriously reconsider our API design (offering a way to directly invoke cuDNN. Which, by the way, we already have, but in an undocumented way.)</p>\n<blockquote>\n<p>silently ignore assignments</p>\n</blockquote>\n<p>It doesn't; it raises an exception if you try to mutate it after its frozen.  As for why context managers still work, the intent is more that you're not allowed to <em>globally</em> change the setting; stack local changes are OK.</p>", "body_text": "@contextmanager is very slow, and now we're starting to nest those\n\nIf someone is toggling torch.backends.cudnn.enabled in a loop we need to seriously reconsider our API design (offering a way to directly invoke cuDNN. Which, by the way, we already have, but in an undocumented way.)\n\nsilently ignore assignments\n\nIt doesn't; it raises an exception if you try to mutate it after its frozen.  As for why context managers still work, the intent is more that you're not allowed to globally change the setting; stack local changes are OK.", "body": "> `@contextmanager` is very slow, and now we're starting to nest those\r\n\r\nIf someone is toggling `torch.backends.cudnn.enabled` in a loop we need to seriously reconsider our API design (offering a way to directly invoke cuDNN. Which, by the way, we already have, but in an undocumented way.)\r\n\r\n> silently ignore assignments\r\n\r\nIt doesn't; it raises an exception if you try to mutate it after its frozen.  As for why context managers still work, the intent is more that you're not allowed to *globally* change the setting; stack local changes are OK."}