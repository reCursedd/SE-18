{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3967", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3967/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3967/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3967/events", "html_url": "https://github.com/pytorch/pytorch/issues/3967", "id": 278533740, "node_id": "MDU6SXNzdWUyNzg1MzM3NDA=", "number": 3967, "title": "ninja stacktrace obscures build error", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-01T17:09:59Z", "updated_at": "2017-12-01T17:10:11Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Here is my most recent compile failure (due to a mistake I made):</p>\n<pre><code>torch/csrc/autograd/generated/Functions.cpp:584:23: error: converting to \u2018std::tuple&lt;at::Tensor, a[82/50144]\n at::Tensor&gt;\u2019 from initializer list would use explicit constructor \u2018constexpr std::tuple&lt; &lt;template-paramete\nr-1-1&gt; &gt;::tuple(const _Elements&amp; ...) [with _Elements = {at::Tensor, at::Tensor, at::Tensor}]\u2019\n   return {ggG, ggB, gO}; // TODO remove me\n                       ^\n[62/96] gcc -pthread -fno-strict-aliasing -g -O2 -...4-2.7/torch/csrc/autograd/generated/VariableType.d\nninja: build stopped: subcommand failed.\nTraceback (most recent call last):\n  File \"setup.py\", line 726, in &lt;module&gt;\n    install_requires=['pyyaml', 'numpy'],\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 213, in run\n    setuptools.command.develop.develop.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\nine 36, in run\n    self.install_for_development()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\nine 134, in install_for_development\n    self.run_command('build_ext')\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 313, in run\n    setuptools.command.build_ext.build_ext.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\n line 75, in run\n    _build_ext.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 340, in r\nun\n    self.build_extensions()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 449, in b\nuild_extensions\n    self.build_extension(ext)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 92, in build_extensio\nn\n    self._build_default(ext)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 43, in _build_default\n    return setuptools.command.build_ext.build_ext.build_extension(self, ext)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\n line 196, in build_extension\n    _build_ext.build_extension(self, ext)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 531, in b\nuild_extension\n    target_lang=language)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/ccompiler.py\", line 691, in link_shar\ned_object\n    extra_preargs, extra_postargs, build_temp, target_lang)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 82, in link\n    builder.run()\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 28, in run\n    subprocess.check_call([self.ninja_program, '-f', self.filename])\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/subprocess.py\", line 186, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages\n/ninja/data/bin/ninja', '-f', 'build/build.torch._C.ninja']' returned non-zero exit status 1\n</code></pre>\n<p>The stacktrace is so long I can't see the actual compile error.</p>", "body_text": "Here is my most recent compile failure (due to a mistake I made):\ntorch/csrc/autograd/generated/Functions.cpp:584:23: error: converting to \u2018std::tuple<at::Tensor, a[82/50144]\n at::Tensor>\u2019 from initializer list would use explicit constructor \u2018constexpr std::tuple< <template-paramete\nr-1-1> >::tuple(const _Elements& ...) [with _Elements = {at::Tensor, at::Tensor, at::Tensor}]\u2019\n   return {ggG, ggB, gO}; // TODO remove me\n                       ^\n[62/96] gcc -pthread -fno-strict-aliasing -g -O2 -...4-2.7/torch/csrc/autograd/generated/VariableType.d\nninja: build stopped: subcommand failed.\nTraceback (most recent call last):\n  File \"setup.py\", line 726, in <module>\n    install_requires=['pyyaml', 'numpy'],\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/core.py\", line 151, in setup\n    dist.run_commands()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 213, in run\n    setuptools.command.develop.develop.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\nine 36, in run\n    self.install_for_development()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\nine 134, in install_for_development\n    self.run_command('build_ext')\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n    self.distribution.run_command(command)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"setup.py\", line 313, in run\n    setuptools.command.build_ext.build_ext.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\n line 75, in run\n    _build_ext.run(self)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 340, in r\nun\n    self.build_extensions()\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 449, in b\nuild_extensions\n    self.build_extension(ext)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 92, in build_extensio\nn\n    self._build_default(ext)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 43, in _build_default\n    return setuptools.command.build_ext.build_ext.build_extension(self, ext)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\n line 196, in build_extension\n    _build_ext.build_extension(self, ext)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 531, in b\nuild_extension\n    target_lang=language)\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/ccompiler.py\", line 691, in link_shar\ned_object\n    extra_preargs, extra_postargs, build_temp, target_lang)\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 82, in link\n    builder.run()\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 28, in run\n    subprocess.check_call([self.ninja_program, '-f', self.filename])\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/subprocess.py\", line 186, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages\n/ninja/data/bin/ninja', '-f', 'build/build.torch._C.ninja']' returned non-zero exit status 1\n\nThe stacktrace is so long I can't see the actual compile error.", "body": "Here is my most recent compile failure (due to a mistake I made):\r\n\r\n```\r\ntorch/csrc/autograd/generated/Functions.cpp:584:23: error: converting to \u2018std::tuple<at::Tensor, a[82/50144]\r\n at::Tensor>\u2019 from initializer list would use explicit constructor \u2018constexpr std::tuple< <template-paramete\r\nr-1-1> >::tuple(const _Elements& ...) [with _Elements = {at::Tensor, at::Tensor, at::Tensor}]\u2019\r\n   return {ggG, ggB, gO}; // TODO remove me\r\n                       ^\r\n[62/96] gcc -pthread -fno-strict-aliasing -g -O2 -...4-2.7/torch/csrc/autograd/generated/VariableType.d\r\nninja: build stopped: subcommand failed.\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 726, in <module>\r\n    install_requires=['pyyaml', 'numpy'],\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/core.py\", line 151, in setup\r\n    dist.run_commands()\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 953, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"setup.py\", line 213, in run\r\n    setuptools.command.develop.develop.run(self)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\r\nine 36, in run\r\n    self.install_for_development()\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/develop.py\", l\r\nine 134, in install_for_development\r\n    self.run_command('build_ext')\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"setup.py\", line 313, in run\r\n    setuptools.command.build_ext.build_ext.run(self)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\r\n line 75, in run\r\n    _build_ext.run(self)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 340, in r\r\nun\r\n    self.build_extensions()\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 449, in b\r\nuild_extensions\r\n    self.build_extension(ext)\r\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 92, in build_extensio\r\nn\r\n    self._build_default(ext)\r\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 43, in _build_default\r\n    return setuptools.command.build_ext.build_ext.build_extension(self, ext)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages/setuptools/command/build_ext.py\",\r\n line 196, in build_extension\r\n    _build_ext.build_extension(self, ext)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/command/build_ext.py\", line 531, in b\r\nuild_extension\r\n    target_lang=language)\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/distutils/ccompiler.py\", line 691, in link_shar\r\ned_object\r\n    extra_preargs, extra_postargs, build_temp, target_lang)\r\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 82, in link\r\n    builder.run()\r\n  File \"/data/users/ezyang/pytorch-python2/tools/setup_helpers/ninja_builder.py\", line 28, in run\r\n    subprocess.check_call([self.ninja_program, '-f', self.filename])\r\n  File \"/home/ezyang/local/pytorch-python2-env/lib/python2.7/subprocess.py\", line 186, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '['/home/ezyang/local/pytorch-python2-env/lib/python2.7/site-packages\r\n/ninja/data/bin/ninja', '-f', 'build/build.torch._C.ninja']' returned non-zero exit status 1\r\n```\r\n\r\nThe stacktrace is so long I can't see the actual compile error."}