{"url": "https://api.github.com/repos/pytorch/pytorch/issues/7589", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/7589/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/7589/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/7589/events", "html_url": "https://github.com/pytorch/pytorch/issues/7589", "id": 323365231, "node_id": "MDU6SXNzdWUzMjMzNjUyMzE=", "number": 7589, "title": "[Caffe2] Building Android using script errors with ambiguous function call (stod)", "user": {"login": "ldesegur", "id": 13503087, "node_id": "MDQ6VXNlcjEzNTAzMDg3", "avatar_url": "https://avatars0.githubusercontent.com/u/13503087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldesegur", "html_url": "https://github.com/ldesegur", "followers_url": "https://api.github.com/users/ldesegur/followers", "following_url": "https://api.github.com/users/ldesegur/following{/other_user}", "gists_url": "https://api.github.com/users/ldesegur/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldesegur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldesegur/subscriptions", "organizations_url": "https://api.github.com/users/ldesegur/orgs", "repos_url": "https://api.github.com/users/ldesegur/repos", "events_url": "https://api.github.com/users/ldesegur/events{/privacy}", "received_events_url": "https://api.github.com/users/ldesegur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-15T20:10:18Z", "updated_at": "2018-05-15T20:54:01Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>See below. Commenting stod() from caffe2/core/common.h seems to work fine.</p>\n<p>Here is my build env:<br>\nMac OS X 10.13.4<br>\nAndroid NDK 17.0.4754217</p>\n<p>In file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:0:<br>\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':<br>\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous<br>\ndouble r = stod(text(), &amp;idx);<br>\n^<br>\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: note: candidates are:<br>\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:11:0,<br>\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:<br>\n/Users/laurent/Develop/pytorch/caffe2/core/common.h:206:15: note: double caffe2::stod(const string&amp;, size_t*)<br>\ninline double stod(const string&amp; str, std::size_t* pos = 0) {<br>\n^<br>\nIn file included from /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/__locale:15:0,<br>\nfrom /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/ios:216,<br>\nfrom /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/iostream:38,<br>\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:4,<br>\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:<br>\n/Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/string:3874:30: note: double std::__ndk1::stod(const string&amp;, size_t*)<br>\n_LIBCPP_FUNC_VIS double      stod (const string&amp; __str, size_t* __idx = 0);<br>\n^<br>\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/parser.h:2:0,<br>\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/compiler.cc:5:<br>\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':<br>\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous</p>", "body_text": "See below. Commenting stod() from caffe2/core/common.h seems to work fine.\nHere is my build env:\nMac OS X 10.13.4\nAndroid NDK 17.0.4754217\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:0:\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous\ndouble r = stod(text(), &idx);\n^\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: note: candidates are:\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:11:0,\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:\n/Users/laurent/Develop/pytorch/caffe2/core/common.h:206:15: note: double caffe2::stod(const string&, size_t*)\ninline double stod(const string& str, std::size_t* pos = 0) {\n^\nIn file included from /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/__locale:15:0,\nfrom /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/ios:216,\nfrom /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/iostream:38,\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:4,\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:\n/Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/string:3874:30: note: double std::__ndk1::stod(const string&, size_t*)\n_LIBCPP_FUNC_VIS double      stod (const string& __str, size_t* __idx = 0);\n^\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/parser.h:2:0,\nfrom /Users/laurent/Develop/pytorch/caffe2/contrib/script/compiler.cc:5:\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous", "body": "See below. Commenting stod() from caffe2/core/common.h seems to work fine.\r\n\r\nHere is my build env:\r\nMac OS X 10.13.4\r\nAndroid NDK 17.0.4754217\r\n\r\n\r\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:0:\r\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':\r\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous\r\n     double r = stod(text(), &idx);\r\n                                 ^\r\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: note: candidates are:\r\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:11:0,\r\n                 from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:\r\n/Users/laurent/Develop/pytorch/caffe2/core/common.h:206:15: note: double caffe2::stod(const string&, size_t*)\r\n inline double stod(const string& str, std::size_t* pos = 0) {\r\n               ^\r\nIn file included from /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/__locale:15:0,\r\n                 from /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/ios:216,\r\n                 from /Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/iostream:38,\r\n                 from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:4,\r\n                 from /Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.cc:1:\r\n/Users/laurent/Library/Android/sdk/ndk-bundle/sources/cxx-stl/llvm-libc++/include/string:3874:30: note: double std::__ndk1::stod(const string&, size_t*)\r\n _LIBCPP_FUNC_VIS double      stod (const string& __str, size_t* __idx = 0);\r\n                              ^\r\nIn file included from /Users/laurent/Develop/pytorch/caffe2/contrib/script/parser.h:2:0,\r\n                 from /Users/laurent/Develop/pytorch/caffe2/contrib/script/compiler.cc:5:\r\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h: In member function 'double caffe2::script::Token::doubleValue()':\r\n/Users/laurent/Develop/pytorch/caffe2/contrib/script/lexer.h:361:33: error: call of overloaded 'stod(std::__ndk1::string, size_t*)' is ambiguous\r\n"}