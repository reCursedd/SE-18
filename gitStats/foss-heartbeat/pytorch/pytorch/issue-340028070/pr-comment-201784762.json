{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/201784762", "pull_request_review_id": 136352248, "id": 201784762, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTc4NDc2Mg==", "diff_hunk": "@@ -1253,6 +1247,27 @@ struct to_ir {\n     return emitApplyExpr(Var::create(ident.range(), ident), inputs, attributes, n_binders);\n   }\n \n+  std::shared_ptr<SugaredValue> emitPrint(Ident ident, const List<torch::jit::script::Expr> inputs) {\n+    std::vector<std::int64_t> string_indices;\n+    std::vector<std::string> strings; \n+    TreeList trees_;\n+    for(size_t i = 0; i < inputs.size(); i++) {\n+      if (inputs[i].kind() == TK_STRINGLITERAL) {\n+        strings.push_back(StringLiteral(inputs[i]).text());\n+        string_indices.push_back(i);\n+      } else {\n+        trees_.push_back(inputs[i]);\n+      }\n+    }\n+    auto filtered_inputs = getNamedValues(trees_, true, identity);\n+    ensureTensors(ident.range(), toValues(filtered_inputs));", "path": "torch/csrc/jit/script/compiler.cpp", "position": null, "original_position": 30, "commit_id": "e905658d61f902d3c9b75bf08d2504eb7e7b3e6f", "original_commit_id": "b2decb1ecffef6120bd76460622caa004bf0bac0", "user": {"login": "zdevito", "id": 370202, "node_id": "MDQ6VXNlcjM3MDIwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/370202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zdevito", "html_url": "https://github.com/zdevito", "followers_url": "https://api.github.com/users/zdevito/followers", "following_url": "https://api.github.com/users/zdevito/following{/other_user}", "gists_url": "https://api.github.com/users/zdevito/gists{/gist_id}", "starred_url": "https://api.github.com/users/zdevito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zdevito/subscriptions", "organizations_url": "https://api.github.com/users/zdevito/orgs", "repos_url": "https://api.github.com/users/zdevito/repos", "events_url": "https://api.github.com/users/zdevito/events{/privacy}", "received_events_url": "https://api.github.com/users/zdevito/received_events", "type": "User", "site_admin": false}, "body": "(If these were tuples, the tuple lowering pass would throw an exception. This is one reason we need to actual have value types for everything in the interpreter, because these checks pop up in weird places otherwise).", "created_at": "2018-07-11T17:51:34Z", "updated_at": "2018-11-23T15:47:09Z", "html_url": "https://github.com/pytorch/pytorch/pull/9324#discussion_r201784762", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/9324", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/201784762"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/9324#discussion_r201784762"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/9324"}}, "body_html": "<p>(If these were tuples, the tuple lowering pass would throw an exception. This is one reason we need to actual have value types for everything in the interpreter, because these checks pop up in weird places otherwise).</p>", "body_text": "(If these were tuples, the tuple lowering pass would throw an exception. This is one reason we need to actual have value types for everything in the interpreter, because these checks pop up in weird places otherwise).", "in_reply_to_id": 201758680}