{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/198362236", "pull_request_review_id": 132279682, "id": 198362236, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5ODM2MjIzNg==", "diff_hunk": "@@ -22,5 +23,8 @@ int main(int argc, char* argv[]) {\n     session.configData().testsOrTags.emplace_back(\"~[cuda]\");\n   }\n \n+  // Set a deterministic random seed for all tests.\n+  torch::manual_seed(0);", "path": "test/cpp/api/main.cpp", "position": null, "original_position": 13, "commit_id": "a813d1981f388d51293641bf70ce17bd92829590", "original_commit_id": "47f074bec038ec4d670e7fcdb88bb9c933468f1e", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "body": "Is there really no way of running this in some sort of `setup()` method? Seeding only once at the beginning of all tests means that the random data will change if you execute only one test, and means that adding a test can cause another test to fail because the seed was perturbed. That's bad.", "created_at": "2018-06-27T04:14:51Z", "updated_at": "2018-11-23T15:46:26Z", "html_url": "https://github.com/pytorch/pytorch/pull/8903#discussion_r198362236", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8903", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/198362236"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8903#discussion_r198362236"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8903"}}, "body_html": "<p>Is there really no way of running this in some sort of <code>setup()</code> method? Seeding only once at the beginning of all tests means that the random data will change if you execute only one test, and means that adding a test can cause another test to fail because the seed was perturbed. That's bad.</p>", "body_text": "Is there really no way of running this in some sort of setup() method? Seeding only once at the beginning of all tests means that the random data will change if you execute only one test, and means that adding a test can cause another test to fail because the seed was perturbed. That's bad."}