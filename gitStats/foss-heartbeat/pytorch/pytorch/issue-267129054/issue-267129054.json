{"url": "https://api.github.com/repos/pytorch/pytorch/issues/3199", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/3199/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/3199/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/3199/events", "html_url": "https://github.com/pytorch/pytorch/issues/3199", "id": 267129054, "node_id": "MDU6SXNzdWUyNjcxMjkwNTQ=", "number": 3199, "title": "Compiling issues on Mac OS - error: static_assert failed \"Attempted to construct a reference element in a tuple with an rvalue\"", "user": {"login": "zlmoment", "id": 2262586, "node_id": "MDQ6VXNlcjIyNjI1ODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2262586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zlmoment", "html_url": "https://github.com/zlmoment", "followers_url": "https://api.github.com/users/zlmoment/followers", "following_url": "https://api.github.com/users/zlmoment/following{/other_user}", "gists_url": "https://api.github.com/users/zlmoment/gists{/gist_id}", "starred_url": "https://api.github.com/users/zlmoment/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zlmoment/subscriptions", "organizations_url": "https://api.github.com/users/zlmoment/orgs", "repos_url": "https://api.github.com/users/zlmoment/repos", "events_url": "https://api.github.com/users/zlmoment/events{/privacy}", "received_events_url": "https://api.github.com/users/zlmoment/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 443484135, "node_id": "MDU6TGFiZWw0NDM0ODQxMzU=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/high%20priority", "name": "high priority", "color": "F22613", "default": false}], "state": "closed", "locked": false, "assignee": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-10-20T10:16:05Z", "updated_at": "2017-10-21T11:23:32Z", "closed_at": "2017-10-21T11:23:32Z", "author_association": "NONE", "body_html": "<p>Hi,</p>\n<p>I'm following the instructions from <a href=\"https://github.com/pytorch/pytorch#from-source\">https://github.com/pytorch/pytorch#from-source</a> to install PyTorch on Mac OS. My clang version is:</p>\n<pre><code>Apple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\n</code></pre>\n<p>The compiling command I used is:</p>\n<pre><code>MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\n</code></pre>\n<p>The error I got is \"static_assert failed \"Attempted to construct a reference element in a tuple with an rvalue\", see the following output for details:</p>\n<pre><code>clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/usr/local/miniconda3/include -arch x86_64 -I/usr/local/miniconda3/include -arch x86_64 -I/Users/zhaoyu/pytorch_src/pytorch -I/Users/zhaoyu/pytorch_src/pytorch/torch/csrc -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/pybind11/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/TH -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THPP -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THNN -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen -I/usr/local/miniconda3/lib/python3.6/site-packages/numpy/core/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THCUNN -I/usr/local/miniconda3/include/python3.6m -c /Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.cpp -o build/temp.macosx-10.7-x86_64-3.6/Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib\nIn file included from torch/csrc/autograd/generated/VariableType.cpp:1:\nIn file included from torch/csrc/autograd/generated/VariableType.h:5:\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4:\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/Scalar.h:6:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/string:439:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/algorithm:628:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/memory:609:\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:221:10: error: static_assert failed \"Attempted to construct a\n      reference element in a tuple with an rvalue\"\n        {static_assert(!is_reference&lt;_Hp&gt;::value ||\n         ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:437:15: note: in instantiation of function template specialization\n      'std::__1::__tuple_leaf&lt;1, const at::Tensor &amp;, false&gt;::__tuple_leaf&lt;torch::autograd::Variable, void&gt;' requested here\n            : __tuple_leaf&lt;_Indx, _Tp&gt;(_VSTD::forward&lt;typename tuple_element&lt;_Indx,\n              ^\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:662:15: note: in instantiation of function template specialization\n      'std::__1::__tuple_impl&lt;std::__1::__tuple_indices&lt;0, 1&gt;, at::Tensor, const at::Tensor\n      &amp;&gt;::__tuple_impl&lt;std::__1::tuple&lt;torch::autograd::Variable, torch::autograd::Variable&gt;, void&gt;' requested here\n            : base_(_VSTD::forward&lt;_Tuple&gt;(__t)) {}\n              ^\ntorch/csrc/autograd/generated/VariableType.cpp:3099:12: note: in instantiation of function template specialization\n      'std::__1::tuple&lt;at::Tensor, const at::Tensor &amp;&gt;::tuple&lt;std::__1::tuple&lt;torch::autograd::Variable, torch::autograd::Variable&gt;,\n      false&gt;' requested here\n    return std::tuple&lt;Tensor,const Tensor &amp;&gt;(std::move(ret));\n           ^\n</code></pre>", "body_text": "Hi,\nI'm following the instructions from https://github.com/pytorch/pytorch#from-source to install PyTorch on Mac OS. My clang version is:\nApple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\n\nThe compiling command I used is:\nMACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\n\nThe error I got is \"static_assert failed \"Attempted to construct a reference element in a tuple with an rvalue\", see the following output for details:\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/usr/local/miniconda3/include -arch x86_64 -I/usr/local/miniconda3/include -arch x86_64 -I/Users/zhaoyu/pytorch_src/pytorch -I/Users/zhaoyu/pytorch_src/pytorch/torch/csrc -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/pybind11/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/TH -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THPP -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THNN -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen -I/usr/local/miniconda3/lib/python3.6/site-packages/numpy/core/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THCUNN -I/usr/local/miniconda3/include/python3.6m -c /Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.cpp -o build/temp.macosx-10.7-x86_64-3.6/Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib\nIn file included from torch/csrc/autograd/generated/VariableType.cpp:1:\nIn file included from torch/csrc/autograd/generated/VariableType.h:5:\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4:\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/Scalar.h:6:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/string:439:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/algorithm:628:\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/memory:609:\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:221:10: error: static_assert failed \"Attempted to construct a\n      reference element in a tuple with an rvalue\"\n        {static_assert(!is_reference<_Hp>::value ||\n         ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:437:15: note: in instantiation of function template specialization\n      'std::__1::__tuple_leaf<1, const at::Tensor &, false>::__tuple_leaf<torch::autograd::Variable, void>' requested here\n            : __tuple_leaf<_Indx, _Tp>(_VSTD::forward<typename tuple_element<_Indx,\n              ^\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:662:15: note: in instantiation of function template specialization\n      'std::__1::__tuple_impl<std::__1::__tuple_indices<0, 1>, at::Tensor, const at::Tensor\n      &>::__tuple_impl<std::__1::tuple<torch::autograd::Variable, torch::autograd::Variable>, void>' requested here\n            : base_(_VSTD::forward<_Tuple>(__t)) {}\n              ^\ntorch/csrc/autograd/generated/VariableType.cpp:3099:12: note: in instantiation of function template specialization\n      'std::__1::tuple<at::Tensor, const at::Tensor &>::tuple<std::__1::tuple<torch::autograd::Variable, torch::autograd::Variable>,\n      false>' requested here\n    return std::tuple<Tensor,const Tensor &>(std::move(ret));\n           ^", "body": "Hi,\r\n\r\nI'm following the instructions from https://github.com/pytorch/pytorch#from-source to install PyTorch on Mac OS. My clang version is:\r\n```\r\nApple LLVM version 8.0.0 (clang-800.0.42.1)\r\nTarget: x86_64-apple-darwin16.7.0\r\nThread model: posix\r\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n```\r\nThe compiling command I used is:\r\n```\r\nMACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install\r\n```\r\nThe error I got is \"static_assert failed \"Attempted to construct a reference element in a tuple with an rvalue\", see the following output for details:\r\n```\r\nclang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/usr/local/miniconda3/include -arch x86_64 -I/usr/local/miniconda3/include -arch x86_64 -I/Users/zhaoyu/pytorch_src/pytorch -I/Users/zhaoyu/pytorch_src/pytorch/torch/csrc -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/pybind11/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/TH -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THPP -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THNN -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen -I/usr/local/miniconda3/lib/python3.6/site-packages/numpy/core/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THD -I/usr/local/cuda/include -I/Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/THCUNN -I/usr/local/miniconda3/include/python3.6m -c /Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.cpp -o build/temp.macosx-10.7-x86_64-3.6/Users/zhaoyu/pytorch_src/pytorch/torch/csrc/generated/TensorByte.o -D_THP_CORE -std=c++11 -Wno-write-strings -fno-strict-aliasing -Wno-missing-braces -DWITH_NUMPY -DWITH_DISTRIBUTED -DWITH_CUDA -DCUDA_LIB_PATH=/usr/local/cuda/lib\r\nIn file included from torch/csrc/autograd/generated/VariableType.cpp:1:\r\nIn file included from torch/csrc/autograd/generated/VariableType.h:5:\r\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/ATen.h:4:\r\nIn file included from /Users/zhaoyu/pytorch_src/pytorch/torch/lib/tmp_install/include/ATen/Scalar.h:6:\r\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/string:439:\r\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/algorithm:628:\r\nIn file included from /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/memory:609:\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:221:10: error: static_assert failed \"Attempted to construct a\r\n      reference element in a tuple with an rvalue\"\r\n        {static_assert(!is_reference<_Hp>::value ||\r\n         ^             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:437:15: note: in instantiation of function template specialization\r\n      'std::__1::__tuple_leaf<1, const at::Tensor &, false>::__tuple_leaf<torch::autograd::Variable, void>' requested here\r\n            : __tuple_leaf<_Indx, _Tp>(_VSTD::forward<typename tuple_element<_Indx,\r\n              ^\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/tuple:662:15: note: in instantiation of function template specialization\r\n      'std::__1::__tuple_impl<std::__1::__tuple_indices<0, 1>, at::Tensor, const at::Tensor\r\n      &>::__tuple_impl<std::__1::tuple<torch::autograd::Variable, torch::autograd::Variable>, void>' requested here\r\n            : base_(_VSTD::forward<_Tuple>(__t)) {}\r\n              ^\r\ntorch/csrc/autograd/generated/VariableType.cpp:3099:12: note: in instantiation of function template specialization\r\n      'std::__1::tuple<at::Tensor, const at::Tensor &>::tuple<std::__1::tuple<torch::autograd::Variable, torch::autograd::Variable>,\r\n      false>' requested here\r\n    return std::tuple<Tensor,const Tensor &>(std::move(ret));\r\n           ^\r\n```"}