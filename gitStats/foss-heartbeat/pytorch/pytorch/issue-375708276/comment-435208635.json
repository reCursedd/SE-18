{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/435208635", "html_url": "https://github.com/pytorch/pytorch/pull/13342#issuecomment-435208635", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13342", "id": 435208635, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTIwODYzNQ==", "user": {"login": "pietern", "id": 9845, "node_id": "MDQ6VXNlcjk4NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietern", "html_url": "https://github.com/pietern", "followers_url": "https://api.github.com/users/pietern/followers", "following_url": "https://api.github.com/users/pietern/following{/other_user}", "gists_url": "https://api.github.com/users/pietern/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietern/subscriptions", "organizations_url": "https://api.github.com/users/pietern/orgs", "repos_url": "https://api.github.com/users/pietern/repos", "events_url": "https://api.github.com/users/pietern/events{/privacy}", "received_events_url": "https://api.github.com/users/pietern/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-01T22:29:21Z", "updated_at": "2018-11-01T22:29:21Z", "author_association": "CONTRIBUTOR", "body_html": "<blockquote>\n<p>While we're at it, we also apply a new optimization: if, according to<br>\nthe DeviceGuard, we didn't actually change the device, we don't<br>\nbother calling setDevice at destruction time.</p>\n</blockquote>\n<p>Just had a chat with <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=38511765\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mruberry\">@mruberry</a> about this. If you end up doing some DIY device setting this means you're hosed when the guard goes out of scope. The only way this can work reliably if there is some guarantee that custom device setting is NOT allowed.</p>", "body_text": "While we're at it, we also apply a new optimization: if, according to\nthe DeviceGuard, we didn't actually change the device, we don't\nbother calling setDevice at destruction time.\n\nJust had a chat with @mruberry about this. If you end up doing some DIY device setting this means you're hosed when the guard goes out of scope. The only way this can work reliably if there is some guarantee that custom device setting is NOT allowed.", "body": "> While we're at it, we also apply a new optimization: if, according to\r\nthe DeviceGuard, we didn't actually change the device, we don't\r\nbother calling setDevice at destruction time.\r\n\r\nJust had a chat with @mruberry about this. If you end up doing some DIY device setting this means you're hosed when the guard goes out of scope. The only way this can work reliably if there is some guarantee that custom device setting is NOT allowed."}