{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/435266660", "html_url": "https://github.com/pytorch/pytorch/pull/13342#issuecomment-435266660", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/13342", "id": 435266660, "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTI2NjY2MA==", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "created_at": "2018-11-02T04:19:09Z", "updated_at": "2018-11-02T04:19:09Z", "author_association": "CONTRIBUTOR", "body_html": "<p>I fixed a pile of bugs in the move constructors and undid the optimization. DeviceGuard, on destruction, is now guaranteed to reset the device to the current one at time of construction, <em>unless</em> it was rendered inert by a move. Honestly the move constructor/assignment seem like a bug farm and, even though I think they're right now, I wouldn't be averse to removing them.</p>", "body_text": "I fixed a pile of bugs in the move constructors and undid the optimization. DeviceGuard, on destruction, is now guaranteed to reset the device to the current one at time of construction, unless it was rendered inert by a move. Honestly the move constructor/assignment seem like a bug farm and, even though I think they're right now, I wouldn't be averse to removing them.", "body": "I fixed a pile of bugs in the move constructors and undid the optimization. DeviceGuard, on destruction, is now guaranteed to reset the device to the current one at time of construction, *unless* it was rendered inert by a move. Honestly the move constructor/assignment seem like a bug farm and, even though I think they're right now, I wouldn't be averse to removing them."}