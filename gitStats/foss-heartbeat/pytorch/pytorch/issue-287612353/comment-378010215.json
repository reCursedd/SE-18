{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/378010215", "html_url": "https://github.com/pytorch/pytorch/pull/4594#issuecomment-378010215", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/4594", "id": 378010215, "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODAxMDIxNQ==", "user": {"login": "prigoyal", "id": 13488275, "node_id": "MDQ6VXNlcjEzNDg4Mjc1", "avatar_url": "https://avatars0.githubusercontent.com/u/13488275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prigoyal", "html_url": "https://github.com/prigoyal", "followers_url": "https://api.github.com/users/prigoyal/followers", "following_url": "https://api.github.com/users/prigoyal/following{/other_user}", "gists_url": "https://api.github.com/users/prigoyal/gists{/gist_id}", "starred_url": "https://api.github.com/users/prigoyal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prigoyal/subscriptions", "organizations_url": "https://api.github.com/users/prigoyal/orgs", "repos_url": "https://api.github.com/users/prigoyal/repos", "events_url": "https://api.github.com/users/prigoyal/events{/privacy}", "received_events_url": "https://api.github.com/users/prigoyal/received_events", "type": "User", "site_admin": false}, "created_at": "2018-04-02T18:55:03Z", "updated_at": "2018-04-02T18:55:45Z", "author_association": "CONTRIBUTOR", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a> , <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=13564\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ezyang\">@ezyang</a> I added the <strong>WIP</strong> commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/pytorch/pytorch/commit/aba495e5febfe3c0d4a467fabbba68e067a7152f/hovercard\" href=\"https://github.com/pytorch/pytorch/commit/aba495e5febfe3c0d4a467fabbba68e067a7152f\"><tt>aba495e</tt></a> for the thread-local variable to check whether we are in <code>torch.autograd.grad()</code> or <code>torch.autograd.backward()</code></p>\n<p>I am open to renaming variables and recommendations are welcome. I did what I felt was less confusing to me at least.</p>\n<p>also qq: I think the current way of getting the value of thread local variable is probably not correct. We should be rather getting these value from the thread call function. What do you think?</p>", "body_text": "@apaszke , @ezyang I added the WIP commit aba495e for the thread-local variable to check whether we are in torch.autograd.grad() or torch.autograd.backward()\nI am open to renaming variables and recommendations are welcome. I did what I felt was less confusing to me at least.\nalso qq: I think the current way of getting the value of thread local variable is probably not correct. We should be rather getting these value from the thread call function. What do you think?", "body": "@apaszke , @ezyang I added the **WIP** commit https://github.com/pytorch/pytorch/pull/4594/commits/aba495e5febfe3c0d4a467fabbba68e067a7152f for the thread-local variable to check whether we are in ```torch.autograd.grad()``` or ```torch.autograd.backward()```\r\n\r\nI am open to renaming variables and recommendations are welcome. I did what I felt was less confusing to me at least.\r\n\r\nalso qq: I think the current way of getting the value of thread local variable is probably not correct. We should be rather getting these value from the thread call function. What do you think?"}