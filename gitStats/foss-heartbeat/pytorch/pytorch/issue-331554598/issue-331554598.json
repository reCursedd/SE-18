{"url": "https://api.github.com/repos/pytorch/pytorch/issues/8370", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/8370/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/8370/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/8370/events", "html_url": "https://github.com/pytorch/pytorch/issues/8370", "id": 331554598, "node_id": "MDU6SXNzdWUzMzE1NTQ1OTg=", "number": 8370, "title": "Build error", "user": {"login": "SingL3", "id": 20473466, "node_id": "MDQ6VXNlcjIwNDczNDY2", "avatar_url": "https://avatars1.githubusercontent.com/u/20473466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SingL3", "html_url": "https://github.com/SingL3", "followers_url": "https://api.github.com/users/SingL3/followers", "following_url": "https://api.github.com/users/SingL3/following{/other_user}", "gists_url": "https://api.github.com/users/SingL3/gists{/gist_id}", "starred_url": "https://api.github.com/users/SingL3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SingL3/subscriptions", "organizations_url": "https://api.github.com/users/SingL3/orgs", "repos_url": "https://api.github.com/users/SingL3/repos", "events_url": "https://api.github.com/users/SingL3/events{/privacy}", "received_events_url": "https://api.github.com/users/SingL3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-12T11:52:26Z", "updated_at": "2018-06-13T02:14:44Z", "closed_at": "2018-06-13T02:14:44Z", "author_association": "NONE", "body_html": "<p>I am trying to build caffe2 in pytorch. When I trying to build it with cmake. I got the message below:</p>\n<blockquote>\n<p>-- The CXX compiler identification is GNU 5.3.1<br>\n-- The C compiler identification is GNU 5.3.1<br>\n-- Check for working CXX compiler: /usr/bin/c++<br>\n-- Check for working CXX compiler: /usr/bin/c++ -- works<br>\n-- Detecting CXX compiler ABI info<br>\n-- Detecting CXX compiler ABI info - done<br>\n-- Detecting CXX compile features<br>\n-- Detecting CXX compile features - done<br>\n-- Check for working C compiler: /usr/bin/cc<br>\n-- Check for working C compiler: /usr/bin/cc -- works<br>\n-- Detecting C compiler ABI info<br>\n-- Detecting C compiler ABI info - done<br>\n-- Detecting C compile features<br>\n-- Detecting C compile features - done<br>\n-- Not forcing any particular BLAS to be found<br>\n-- Build type not set - defaulting to Release<br>\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64<br>\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success<br>\n-- Does not need to define long separately.<br>\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED<br>\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success<br>\n-- std::exception_ptr is supported.<br>\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE<br>\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success<br>\n-- NUMA is available<br>\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING<br>\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Failed<br>\n-- Turning off deprecation warning due to glog.<br>\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS<br>\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success<br>\n-- Current compiler supports avx2 extention. Will build perfkernels.<br>\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY<br>\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success<br>\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY<br>\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success<br>\n-- Building using own protobuf under third_party per request.<br>\n-- Use custom protobuf build.<br>\n-- Looking for pthread.h<br>\n-- Looking for pthread.h - found<br>\n-- Looking for pthread_create<br>\n-- Looking for pthread_create - not found<br>\n-- Looking for pthread_create in pthreads<br>\n-- Looking for pthread_create in pthreads - not found<br>\n-- Looking for pthread_create in pthread<br>\n-- Looking for pthread_create in pthread - found<br>\n-- Found Threads: TRUE<br>\nSegmentation fault (core dumped)<br>\nMakefile:4: recipe for target 'all' failed<br>\nmake: *** [all] Error 139</p>\n</blockquote>\n<p>and I am trying to search on the internet but there is no other error information.<br>\nWhen I use<br>\n<code>python setup_caffe2.py install</code><br>\nI got these error:</p>\n<blockquote>\n<p>Traceback (most recent call last):<br>\nFile \"setup_caffe2.py\", line 267, in <br>\n'convert-onnx-to-caffe2 = caffe2.python.onnx.bin.conversion:onnx_to_caffe2',<br>\nFile \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup<br>\ndist.run_commands()<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands<br>\nself.run_command(cmd)<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command<br>\ncmd_obj.run()<br>\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 67, in run<br>\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 109, in do_egg_install<br>\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command<br>\nself.distribution.run_command(command)<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command<br>\ncmd_obj.run()<br>\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 161, in run<br>\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 147, in call_command<br>\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command<br>\nself.distribution.run_command(command)<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command<br>\ncmd_obj.run()<br>\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install_lib.py\", line 11, in run<br>\nFile \"/usr/lib/python2.7/distutils/command/install_lib.py\", line 109, in build<br>\nself.run_command('build_py')<br>\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command<br>\nself.distribution.run_command(command)<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command<br>\ncmd_obj.run()<br>\nFile \"setup_caffe2.py\", line 162, in run<br>\nself.run_command('cmake_build')<br>\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command<br>\nself.distribution.run_command(command)<br>\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command<br>\ncmd_obj.run()<br>\nFile \"setup_caffe2.py\", line 150, in run<br>\nsubprocess.check_call(cmake_args)<br>\nFile \"/usr/lib/python2.7/subprocess.py\", line 541, in check_call<br>\nraise CalledProcessError(retcode, cmd)<br>\nsubprocess.CalledProcessError: Command '[u'/usr/bin/cmake', u'-DBUILD_SHARED_LIBS=OFF', u'-DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python', u'-DPYTHON_INCLUDE_DIR=/usr/include/python2.7', u'-DBUILD_TEST=OFF', u'-DBUILD_BENCHMARK=OFF', u'-DBUILD_BINARY=OFF', '/mnt/disk1/lin/caffe2/pytorch']' returned non-zero exit status -11</p>\n</blockquote>\n<p>Is there any solutions?</p>\n<p>OS: ubuntu 16.04<br>\nCUDA: 8.0<br>\nCUDNN: 6.0<br>\nNCCL: 1.3.5</p>", "body_text": "I am trying to build caffe2 in pytorch. When I trying to build it with cmake. I got the message below:\n\n-- The CXX compiler identification is GNU 5.3.1\n-- The C compiler identification is GNU 5.3.1\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Not forcing any particular BLAS to be found\n-- Build type not set - defaulting to Release\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\n-- Does not need to define long separately.\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\n-- std::exception_ptr is supported.\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\n-- NUMA is available\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Failed\n-- Turning off deprecation warning due to glog.\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\n-- Current compiler supports avx2 extention. Will build perfkernels.\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\n-- Building using own protobuf under third_party per request.\n-- Use custom protobuf build.\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE\nSegmentation fault (core dumped)\nMakefile:4: recipe for target 'all' failed\nmake: *** [all] Error 139\n\nand I am trying to search on the internet but there is no other error information.\nWhen I use\npython setup_caffe2.py install\nI got these error:\n\nTraceback (most recent call last):\nFile \"setup_caffe2.py\", line 267, in \n'convert-onnx-to-caffe2 = caffe2.python.onnx.bin.conversion:onnx_to_caffe2',\nFile \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\ndist.run_commands()\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\nself.run_command(cmd)\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\ncmd_obj.run()\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 67, in run\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 109, in do_egg_install\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\nself.distribution.run_command(command)\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\ncmd_obj.run()\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 161, in run\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 147, in call_command\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\nself.distribution.run_command(command)\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\ncmd_obj.run()\nFile \"build/bdist.linux-x86_64/egg/setuptools/command/install_lib.py\", line 11, in run\nFile \"/usr/lib/python2.7/distutils/command/install_lib.py\", line 109, in build\nself.run_command('build_py')\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\nself.distribution.run_command(command)\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\ncmd_obj.run()\nFile \"setup_caffe2.py\", line 162, in run\nself.run_command('cmake_build')\nFile \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\nself.distribution.run_command(command)\nFile \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\ncmd_obj.run()\nFile \"setup_caffe2.py\", line 150, in run\nsubprocess.check_call(cmake_args)\nFile \"/usr/lib/python2.7/subprocess.py\", line 541, in check_call\nraise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '[u'/usr/bin/cmake', u'-DBUILD_SHARED_LIBS=OFF', u'-DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python', u'-DPYTHON_INCLUDE_DIR=/usr/include/python2.7', u'-DBUILD_TEST=OFF', u'-DBUILD_BENCHMARK=OFF', u'-DBUILD_BINARY=OFF', '/mnt/disk1/lin/caffe2/pytorch']' returned non-zero exit status -11\n\nIs there any solutions?\nOS: ubuntu 16.04\nCUDA: 8.0\nCUDNN: 6.0\nNCCL: 1.3.5", "body": "I am trying to build caffe2 in pytorch. When I trying to build it with cmake. I got the message below:\r\n\r\n> -- The CXX compiler identification is GNU 5.3.1\r\n-- The C compiler identification is GNU 5.3.1\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Not forcing any particular BLAS to be found\r\n-- Build type not set - defaulting to Release\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64\r\n-- Performing Test CAFFE2_LONG_IS_INT32_OR_64 - Success\r\n-- Does not need to define long separately.\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED\r\n-- Performing Test CAFFE2_EXCEPTION_PTR_SUPPORTED - Success\r\n-- std::exception_ptr is supported.\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE\r\n-- Performing Test CAFFE2_IS_NUMA_AVAILABLE - Success\r\n-- NUMA is available\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING\r\n-- Performing Test CAFFE2_NEED_TO_TURN_OFF_DEPRECATION_WARNING - Failed\r\n-- Turning off deprecation warning due to glog.\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS\r\n-- Performing Test CAFFE2_COMPILER_SUPPORTS_AVX2_EXTENSIONS - Success\r\n-- Current compiler supports avx2 extention. Will build perfkernels.\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_VISIBILITY - Success\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY\r\n-- Performing Test COMPILER_SUPPORTS_HIDDEN_INLINE_VISIBILITY - Success\r\n-- Building using own protobuf under third_party per request.\r\n-- Use custom protobuf build.\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\nSegmentation fault (core dumped)\r\nMakefile:4: recipe for target 'all' failed\r\nmake: *** [all] Error 139\r\n\r\nand I am trying to search on the internet but there is no other error information.\r\nWhen I use \r\n`python setup_caffe2.py install`\r\nI got these error:\r\n\r\n> Traceback (most recent call last):\r\n  File \"setup_caffe2.py\", line 267, in <module>\r\n    'convert-onnx-to-caffe2 = caffe2.python.onnx.bin.conversion:onnx_to_caffe2',\r\n  File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\r\n    dist.run_commands()\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 67, in run\r\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/install.py\", line 109, in do_egg_install\r\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 161, in run\r\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/bdist_egg.py\", line 147, in call_command\r\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"build/bdist.linux-x86_64/egg/setuptools/command/install_lib.py\", line 11, in run\r\n  File \"/usr/lib/python2.7/distutils/command/install_lib.py\", line 109, in build\r\n    self.run_command('build_py')\r\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"setup_caffe2.py\", line 162, in run\r\n    self.run_command('cmake_build')\r\n  File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\r\n    self.distribution.run_command(command)\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\r\n    cmd_obj.run()\r\n  File \"setup_caffe2.py\", line 150, in run\r\n    subprocess.check_call(cmake_args)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 541, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command '[u'/usr/bin/cmake', u'-DBUILD_SHARED_LIBS=OFF', u'-DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python', u'-DPYTHON_INCLUDE_DIR=/usr/include/python2.7', u'-DBUILD_TEST=OFF', u'-DBUILD_BENCHMARK=OFF', u'-DBUILD_BINARY=OFF', '/mnt/disk1/lin/caffe2/pytorch']' returned non-zero exit status -11\r\n\r\nIs there any solutions?\r\n\r\nOS: ubuntu 16.04\r\nCUDA: 8.0\r\nCUDNN: 6.0\r\nNCCL: 1.3.5"}