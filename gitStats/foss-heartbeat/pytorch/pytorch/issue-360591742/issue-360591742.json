{"url": "https://api.github.com/repos/pytorch/pytorch/issues/11735", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/11735/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/11735/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/11735/events", "html_url": "https://github.com/pytorch/pytorch/issues/11735", "id": 360591742, "node_id": "MDU6SXNzdWUzNjA1OTE3NDI=", "number": 11735, "title": "Caffe2 installation:  libcaffe2_gpu.so: undefined reference to `caffe2::ClipTransformRGB", "user": {"login": "jinwchoi", "id": 15094538, "node_id": "MDQ6VXNlcjE1MDk0NTM4", "avatar_url": "https://avatars0.githubusercontent.com/u/15094538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinwchoi", "html_url": "https://github.com/jinwchoi", "followers_url": "https://api.github.com/users/jinwchoi/followers", "following_url": "https://api.github.com/users/jinwchoi/following{/other_user}", "gists_url": "https://api.github.com/users/jinwchoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinwchoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinwchoi/subscriptions", "organizations_url": "https://api.github.com/users/jinwchoi/orgs", "repos_url": "https://api.github.com/users/jinwchoi/repos", "events_url": "https://api.github.com/users/jinwchoi/events{/privacy}", "received_events_url": "https://api.github.com/users/jinwchoi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": {"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pjh5", "id": 6456020, "node_id": "MDQ6VXNlcjY0NTYwMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6456020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjh5", "html_url": "https://github.com/pjh5", "followers_url": "https://api.github.com/users/pjh5/followers", "following_url": "https://api.github.com/users/pjh5/following{/other_user}", "gists_url": "https://api.github.com/users/pjh5/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjh5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjh5/subscriptions", "organizations_url": "https://api.github.com/users/pjh5/orgs", "repos_url": "https://api.github.com/users/pjh5/repos", "events_url": "https://api.github.com/users/pjh5/events{/privacy}", "received_events_url": "https://api.github.com/users/pjh5/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-09-16T01:34:53Z", "updated_at": "2018-11-14T11:39:47Z", "closed_at": null, "author_association": "NONE", "body_html": "<p>Hi all,</p>\n<h2>When I try to install Caffe2 with CUDA, CUDNN, OpenCV and FFMPEG enabled, I got errors:</h2>\n<h2>/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to <code>caffe2::ClipTransformRGB(unsigned char const*, int, int, int, int, int, int, int, int, int, int, int const*, int const*, bool, bool, float, float, float, bool, float, std::vector&lt;std::vector&lt;float, std::allocator&lt;float&gt; &gt;, std::allocator&lt;std::vector&lt;float, std::allocator&lt;float&gt; &gt; &gt; &gt; const&amp;, std::vector&lt;float, std::allocator&lt;float&gt; &gt; const&amp;, std::vector&lt;float, std::allocator&lt;float&gt; &gt; const&amp;, std::vector&lt;float, std::allocator&lt;float&gt; &gt; const&amp;, std::mersenne_twister_engine&lt;unsigned long, 32ul, 624ul, 397ul, 31ul, 2567483615ul, 11ul, 4294967295ul, 7ul, 2636928640ul, 15ul, 4022730752ul, 18ul, 1812433253ul&gt;*, float*)' /home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to </code>caffe2::ClipTransformOpticalFlow(unsigned char const*, int, int, int, int, int, int, int, cv::Rect_ const&amp;, int, bool, int, int, int, bool, std::vector&lt;float, std::allocator &gt; const&amp;, std::vector&lt;float, std::allocator &gt; const&amp;, float*)'<br>\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to `caffe2::DecodeMultipleClipsFromVideo(char const*, std::string const&amp;, int, caffe2::Params const&amp;, int, int, bool, int&amp;, int&amp;, std::vector&lt;unsigned char*, std::allocator&lt;unsigned char*&gt; &gt;&amp;)'</h2>\n<h2>My environment information is as follows.</h2>\n<ul>\n<li>Caffe2</li>\n<li>Build command you used (if compiling from source): <code>USE_OPENCV=1 USE_FFMPEG=1 FULL_CAFFE2=1 python setup.py install</code></li>\n<li>OS: CentOS 7</li>\n<li>CUDA/cuDNN version: CUDA 8.0.61, cuDNN 6.0</li>\n<li>GPU models and configuration: P100</li>\n<li>GCC version (if compiling from source): 4.8.5</li>\n<li>CMake version: 3.12.2</li>\n</ul>\n<hr>\n<h2>My cmake  output is as follows:</h2>\n<h2>-- ******** Summary ********<br>\n-- General:<br>\n--   CMake version         : 3.12.2<br>\n--   CMake command         : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cmake<br>\n--   Git version           : v0.1.11-10519-gf09054f8d-dirty<br>\n--   System                : Linux<br>\n--   C++ compiler          : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/c++<br>\n--   C++ compiler version  : 4.8.5<br>\n--   BLAS                  : MKL<br>\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized<br>\n--   Build type            : Release<br>\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1<br>\n--   CMAKE_PREFIX_PATH     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7/site-packages<br>\n--   CMAKE_INSTALL_PREFIX  : /home/jinchoi/src/pytorch_new2/torch/lib/tmp_install</h2>\n<p>--   BUILD_ATEN_MOBILE     : OFF<br>\n--   BUILD_BINARY          : OFF<br>\n--   BUILD_CUSTOM_PROTOBUF : ON<br>\n--     Link local protobuf : ON<br>\n--   BUILD_DOCS            : OFF<br>\n--   BUILD_PYTHON          : ON<br>\n--     Python version      : 2.7.15<br>\n--     Python executable   : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/python<br>\n--     Pythonlibs version  : 2.7.15<br>\n--     Python library      : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7<br>\n--     Python includes     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/include/python2.7<br>\n--     Python site-packages: lib/python2.7/site-packages<br>\n--   BUILD_CAFFE2_OPS      : ON<br>\n--   BUILD_SHARED_LIBS     : ON<br>\n--   BUILD_TEST            : ON<br>\n--   USE_ASAN              : OFF<br>\n--   USE_CUDA              : 1<br>\n--     CUDA static link    : 0<br>\n--     USE_CUDNN           : ON<br>\n--     CUDA version        : 8.0<br>\n--     cuDNN version       : 6.0.21<br>\n--     CUDA root directory : /opt/apps/cuda/8.0.61<br>\n--     CUDA library        : /usr/lib64/libcuda.so<br>\n--     cudart library      : /opt/apps/cuda/8.0.61/lib64/libcudart_static.a;-pthread;dl;/usr/lib64/librt.so<br>\n--     cublas library      : /opt/apps/cuda/8.0.61/lib64/libcublas.so;/opt/apps/cuda/8.0.61/lib64/libcublas_device.a<br>\n--     cufft library       : /opt/apps/cuda/8.0.61/lib64/libcufft.so<br>\n--     curand library      : /opt/apps/cuda/8.0.61/lib64/libcurand.so<br>\n--     cuDNN library       : /home/jinchoi/lib/cudnn6/cuda/lib64/libcudnn.so<br>\n--     nvrtc               : /opt/apps/cuda/8.0.61/lib64/libnvrtc.so<br>\n--     CUDA include path   : /opt/apps/cuda/8.0.61/include<br>\n--     NVCC executable     : /opt/apps/cuda/8.0.61/bin/nvcc<br>\n--     CUDA host compiler  : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cc<br>\n--     USE_TENSORRT        : OFF<br>\n--   USE_ROCM              : OFF<br>\n--   USE_EIGEN_FOR_BLAS    : ON<br>\n--   USE_FFMPEG            : ON<br>\n--   USE_GFLAGS            : OFF<br>\n--   USE_GLOG              : OFF<br>\n--   USE_LEVELDB           : OFF<br>\n--   USE_LITE_PROTO        : OFF<br>\n--   USE_LMDB              : OFF<br>\n--   USE_METAL             : OFF<br>\n--   USE_MKL               :<br>\n--   USE_MOBILE_OPENGL     : OFF<br>\n--   USE_NCCL              : ON<br>\n--     USE_SYSTEM_NCCL     : OFF<br>\n--   USE_NERVANA_GPU       : OFF<br>\n--   USE_NNPACK            : 1<br>\n--   USE_OBSERVERS         : ON<br>\n--   USE_OPENCL            : OFF<br>\n--   USE_OPENCV            : ON<br>\n--     OpenCV version      : 3.3.1<br>\n--   USE_OPENMP            : OFF<br>\n--   USE_PROF              : OFF<br>\n--   USE_REDIS             : OFF<br>\n--   USE_ROCKSDB           : OFF<br>\n--   USE_ZMQ               : OFF<br>\n--   USE_DISTRIBUTED       : ON<br>\n--     USE_MPI             : OFF<br>\n--     USE_GLOO            : ON<br>\n--     USE_GLOO_IBVERBS    : OFF<br>\n--   TORCH_USE_CEREAL       : OFF<br>\n--   Public Dependencies  : Threads::Threads<br>\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib64/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavcodec.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavformat.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavutil.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libswscale.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl<br>\n-- Configuring done<br>\n-- Generating done<br>\nCMake Warning:<br>\nManually-specified variables were not used by the project:</p>\n<pre><code>CUDNN_LIB_DIR\n</code></pre>\n<hr>\n<p>It seems that <code>video_io.cc</code> is not built successfully because of some reason.<br>\nDoes anybody know how to resolve this issue? I googled the error, but there is no answer to this yet.</p>\n<p>If I turn off the OpenCV when I build Caffe2, I can build it successfully. I get this error when I build it with OpenCV.</p>", "body_text": "Hi all,\nWhen I try to install Caffe2 with CUDA, CUDNN, OpenCV and FFMPEG enabled, I got errors:\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to caffe2::ClipTransformRGB(unsigned char const*, int, int, int, int, int, int, int, int, int, int, int const*, int const*, bool, bool, float, float, float, bool, float, std::vector<std::vector<float, std::allocator<float> >, std::allocator<std::vector<float, std::allocator<float> > > > const&, std::vector<float, std::allocator<float> > const&, std::vector<float, std::allocator<float> > const&, std::vector<float, std::allocator<float> > const&, std::mersenne_twister_engine<unsigned long, 32ul, 624ul, 397ul, 31ul, 2567483615ul, 11ul, 4294967295ul, 7ul, 2636928640ul, 15ul, 4022730752ul, 18ul, 1812433253ul>*, float*)' /home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to caffe2::ClipTransformOpticalFlow(unsigned char const*, int, int, int, int, int, int, int, cv::Rect_ const&, int, bool, int, int, int, bool, std::vector<float, std::allocator > const&, std::vector<float, std::allocator > const&, float*)'\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to `caffe2::DecodeMultipleClipsFromVideo(char const*, std::string const&, int, caffe2::Params const&, int, int, bool, int&, int&, std::vector<unsigned char*, std::allocator<unsigned char*> >&)'\nMy environment information is as follows.\n\nCaffe2\nBuild command you used (if compiling from source): USE_OPENCV=1 USE_FFMPEG=1 FULL_CAFFE2=1 python setup.py install\nOS: CentOS 7\nCUDA/cuDNN version: CUDA 8.0.61, cuDNN 6.0\nGPU models and configuration: P100\nGCC version (if compiling from source): 4.8.5\nCMake version: 3.12.2\n\n\nMy cmake  output is as follows:\n-- ******** Summary ********\n-- General:\n--   CMake version         : 3.12.2\n--   CMake command         : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cmake\n--   Git version           : v0.1.11-10519-gf09054f8d-dirty\n--   System                : Linux\n--   C++ compiler          : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/c++\n--   C++ compiler version  : 4.8.5\n--   BLAS                  : MKL\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\n--   Build type            : Release\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\n--   CMAKE_PREFIX_PATH     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7/site-packages\n--   CMAKE_INSTALL_PREFIX  : /home/jinchoi/src/pytorch_new2/torch/lib/tmp_install\n--   BUILD_ATEN_MOBILE     : OFF\n--   BUILD_BINARY          : OFF\n--   BUILD_CUSTOM_PROTOBUF : ON\n--     Link local protobuf : ON\n--   BUILD_DOCS            : OFF\n--   BUILD_PYTHON          : ON\n--     Python version      : 2.7.15\n--     Python executable   : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/python\n--     Pythonlibs version  : 2.7.15\n--     Python library      : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7\n--     Python includes     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/include/python2.7\n--     Python site-packages: lib/python2.7/site-packages\n--   BUILD_CAFFE2_OPS      : ON\n--   BUILD_SHARED_LIBS     : ON\n--   BUILD_TEST            : ON\n--   USE_ASAN              : OFF\n--   USE_CUDA              : 1\n--     CUDA static link    : 0\n--     USE_CUDNN           : ON\n--     CUDA version        : 8.0\n--     cuDNN version       : 6.0.21\n--     CUDA root directory : /opt/apps/cuda/8.0.61\n--     CUDA library        : /usr/lib64/libcuda.so\n--     cudart library      : /opt/apps/cuda/8.0.61/lib64/libcudart_static.a;-pthread;dl;/usr/lib64/librt.so\n--     cublas library      : /opt/apps/cuda/8.0.61/lib64/libcublas.so;/opt/apps/cuda/8.0.61/lib64/libcublas_device.a\n--     cufft library       : /opt/apps/cuda/8.0.61/lib64/libcufft.so\n--     curand library      : /opt/apps/cuda/8.0.61/lib64/libcurand.so\n--     cuDNN library       : /home/jinchoi/lib/cudnn6/cuda/lib64/libcudnn.so\n--     nvrtc               : /opt/apps/cuda/8.0.61/lib64/libnvrtc.so\n--     CUDA include path   : /opt/apps/cuda/8.0.61/include\n--     NVCC executable     : /opt/apps/cuda/8.0.61/bin/nvcc\n--     CUDA host compiler  : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cc\n--     USE_TENSORRT        : OFF\n--   USE_ROCM              : OFF\n--   USE_EIGEN_FOR_BLAS    : ON\n--   USE_FFMPEG            : ON\n--   USE_GFLAGS            : OFF\n--   USE_GLOG              : OFF\n--   USE_LEVELDB           : OFF\n--   USE_LITE_PROTO        : OFF\n--   USE_LMDB              : OFF\n--   USE_METAL             : OFF\n--   USE_MKL               :\n--   USE_MOBILE_OPENGL     : OFF\n--   USE_NCCL              : ON\n--     USE_SYSTEM_NCCL     : OFF\n--   USE_NERVANA_GPU       : OFF\n--   USE_NNPACK            : 1\n--   USE_OBSERVERS         : ON\n--   USE_OPENCL            : OFF\n--   USE_OPENCV            : ON\n--     OpenCV version      : 3.3.1\n--   USE_OPENMP            : OFF\n--   USE_PROF              : OFF\n--   USE_REDIS             : OFF\n--   USE_ROCKSDB           : OFF\n--   USE_ZMQ               : OFF\n--   USE_DISTRIBUTED       : ON\n--     USE_MPI             : OFF\n--     USE_GLOO            : ON\n--     USE_GLOO_IBVERBS    : OFF\n--   TORCH_USE_CEREAL       : OFF\n--   Public Dependencies  : Threads::Threads\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib64/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavcodec.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavformat.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavutil.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libswscale.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\n-- Configuring done\n-- Generating done\nCMake Warning:\nManually-specified variables were not used by the project:\nCUDNN_LIB_DIR\n\n\nIt seems that video_io.cc is not built successfully because of some reason.\nDoes anybody know how to resolve this issue? I googled the error, but there is no answer to this yet.\nIf I turn off the OpenCV when I build Caffe2, I can build it successfully. I get this error when I build it with OpenCV.", "body": "Hi all,\r\n\r\nWhen I try to install Caffe2 with CUDA, CUDNN, OpenCV and FFMPEG enabled, I got errors:\r\n------------------------------------------------------------------------------------------------------\r\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to `caffe2::ClipTransformRGB(unsigned char const*, int, int, int, int, int, int, int, int, int, int, int const*, int const*, bool, bool, float, float, float, bool, float, std::vector<std::vector<float, std::allocator<float> >, std::allocator<std::vector<float, std::allocator<float> > > > const&, std::vector<float, std::allocator<float> > const&, std::vector<float, std::allocator<float> > const&, std::vector<float, std::allocator<float> > const&, std::mersenne_twister_engine<unsigned long, 32ul, 624ul, 397ul, 31ul, 2567483615ul, 11ul, 4294967295ul, 7ul, 2636928640ul, 15ul, 4022730752ul, 18ul, 1812433253ul>*, float*)'\r\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to `caffe2::ClipTransformOpticalFlow(unsigned char const*, int, int, int, int, int, int, int, cv::Rect_<int> const&, int, bool, int, int, int, bool, std::vector<float, std::allocator<float> > const&, std::vector<float, std::allocator<float> > const&, float*)'\r\n/home/jinchoi/src/pytorch_new2/build/lib/libcaffe2_gpu.so: undefined reference to `caffe2::DecodeMultipleClipsFromVideo(char const*, std::string const&, int, caffe2::Params const&, int, int, bool, int&, int&, std::vector<unsigned char*, std::allocator<unsigned char*> >&)'\r\n------------------------------------------------------------------------------------------------------\r\n\r\n\r\nMy environment information is as follows.\r\n------------------------------------------------------------------------------------------------------\r\n- Caffe2\r\n- Build command you used (if compiling from source): `USE_OPENCV=1 USE_FFMPEG=1 FULL_CAFFE2=1 python setup.py install`\r\n- OS: CentOS 7\r\n- CUDA/cuDNN version: CUDA 8.0.61, cuDNN 6.0\r\n- GPU models and configuration: P100\r\n- GCC version (if compiling from source): 4.8.5\r\n- CMake version: 3.12.2\r\n------------------------------------------------------------------------------------------------------\r\n\r\n\r\nMy cmake  output is as follows:\r\n------------------------------------------------------------------------------------------------------\r\n-- ******** Summary ********\r\n-- General:\r\n--   CMake version         : 3.12.2\r\n--   CMake command         : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cmake\r\n--   Git version           : v0.1.11-10519-gf09054f8d-dirty\r\n--   System                : Linux\r\n--   C++ compiler          : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/c++\r\n--   C++ compiler version  : 4.8.5\r\n--   BLAS                  : MKL\r\n--   CXX flags             : -msse3 -msse4.1 -msse4.2   --std=c++11  -fvisibility-inlines-hidden -fopenmp -O2 -fPIC -Wno-narrowing -Wall -Wextra -Wno-missing-field-initializers -Wno-type-limits -Wno-array-bounds -Wno-unknown-pragmas -Wno-sign-compare -Wno-unused-parameter -Wno-unused-variable -Wno-unused-function -Wno-unused-result -Wno-strict-overflow -Wno-strict-aliasing -Wno-error=deprecated-declarations -Wno-error=pedantic -Wno-error=redundant-decls -Wno-error=old-style-cast -Wno-unused-but-set-variable -Wno-maybe-uninitialized\r\n--   Build type            : Release\r\n--   Compile definitions   : ONNX_NAMESPACE=onnx_torch;USE_GCC_ATOMICS=1;HAVE_MMAP=1;_FILE_OFFSET_BITS=64;HAVE_SHM_OPEN=1;HAVE_SHM_UNLINK=1;HAVE_MALLOC_USABLE_SIZE=1\r\n--   CMAKE_PREFIX_PATH     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7/site-packages\r\n--   CMAKE_INSTALL_PREFIX  : /home/jinchoi/src/pytorch_new2/torch/lib/tmp_install\r\n--\r\n--   BUILD_ATEN_MOBILE     : OFF\r\n--   BUILD_BINARY          : OFF\r\n--   BUILD_CUSTOM_PROTOBUF : ON\r\n--     Link local protobuf : ON\r\n--   BUILD_DOCS            : OFF\r\n--   BUILD_PYTHON          : ON\r\n--     Python version      : 2.7.15\r\n--     Python executable   : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/python\r\n--     Pythonlibs version  : 2.7.15\r\n--     Python library      : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/python2.7\r\n--     Python includes     : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/include/python2.7\r\n--     Python site-packages: lib/python2.7/site-packages\r\n--   BUILD_CAFFE2_OPS      : ON\r\n--   BUILD_SHARED_LIBS     : ON\r\n--   BUILD_TEST            : ON\r\n--   USE_ASAN              : OFF\r\n--   USE_CUDA              : 1\r\n--     CUDA static link    : 0\r\n--     USE_CUDNN           : ON\r\n--     CUDA version        : 8.0\r\n--     cuDNN version       : 6.0.21\r\n--     CUDA root directory : /opt/apps/cuda/8.0.61\r\n--     CUDA library        : /usr/lib64/libcuda.so\r\n--     cudart library      : /opt/apps/cuda/8.0.61/lib64/libcudart_static.a;-pthread;dl;/usr/lib64/librt.so\r\n--     cublas library      : /opt/apps/cuda/8.0.61/lib64/libcublas.so;/opt/apps/cuda/8.0.61/lib64/libcublas_device.a\r\n--     cufft library       : /opt/apps/cuda/8.0.61/lib64/libcufft.so\r\n--     curand library      : /opt/apps/cuda/8.0.61/lib64/libcurand.so\r\n--     cuDNN library       : /home/jinchoi/lib/cudnn6/cuda/lib64/libcudnn.so\r\n--     nvrtc               : /opt/apps/cuda/8.0.61/lib64/libnvrtc.so\r\n--     CUDA include path   : /opt/apps/cuda/8.0.61/include\r\n--     NVCC executable     : /opt/apps/cuda/8.0.61/bin/nvcc\r\n--     CUDA host compiler  : /home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/bin/cc\r\n--     USE_TENSORRT        : OFF\r\n--   USE_ROCM              : OFF\r\n--   USE_EIGEN_FOR_BLAS    : ON\r\n--   USE_FFMPEG            : ON\r\n--   USE_GFLAGS            : OFF\r\n--   USE_GLOG              : OFF\r\n--   USE_LEVELDB           : OFF\r\n--   USE_LITE_PROTO        : OFF\r\n--   USE_LMDB              : OFF\r\n--   USE_METAL             : OFF\r\n--   USE_MKL               :\r\n--   USE_MOBILE_OPENGL     : OFF\r\n--   USE_NCCL              : ON\r\n--     USE_SYSTEM_NCCL     : OFF\r\n--   USE_NERVANA_GPU       : OFF\r\n--   USE_NNPACK            : 1\r\n--   USE_OBSERVERS         : ON\r\n--   USE_OPENCL            : OFF\r\n--   USE_OPENCV            : ON\r\n--     OpenCV version      : 3.3.1\r\n--   USE_OPENMP            : OFF\r\n--   USE_PROF              : OFF\r\n--   USE_REDIS             : OFF\r\n--   USE_ROCKSDB           : OFF\r\n--   USE_ZMQ               : OFF\r\n--   USE_DISTRIBUTED       : ON\r\n--     USE_MPI             : OFF\r\n--     USE_GLOO            : ON\r\n--     USE_GLOO_IBVERBS    : OFF\r\n--   TORCH_USE_CEREAL       : OFF\r\n--   Public Dependencies  : Threads::Threads\r\n--   Private Dependencies : nnpack;cpuinfo;/usr/lib64/libnuma.so;opencv_core;opencv_highgui;opencv_imgproc;opencv_imgcodecs;opencv_videoio;opencv_video;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavcodec.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavformat.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libavutil.so;/home/jinchoi/pkg/anaconda2_nr/envs/cf2_new/lib/libswscale.so;gloo;aten_op_header_gen;onnxifi_loader;rt;gcc_s;gcc;dl\r\n-- Configuring done\r\n-- Generating done\r\nCMake Warning:\r\n  Manually-specified variables were not used by the project:\r\n\r\n    CUDNN_LIB_DIR\r\n\r\n------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n\r\nIt seems that `video_io.cc` is not built successfully because of some reason.  \r\nDoes anybody know how to resolve this issue? I googled the error, but there is no answer to this yet.\r\n\r\nIf I turn off the OpenCV when I build Caffe2, I can build it successfully. I get this error when I build it with OpenCV."}