{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/410200798", "html_url": "https://github.com/pytorch/pytorch/issues/9921#issuecomment-410200798", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/9921", "id": 410200798, "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDIwMDc5OA==", "user": {"login": "Marcovaldong", "id": 17369988, "node_id": "MDQ6VXNlcjE3MzY5OTg4", "avatar_url": "https://avatars1.githubusercontent.com/u/17369988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marcovaldong", "html_url": "https://github.com/Marcovaldong", "followers_url": "https://api.github.com/users/Marcovaldong/followers", "following_url": "https://api.github.com/users/Marcovaldong/following{/other_user}", "gists_url": "https://api.github.com/users/Marcovaldong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marcovaldong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marcovaldong/subscriptions", "organizations_url": "https://api.github.com/users/Marcovaldong/orgs", "repos_url": "https://api.github.com/users/Marcovaldong/repos", "events_url": "https://api.github.com/users/Marcovaldong/events{/privacy}", "received_events_url": "https://api.github.com/users/Marcovaldong/received_events", "type": "User", "site_admin": false}, "created_at": "2018-08-03T09:34:56Z", "updated_at": "2018-08-03T09:37:47Z", "author_association": "NONE", "body_html": "<p>Hi <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=25825048\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/CarlosYeverino\">@CarlosYeverino</a> ,</p>\n<p>Thanks for your response. I have fixed my problem. I need to install caffe2 in a server which is used by several researchers for different deep learning frameworks and different repos. So I can not reinstall CUDA or replace cuDNN 5.1 with cuDNN 7.0.5.</p>\n<p>After two days attempting, I found that we can specify the path of both CUDA and cuDNN when cmake, and there is the command I used below:</p>\n<div class=\"highlight highlight-source-python\"><pre>cmake <span class=\"pl-k\">-</span>D <span class=\"pl-c1\">CUDA_TOOLKIT_ROOT_DIR</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>marcovaldo<span class=\"pl-k\">/</span>local<span class=\"pl-k\">/</span>cuda<span class=\"pl-k\">-</span><span class=\"pl-c1\">8.0</span> \n<span class=\"pl-k\">-</span><span class=\"pl-c1\">DCUDNN_INCLUDE_DIR</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>marcovaldo<span class=\"pl-k\">/</span>cuda<span class=\"pl-k\">/</span>include \n<span class=\"pl-k\">-</span><span class=\"pl-c1\">DCUDNN_LIBRARY</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>marcovaldo<span class=\"pl-k\">/</span>cuda<span class=\"pl-k\">/</span>lib64<span class=\"pl-k\">/</span>libcudnn.so \n<span class=\"pl-k\">-</span><span class=\"pl-c1\">DCUDA_USE_STATIC_CUDA_RUNTIME</span><span class=\"pl-k\">=</span><span class=\"pl-c1\">OFF</span> \n<span class=\"pl-k\">-</span><span class=\"pl-c1\">DCMAKE_PREFIX_PATH</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>marcovaldo<span class=\"pl-k\">/</span>local<span class=\"pl-k\">/</span>caffe2  \n<span class=\"pl-k\">-</span><span class=\"pl-c1\">DCMAKE_INSTALL_PREFIX</span><span class=\"pl-k\">=</span><span class=\"pl-k\">/</span>home<span class=\"pl-k\">/</span>marcovaldo<span class=\"pl-k\">/</span>.conda<span class=\"pl-k\">/</span>envs<span class=\"pl-k\">/</span>python ..</pre></div>\n<p>And I hope this command can help others with the same situation.</p>", "body_text": "Hi @CarlosYeverino ,\nThanks for your response. I have fixed my problem. I need to install caffe2 in a server which is used by several researchers for different deep learning frameworks and different repos. So I can not reinstall CUDA or replace cuDNN 5.1 with cuDNN 7.0.5.\nAfter two days attempting, I found that we can specify the path of both CUDA and cuDNN when cmake, and there is the command I used below:\ncmake -D CUDA_TOOLKIT_ROOT_DIR=/home/marcovaldo/local/cuda-8.0 \n-DCUDNN_INCLUDE_DIR=/home/marcovaldo/cuda/include \n-DCUDNN_LIBRARY=/home/marcovaldo/cuda/lib64/libcudnn.so \n-DCUDA_USE_STATIC_CUDA_RUNTIME=OFF \n-DCMAKE_PREFIX_PATH=/home/marcovaldo/local/caffe2  \n-DCMAKE_INSTALL_PREFIX=/home/marcovaldo/.conda/envs/python ..\nAnd I hope this command can help others with the same situation.", "body": "Hi @CarlosYeverino , \r\n\r\nThanks for your response. I have fixed my problem. I need to install caffe2 in a server which is used by several researchers for different deep learning frameworks and different repos. So I can not reinstall CUDA or replace cuDNN 5.1 with cuDNN 7.0.5. \r\n\r\nAfter two days attempting, I found that we can specify the path of both CUDA and cuDNN when cmake, and there is the command I used below:\r\n```python\r\ncmake -D CUDA_TOOLKIT_ROOT_DIR=/home/marcovaldo/local/cuda-8.0 \r\n-DCUDNN_INCLUDE_DIR=/home/marcovaldo/cuda/include \r\n-DCUDNN_LIBRARY=/home/marcovaldo/cuda/lib64/libcudnn.so \r\n-DCUDA_USE_STATIC_CUDA_RUNTIME=OFF \r\n-DCMAKE_PREFIX_PATH=/home/marcovaldo/local/caffe2  \r\n-DCMAKE_INSTALL_PREFIX=/home/marcovaldo/.conda/envs/python ..\r\n```\r\n\r\nAnd I hope this command can help others with the same situation."}