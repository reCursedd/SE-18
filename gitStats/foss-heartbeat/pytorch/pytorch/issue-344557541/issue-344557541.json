{"url": "https://api.github.com/repos/pytorch/pytorch/issues/9832", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/9832/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/9832/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/9832/events", "html_url": "https://github.com/pytorch/pytorch/issues/9832", "id": 344557541, "node_id": "MDU6SXNzdWUzNDQ1NTc1NDE=", "number": 9832, "title": "TestReduceFrontSum.test_col2im_gradients flaky", "user": {"login": "ezyang", "id": 13564, "node_id": "MDQ6VXNlcjEzNTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/13564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezyang", "html_url": "https://github.com/ezyang", "followers_url": "https://api.github.com/users/ezyang/followers", "following_url": "https://api.github.com/users/ezyang/following{/other_user}", "gists_url": "https://api.github.com/users/ezyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezyang/subscriptions", "organizations_url": "https://api.github.com/users/ezyang/orgs", "repos_url": "https://api.github.com/users/ezyang/repos", "events_url": "https://api.github.com/users/ezyang/events{/privacy}", "received_events_url": "https://api.github.com/users/ezyang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 890282107, "node_id": "MDU6TGFiZWw4OTAyODIxMDc=", "url": "https://api.github.com/repos/pytorch/pytorch/labels/caffe2", "name": "caffe2", "color": "210aa8", "default": false}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-25T18:31:35Z", "updated_at": "2018-07-30T17:59:09Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body_html": "<p>Sample log:</p>\n<pre><code>8:04:53 =================================== FAILURES ===================================\n18:04:53 ___________________ TestReduceFrontSum.test_col2im_gradients ___________________\n18:04:53 \n18:04:53 self = &lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;\n18:04:53 \n18:04:53     @given(batch_size=st.integers(1, 3),\n18:04:53 &gt;          stride=st.integers(1, 3),\n18:04:53            pad=st.integers(0, 3),\n18:04:53            kernel=st.integers(1, 5),\n18:04:53            dilation=st.integers(1, 3),\n18:04:53            size=st.integers(7, 10),\n18:04:53            channels=st.integers(1, 8),\n18:04:53            order=st.sampled_from([\"NCHW\"]),\n18:04:53            **hu.gcs)\n18:04:53     def test_col2im_gradients(self, batch_size, stride, pad, kernel,\n18:04:53                               dilation, size, channels, order, gc, dc):\n18:04:53 \n18:04:53 lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py:115: \n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:632: in execute\n18:04:53     ) % (test.__name__, text_repr[0],))\n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n18:04:53 \n18:04:53 self = &lt;hypothesis.core.StateForActualGivenExecution object at 0x7f47b9e94410&gt;\n18:04:53 message = \"Hypothesis test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=t...7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\"\n18:04:53 \n18:04:53     def __flaky(self, message):\n18:04:53         if len(self.falsifying_examples) &lt;= 1:\n18:04:53 &gt;           raise Flaky(message)\n18:04:53 E           Flaky: Hypothesis test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\n18:04:53 \n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:891: Flaky\n18:04:53 ----------------------------- Captured stdout call -----------------------------\n18:04:53 Failed. [idx, grad, grad_estimate] are:\n18:04:53 [[3.60000000e+01 3.44265044e-01 3.51562500e-01]\n18:04:53  [4.90000000e+02 3.62680405e-01 3.71093750e-01]]\n18:04:53 ---------------------------------- Hypothesis ----------------------------------\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=1, stride=1, pad=0, kernel=1, dilation=1, size=7, channels=1, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=2, stride=2, pad=0, kernel=5, dilation=2, size=8, channels=8, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=3, pad=1, kernel=2, dilation=1, size=7, channels=3, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=3, pad=1, kernel=3, dilation=3, size=7, channels=5, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=2, stride=2, pad=2, kernel=4, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=0, kernel=2, dilation=1, size=10, channels=5, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=4, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Traceback (most recent call last):\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\n18:04:53     result = self.execute(data, collect=True)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\n18:04:53     result = self.test_runner(data, run)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\n18:04:53     return function(data)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\n18:04:53     return test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\n18:04:53     stride=st.integers(1, 3),\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\n18:04:53     result = self.test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\n18:04:53     raise self.failureException(msg)\n18:04:53 AssertionError: Gradient check failed for input X\n18:04:53 \n18:04:53 Trying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Falsifying example: test_col2im_gradients(self=&lt;caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients&gt;, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Failed to reproduce exception. Expected: \n18:04:53 Traceback (most recent call last):\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\n18:04:53     result = self.execute(data, collect=True)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\n18:04:53     result = self.test_runner(data, run)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\n18:04:53     return function(data)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\n18:04:53     return test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\n18:04:53     stride=st.integers(1, 3),\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\n18:04:53     result = self.test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\n18:04:53     raise self.failureException(msg)\n18:04:53 AssertionError: Gradient check failed for input X\n18:04:53 \n18:04:53 \n18:04:53 You can reproduce this example by temporarily adding @reproduce_failure('3.66.8', 'AAIGAAQCAgMDAA==') as a decorator on your test case\n18:04:53  generated xml file: /var/lib/jenkins/workspace/caffe2_tests/python/result.xml -\n</code></pre>\n<p><a href=\"https://ci.pytorch.org/jenkins/job/caffe2-builds/job/py2-gcc5-ubuntu16.04-test/9359//console\" rel=\"nofollow\">https://ci.pytorch.org/jenkins/job/caffe2-builds/job/py2-gcc5-ubuntu16.04-test/9359//console</a></p>", "body_text": "Sample log:\n8:04:53 =================================== FAILURES ===================================\n18:04:53 ___________________ TestReduceFrontSum.test_col2im_gradients ___________________\n18:04:53 \n18:04:53 self = <caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>\n18:04:53 \n18:04:53     @given(batch_size=st.integers(1, 3),\n18:04:53 >          stride=st.integers(1, 3),\n18:04:53            pad=st.integers(0, 3),\n18:04:53            kernel=st.integers(1, 5),\n18:04:53            dilation=st.integers(1, 3),\n18:04:53            size=st.integers(7, 10),\n18:04:53            channels=st.integers(1, 8),\n18:04:53            order=st.sampled_from([\"NCHW\"]),\n18:04:53            **hu.gcs)\n18:04:53     def test_col2im_gradients(self, batch_size, stride, pad, kernel,\n18:04:53                               dilation, size, channels, order, gc, dc):\n18:04:53 \n18:04:53 lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py:115: \n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:632: in execute\n18:04:53     ) % (test.__name__, text_repr[0],))\n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n18:04:53 \n18:04:53 self = <hypothesis.core.StateForActualGivenExecution object at 0x7f47b9e94410>\n18:04:53 message = \"Hypothesis test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=t...7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\"\n18:04:53 \n18:04:53     def __flaky(self, message):\n18:04:53         if len(self.falsifying_examples) <= 1:\n18:04:53 >           raise Flaky(message)\n18:04:53 E           Flaky: Hypothesis test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\n18:04:53 \n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:891: Flaky\n18:04:53 ----------------------------- Captured stdout call -----------------------------\n18:04:53 Failed. [idx, grad, grad_estimate] are:\n18:04:53 [[3.60000000e+01 3.44265044e-01 3.51562500e-01]\n18:04:53  [4.90000000e+02 3.62680405e-01 3.71093750e-01]]\n18:04:53 ---------------------------------- Hypothesis ----------------------------------\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=1, stride=1, pad=0, kernel=1, dilation=1, size=7, channels=1, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=2, stride=2, pad=0, kernel=5, dilation=2, size=8, channels=8, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=3, pad=1, kernel=2, dilation=1, size=7, channels=3, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=3, pad=1, kernel=3, dilation=3, size=7, channels=5, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=2, stride=2, pad=2, kernel=4, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=0, kernel=2, dilation=1, size=10, channels=5, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=4, order=u'NCHW', gc=, dc=[])\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Traceback (most recent call last):\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\n18:04:53     result = self.execute(data, collect=True)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\n18:04:53     result = self.test_runner(data, run)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\n18:04:53     return function(data)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\n18:04:53     return test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\n18:04:53     stride=st.integers(1, 3),\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\n18:04:53     result = self.test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\n18:04:53     raise self.failureException(msg)\n18:04:53 AssertionError: Gradient check failed for input X\n18:04:53 \n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Falsifying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\n18:04:53 Failed to reproduce exception. Expected: \n18:04:53 Traceback (most recent call last):\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\n18:04:53     result = self.execute(data, collect=True)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\n18:04:53     result = self.test_runner(data, run)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\n18:04:53     return function(data)\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\n18:04:53     return test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\n18:04:53     stride=st.integers(1, 3),\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\n18:04:53     result = self.test(*args, **kwargs)\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\n18:04:53     raise self.failureException(msg)\n18:04:53 AssertionError: Gradient check failed for input X\n18:04:53 \n18:04:53 \n18:04:53 You can reproduce this example by temporarily adding @reproduce_failure('3.66.8', 'AAIGAAQCAgMDAA==') as a decorator on your test case\n18:04:53  generated xml file: /var/lib/jenkins/workspace/caffe2_tests/python/result.xml -\n\nhttps://ci.pytorch.org/jenkins/job/caffe2-builds/job/py2-gcc5-ubuntu16.04-test/9359//console", "body": "Sample log:\r\n\r\n```\r\n8:04:53 =================================== FAILURES ===================================\r\n18:04:53 ___________________ TestReduceFrontSum.test_col2im_gradients ___________________\r\n18:04:53 \r\n18:04:53 self = <caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>\r\n18:04:53 \r\n18:04:53     @given(batch_size=st.integers(1, 3),\r\n18:04:53 >          stride=st.integers(1, 3),\r\n18:04:53            pad=st.integers(0, 3),\r\n18:04:53            kernel=st.integers(1, 5),\r\n18:04:53            dilation=st.integers(1, 3),\r\n18:04:53            size=st.integers(7, 10),\r\n18:04:53            channels=st.integers(1, 8),\r\n18:04:53            order=st.sampled_from([\"NCHW\"]),\r\n18:04:53            **hu.gcs)\r\n18:04:53     def test_col2im_gradients(self, batch_size, stride, pad, kernel,\r\n18:04:53                               dilation, size, channels, order, gc, dc):\r\n18:04:53 \r\n18:04:53 lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py:115: \r\n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:632: in execute\r\n18:04:53     ) % (test.__name__, text_repr[0],))\r\n18:04:53 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n18:04:53 \r\n18:04:53 self = <hypothesis.core.StateForActualGivenExecution object at 0x7f47b9e94410>\r\n18:04:53 message = \"Hypothesis test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=t...7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\"\r\n18:04:53 \r\n18:04:53     def __flaky(self, message):\r\n18:04:53         if len(self.falsifying_examples) <= 1:\r\n18:04:53 >           raise Flaky(message)\r\n18:04:53 E           Flaky: Hypothesis test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[]) produces unreliable results: Falsified on the first call but did not on a subsequent one\r\n18:04:53 \r\n18:04:53 ../lib/python2.7/dist-packages/hypothesis/core.py:891: Flaky\r\n18:04:53 ----------------------------- Captured stdout call -----------------------------\r\n18:04:53 Failed. [idx, grad, grad_estimate] are:\r\n18:04:53 [[3.60000000e+01 3.44265044e-01 3.51562500e-01]\r\n18:04:53  [4.90000000e+02 3.62680405e-01 3.71093750e-01]]\r\n18:04:53 ---------------------------------- Hypothesis ----------------------------------\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=1, stride=1, pad=0, kernel=1, dilation=1, size=7, channels=1, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=2, stride=2, pad=0, kernel=5, dilation=2, size=8, channels=8, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=3, pad=1, kernel=2, dilation=1, size=7, channels=3, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=3, pad=1, kernel=3, dilation=3, size=7, channels=5, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=2, stride=2, pad=2, kernel=4, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=0, kernel=2, dilation=1, size=10, channels=5, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=4, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Traceback (most recent call last):\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\r\n18:04:53     result = self.execute(data, collect=True)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\r\n18:04:53     result = self.test_runner(data, run)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\r\n18:04:53     return function(data)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\r\n18:04:53     return test(*args, **kwargs)\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\r\n18:04:53     stride=st.integers(1, 3),\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\r\n18:04:53     result = self.test(*args, **kwargs)\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\r\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\r\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\r\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\r\n18:04:53     raise self.failureException(msg)\r\n18:04:53 AssertionError: Gradient check failed for input X\r\n18:04:53 \r\n18:04:53 Trying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Falsifying example: test_col2im_gradients(self=<caffe2.python.operator_test.im2col_col2im_test.TestReduceFrontSum testMethod=test_col2im_gradients>, batch_size=3, stride=1, pad=2, kernel=5, dilation=1, size=9, channels=7, order=u'NCHW', gc=, dc=[])\r\n18:04:53 Failed to reproduce exception. Expected: \r\n18:04:53 Traceback (most recent call last):\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 689, in evaluate_test_data\r\n18:04:53     result = self.execute(data, collect=True)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 604, in execute\r\n18:04:53     result = self.test_runner(data, run)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/executors.py\", line 58, in default_new_style_executor\r\n18:04:53     return function(data)\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 600, in run\r\n18:04:53     return test(*args, **kwargs)\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 115, in test_col2im_gradients\r\n18:04:53     stride=st.integers(1, 3),\r\n18:04:53   File \"/usr/local/lib/python2.7/dist-packages/hypothesis/core.py\", line 542, in test\r\n18:04:53     result = self.test(*args, **kwargs)\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/operator_test/im2col_col2im_test.py\", line 136, in test_col2im_gradients\r\n18:04:53     self.assertGradientChecks(gc, op, [X], 0, [0])\r\n18:04:53   File \"/usr/local/caffe2/lib/python2.7/dist-packages/caffe2/python/hypothesis_test_util.py\", line 397, in assertGradientChecks\r\n18:04:53     \"Gradient check failed for input \" + str(op.input[outputs_to_check])\r\n18:04:53   File \"/usr/lib/python2.7/unittest/case.py\", line 422, in assertTrue\r\n18:04:53     raise self.failureException(msg)\r\n18:04:53 AssertionError: Gradient check failed for input X\r\n18:04:53 \r\n18:04:53 \r\n18:04:53 You can reproduce this example by temporarily adding @reproduce_failure('3.66.8', 'AAIGAAQCAgMDAA==') as a decorator on your test case\r\n18:04:53  generated xml file: /var/lib/jenkins/workspace/caffe2_tests/python/result.xml -\r\n```\r\n\r\nhttps://ci.pytorch.org/jenkins/job/caffe2-builds/job/py2-gcc5-ubuntu16.04-test/9359//console"}