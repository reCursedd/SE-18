{"url": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196516234", "pull_request_review_id": 130084098, "id": 196516234, "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjUxNjIzNA==", "diff_hunk": "@@ -85,6 +86,12 @@ struct Tensor : public detail::TensorBase {\n   inline Tensor toType(ScalarType t) const;\n   inline Tensor toBackend(Backend b) const;\n \n+  /// New-style `to()` methods.\n+  Tensor to(TensorOptions options, bool non_blocking = false);\n+  Tensor to(ScalarType dtype, bool non_blocking = false);\n+  Tensor to(Layout layout, bool non_blocking = false);\n+  Tensor to(Device device, bool non_blocking = false);", "path": "aten/src/ATen/templates/Tensor.h", "position": null, "original_position": 16, "commit_id": "263a16b0ca61f55e33019d2781f4485c2322fe0f", "original_commit_id": "7fa96ac2f35cf3eaccc915ce27c1e061051a9de9", "user": {"login": "goldsborough", "id": 6429851, "node_id": "MDQ6VXNlcjY0Mjk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6429851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldsborough", "html_url": "https://github.com/goldsborough", "followers_url": "https://api.github.com/users/goldsborough/followers", "following_url": "https://api.github.com/users/goldsborough/following{/other_user}", "gists_url": "https://api.github.com/users/goldsborough/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldsborough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldsborough/subscriptions", "organizations_url": "https://api.github.com/users/goldsborough/orgs", "repos_url": "https://api.github.com/users/goldsborough/repos", "events_url": "https://api.github.com/users/goldsborough/events{/privacy}", "received_events_url": "https://api.github.com/users/goldsborough/received_events", "type": "User", "site_admin": false}, "body": "@gchanan the semantics here are for e.g. `dtype()` that first `TensorOptions(*this)` (or `this->options()` when it's out) is constructed, which will copy all the options from `this`, and then *only* the `dtype` property is changed. The one taking `TensorOptions` is when you want to change *all* options.\r\n\r\n@SsnL I guess that would be equivalent to `tensor.to(tensor.options().device(...).dtype(...))`. I think the general one here is fine", "created_at": "2018-06-19T17:38:07Z", "updated_at": "2018-11-23T15:45:47Z", "html_url": "https://github.com/pytorch/pytorch/pull/8643#discussion_r196516234", "pull_request_url": "https://api.github.com/repos/pytorch/pytorch/pulls/8643", "author_association": "CONTRIBUTOR", "_links": {"self": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/comments/196516234"}, "html": {"href": "https://github.com/pytorch/pytorch/pull/8643#discussion_r196516234"}, "pull_request": {"href": "https://api.github.com/repos/pytorch/pytorch/pulls/8643"}}, "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=3768583\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/gchanan\">@gchanan</a> the semantics here are for e.g. <code>dtype()</code> that first <code>TensorOptions(*this)</code> (or <code>this-&gt;options()</code> when it's out) is constructed, which will copy all the options from <code>this</code>, and then <em>only</em> the <code>dtype</code> property is changed. The one taking <code>TensorOptions</code> is when you want to change <em>all</em> options.</p>\n<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=5674597\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SsnL\">@SsnL</a> I guess that would be equivalent to <code>tensor.to(tensor.options().device(...).dtype(...))</code>. I think the general one here is fine</p>", "body_text": "@gchanan the semantics here are for e.g. dtype() that first TensorOptions(*this) (or this->options() when it's out) is constructed, which will copy all the options from this, and then only the dtype property is changed. The one taking TensorOptions is when you want to change all options.\n@SsnL I guess that would be equivalent to tensor.to(tensor.options().device(...).dtype(...)). I think the general one here is fine", "in_reply_to_id": 196435325}