{"url": "https://api.github.com/repos/pytorch/pytorch/issues/comments/285254784", "html_url": "https://github.com/pytorch/pytorch/issues/958#issuecomment-285254784", "issue_url": "https://api.github.com/repos/pytorch/pytorch/issues/958", "id": 285254784, "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTI1NDc4NA==", "user": {"login": "BinbinBian", "id": 12493662, "node_id": "MDQ6VXNlcjEyNDkzNjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/12493662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BinbinBian", "html_url": "https://github.com/BinbinBian", "followers_url": "https://api.github.com/users/BinbinBian/followers", "following_url": "https://api.github.com/users/BinbinBian/following{/other_user}", "gists_url": "https://api.github.com/users/BinbinBian/gists{/gist_id}", "starred_url": "https://api.github.com/users/BinbinBian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BinbinBian/subscriptions", "organizations_url": "https://api.github.com/users/BinbinBian/orgs", "repos_url": "https://api.github.com/users/BinbinBian/repos", "events_url": "https://api.github.com/users/BinbinBian/events{/privacy}", "received_events_url": "https://api.github.com/users/BinbinBian/received_events", "type": "User", "site_admin": false}, "created_at": "2017-03-09T04:56:55Z", "updated_at": "2018-01-28T01:29:09Z", "author_association": "NONE", "body_html": "<p><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/hovercards?user_id=4583066\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/apaszke\">@apaszke</a><br>\nI just write a simple test code like follows,and it occurs the error 'out of memory .....',the test  input data dimension is 49200.<br>\nbut when i tried a lower data dimention  from 49200 to 1000,the code runs ok.<br>\nIs there any setup of parameters  in pytorch that i have to change?</p>\n<pre><code>class Net(nn.Module):\n\tdef __init__(self):\n\t\tsuper(Net, self).__init__()\n\t\tself.dropout = nn.Dropout(p=0.2)\n\t\tself.relu = nn.ReLU()\n\t\tself.fc1 = nn.Linear(49200, 49200)\n\t\tself.fc2 = nn.Linear(49200, 49200)\n\t\tself.fc3 = nn.Linear(49200, 3)\n\t\tself.out = nn.Sequential(\n\t\t\tself.fc1,\n\t\t\tself.relu,\n\t\t\tself.dropout,\n\t\t\tself.fc1,\n\t\t\tself.relu,\n\t\t\tself.dropout,\n\t \t\tself.fc3\n\t\t\t)\n\tdef forward(self, premise, hypothesis):\n\t\treturn self.out(torch.cat([premise, hypothesis], 1))\n\nnet = Net().cuda()\nprint (net)\npremise = Variable(torch.randn(64, 82, 300))\nhypothesis = Variable(torch.randn(64, 82, 300))\npremise = premise.cuda()\nhypothesis = hypothesis.cuda()\nout = net(premise.contiguous().view(64,-1), hypothesis.contiguous().view(64,-1))\nprint(out)\n</code></pre>", "body_text": "@apaszke\nI just write a simple test code like follows,and it occurs the error 'out of memory .....',the test  input data dimension is 49200.\nbut when i tried a lower data dimention  from 49200 to 1000,the code runs ok.\nIs there any setup of parameters  in pytorch that i have to change?\nclass Net(nn.Module):\n\tdef __init__(self):\n\t\tsuper(Net, self).__init__()\n\t\tself.dropout = nn.Dropout(p=0.2)\n\t\tself.relu = nn.ReLU()\n\t\tself.fc1 = nn.Linear(49200, 49200)\n\t\tself.fc2 = nn.Linear(49200, 49200)\n\t\tself.fc3 = nn.Linear(49200, 3)\n\t\tself.out = nn.Sequential(\n\t\t\tself.fc1,\n\t\t\tself.relu,\n\t\t\tself.dropout,\n\t\t\tself.fc1,\n\t\t\tself.relu,\n\t\t\tself.dropout,\n\t \t\tself.fc3\n\t\t\t)\n\tdef forward(self, premise, hypothesis):\n\t\treturn self.out(torch.cat([premise, hypothesis], 1))\n\nnet = Net().cuda()\nprint (net)\npremise = Variable(torch.randn(64, 82, 300))\nhypothesis = Variable(torch.randn(64, 82, 300))\npremise = premise.cuda()\nhypothesis = hypothesis.cuda()\nout = net(premise.contiguous().view(64,-1), hypothesis.contiguous().view(64,-1))\nprint(out)", "body": "@apaszke \r\nI just write a simple test code like follows,and it occurs the error 'out of memory .....',the test  input data dimension is 49200.\r\nbut when i tried a lower data dimention  from 49200 to 1000,the code runs ok.\r\nIs there any setup of parameters  in pytorch that i have to change?\r\n\r\n```\r\nclass Net(nn.Module):\r\n\tdef __init__(self):\r\n\t\tsuper(Net, self).__init__()\r\n\t\tself.dropout = nn.Dropout(p=0.2)\r\n\t\tself.relu = nn.ReLU()\r\n\t\tself.fc1 = nn.Linear(49200, 49200)\r\n\t\tself.fc2 = nn.Linear(49200, 49200)\r\n\t\tself.fc3 = nn.Linear(49200, 3)\r\n\t\tself.out = nn.Sequential(\r\n\t\t\tself.fc1,\r\n\t\t\tself.relu,\r\n\t\t\tself.dropout,\r\n\t\t\tself.fc1,\r\n\t\t\tself.relu,\r\n\t\t\tself.dropout,\r\n\t \t\tself.fc3\r\n\t\t\t)\r\n\tdef forward(self, premise, hypothesis):\r\n\t\treturn self.out(torch.cat([premise, hypothesis], 1))\r\n\r\nnet = Net().cuda()\r\nprint (net)\r\npremise = Variable(torch.randn(64, 82, 300))\r\nhypothesis = Variable(torch.randn(64, 82, 300))\r\npremise = premise.cuda()\r\nhypothesis = hypothesis.cuda()\r\nout = net(premise.contiguous().view(64,-1), hypothesis.contiguous().view(64,-1))\r\nprint(out)\r\n```"}