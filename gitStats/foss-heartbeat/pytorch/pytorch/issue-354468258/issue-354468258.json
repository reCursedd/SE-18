{"url": "https://api.github.com/repos/pytorch/pytorch/issues/10913", "repository_url": "https://api.github.com/repos/pytorch/pytorch", "labels_url": "https://api.github.com/repos/pytorch/pytorch/issues/10913/labels{/name}", "comments_url": "https://api.github.com/repos/pytorch/pytorch/issues/10913/comments", "events_url": "https://api.github.com/repos/pytorch/pytorch/issues/10913/events", "html_url": "https://github.com/pytorch/pytorch/issues/10913", "id": 354468258, "node_id": "MDU6SXNzdWUzNTQ0NjgyNTg=", "number": 10913, "title": "Cannot find operator schema for 'ATen' Caffe2 Ios", "user": {"login": "Dhruv-Mohan", "id": 11293826, "node_id": "MDQ6VXNlcjExMjkzODI2", "avatar_url": "https://avatars2.githubusercontent.com/u/11293826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhruv-Mohan", "html_url": "https://github.com/Dhruv-Mohan", "followers_url": "https://api.github.com/users/Dhruv-Mohan/followers", "following_url": "https://api.github.com/users/Dhruv-Mohan/following{/other_user}", "gists_url": "https://api.github.com/users/Dhruv-Mohan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhruv-Mohan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhruv-Mohan/subscriptions", "organizations_url": "https://api.github.com/users/Dhruv-Mohan/orgs", "repos_url": "https://api.github.com/users/Dhruv-Mohan/repos", "events_url": "https://api.github.com/users/Dhruv-Mohan/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhruv-Mohan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-27T20:35:24Z", "updated_at": "2018-08-27T20:44:46Z", "closed_at": null, "author_association": "NONE", "body_html": "<h2>Issue description</h2>\n<p>Running a network with ATen ops on caffe2 built for Ios results in the following error message</p>\n<h2>Error Message</h2>\n<pre><code>[E operator.cc:140] Cannot find operator schema for ATen. Will skip schema checking.\nlibc++abi.dylib: terminating with uncaught exception of type at::Error: [enforce fail at operator.cc:209] op.\nCannot create operator of type 'ATen' on the device 'CPU'. Verify that implementation for the corresponding device exist.\nIt might also happen if the binary is not linked with the operator implementation code.\nIf Python frontend is used it might happen if dyndep.InitOpsLibrary call is missing.\nOperator def: input: \"150\" output: \"151\" output: \"152\" name: \"\" type: \"ATen\" arg { name: \"dim\" i: 1 } arg { name: \"keepdim\" i: 0 } arg { name: \"operator\" s: \"max\" } device_option { device_type: 0 cuda_gpu_id: 0 }\n</code></pre>\n<h2>System Info</h2>\n<ul>\n<li>Caffe2</li>\n<li>Installed from Source (<a href=\"https://caffe2.ai/docs/getting-started.html?platform=ios&amp;configuration=compile\" rel=\"nofollow\">Instructions followed</a>)</li>\n<li>Additional build command: -DBUILD_ATEN_MOBILE=ON</li>\n<li>OS: macOS 10.13.6</li>\n<li>CMake version: 3.12.1</li>\n</ul>\n<h2>More Information</h2>\n<p>The model was written and trained in pytorch. The onnx export file and init_net.pb as well as predict_net.pb files were generated by following the <a href=\"https://pytorch.org/tutorials/advanced/super_resolution_with_caffe2.html#transfering-a-model-from-pytorch-to-caffe2-and-mobile-using-onnx\" rel=\"nofollow\">Transfering a model from PyTorch to Caffe2 and Mobile using ONNX</a> tutorial<br>\nSuperresolution Net and Squeeze Net both execute without fail. The error message mentions linking the operator implementation code. I'm not sure how to go about that in my XCode project</p>", "body_text": "Issue description\nRunning a network with ATen ops on caffe2 built for Ios results in the following error message\nError Message\n[E operator.cc:140] Cannot find operator schema for ATen. Will skip schema checking.\nlibc++abi.dylib: terminating with uncaught exception of type at::Error: [enforce fail at operator.cc:209] op.\nCannot create operator of type 'ATen' on the device 'CPU'. Verify that implementation for the corresponding device exist.\nIt might also happen if the binary is not linked with the operator implementation code.\nIf Python frontend is used it might happen if dyndep.InitOpsLibrary call is missing.\nOperator def: input: \"150\" output: \"151\" output: \"152\" name: \"\" type: \"ATen\" arg { name: \"dim\" i: 1 } arg { name: \"keepdim\" i: 0 } arg { name: \"operator\" s: \"max\" } device_option { device_type: 0 cuda_gpu_id: 0 }\n\nSystem Info\n\nCaffe2\nInstalled from Source (Instructions followed)\nAdditional build command: -DBUILD_ATEN_MOBILE=ON\nOS: macOS 10.13.6\nCMake version: 3.12.1\n\nMore Information\nThe model was written and trained in pytorch. The onnx export file and init_net.pb as well as predict_net.pb files were generated by following the Transfering a model from PyTorch to Caffe2 and Mobile using ONNX tutorial\nSuperresolution Net and Squeeze Net both execute without fail. The error message mentions linking the operator implementation code. I'm not sure how to go about that in my XCode project", "body": "## Issue description\r\nRunning a network with ATen ops on caffe2 built for Ios results in the following error message\r\n\r\n## Error Message\r\n\r\n```\r\n[E operator.cc:140] Cannot find operator schema for ATen. Will skip schema checking.\r\nlibc++abi.dylib: terminating with uncaught exception of type at::Error: [enforce fail at operator.cc:209] op.\r\nCannot create operator of type 'ATen' on the device 'CPU'. Verify that implementation for the corresponding device exist.\r\nIt might also happen if the binary is not linked with the operator implementation code.\r\nIf Python frontend is used it might happen if dyndep.InitOpsLibrary call is missing.\r\nOperator def: input: \"150\" output: \"151\" output: \"152\" name: \"\" type: \"ATen\" arg { name: \"dim\" i: 1 } arg { name: \"keepdim\" i: 0 } arg { name: \"operator\" s: \"max\" } device_option { device_type: 0 cuda_gpu_id: 0 }\r\n```\r\n\r\n## System Info\r\n- Caffe2\r\n- Installed from Source ([Instructions followed](https://caffe2.ai/docs/getting-started.html?platform=ios&configuration=compile))\r\n- Additional build command: -DBUILD_ATEN_MOBILE=ON\r\n- OS: macOS 10.13.6 \r\n- CMake version: 3.12.1\r\n\r\n## More Information\r\nThe model was written and trained in pytorch. The onnx export file and init_net.pb as well as predict_net.pb files were generated by following the [Transfering a model from PyTorch to Caffe2 and Mobile using ONNX](https://pytorch.org/tutorials/advanced/super_resolution_with_caffe2.html#transfering-a-model-from-pytorch-to-caffe2-and-mobile-using-onnx) tutorial\r\nSuperresolution Net and Squeeze Net both execute without fail. The error message mentions linking the operator implementation code. I'm not sure how to go about that in my XCode project\r\n\r\n"}